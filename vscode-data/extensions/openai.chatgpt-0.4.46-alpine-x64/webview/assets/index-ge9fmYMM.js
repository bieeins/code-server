const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./angular-html-CU67Zn6k.js","./html-GMplVEZG.js","./javascript-wDzz0qaB.js","./css-DPfMkruS.js","./angular-ts-BwZT4LLn.js","./scss-OYdSNvt2.js","./apl-dKokRX4l.js","./xml-sdJ4AIDG.js","./java-CylS5w8V.js","./json-Cp-IABpG.js","./astro-CbQHKStN.js","./typescript-BPQ3VLAy.js","./postcss-CXtECtnM.js","./tsx-COt5Ahok.js","./blade-DVc8C-J4.js","./html-derivative-BFtXZ54Q.js","./sql-BLtJtn59.js","./bsl-BO_Y6i37.js","./sdbl-DVxCFoDh.js","./cairo-KRGpt6FW.js","./python-B6aJPvgy.js","./cobol-nwyudZeR.js","./coffee-Ch7k5sss.js","./cpp-CofmeUqb.js","./regexp-CDVJQ6XC.js","./glsl-DplSGwfg.js","./c-BIGW1oBm.js","./crystal-tKQVLTB8.js","./shellscript-Yzrsuije.js","./edge-BkV0erSs.js","./elixir-CDX3lj18.js","./elm-DbKCFpqz.js","./erb-BOJIQeun.js","./ruby-BvKwtOVI.js","./haml-B8DHNrY2.js","./graphql-ChdNCCLP.js","./jsx-g9-lgVsj.js","./lua-BbnMAYS6.js","./yaml-Buea-lGh.js","./erlang-DsQrWhSR.js","./markdown-Cvjx9yec.js","./fortran-fixed-form-BZjJHVRy.js","./fortran-free-form-D22FLkUw.js","./fsharp-CXgrBDvD.js","./gdresource-B7Tvp0Sc.js","./gdshader-DkwncUOv.js","./gdscript-DTMYz4Jt.js","./git-commit-F4YmCXRG.js","./diff-D97Zzqfu.js","./git-rebase-r7XF79zn.js","./glimmer-js-Rg0-pVw9.js","./glimmer-ts-U6CK756n.js","./hack-CaT9iCJl.js","./handlebars-BL8al0AC.js","./http-jrhK8wxY.js","./hurl-irOxFIW8.js","./csv-fuZLfV_i.js","./hxml-Bvhsp5Yf.js","./haxe-CzTSHFRz.js","./jinja-4LBKfQ-Z.js","./jison-wvAkD_A8.js","./julia-C8NyazO9.js","./r-DiinP2Uv.js","./latex-BUKiar2Z.js","./tex-Cppo0RY3.js","./liquid-DYVedYrR.js","./marko-CPi9NSCl.js","./less-B1dDrJ26.js","./mdc-DUICxH0z.js","./nginx-DknmC5AR.js","./nim-CVrawwO9.js","./perl-C0TMdlhV.js","./php-CDn_0X-4.js","./pug-CGlum2m_.js","./qml-3beO22l8.js","./razor-WgofotgN.js","./csharp-CX12Zw3r.js","./rst-B0xPkSld.js","./cmake-D1j8_8rp.js","./sas-cz2c8ADy.js","./shaderlab-Dg9Lc6iA.js","./hlsl-D3lLCCz7.js","./shellsession-BADoaaVG.js","./soy-Brmx7dQM.js","./sparql-rVzFXLq3.js","./turtle-BsS91CYL.js","./stata-BH5u7GGu.js","./svelte-3Dk4HxPD.js","./templ-W15q3VgB.js","./go-Dn2_MT6a.js","./ts-tags-zn1MmPIZ.js","./twig-CO9l9SDP.js","./vue-CCoi5OLL.js","./vue-html-DAAvJJDi.js","./vue-vine-_Ih-lPRR.js","./stylus-BEDo0Tqx.js","./xsl-CtQFsRM5.js","./dagre-6UL2VRFP-DFMgsqQx.js","./graph-CPbXEhhj.js","./_baseUniq-DLzkEc-X.js","./layout-BA9w1gVb.js","./_basePickBy-CXmUJxSR.js","./clone-C8uiEHE2.js","./cose-bilkent-S5V4N54A-DBcyfv9h.js","./cytoscape.esm-DtBltrT8.js","./c4Diagram-YG6GDRKO-B3XKfzPO.js","./chunk-TZMSLE5B-OKUGd3pr.js","./flowDiagram-NV44I4VS-DKEHsifo.js","./chunk-FMBD7UC4-CAktHtlg.js","./chunk-55IACEB6-DUT4CCrJ.js","./chunk-QN33PNHL-BHPfolPy.js","./channel-DP9pGBYk.js","./erDiagram-Q2GNP2WA-1t6LFuqi.js","./gitGraphDiagram-NY62KEGX-D4TE2ZsE.js","./chunk-4BX2VUAB-WAUL3YUp.js","./chunk-QZHKN3VN-Bn3JevCU.js","./treemap-KMMF4GRG-7lo3D-9V.js","./ganttDiagram-LVOFAZNH-QBSt4V0H.js","./linear-B1tebKN0.js","./init-Gi6I4Gst.js","./defaultLocale-C4B-KCzX.js","./infoDiagram-F6ZHWCRC-D_9lmyyi.js","./pieDiagram-ADFJNKIX-CJJKoAyb.js","./arc-DifqcrVu.js","./ordinal-Cboi1Yqb.js","./quadrantDiagram-AYHSOK5B-B_qEMvhL.js","./xychartDiagram-PRI3JC2R-BYmOJmk_.js","./requirementDiagram-UZGBJVZJ-B-I5dvy6.js","./sequenceDiagram-WL72ISMW-B3RMbukn.js","./classDiagram-2ON5EDUG-CwGzo9tM.js","./chunk-B4BG7PRW-DbZdNWl7.js","./classDiagram-v2-WZHVMYZB-CwGzo9tM.js","./stateDiagram-FKZM4ZOC-DtSld5Ed.js","./chunk-DI55MBZ5-B9z54WvE.js","./stateDiagram-v2-4FDKWEC3-vVgYPzIz.js","./journeyDiagram-XKPGCS4Q-4tS17qHF.js","./timeline-definition-IT6M3QCI-DIi4L9NN.js","./mindmap-definition-VGOIOE7T-BdoNlQYS.js","./kanban-definition-3W4ZIXB7-BOTvLP6d.js","./sankeyDiagram-TZEHDZUN-CT3hE28k.js","./diagram-S2PKOQOG-I-ALrjol.js","./diagram-QEK2KX5R-C7hqUM_F.js","./blockDiagram-VD42YOAC-C2f4sJJM.js","./architectureDiagram-VXUJARFQ-CXQgM991.js","./diagram-PSM6KHXK-DfGS7rKK.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(Ye,rt){for(var it=0;it<rt.length;it++){const lt=rt[it];if(typeof lt!="string"&&!Array.isArray(lt)){for(const ct in lt)if(ct!=="default"&&!(ct in Ye)){const ut=Object.getOwnPropertyDescriptor(lt,ct);ut&&Object.defineProperty(Ye,ct,ut.get?ut:{enumerable:!0,get:()=>lt[ct]})}}}return Object.freeze(Object.defineProperty(Ye,Symbol.toStringTag,{value:"Module"}))}(function(){const rt=document.createElement("link").relList;if(rt&&rt.supports&&rt.supports("modulepreload"))return;for(const ct of document.querySelectorAll('link[rel="modulepreload"]'))lt(ct);new MutationObserver(ct=>{for(const ut of ct)if(ut.type==="childList")for(const ht of ut.addedNodes)ht.tagName==="LINK"&&ht.rel==="modulepreload"&&lt(ht)}).observe(document,{childList:!0,subtree:!0});function it(ct){const ut={};return ct.integrity&&(ut.integrity=ct.integrity),ct.referrerPolicy&&(ut.referrerPolicy=ct.referrerPolicy),ct.crossOrigin==="use-credentials"?ut.credentials="include":ct.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function lt(ct){if(ct.ep)return;ct.ep=!0;const ut=it(ct);fetch(ct.href,ut)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ye){return Ye&&Ye.__esModule&&Object.prototype.hasOwnProperty.call(Ye,"default")?Ye.default:Ye}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ye=Symbol.for("react.transitional.element"),rt=Symbol.for("react.fragment");function it(lt,ct,ut){var ht=null;if(ut!==void 0&&(ht=""+ut),ct.key!==void 0&&(ht=""+ct.key),"key"in ct){ut={};for(var ft in ct)ft!=="key"&&(ut[ft]=ct[ft])}else ut=ct;return ct=ut.ref,{$$typeof:Ye,type:lt,key:ht,ref:ct!==void 0?ct:null,props:ut}}return reactJsxRuntime_production.Fragment=rt,reactJsxRuntime_production.jsx=it,reactJsxRuntime_production.jsxs=it,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();const gradientBackground=""+new URL("gradient-D1p7SjHY.png",import.meta.url).href;var react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ye=Symbol.for("react.transitional.element"),rt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),lt=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),mt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),xt=Symbol.iterator;function bt(Ht){return Ht===null||typeof Ht!="object"?null:(Ht=xt&&Ht[xt]||Ht["@@iterator"],typeof Ht=="function"?Ht:null)}var _t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ct=Object.assign,kt={};function St(Ht,Xt,Bt){this.props=Ht,this.context=Xt,this.refs=kt,this.updater=Bt||_t}St.prototype.isReactComponent={},St.prototype.setState=function(Ht,Xt){if(typeof Ht!="object"&&typeof Ht!="function"&&Ht!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ht,Xt,"setState")},St.prototype.forceUpdate=function(Ht){this.updater.enqueueForceUpdate(this,Ht,"forceUpdate")};function Rt(){}Rt.prototype=St.prototype;function Tt(Ht,Xt,Bt){this.props=Ht,this.context=Xt,this.refs=kt,this.updater=Bt||_t}var Mt=Tt.prototype=new Rt;Mt.constructor=Tt,Ct(Mt,St.prototype),Mt.isPureReactComponent=!0;var Pt=Array.isArray;function It(){}var Lt={H:null,A:null,T:null,S:null},Ot=Object.prototype.hasOwnProperty;function Ft(Ht,Xt,Bt){var nr=Bt.ref;return{$$typeof:Ye,type:Ht,key:Xt,ref:nr!==void 0?nr:null,props:Bt}}function Ut(Ht,Xt){return Ft(Ht.type,Xt,Ht.props)}function Wt(Ht){return typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Ye}function Kt(Ht){var Xt={"=":"=0",":":"=2"};return"$"+Ht.replace(/[=:]/g,function(Bt){return Xt[Bt]})}var Qt=/\/+/g;function Zt(Ht,Xt){return typeof Ht=="object"&&Ht!==null&&Ht.key!=null?Kt(""+Ht.key):Xt.toString(36)}function Vt(Ht){switch(Ht.status){case"fulfilled":return Ht.value;case"rejected":throw Ht.reason;default:switch(typeof Ht.status=="string"?Ht.then(It,It):(Ht.status="pending",Ht.then(function(Xt){Ht.status==="pending"&&(Ht.status="fulfilled",Ht.value=Xt)},function(Xt){Ht.status==="pending"&&(Ht.status="rejected",Ht.reason=Xt)})),Ht.status){case"fulfilled":return Ht.value;case"rejected":throw Ht.reason}}throw Ht}function $t(Ht,Xt,Bt,nr,rr){var Jt=typeof Ht;(Jt==="undefined"||Jt==="boolean")&&(Ht=null);var ir=!1;if(Ht===null)ir=!0;else switch(Jt){case"bigint":case"string":case"number":ir=!0;break;case"object":switch(Ht.$$typeof){case Ye:case rt:ir=!0;break;case gt:return ir=Ht._init,$t(ir(Ht._payload),Xt,Bt,nr,rr)}}if(ir)return rr=rr(Ht),ir=nr===""?"."+Zt(Ht,0):nr,Pt(rr)?(Bt="",ir!=null&&(Bt=ir.replace(Qt,"$&/")+"/"),$t(rr,Xt,Bt,"",function(dr){return dr})):rr!=null&&(Wt(rr)&&(rr=Ut(rr,Bt+(rr.key==null||Ht&&Ht.key===rr.key?"":(""+rr.key).replace(Qt,"$&/")+"/")+ir)),Xt.push(rr)),1;ir=0;var ar=nr===""?".":nr+":";if(Pt(Ht))for(var cr=0;cr<Ht.length;cr++)nr=Ht[cr],Jt=ar+Zt(nr,cr),ir+=$t(nr,Xt,Bt,Jt,rr);else if(cr=bt(Ht),typeof cr=="function")for(Ht=cr.call(Ht),cr=0;!(nr=Ht.next()).done;)nr=nr.value,Jt=ar+Zt(nr,cr++),ir+=$t(nr,Xt,Bt,Jt,rr);else if(Jt==="object"){if(typeof Ht.then=="function")return $t(Vt(Ht),Xt,Bt,nr,rr);throw Xt=String(Ht),Error("Objects are not valid as a React child (found: "+(Xt==="[object Object]"?"object with keys {"+Object.keys(Ht).join(", ")+"}":Xt)+"). If you meant to render a collection of children, use an array instead.")}return ir}function zt(Ht,Xt,Bt){if(Ht==null)return Ht;var nr=[],rr=0;return $t(Ht,nr,"","",function(Jt){return Xt.call(Bt,Jt,rr++)}),nr}function Nt(Ht){if(Ht._status===-1){var Xt=Ht._result;Xt=Xt(),Xt.then(function(Bt){(Ht._status===0||Ht._status===-1)&&(Ht._status=1,Ht._result=Bt)},function(Bt){(Ht._status===0||Ht._status===-1)&&(Ht._status=2,Ht._result=Bt)}),Ht._status===-1&&(Ht._status=0,Ht._result=Xt)}if(Ht._status===1)return Ht._result.default;throw Ht._result}var qt=typeof reportError=="function"?reportError:function(Ht){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Xt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ht=="object"&&Ht!==null&&typeof Ht.message=="string"?String(Ht.message):String(Ht),error:Ht});if(!window.dispatchEvent(Xt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ht);return}console.error(Ht)},Gt={map:zt,forEach:function(Ht,Xt,Bt){zt(Ht,function(){Xt.apply(this,arguments)},Bt)},count:function(Ht){var Xt=0;return zt(Ht,function(){Xt++}),Xt},toArray:function(Ht){return zt(Ht,function(Xt){return Xt})||[]},only:function(Ht){if(!Wt(Ht))throw Error("React.Children.only expected to receive a single React element child.");return Ht}};return react_production.Activity=yt,react_production.Children=Gt,react_production.Component=St,react_production.Fragment=it,react_production.Profiler=ct,react_production.PureComponent=Tt,react_production.StrictMode=lt,react_production.Suspense=pt,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Lt,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Ht){return Lt.H.useMemoCache(Ht)}},react_production.cache=function(Ht){return function(){return Ht.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Ht,Xt,Bt){if(Ht==null)throw Error("The argument must be a React element, but you passed "+Ht+".");var nr=Ct({},Ht.props),rr=Ht.key;if(Xt!=null)for(Jt in Xt.key!==void 0&&(rr=""+Xt.key),Xt)!Ot.call(Xt,Jt)||Jt==="key"||Jt==="__self"||Jt==="__source"||Jt==="ref"&&Xt.ref===void 0||(nr[Jt]=Xt[Jt]);var Jt=arguments.length-2;if(Jt===1)nr.children=Bt;else if(1<Jt){for(var ir=Array(Jt),ar=0;ar<Jt;ar++)ir[ar]=arguments[ar+2];nr.children=ir}return Ft(Ht.type,rr,nr)},react_production.createContext=function(Ht){return Ht={$$typeof:ht,_currentValue:Ht,_currentValue2:Ht,_threadCount:0,Provider:null,Consumer:null},Ht.Provider=Ht,Ht.Consumer={$$typeof:ut,_context:Ht},Ht},react_production.createElement=function(Ht,Xt,Bt){var nr,rr={},Jt=null;if(Xt!=null)for(nr in Xt.key!==void 0&&(Jt=""+Xt.key),Xt)Ot.call(Xt,nr)&&nr!=="key"&&nr!=="__self"&&nr!=="__source"&&(rr[nr]=Xt[nr]);var ir=arguments.length-2;if(ir===1)rr.children=Bt;else if(1<ir){for(var ar=Array(ir),cr=0;cr<ir;cr++)ar[cr]=arguments[cr+2];rr.children=ar}if(Ht&&Ht.defaultProps)for(nr in ir=Ht.defaultProps,ir)rr[nr]===void 0&&(rr[nr]=ir[nr]);return Ft(Ht,Jt,rr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Ht){return{$$typeof:ft,render:Ht}},react_production.isValidElement=Wt,react_production.lazy=function(Ht){return{$$typeof:gt,_payload:{_status:-1,_result:Ht},_init:Nt}},react_production.memo=function(Ht,Xt){return{$$typeof:mt,type:Ht,compare:Xt===void 0?null:Xt}},react_production.startTransition=function(Ht){var Xt=Lt.T,Bt={};Lt.T=Bt;try{var nr=Ht(),rr=Lt.S;rr!==null&&rr(Bt,nr),typeof nr=="object"&&nr!==null&&typeof nr.then=="function"&&nr.then(It,qt)}catch(Jt){qt(Jt)}finally{Xt!==null&&Bt.types!==null&&(Xt.types=Bt.types),Lt.T=Xt}},react_production.unstable_useCacheRefresh=function(){return Lt.H.useCacheRefresh()},react_production.use=function(Ht){return Lt.H.use(Ht)},react_production.useActionState=function(Ht,Xt,Bt){return Lt.H.useActionState(Ht,Xt,Bt)},react_production.useCallback=function(Ht,Xt){return Lt.H.useCallback(Ht,Xt)},react_production.useContext=function(Ht){return Lt.H.useContext(Ht)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Ht,Xt){return Lt.H.useDeferredValue(Ht,Xt)},react_production.useEffect=function(Ht,Xt){return Lt.H.useEffect(Ht,Xt)},react_production.useEffectEvent=function(Ht){return Lt.H.useEffectEvent(Ht)},react_production.useId=function(){return Lt.H.useId()},react_production.useImperativeHandle=function(Ht,Xt,Bt){return Lt.H.useImperativeHandle(Ht,Xt,Bt)},react_production.useInsertionEffect=function(Ht,Xt){return Lt.H.useInsertionEffect(Ht,Xt)},react_production.useLayoutEffect=function(Ht,Xt){return Lt.H.useLayoutEffect(Ht,Xt)},react_production.useMemo=function(Ht,Xt){return Lt.H.useMemo(Ht,Xt)},react_production.useOptimistic=function(Ht,Xt){return Lt.H.useOptimistic(Ht,Xt)},react_production.useReducer=function(Ht,Xt,Bt){return Lt.H.useReducer(Ht,Xt,Bt)},react_production.useRef=function(Ht){return Lt.H.useRef(Ht)},react_production.useState=function(Ht){return Lt.H.useState(Ht)},react_production.useSyncExternalStore=function(Ht,Xt,Bt){return Lt.H.useSyncExternalStore(Ht,Xt,Bt)},react_production.useTransition=function(){return Lt.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]),AuthContext=reactExports.createContext(void 0),AuthNonceContext=reactExports.createContext(null);function useAuth(){const Ye=reactExports.useContext(AuthContext);if(!Ye)throw new Error("useAuth must be used within AuthProvider");return Ye}function useUpdateAuthNonce(){const Ye=reactExports.useContext(AuthNonceContext);if(!Ye)throw new Error("useUpdateAuthNonce must be used within AuthStateNonceProvider");return Ye}const SvgSpinner=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1ZM10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",style:{maskImage:"conic-gradient(from 0deg, transparent 0deg, black 360deg)",maskMode:"alpha",maskSize:"contain"}}));function r$4(Ye){var rt,it,lt="";if(typeof Ye=="string"||typeof Ye=="number")lt+=Ye;else if(typeof Ye=="object")if(Array.isArray(Ye)){var ct=Ye.length;for(rt=0;rt<ct;rt++)Ye[rt]&&(it=r$4(Ye[rt]))&&(lt&&(lt+=" "),lt+=it)}else for(it in Ye)Ye[it]&&(lt&&(lt+=" "),lt+=it);return lt}function clsx(){for(var Ye,rt,it=0,lt="",ct=arguments.length;it<ct;it++)(Ye=arguments[it])&&(rt=r$4(Ye))&&(lt&&(lt+=" "),lt+=rt);return lt}const LayoutGroupContext=reactExports.createContext({});function useConstant(Ye){const rt=reactExports.useRef(null);return rt.current===null&&(rt.current=Ye()),rt.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$3=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(Ye,rt){Ye.indexOf(rt)===-1&&Ye.push(rt)}function removeItem(Ye,rt){const it=Ye.indexOf(rt);it>-1&&Ye.splice(it,1)}const clamp$1=(Ye,rt,it)=>it>rt?rt:it<Ye?Ye:it;let invariant$3=()=>{};const MotionGlobalConfig={},isNumericalString=Ye=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(Ye);function isObject$6(Ye){return typeof Ye=="object"&&Ye!==null}const isZeroValueString=Ye=>/^0[^.\s]+$/u.test(Ye);function memo(Ye){let rt;return()=>(rt===void 0&&(rt=Ye()),rt)}const noop$5=Ye=>Ye,combineFunctions=(Ye,rt)=>it=>rt(Ye(it)),pipe$1=(...Ye)=>Ye.reduce(combineFunctions),progress=(Ye,rt,it)=>{const lt=rt-Ye;return lt===0?1:(it-Ye)/lt};class SubscriptionManager{constructor(){this.subscriptions=[]}add(rt){return addUniqueItem(this.subscriptions,rt),()=>removeItem(this.subscriptions,rt)}notify(rt,it,lt){const ct=this.subscriptions.length;if(ct)if(ct===1)this.subscriptions[0](rt,it,lt);else for(let ut=0;ut<ct;ut++){const ht=this.subscriptions[ut];ht&&ht(rt,it,lt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=Ye=>Ye*1e3,millisecondsToSeconds=Ye=>Ye/1e3;function velocityPerSecond(Ye,rt){return rt?Ye*(1e3/rt):0}const calcBezier=(Ye,rt,it)=>(((1-3*it+3*rt)*Ye+(3*it-6*rt))*Ye+3*rt)*Ye,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Ye,rt,it,lt,ct){let ut,ht,ft=0;do ht=rt+(it-rt)/2,ut=calcBezier(ht,lt,ct)-Ye,ut>0?it=ht:rt=ht;while(Math.abs(ut)>subdivisionPrecision&&++ft<subdivisionMaxIterations);return ht}function cubicBezier(Ye,rt,it,lt){if(Ye===rt&&it===lt)return noop$5;const ct=ut=>binarySubdivide(ut,0,1,Ye,it);return ut=>ut===0||ut===1?ut:calcBezier(ct(ut),rt,lt)}const mirrorEasing=Ye=>rt=>rt<=.5?Ye(2*rt)/2:(2-Ye(2*(1-rt)))/2,reverseEasing=Ye=>rt=>1-Ye(1-rt),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=Ye=>(Ye*=2)<1?.5*backIn(Ye):.5*(2-Math.pow(2,-10*(Ye-1))),circIn=Ye=>1-Math.sin(Math.acos(Ye)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=Ye=>Array.isArray(Ye)&&typeof Ye[0]!="number",isBezierDefinition=Ye=>Array.isArray(Ye)&&typeof Ye[0]=="number",easingLookup={linear:noop$5,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=Ye=>typeof Ye=="string",easingDefinitionToFunction=Ye=>{if(isBezierDefinition(Ye)){invariant$3(Ye.length===4);const[rt,it,lt,ct]=Ye;return cubicBezier(rt,it,lt,ct)}else if(isValidEasing(Ye))return easingLookup[Ye];return Ye},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(Ye,rt){let it=new Set,lt=new Set,ct=!1,ut=!1;const ht=new WeakSet;let ft={delta:0,timestamp:0,isProcessing:!1};function pt(gt){ht.has(gt)&&(mt.schedule(gt),Ye()),gt(ft)}const mt={schedule:(gt,yt=!1,xt=!1)=>{const _t=xt&&ct?it:lt;return yt&&ht.add(gt),_t.has(gt)||_t.add(gt),gt},cancel:gt=>{lt.delete(gt),ht.delete(gt)},process:gt=>{if(ft=gt,ct){ut=!0;return}ct=!0,[it,lt]=[lt,it],it.forEach(pt),it.clear(),ct=!1,ut&&(ut=!1,mt.process(gt))}};return mt}const maxElapsed=40;function createRenderBatcher(Ye,rt){let it=!1,lt=!0;const ct={delta:0,timestamp:0,isProcessing:!1},ut=()=>it=!0,ht=stepsOrder.reduce((Tt,Mt)=>(Tt[Mt]=createRenderStep(ut),Tt),{}),{setup:ft,read:pt,resolveKeyframes:mt,preUpdate:gt,update:yt,preRender:xt,render:bt,postRender:_t}=ht,Ct=()=>{const Tt=MotionGlobalConfig.useManualTiming?ct.timestamp:performance.now();it=!1,MotionGlobalConfig.useManualTiming||(ct.delta=lt?1e3/60:Math.max(Math.min(Tt-ct.timestamp,maxElapsed),1)),ct.timestamp=Tt,ct.isProcessing=!0,ft.process(ct),pt.process(ct),mt.process(ct),gt.process(ct),yt.process(ct),xt.process(ct),bt.process(ct),_t.process(ct),ct.isProcessing=!1,it&&rt&&(lt=!1,Ye(Ct))},kt=()=>{it=!0,lt=!0,ct.isProcessing||Ye(Ct)};return{schedule:stepsOrder.reduce((Tt,Mt)=>{const Pt=ht[Mt];return Tt[Mt]=(It,Lt=!1,Ot=!1)=>(it||kt(),Pt.schedule(It,Lt,Ot)),Tt},{}),cancel:Tt=>{for(let Mt=0;Mt<stepsOrder.length;Mt++)ht[stepsOrder[Mt]].cancel(Tt)},state:ct,steps:ht}}const{schedule:frame$1,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$5,!0);let now$5;function clearTime(){now$5=void 0}const time$2={now:()=>(now$5===void 0&&time$2.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$5),set:Ye=>{now$5=Ye,queueMicrotask(clearTime)}},checkStringStartsWith=Ye=>rt=>typeof rt=="string"&&rt.startsWith(Ye),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=Ye=>startsAsVariableToken(Ye)?singleCssVariableRegex.test(Ye.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:Ye=>typeof Ye=="number",parse:parseFloat,transform:Ye=>Ye},alpha={...number$3,transform:Ye=>clamp$1(0,1,Ye)},scale={...number$3,default:1},sanitize$1=Ye=>Math.round(Ye*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(Ye){return Ye==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(Ye,rt)=>it=>!!(typeof it=="string"&&singleColorRegex.test(it)&&it.startsWith(Ye)||rt&&!isNullish(it)&&Object.prototype.hasOwnProperty.call(it,rt)),splitColor=(Ye,rt,it)=>lt=>{if(typeof lt!="string")return lt;const[ct,ut,ht,ft]=lt.match(floatRegex);return{[Ye]:parseFloat(ct),[rt]:parseFloat(ut),[it]:parseFloat(ht),alpha:ft!==void 0?parseFloat(ft):1}},clampRgbUnit=Ye=>clamp$1(0,255,Ye),rgbUnit={...number$3,transform:Ye=>Math.round(clampRgbUnit(Ye))},rgba$2={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:Ye,green:rt,blue:it,alpha:lt=1})=>"rgba("+rgbUnit.transform(Ye)+", "+rgbUnit.transform(rt)+", "+rgbUnit.transform(it)+", "+sanitize$1(alpha.transform(lt))+")"};function parseHex(Ye){let rt="",it="",lt="",ct="";return Ye.length>5?(rt=Ye.substring(1,3),it=Ye.substring(3,5),lt=Ye.substring(5,7),ct=Ye.substring(7,9)):(rt=Ye.substring(1,2),it=Ye.substring(2,3),lt=Ye.substring(3,4),ct=Ye.substring(4,5),rt+=rt,it+=it,lt+=lt,ct+=ct),{red:parseInt(rt,16),green:parseInt(it,16),blue:parseInt(lt,16),alpha:ct?parseInt(ct,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$2.transform},createUnitType=Ye=>({test:rt=>typeof rt=="string"&&rt.endsWith(Ye)&&rt.split(" ").length===1,parse:parseFloat,transform:rt=>`${rt}${Ye}`}),degrees$1=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:Ye=>percent.parse(Ye)/100,transform:Ye=>percent.transform(Ye*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:Ye,saturation:rt,lightness:it,alpha:lt=1})=>"hsla("+Math.round(Ye)+", "+percent.transform(sanitize$1(rt))+", "+percent.transform(sanitize$1(it))+", "+sanitize$1(alpha.transform(lt))+")"},color$2={test:Ye=>rgba$2.test(Ye)||hex$1.test(Ye)||hsla$1.test(Ye),parse:Ye=>rgba$2.test(Ye)?rgba$2.parse(Ye):hsla$1.test(Ye)?hsla$1.parse(Ye):hex$1.parse(Ye),transform:Ye=>typeof Ye=="string"?Ye:Ye.hasOwnProperty("red")?rgba$2.transform(Ye):hsla$1.transform(Ye),getAnimatableNone:Ye=>{const rt=color$2.parse(Ye);return rt.alpha=0,color$2.transform(rt)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(Ye){return isNaN(Ye)&&typeof Ye=="string"&&(Ye.match(floatRegex)?.length||0)+(Ye.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(Ye){const rt=Ye.toString(),it=[],lt={color:[],number:[],var:[]},ct=[];let ut=0;const ft=rt.replace(complexRegex,pt=>(color$2.test(pt)?(lt.color.push(ut),ct.push(COLOR_TOKEN),it.push(color$2.parse(pt))):pt.startsWith(VAR_FUNCTION_TOKEN)?(lt.var.push(ut),ct.push(VAR_TOKEN),it.push(pt)):(lt.number.push(ut),ct.push(NUMBER_TOKEN),it.push(parseFloat(pt))),++ut,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:it,split:ft,indexes:lt,types:ct}}function parseComplexValue(Ye){return analyseComplexValue(Ye).values}function createTransformer(Ye){const{split:rt,types:it}=analyseComplexValue(Ye),lt=rt.length;return ct=>{let ut="";for(let ht=0;ht<lt;ht++)if(ut+=rt[ht],ct[ht]!==void 0){const ft=it[ht];ft===NUMBER_TOKEN?ut+=sanitize$1(ct[ht]):ft===COLOR_TOKEN?ut+=color$2.transform(ct[ht]):ut+=ct[ht]}return ut}}const convertNumbersToZero=Ye=>typeof Ye=="number"?0:color$2.test(Ye)?color$2.getAnimatableNone(Ye):Ye;function getAnimatableNone$1(Ye){const rt=parseComplexValue(Ye);return createTransformer(Ye)(rt.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(Ye,rt,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?Ye+(rt-Ye)*6*it:it<1/2?rt:it<2/3?Ye+(rt-Ye)*(2/3-it)*6:Ye}function hslaToRgba({hue:Ye,saturation:rt,lightness:it,alpha:lt}){Ye/=360,rt/=100,it/=100;let ct=0,ut=0,ht=0;if(!rt)ct=ut=ht=it;else{const ft=it<.5?it*(1+rt):it+rt-it*rt,pt=2*it-ft;ct=hueToRgb(pt,ft,Ye+1/3),ut=hueToRgb(pt,ft,Ye),ht=hueToRgb(pt,ft,Ye-1/3)}return{red:Math.round(ct*255),green:Math.round(ut*255),blue:Math.round(ht*255),alpha:lt}}function mixImmediate(Ye,rt){return it=>it>0?rt:Ye}const mixNumber$1=(Ye,rt,it)=>Ye+(rt-Ye)*it,mixLinearColor=(Ye,rt,it)=>{const lt=Ye*Ye,ct=it*(rt*rt-lt)+lt;return ct<0?0:Math.sqrt(ct)},colorTypes=[hex$1,rgba$2,hsla$1],getColorType=Ye=>colorTypes.find(rt=>rt.test(Ye));function asRGBA(Ye){const rt=getColorType(Ye);if(!rt)return!1;let it=rt.parse(Ye);return rt===hsla$1&&(it=hslaToRgba(it)),it}const mixColor=(Ye,rt)=>{const it=asRGBA(Ye),lt=asRGBA(rt);if(!it||!lt)return mixImmediate(Ye,rt);const ct={...it};return ut=>(ct.red=mixLinearColor(it.red,lt.red,ut),ct.green=mixLinearColor(it.green,lt.green,ut),ct.blue=mixLinearColor(it.blue,lt.blue,ut),ct.alpha=mixNumber$1(it.alpha,lt.alpha,ut),rgba$2.transform(ct))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(Ye,rt){return invisibleValues.has(Ye)?it=>it<=0?Ye:rt:it=>it>=1?rt:Ye}function mixNumber(Ye,rt){return it=>mixNumber$1(Ye,rt,it)}function getMixer(Ye){return typeof Ye=="number"?mixNumber:typeof Ye=="string"?isCSSVariableToken(Ye)?mixImmediate:color$2.test(Ye)?mixColor:mixComplex:Array.isArray(Ye)?mixArray:typeof Ye=="object"?color$2.test(Ye)?mixColor:mixObject:mixImmediate}function mixArray(Ye,rt){const it=[...Ye],lt=it.length,ct=Ye.map((ut,ht)=>getMixer(ut)(ut,rt[ht]));return ut=>{for(let ht=0;ht<lt;ht++)it[ht]=ct[ht](ut);return it}}function mixObject(Ye,rt){const it={...Ye,...rt},lt={};for(const ct in it)Ye[ct]!==void 0&&rt[ct]!==void 0&&(lt[ct]=getMixer(Ye[ct])(Ye[ct],rt[ct]));return ct=>{for(const ut in lt)it[ut]=lt[ut](ct);return it}}function matchOrder(Ye,rt){const it=[],lt={color:0,var:0,number:0};for(let ct=0;ct<rt.values.length;ct++){const ut=rt.types[ct],ht=Ye.indexes[ut][lt[ut]],ft=Ye.values[ht]??0;it[ct]=ft,lt[ut]++}return it}const mixComplex=(Ye,rt)=>{const it=complex.createTransformer(rt),lt=analyseComplexValue(Ye),ct=analyseComplexValue(rt);return lt.indexes.var.length===ct.indexes.var.length&&lt.indexes.color.length===ct.indexes.color.length&&lt.indexes.number.length>=ct.indexes.number.length?invisibleValues.has(Ye)&&!ct.values.length||invisibleValues.has(rt)&&!lt.values.length?mixVisibility(Ye,rt):pipe$1(mixArray(matchOrder(lt,ct),ct.values),it):mixImmediate(Ye,rt)};function mix$1(Ye,rt,it){return typeof Ye=="number"&&typeof rt=="number"&&typeof it=="number"?mixNumber$1(Ye,rt,it):getMixer(Ye)(Ye,rt)}const frameloopDriver=Ye=>{const rt=({timestamp:it})=>Ye(it);return{start:(it=!0)=>frame$1.update(rt,it),stop:()=>cancelFrame(rt),now:()=>frameData.isProcessing?frameData.timestamp:time$2.now()}},generateLinearEasing=(Ye,rt,it=10)=>{let lt="";const ct=Math.max(Math.round(rt/it),2);for(let ut=0;ut<ct;ut++)lt+=Math.round(Ye(ut/(ct-1))*1e4)/1e4+", ";return`linear(${lt.substring(0,lt.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(Ye){let rt=0;const it=50;let lt=Ye.next(rt);for(;!lt.done&&rt<maxGeneratorDuration;)rt+=it,lt=Ye.next(rt);return rt>=maxGeneratorDuration?1/0:rt}function createGeneratorEasing(Ye,rt=100,it){const lt=it({...Ye,keyframes:[0,rt]}),ct=Math.min(calcGeneratorDuration(lt),maxGeneratorDuration);return{type:"keyframes",ease:ut=>lt.next(ct*ut).value/rt,duration:millisecondsToSeconds(ct)}}const velocitySampleDuration=5;function calcGeneratorVelocity(Ye,rt,it){const lt=Math.max(rt-velocitySampleDuration,0);return velocityPerSecond(it-Ye(lt),rt-lt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:Ye=springDefaults.duration,bounce:rt=springDefaults.bounce,velocity:it=springDefaults.velocity,mass:lt=springDefaults.mass}){let ct,ut,ht=1-rt;ht=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,ht),Ye=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(Ye)),ht<1?(ct=mt=>{const gt=mt*ht,yt=gt*Ye,xt=gt-it,bt=calcAngularFreq(mt,ht),_t=Math.exp(-yt);return safeMin-xt/bt*_t},ut=mt=>{const yt=mt*ht*Ye,xt=yt*it+it,bt=Math.pow(ht,2)*Math.pow(mt,2)*Ye,_t=Math.exp(-yt),Ct=calcAngularFreq(Math.pow(mt,2),ht);return(-ct(mt)+safeMin>0?-1:1)*((xt-bt)*_t)/Ct}):(ct=mt=>{const gt=Math.exp(-mt*Ye),yt=(mt-it)*Ye+1;return-safeMin+gt*yt},ut=mt=>{const gt=Math.exp(-mt*Ye),yt=(it-mt)*(Ye*Ye);return gt*yt});const ft=5/Ye,pt=approximateRoot(ct,ut,ft);if(Ye=secondsToMilliseconds(Ye),isNaN(pt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:Ye};{const mt=Math.pow(pt,2)*lt;return{stiffness:mt,damping:ht*2*Math.sqrt(lt*mt),duration:Ye}}}const rootIterations=12;function approximateRoot(Ye,rt,it){let lt=it;for(let ct=1;ct<rootIterations;ct++)lt=lt-Ye(lt)/rt(lt);return lt}function calcAngularFreq(Ye,rt){return Ye*Math.sqrt(1-rt*rt)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(Ye,rt){return rt.some(it=>Ye[it]!==void 0)}function getSpringOptions(Ye){let rt={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...Ye};if(!isSpringType(Ye,physicsKeys)&&isSpringType(Ye,durationKeys))if(Ye.visualDuration){const it=Ye.visualDuration,lt=2*Math.PI/(it*1.2),ct=lt*lt,ut=2*clamp$1(.05,1,1-(Ye.bounce||0))*Math.sqrt(ct);rt={...rt,mass:springDefaults.mass,stiffness:ct,damping:ut}}else{const it=findSpring(Ye);rt={...rt,...it,mass:springDefaults.mass},rt.isResolvedFromDuration=!0}return rt}function spring(Ye=springDefaults.visualDuration,rt=springDefaults.bounce){const it=typeof Ye!="object"?{visualDuration:Ye,keyframes:[0,1],bounce:rt}:Ye;let{restSpeed:lt,restDelta:ct}=it;const ut=it.keyframes[0],ht=it.keyframes[it.keyframes.length-1],ft={done:!1,value:ut},{stiffness:pt,damping:mt,mass:gt,duration:yt,velocity:xt,isResolvedFromDuration:bt}=getSpringOptions({...it,velocity:-millisecondsToSeconds(it.velocity||0)}),_t=xt||0,Ct=mt/(2*Math.sqrt(pt*gt)),kt=ht-ut,St=millisecondsToSeconds(Math.sqrt(pt/gt)),Rt=Math.abs(kt)<5;lt||(lt=Rt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),ct||(ct=Rt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Tt;if(Ct<1){const Pt=calcAngularFreq(St,Ct);Tt=It=>{const Lt=Math.exp(-Ct*St*It);return ht-Lt*((_t+Ct*St*kt)/Pt*Math.sin(Pt*It)+kt*Math.cos(Pt*It))}}else if(Ct===1)Tt=Pt=>ht-Math.exp(-St*Pt)*(kt+(_t+St*kt)*Pt);else{const Pt=St*Math.sqrt(Ct*Ct-1);Tt=It=>{const Lt=Math.exp(-Ct*St*It),Ot=Math.min(Pt*It,300);return ht-Lt*((_t+Ct*St*kt)*Math.sinh(Ot)+Pt*kt*Math.cosh(Ot))/Pt}}const Mt={calculatedDuration:bt&&yt||null,next:Pt=>{const It=Tt(Pt);if(bt)ft.done=Pt>=yt;else{let Lt=Pt===0?_t:0;Ct<1&&(Lt=Pt===0?secondsToMilliseconds(_t):calcGeneratorVelocity(Tt,Pt,It));const Ot=Math.abs(Lt)<=lt,Ft=Math.abs(ht-It)<=ct;ft.done=Ot&&Ft}return ft.value=ft.done?ht:It,ft},toString:()=>{const Pt=Math.min(calcGeneratorDuration(Mt),maxGeneratorDuration),It=generateLinearEasing(Lt=>Mt.next(Pt*Lt).value,Pt,30);return Pt+"ms "+It},toTransition:()=>{}};return Mt}spring.applyToOptions=Ye=>{const rt=createGeneratorEasing(Ye,100,spring);return Ye.ease=rt.ease,Ye.duration=secondsToMilliseconds(rt.duration),Ye.type="keyframes",Ye};function inertia({keyframes:Ye,velocity:rt=0,power:it=.8,timeConstant:lt=325,bounceDamping:ct=10,bounceStiffness:ut=500,modifyTarget:ht,min:ft,max:pt,restDelta:mt=.5,restSpeed:gt}){const yt=Ye[0],xt={done:!1,value:yt},bt=Ot=>ft!==void 0&&Ot<ft||pt!==void 0&&Ot>pt,_t=Ot=>ft===void 0?pt:pt===void 0||Math.abs(ft-Ot)<Math.abs(pt-Ot)?ft:pt;let Ct=it*rt;const kt=yt+Ct,St=ht===void 0?kt:ht(kt);St!==kt&&(Ct=St-yt);const Rt=Ot=>-Ct*Math.exp(-Ot/lt),Tt=Ot=>St+Rt(Ot),Mt=Ot=>{const Ft=Rt(Ot),Ut=Tt(Ot);xt.done=Math.abs(Ft)<=mt,xt.value=xt.done?St:Ut};let Pt,It;const Lt=Ot=>{bt(xt.value)&&(Pt=Ot,It=spring({keyframes:[xt.value,_t(xt.value)],velocity:calcGeneratorVelocity(Tt,Ot,xt.value),damping:ct,stiffness:ut,restDelta:mt,restSpeed:gt}))};return Lt(0),{calculatedDuration:null,next:Ot=>{let Ft=!1;return!It&&Pt===void 0&&(Ft=!0,Mt(Ot),Lt(Ot)),Pt!==void 0&&Ot>=Pt?It.next(Ot-Pt):(!Ft&&Mt(Ot),xt)}}}function createMixers(Ye,rt,it){const lt=[],ct=it||MotionGlobalConfig.mix||mix$1,ut=Ye.length-1;for(let ht=0;ht<ut;ht++){let ft=ct(Ye[ht],Ye[ht+1]);if(rt){const pt=Array.isArray(rt)?rt[ht]||noop$5:rt;ft=pipe$1(pt,ft)}lt.push(ft)}return lt}function interpolate$1(Ye,rt,{clamp:it=!0,ease:lt,mixer:ct}={}){const ut=Ye.length;if(invariant$3(ut===rt.length),ut===1)return()=>rt[0];if(ut===2&&rt[0]===rt[1])return()=>rt[1];const ht=Ye[0]===Ye[1];Ye[0]>Ye[ut-1]&&(Ye=[...Ye].reverse(),rt=[...rt].reverse());const ft=createMixers(rt,lt,ct),pt=ft.length,mt=gt=>{if(ht&&gt<Ye[0])return rt[0];let yt=0;if(pt>1)for(;yt<Ye.length-2&&!(gt<Ye[yt+1]);yt++);const xt=progress(Ye[yt],Ye[yt+1],gt);return ft[yt](xt)};return it?gt=>mt(clamp$1(Ye[0],Ye[ut-1],gt)):mt}function fillOffset(Ye,rt){const it=Ye[Ye.length-1];for(let lt=1;lt<=rt;lt++){const ct=progress(0,rt,lt);Ye.push(mixNumber$1(it,1,ct))}}function defaultOffset(Ye){const rt=[0];return fillOffset(rt,Ye.length-1),rt}function convertOffsetToTimes(Ye,rt){return Ye.map(it=>it*rt)}function defaultEasing(Ye,rt){return Ye.map(()=>rt||easeInOut).splice(0,Ye.length-1)}function keyframes({duration:Ye=300,keyframes:rt,times:it,ease:lt="easeInOut"}){const ct=isEasingArray(lt)?lt.map(easingDefinitionToFunction):easingDefinitionToFunction(lt),ut={done:!1,value:rt[0]},ht=convertOffsetToTimes(it&&it.length===rt.length?it:defaultOffset(rt),Ye),ft=interpolate$1(ht,rt,{ease:Array.isArray(ct)?ct:defaultEasing(rt,ct)});return{calculatedDuration:Ye,next:pt=>(ut.value=ft(pt),ut.done=pt>=Ye,ut)}}const isNotNull$2=Ye=>Ye!==null;function getFinalKeyframe$1(Ye,{repeat:rt,repeatType:it="loop"},lt,ct=1){const ut=Ye.filter(isNotNull$2),ft=ct<0||rt&&it!=="loop"&&rt%2===1?0:ut.length-1;return!ft||lt===void 0?ut[ft]:lt}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(Ye){typeof Ye.type=="string"&&(Ye.type=transitionTypeMap[Ye.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(rt=>{this.resolve=rt})}notifyFinished(){this.resolve()}then(rt,it){return this.finished.then(rt,it)}}const percentToProgress=Ye=>Ye/100;class JSAnimation extends WithPromise{constructor(rt){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:it}=this.options;it&&it.updatedAt!==time$2.now()&&this.tick(time$2.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=rt,this.initAnimation(),this.play(),rt.autoplay===!1&&this.pause()}initAnimation(){const{options:rt}=this;replaceTransitionType(rt);const{type:it=keyframes,repeat:lt=0,repeatDelay:ct=0,repeatType:ut,velocity:ht=0}=rt;let{keyframes:ft}=rt;const pt=it||keyframes;pt!==keyframes&&typeof ft[0]!="number"&&(this.mixKeyframes=pipe$1(percentToProgress,mix$1(ft[0],ft[1])),ft=[0,100]);const mt=pt({...rt,keyframes:ft});ut==="mirror"&&(this.mirroredGenerator=pt({...rt,keyframes:[...ft].reverse(),velocity:-ht})),mt.calculatedDuration===null&&(mt.calculatedDuration=calcGeneratorDuration(mt));const{calculatedDuration:gt}=mt;this.calculatedDuration=gt,this.resolvedDuration=gt+ct,this.totalDuration=this.resolvedDuration*(lt+1)-ct,this.generator=mt}updateTime(rt){const it=Math.round(rt-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=it}tick(rt,it=!1){const{generator:lt,totalDuration:ct,mixKeyframes:ut,mirroredGenerator:ht,resolvedDuration:ft,calculatedDuration:pt}=this;if(this.startTime===null)return lt.next(0);const{delay:mt=0,keyframes:gt,repeat:yt,repeatType:xt,repeatDelay:bt,type:_t,onUpdate:Ct,finalKeyframe:kt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,rt):this.speed<0&&(this.startTime=Math.min(rt-ct/this.speed,this.startTime)),it?this.currentTime=rt:this.updateTime(rt);const St=this.currentTime-mt*(this.playbackSpeed>=0?1:-1),Rt=this.playbackSpeed>=0?St<0:St>ct;this.currentTime=Math.max(St,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ct);let Tt=this.currentTime,Mt=lt;if(yt){const Ot=Math.min(this.currentTime,ct)/ft;let Ft=Math.floor(Ot),Ut=Ot%1;!Ut&&Ot>=1&&(Ut=1),Ut===1&&Ft--,Ft=Math.min(Ft,yt+1),!!(Ft%2)&&(xt==="reverse"?(Ut=1-Ut,bt&&(Ut-=bt/ft)):xt==="mirror"&&(Mt=ht)),Tt=clamp$1(0,1,Ut)*ft}const Pt=Rt?{done:!1,value:gt[0]}:Mt.next(Tt);ut&&(Pt.value=ut(Pt.value));let{done:It}=Pt;!Rt&&pt!==null&&(It=this.playbackSpeed>=0?this.currentTime>=ct:this.currentTime<=0);const Lt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&It);return Lt&&_t!==inertia&&(Pt.value=getFinalKeyframe$1(gt,this.options,kt,this.speed)),Ct&&Ct(Pt.value),Lt&&this.finish(),Pt}then(rt,it){return this.finished.then(rt,it)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:rt=0}=this.options||{};return this.duration+millisecondsToSeconds(rt)}get time(){return millisecondsToSeconds(this.currentTime)}set time(rt){rt=secondsToMilliseconds(rt),this.currentTime=rt,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=rt:this.driver&&(this.startTime=this.driver.now()-rt/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(rt){this.updateTime(time$2.now());const it=this.playbackSpeed!==rt;this.playbackSpeed=rt,it&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:rt=frameloopDriver,startTime:it}=this.options;this.driver||(this.driver=rt(ct=>this.tick(ct))),this.options.onPlay?.();const lt=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=lt):this.holdTime!==null?this.startTime=lt-this.holdTime:this.startTime||(this.startTime=it??lt),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$2.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(rt){return this.startTime=0,this.tick(rt,!0)}attachTimeline(rt){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),rt.observe(this)}}function fillWildcards(Ye){for(let rt=1;rt<Ye.length;rt++)Ye[rt]??(Ye[rt]=Ye[rt-1])}const radToDeg=Ye=>Ye*180/Math.PI,rotate=Ye=>{const rt=radToDeg(Math.atan2(Ye[1],Ye[0]));return rebaseAngle(rt)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:Ye=>(Math.abs(Ye[0])+Math.abs(Ye[3]))/2,rotate,rotateZ:rotate,skewX:Ye=>radToDeg(Math.atan(Ye[1])),skewY:Ye=>radToDeg(Math.atan(Ye[2])),skew:Ye=>(Math.abs(Ye[1])+Math.abs(Ye[2]))/2},rebaseAngle=Ye=>(Ye=Ye%360,Ye<0&&(Ye+=360),Ye),rotateZ=rotate,scaleX=Ye=>Math.sqrt(Ye[0]*Ye[0]+Ye[1]*Ye[1]),scaleY=Ye=>Math.sqrt(Ye[4]*Ye[4]+Ye[5]*Ye[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:Ye=>(scaleX(Ye)+scaleY(Ye))/2,rotateX:Ye=>rebaseAngle(radToDeg(Math.atan2(Ye[6],Ye[5]))),rotateY:Ye=>rebaseAngle(radToDeg(Math.atan2(-Ye[2],Ye[0]))),rotateZ,rotate:rotateZ,skewX:Ye=>radToDeg(Math.atan(Ye[4])),skewY:Ye=>radToDeg(Math.atan(Ye[1])),skew:Ye=>(Math.abs(Ye[1])+Math.abs(Ye[4]))/2};function defaultTransformValue(Ye){return Ye.includes("scale")?1:0}function parseValueFromTransform(Ye,rt){if(!Ye||Ye==="none")return defaultTransformValue(rt);const it=Ye.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let lt,ct;if(it)lt=matrix3dParsers,ct=it;else{const ft=Ye.match(/^matrix\(([-\d.e\s,]+)\)$/u);lt=matrix2dParsers,ct=ft}if(!ct)return defaultTransformValue(rt);const ut=lt[rt],ht=ct[1].split(",").map(convertTransformToNumber);return typeof ut=="function"?ut(ht):ht[ut]}const readTransformValue=(Ye,rt)=>{const{transform:it="none"}=getComputedStyle(Ye);return parseValueFromTransform(it,rt)};function convertTransformToNumber(Ye){return parseFloat(Ye.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=Ye=>Ye===number$3||Ye===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(Ye=>!transformKeys.has(Ye));function removeNonTranslationalTransform(Ye){const rt=[];return nonTranslationalTransformKeys.forEach(it=>{const lt=Ye.getValue(it);lt!==void 0&&(rt.push([it,lt.get()]),lt.set(it.startsWith("scale")?1:0))}),rt}const positionalValues={width:({x:Ye},{paddingLeft:rt="0",paddingRight:it="0"})=>Ye.max-Ye.min-parseFloat(rt)-parseFloat(it),height:({y:Ye},{paddingTop:rt="0",paddingBottom:it="0"})=>Ye.max-Ye.min-parseFloat(rt)-parseFloat(it),top:(Ye,{top:rt})=>parseFloat(rt),left:(Ye,{left:rt})=>parseFloat(rt),bottom:({y:Ye},{top:rt})=>parseFloat(rt)+(Ye.max-Ye.min),right:({x:Ye},{left:rt})=>parseFloat(rt)+(Ye.max-Ye.min),x:(Ye,{transform:rt})=>parseValueFromTransform(rt,"x"),y:(Ye,{transform:rt})=>parseValueFromTransform(rt,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const Ye=Array.from(toResolve).filter(lt=>lt.needsMeasurement),rt=new Set(Ye.map(lt=>lt.element)),it=new Map;rt.forEach(lt=>{const ct=removeNonTranslationalTransform(lt);ct.length&&(it.set(lt,ct),lt.render())}),Ye.forEach(lt=>lt.measureInitialState()),rt.forEach(lt=>{lt.render();const ct=it.get(lt);ct&&ct.forEach(([ut,ht])=>{lt.getValue(ut)?.set(ht)})}),Ye.forEach(lt=>lt.measureEndState()),Ye.forEach(lt=>{lt.suspendedScrollY!==void 0&&window.scrollTo(0,lt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(Ye=>Ye.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(Ye=>{Ye.readKeyframes(),Ye.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(rt,it,lt,ct,ut,ht=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...rt],this.onComplete=it,this.name=lt,this.motionValue=ct,this.element=ut,this.isAsync=ht}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame$1.read(readAllKeyframes),frame$1.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:rt,name:it,element:lt,motionValue:ct}=this;if(rt[0]===null){const ut=ct?.get(),ht=rt[rt.length-1];if(ut!==void 0)rt[0]=ut;else if(lt&&it){const ft=lt.readValue(it,ht);ft!=null&&(rt[0]=ft)}rt[0]===void 0&&(rt[0]=ht),ct&&ut===void 0&&ct.set(rt[0])}fillWildcards(rt)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(rt=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,rt),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=Ye=>Ye.startsWith("--");function setStyle(Ye,rt,it){isCSSVar(rt)?Ye.style.setProperty(rt,it):Ye.style[rt]=it}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(Ye,rt){const it=memo(Ye);return()=>supportsFlags[rt]??it()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([Ye,rt,it,lt])=>`cubic-bezier(${Ye}, ${rt}, ${it}, ${lt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(Ye,rt){if(Ye)return typeof Ye=="function"?supportsLinearEasing()?generateLinearEasing(Ye,rt):"ease-out":isBezierDefinition(Ye)?cubicBezierAsString(Ye):Array.isArray(Ye)?Ye.map(it=>mapEasingToNativeEasing(it,rt)||supportedWaapiEasing.easeOut):supportedWaapiEasing[Ye]}function startWaapiAnimation(Ye,rt,it,{delay:lt=0,duration:ct=300,repeat:ut=0,repeatType:ht="loop",ease:ft="easeOut",times:pt}={},mt=void 0){const gt={[rt]:it};pt&&(gt.offset=pt);const yt=mapEasingToNativeEasing(ft,ct);Array.isArray(yt)&&(gt.easing=yt);const xt={delay:lt,duration:ct,easing:Array.isArray(yt)?"linear":yt,fill:"both",iterations:ut+1,direction:ht==="reverse"?"alternate":"normal"};return mt&&(xt.pseudoElement=mt),Ye.animate(gt,xt)}function isGenerator(Ye){return typeof Ye=="function"&&"applyToOptions"in Ye}function applyGeneratorOptions({type:Ye,...rt}){return isGenerator(Ye)&&supportsLinearEasing()?Ye.applyToOptions(rt):(rt.duration??(rt.duration=300),rt.ease??(rt.ease="easeOut"),rt)}class NativeAnimation extends WithPromise{constructor(rt){if(super(),this.finishedTime=null,this.isStopped=!1,!rt)return;const{element:it,name:lt,keyframes:ct,pseudoElement:ut,allowFlatten:ht=!1,finalKeyframe:ft,onComplete:pt}=rt;this.isPseudoElement=!!ut,this.allowFlatten=ht,this.options=rt,invariant$3(typeof rt.type!="string");const mt=applyGeneratorOptions(rt);this.animation=startWaapiAnimation(it,lt,ct,mt,ut),mt.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!ut){const gt=getFinalKeyframe$1(ct,this.options,ft,this.speed);this.updateMotionValue?this.updateMotionValue(gt):setStyle(it,lt,gt),this.animation.cancel()}pt?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:rt}=this;rt==="idle"||rt==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const rt=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(rt))}get iterationDuration(){const{delay:rt=0}=this.options||{};return this.duration+millisecondsToSeconds(rt)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(rt){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(rt)}get speed(){return this.animation.playbackRate}set speed(rt){rt<0&&(this.finishedTime=null),this.animation.playbackRate=rt}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(rt){this.animation.startTime=rt}attachTimeline({timeline:rt,observe:it}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,rt&&supportsScrollTimeline()?(this.animation.timeline=rt,noop$5):it(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(Ye){return Ye in unsupportedEasingFunctions}function replaceStringEasing(Ye){typeof Ye.ease=="string"&&isUnsupportedEase(Ye.ease)&&(Ye.ease=unsupportedEasingFunctions[Ye.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(rt){replaceStringEasing(rt),replaceTransitionType(rt),super(rt),rt.startTime&&(this.startTime=rt.startTime),this.options=rt}updateMotionValue(rt){const{motionValue:it,onUpdate:lt,onComplete:ct,element:ut,...ht}=this.options;if(!it)return;if(rt!==void 0){it.set(rt);return}const ft=new JSAnimation({...ht,autoplay:!1}),pt=secondsToMilliseconds(this.finishedTime??this.time);it.setWithVelocity(ft.sample(pt-sampleDelta).value,ft.sample(pt).value,sampleDelta),ft.stop()}}const isAnimatable=(Ye,rt)=>rt==="zIndex"?!1:!!(typeof Ye=="number"||Array.isArray(Ye)||typeof Ye=="string"&&(complex.test(Ye)||Ye==="0")&&!Ye.startsWith("url("));function hasKeyframesChanged(Ye){const rt=Ye[0];if(Ye.length===1)return!0;for(let it=0;it<Ye.length;it++)if(Ye[it]!==rt)return!0}function canAnimate(Ye,rt,it,lt){const ct=Ye[0];if(ct===null)return!1;if(rt==="display"||rt==="visibility")return!0;const ut=Ye[Ye.length-1],ht=isAnimatable(ct,rt),ft=isAnimatable(ut,rt);return!ht||!ft?!1:hasKeyframesChanged(Ye)||(it==="spring"||isGenerator(it))&&lt}function makeAnimationInstant(Ye){Ye.duration=0,Ye.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(Ye){const{motionValue:rt,name:it,repeatDelay:lt,repeatType:ct,damping:ut,type:ht}=Ye;if(!(rt?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:pt,transformTemplate:mt}=rt.owner.getProps();return supportsWaapi()&&it&&acceleratedValues.has(it)&&(it!=="transform"||!mt)&&!pt&&!lt&&ct!=="mirror"&&ut!==0&&ht!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:rt=!0,delay:it=0,type:lt="keyframes",repeat:ct=0,repeatDelay:ut=0,repeatType:ht="loop",keyframes:ft,name:pt,motionValue:mt,element:gt,...yt}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$2.now();const xt={autoplay:rt,delay:it,type:lt,repeat:ct,repeatDelay:ut,repeatType:ht,name:pt,motionValue:mt,element:gt,...yt},bt=gt?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new bt(ft,(_t,Ct,kt)=>this.onKeyframesResolved(_t,Ct,xt,!kt),pt,mt,gt),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(rt,it,lt,ct){this.keyframeResolver=void 0;const{name:ut,type:ht,velocity:ft,delay:pt,isHandoff:mt,onUpdate:gt}=lt;this.resolvedAt=time$2.now(),canAnimate(rt,ut,ht,ft)||((MotionGlobalConfig.instantAnimations||!pt)&&gt?.(getFinalKeyframe$1(rt,lt,it)),rt[0]=rt[rt.length-1],makeAnimationInstant(lt),lt.repeat=0);const xt={startTime:ct?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:it,...lt,keyframes:rt},bt=!mt&&supportsBrowserAnimation(xt)?new NativeAnimationExtended({...xt,element:xt.motionValue.owner.current}):new JSAnimation(xt);bt.finished.then(()=>this.notifyFinished()).catch(noop$5),this.pendingTimeline&&(this.stopTimeline=bt.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=bt}get finished(){return this._animation?this.animation.finished:this._finished}then(rt,it){return this.finished.finally(rt).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(rt){this.animation.time=rt}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(rt){this.animation.speed=rt}get startTime(){return this.animation.startTime}attachTimeline(rt){return this._animation?this.stopTimeline=this.animation.attachTimeline(rt):this.pendingTimeline=rt,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(Ye){const rt=splitCSSVariableRegex.exec(Ye);if(!rt)return[,];const[,it,lt,ct]=rt;return[`--${it??lt}`,ct]}function getVariableValue(Ye,rt,it=1){const[lt,ct]=parseCSSVariable(Ye);if(!lt)return;const ut=window.getComputedStyle(rt).getPropertyValue(lt);if(ut){const ht=ut.trim();return isNumericalString(ht)?parseFloat(ht):ht}return isCSSVariableToken(ct)?getVariableValue(ct,rt,it+1):ct}function getValueTransition(Ye,rt){return Ye?.[rt]??Ye?.default??Ye}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:Ye=>Ye==="auto",parse:Ye=>Ye},testValueType=Ye=>rt=>rt.test(Ye),dimensionValueTypes=[number$3,px,percent,degrees$1,vw,vh,auto],findDimensionValueType=Ye=>dimensionValueTypes.find(testValueType(Ye));function isNone(Ye){return typeof Ye=="number"?Ye===0:Ye!==null?Ye==="none"||Ye==="0"||isZeroValueString(Ye):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(Ye){const[rt,it]=Ye.slice(0,-1).split("(");if(rt==="drop-shadow")return Ye;const[lt]=it.match(floatRegex)||[];if(!lt)return Ye;const ct=it.replace(lt,"");let ut=maxDefaults.has(rt)?1:0;return lt!==it&&(ut*=100),rt+"("+ut+ct+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$5={...complex,getAnimatableNone:Ye=>{const rt=Ye.match(functionRegex);return rt?rt.map(applyDefaultFilter).join(" "):Ye}},int$2={...number$3,transform:Math.round},transformValueTypes={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int$2,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$2},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter:filter$5,WebkitFilter:filter$5},getDefaultValueType=Ye=>defaultValueTypes[Ye];function getAnimatableNone(Ye,rt){let it=getDefaultValueType(Ye);return it!==filter$5&&(it=complex),it.getAnimatableNone?it.getAnimatableNone(rt):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(Ye,rt,it){let lt=0,ct;for(;lt<Ye.length&&!ct;){const ut=Ye[lt];typeof ut=="string"&&!invalidTemplates.has(ut)&&analyseComplexValue(ut).values.length&&(ct=Ye[lt]),lt++}if(ct&&it)for(const ut of rt)Ye[ut]=getAnimatableNone(it,ct)}class DOMKeyframesResolver extends KeyframeResolver{constructor(rt,it,lt,ct,ut){super(rt,it,lt,ct,ut,!0)}readKeyframes(){const{unresolvedKeyframes:rt,element:it,name:lt}=this;if(!it||!it.current)return;super.readKeyframes();for(let pt=0;pt<rt.length;pt++){let mt=rt[pt];if(typeof mt=="string"&&(mt=mt.trim(),isCSSVariableToken(mt))){const gt=getVariableValue(mt,it.current);gt!==void 0&&(rt[pt]=gt),pt===rt.length-1&&(this.finalKeyframe=mt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(lt)||rt.length!==2)return;const[ct,ut]=rt,ht=findDimensionValueType(ct),ft=findDimensionValueType(ut);if(ht!==ft)if(isNumOrPxType(ht)&&isNumOrPxType(ft))for(let pt=0;pt<rt.length;pt++){const mt=rt[pt];typeof mt=="string"&&(rt[pt]=parseFloat(mt))}else positionalValues[lt]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:rt,name:it}=this,lt=[];for(let ct=0;ct<rt.length;ct++)(rt[ct]===null||isNone(rt[ct]))&&lt.push(ct);lt.length&&makeNoneKeyframesAnimatable(rt,lt,it)}measureInitialState(){const{element:rt,unresolvedKeyframes:it,name:lt}=this;if(!rt||!rt.current)return;lt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[lt](rt.measureViewportBox(),window.getComputedStyle(rt.current)),it[0]=this.measuredOrigin;const ct=it[it.length-1];ct!==void 0&&rt.getValue(lt,ct).jump(ct,!1)}measureEndState(){const{element:rt,name:it,unresolvedKeyframes:lt}=this;if(!rt||!rt.current)return;const ct=rt.getValue(it);ct&&ct.jump(this.measuredOrigin,!1);const ut=lt.length-1,ht=lt[ut];lt[ut]=positionalValues[it](rt.measureViewportBox(),window.getComputedStyle(rt.current)),ht!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ht),this.removedTransforms?.length&&this.removedTransforms.forEach(([ft,pt])=>{rt.getValue(ft).set(pt)}),this.resolveNoneKeyframes()}}function resolveElements(Ye,rt,it){if(Ye instanceof EventTarget)return[Ye];if(typeof Ye=="string"){let lt=document;const ct=it?.[Ye]??lt.querySelectorAll(Ye);return ct?Array.from(ct):[]}return Array.from(Ye)}const getValueAsType=(Ye,rt)=>rt&&typeof Ye=="number"?rt.transform(Ye):Ye;function isHTMLElement$2(Ye){return isObject$6(Ye)&&"offsetHeight"in Ye}const MAX_VELOCITY_DELTA=30,isFloat$1=Ye=>!isNaN(parseFloat(Ye));class MotionValue{constructor(rt,it={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=lt=>{const ct=time$2.now();if(this.updatedAt!==ct&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(lt),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const ut of this.dependents)ut.dirty()},this.hasAnimated=!1,this.setCurrent(rt),this.owner=it.owner}setCurrent(rt){this.current=rt,this.updatedAt=time$2.now(),this.canTrackVelocity===null&&rt!==void 0&&(this.canTrackVelocity=isFloat$1(this.current))}setPrevFrameValue(rt=this.current){this.prevFrameValue=rt,this.prevUpdatedAt=this.updatedAt}onChange(rt){return this.on("change",rt)}on(rt,it){this.events[rt]||(this.events[rt]=new SubscriptionManager);const lt=this.events[rt].add(it);return rt==="change"?()=>{lt(),frame$1.read(()=>{this.events.change.getSize()||this.stop()})}:lt}clearListeners(){for(const rt in this.events)this.events[rt].clear()}attach(rt,it){this.passiveEffect=rt,this.stopPassiveEffect=it}set(rt){this.passiveEffect?this.passiveEffect(rt,this.updateAndNotify):this.updateAndNotify(rt)}setWithVelocity(rt,it,lt){this.set(it),this.prev=void 0,this.prevFrameValue=rt,this.prevUpdatedAt=this.updatedAt-lt}jump(rt,it=!0){this.updateAndNotify(rt),this.prev=rt,this.prevUpdatedAt=this.prevFrameValue=void 0,it&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(rt){this.dependents||(this.dependents=new Set),this.dependents.add(rt)}removeDependent(rt){this.dependents&&this.dependents.delete(rt)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const rt=time$2.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||rt-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const it=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),it)}start(rt){return this.stop(),new Promise(it=>{this.hasAnimated=!0,this.animation=rt(it),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(Ye,rt){return new MotionValue(Ye,rt)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(Ye){return Ye==="x"||Ye==="y"?isDragging[Ye]?null:(isDragging[Ye]=!0,()=>{isDragging[Ye]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(Ye,rt){const it=resolveElements(Ye),lt=new AbortController,ct={passive:!0,...rt,signal:lt.signal};return[it,ct,()=>lt.abort()]}function isValidHover(Ye){return!(Ye.pointerType==="touch"||isDragActive())}function hover(Ye,rt,it={}){const[lt,ct,ut]=setupGesture(Ye,it),ht=ft=>{if(!isValidHover(ft))return;const{target:pt}=ft,mt=rt(pt,ft);if(typeof mt!="function"||!pt)return;const gt=yt=>{isValidHover(yt)&&(mt(yt),pt.removeEventListener("pointerleave",gt))};pt.addEventListener("pointerleave",gt,ct)};return lt.forEach(ft=>{ft.addEventListener("pointerenter",ht,ct)}),ut}const isNodeOrChild=(Ye,rt)=>rt?Ye===rt?!0:isNodeOrChild(Ye,rt.parentElement):!1,isPrimaryPointer=Ye=>Ye.pointerType==="mouse"?typeof Ye.button!="number"||Ye.button<=0:Ye.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(Ye){return focusableElements.has(Ye.tagName)||Ye.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(Ye){return rt=>{rt.key==="Enter"&&Ye(rt)}}function firePointerEvent(Ye,rt){Ye.dispatchEvent(new PointerEvent("pointer"+rt,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(Ye,rt)=>{const it=Ye.currentTarget;if(!it)return;const lt=filterEvents(()=>{if(isPressing.has(it))return;firePointerEvent(it,"down");const ct=filterEvents(()=>{firePointerEvent(it,"up")}),ut=()=>firePointerEvent(it,"cancel");it.addEventListener("keyup",ct,rt),it.addEventListener("blur",ut,rt)});it.addEventListener("keydown",lt,rt),it.addEventListener("blur",()=>it.removeEventListener("keydown",lt),rt)};function isValidPressEvent(Ye){return isPrimaryPointer(Ye)&&!isDragActive()}function press(Ye,rt,it={}){const[lt,ct,ut]=setupGesture(Ye,it),ht=ft=>{const pt=ft.currentTarget;if(!isValidPressEvent(ft))return;isPressing.add(pt);const mt=rt(pt,ft),gt=(bt,_t)=>{window.removeEventListener("pointerup",yt),window.removeEventListener("pointercancel",xt),isPressing.has(pt)&&isPressing.delete(pt),isValidPressEvent(bt)&&typeof mt=="function"&&mt(bt,{success:_t})},yt=bt=>{gt(bt,pt===window||pt===document||it.useGlobalTarget||isNodeOrChild(pt,bt.target))},xt=bt=>{gt(bt,!1)};window.addEventListener("pointerup",yt,ct),window.addEventListener("pointercancel",xt,ct)};return lt.forEach(ft=>{(it.useGlobalTarget?window:ft).addEventListener("pointerdown",ht,ct),isHTMLElement$2(ft)&&(ft.addEventListener("focus",mt=>enableKeyboardPress(mt,ct)),!isElementKeyboardAccessible(ft)&&!ft.hasAttribute("tabindex")&&(ft.tabIndex=0))}),ut}function isSVGElement(Ye){return isObject$6(Ye)&&"ownerSVGElement"in Ye}function isSVGSVGElement(Ye){return isSVGElement(Ye)&&Ye.tagName==="svg"}const isMotionValue=Ye=>!!(Ye&&Ye.getVelocity),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=Ye=>valueTypes.find(testValueType(Ye)),MotionConfigContext=reactExports.createContext({transformPagePoint:Ye=>Ye,isStatic:!1,reducedMotion:"never"});function setRef$1(Ye,rt){if(typeof Ye=="function")return Ye(rt);Ye!=null&&(Ye.current=rt)}function composeRefs$1(...Ye){return rt=>{let it=!1;const lt=Ye.map(ct=>{const ut=setRef$1(ct,rt);return!it&&typeof ut=="function"&&(it=!0),ut});if(it)return()=>{for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];typeof ut=="function"?ut():setRef$1(Ye[ct],null)}}}}function useComposedRefs$1(...Ye){return reactExports.useCallback(composeRefs$1(...Ye),Ye)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(rt){const it=this.props.childRef.current;if(it&&rt.isPresent&&!this.props.isPresent){const lt=it.offsetParent,ct=isHTMLElement$2(lt)&&lt.offsetWidth||0,ut=this.props.sizeRef.current;ut.height=it.offsetHeight||0,ut.width=it.offsetWidth||0,ut.top=it.offsetTop,ut.left=it.offsetLeft,ut.right=ct-ut.width-ut.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:Ye,isPresent:rt,anchorX:it,root:lt}){const ct=reactExports.useId(),ut=reactExports.useRef(null),ht=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:ft}=reactExports.useContext(MotionConfigContext),pt=useComposedRefs$1(ut,Ye?.ref);return reactExports.useInsertionEffect(()=>{const{width:mt,height:gt,top:yt,left:xt,right:bt}=ht.current;if(rt||!ut.current||!mt||!gt)return;const _t=it==="left"?`left: ${xt}`:`right: ${bt}`;ut.current.dataset.motionPopId=ct;const Ct=document.createElement("style");ft&&(Ct.nonce=ft);const kt=lt??document.head;return kt.appendChild(Ct),Ct.sheet&&Ct.sheet.insertRule(`
          [data-motion-pop-id="${ct}"] {
            position: absolute !important;
            width: ${mt}px !important;
            height: ${gt}px !important;
            ${_t}px !important;
            top: ${yt}px !important;
          }
        `),()=>{kt.contains(Ct)&&kt.removeChild(Ct)}},[rt]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:rt,childRef:ut,sizeRef:ht,children:reactExports.cloneElement(Ye,{ref:pt})})}const PresenceChild=({children:Ye,initial:rt,isPresent:it,onExitComplete:lt,custom:ct,presenceAffectsLayout:ut,mode:ht,anchorX:ft,root:pt})=>{const mt=useConstant(newChildrenMap),gt=reactExports.useId();let yt=!0,xt=reactExports.useMemo(()=>(yt=!1,{id:gt,initial:rt,isPresent:it,custom:ct,onExitComplete:bt=>{mt.set(bt,!0);for(const _t of mt.values())if(!_t)return;lt&&lt()},register:bt=>(mt.set(bt,!1),()=>mt.delete(bt))}),[it,mt,lt]);return ut&&yt&&(xt={...xt}),reactExports.useMemo(()=>{mt.forEach((bt,_t)=>mt.set(_t,!1))},[it]),reactExports.useEffect(()=>{!it&&!mt.size&&lt&&lt()},[it]),ht==="popLayout"&&(Ye=jsxRuntimeExports.jsx(PopChild,{isPresent:it,anchorX:ft,root:pt,children:Ye})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:xt,children:Ye})};function newChildrenMap(){return new Map}function usePresence$1(Ye=!0){const rt=reactExports.useContext(PresenceContext);if(rt===null)return[!0,null];const{isPresent:it,onExitComplete:lt,register:ct}=rt,ut=reactExports.useId();reactExports.useEffect(()=>{if(Ye)return ct(ut)},[Ye]);const ht=reactExports.useCallback(()=>Ye&&lt&&lt(ut),[ut,lt,Ye]);return!it&&lt?[!1,ht]:[!0]}const getChildKey=Ye=>Ye.key||"";function onlyElements(Ye){const rt=[];return reactExports.Children.forEach(Ye,it=>{reactExports.isValidElement(it)&&rt.push(it)}),rt}const AnimatePresence=({children:Ye,custom:rt,initial:it=!0,onExitComplete:lt,presenceAffectsLayout:ct=!0,mode:ut="sync",propagate:ht=!1,anchorX:ft="left",root:pt})=>{const[mt,gt]=usePresence$1(ht),yt=reactExports.useMemo(()=>onlyElements(Ye),[Ye]),xt=ht&&!mt?[]:yt.map(getChildKey),bt=reactExports.useRef(!0),_t=reactExports.useRef(yt),Ct=useConstant(()=>new Map),[kt,St]=reactExports.useState(yt),[Rt,Tt]=reactExports.useState(yt);useIsomorphicLayoutEffect$3(()=>{bt.current=!1,_t.current=yt;for(let It=0;It<Rt.length;It++){const Lt=getChildKey(Rt[It]);xt.includes(Lt)?Ct.delete(Lt):Ct.get(Lt)!==!0&&Ct.set(Lt,!1)}},[Rt,xt.length,xt.join("-")]);const Mt=[];if(yt!==kt){let It=[...yt];for(let Lt=0;Lt<Rt.length;Lt++){const Ot=Rt[Lt],Ft=getChildKey(Ot);xt.includes(Ft)||(It.splice(Lt,0,Ot),Mt.push(Ot))}return ut==="wait"&&Mt.length&&(It=Mt),Tt(onlyElements(It)),St(yt),null}const{forceRender:Pt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Rt.map(It=>{const Lt=getChildKey(It),Ot=ht&&!mt?!1:yt===Rt||xt.includes(Lt),Ft=()=>{if(Ct.has(Lt))Ct.set(Lt,!0);else return;let Ut=!0;Ct.forEach(Wt=>{Wt||(Ut=!1)}),Ut&&(Pt?.(),Tt(_t.current),ht&&gt?.(),lt&&lt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:Ot,initial:!bt.current||it?void 0:!1,custom:rt,presenceAffectsLayout:ct,mode:ut,root:pt,onExitComplete:Ot?void 0:Ft,anchorX:ft,children:It},Lt)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const Ye in featureProps)featureDefinitions[Ye]={isEnabled:rt=>featureProps[Ye].some(it=>!!rt[it])};function loadFeatures(Ye){for(const rt in Ye)featureDefinitions[rt]={...featureDefinitions[rt],...Ye[rt]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(Ye){return Ye.startsWith("while")||Ye.startsWith("drag")&&Ye!=="draggable"||Ye.startsWith("layout")||Ye.startsWith("onTap")||Ye.startsWith("onPan")||Ye.startsWith("onLayout")||validMotionProps.has(Ye)}let shouldForward=Ye=>!isValidMotionProp(Ye);function loadExternalIsValidProp(Ye){typeof Ye=="function"&&(shouldForward=rt=>rt.startsWith("on")?!isValidMotionProp(rt):Ye(rt))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(Ye,rt,it){const lt={};for(const ct in Ye)ct==="values"&&typeof Ye.values=="object"||(shouldForward(ct)||it===!0&&isValidMotionProp(ct)||!rt&&!isValidMotionProp(ct)||Ye.draggable&&ct.startsWith("onDrag"))&&(lt[ct]=Ye[ct]);return lt}function MotionConfig({children:Ye,isValidProp:rt,...it}){rt&&loadExternalIsValidProp(rt),it={...reactExports.useContext(MotionConfigContext),...it},it.isStatic=useConstant(()=>it.isStatic);const lt=reactExports.useMemo(()=>it,[JSON.stringify(it.transition),it.transformPagePoint,it.reducedMotion]);return jsxRuntimeExports.jsx(MotionConfigContext.Provider,{value:lt,children:Ye})}const MotionContext=reactExports.createContext({});function isAnimationControls(Ye){return Ye!==null&&typeof Ye=="object"&&typeof Ye.start=="function"}function isVariantLabel(Ye){return typeof Ye=="string"||Array.isArray(Ye)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(Ye){return isAnimationControls(Ye.animate)||variantProps.some(rt=>isVariantLabel(Ye[rt]))}function isVariantNode(Ye){return!!(isControllingVariants(Ye)||Ye.variants)}function getCurrentTreeVariants(Ye,rt){if(isControllingVariants(Ye)){const{initial:it,animate:lt}=Ye;return{initial:it===!1||isVariantLabel(it)?it:void 0,animate:isVariantLabel(lt)?lt:void 0}}return Ye.inherit!==!1?rt:{}}function useCreateMotionContext(Ye){const{initial:rt,animate:it}=getCurrentTreeVariants(Ye,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:rt,animate:it}),[variantLabelsAsDependency(rt),variantLabelsAsDependency(it)])}function variantLabelsAsDependency(Ye){return Array.isArray(Ye)?Ye.join(" "):Ye}const scaleCorrectors={};function addScaleCorrector(Ye){for(const rt in Ye)scaleCorrectors[rt]=Ye[rt],isCSSVariableName(rt)&&(scaleCorrectors[rt].isCSSVariable=!0)}function isForcedMotionValue(Ye,{layout:rt,layoutId:it}){return transformProps.has(Ye)||Ye.startsWith("origin")||(rt||it!==void 0)&&(!!scaleCorrectors[Ye]||Ye==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(Ye,rt,it){let lt="",ct=!0;for(let ut=0;ut<numTransforms;ut++){const ht=transformPropOrder[ut],ft=Ye[ht];if(ft===void 0)continue;let pt=!0;if(typeof ft=="number"?pt=ft===(ht.startsWith("scale")?1:0):pt=parseFloat(ft)===0,!pt||it){const mt=getValueAsType(ft,numberValueTypes[ht]);if(!pt){ct=!1;const gt=translateAlias[ht]||ht;lt+=`${gt}(${mt}) `}it&&(rt[ht]=mt)}}return lt=lt.trim(),it?lt=it(rt,ct?"":lt):ct&&(lt="none"),lt}function buildHTMLStyles(Ye,rt,it){const{style:lt,vars:ct,transformOrigin:ut}=Ye;let ht=!1,ft=!1;for(const pt in rt){const mt=rt[pt];if(transformProps.has(pt)){ht=!0;continue}else if(isCSSVariableName(pt)){ct[pt]=mt;continue}else{const gt=getValueAsType(mt,numberValueTypes[pt]);pt.startsWith("origin")?(ft=!0,ut[pt]=gt):lt[pt]=gt}}if(rt.transform||(ht||it?lt.transform=buildTransform(rt,Ye.transform,it):lt.transform&&(lt.transform="none")),ft){const{originX:pt="50%",originY:mt="50%",originZ:gt=0}=ut;lt.transformOrigin=`${pt} ${mt} ${gt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(Ye,rt,it){for(const lt in rt)!isMotionValue(rt[lt])&&!isForcedMotionValue(lt,it)&&(Ye[lt]=rt[lt])}function useInitialMotionValues({transformTemplate:Ye},rt){return reactExports.useMemo(()=>{const it=createHtmlRenderState();return buildHTMLStyles(it,rt,Ye),Object.assign({},it.vars,it.style)},[rt])}function useStyle(Ye,rt){const it=Ye.style||{},lt={};return copyRawValuesOnly(lt,it,Ye),Object.assign(lt,useInitialMotionValues(Ye,rt)),lt}function useHTMLProps(Ye,rt){const it={},lt=useStyle(Ye,rt);return Ye.drag&&Ye.dragListener!==!1&&(it.draggable=!1,lt.userSelect=lt.WebkitUserSelect=lt.WebkitTouchCallout="none",lt.touchAction=Ye.drag===!0?"none":`pan-${Ye.drag==="x"?"y":"x"}`),Ye.tabIndex===void 0&&(Ye.onTap||Ye.onTapStart||Ye.whileTap)&&(it.tabIndex=0),it.style=lt,it}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(Ye,rt,it=1,lt=0,ct=!0){Ye.pathLength=1;const ut=ct?dashKeys:camelKeys;Ye[ut.offset]=px.transform(-lt);const ht=px.transform(rt),ft=px.transform(it);Ye[ut.array]=`${ht} ${ft}`}function buildSVGAttrs(Ye,{attrX:rt,attrY:it,attrScale:lt,pathLength:ct,pathSpacing:ut=1,pathOffset:ht=0,...ft},pt,mt,gt){if(buildHTMLStyles(Ye,ft,mt),pt){Ye.style.viewBox&&(Ye.attrs.viewBox=Ye.style.viewBox);return}Ye.attrs=Ye.style,Ye.style={};const{attrs:yt,style:xt}=Ye;yt.transform&&(xt.transform=yt.transform,delete yt.transform),(xt.transform||yt.transformOrigin)&&(xt.transformOrigin=yt.transformOrigin??"50% 50%",delete yt.transformOrigin),xt.transform&&(xt.transformBox=gt?.transformBox??"fill-box",delete yt.transformBox),rt!==void 0&&(yt.x=rt),it!==void 0&&(yt.y=it),lt!==void 0&&(yt.scale=lt),ct!==void 0&&buildSVGPath(yt,ct,ut,ht,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=Ye=>typeof Ye=="string"&&Ye.toLowerCase()==="svg";function useSVGProps(Ye,rt,it,lt){const ct=reactExports.useMemo(()=>{const ut=createSvgRenderState();return buildSVGAttrs(ut,rt,isSVGTag(lt),Ye.transformTemplate,Ye.style),{...ut.attrs,style:{...ut.style}}},[rt]);if(Ye.style){const ut={};copyRawValuesOnly(ut,Ye.style,Ye),ct.style={...ut,...ct.style}}return ct}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(Ye){return typeof Ye!="string"||Ye.includes("-")?!1:!!(lowercaseSVGElements.indexOf(Ye)>-1||/[A-Z]/u.test(Ye))}function useRender(Ye,rt,it,{latestValues:lt},ct,ut=!1){const ft=(isSVGComponent(Ye)?useSVGProps:useHTMLProps)(rt,lt,ct,Ye),pt=filterProps$1(rt,typeof Ye=="string",ut),mt=Ye!==reactExports.Fragment?{...pt,...ft,ref:it}:{},{children:gt}=rt,yt=reactExports.useMemo(()=>isMotionValue(gt)?gt.get():gt,[gt]);return reactExports.createElement(Ye,{...mt,children:yt})}function getValueState(Ye){const rt=[{},{}];return Ye?.values.forEach((it,lt)=>{rt[0][lt]=it.get(),rt[1][lt]=it.getVelocity()}),rt}function resolveVariantFromProps(Ye,rt,it,lt){if(typeof rt=="function"){const[ct,ut]=getValueState(lt);rt=rt(it!==void 0?it:Ye.custom,ct,ut)}if(typeof rt=="string"&&(rt=Ye.variants&&Ye.variants[rt]),typeof rt=="function"){const[ct,ut]=getValueState(lt);rt=rt(it!==void 0?it:Ye.custom,ct,ut)}return rt}function resolveMotionValue(Ye){return isMotionValue(Ye)?Ye.get():Ye}function makeState({scrapeMotionValuesFromProps:Ye,createRenderState:rt},it,lt,ct){return{latestValues:makeLatestValues(it,lt,ct,Ye),renderState:rt()}}function makeLatestValues(Ye,rt,it,lt){const ct={},ut=lt(Ye,{});for(const xt in ut)ct[xt]=resolveMotionValue(ut[xt]);let{initial:ht,animate:ft}=Ye;const pt=isControllingVariants(Ye),mt=isVariantNode(Ye);rt&&mt&&!pt&&Ye.inherit!==!1&&(ht===void 0&&(ht=rt.initial),ft===void 0&&(ft=rt.animate));let gt=it?it.initial===!1:!1;gt=gt||ht===!1;const yt=gt?ft:ht;if(yt&&typeof yt!="boolean"&&!isAnimationControls(yt)){const xt=Array.isArray(yt)?yt:[yt];for(let bt=0;bt<xt.length;bt++){const _t=resolveVariantFromProps(Ye,xt[bt]);if(_t){const{transitionEnd:Ct,transition:kt,...St}=_t;for(const Rt in St){let Tt=St[Rt];if(Array.isArray(Tt)){const Mt=gt?Tt.length-1:0;Tt=Tt[Mt]}Tt!==null&&(ct[Rt]=Tt)}for(const Rt in Ct)ct[Rt]=Ct[Rt]}}}return ct}const makeUseVisualState=Ye=>(rt,it)=>{const lt=reactExports.useContext(MotionContext),ct=reactExports.useContext(PresenceContext),ut=()=>makeState(Ye,rt,lt,ct);return it?ut():useConstant(ut)};function scrapeMotionValuesFromProps$1(Ye,rt,it){const{style:lt}=Ye,ct={};for(const ut in lt)(isMotionValue(lt[ut])||rt.style&&isMotionValue(rt.style[ut])||isForcedMotionValue(ut,Ye)||it?.getValue(ut)?.liveStyle!==void 0)&&(ct[ut]=lt[ut]);return ct}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(Ye,rt,it){const lt=scrapeMotionValuesFromProps$1(Ye,rt,it);for(const ct in Ye)if(isMotionValue(Ye[ct])||isMotionValue(rt[ct])){const ut=transformPropOrder.indexOf(ct)!==-1?"attr"+ct.charAt(0).toUpperCase()+ct.substring(1):ct;lt[ut]=Ye[ct]}return lt}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(Ye){return Ye&&typeof Ye=="object"&&Object.prototype.hasOwnProperty.call(Ye,"current")}function useMotionRef(Ye,rt,it){return reactExports.useCallback(lt=>{lt&&Ye.onMount&&Ye.onMount(lt),rt&&(lt?rt.mount(lt):rt.unmount()),it&&(typeof it=="function"?it(lt):isRefObject(it)&&(it.current=lt))},[rt])}const camelToDash=Ye=>Ye.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(Ye,rt,it,lt,ct){const{visualElement:ut}=reactExports.useContext(MotionContext),ht=reactExports.useContext(LazyContext),ft=reactExports.useContext(PresenceContext),pt=reactExports.useContext(MotionConfigContext).reducedMotion,mt=reactExports.useRef(null);lt=lt||ht.renderer,!mt.current&&lt&&(mt.current=lt(Ye,{visualState:rt,parent:ut,props:it,presenceContext:ft,blockInitialAnimation:ft?ft.initial===!1:!1,reducedMotionConfig:pt}));const gt=mt.current,yt=reactExports.useContext(SwitchLayoutGroupContext);gt&&!gt.projection&&ct&&(gt.type==="html"||gt.type==="svg")&&createProjectionNode$1(mt.current,it,ct,yt);const xt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{gt&&xt.current&&gt.update(it,ft)});const bt=it[optimizedAppearDataAttribute],_t=reactExports.useRef(!!bt&&!window.MotionHandoffIsComplete?.(bt)&&window.MotionHasOptimisedAnimation?.(bt));return useIsomorphicLayoutEffect$3(()=>{gt&&(xt.current=!0,window.MotionIsMounted=!0,gt.updateFeatures(),gt.scheduleRenderMicrotask(),_t.current&&gt.animationState&&gt.animationState.animateChanges())}),reactExports.useEffect(()=>{gt&&(!_t.current&&gt.animationState&&gt.animationState.animateChanges(),_t.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(bt)}),_t.current=!1),gt.enteringChildren=void 0)}),gt}function createProjectionNode$1(Ye,rt,it,lt){const{layoutId:ct,layout:ut,drag:ht,dragConstraints:ft,layoutScroll:pt,layoutRoot:mt,layoutCrossfade:gt}=rt;Ye.projection=new it(Ye.latestValues,rt["data-framer-portal-id"]?void 0:getClosestProjectingNode(Ye.parent)),Ye.projection.setOptions({layoutId:ct,layout:ut,alwaysMeasureLayout:!!ht||ft&&isRefObject(ft),visualElement:Ye,animationType:typeof ut=="string"?ut:"both",initialPromotionConfig:lt,crossfade:gt,layoutScroll:pt,layoutRoot:mt})}function getClosestProjectingNode(Ye){if(Ye)return Ye.options.allowProjection!==!1?Ye.projection:getClosestProjectingNode(Ye.parent)}function createMotionComponent(Ye,{forwardMotionProps:rt=!1}={},it,lt){it&&loadFeatures(it);const ct=isSVGComponent(Ye)?useSVGVisualState:useHTMLVisualState;function ut(ft,pt){let mt;const gt={...reactExports.useContext(MotionConfigContext),...ft,layoutId:useLayoutId(ft)},{isStatic:yt}=gt,xt=useCreateMotionContext(ft),bt=ct(ft,yt);if(!yt&&isBrowser$1){useStrictMode();const _t=getProjectionFunctionality(gt);mt=_t.MeasureLayout,xt.visualElement=useVisualElement(Ye,bt,gt,lt,_t.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:xt,children:[mt&&xt.visualElement?jsxRuntimeExports.jsx(mt,{visualElement:xt.visualElement,...gt}):null,useRender(Ye,ft,useMotionRef(bt,xt.visualElement,pt),bt,yt,rt)]})}ut.displayName=`motion.${typeof Ye=="string"?Ye:`create(${Ye.displayName??Ye.name??""})`}`;const ht=reactExports.forwardRef(ut);return ht[motionComponentSymbol]=Ye,ht}function useLayoutId({layoutId:Ye}){const rt=reactExports.useContext(LayoutGroupContext).id;return rt&&Ye!==void 0?rt+"-"+Ye:Ye}function useStrictMode(Ye,rt){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(Ye){const{drag:rt,layout:it}=featureDefinitions;if(!rt&&!it)return{};const lt={...rt,...it};return{MeasureLayout:rt?.isEnabled(Ye)||it?.isEnabled(Ye)?lt.MeasureLayout:void 0,ProjectionNode:lt.ProjectionNode}}function createMotionProxy(Ye,rt){if(typeof Proxy>"u")return createMotionComponent;const it=new Map,lt=(ut,ht)=>createMotionComponent(ut,ht,Ye,rt),ct=(ut,ht)=>lt(ut,ht);return new Proxy(ct,{get:(ut,ht)=>ht==="create"?lt:(it.has(ht)||it.set(ht,createMotionComponent(ht,void 0,Ye,rt)),it.get(ht))})}function convertBoundingBoxToBox({top:Ye,left:rt,right:it,bottom:lt}){return{x:{min:rt,max:it},y:{min:Ye,max:lt}}}function convertBoxToBoundingBox({x:Ye,y:rt}){return{top:rt.min,right:Ye.max,bottom:rt.max,left:Ye.min}}function transformBoxPoints(Ye,rt){if(!rt)return Ye;const it=rt({x:Ye.left,y:Ye.top}),lt=rt({x:Ye.right,y:Ye.bottom});return{top:it.y,left:it.x,bottom:lt.y,right:lt.x}}function isIdentityScale(Ye){return Ye===void 0||Ye===1}function hasScale({scale:Ye,scaleX:rt,scaleY:it}){return!isIdentityScale(Ye)||!isIdentityScale(rt)||!isIdentityScale(it)}function hasTransform(Ye){return hasScale(Ye)||has2DTranslate(Ye)||Ye.z||Ye.rotate||Ye.rotateX||Ye.rotateY||Ye.skewX||Ye.skewY}function has2DTranslate(Ye){return is2DTranslate(Ye.x)||is2DTranslate(Ye.y)}function is2DTranslate(Ye){return Ye&&Ye!=="0%"}function scalePoint(Ye,rt,it){const lt=Ye-it,ct=rt*lt;return it+ct}function applyPointDelta(Ye,rt,it,lt,ct){return ct!==void 0&&(Ye=scalePoint(Ye,ct,lt)),scalePoint(Ye,it,lt)+rt}function applyAxisDelta(Ye,rt=0,it=1,lt,ct){Ye.min=applyPointDelta(Ye.min,rt,it,lt,ct),Ye.max=applyPointDelta(Ye.max,rt,it,lt,ct)}function applyBoxDelta(Ye,{x:rt,y:it}){applyAxisDelta(Ye.x,rt.translate,rt.scale,rt.originPoint),applyAxisDelta(Ye.y,it.translate,it.scale,it.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(Ye,rt,it,lt=!1){const ct=it.length;if(!ct)return;rt.x=rt.y=1;let ut,ht;for(let ft=0;ft<ct;ft++){ut=it[ft],ht=ut.projectionDelta;const{visualElement:pt}=ut.options;pt&&pt.props.style&&pt.props.style.display==="contents"||(lt&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox(Ye,{x:-ut.scroll.offset.x,y:-ut.scroll.offset.y}),ht&&(rt.x*=ht.x.scale,rt.y*=ht.y.scale,applyBoxDelta(Ye,ht)),lt&&hasTransform(ut.latestValues)&&transformBox(Ye,ut.latestValues))}rt.x<TREE_SCALE_SNAP_MAX&&rt.x>TREE_SCALE_SNAP_MIN&&(rt.x=1),rt.y<TREE_SCALE_SNAP_MAX&&rt.y>TREE_SCALE_SNAP_MIN&&(rt.y=1)}function translateAxis(Ye,rt){Ye.min=Ye.min+rt,Ye.max=Ye.max+rt}function transformAxis(Ye,rt,it,lt,ct=.5){const ut=mixNumber$1(Ye.min,Ye.max,ct);applyAxisDelta(Ye,rt,it,ut,lt)}function transformBox(Ye,rt){transformAxis(Ye.x,rt.x,rt.scaleX,rt.scale,rt.originX),transformAxis(Ye.y,rt.y,rt.scaleY,rt.scale,rt.originY)}function measureViewportBox(Ye,rt){return convertBoundingBoxToBox(transformBoxPoints(Ye.getBoundingClientRect(),rt))}function measurePageBox(Ye,rt,it){const lt=measureViewportBox(Ye,it),{scroll:ct}=rt;return ct&&(translateAxis(lt.x,ct.offset.x),translateAxis(lt.y,ct.offset.y)),lt}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const Ye=window.matchMedia("(prefers-reduced-motion)"),rt=()=>prefersReducedMotion.current=Ye.matches;Ye.addEventListener("change",rt),rt()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(Ye,rt,it){for(const lt in rt){const ct=rt[lt],ut=it[lt];if(isMotionValue(ct))Ye.addValue(lt,ct);else if(isMotionValue(ut))Ye.addValue(lt,motionValue(ct,{owner:Ye}));else if(ut!==ct)if(Ye.hasValue(lt)){const ht=Ye.getValue(lt);ht.liveStyle===!0?ht.jump(ct):ht.hasAnimated||ht.set(ct)}else{const ht=Ye.getStaticValue(lt);Ye.addValue(lt,motionValue(ht!==void 0?ht:ct,{owner:Ye}))}}for(const lt in it)rt[lt]===void 0&&Ye.removeValue(lt);return rt}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(rt,it,lt){return{}}constructor({parent:rt,props:it,presenceContext:lt,reducedMotionConfig:ct,blockInitialAnimation:ut,visualState:ht},ft={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const xt=time$2.now();this.renderScheduledAt<xt&&(this.renderScheduledAt=xt,frame$1.render(this.render,!1,!0))};const{latestValues:pt,renderState:mt}=ht;this.latestValues=pt,this.baseTarget={...pt},this.initialValues=it.initial?{...pt}:{},this.renderState=mt,this.parent=rt,this.props=it,this.presenceContext=lt,this.depth=rt?rt.depth+1:0,this.reducedMotionConfig=ct,this.options=ft,this.blockInitialAnimation=!!ut,this.isControllingVariants=isControllingVariants(it),this.isVariantNode=isVariantNode(it),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(rt&&rt.current);const{willChange:gt,...yt}=this.scrapeMotionValuesFromProps(it,{},this);for(const xt in yt){const bt=yt[xt];pt[xt]!==void 0&&isMotionValue(bt)&&bt.set(pt[xt])}}mount(rt){this.current=rt,visualElementStore.set(rt,this),this.projection&&!this.projection.instance&&this.projection.mount(rt),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((it,lt)=>this.bindToMotionValue(lt,it)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(rt=>rt()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const rt in this.events)this.events[rt].clear();for(const rt in this.features){const it=this.features[rt];it&&(it.unmount(),it.isMounted=!1)}this.current=null}addChild(rt){this.children.add(rt),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(rt)}removeChild(rt){this.children.delete(rt),this.enteringChildren&&this.enteringChildren.delete(rt)}bindToMotionValue(rt,it){this.valueSubscriptions.has(rt)&&this.valueSubscriptions.get(rt)();const lt=transformProps.has(rt);lt&&this.onBindTransform&&this.onBindTransform();const ct=it.on("change",ht=>{this.latestValues[rt]=ht,this.props.onUpdate&&frame$1.preRender(this.notifyUpdate),lt&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let ut;window.MotionCheckAppearSync&&(ut=window.MotionCheckAppearSync(this,rt,it)),this.valueSubscriptions.set(rt,()=>{ct(),ut&&ut(),it.owner&&it.stop()})}sortNodePosition(rt){return!this.current||!this.sortInstanceNodePosition||this.type!==rt.type?0:this.sortInstanceNodePosition(this.current,rt.current)}updateFeatures(){let rt="animation";for(rt in featureDefinitions){const it=featureDefinitions[rt];if(!it)continue;const{isEnabled:lt,Feature:ct}=it;if(!this.features[rt]&&ct&&lt(this.props)&&(this.features[rt]=new ct(this)),this.features[rt]){const ut=this.features[rt];ut.isMounted?ut.update():(ut.mount(),ut.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(rt){return this.latestValues[rt]}setStaticValue(rt,it){this.latestValues[rt]=it}update(rt,it){(rt.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=rt,this.prevPresenceContext=this.presenceContext,this.presenceContext=it;for(let lt=0;lt<propEventHandlers.length;lt++){const ct=propEventHandlers[lt];this.propEventSubscriptions[ct]&&(this.propEventSubscriptions[ct](),delete this.propEventSubscriptions[ct]);const ut="on"+ct,ht=rt[ut];ht&&(this.propEventSubscriptions[ct]=this.on(ct,ht))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(rt,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(rt){return this.props.variants?this.props.variants[rt]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(rt){const it=this.getClosestVariantNode();if(it)return it.variantChildren&&it.variantChildren.add(rt),()=>it.variantChildren.delete(rt)}addValue(rt,it){const lt=this.values.get(rt);it!==lt&&(lt&&this.removeValue(rt),this.bindToMotionValue(rt,it),this.values.set(rt,it),this.latestValues[rt]=it.get())}removeValue(rt){this.values.delete(rt);const it=this.valueSubscriptions.get(rt);it&&(it(),this.valueSubscriptions.delete(rt)),delete this.latestValues[rt],this.removeValueFromRenderState(rt,this.renderState)}hasValue(rt){return this.values.has(rt)}getValue(rt,it){if(this.props.values&&this.props.values[rt])return this.props.values[rt];let lt=this.values.get(rt);return lt===void 0&&it!==void 0&&(lt=motionValue(it===null?void 0:it,{owner:this}),this.addValue(rt,lt)),lt}readValue(rt,it){let lt=this.latestValues[rt]!==void 0||!this.current?this.latestValues[rt]:this.getBaseTargetFromProps(this.props,rt)??this.readValueFromInstance(this.current,rt,this.options);return lt!=null&&(typeof lt=="string"&&(isNumericalString(lt)||isZeroValueString(lt))?lt=parseFloat(lt):!findValueType(lt)&&complex.test(it)&&(lt=getAnimatableNone(rt,it)),this.setBaseTarget(rt,isMotionValue(lt)?lt.get():lt)),isMotionValue(lt)?lt.get():lt}setBaseTarget(rt,it){this.baseTarget[rt]=it}getBaseTarget(rt){const{initial:it}=this.props;let lt;if(typeof it=="string"||typeof it=="object"){const ut=resolveVariantFromProps(this.props,it,this.presenceContext?.custom);ut&&(lt=ut[rt])}if(it&&lt!==void 0)return lt;const ct=this.getBaseTargetFromProps(this.props,rt);return ct!==void 0&&!isMotionValue(ct)?ct:this.initialValues[rt]!==void 0&&lt===void 0?void 0:this.baseTarget[rt]}on(rt,it){return this.events[rt]||(this.events[rt]=new SubscriptionManager),this.events[rt].add(it)}notify(rt,...it){this.events[rt]&&this.events[rt].notify(...it)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(rt,it){return rt.compareDocumentPosition(it)&2?1:-1}getBaseTargetFromProps(rt,it){return rt.style?rt.style[it]:void 0}removeValueFromRenderState(rt,{vars:it,style:lt}){delete it[rt],delete lt[rt]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:rt}=this.props;isMotionValue(rt)&&(this.childSubscription=rt.on("change",it=>{this.current&&(this.current.textContent=`${it}`)}))}}function renderHTML(Ye,{style:rt,vars:it},lt,ct){const ut=Ye.style;let ht;for(ht in rt)ut[ht]=rt[ht];ct?.applyProjectionStyles(ut,lt);for(ht in it)ut.setProperty(ht,it[ht])}function getComputedStyle$2(Ye){return window.getComputedStyle(Ye)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(rt,it){if(transformProps.has(it))return this.projection?.isProjecting?defaultTransformValue(it):readTransformValue(rt,it);{const lt=getComputedStyle$2(rt),ct=(isCSSVariableName(it)?lt.getPropertyValue(it):lt[it])||0;return typeof ct=="string"?ct.trim():ct}}measureInstanceViewportBox(rt,{transformPagePoint:it}){return measureViewportBox(rt,it)}build(rt,it,lt){buildHTMLStyles(rt,it,lt.transformTemplate)}scrapeMotionValuesFromProps(rt,it,lt){return scrapeMotionValuesFromProps$1(rt,it,lt)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(Ye,rt,it,lt){renderHTML(Ye,rt,void 0,lt);for(const ct in rt.attrs)Ye.setAttribute(camelCaseAttributes.has(ct)?ct:camelToDash(ct),rt.attrs[ct])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(rt,it){return rt[it]}readValueFromInstance(rt,it){if(transformProps.has(it)){const lt=getDefaultValueType(it);return lt&&lt.default||0}return it=camelCaseAttributes.has(it)?it:camelToDash(it),rt.getAttribute(it)}scrapeMotionValuesFromProps(rt,it,lt){return scrapeMotionValuesFromProps(rt,it,lt)}build(rt,it,lt){buildSVGAttrs(rt,it,this.isSVGTag,lt.transformTemplate,lt.style)}renderInstance(rt,it,lt,ct){renderSVG(rt,it,lt,ct)}mount(rt){this.isSVGTag=isSVGTag(rt.tagName),super.mount(rt)}}const createDomVisualElement=(Ye,rt)=>isSVGComponent(Ye)?new SVGVisualElement(rt):new HTMLVisualElement(rt,{allowProjection:Ye!==reactExports.Fragment});function resolveVariant(Ye,rt,it){const lt=Ye.getProps();return resolveVariantFromProps(lt,rt,it!==void 0?it:lt.custom,Ye)}const isKeyframesTarget=Ye=>Array.isArray(Ye);function setMotionValue(Ye,rt,it){Ye.hasValue(rt)?Ye.getValue(rt).set(it):Ye.addValue(rt,motionValue(it))}function resolveFinalValueInKeyframes(Ye){return isKeyframesTarget(Ye)?Ye[Ye.length-1]||0:Ye}function setTarget(Ye,rt){const it=resolveVariant(Ye,rt);let{transitionEnd:lt={},transition:ct={},...ut}=it||{};ut={...ut,...lt};for(const ht in ut){const ft=resolveFinalValueInKeyframes(ut[ht]);setMotionValue(Ye,ht,ft)}}function isWillChangeMotionValue(Ye){return!!(isMotionValue(Ye)&&Ye.add)}function addValueToWillChange(Ye,rt){const it=Ye.getValue("willChange");if(isWillChangeMotionValue(it))return it.add(rt);if(!it&&MotionGlobalConfig.WillChange){const lt=new MotionGlobalConfig.WillChange("auto");Ye.addValue("willChange",lt),lt.add(rt)}}function getOptimisedAppearId(Ye){return Ye.props[optimizedAppearDataAttribute]}const isNotNull$1=Ye=>Ye!==null;function getFinalKeyframe(Ye,{repeat:rt,repeatType:it="loop"},lt){const ct=Ye.filter(isNotNull$1),ut=rt&&it!=="loop"&&rt%2===1?0:ct.length-1;return ct[ut]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=Ye=>({type:"spring",stiffness:550,damping:Ye===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(Ye,{keyframes:rt})=>rt.length>2?keyframesTransition:transformProps.has(Ye)?Ye.startsWith("scale")?criticallyDampedSpring(rt[1]):underDampedSpring:ease;function isTransitionDefined({when:Ye,delay:rt,delayChildren:it,staggerChildren:lt,staggerDirection:ct,repeat:ut,repeatType:ht,repeatDelay:ft,from:pt,elapsed:mt,...gt}){return!!Object.keys(gt).length}const animateMotionValue=(Ye,rt,it,lt={},ct,ut)=>ht=>{const ft=getValueTransition(lt,Ye)||{},pt=ft.delay||lt.delay||0;let{elapsed:mt=0}=lt;mt=mt-secondsToMilliseconds(pt);const gt={keyframes:Array.isArray(it)?it:[null,it],ease:"easeOut",velocity:rt.getVelocity(),...ft,delay:-mt,onUpdate:xt=>{rt.set(xt),ft.onUpdate&&ft.onUpdate(xt)},onComplete:()=>{ht(),ft.onComplete&&ft.onComplete()},name:Ye,motionValue:rt,element:ut?void 0:ct};isTransitionDefined(ft)||Object.assign(gt,getDefaultTransition(Ye,gt)),gt.duration&&(gt.duration=secondsToMilliseconds(gt.duration)),gt.repeatDelay&&(gt.repeatDelay=secondsToMilliseconds(gt.repeatDelay)),gt.from!==void 0&&(gt.keyframes[0]=gt.from);let yt=!1;if((gt.type===!1||gt.duration===0&&!gt.repeatDelay)&&(makeAnimationInstant(gt),gt.delay===0&&(yt=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(yt=!0,makeAnimationInstant(gt),gt.delay=0),gt.allowFlatten=!ft.type&&!ft.ease,yt&&!ut&&rt.get()!==void 0){const xt=getFinalKeyframe(gt.keyframes,ft);if(xt!==void 0){frame$1.update(()=>{gt.onUpdate(xt),gt.onComplete()});return}}return ft.isSync?new JSAnimation(gt):new AsyncMotionValueAnimation(gt)};function shouldBlockAnimation({protectedKeys:Ye,needsAnimating:rt},it){const lt=Ye.hasOwnProperty(it)&&rt[it]!==!0;return rt[it]=!1,lt}function animateTarget(Ye,rt,{delay:it=0,transitionOverride:lt,type:ct}={}){let{transition:ut=Ye.getDefaultTransition(),transitionEnd:ht,...ft}=rt;lt&&(ut=lt);const pt=[],mt=ct&&Ye.animationState&&Ye.animationState.getState()[ct];for(const gt in ft){const yt=Ye.getValue(gt,Ye.latestValues[gt]??null),xt=ft[gt];if(xt===void 0||mt&&shouldBlockAnimation(mt,gt))continue;const bt={delay:it,...getValueTransition(ut||{},gt)},_t=yt.get();if(_t!==void 0&&!yt.isAnimating&&!Array.isArray(xt)&&xt===_t&&!bt.velocity)continue;let Ct=!1;if(window.MotionHandoffAnimation){const St=getOptimisedAppearId(Ye);if(St){const Rt=window.MotionHandoffAnimation(St,gt,frame$1);Rt!==null&&(bt.startTime=Rt,Ct=!0)}}addValueToWillChange(Ye,gt),yt.start(animateMotionValue(gt,yt,xt,Ye.shouldReduceMotion&&positionalKeys.has(gt)?{type:!1}:bt,Ye,Ct));const kt=yt.animation;kt&&pt.push(kt)}return ht&&Promise.all(pt).then(()=>{frame$1.update(()=>{ht&&setTarget(Ye,ht)})}),pt}function calcChildStagger(Ye,rt,it,lt=0,ct=1){const ut=Array.from(Ye).sort((mt,gt)=>mt.sortNodePosition(gt)).indexOf(rt),ht=Ye.size,ft=(ht-1)*lt;return typeof it=="function"?it(ut,ht):ct===1?ut*lt:ft-ut*lt}function animateVariant(Ye,rt,it={}){const lt=resolveVariant(Ye,rt,it.type==="exit"?Ye.presenceContext?.custom:void 0);let{transition:ct=Ye.getDefaultTransition()||{}}=lt||{};it.transitionOverride&&(ct=it.transitionOverride);const ut=lt?()=>Promise.all(animateTarget(Ye,lt,it)):()=>Promise.resolve(),ht=Ye.variantChildren&&Ye.variantChildren.size?(pt=0)=>{const{delayChildren:mt=0,staggerChildren:gt,staggerDirection:yt}=ct;return animateChildren(Ye,rt,pt,mt,gt,yt,it)}:()=>Promise.resolve(),{when:ft}=ct;if(ft){const[pt,mt]=ft==="beforeChildren"?[ut,ht]:[ht,ut];return pt().then(()=>mt())}else return Promise.all([ut(),ht(it.delay)])}function animateChildren(Ye,rt,it=0,lt=0,ct=0,ut=1,ht){const ft=[];for(const pt of Ye.variantChildren)pt.notify("AnimationStart",rt),ft.push(animateVariant(pt,rt,{...ht,delay:it+(typeof lt=="function"?0:lt)+calcChildStagger(Ye.variantChildren,pt,lt,ct,ut)}).then(()=>pt.notify("AnimationComplete",rt)));return Promise.all(ft)}function animateVisualElement(Ye,rt,it={}){Ye.notify("AnimationStart",rt);let lt;if(Array.isArray(rt)){const ct=rt.map(ut=>animateVariant(Ye,ut,it));lt=Promise.all(ct)}else if(typeof rt=="string")lt=animateVariant(Ye,rt,it);else{const ct=typeof rt=="function"?resolveVariant(Ye,rt,it.custom):rt;lt=Promise.all(animateTarget(Ye,ct,it))}return lt.then(()=>{Ye.notify("AnimationComplete",rt)})}function shallowCompare(Ye,rt){if(!Array.isArray(rt))return!1;const it=rt.length;if(it!==Ye.length)return!1;for(let lt=0;lt<it;lt++)if(rt[lt]!==Ye[lt])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(Ye){if(!Ye)return;if(!Ye.isControllingVariants){const it=Ye.parent?getVariantContext(Ye.parent)||{}:{};return Ye.props.initial!==void 0&&(it.initial=Ye.props.initial),it}const rt={};for(let it=0;it<numVariantProps;it++){const lt=variantProps[it],ct=Ye.props[lt];(isVariantLabel(ct)||ct===!1)&&(rt[lt]=ct)}return rt}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(Ye){return rt=>Promise.all(rt.map(({animation:it,options:lt})=>animateVisualElement(Ye,it,lt)))}function createAnimationState(Ye){let rt=animateList(Ye),it=createState$1(),lt=!0;const ct=pt=>(mt,gt)=>{const yt=resolveVariant(Ye,gt,pt==="exit"?Ye.presenceContext?.custom:void 0);if(yt){const{transition:xt,transitionEnd:bt,..._t}=yt;mt={...mt,..._t,...bt}}return mt};function ut(pt){rt=pt(Ye)}function ht(pt){const{props:mt}=Ye,gt=getVariantContext(Ye.parent)||{},yt=[],xt=new Set;let bt={},_t=1/0;for(let kt=0;kt<numAnimationTypes;kt++){const St=reversePriorityOrder[kt],Rt=it[St],Tt=mt[St]!==void 0?mt[St]:gt[St],Mt=isVariantLabel(Tt),Pt=St===pt?Rt.isActive:null;Pt===!1&&(_t=kt);let It=Tt===gt[St]&&Tt!==mt[St]&&Mt;if(It&&lt&&Ye.manuallyAnimateOnMount&&(It=!1),Rt.protectedKeys={...bt},!Rt.isActive&&Pt===null||!Tt&&!Rt.prevProp||isAnimationControls(Tt)||typeof Tt=="boolean")continue;const Lt=checkVariantsDidChange(Rt.prevProp,Tt);let Ot=Lt||St===pt&&Rt.isActive&&!It&&Mt||kt>_t&&Mt,Ft=!1;const Ut=Array.isArray(Tt)?Tt:[Tt];let Wt=Ut.reduce(ct(St),{});Pt===!1&&(Wt={});const{prevResolvedValues:Kt={}}=Rt,Qt={...Kt,...Wt},Zt=zt=>{Ot=!0,xt.has(zt)&&(Ft=!0,xt.delete(zt)),Rt.needsAnimating[zt]=!0;const Nt=Ye.getValue(zt);Nt&&(Nt.liveStyle=!1)};for(const zt in Qt){const Nt=Wt[zt],qt=Kt[zt];if(bt.hasOwnProperty(zt))continue;let Gt=!1;isKeyframesTarget(Nt)&&isKeyframesTarget(qt)?Gt=!shallowCompare(Nt,qt):Gt=Nt!==qt,Gt?Nt!=null?Zt(zt):xt.add(zt):Nt!==void 0&&xt.has(zt)?Zt(zt):Rt.protectedKeys[zt]=!0}Rt.prevProp=Tt,Rt.prevResolvedValues=Wt,Rt.isActive&&(bt={...bt,...Wt}),lt&&Ye.blockInitialAnimation&&(Ot=!1);const Vt=It&&Lt;Ot&&(!Vt||Ft)&&yt.push(...Ut.map(zt=>{const Nt={type:St};if(typeof zt=="string"&&lt&&!Vt&&Ye.manuallyAnimateOnMount&&Ye.parent){const{parent:qt}=Ye,Gt=resolveVariant(qt,zt);if(qt.enteringChildren&&Gt){const{delayChildren:Ht}=Gt.transition||{};Nt.delay=calcChildStagger(qt.enteringChildren,Ye,Ht)}}return{animation:zt,options:Nt}}))}if(xt.size){const kt={};if(typeof mt.initial!="boolean"){const St=resolveVariant(Ye,Array.isArray(mt.initial)?mt.initial[0]:mt.initial);St&&St.transition&&(kt.transition=St.transition)}xt.forEach(St=>{const Rt=Ye.getBaseTarget(St),Tt=Ye.getValue(St);Tt&&(Tt.liveStyle=!0),kt[St]=Rt??null}),yt.push({animation:kt})}let Ct=!!yt.length;return lt&&(mt.initial===!1||mt.initial===mt.animate)&&!Ye.manuallyAnimateOnMount&&(Ct=!1),lt=!1,Ct?rt(yt):Promise.resolve()}function ft(pt,mt){if(it[pt].isActive===mt)return Promise.resolve();Ye.variantChildren?.forEach(yt=>yt.animationState?.setActive(pt,mt)),it[pt].isActive=mt;const gt=ht(pt);for(const yt in it)it[yt].protectedKeys={};return gt}return{animateChanges:ht,setActive:ft,setAnimateFunction:ut,getState:()=>it,reset:()=>{it=createState$1()}}}function checkVariantsDidChange(Ye,rt){return typeof rt=="string"?rt!==Ye:Array.isArray(rt)?!shallowCompare(rt,Ye):!1}function createTypeState(Ye=!1){return{isActive:Ye,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(rt){this.isMounted=!1,this.node=rt}update(){}}class AnimationFeature extends Feature{constructor(rt){super(rt),rt.animationState||(rt.animationState=createAnimationState(rt))}updateAnimationControlsSubscription(){const{animate:rt}=this.node.getProps();isAnimationControls(rt)&&(this.unmountControls=rt.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:rt}=this.node.getProps(),{animate:it}=this.node.prevProps||{};rt!==it&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$3=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$3++}update(){if(!this.node.presenceContext)return;const{isPresent:rt,onExitComplete:it}=this.node.presenceContext,{isPresent:lt}=this.node.prevPresenceContext||{};if(!this.node.animationState||rt===lt)return;const ct=this.node.animationState.setActive("exit",!rt);it&&!rt&&ct.then(()=>{it(this.id)})}mount(){const{register:rt,onExitComplete:it}=this.node.presenceContext||{};it&&it(this.id),rt&&(this.unmount=rt(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(Ye,rt,it,lt={passive:!0}){return Ye.addEventListener(rt,it,lt),()=>Ye.removeEventListener(rt,it)}function extractEventInfo(Ye){return{point:{x:Ye.pageX,y:Ye.pageY}}}const addPointerInfo=Ye=>rt=>isPrimaryPointer(rt)&&Ye(rt,extractEventInfo(rt));function addPointerEvent(Ye,rt,it,lt){return addDomEvent(Ye,rt,addPointerInfo(it),lt)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(Ye){return Ye.max-Ye.min}function isNear$1(Ye,rt,it){return Math.abs(Ye-rt)<=it}function calcAxisDelta(Ye,rt,it,lt=.5){Ye.origin=lt,Ye.originPoint=mixNumber$1(rt.min,rt.max,Ye.origin),Ye.scale=calcLength(it)/calcLength(rt),Ye.translate=mixNumber$1(it.min,it.max,Ye.origin)-Ye.originPoint,(Ye.scale>=SCALE_MIN&&Ye.scale<=SCALE_MAX||isNaN(Ye.scale))&&(Ye.scale=1),(Ye.translate>=TRANSLATE_MIN&&Ye.translate<=TRANSLATE_MAX||isNaN(Ye.translate))&&(Ye.translate=0)}function calcBoxDelta(Ye,rt,it,lt){calcAxisDelta(Ye.x,rt.x,it.x,lt?lt.originX:void 0),calcAxisDelta(Ye.y,rt.y,it.y,lt?lt.originY:void 0)}function calcRelativeAxis(Ye,rt,it){Ye.min=it.min+rt.min,Ye.max=Ye.min+calcLength(rt)}function calcRelativeBox(Ye,rt,it){calcRelativeAxis(Ye.x,rt.x,it.x),calcRelativeAxis(Ye.y,rt.y,it.y)}function calcRelativeAxisPosition(Ye,rt,it){Ye.min=rt.min-it.min,Ye.max=Ye.min+calcLength(rt)}function calcRelativePosition(Ye,rt,it){calcRelativeAxisPosition(Ye.x,rt.x,it.x),calcRelativeAxisPosition(Ye.y,rt.y,it.y)}function eachAxis(Ye){return[Ye("x"),Ye("y")]}const getContextWindow=({current:Ye})=>Ye?Ye.ownerDocument.defaultView:null,distance$1=(Ye,rt)=>Math.abs(Ye-rt);function distance2D(Ye,rt){const it=distance$1(Ye.x,rt.x),lt=distance$1(Ye.y,rt.y);return Math.sqrt(it**2+lt**2)}class PanSession{constructor(rt,it,{transformPagePoint:lt,contextWindow:ct=window,dragSnapToOrigin:ut=!1,distanceThreshold:ht=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const xt=getPanInfo(this.lastMoveEventInfo,this.history),bt=this.startEvent!==null,_t=distance2D(xt.offset,{x:0,y:0})>=this.distanceThreshold;if(!bt&&!_t)return;const{point:Ct}=xt,{timestamp:kt}=frameData;this.history.push({...Ct,timestamp:kt});const{onStart:St,onMove:Rt}=this.handlers;bt||(St&&St(this.lastMoveEvent,xt),this.startEvent=this.lastMoveEvent),Rt&&Rt(this.lastMoveEvent,xt)},this.handlePointerMove=(xt,bt)=>{this.lastMoveEvent=xt,this.lastMoveEventInfo=transformPoint(bt,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(xt,bt)=>{this.end();const{onEnd:_t,onSessionEnd:Ct,resumeAnimation:kt}=this.handlers;if(this.dragSnapToOrigin&&kt&&kt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const St=getPanInfo(xt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(bt,this.transformPagePoint),this.history);this.startEvent&&_t&&_t(xt,St),Ct&&Ct(xt,St)},!isPrimaryPointer(rt))return;this.dragSnapToOrigin=ut,this.handlers=it,this.transformPagePoint=lt,this.distanceThreshold=ht,this.contextWindow=ct||window;const ft=extractEventInfo(rt),pt=transformPoint(ft,this.transformPagePoint),{point:mt}=pt,{timestamp:gt}=frameData;this.history=[{...mt,timestamp:gt}];const{onSessionStart:yt}=it;yt&&yt(rt,getPanInfo(pt,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(rt){this.handlers=rt}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(Ye,rt){return rt?{point:rt(Ye.point)}:Ye}function subtractPoint(Ye,rt){return{x:Ye.x-rt.x,y:Ye.y-rt.y}}function getPanInfo({point:Ye},rt){return{point:Ye,delta:subtractPoint(Ye,lastDevicePoint(rt)),offset:subtractPoint(Ye,startDevicePoint(rt)),velocity:getVelocity(rt,.1)}}function startDevicePoint(Ye){return Ye[0]}function lastDevicePoint(Ye){return Ye[Ye.length-1]}function getVelocity(Ye,rt){if(Ye.length<2)return{x:0,y:0};let it=Ye.length-1,lt=null;const ct=lastDevicePoint(Ye);for(;it>=0&&(lt=Ye[it],!(ct.timestamp-lt.timestamp>secondsToMilliseconds(rt)));)it--;if(!lt)return{x:0,y:0};const ut=millisecondsToSeconds(ct.timestamp-lt.timestamp);if(ut===0)return{x:0,y:0};const ht={x:(ct.x-lt.x)/ut,y:(ct.y-lt.y)/ut};return ht.x===1/0&&(ht.x=0),ht.y===1/0&&(ht.y=0),ht}function applyConstraints(Ye,{min:rt,max:it},lt){return rt!==void 0&&Ye<rt?Ye=lt?mixNumber$1(rt,Ye,lt.min):Math.max(Ye,rt):it!==void 0&&Ye>it&&(Ye=lt?mixNumber$1(it,Ye,lt.max):Math.min(Ye,it)),Ye}function calcRelativeAxisConstraints(Ye,rt,it){return{min:rt!==void 0?Ye.min+rt:void 0,max:it!==void 0?Ye.max+it-(Ye.max-Ye.min):void 0}}function calcRelativeConstraints(Ye,{top:rt,left:it,bottom:lt,right:ct}){return{x:calcRelativeAxisConstraints(Ye.x,it,ct),y:calcRelativeAxisConstraints(Ye.y,rt,lt)}}function calcViewportAxisConstraints(Ye,rt){let it=rt.min-Ye.min,lt=rt.max-Ye.max;return rt.max-rt.min<Ye.max-Ye.min&&([it,lt]=[lt,it]),{min:it,max:lt}}function calcViewportConstraints(Ye,rt){return{x:calcViewportAxisConstraints(Ye.x,rt.x),y:calcViewportAxisConstraints(Ye.y,rt.y)}}function calcOrigin(Ye,rt){let it=.5;const lt=calcLength(Ye),ct=calcLength(rt);return ct>lt?it=progress(rt.min,rt.max-lt,Ye.min):lt>ct&&(it=progress(Ye.min,Ye.max-ct,rt.min)),clamp$1(0,1,it)}function rebaseAxisConstraints(Ye,rt){const it={};return rt.min!==void 0&&(it.min=rt.min-Ye.min),rt.max!==void 0&&(it.max=rt.max-Ye.min),it}const defaultElastic=.35;function resolveDragElastic(Ye=defaultElastic){return Ye===!1?Ye=0:Ye===!0&&(Ye=defaultElastic),{x:resolveAxisElastic(Ye,"left","right"),y:resolveAxisElastic(Ye,"top","bottom")}}function resolveAxisElastic(Ye,rt,it){return{min:resolvePointElastic(Ye,rt),max:resolvePointElastic(Ye,it)}}function resolvePointElastic(Ye,rt){return typeof Ye=="number"?Ye:Ye[rt]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(rt){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=rt}start(rt,{snapToCursor:it=!1,distanceThreshold:lt}={}){const{presenceContext:ct}=this.visualElement;if(ct&&ct.isPresent===!1)return;const ut=yt=>{const{dragSnapToOrigin:xt}=this.getProps();xt?this.pauseAnimation():this.stopAnimation(),it&&this.snapToCursor(extractEventInfo(yt).point)},ht=(yt,xt)=>{const{drag:bt,dragPropagation:_t,onDragStart:Ct}=this.getProps();if(bt&&!_t&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(bt),!this.openDragLock))return;this.latestPointerEvent=yt,this.latestPanInfo=xt,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(St=>{let Rt=this.getAxisMotionValue(St).get()||0;if(percent.test(Rt)){const{projection:Tt}=this.visualElement;if(Tt&&Tt.layout){const Mt=Tt.layout.layoutBox[St];Mt&&(Rt=calcLength(Mt)*(parseFloat(Rt)/100))}}this.originPoint[St]=Rt}),Ct&&frame$1.postRender(()=>Ct(yt,xt)),addValueToWillChange(this.visualElement,"transform");const{animationState:kt}=this.visualElement;kt&&kt.setActive("whileDrag",!0)},ft=(yt,xt)=>{this.latestPointerEvent=yt,this.latestPanInfo=xt;const{dragPropagation:bt,dragDirectionLock:_t,onDirectionLock:Ct,onDrag:kt}=this.getProps();if(!bt&&!this.openDragLock)return;const{offset:St}=xt;if(_t&&this.currentDirection===null){this.currentDirection=getCurrentDirection(St),this.currentDirection!==null&&Ct&&Ct(this.currentDirection);return}this.updateAxis("x",xt.point,St),this.updateAxis("y",xt.point,St),this.visualElement.render(),kt&&kt(yt,xt)},pt=(yt,xt)=>{this.latestPointerEvent=yt,this.latestPanInfo=xt,this.stop(yt,xt),this.latestPointerEvent=null,this.latestPanInfo=null},mt=()=>eachAxis(yt=>this.getAnimationState(yt)==="paused"&&this.getAxisMotionValue(yt).animation?.play()),{dragSnapToOrigin:gt}=this.getProps();this.panSession=new PanSession(rt,{onSessionStart:ut,onStart:ht,onMove:ft,onSessionEnd:pt,resumeAnimation:mt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:gt,distanceThreshold:lt,contextWindow:getContextWindow(this.visualElement)})}stop(rt,it){const lt=rt||this.latestPointerEvent,ct=it||this.latestPanInfo,ut=this.isDragging;if(this.cancel(),!ut||!ct||!lt)return;const{velocity:ht}=ct;this.startAnimation(ht);const{onDragEnd:ft}=this.getProps();ft&&frame$1.postRender(()=>ft(lt,ct))}cancel(){this.isDragging=!1;const{projection:rt,animationState:it}=this.visualElement;rt&&(rt.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:lt}=this.getProps();!lt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),it&&it.setActive("whileDrag",!1)}updateAxis(rt,it,lt){const{drag:ct}=this.getProps();if(!lt||!shouldDrag(rt,ct,this.currentDirection))return;const ut=this.getAxisMotionValue(rt);let ht=this.originPoint[rt]+lt[rt];this.constraints&&this.constraints[rt]&&(ht=applyConstraints(ht,this.constraints[rt],this.elastic[rt])),ut.set(ht)}resolveConstraints(){const{dragConstraints:rt,dragElastic:it}=this.getProps(),lt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,ct=this.constraints;rt&&isRefObject(rt)?this.constraints||(this.constraints=this.resolveRefConstraints()):rt&&lt?this.constraints=calcRelativeConstraints(lt.layoutBox,rt):this.constraints=!1,this.elastic=resolveDragElastic(it),ct!==this.constraints&&lt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(ut=>{this.constraints!==!1&&this.getAxisMotionValue(ut)&&(this.constraints[ut]=rebaseAxisConstraints(lt.layoutBox[ut],this.constraints[ut]))})}resolveRefConstraints(){const{dragConstraints:rt,onMeasureDragConstraints:it}=this.getProps();if(!rt||!isRefObject(rt))return!1;const lt=rt.current,{projection:ct}=this.visualElement;if(!ct||!ct.layout)return!1;const ut=measurePageBox(lt,ct.root,this.visualElement.getTransformPagePoint());let ht=calcViewportConstraints(ct.layout.layoutBox,ut);if(it){const ft=it(convertBoxToBoundingBox(ht));this.hasMutatedConstraints=!!ft,ft&&(ht=convertBoundingBoxToBox(ft))}return ht}startAnimation(rt){const{drag:it,dragMomentum:lt,dragElastic:ct,dragTransition:ut,dragSnapToOrigin:ht,onDragTransitionEnd:ft}=this.getProps(),pt=this.constraints||{},mt=eachAxis(gt=>{if(!shouldDrag(gt,it,this.currentDirection))return;let yt=pt&&pt[gt]||{};ht&&(yt={min:0,max:0});const xt=ct?200:1e6,bt=ct?40:1e7,_t={type:"inertia",velocity:lt?rt[gt]:0,bounceStiffness:xt,bounceDamping:bt,timeConstant:750,restDelta:1,restSpeed:10,...ut,...yt};return this.startAxisValueAnimation(gt,_t)});return Promise.all(mt).then(ft)}startAxisValueAnimation(rt,it){const lt=this.getAxisMotionValue(rt);return addValueToWillChange(this.visualElement,rt),lt.start(animateMotionValue(rt,lt,0,it,this.visualElement,!1))}stopAnimation(){eachAxis(rt=>this.getAxisMotionValue(rt).stop())}pauseAnimation(){eachAxis(rt=>this.getAxisMotionValue(rt).animation?.pause())}getAnimationState(rt){return this.getAxisMotionValue(rt).animation?.state}getAxisMotionValue(rt){const it=`_drag${rt.toUpperCase()}`,lt=this.visualElement.getProps(),ct=lt[it];return ct||this.visualElement.getValue(rt,(lt.initial?lt.initial[rt]:void 0)||0)}snapToCursor(rt){eachAxis(it=>{const{drag:lt}=this.getProps();if(!shouldDrag(it,lt,this.currentDirection))return;const{projection:ct}=this.visualElement,ut=this.getAxisMotionValue(it);if(ct&&ct.layout){const{min:ht,max:ft}=ct.layout.layoutBox[it];ut.set(rt[it]-mixNumber$1(ht,ft,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:rt,dragConstraints:it}=this.getProps(),{projection:lt}=this.visualElement;if(!isRefObject(it)||!lt||!this.constraints)return;this.stopAnimation();const ct={x:0,y:0};eachAxis(ht=>{const ft=this.getAxisMotionValue(ht);if(ft&&this.constraints!==!1){const pt=ft.get();ct[ht]=calcOrigin({min:pt,max:pt},this.constraints[ht])}});const{transformTemplate:ut}=this.visualElement.getProps();this.visualElement.current.style.transform=ut?ut({},""):"none",lt.root&&lt.root.updateScroll(),lt.updateLayout(),this.resolveConstraints(),eachAxis(ht=>{if(!shouldDrag(ht,rt,null))return;const ft=this.getAxisMotionValue(ht),{min:pt,max:mt}=this.constraints[ht];ft.set(mixNumber$1(pt,mt,ct[ht]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const rt=this.visualElement.current,it=addPointerEvent(rt,"pointerdown",pt=>{const{drag:mt,dragListener:gt=!0}=this.getProps();mt&&gt&&this.start(pt)}),lt=()=>{const{dragConstraints:pt}=this.getProps();isRefObject(pt)&&pt.current&&(this.constraints=this.resolveRefConstraints())},{projection:ct}=this.visualElement,ut=ct.addEventListener("measure",lt);ct&&!ct.layout&&(ct.root&&ct.root.updateScroll(),ct.updateLayout()),frame$1.read(lt);const ht=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ft=ct.addEventListener("didUpdate",(({delta:pt,hasLayoutChanged:mt})=>{this.isDragging&&mt&&(eachAxis(gt=>{const yt=this.getAxisMotionValue(gt);yt&&(this.originPoint[gt]+=pt[gt].translate,yt.set(yt.get()+pt[gt].translate))}),this.visualElement.render())}));return()=>{ht(),it(),ut(),ft&&ft()}}getProps(){const rt=this.visualElement.getProps(),{drag:it=!1,dragDirectionLock:lt=!1,dragPropagation:ct=!1,dragConstraints:ut=!1,dragElastic:ht=defaultElastic,dragMomentum:ft=!0}=rt;return{...rt,drag:it,dragDirectionLock:lt,dragPropagation:ct,dragConstraints:ut,dragElastic:ht,dragMomentum:ft}}}function shouldDrag(Ye,rt,it){return(rt===!0||rt===Ye)&&(it===null||it===Ye)}function getCurrentDirection(Ye,rt=10){let it=null;return Math.abs(Ye.y)>rt?it="y":Math.abs(Ye.x)>rt&&(it="x"),it}class DragGesture extends Feature{constructor(rt){super(rt),this.removeGroupControls=noop$5,this.removeListeners=noop$5,this.controls=new VisualElementDragControls(rt)}mount(){const{dragControls:rt}=this.node.getProps();rt&&(this.removeGroupControls=rt.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$5}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=Ye=>(rt,it)=>{Ye&&frame$1.postRender(()=>Ye(rt,it))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$5}onPointerDown(rt){this.session=new PanSession(rt,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:rt,onPanStart:it,onPan:lt,onPanEnd:ct}=this.node.getProps();return{onSessionStart:asyncHandler(rt),onStart:asyncHandler(it),onMove:lt,onEnd:(ut,ht)=>{delete this.session,ct&&frame$1.postRender(()=>ct(ut,ht))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",rt=>this.onPointerDown(rt))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(Ye,rt){return rt.max===rt.min?0:Ye/(rt.max-rt.min)*100}const correctBorderRadius={correct:(Ye,rt)=>{if(!rt.target)return Ye;if(typeof Ye=="string")if(px.test(Ye))Ye=parseFloat(Ye);else return Ye;const it=pixelsToPercent(Ye,rt.target.x),lt=pixelsToPercent(Ye,rt.target.y);return`${it}% ${lt}%`}},correctBoxShadow={correct:(Ye,{treeScale:rt,projectionDelta:it})=>{const lt=Ye,ct=complex.parse(Ye);if(ct.length>5)return lt;const ut=complex.createTransformer(Ye),ht=typeof ct[0]!="number"?1:0,ft=it.x.scale*rt.x,pt=it.y.scale*rt.y;ct[0+ht]/=ft,ct[1+ht]/=pt;const mt=mixNumber$1(ft,pt,.5);return typeof ct[2+ht]=="number"&&(ct[2+ht]/=mt),typeof ct[3+ht]=="number"&&(ct[3+ht]/=mt),ut(ct)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:rt,layoutGroup:it,switchLayoutGroup:lt,layoutId:ct}=this.props,{projection:ut}=rt;addScaleCorrector(defaultScaleCorrectors),ut&&(it.group&&it.group.add(ut),lt&&lt.register&&ct&&lt.register(ut),hasTakenAnySnapshot&&ut.root.didUpdate(),ut.addEventListener("animationComplete",()=>{this.safeToRemove()}),ut.setOptions({...ut.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(rt){const{layoutDependency:it,visualElement:lt,drag:ct,isPresent:ut}=this.props,{projection:ht}=lt;return ht&&(ht.isPresent=ut,hasTakenAnySnapshot=!0,ct||rt.layoutDependency!==it||it===void 0||rt.isPresent!==ut?ht.willUpdate():this.safeToRemove(),rt.isPresent!==ut&&(ut?ht.promote():ht.relegate()||frame$1.postRender(()=>{const ft=ht.getStack();(!ft||!ft.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:rt}=this.props.visualElement;rt&&(rt.root.didUpdate(),microtask.postRender(()=>{!rt.currentAnimation&&rt.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:rt,layoutGroup:it,switchLayoutGroup:lt}=this.props,{projection:ct}=rt;hasTakenAnySnapshot=!0,ct&&(ct.scheduleCheckAfterUnmount(),it&&it.group&&it.group.remove(ct),lt&&lt.deregister&&lt.deregister(ct))}safeToRemove(){const{safeToRemove:rt}=this.props;rt&&rt()}render(){return null}}function MeasureLayout(Ye){const[rt,it]=usePresence$1(),lt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...Ye,layoutGroup:lt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:rt,safeToRemove:it})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(Ye,rt,it){const lt=isMotionValue(Ye)?Ye:motionValue(Ye);return lt.start(animateMotionValue("",lt,rt,it)),lt.animation}const compareByDepth=(Ye,rt)=>Ye.depth-rt.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(rt){addUniqueItem(this.children,rt),this.isDirty=!0}remove(rt){removeItem(this.children,rt),this.isDirty=!0}forEach(rt){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(rt)}}function delay(Ye,rt){const it=time$2.now(),lt=({timestamp:ct})=>{const ut=ct-it;ut>=rt&&(cancelFrame(lt),Ye(ut-rt))};return frame$1.setup(lt,!0),()=>cancelFrame(lt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=Ye=>typeof Ye=="string"?parseFloat(Ye):Ye,isPx=Ye=>typeof Ye=="number"||px.test(Ye);function mixValues(Ye,rt,it,lt,ct,ut){ct?(Ye.opacity=mixNumber$1(0,it.opacity??1,easeCrossfadeIn(lt)),Ye.opacityExit=mixNumber$1(rt.opacity??1,0,easeCrossfadeOut(lt))):ut&&(Ye.opacity=mixNumber$1(rt.opacity??1,it.opacity??1,lt));for(let ht=0;ht<numBorders;ht++){const ft=`border${borders[ht]}Radius`;let pt=getRadius(rt,ft),mt=getRadius(it,ft);if(pt===void 0&&mt===void 0)continue;pt||(pt=0),mt||(mt=0),pt===0||mt===0||isPx(pt)===isPx(mt)?(Ye[ft]=Math.max(mixNumber$1(asNumber(pt),asNumber(mt),lt),0),(percent.test(mt)||percent.test(pt))&&(Ye[ft]+="%")):Ye[ft]=mt}(rt.rotate||it.rotate)&&(Ye.rotate=mixNumber$1(rt.rotate||0,it.rotate||0,lt))}function getRadius(Ye,rt){return Ye[rt]!==void 0?Ye[rt]:Ye.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$5);function compress(Ye,rt,it){return lt=>lt<Ye?0:lt>rt?1:it(progress(Ye,rt,lt))}function copyAxisInto(Ye,rt){Ye.min=rt.min,Ye.max=rt.max}function copyBoxInto(Ye,rt){copyAxisInto(Ye.x,rt.x),copyAxisInto(Ye.y,rt.y)}function copyAxisDeltaInto(Ye,rt){Ye.translate=rt.translate,Ye.scale=rt.scale,Ye.originPoint=rt.originPoint,Ye.origin=rt.origin}function removePointDelta(Ye,rt,it,lt,ct){return Ye-=rt,Ye=scalePoint(Ye,1/it,lt),ct!==void 0&&(Ye=scalePoint(Ye,1/ct,lt)),Ye}function removeAxisDelta(Ye,rt=0,it=1,lt=.5,ct,ut=Ye,ht=Ye){if(percent.test(rt)&&(rt=parseFloat(rt),rt=mixNumber$1(ht.min,ht.max,rt/100)-ht.min),typeof rt!="number")return;let ft=mixNumber$1(ut.min,ut.max,lt);Ye===ut&&(ft-=rt),Ye.min=removePointDelta(Ye.min,rt,it,ft,ct),Ye.max=removePointDelta(Ye.max,rt,it,ft,ct)}function removeAxisTransforms(Ye,rt,[it,lt,ct],ut,ht){removeAxisDelta(Ye,rt[it],rt[lt],rt[ct],rt.scale,ut,ht)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(Ye,rt,it,lt){removeAxisTransforms(Ye.x,rt,xKeys,it?it.x:void 0,lt?lt.x:void 0),removeAxisTransforms(Ye.y,rt,yKeys,it?it.y:void 0,lt?lt.y:void 0)}function isAxisDeltaZero(Ye){return Ye.translate===0&&Ye.scale===1}function isDeltaZero(Ye){return isAxisDeltaZero(Ye.x)&&isAxisDeltaZero(Ye.y)}function axisEquals(Ye,rt){return Ye.min===rt.min&&Ye.max===rt.max}function boxEquals(Ye,rt){return axisEquals(Ye.x,rt.x)&&axisEquals(Ye.y,rt.y)}function axisEqualsRounded(Ye,rt){return Math.round(Ye.min)===Math.round(rt.min)&&Math.round(Ye.max)===Math.round(rt.max)}function boxEqualsRounded(Ye,rt){return axisEqualsRounded(Ye.x,rt.x)&&axisEqualsRounded(Ye.y,rt.y)}function aspectRatio(Ye){return calcLength(Ye.x)/calcLength(Ye.y)}function axisDeltaEquals(Ye,rt){return Ye.translate===rt.translate&&Ye.scale===rt.scale&&Ye.originPoint===rt.originPoint}class NodeStack{constructor(){this.members=[]}add(rt){addUniqueItem(this.members,rt),rt.scheduleRender()}remove(rt){if(removeItem(this.members,rt),rt===this.prevLead&&(this.prevLead=void 0),rt===this.lead){const it=this.members[this.members.length-1];it&&this.promote(it)}}relegate(rt){const it=this.members.findIndex(ct=>rt===ct);if(it===0)return!1;let lt;for(let ct=it;ct>=0;ct--){const ut=this.members[ct];if(ut.isPresent!==!1){lt=ut;break}}return lt?(this.promote(lt),!0):!1}promote(rt,it){const lt=this.lead;if(rt!==lt&&(this.prevLead=lt,this.lead=rt,rt.show(),lt)){lt.instance&&lt.scheduleRender(),rt.scheduleRender(),rt.resumeFrom=lt,it&&(rt.resumeFrom.preserveOpacity=!0),lt.snapshot&&(rt.snapshot=lt.snapshot,rt.snapshot.latestValues=lt.animationValues||lt.latestValues),rt.root&&rt.root.isUpdating&&(rt.isLayoutDirty=!0);const{crossfade:ct}=rt.options;ct===!1&&lt.hide()}}exitAnimationComplete(){this.members.forEach(rt=>{const{options:it,resumingFrom:lt}=rt;it.onExitComplete&&it.onExitComplete(),lt&&lt.options.onExitComplete&&lt.options.onExitComplete()})}scheduleRender(){this.members.forEach(rt=>{rt.instance&&rt.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(Ye,rt,it){let lt="";const ct=Ye.x.translate/rt.x,ut=Ye.y.translate/rt.y,ht=it?.z||0;if((ct||ut||ht)&&(lt=`translate3d(${ct}px, ${ut}px, ${ht}px) `),(rt.x!==1||rt.y!==1)&&(lt+=`scale(${1/rt.x}, ${1/rt.y}) `),it){const{transformPerspective:mt,rotate:gt,rotateX:yt,rotateY:xt,skewX:bt,skewY:_t}=it;mt&&(lt=`perspective(${mt}px) ${lt}`),gt&&(lt+=`rotate(${gt}deg) `),yt&&(lt+=`rotateX(${yt}deg) `),xt&&(lt+=`rotateY(${xt}deg) `),bt&&(lt+=`skewX(${bt}deg) `),_t&&(lt+=`skewY(${_t}deg) `)}const ft=Ye.x.scale*rt.x,pt=Ye.y.scale*rt.y;return(ft!==1||pt!==1)&&(lt+=`scale(${ft}, ${pt})`),lt||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id$2=0;function resetDistortingTransform(Ye,rt,it,lt){const{latestValues:ct}=rt;ct[Ye]&&(it[Ye]=ct[Ye],rt.setStaticValue(Ye,0),lt&&(lt[Ye]=0))}function cancelTreeOptimisedTransformAnimations(Ye){if(Ye.hasCheckedOptimisedAppear=!0,Ye.root===Ye)return;const{visualElement:rt}=Ye.options;if(!rt)return;const it=getOptimisedAppearId(rt);if(window.MotionHasOptimisedAnimation(it,"transform")){const{layout:ct,layoutId:ut}=Ye.options;window.MotionCancelOptimisedAnimation(it,"transform",frame$1,!(ct||ut))}const{parent:lt}=Ye;lt&&!lt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(lt)}function createProjectionNode({attachResizeListener:Ye,defaultParent:rt,measureScroll:it,checkIsScrollRoot:lt,resetTransform:ct}){return class{constructor(ht={},ft=rt?.()){this.id=id$2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ht,this.root=ft?ft.root||ft:this,this.path=ft?[...ft.path,ft]:[],this.parent=ft,this.depth=ft?ft.depth+1:0;for(let pt=0;pt<this.path.length;pt++)this.path[pt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ht,ft){return this.eventHandlers.has(ht)||this.eventHandlers.set(ht,new SubscriptionManager),this.eventHandlers.get(ht).add(ft)}notifyListeners(ht,...ft){const pt=this.eventHandlers.get(ht);pt&&pt.notify(...ft)}hasListeners(ht){return this.eventHandlers.has(ht)}mount(ht){if(this.instance)return;this.isSVG=isSVGElement(ht)&&!isSVGSVGElement(ht),this.instance=ht;const{layoutId:ft,layout:pt,visualElement:mt}=this.options;if(mt&&!mt.current&&mt.mount(ht),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(pt||ft)&&(this.isLayoutDirty=!0),Ye){let gt,yt=0;const xt=()=>this.root.updateBlockedByResize=!1;frame$1.read(()=>{yt=window.innerWidth}),Ye(ht,()=>{const bt=window.innerWidth;bt!==yt&&(yt=bt,this.root.updateBlockedByResize=!0,gt&&gt(),gt=delay(xt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}ft&&this.root.registerSharedNode(ft,this),this.options.animate!==!1&&mt&&(ft||pt)&&this.addEventListener("didUpdate",({delta:gt,hasLayoutChanged:yt,hasRelativeLayoutChanged:xt,layout:bt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _t=this.options.transition||mt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Ct,onLayoutAnimationComplete:kt}=mt.getProps(),St=!this.targetLayout||!boxEqualsRounded(this.targetLayout,bt),Rt=!yt&&xt;if(this.options.layoutRoot||this.resumeFrom||Rt||yt&&(St||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Tt={...getValueTransition(_t,"layout"),onPlay:Ct,onComplete:kt};(mt.shouldReduceMotion||this.options.layoutRoot)&&(Tt.delay=0,Tt.type=!1),this.startAnimation(Tt),this.setAnimationOrigin(gt,Rt)}else yt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=bt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ht=this.getStack();ht&&ht.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ht}=this.options;return ht&&ht.getProps().transformTemplate}willUpdate(ht=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let gt=0;gt<this.path.length;gt++){const yt=this.path[gt];yt.shouldResetTransform=!0,yt.updateScroll("snapshot"),yt.options.layoutRoot&&yt.willUpdate(!1)}const{layoutId:ft,layout:pt}=this.options;if(ft===void 0&&!pt)return;const mt=this.getTransformTemplate();this.prevTransformTemplateValue=mt?mt(this.latestValues,""):void 0,this.updateSnapshot(),ht&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const ft=time$2.now();frameData.delta=clamp$1(0,1e3/60,ft-frameData.timestamp),frameData.timestamp=ft,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let pt=0;pt<this.path.length;pt++)this.path[pt].updateScroll();const ht=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ft}=this.options;ft&&ft.notify("LayoutMeasure",this.layout.layoutBox,ht?ht.layoutBox:void 0)}updateScroll(ht="measure"){let ft=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ht&&(ft=!1),ft&&this.instance){const pt=lt(this.instance);this.scroll={animationId:this.root.animationId,phase:ht,isRoot:pt,offset:it(this.instance),wasRoot:this.scroll?this.scroll.isRoot:pt}}}resetTransform(){if(!ct)return;const ht=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ft=this.projectionDelta&&!isDeltaZero(this.projectionDelta),pt=this.getTransformTemplate(),mt=pt?pt(this.latestValues,""):void 0,gt=mt!==this.prevTransformTemplateValue;ht&&this.instance&&(ft||hasTransform(this.latestValues)||gt)&&(ct(this.instance,mt),this.shouldResetTransform=!1,this.scheduleRender())}measure(ht=!0){const ft=this.measurePageBox();let pt=this.removeElementScroll(ft);return ht&&(pt=this.removeTransform(pt)),roundBox(pt),{animationId:this.root.animationId,measuredBox:ft,layoutBox:pt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:ht}=this.options;if(!ht)return createBox();const ft=ht.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:mt}=this.root;mt&&(translateAxis(ft.x,mt.offset.x),translateAxis(ft.y,mt.offset.y))}return ft}removeElementScroll(ht){const ft=createBox();if(copyBoxInto(ft,ht),this.scroll?.wasRoot)return ft;for(let pt=0;pt<this.path.length;pt++){const mt=this.path[pt],{scroll:gt,options:yt}=mt;mt!==this.root&&gt&&yt.layoutScroll&&(gt.wasRoot&&copyBoxInto(ft,ht),translateAxis(ft.x,gt.offset.x),translateAxis(ft.y,gt.offset.y))}return ft}applyTransform(ht,ft=!1){const pt=createBox();copyBoxInto(pt,ht);for(let mt=0;mt<this.path.length;mt++){const gt=this.path[mt];!ft&&gt.options.layoutScroll&&gt.scroll&&gt!==gt.root&&transformBox(pt,{x:-gt.scroll.offset.x,y:-gt.scroll.offset.y}),hasTransform(gt.latestValues)&&transformBox(pt,gt.latestValues)}return hasTransform(this.latestValues)&&transformBox(pt,this.latestValues),pt}removeTransform(ht){const ft=createBox();copyBoxInto(ft,ht);for(let pt=0;pt<this.path.length;pt++){const mt=this.path[pt];if(!mt.instance||!hasTransform(mt.latestValues))continue;hasScale(mt.latestValues)&&mt.updateSnapshot();const gt=createBox(),yt=mt.measurePageBox();copyBoxInto(gt,yt),removeBoxTransforms(ft,mt.latestValues,mt.snapshot?mt.snapshot.layoutBox:void 0,gt)}return hasTransform(this.latestValues)&&removeBoxTransforms(ft,this.latestValues),ft}setTargetDelta(ht){this.targetDelta=ht,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ht){this.options={...this.options,...ht,crossfade:ht.crossfade!==void 0?ht.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ht=!1){const ft=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ft.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ft.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ft.isSharedProjectionDirty);const pt=!!this.resumingFrom||this!==ft;if(!(ht||pt&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:gt,layoutId:yt}=this.options;if(!(!this.layout||!(gt||yt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const xt=this.getClosestProjectingParent();xt&&xt.layout&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,xt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const xt=this.getClosestProjectingParent();xt&&!!xt.resumingFrom==!!this.resumingFrom&&!xt.options.layoutScroll&&xt.target&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,xt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const ht=this.getLead(),ft=!!this.resumingFrom||this!==ht;let pt=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(pt=!1),ft&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(pt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(pt=!1),pt)return;const{layout:mt,layoutId:gt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(mt||gt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const yt=this.treeScale.x,xt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ft),ht.layout&&!ht.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ht.target=ht.layout.layoutBox,ht.targetWithTransforms=createBox());const{target:bt}=ht;if(!bt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,bt,this.latestValues),(this.treeScale.x!==yt||this.treeScale.y!==xt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",bt))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ht=!0){if(this.options.visualElement?.scheduleRender(),ht){const ft=this.getStack();ft&&ft.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(ht,ft=!1){const pt=this.snapshot,mt=pt?pt.latestValues:{},gt={...this.latestValues},yt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ft;const xt=createBox(),bt=pt?pt.source:void 0,_t=this.layout?this.layout.source:void 0,Ct=bt!==_t,kt=this.getStack(),St=!kt||kt.members.length<=1,Rt=!!(Ct&&!St&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Tt;this.mixTargetDelta=Mt=>{const Pt=Mt/1e3;mixAxisDelta(yt.x,ht.x,Pt),mixAxisDelta(yt.y,ht.y,Pt),this.setTargetDelta(yt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(xt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,xt,Pt),Tt&&boxEquals(this.relativeTarget,Tt)&&(this.isProjectionDirty=!1),Tt||(Tt=createBox()),copyBoxInto(Tt,this.relativeTarget)),Ct&&(this.animationValues=gt,mixValues(gt,mt,this.latestValues,Pt,Rt,St)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Pt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ht){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...ht,velocity:0,isSync:!0,onUpdate:ft=>{this.mixTargetDelta(ft),ht.onUpdate&&ht.onUpdate(ft)},onStop:()=>{},onComplete:()=>{ht.onComplete&&ht.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ht=this.getStack();ht&&ht.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ht=this.getLead();let{targetWithTransforms:ft,target:pt,layout:mt,latestValues:gt}=ht;if(!(!ft||!pt||!mt)){if(this!==ht&&this.layout&&mt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,mt.layoutBox)){pt=this.target||createBox();const yt=calcLength(this.layout.layoutBox.x);pt.x.min=ht.target.x.min,pt.x.max=pt.x.min+yt;const xt=calcLength(this.layout.layoutBox.y);pt.y.min=ht.target.y.min,pt.y.max=pt.y.min+xt}copyBoxInto(ft,pt),transformBox(ft,gt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ft,gt)}}registerSharedNode(ht,ft){this.sharedNodes.has(ht)||this.sharedNodes.set(ht,new NodeStack),this.sharedNodes.get(ht).add(ft);const mt=ft.options.initialPromotionConfig;ft.promote({transition:mt?mt.transition:void 0,preserveFollowOpacity:mt&&mt.shouldPreserveFollowOpacity?mt.shouldPreserveFollowOpacity(ft):void 0})}isLead(){const ht=this.getStack();return ht?ht.lead===this:!0}getLead(){const{layoutId:ht}=this.options;return ht?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:ht}=this.options;return ht?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:ht}=this.options;if(ht)return this.root.sharedNodes.get(ht)}promote({needsReset:ht,transition:ft,preserveFollowOpacity:pt}={}){const mt=this.getStack();mt&&mt.promote(this,pt),ht&&(this.projectionDelta=void 0,this.needsReset=!0),ft&&this.setOptions({transition:ft})}relegate(){const ht=this.getStack();return ht?ht.relegate(this):!1}resetSkewAndRotation(){const{visualElement:ht}=this.options;if(!ht)return;let ft=!1;const{latestValues:pt}=ht;if((pt.z||pt.rotate||pt.rotateX||pt.rotateY||pt.rotateZ||pt.skewX||pt.skewY)&&(ft=!0),!ft)return;const mt={};pt.z&&resetDistortingTransform("z",ht,mt,this.animationValues);for(let gt=0;gt<transformAxes.length;gt++)resetDistortingTransform(`rotate${transformAxes[gt]}`,ht,mt,this.animationValues),resetDistortingTransform(`skew${transformAxes[gt]}`,ht,mt,this.animationValues);ht.render();for(const gt in mt)ht.setStaticValue(gt,mt[gt]),this.animationValues&&(this.animationValues[gt]=mt[gt]);ht.scheduleRender()}applyProjectionStyles(ht,ft){if(!this.instance||this.isSVG)return;if(!this.isVisible){ht.visibility="hidden";return}const pt=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,ht.visibility="",ht.opacity="",ht.pointerEvents=resolveMotionValue(ft?.pointerEvents)||"",ht.transform=pt?pt(this.latestValues,""):"none";return}const mt=this.getLead();if(!this.projectionDelta||!this.layout||!mt.target){this.options.layoutId&&(ht.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ht.pointerEvents=resolveMotionValue(ft?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ht.transform=pt?pt({},""):"none",this.hasProjected=!1);return}ht.visibility="";const gt=mt.animationValues||mt.latestValues;this.applyTransformsToTarget();let yt=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,gt);pt&&(yt=pt(gt,yt)),ht.transform=yt;const{x:xt,y:bt}=this.projectionDelta;ht.transformOrigin=`${xt.origin*100}% ${bt.origin*100}% 0`,mt.animationValues?ht.opacity=mt===this?gt.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:gt.opacityExit:ht.opacity=mt===this?gt.opacity!==void 0?gt.opacity:"":gt.opacityExit!==void 0?gt.opacityExit:0;for(const _t in scaleCorrectors){if(gt[_t]===void 0)continue;const{correct:Ct,applyTo:kt,isCSSVariable:St}=scaleCorrectors[_t],Rt=yt==="none"?gt[_t]:Ct(gt[_t],mt);if(kt){const Tt=kt.length;for(let Mt=0;Mt<Tt;Mt++)ht[kt[Mt]]=Rt}else St?this.options.visualElement.renderState.vars[_t]=Rt:ht[_t]=Rt}this.options.layoutId&&(ht.pointerEvents=mt===this?resolveMotionValue(ft?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ht=>ht.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(Ye){Ye.updateLayout()}function notifyLayoutUpdate(Ye){const rt=Ye.resumeFrom?.snapshot||Ye.snapshot;if(Ye.isLead()&&Ye.layout&&rt&&Ye.hasListeners("didUpdate")){const{layoutBox:it,measuredBox:lt}=Ye.layout,{animationType:ct}=Ye.options,ut=rt.source!==Ye.layout.source;ct==="size"?eachAxis(gt=>{const yt=ut?rt.measuredBox[gt]:rt.layoutBox[gt],xt=calcLength(yt);yt.min=it[gt].min,yt.max=yt.min+xt}):shouldAnimatePositionOnly(ct,rt.layoutBox,it)&&eachAxis(gt=>{const yt=ut?rt.measuredBox[gt]:rt.layoutBox[gt],xt=calcLength(it[gt]);yt.max=yt.min+xt,Ye.relativeTarget&&!Ye.currentAnimation&&(Ye.isProjectionDirty=!0,Ye.relativeTarget[gt].max=Ye.relativeTarget[gt].min+xt)});const ht=createDelta();calcBoxDelta(ht,it,rt.layoutBox);const ft=createDelta();ut?calcBoxDelta(ft,Ye.applyTransform(lt,!0),rt.measuredBox):calcBoxDelta(ft,it,rt.layoutBox);const pt=!isDeltaZero(ht);let mt=!1;if(!Ye.resumeFrom){const gt=Ye.getClosestProjectingParent();if(gt&&!gt.resumeFrom){const{snapshot:yt,layout:xt}=gt;if(yt&&xt){const bt=createBox();calcRelativePosition(bt,rt.layoutBox,yt.layoutBox);const _t=createBox();calcRelativePosition(_t,it,xt.layoutBox),boxEqualsRounded(bt,_t)||(mt=!0),gt.options.layoutRoot&&(Ye.relativeTarget=_t,Ye.relativeTargetOrigin=bt,Ye.relativeParent=gt)}}}Ye.notifyListeners("didUpdate",{layout:it,snapshot:rt,delta:ft,layoutDelta:ht,hasLayoutChanged:pt,hasRelativeLayoutChanged:mt})}else if(Ye.isLead()){const{onExitComplete:it}=Ye.options;it&&it()}Ye.options.transition=void 0}function propagateDirtyNodes(Ye){Ye.parent&&(Ye.isProjecting()||(Ye.isProjectionDirty=Ye.parent.isProjectionDirty),Ye.isSharedProjectionDirty||(Ye.isSharedProjectionDirty=!!(Ye.isProjectionDirty||Ye.parent.isProjectionDirty||Ye.parent.isSharedProjectionDirty)),Ye.isTransformDirty||(Ye.isTransformDirty=Ye.parent.isTransformDirty))}function cleanDirtyNodes(Ye){Ye.isProjectionDirty=Ye.isSharedProjectionDirty=Ye.isTransformDirty=!1}function clearSnapshot(Ye){Ye.clearSnapshot()}function clearMeasurements(Ye){Ye.clearMeasurements()}function clearIsLayoutDirty(Ye){Ye.isLayoutDirty=!1}function resetTransformStyle(Ye){const{visualElement:rt}=Ye.options;rt&&rt.getProps().onBeforeLayoutMeasure&&rt.notify("BeforeLayoutMeasure"),Ye.resetTransform()}function finishAnimation(Ye){Ye.finishAnimation(),Ye.targetDelta=Ye.relativeTarget=Ye.target=void 0,Ye.isProjectionDirty=!0}function resolveTargetDelta(Ye){Ye.resolveTargetDelta()}function calcProjection(Ye){Ye.calcProjection()}function resetSkewAndRotation(Ye){Ye.resetSkewAndRotation()}function removeLeadSnapshots(Ye){Ye.removeLeadSnapshot()}function mixAxisDelta(Ye,rt,it){Ye.translate=mixNumber$1(rt.translate,0,it),Ye.scale=mixNumber$1(rt.scale,1,it),Ye.origin=rt.origin,Ye.originPoint=rt.originPoint}function mixAxis(Ye,rt,it,lt){Ye.min=mixNumber$1(rt.min,it.min,lt),Ye.max=mixNumber$1(rt.max,it.max,lt)}function mixBox(Ye,rt,it,lt){mixAxis(Ye.x,rt.x,it.x,lt),mixAxis(Ye.y,rt.y,it.y,lt)}function hasOpacityCrossfade(Ye){return Ye.animationValues&&Ye.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=Ye=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(Ye),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$5;function roundAxis(Ye){Ye.min=roundPoint(Ye.min),Ye.max=roundPoint(Ye.max)}function roundBox(Ye){roundAxis(Ye.x),roundAxis(Ye.y)}function shouldAnimatePositionOnly(Ye,rt,it){return Ye==="position"||Ye==="preserve-aspect"&&!isNear$1(aspectRatio(rt),aspectRatio(it),.2)}function checkNodeWasScrollRoot(Ye){return Ye!==Ye.root&&Ye.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(Ye,rt)=>addDomEvent(Ye,"resize",rt),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:Ye=>({x:Ye.scrollLeft,y:Ye.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const Ye=new DocumentProjectionNode({});Ye.mount(window),Ye.setOptions({layoutScroll:!0}),rootProjectionNode.current=Ye}return rootProjectionNode.current},resetTransform:(Ye,rt)=>{Ye.style.transform=rt!==void 0?rt:"none"},checkIsScrollRoot:Ye=>window.getComputedStyle(Ye).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(Ye,rt,it){const{props:lt}=Ye;Ye.animationState&&lt.whileHover&&Ye.animationState.setActive("whileHover",it==="Start");const ct="onHover"+it,ut=lt[ct];ut&&frame$1.postRender(()=>ut(rt,extractEventInfo(rt)))}class HoverGesture extends Feature{mount(){const{current:rt}=this.node;rt&&(this.unmount=hover(rt,(it,lt)=>(handleHoverEvent(this.node,lt,"Start"),ct=>handleHoverEvent(this.node,ct,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let rt=!1;try{rt=this.node.current.matches(":focus-visible")}catch{rt=!0}!rt||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(Ye,rt,it){const{props:lt}=Ye;if(Ye.current instanceof HTMLButtonElement&&Ye.current.disabled)return;Ye.animationState&&lt.whileTap&&Ye.animationState.setActive("whileTap",it==="Start");const ct="onTap"+(it==="End"?"":it),ut=lt[ct];ut&&frame$1.postRender(()=>ut(rt,extractEventInfo(rt)))}class PressGesture extends Feature{mount(){const{current:rt}=this.node;rt&&(this.unmount=press(rt,(it,lt)=>(handlePressEvent(this.node,lt,"Start"),(ct,{success:ut})=>handlePressEvent(this.node,ct,ut?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=Ye=>{const rt=observerCallbacks.get(Ye.target);rt&&rt(Ye)},fireAllObserverCallbacks=Ye=>{Ye.forEach(fireObserverCallback)};function initIntersectionObserver({root:Ye,...rt}){const it=Ye||document;observers.has(it)||observers.set(it,{});const lt=observers.get(it),ct=JSON.stringify(rt);return lt[ct]||(lt[ct]=new IntersectionObserver(fireAllObserverCallbacks,{root:Ye,...rt})),lt[ct]}function observeIntersection(Ye,rt,it){const lt=initIntersectionObserver(rt);return observerCallbacks.set(Ye,it),lt.observe(Ye),()=>{observerCallbacks.delete(Ye),lt.unobserve(Ye)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:rt={}}=this.node.getProps(),{root:it,margin:lt,amount:ct="some",once:ut}=rt,ht={root:it?it.current:void 0,rootMargin:lt,threshold:typeof ct=="number"?ct:thresholdNames[ct]},ft=pt=>{const{isIntersecting:mt}=pt;if(this.isInView===mt||(this.isInView=mt,ut&&!mt&&this.hasEnteredView))return;mt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",mt);const{onViewportEnter:gt,onViewportLeave:yt}=this.node.getProps(),xt=mt?gt:yt;xt&&xt(pt)};return observeIntersection(this.node.current,ht,ft)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:rt,prevProps:it}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(rt,it))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:Ye={}},{viewport:rt={}}={}){return it=>Ye[it]!==rt[it]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);function useReducedMotion$1(){!hasReducedMotionListener.current&&initPrefersReducedMotion();const[Ye]=reactExports.useState(prefersReducedMotion.current);return Ye}function Spinner({className:Ye}){const rt=useReducedMotion$1(),it=reactExports.useMemo(()=>`-${Date.now()%1e3}ms`,[]);return jsxRuntimeExports.jsx(SvgSpinner,{className:clsx(!rt&&"animate-spin",Ye),style:{animationDelay:it}})}function Button({uniform:Ye=!1,color:rt="primary",size:it="default",disabled:lt=!1,className:ct,children:ut,type:ht,loading:ft=!1,...pt}){return jsxRuntimeExports.jsxs("button",{type:ht??"button",className:clsx("border-token-border no-drag hover:token-foreground/10 cursor-interaction flex items-center gap-1 rounded-full border focus:outline-none disabled:cursor-not-allowed disabled:opacity-40",{primary:"bg-token-foreground hover:bg-token-foreground/80 data-[state=open]:bg-token-foreground/80 text-token-dropdown-background",secondary:"text-token-foreground bg-token-foreground/5 hover:bg-token-foreground/10 data-[state=open]:bg-token-foreground/10 border-transparent",outline:"border-token-border text-token-button-tertiary-foreground bg-token-button-tertiary-background hover:bg-token-button-tertiary-hover-background data-[state=open]:bg-token-button-tertiary-hover-background border",danger:"bg-token-charts-red/10 text-token-charts-red",ghost:"text-token-description-foreground hover:bg-token-foreground/5 data-[state=open]:bg-token-foreground/5 border-transparent bg-transparent disabled:hover:bg-transparent"}[rt],{default:"px-2 py-0.5 text-sm leading-[18px]",large:"px-5 py-2 text-base leading-[18px]",composer:"h-token-button-composer px-2 py-0 text-sm leading-[18px]",composerSm:"h-token-button-composer-sm px-1.5 py-0 text-sm leading-[18px]",icon:"electron:p-1 electron:[&>svg]:icon-sm flex items-center justify-center rounded-full p-0.5"}[it],{true:"aspect-square items-center justify-center !px-0",false:""}[Ye?"true":"false"],ct),disabled:lt||ft,...pt,children:[ft&&jsxRuntimeExports.jsx(Spinner,{className:"icon-xxs"}),ut]})}const DEFAULT_MODEL="gpt-5.1-codex",DEFAULT_WINDOWS_MODEL="gpt-5.1-codex-max",DEFAULT_EFFORT="medium",DEFAULT_CODE_REVIEW_MODEL="gpt-5.1-codex",DEFAULT_CODE_REVIEW_REASONING_EFFORT="low",REASONING_EFFORT_ORDER=["minimal","low","medium","high"],OPENAI_MODEL_REASONING_EFFORTS={"codex-auto":["low","medium","high"],"gpt-5.1-codex-max":["low","medium","high","xhigh"],"gpt-5.1-codex":["low","medium","high"],"gpt-5.1-codex-mini":["medium","high"],"gpt-5.1":["low","medium","high"],"gpt-5-codex":["low","medium","high"],"gpt-5-codex-mini":["medium","high"],"gpt-5":REASONING_EFFORT_ORDER},COPILOT_MODEL_REASONING_EFFORTS={"gpt-5.1-codex":["medium"],"gpt-5.1":["medium"],"gpt-5-codex":["medium"],"gpt-5":["medium"]},AVAILABLE_MODELS=new Set(["codex-auto","gpt-5.1-codex-max","gpt-5.1-codex-mini","gpt-5.1-codex","gpt-5.1"]),CODEX_MINI_MODELS=new Set(["gpt-5-codex-mini","gpt-5.1-codex-mini"]),CHAT_GPT_AUTH_ONLY_MODELS=new Set(["gpt-5.1-codex-max","codex-auto"]),MODEL_PRESET_CONFIG={fast:{tooltipModel:"gpt-5.1-codex-max",modelSettings:{model:"codex-auto",reasoningEffort:"low",isLoading:!1}},balanced:{tooltipModel:"gpt-5.1-codex-max",modelSettings:{model:"codex-auto",reasoningEffort:"medium",isLoading:!1}},thorough:{tooltipModel:"gpt-5.1-codex-max",modelSettings:{model:"codex-auto",reasoningEffort:"high",isLoading:!1}}};function getInitialRoute(){return document.querySelector('meta[name="initial-route"]')?.content?.trim()??null}const initialRoute=getInitialRoute(),__vite_import_meta_env__$3={};function hasInitialValue(Ye){return"init"in Ye}function isActuallyWritableAtom(Ye){return!!Ye.write}function isAtomStateInitialized(Ye){return"v"in Ye||"e"in Ye}function returnAtomValue(Ye){if("e"in Ye)throw Ye.e;if((__vite_import_meta_env__$3?"production":void 0)!=="production"&&!("v"in Ye))throw new Error("[Bug] atom state is not initialized");return Ye.v}const promiseStateMap=new WeakMap;function isPendingPromise(Ye){var rt;return isPromiseLike$2(Ye)&&!!((rt=promiseStateMap.get(Ye))!=null&&rt[0])}function abortPromise(Ye){const rt=promiseStateMap.get(Ye);rt?.[0]&&(rt[0]=!1,rt[1].forEach(it=>it()))}function registerAbortHandler(Ye,rt){let it=promiseStateMap.get(Ye);if(!it){it=[!0,new Set],promiseStateMap.set(Ye,it);const lt=()=>{it[0]=!1};Ye.then(lt,lt)}it[1].add(rt)}function isPromiseLike$2(Ye){return typeof Ye?.then=="function"}function addPendingPromiseToDependency(Ye,rt,it){if(!it.p.has(Ye)){it.p.add(Ye);const lt=()=>it.p.delete(Ye);rt.then(lt,lt)}}function getMountedOrPendingDependents(Ye,rt,it){var lt;const ct=new Set;for(const ut of((lt=it.get(Ye))==null?void 0:lt.t)||[])it.has(ut)&&ct.add(ut);for(const ut of rt.p)ct.add(ut);return ct}const atomRead=(Ye,rt,...it)=>rt.read(...it),atomWrite=(Ye,rt,...it)=>rt.write(...it),atomOnInit=(Ye,rt)=>{var it;return(it=rt.unstable_onInit)==null?void 0:it.call(rt,Ye)},atomOnMount=(Ye,rt,it)=>{var lt;return(lt=rt.onMount)==null?void 0:lt.call(rt,it)},ensureAtomState=(Ye,rt)=>{const it=getInternalBuildingBlocks(Ye),lt=it[0],ct=it[9];if((__vite_import_meta_env__$3?"production":void 0)!=="production"&&!rt)throw new Error("Atom is undefined or null");let ut=lt.get(rt);return ut||(ut={d:new Map,p:new Set,n:0},lt.set(rt,ut),ct?.(Ye,rt)),ut},flushCallbacks=Ye=>{const rt=getInternalBuildingBlocks(Ye),it=rt[1],lt=rt[3],ct=rt[4],ut=rt[5],ht=rt[6],ft=rt[13],pt=[],mt=gt=>{try{gt()}catch(yt){pt.push(yt)}};do{ht.f&&mt(ht.f);const gt=new Set,yt=gt.add.bind(gt);lt.forEach(xt=>{var bt;return(bt=it.get(xt))==null?void 0:bt.l.forEach(yt)}),lt.clear(),ut.forEach(yt),ut.clear(),ct.forEach(yt),ct.clear(),gt.forEach(mt),lt.size&&ft(Ye)}while(lt.size||ut.size||ct.size);if(pt.length)throw new AggregateError(pt)},recomputeInvalidatedAtoms=Ye=>{const rt=getInternalBuildingBlocks(Ye),it=rt[1],lt=rt[2],ct=rt[3],ut=rt[11],ht=rt[14],ft=rt[17],pt=[],mt=new WeakSet,gt=new WeakSet,yt=Array.from(ct);for(;yt.length;){const xt=yt[yt.length-1],bt=ut(Ye,xt);if(gt.has(xt)){yt.pop();continue}if(mt.has(xt)){if(lt.get(xt)===bt.n)pt.push([xt,bt]);else if((__vite_import_meta_env__$3?"production":void 0)!=="production"&&lt.has(xt))throw new Error("[Bug] invalidated atom exists");gt.add(xt),yt.pop();continue}mt.add(xt);for(const _t of getMountedOrPendingDependents(xt,bt,it))mt.has(_t)||yt.push(_t)}for(let xt=pt.length-1;xt>=0;--xt){const[bt,_t]=pt[xt];let Ct=!1;for(const kt of _t.d.keys())if(kt!==bt&&ct.has(kt)){Ct=!0;break}Ct&&(ht(Ye,bt),ft(Ye,bt)),lt.delete(bt)}},readAtomState=(Ye,rt)=>{var it,lt;const ct=getInternalBuildingBlocks(Ye),ut=ct[1],ht=ct[2],ft=ct[3],pt=ct[6],mt=ct[7],gt=ct[11],yt=ct[12],xt=ct[13],bt=ct[14],_t=ct[16],Ct=ct[17],kt=gt(Ye,rt);if(isAtomStateInitialized(kt)&&(ut.has(rt)&&ht.get(rt)!==kt.n||Array.from(kt.d).every(([Ot,Ft])=>bt(Ye,Ot).n===Ft)))return kt;kt.d.clear();let St=!0;function Rt(){ut.has(rt)&&(Ct(Ye,rt),xt(Ye),yt(Ye))}function Tt(Ot){var Ft;if(Ot===rt){const Wt=gt(Ye,Ot);if(!isAtomStateInitialized(Wt))if(hasInitialValue(Ot))setAtomStateValueOrPromise(Ye,Ot,Ot.init);else throw new Error("no atom init");return returnAtomValue(Wt)}const Ut=bt(Ye,Ot);try{return returnAtomValue(Ut)}finally{kt.d.set(Ot,Ut.n),isPendingPromise(kt.v)&&addPendingPromiseToDependency(rt,kt.v,Ut),(Ft=ut.get(Ot))==null||Ft.t.add(rt),St||Rt()}}let Mt,Pt;const It={get signal(){return Mt||(Mt=new AbortController),Mt.signal},get setSelf(){return(__vite_import_meta_env__$3?"production":void 0)!=="production"&&!isActuallyWritableAtom(rt)&&console.warn("setSelf function cannot be used with read-only atom"),!Pt&&isActuallyWritableAtom(rt)&&(Pt=(...Ot)=>{if((__vite_import_meta_env__$3?"production":void 0)!=="production"&&St&&console.warn("setSelf function cannot be called in sync"),!St)try{return _t(Ye,rt,...Ot)}finally{xt(Ye),yt(Ye)}}),Pt}},Lt=kt.n;try{const Ot=mt(Ye,rt,Tt,It);return setAtomStateValueOrPromise(Ye,rt,Ot),isPromiseLike$2(Ot)&&(registerAbortHandler(Ot,()=>Mt?.abort()),Ot.then(Rt,Rt)),(it=pt.r)==null||it.call(pt,rt),kt}catch(Ot){return delete kt.v,kt.e=Ot,++kt.n,kt}finally{St=!1,Lt!==kt.n&&ht.get(rt)===Lt&&(ht.set(rt,kt.n),ft.add(rt),(lt=pt.c)==null||lt.call(pt,rt))}},invalidateDependents=(Ye,rt)=>{const it=getInternalBuildingBlocks(Ye),lt=it[1],ct=it[2],ut=it[11],ht=[rt];for(;ht.length;){const ft=ht.pop(),pt=ut(Ye,ft);for(const mt of getMountedOrPendingDependents(ft,pt,lt)){const gt=ut(Ye,mt);ct.set(mt,gt.n),ht.push(mt)}}},writeAtomState=(Ye,rt,...it)=>{const lt=getInternalBuildingBlocks(Ye),ct=lt[3],ut=lt[6],ht=lt[8],ft=lt[11],pt=lt[12],mt=lt[13],gt=lt[14],yt=lt[15],xt=lt[17];let bt=!0;const _t=kt=>returnAtomValue(gt(Ye,kt)),Ct=(kt,...St)=>{var Rt;const Tt=ft(Ye,kt);try{if(kt===rt){if(!hasInitialValue(kt))throw new Error("atom not writable");const Mt=Tt.n,Pt=St[0];setAtomStateValueOrPromise(Ye,kt,Pt),xt(Ye,kt),Mt!==Tt.n&&(ct.add(kt),(Rt=ut.c)==null||Rt.call(ut,kt),yt(Ye,kt));return}else return writeAtomState(Ye,kt,...St)}finally{bt||(mt(Ye),pt(Ye))}};try{return ht(Ye,rt,_t,Ct,...it)}finally{bt=!1}},mountDependencies=(Ye,rt)=>{var it;const lt=getInternalBuildingBlocks(Ye),ct=lt[1],ut=lt[3],ht=lt[6],ft=lt[11],pt=lt[15],mt=lt[18],gt=lt[19],yt=ft(Ye,rt),xt=ct.get(rt);if(xt&&!isPendingPromise(yt.v)){for(const[bt,_t]of yt.d)if(!xt.d.has(bt)){const Ct=ft(Ye,bt);mt(Ye,bt).t.add(rt),xt.d.add(bt),_t!==Ct.n&&(ut.add(bt),(it=ht.c)==null||it.call(ht,bt),pt(Ye,bt))}for(const bt of xt.d||[])if(!yt.d.has(bt)){xt.d.delete(bt);const _t=gt(Ye,bt);_t?.t.delete(rt)}}},mountAtom=(Ye,rt)=>{var it;const lt=getInternalBuildingBlocks(Ye),ct=lt[1],ut=lt[4],ht=lt[6],ft=lt[10],pt=lt[11],mt=lt[12],gt=lt[13],yt=lt[14],xt=lt[16],bt=pt(Ye,rt);let _t=ct.get(rt);if(!_t){yt(Ye,rt);for(const Ct of bt.d.keys())mountAtom(Ye,Ct).t.add(rt);if(_t={l:new Set,d:new Set(bt.d.keys()),t:new Set},ct.set(rt,_t),(it=ht.m)==null||it.call(ht,rt),isActuallyWritableAtom(rt)){const Ct=()=>{let kt=!0;const St=(...Rt)=>{try{return xt(Ye,rt,...Rt)}finally{kt||(gt(Ye),mt(Ye))}};try{const Rt=ft(Ye,rt,St);Rt&&(_t.u=()=>{kt=!0;try{Rt()}finally{kt=!1}})}finally{kt=!1}};ut.add(Ct)}}return _t},unmountAtom=(Ye,rt)=>{var it;const lt=getInternalBuildingBlocks(Ye),ct=lt[1],ut=lt[5],ht=lt[6],ft=lt[11],pt=lt[19],mt=ft(Ye,rt);let gt=ct.get(rt);if(gt&&!gt.l.size&&!Array.from(gt.t).some(yt=>{var xt;return(xt=ct.get(yt))==null?void 0:xt.d.has(rt)})){gt.u&&ut.add(gt.u),gt=void 0,ct.delete(rt),(it=ht.u)==null||it.call(ht,rt);for(const yt of mt.d.keys()){const xt=pt(Ye,yt);xt?.t.delete(rt)}return}return gt},setAtomStateValueOrPromise=(Ye,rt,it)=>{const lt=getInternalBuildingBlocks(Ye)[11],ct=lt(Ye,rt),ut="v"in ct,ht=ct.v;if(isPromiseLike$2(it))for(const ft of ct.d.keys())addPendingPromiseToDependency(rt,it,lt(Ye,ft));ct.v=it,delete ct.e,(!ut||!Object.is(ht,ct.v))&&(++ct.n,isPromiseLike$2(ht)&&abortPromise(ht))},storeGet=(Ye,rt)=>{const it=getInternalBuildingBlocks(Ye)[14];return returnAtomValue(it(Ye,rt))},storeSet=(Ye,rt,...it)=>{const lt=getInternalBuildingBlocks(Ye),ct=lt[12],ut=lt[13],ht=lt[16];try{return ht(Ye,rt,...it)}finally{ut(Ye),ct(Ye)}},storeSub=(Ye,rt,it)=>{const lt=getInternalBuildingBlocks(Ye),ct=lt[12],ut=lt[18],ht=lt[19],pt=ut(Ye,rt).l;return pt.add(it),ct(Ye),()=>{pt.delete(it),ht(Ye,rt),ct(Ye)}},buildingBlockMap=new WeakMap,getInternalBuildingBlocks=Ye=>{const rt=buildingBlockMap.get(Ye);if((__vite_import_meta_env__$3?"production":void 0)!=="production"&&!rt)throw new Error("Store must be created by buildStore to read its building blocks");return rt};function buildStore(...Ye){const rt={get(lt){const ct=getInternalBuildingBlocks(rt)[21];return ct(rt,lt)},set(lt,...ct){const ut=getInternalBuildingBlocks(rt)[22];return ut(rt,lt,...ct)},sub(lt,ct){const ut=getInternalBuildingBlocks(rt)[23];return ut(rt,lt,ct)}},it=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},atomRead,atomWrite,atomOnInit,atomOnMount,ensureAtomState,flushCallbacks,recomputeInvalidatedAtoms,readAtomState,invalidateDependents,writeAtomState,mountDependencies,mountAtom,unmountAtom,setAtomStateValueOrPromise,storeGet,storeSet,storeSub,void 0].map((lt,ct)=>Ye[ct]||lt);return buildingBlockMap.set(rt,Object.freeze(it)),rt}const __vite_import_meta_env__$2={};let keyCount=0;function atom(Ye,rt){const it=`atom${++keyCount}`,lt={toString(){return(__vite_import_meta_env__$2?"production":void 0)!=="production"&&this.debugLabel?it+":"+this.debugLabel:it}};return typeof Ye=="function"?lt.read=Ye:(lt.init=Ye,lt.read=defaultRead,lt.write=defaultWrite),rt&&(lt.write=rt),lt}function defaultRead(Ye){return Ye(this)}function defaultWrite(Ye,rt,it){return rt(this,typeof it=="function"?it(Ye(this)):it)}function createStore(){return buildStore()}let defaultStore;function getDefaultStore(){return defaultStore||(defaultStore=createStore(),(__vite_import_meta_env__$2?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=defaultStore),globalThis.__JOTAI_DEFAULT_STORE__!==defaultStore&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),defaultStore}const __vite_import_meta_env__$1={},RESET=Symbol((__vite_import_meta_env__$1?"production":void 0)!=="production"?"RESET":""),isPromiseLike$3=Ye=>typeof Ye?.then=="function";function createJSONStorage(Ye=()=>{try{return window.localStorage}catch(it){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(it);return}},rt){var it;let lt,ct;const ut={getItem:(pt,mt)=>{var gt,yt;const xt=_t=>{if(_t=_t||"",lt!==_t){try{ct=JSON.parse(_t,rt?.reviver)}catch{return mt}lt=_t}return ct},bt=(yt=(gt=Ye())==null?void 0:gt.getItem(pt))!=null?yt:null;return isPromiseLike$3(bt)?bt.then(xt):xt(bt)},setItem:(pt,mt)=>{var gt;return(gt=Ye())==null?void 0:gt.setItem(pt,JSON.stringify(mt,void 0))},removeItem:pt=>{var mt;return(mt=Ye())==null?void 0:mt.removeItem(pt)}},ht=pt=>(mt,gt,yt)=>pt(mt,xt=>{let bt;try{bt=JSON.parse(xt||"")}catch{bt=yt}gt(bt)});let ft;try{ft=(it=Ye())==null?void 0:it.subscribe}catch{}return!ft&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(ft=(pt,mt)=>{if(!(Ye()instanceof window.Storage))return()=>{};const gt=yt=>{yt.storageArea===Ye()&&yt.key===pt&&mt(yt.newValue)};return window.addEventListener("storage",gt),()=>{window.removeEventListener("storage",gt)}}),ft&&(ut.subscribe=ht(ft)),ut}const defaultStorage$1=createJSONStorage();function atomWithStorage(Ye,rt,it=defaultStorage$1,lt){const ct=lt?.getOnInit,ut=atom(ct?it.getItem(Ye,rt):rt);return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(ut.debugPrivate=!0),ut.onMount=ft=>{ft(it.getItem(Ye,rt));let pt;return it.subscribe&&(pt=it.subscribe(Ye,ft,rt)),pt},atom(ft=>ft(ut),(ft,pt,mt)=>{const gt=typeof mt=="function"?mt(ft(ut)):mt;return gt===RESET?(pt(ut,rt),it.removeItem(Ye)):isPromiseLike$3(gt)?gt.then(yt=>(pt(ut,yt),it.setItem(Ye,yt))):(pt(ut,gt),it.setItem(Ye,gt))})}const cache1$1=new WeakMap,memo1=(Ye,rt)=>(cache1$1.has(rt)?cache1$1:cache1$1.set(rt,Ye())).get(rt),isPromiseLike$1=Ye=>typeof Ye?.then=="function",LOADING={state:"loading"};function loadable(Ye){return memo1(()=>{const rt=new WeakMap,it=atom(0);(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(it.debugPrivate=!0);const lt=atom((ct,{setSelf:ut})=>{ct(it);let ht;try{ht=ct(Ye)}catch(gt){return{state:"hasError",error:gt}}if(!isPromiseLike$1(ht))return{state:"hasData",data:ht};const ft=ht,pt=rt.get(ft);if(pt)return pt;ft.then(gt=>{rt.set(ft,{state:"hasData",data:gt}),ut()},gt=>{rt.set(ft,{state:"hasError",error:gt}),ut()});const mt=rt.get(ft);return mt||(rt.set(ft,LOADING),LOADING)},(ct,ut)=>{ut(it,ht=>ht+1)});return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(lt.debugPrivate=!0),atom(ct=>ct(lt))},Ye)}function atomWithRefresh(Ye,rt){const it=atom(0);return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(it.debugPrivate=!0),atom((lt,ct)=>(lt(it),Ye(lt,ct)),(lt,ct,...ut)=>{if(ut.length===0)ct(it,ht=>ht+1);else if((__vite_import_meta_env__$1?"production":void 0)!=="production")throw new Error("refresh must be called without arguments")})}const __vite_import_meta_env__={},StoreContext=reactExports.createContext(void 0);function useStore(Ye){return reactExports.useContext(StoreContext)||getDefaultStore()}function Provider$2({children:Ye,store:rt}){const it=reactExports.useRef(void 0);return!rt&&!it.current&&(it.current=createStore()),reactExports.createElement(StoreContext.Provider,{value:rt||it.current},Ye)}const isPromiseLike=Ye=>typeof Ye?.then=="function",attachPromiseStatus=Ye=>{Ye.status||(Ye.status="pending",Ye.then(rt=>{Ye.status="fulfilled",Ye.value=rt},rt=>{Ye.status="rejected",Ye.reason=rt}))},use=React.use||(Ye=>{if(Ye.status==="pending")throw Ye;if(Ye.status==="fulfilled")return Ye.value;throw Ye.status==="rejected"?Ye.reason:(attachPromiseStatus(Ye),Ye)}),continuablePromiseMap=new WeakMap,createContinuablePromise=(Ye,rt)=>{let it=continuablePromiseMap.get(Ye);return it||(it=new Promise((lt,ct)=>{let ut=Ye;const ht=mt=>gt=>{ut===mt&&lt(gt)},ft=mt=>gt=>{ut===mt&&ct(gt)},pt=()=>{try{const mt=rt();isPromiseLike(mt)?(continuablePromiseMap.set(mt,it),ut=mt,mt.then(ht(mt),ft(mt)),registerAbortHandler(mt,pt)):lt(mt)}catch(mt){ct(mt)}};Ye.then(ht(Ye),ft(Ye)),registerAbortHandler(Ye,pt)}),continuablePromiseMap.set(Ye,it)),it};function useAtomValue(Ye,rt){const{delay:it,unstable_promiseStatus:lt=!React.use}={},ct=useStore(),[[ut,ht,ft],pt]=reactExports.useReducer(gt=>{const yt=ct.get(Ye);return Object.is(gt[0],yt)&&gt[1]===ct&&gt[2]===Ye?gt:[yt,ct,Ye]},void 0,()=>[ct.get(Ye),ct,Ye]);let mt=ut;if((ht!==ct||ft!==Ye)&&(pt(),mt=ct.get(Ye)),reactExports.useEffect(()=>{const gt=ct.sub(Ye,()=>{if(lt)try{const yt=ct.get(Ye);isPromiseLike(yt)&&attachPromiseStatus(createContinuablePromise(yt,()=>ct.get(Ye)))}catch{}if(typeof it=="number"){setTimeout(pt,it);return}pt()});return pt(),gt},[ct,Ye,it,lt]),reactExports.useDebugValue(mt),isPromiseLike(mt)){const gt=createContinuablePromise(mt,()=>ct.get(Ye));return lt&&attachPromiseStatus(gt),use(gt)}return mt}function useSetAtom(Ye,rt){const it=useStore();return reactExports.useCallback((...ct)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&!("write"in Ye))throw new Error("not writable atom");return it.set(Ye,...ct)},[it,Ye])}function useAtom(Ye,rt){return[useAtomValue(Ye),useSetAtom(Ye)]}const STORAGE_PREFIX="codex:persisted-atom:";class InMemoryStorage{store=new Map;get length(){return this.store.size}clear(){this.store.clear()}getItem(rt){return this.store.get(rt)??null}key(rt){return rt<0||rt>=this.store.size?null:Array.from(this.store.keys())[rt]??null}removeItem(rt){this.store.delete(rt)}setItem(rt,it){this.store.set(rt,it)}}const fallbackStorage=new InMemoryStorage;function getBrowserStorage(){return typeof window>"u"?null:window.localStorage}const browserStorage=getBrowserStorage(),persistedStorage=browserStorage??fallbackStorage;function storageKey(Ye){return`${STORAGE_PREFIX}${Ye}`}function readValue(Ye){const rt=storageKey(Ye);return persistedStorage.getItem(rt)??void 0}function writeValue(Ye,rt){const it=storageKey(Ye);persistedStorage.setItem(it,rt)}function deleteValue(Ye){const rt=storageKey(Ye);persistedStorage.removeItem(rt)}function resetPersistedAtoms(){(browserStorage?[browserStorage,fallbackStorage]:[fallbackStorage]).forEach(rt=>{const it=[];for(let lt=0;lt<rt.length;lt+=1){const ct=rt.key(lt);ct?.startsWith(STORAGE_PREFIX)&&it.push(ct)}it.forEach(lt=>rt.removeItem(lt))})}function persistedAtom(Ye,rt){return atomWithStorage(Ye,rt,{getItem:(lt,ct)=>{const ut=readValue(lt);if(ut===void 0)return ct;try{return JSON.parse(ut)}catch{return deleteValue(lt),ct}},setItem:(lt,ct)=>{try{const ut=JSON.stringify(ct);if(ut===void 0){deleteValue(lt);return}writeValue(lt,ut)}catch{deleteValue(lt)}},removeItem:lt=>{deleteValue(lt)}},{getOnInit:!0})}const CODEX_AUTO_ANNOUNCEMENT_KEY="has-seen-codex-auto-announcement",aHasSeenAnnouncement=persistedAtom(CODEX_AUTO_ANNOUNCEMENT_KEY,null),useAnnouncement=Ye=>{const[rt,it]=useAtom(aHasSeenAnnouncement);return{showAnnouncement:Ye&&!rt&&!initialRoute,dismissAnnouncement:()=>it(!0)}},useCodexAutoAnnouncement=()=>{const{authMethod:Ye}=useAuth();return useAnnouncement(Ye==="chatgpt")},vscode=acquireVsCodeApi();class MessageBus{static instance=null;static getInstance(){return this.instance==null&&(this.instance=new MessageBus),this.instance}handlers=new Map;constructor(){this.dispatchMessage=this.dispatchMessage.bind(this),this.handleMessage=this.handleMessage.bind(this),window.addEventListener("message",this.handleMessage)}dispatchMessage(rt,it){vscode.postMessage({...it,type:rt})}handleMessage(rt){const it=rt.data;let lt;if(typeof it=="string")try{lt=JSON.parse(it)}catch{return}else lt=it;const ct=lt.type;if(ct==null)return;const ut=this.handlers.get(ct);if(ut)for(const ht of ut)ht(lt,this.dispatchMessage)}subscribe(rt,it){const lt=this.handlers.get(rt)??new Set;return lt.add(it),this.handlers.set(rt,lt),()=>{const ct=this.handlers.get(rt);ct&&(ct.delete(it),ct.size===0&&this.handlers.delete(rt))}}}function useMessage(Ye,rt,it=[]){const lt=MessageBus.getInstance(),ct=reactExports.useEffectEvent(rt);reactExports.useEffect(()=>{const ut=lt.subscribe(Ye,ct);return()=>ut()},[lt,Ye,...it])}const messageBus=MessageBus.getInstance();class FetchError extends Error{constructor(rt,it){super(rt),this.status=it}}class WebFetchWrapper{static instance=null;static getInstance(){return this.instance==null&&(this.instance=new WebFetchWrapper),this.instance}messageCounter=0;pendingRequests=new Map;streamHandlers=new Map;constructor(){this.onFetchResponse=this.onFetchResponse.bind(this),MessageBus.getInstance().subscribe("fetch-response",this.onFetchResponse),this.onFetchStreamEvent=this.onFetchStreamEvent.bind(this),this.onFetchStreamError=this.onFetchStreamError.bind(this),this.onFetchStreamComplete=this.onFetchStreamComplete.bind(this),MessageBus.getInstance().subscribe("fetch-stream-event",this.onFetchStreamEvent),MessageBus.getInstance().subscribe("fetch-stream-error",this.onFetchStreamError),MessageBus.getInstance().subscribe("fetch-stream-complete",this.onFetchStreamComplete)}onFetchResponse(rt){const it=this.pendingRequests.get(rt.requestId);if(!it)return;switch(this.pendingRequests.delete(rt.requestId),rt.responseType){case"success":{try{rt.status>=200&&rt.status<300?it.resolve({status:rt.status,headers:rt.headers,body:JSON.parse(rt.bodyJsonString)}):it.reject(new FetchError(rt.bodyJsonString,rt.status))}catch(ct){it.reject(ct instanceof Error?ct:new Error(String(ct??"Unknown error")))}break}case"error":{it.reject(new FetchError(rt.error,rt.status));break}}}onFetchStreamEvent(rt){const it=this.streamHandlers.get(rt.requestId);it&&it.onEvent?.(rt)}onFetchStreamError(rt){const it=this.streamHandlers.get(rt.requestId);it&&(it.onError?.(rt),this.streamHandlers.delete(rt.requestId))}onFetchStreamComplete(rt){const it=this.streamHandlers.get(rt.requestId);it&&(it.onComplete?.(rt),this.streamHandlers.delete(rt.requestId))}async get(rt,it,lt){return this.sendRequest("GET",rt,{headers:it,signal:lt})}async post(rt,it,lt,ct){return this.sendRequest("POST",rt,{body:it,headers:lt,signal:ct})}async put(rt,it,lt,ct){return this.sendRequest("PUT",rt,{body:it,headers:lt,signal:ct})}stream(rt,it,lt={}){const ct=(++this.messageCounter).toString();return this.streamHandlers.set(ct,{onEvent:lt.onEvent,onError:lt.onError,onComplete:lt.onComplete}),MessageBus.getInstance().dispatchMessage("fetch-stream",{requestId:ct,url:it,method:rt,headers:lt.headers,body:lt.body}),ct}cancelStream(rt){MessageBus.getInstance().dispatchMessage("cancel-fetch-stream",{requestId:rt})}async sendRequest(rt,it,lt){const ct=(++this.messageCounter).toString();lt?.signal?.addEventListener("abort",()=>{MessageBus.getInstance().dispatchMessage("cancel-fetch",{requestId:ct})});const ut={requestId:ct,method:rt,url:it,headers:lt?.headers,body:lt?.body};return new Promise((ht,ft)=>{this.pendingRequests.set(ct,{resolve:ht,reject:ft}),MessageBus.getInstance().dispatchMessage("fetch",ut)})}}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(Ye){return this.listeners.add(Ye),this.onSubscribe(),()=>{this.listeners.delete(Ye),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(Ye,rt)=>setTimeout(Ye,rt),clearTimeout:Ye=>clearTimeout(Ye),setInterval:(Ye,rt)=>setInterval(Ye,rt),clearInterval:Ye=>clearInterval(Ye)},TimeoutManager=class{#e=defaultTimeoutProvider;#t=!1;setTimeoutProvider(Ye){this.#e=Ye}setTimeout(Ye,rt){return this.#e.setTimeout(Ye,rt)}clearTimeout(Ye){this.#e.clearTimeout(Ye)}setInterval(Ye,rt){return this.#e.setInterval(Ye,rt)}clearInterval(Ye){this.#e.clearInterval(Ye)}},timeoutManager=new TimeoutManager;function systemSetTimeoutZero(Ye){setTimeout(Ye,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$4(){}function functionalUpdate(Ye,rt){return typeof Ye=="function"?Ye(rt):Ye}function isValidTimeout(Ye){return typeof Ye=="number"&&Ye>=0&&Ye!==1/0}function timeUntilStale(Ye,rt){return Math.max(Ye+(rt||0)-Date.now(),0)}function resolveStaleTime(Ye,rt){return typeof Ye=="function"?Ye(rt):Ye}function resolveEnabled(Ye,rt){return typeof Ye=="function"?Ye(rt):Ye}function matchQuery(Ye,rt){const{type:it="all",exact:lt,fetchStatus:ct,predicate:ut,queryKey:ht,stale:ft}=Ye;if(ht){if(lt){if(rt.queryHash!==hashQueryKeyByOptions(ht,rt.options))return!1}else if(!partialMatchKey(rt.queryKey,ht))return!1}if(it!=="all"){const pt=rt.isActive();if(it==="active"&&!pt||it==="inactive"&&pt)return!1}return!(typeof ft=="boolean"&&rt.isStale()!==ft||ct&&ct!==rt.state.fetchStatus||ut&&!ut(rt))}function matchMutation(Ye,rt){const{exact:it,status:lt,predicate:ct,mutationKey:ut}=Ye;if(ut){if(!rt.options.mutationKey)return!1;if(it){if(hashKey(rt.options.mutationKey)!==hashKey(ut))return!1}else if(!partialMatchKey(rt.options.mutationKey,ut))return!1}return!(lt&&rt.state.status!==lt||ct&&!ct(rt))}function hashQueryKeyByOptions(Ye,rt){return(rt?.queryKeyHashFn||hashKey)(Ye)}function hashKey(Ye){return JSON.stringify(Ye,(rt,it)=>isPlainObject$4(it)?Object.keys(it).sort().reduce((lt,ct)=>(lt[ct]=it[ct],lt),{}):it)}function partialMatchKey(Ye,rt){return Ye===rt?!0:typeof Ye!=typeof rt?!1:Ye&&rt&&typeof Ye=="object"&&typeof rt=="object"?Object.keys(rt).every(it=>partialMatchKey(Ye[it],rt[it])):!1}var hasOwn$1=Object.prototype.hasOwnProperty;function replaceEqualDeep(Ye,rt){if(Ye===rt)return Ye;const it=isPlainArray(Ye)&&isPlainArray(rt);if(!it&&!(isPlainObject$4(Ye)&&isPlainObject$4(rt)))return rt;const ct=(it?Ye:Object.keys(Ye)).length,ut=it?rt:Object.keys(rt),ht=ut.length,ft=it?new Array(ht):{};let pt=0;for(let mt=0;mt<ht;mt++){const gt=it?mt:ut[mt],yt=Ye[gt],xt=rt[gt];if(yt===xt){ft[gt]=yt,(it?mt<ct:hasOwn$1.call(Ye,gt))&&pt++;continue}if(yt===null||xt===null||typeof yt!="object"||typeof xt!="object"){ft[gt]=xt;continue}const bt=replaceEqualDeep(yt,xt);ft[gt]=bt,bt===yt&&pt++}return ct===ht&&pt===ct?Ye:ft}function shallowEqualObjects(Ye,rt){if(!rt||Object.keys(Ye).length!==Object.keys(rt).length)return!1;for(const it in Ye)if(Ye[it]!==rt[it])return!1;return!0}function isPlainArray(Ye){return Array.isArray(Ye)&&Ye.length===Object.keys(Ye).length}function isPlainObject$4(Ye){if(!hasObjectPrototype(Ye))return!1;const rt=Ye.constructor;if(rt===void 0)return!0;const it=rt.prototype;return!(!hasObjectPrototype(it)||!it.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(Ye)!==Object.prototype)}function hasObjectPrototype(Ye){return Object.prototype.toString.call(Ye)==="[object Object]"}function sleep$1(Ye){return new Promise(rt=>{timeoutManager.setTimeout(rt,Ye)})}function replaceData(Ye,rt,it){return typeof it.structuralSharing=="function"?it.structuralSharing(Ye,rt):it.structuralSharing!==!1?replaceEqualDeep(Ye,rt):rt}function addToEnd(Ye,rt,it=0){const lt=[...Ye,rt];return it&&lt.length>it?lt.slice(1):lt}function addToStart(Ye,rt,it=0){const lt=[rt,...Ye];return it&&lt.length>it?lt.slice(0,-1):lt}var skipToken=Symbol();function ensureQueryFn(Ye,rt){return!Ye.queryFn&&rt?.initialPromise?()=>rt.initialPromise:!Ye.queryFn||Ye.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${Ye.queryHash}'`)):Ye.queryFn}function shouldThrowError(Ye,rt){return typeof Ye=="function"?Ye(...rt):!!Ye}var FocusManager=class extends Subscribable{#e;#t;#r;constructor(){super(),this.#r=Ye=>{if(!isServer&&window.addEventListener){const rt=()=>Ye();return window.addEventListener("visibilitychange",rt,!1),()=>{window.removeEventListener("visibilitychange",rt)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(Ye){this.#r=Ye,this.#t?.(),this.#t=Ye(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()})}setFocused(Ye){this.#e!==Ye&&(this.#e=Ye,this.onFocus())}onFocus(){const Ye=this.isFocused();this.listeners.forEach(rt=>{rt(Ye)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},focusManager=new FocusManager;function pendingThenable(){let Ye,rt;const it=new Promise((ct,ut)=>{Ye=ct,rt=ut});it.status="pending",it.catch(()=>{});function lt(ct){Object.assign(it,ct),delete it.resolve,delete it.reject}return it.resolve=ct=>{lt({status:"fulfilled",value:ct}),Ye(ct)},it.reject=ct=>{lt({status:"rejected",reason:ct}),rt(ct)},it}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let Ye=[],rt=0,it=ft=>{ft()},lt=ft=>{ft()},ct=defaultScheduler;const ut=ft=>{rt?Ye.push(ft):ct(()=>{it(ft)})},ht=()=>{const ft=Ye;Ye=[],ft.length&&ct(()=>{lt(()=>{ft.forEach(pt=>{it(pt)})})})};return{batch:ft=>{let pt;rt++;try{pt=ft()}finally{rt--,rt||ht()}return pt},batchCalls:ft=>(...pt)=>{ut(()=>{ft(...pt)})},schedule:ut,setNotifyFunction:ft=>{it=ft},setBatchNotifyFunction:ft=>{lt=ft},setScheduler:ft=>{ct=ft}}}var notifyManager=createNotifyManager(),OnlineManager=class extends Subscribable{#e=!0;#t;#r;constructor(){super(),this.#r=Ye=>{if(!isServer&&window.addEventListener){const rt=()=>Ye(!0),it=()=>Ye(!1);return window.addEventListener("online",rt,!1),window.addEventListener("offline",it,!1),()=>{window.removeEventListener("online",rt),window.removeEventListener("offline",it)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(Ye){this.#r=Ye,this.#t?.(),this.#t=Ye(this.setOnline.bind(this))}setOnline(Ye){this.#e!==Ye&&(this.#e=Ye,this.listeners.forEach(it=>{it(Ye)}))}isOnline(){return this.#e}},onlineManager=new OnlineManager;function defaultRetryDelay(Ye){return Math.min(1e3*2**Ye,3e4)}function canFetch(Ye){return(Ye??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(Ye){super("CancelledError"),this.revert=Ye?.revert,this.silent=Ye?.silent}};function createRetryer(Ye){let rt=!1,it=0,lt;const ct=pendingThenable(),ut=()=>ct.status!=="pending",ht=Ct=>{if(!ut()){const kt=new CancelledError(Ct);xt(kt),Ye.onCancel?.(kt)}},ft=()=>{rt=!0},pt=()=>{rt=!1},mt=()=>focusManager.isFocused()&&(Ye.networkMode==="always"||onlineManager.isOnline())&&Ye.canRun(),gt=()=>canFetch(Ye.networkMode)&&Ye.canRun(),yt=Ct=>{ut()||(lt?.(),ct.resolve(Ct))},xt=Ct=>{ut()||(lt?.(),ct.reject(Ct))},bt=()=>new Promise(Ct=>{lt=kt=>{(ut()||mt())&&Ct(kt)},Ye.onPause?.()}).then(()=>{lt=void 0,ut()||Ye.onContinue?.()}),_t=()=>{if(ut())return;let Ct;const kt=it===0?Ye.initialPromise:void 0;try{Ct=kt??Ye.fn()}catch(St){Ct=Promise.reject(St)}Promise.resolve(Ct).then(yt).catch(St=>{if(ut())return;const Rt=Ye.retry??(isServer?0:3),Tt=Ye.retryDelay??defaultRetryDelay,Mt=typeof Tt=="function"?Tt(it,St):Tt,Pt=Rt===!0||typeof Rt=="number"&&it<Rt||typeof Rt=="function"&&Rt(it,St);if(rt||!Pt){xt(St);return}it++,Ye.onFail?.(it,St),sleep$1(Mt).then(()=>mt()?void 0:bt()).then(()=>{rt?xt(St):_t()})})};return{promise:ct,status:()=>ct.status,cancel:ht,continue:()=>(lt?.(),ct),cancelRetry:ft,continueRetry:pt,canStart:gt,start:()=>(gt()?_t():bt().then(_t),ct)}}var Removable=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#e=timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(Ye){this.gcTime=Math.max(this.gcTime||0,Ye??(isServer?1/0:300*1e3))}clearGcTimeout(){this.#e&&(timeoutManager.clearTimeout(this.#e),this.#e=void 0)}},Query=class extends Removable{#e;#t;#r;#i;#n;#s;#o;constructor(Ye){super(),this.#o=!1,this.#s=Ye.defaultOptions,this.setOptions(Ye.options),this.observers=[],this.#i=Ye.client,this.#r=this.#i.getQueryCache(),this.queryKey=Ye.queryKey,this.queryHash=Ye.queryHash,this.#e=getDefaultState$1(this.options),this.state=Ye.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(Ye){if(this.options={...this.#s,...Ye},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const rt=getDefaultState$1(this.options);rt.data!==void 0&&(this.setData(rt.data,{updatedAt:rt.dataUpdatedAt,manual:!0}),this.#e=rt)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(Ye,rt){const it=replaceData(this.state.data,Ye,this.options);return this.#a({data:it,type:"success",dataUpdatedAt:rt?.updatedAt,manual:rt?.manual}),it}setState(Ye,rt){this.#a({type:"setState",state:Ye,setStateOptions:rt})}cancel(Ye){const rt=this.#n?.promise;return this.#n?.cancel(Ye),rt?rt.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(Ye=>resolveEnabled(Ye.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(Ye=>resolveStaleTime(Ye.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(Ye=>Ye.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(Ye=0){return this.state.data===void 0?!0:Ye==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,Ye)}onFocus(){this.observers.find(rt=>rt.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(rt=>rt.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(Ye){this.observers.includes(Ye)||(this.observers.push(Ye),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:Ye}))}removeObserver(Ye){this.observers.includes(Ye)&&(this.observers=this.observers.filter(rt=>rt!==Ye),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:Ye}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(Ye,rt){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&rt?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(Ye&&this.setOptions(Ye),!this.options.queryFn){const ft=this.observers.find(pt=>pt.options.queryFn);ft&&this.setOptions(ft.options)}const it=new AbortController,lt=ft=>{Object.defineProperty(ft,"signal",{enumerable:!0,get:()=>(this.#o=!0,it.signal)})},ct=()=>{const ft=ensureQueryFn(this.options,rt),mt=(()=>{const gt={client:this.#i,queryKey:this.queryKey,meta:this.meta};return lt(gt),gt})();return this.#o=!1,this.options.persister?this.options.persister(ft,mt,this):ft(mt)},ht=(()=>{const ft={fetchOptions:rt,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:ct};return lt(ft),ft})();this.options.behavior?.onFetch(ht,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==ht.fetchOptions?.meta)&&this.#a({type:"fetch",meta:ht.fetchOptions?.meta}),this.#n=createRetryer({initialPromise:rt?.initialPromise,fn:ht.fetchFn,onCancel:ft=>{ft instanceof CancelledError&&ft.revert&&this.setState({...this.#t,fetchStatus:"idle"}),it.abort()},onFail:(ft,pt)=>{this.#a({type:"failed",failureCount:ft,error:pt})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:ht.options.retry,retryDelay:ht.options.retryDelay,networkMode:ht.options.networkMode,canRun:()=>!0});try{const ft=await this.#n.start();if(ft===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(ft),this.#r.config.onSuccess?.(ft,this),this.#r.config.onSettled?.(ft,this.state.error,this),ft}catch(ft){if(ft instanceof CancelledError){if(ft.silent)return this.#n.promise;if(ft.revert){if(this.state.data===void 0)throw ft;return this.state.data}}throw this.#a({type:"error",error:ft}),this.#r.config.onError?.(ft,this),this.#r.config.onSettled?.(this.state.data,ft,this),ft}finally{this.scheduleGc()}}#a(Ye){const rt=it=>{switch(Ye.type){case"failed":return{...it,fetchFailureCount:Ye.failureCount,fetchFailureReason:Ye.error};case"pause":return{...it,fetchStatus:"paused"};case"continue":return{...it,fetchStatus:"fetching"};case"fetch":return{...it,...fetchState(it.data,this.options),fetchMeta:Ye.meta??null};case"success":const lt={...it,data:Ye.data,dataUpdateCount:it.dataUpdateCount+1,dataUpdatedAt:Ye.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!Ye.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=Ye.manual?lt:void 0,lt;case"error":const ct=Ye.error;return{...it,error:ct,errorUpdateCount:it.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:it.fetchFailureCount+1,fetchFailureReason:ct,fetchStatus:"idle",status:"error"};case"invalidate":return{...it,isInvalidated:!0};case"setState":return{...it,...Ye.state}}};this.state=rt(this.state),notifyManager.batch(()=>{this.observers.forEach(it=>{it.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:Ye})})}};function fetchState(Ye,rt){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(rt.networkMode)?"fetching":"paused",...Ye===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(Ye){const rt=typeof Ye.initialData=="function"?Ye.initialData():Ye.initialData,it=rt!==void 0,lt=it?typeof Ye.initialDataUpdatedAt=="function"?Ye.initialDataUpdatedAt():Ye.initialDataUpdatedAt:0;return{data:rt,dataUpdateCount:0,dataUpdatedAt:it?lt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:it?"success":"pending",fetchStatus:"idle"}}var QueryObserver=class extends Subscribable{constructor(Ye,rt){super(),this.options=rt,this.#e=Ye,this.#a=null,this.#o=pendingThenable(),this.bindMethods(),this.setOptions(rt)}#e;#t=void 0;#r=void 0;#i=void 0;#n;#s;#o;#a;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),shouldFetchOnMount(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#t.removeObserver(this)}setOptions(Ye){const rt=this.options,it=this.#t;if(this.options=this.#e.defaultQueryOptions(Ye),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),rt._defaulted&&!shallowEqualObjects(this.options,rt)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const lt=this.hasListeners();lt&&shouldFetchOptionally(this.#t,it,this.options,rt)&&this.#d(),this.updateResult(),lt&&(this.#t!==it||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(rt.enabled,this.#t)||resolveStaleTime(this.options.staleTime,this.#t)!==resolveStaleTime(rt.staleTime,this.#t))&&this.#g();const ct=this.#y();lt&&(this.#t!==it||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(rt.enabled,this.#t)||ct!==this.#l)&&this.#x(ct)}getOptimisticResult(Ye){const rt=this.#e.getQueryCache().build(this.#e,Ye),it=this.createResult(rt,Ye);return shouldAssignObserverCurrentProperties(this,it)&&(this.#i=it,this.#s=this.options,this.#n=this.#t.state),it}getCurrentResult(){return this.#i}trackResult(Ye,rt){return new Proxy(Ye,{get:(it,lt)=>(this.trackProp(lt),rt?.(lt),lt==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(it,lt))})}trackProp(Ye){this.#p.add(Ye)}getCurrentQuery(){return this.#t}refetch({...Ye}={}){return this.fetch({...Ye})}fetchOptimistic(Ye){const rt=this.#e.defaultQueryOptions(Ye),it=this.#e.getQueryCache().build(this.#e,rt);return it.fetch().then(()=>this.createResult(it,rt))}fetch(Ye){return this.#d({...Ye,cancelRefetch:Ye.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(Ye){this.#E();let rt=this.#t.fetch(this.options,Ye);return Ye?.throwOnError||(rt=rt.catch(noop$4)),rt}#g(){this.#b();const Ye=resolveStaleTime(this.options.staleTime,this.#t);if(isServer||this.#i.isStale||!isValidTimeout(Ye))return;const it=timeUntilStale(this.#i.dataUpdatedAt,Ye)+1;this.#c=timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},it)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(Ye){this.#_(),this.#l=Ye,!(isServer||resolveEnabled(this.options.enabled,this.#t)===!1||!isValidTimeout(this.#l)||this.#l===0)&&(this.#u=timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(timeoutManager.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(timeoutManager.clearInterval(this.#u),this.#u=void 0)}createResult(Ye,rt){const it=this.#t,lt=this.options,ct=this.#i,ut=this.#n,ht=this.#s,pt=Ye!==it?Ye.state:this.#r,{state:mt}=Ye;let gt={...mt},yt=!1,xt;if(rt._optimisticResults){const Ot=this.hasListeners(),Ft=!Ot&&shouldFetchOnMount(Ye,rt),Ut=Ot&&shouldFetchOptionally(Ye,it,rt,lt);(Ft||Ut)&&(gt={...gt,...fetchState(mt.data,Ye.options)}),rt._optimisticResults==="isRestoring"&&(gt.fetchStatus="idle")}let{error:bt,errorUpdatedAt:_t,status:Ct}=gt;xt=gt.data;let kt=!1;if(rt.placeholderData!==void 0&&xt===void 0&&Ct==="pending"){let Ot;ct?.isPlaceholderData&&rt.placeholderData===ht?.placeholderData?(Ot=ct.data,kt=!0):Ot=typeof rt.placeholderData=="function"?rt.placeholderData(this.#f?.state.data,this.#f):rt.placeholderData,Ot!==void 0&&(Ct="success",xt=replaceData(ct?.data,Ot,rt),yt=!0)}if(rt.select&&xt!==void 0&&!kt)if(ct&&xt===ut?.data&&rt.select===this.#m)xt=this.#h;else try{this.#m=rt.select,xt=rt.select(xt),xt=replaceData(ct?.data,xt,rt),this.#h=xt,this.#a=null}catch(Ot){this.#a=Ot}this.#a&&(bt=this.#a,xt=this.#h,_t=Date.now(),Ct="error");const St=gt.fetchStatus==="fetching",Rt=Ct==="pending",Tt=Ct==="error",Mt=Rt&&St,Pt=xt!==void 0,Lt={status:Ct,fetchStatus:gt.fetchStatus,isPending:Rt,isSuccess:Ct==="success",isError:Tt,isInitialLoading:Mt,isLoading:Mt,data:xt,dataUpdatedAt:gt.dataUpdatedAt,error:bt,errorUpdatedAt:_t,failureCount:gt.fetchFailureCount,failureReason:gt.fetchFailureReason,errorUpdateCount:gt.errorUpdateCount,isFetched:gt.dataUpdateCount>0||gt.errorUpdateCount>0,isFetchedAfterMount:gt.dataUpdateCount>pt.dataUpdateCount||gt.errorUpdateCount>pt.errorUpdateCount,isFetching:St,isRefetching:St&&!Rt,isLoadingError:Tt&&!Pt,isPaused:gt.fetchStatus==="paused",isPlaceholderData:yt,isRefetchError:Tt&&Pt,isStale:isStale(Ye,rt),refetch:this.refetch,promise:this.#o,isEnabled:resolveEnabled(rt.enabled,Ye)!==!1};if(this.options.experimental_prefetchInRender){const Ot=Wt=>{Lt.status==="error"?Wt.reject(Lt.error):Lt.data!==void 0&&Wt.resolve(Lt.data)},Ft=()=>{const Wt=this.#o=Lt.promise=pendingThenable();Ot(Wt)},Ut=this.#o;switch(Ut.status){case"pending":Ye.queryHash===it.queryHash&&Ot(Ut);break;case"fulfilled":(Lt.status==="error"||Lt.data!==Ut.value)&&Ft();break;case"rejected":(Lt.status!=="error"||Lt.error!==Ut.reason)&&Ft();break}}return Lt}updateResult(){const Ye=this.#i,rt=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#f=this.#t),shallowEqualObjects(rt,Ye))return;this.#i=rt;const it=()=>{if(!Ye)return!0;const{notifyOnChangeProps:lt}=this.options,ct=typeof lt=="function"?lt():lt;if(ct==="all"||!ct&&!this.#p.size)return!0;const ut=new Set(ct??this.#p);return this.options.throwOnError&&ut.add("error"),Object.keys(this.#i).some(ht=>{const ft=ht;return this.#i[ft]!==Ye[ft]&&ut.has(ft)})};this.#C({listeners:it()})}#E(){const Ye=this.#e.getQueryCache().build(this.#e,this.options);if(Ye===this.#t)return;const rt=this.#t;this.#t=Ye,this.#r=Ye.state,this.hasListeners()&&(rt?.removeObserver(this),Ye.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(Ye){notifyManager.batch(()=>{Ye.listeners&&this.listeners.forEach(rt=>{rt(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function shouldLoadOnMount(Ye,rt){return resolveEnabled(rt.enabled,Ye)!==!1&&Ye.state.data===void 0&&!(Ye.state.status==="error"&&rt.retryOnMount===!1)}function shouldFetchOnMount(Ye,rt){return shouldLoadOnMount(Ye,rt)||Ye.state.data!==void 0&&shouldFetchOn(Ye,rt,rt.refetchOnMount)}function shouldFetchOn(Ye,rt,it){if(resolveEnabled(rt.enabled,Ye)!==!1&&resolveStaleTime(rt.staleTime,Ye)!=="static"){const lt=typeof it=="function"?it(Ye):it;return lt==="always"||lt!==!1&&isStale(Ye,rt)}return!1}function shouldFetchOptionally(Ye,rt,it,lt){return(Ye!==rt||resolveEnabled(lt.enabled,Ye)===!1)&&(!it.suspense||Ye.state.status!=="error")&&isStale(Ye,it)}function isStale(Ye,rt){return resolveEnabled(rt.enabled,Ye)!==!1&&Ye.isStaleByTime(resolveStaleTime(rt.staleTime,Ye))}function shouldAssignObserverCurrentProperties(Ye,rt){return!shallowEqualObjects(Ye.getCurrentResult(),rt)}function infiniteQueryBehavior(Ye){return{onFetch:(rt,it)=>{const lt=rt.options,ct=rt.fetchOptions?.meta?.fetchMore?.direction,ut=rt.state.data?.pages||[],ht=rt.state.data?.pageParams||[];let ft={pages:[],pageParams:[]},pt=0;const mt=async()=>{let gt=!1;const yt=_t=>{Object.defineProperty(_t,"signal",{enumerable:!0,get:()=>(rt.signal.aborted?gt=!0:rt.signal.addEventListener("abort",()=>{gt=!0}),rt.signal)})},xt=ensureQueryFn(rt.options,rt.fetchOptions),bt=async(_t,Ct,kt)=>{if(gt)return Promise.reject();if(Ct==null&&_t.pages.length)return Promise.resolve(_t);const Rt=(()=>{const It={client:rt.client,queryKey:rt.queryKey,pageParam:Ct,direction:kt?"backward":"forward",meta:rt.options.meta};return yt(It),It})(),Tt=await xt(Rt),{maxPages:Mt}=rt.options,Pt=kt?addToStart:addToEnd;return{pages:Pt(_t.pages,Tt,Mt),pageParams:Pt(_t.pageParams,Ct,Mt)}};if(ct&&ut.length){const _t=ct==="backward",Ct=_t?getPreviousPageParam:getNextPageParam,kt={pages:ut,pageParams:ht},St=Ct(lt,kt);ft=await bt(kt,St,_t)}else{const _t=Ye??ut.length;do{const Ct=pt===0?ht[0]??lt.initialPageParam:getNextPageParam(lt,ft);if(pt>0&&Ct==null)break;ft=await bt(ft,Ct),pt++}while(pt<_t)}return ft};rt.options.persister?rt.fetchFn=()=>rt.options.persister?.(mt,{client:rt.client,queryKey:rt.queryKey,meta:rt.options.meta,signal:rt.signal},it):rt.fetchFn=mt}}}function getNextPageParam(Ye,{pages:rt,pageParams:it}){const lt=rt.length-1;return rt.length>0?Ye.getNextPageParam(rt[lt],rt,it[lt],it):void 0}function getPreviousPageParam(Ye,{pages:rt,pageParams:it}){return rt.length>0?Ye.getPreviousPageParam?.(rt[0],rt,it[0],it):void 0}function hasNextPage(Ye,rt){return rt?getNextPageParam(Ye,rt)!=null:!1}function hasPreviousPage(Ye,rt){return!rt||!Ye.getPreviousPageParam?!1:getPreviousPageParam(Ye,rt)!=null}var InfiniteQueryObserver=class extends QueryObserver{constructor(Ye,rt){super(Ye,rt)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(Ye){super.setOptions({...Ye,behavior:infiniteQueryBehavior()})}getOptimisticResult(Ye){return Ye.behavior=infiniteQueryBehavior(),super.getOptimisticResult(Ye)}fetchNextPage(Ye){return this.fetch({...Ye,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(Ye){return this.fetch({...Ye,meta:{fetchMore:{direction:"backward"}}})}createResult(Ye,rt){const{state:it}=Ye,lt=super.createResult(Ye,rt),{isFetching:ct,isRefetching:ut,isError:ht,isRefetchError:ft}=lt,pt=it.fetchMeta?.fetchMore?.direction,mt=ht&&pt==="forward",gt=ct&&pt==="forward",yt=ht&&pt==="backward",xt=ct&&pt==="backward";return{...lt,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(rt,it.data),hasPreviousPage:hasPreviousPage(rt,it.data),isFetchNextPageError:mt,isFetchingNextPage:gt,isFetchPreviousPageError:yt,isFetchingPreviousPage:xt,isRefetchError:ft&&!mt&&!yt,isRefetching:ut&&!gt&&!xt}}},Mutation=class extends Removable{#e;#t;#r;#i;constructor(Ye){super(),this.#e=Ye.client,this.mutationId=Ye.mutationId,this.#r=Ye.mutationCache,this.#t=[],this.state=Ye.state||getDefaultState(),this.setOptions(Ye.options),this.scheduleGc()}setOptions(Ye){this.options=Ye,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(Ye){this.#t.includes(Ye)||(this.#t.push(Ye),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:Ye}))}removeObserver(Ye){this.#t=this.#t.filter(rt=>rt!==Ye),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:Ye})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(Ye){const rt=()=>{this.#n({type:"continue"})},it={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(Ye,it):Promise.reject(new Error("No mutationFn found")),onFail:(ut,ht)=>{this.#n({type:"failed",failureCount:ut,error:ht})},onPause:()=>{this.#n({type:"pause"})},onContinue:rt,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const lt=this.state.status==="pending",ct=!this.#i.canStart();try{if(lt)rt();else{this.#n({type:"pending",variables:Ye,isPaused:ct}),await this.#r.config.onMutate?.(Ye,this,it);const ht=await this.options.onMutate?.(Ye,it);ht!==this.state.context&&this.#n({type:"pending",context:ht,variables:Ye,isPaused:ct})}const ut=await this.#i.start();return await this.#r.config.onSuccess?.(ut,Ye,this.state.context,this,it),await this.options.onSuccess?.(ut,Ye,this.state.context,it),await this.#r.config.onSettled?.(ut,null,this.state.variables,this.state.context,this,it),await this.options.onSettled?.(ut,null,Ye,this.state.context,it),this.#n({type:"success",data:ut}),ut}catch(ut){try{throw await this.#r.config.onError?.(ut,Ye,this.state.context,this,it),await this.options.onError?.(ut,Ye,this.state.context,it),await this.#r.config.onSettled?.(void 0,ut,this.state.variables,this.state.context,this,it),await this.options.onSettled?.(void 0,ut,Ye,this.state.context,it),ut}finally{this.#n({type:"error",error:ut})}}finally{this.#r.runNext(this)}}#n(Ye){const rt=it=>{switch(Ye.type){case"failed":return{...it,failureCount:Ye.failureCount,failureReason:Ye.error};case"pause":return{...it,isPaused:!0};case"continue":return{...it,isPaused:!1};case"pending":return{...it,context:Ye.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:Ye.isPaused,status:"pending",variables:Ye.variables,submittedAt:Date.now()};case"success":return{...it,data:Ye.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...it,data:void 0,error:Ye.error,failureCount:it.failureCount+1,failureReason:Ye.error,isPaused:!1,status:"error"}}};this.state=rt(this.state),notifyManager.batch(()=>{this.#t.forEach(it=>{it.onMutationUpdate(Ye)}),this.#r.notify({mutation:this,type:"updated",action:Ye})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(Ye={}){super(),this.config=Ye,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(Ye,rt,it){const lt=new Mutation({client:Ye,mutationCache:this,mutationId:++this.#r,options:Ye.defaultMutationOptions(rt),state:it});return this.add(lt),lt}add(Ye){this.#e.add(Ye);const rt=scopeFor(Ye);if(typeof rt=="string"){const it=this.#t.get(rt);it?it.push(Ye):this.#t.set(rt,[Ye])}this.notify({type:"added",mutation:Ye})}remove(Ye){if(this.#e.delete(Ye)){const rt=scopeFor(Ye);if(typeof rt=="string"){const it=this.#t.get(rt);if(it)if(it.length>1){const lt=it.indexOf(Ye);lt!==-1&&it.splice(lt,1)}else it[0]===Ye&&this.#t.delete(rt)}}this.notify({type:"removed",mutation:Ye})}canRun(Ye){const rt=scopeFor(Ye);if(typeof rt=="string"){const lt=this.#t.get(rt)?.find(ct=>ct.state.status==="pending");return!lt||lt===Ye}else return!0}runNext(Ye){const rt=scopeFor(Ye);return typeof rt=="string"?this.#t.get(rt)?.find(lt=>lt!==Ye&&lt.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){notifyManager.batch(()=>{this.#e.forEach(Ye=>{this.notify({type:"removed",mutation:Ye})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(Ye){const rt={exact:!0,...Ye};return this.getAll().find(it=>matchMutation(rt,it))}findAll(Ye={}){return this.getAll().filter(rt=>matchMutation(Ye,rt))}notify(Ye){notifyManager.batch(()=>{this.listeners.forEach(rt=>{rt(Ye)})})}resumePausedMutations(){const Ye=this.getAll().filter(rt=>rt.state.isPaused);return notifyManager.batch(()=>Promise.all(Ye.map(rt=>rt.continue().catch(noop$4))))}};function scopeFor(Ye){return Ye.options.scope?.id}var MutationObserver$1=class extends Subscribable{#e;#t=void 0;#r;#i;constructor(rt,it){super(),this.#e=rt,this.setOptions(it),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(rt){const it=this.options;this.options=this.#e.defaultMutationOptions(rt),shallowEqualObjects(this.options,it)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),it?.mutationKey&&this.options.mutationKey&&hashKey(it.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(rt){this.#n(),this.#s(rt)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(rt,it){return this.#i=it,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(rt)}#n(){const rt=this.#r?.state??getDefaultState();this.#t={...rt,isPending:rt.status==="pending",isSuccess:rt.status==="success",isError:rt.status==="error",isIdle:rt.status==="idle",mutate:this.mutate,reset:this.reset}}#s(rt){notifyManager.batch(()=>{if(this.#i&&this.hasListeners()){const it=this.#t.variables,lt=this.#t.context,ct={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};rt?.type==="success"?(this.#i.onSuccess?.(rt.data,it,lt,ct),this.#i.onSettled?.(rt.data,null,it,lt,ct)):rt?.type==="error"&&(this.#i.onError?.(rt.error,it,lt,ct),this.#i.onSettled?.(void 0,rt.error,it,lt,ct))}this.listeners.forEach(it=>{it(this.#t)})})}},QueryCache=class extends Subscribable{constructor(Ye={}){super(),this.config=Ye,this.#e=new Map}#e;build(Ye,rt,it){const lt=rt.queryKey,ct=rt.queryHash??hashQueryKeyByOptions(lt,rt);let ut=this.get(ct);return ut||(ut=new Query({client:Ye,queryKey:lt,queryHash:ct,options:Ye.defaultQueryOptions(rt),state:it,defaultOptions:Ye.getQueryDefaults(lt)}),this.add(ut)),ut}add(Ye){this.#e.has(Ye.queryHash)||(this.#e.set(Ye.queryHash,Ye),this.notify({type:"added",query:Ye}))}remove(Ye){const rt=this.#e.get(Ye.queryHash);rt&&(Ye.destroy(),rt===Ye&&this.#e.delete(Ye.queryHash),this.notify({type:"removed",query:Ye}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(Ye=>{this.remove(Ye)})})}get(Ye){return this.#e.get(Ye)}getAll(){return[...this.#e.values()]}find(Ye){const rt={exact:!0,...Ye};return this.getAll().find(it=>matchQuery(rt,it))}findAll(Ye={}){const rt=this.getAll();return Object.keys(Ye).length>0?rt.filter(it=>matchQuery(Ye,it)):rt}notify(Ye){notifyManager.batch(()=>{this.listeners.forEach(rt=>{rt(Ye)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(Ye=>{Ye.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(Ye=>{Ye.onOnline()})})}},QueryClient=class{#e;#t;#r;#i;#n;#s;#o;#a;constructor(Ye={}){this.#e=Ye.queryCache||new QueryCache,this.#t=Ye.mutationCache||new MutationCache,this.#r=Ye.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=focusManager.subscribe(async Ye=>{Ye&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=onlineManager.subscribe(async Ye=>{Ye&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(Ye){return this.#e.findAll({...Ye,fetchStatus:"fetching"}).length}isMutating(Ye){return this.#t.findAll({...Ye,status:"pending"}).length}getQueryData(Ye){const rt=this.defaultQueryOptions({queryKey:Ye});return this.#e.get(rt.queryHash)?.state.data}ensureQueryData(Ye){const rt=this.defaultQueryOptions(Ye),it=this.#e.build(this,rt),lt=it.state.data;return lt===void 0?this.fetchQuery(Ye):(Ye.revalidateIfStale&&it.isStaleByTime(resolveStaleTime(rt.staleTime,it))&&this.prefetchQuery(rt),Promise.resolve(lt))}getQueriesData(Ye){return this.#e.findAll(Ye).map(({queryKey:rt,state:it})=>{const lt=it.data;return[rt,lt]})}setQueryData(Ye,rt,it){const lt=this.defaultQueryOptions({queryKey:Ye}),ut=this.#e.get(lt.queryHash)?.state.data,ht=functionalUpdate(rt,ut);if(ht!==void 0)return this.#e.build(this,lt).setData(ht,{...it,manual:!0})}setQueriesData(Ye,rt,it){return notifyManager.batch(()=>this.#e.findAll(Ye).map(({queryKey:lt})=>[lt,this.setQueryData(lt,rt,it)]))}getQueryState(Ye){const rt=this.defaultQueryOptions({queryKey:Ye});return this.#e.get(rt.queryHash)?.state}removeQueries(Ye){const rt=this.#e;notifyManager.batch(()=>{rt.findAll(Ye).forEach(it=>{rt.remove(it)})})}resetQueries(Ye,rt){const it=this.#e;return notifyManager.batch(()=>(it.findAll(Ye).forEach(lt=>{lt.reset()}),this.refetchQueries({type:"active",...Ye},rt)))}cancelQueries(Ye,rt={}){const it={revert:!0,...rt},lt=notifyManager.batch(()=>this.#e.findAll(Ye).map(ct=>ct.cancel(it)));return Promise.all(lt).then(noop$4).catch(noop$4)}invalidateQueries(Ye,rt={}){return notifyManager.batch(()=>(this.#e.findAll(Ye).forEach(it=>{it.invalidate()}),Ye?.refetchType==="none"?Promise.resolve():this.refetchQueries({...Ye,type:Ye?.refetchType??Ye?.type??"active"},rt)))}refetchQueries(Ye,rt={}){const it={...rt,cancelRefetch:rt.cancelRefetch??!0},lt=notifyManager.batch(()=>this.#e.findAll(Ye).filter(ct=>!ct.isDisabled()&&!ct.isStatic()).map(ct=>{let ut=ct.fetch(void 0,it);return it.throwOnError||(ut=ut.catch(noop$4)),ct.state.fetchStatus==="paused"?Promise.resolve():ut}));return Promise.all(lt).then(noop$4)}fetchQuery(Ye){const rt=this.defaultQueryOptions(Ye);rt.retry===void 0&&(rt.retry=!1);const it=this.#e.build(this,rt);return it.isStaleByTime(resolveStaleTime(rt.staleTime,it))?it.fetch(rt):Promise.resolve(it.state.data)}prefetchQuery(Ye){return this.fetchQuery(Ye).then(noop$4).catch(noop$4)}fetchInfiniteQuery(Ye){return Ye.behavior=infiniteQueryBehavior(Ye.pages),this.fetchQuery(Ye)}prefetchInfiniteQuery(Ye){return this.fetchInfiniteQuery(Ye).then(noop$4).catch(noop$4)}ensureInfiniteQueryData(Ye){return Ye.behavior=infiniteQueryBehavior(Ye.pages),this.ensureQueryData(Ye)}resumePausedMutations(){return onlineManager.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(Ye){this.#r=Ye}setQueryDefaults(Ye,rt){this.#i.set(hashKey(Ye),{queryKey:Ye,defaultOptions:rt})}getQueryDefaults(Ye){const rt=[...this.#i.values()],it={};return rt.forEach(lt=>{partialMatchKey(Ye,lt.queryKey)&&Object.assign(it,lt.defaultOptions)}),it}setMutationDefaults(Ye,rt){this.#n.set(hashKey(Ye),{mutationKey:Ye,defaultOptions:rt})}getMutationDefaults(Ye){const rt=[...this.#n.values()],it={};return rt.forEach(lt=>{partialMatchKey(Ye,lt.mutationKey)&&Object.assign(it,lt.defaultOptions)}),it}defaultQueryOptions(Ye){if(Ye._defaulted)return Ye;const rt={...this.#r.queries,...this.getQueryDefaults(Ye.queryKey),...Ye,_defaulted:!0};return rt.queryHash||(rt.queryHash=hashQueryKeyByOptions(rt.queryKey,rt)),rt.refetchOnReconnect===void 0&&(rt.refetchOnReconnect=rt.networkMode!=="always"),rt.throwOnError===void 0&&(rt.throwOnError=!!rt.suspense),!rt.networkMode&&rt.persister&&(rt.networkMode="offlineFirst"),rt.queryFn===skipToken&&(rt.enabled=!1),rt}defaultMutationOptions(Ye){return Ye?._defaulted?Ye:{...this.#r.mutations,...Ye?.mutationKey&&this.getMutationDefaults(Ye.mutationKey),...Ye,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=Ye=>{const rt=reactExports.useContext(QueryClientContext);if(!rt)throw new Error("No QueryClient set, use QueryClientProvider to set one");return rt},QueryClientProvider=({client:Ye,children:rt})=>(reactExports.useEffect(()=>(Ye.mount(),()=>{Ye.unmount()}),[Ye]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:Ye,children:rt})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let Ye=!1;return{clearReset:()=>{Ye=!1},reset:()=>{Ye=!0},isReset:()=>Ye}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(Ye,rt)=>{(Ye.suspense||Ye.throwOnError||Ye.experimental_prefetchInRender)&&(rt.isReset()||(Ye.retryOnMount=!1))},useClearResetErrorBoundary=Ye=>{reactExports.useEffect(()=>{Ye.clearReset()},[Ye])},getHasError=({result:Ye,errorResetBoundary:rt,throwOnError:it,query:lt,suspense:ct})=>Ye.isError&&!rt.isReset()&&!Ye.isFetching&&lt&&(ct&&Ye.data===void 0||shouldThrowError(it,[Ye.error,lt])),ensureSuspenseTimers=Ye=>{if(Ye.suspense){const it=ct=>ct==="static"?ct:Math.max(ct??1e3,1e3),lt=Ye.staleTime;Ye.staleTime=typeof lt=="function"?(...ct)=>it(lt(...ct)):it(lt),typeof Ye.gcTime=="number"&&(Ye.gcTime=Math.max(Ye.gcTime,1e3))}},willFetch=(Ye,rt)=>Ye.isLoading&&Ye.isFetching&&!rt,shouldSuspend=(Ye,rt)=>Ye?.suspense&&rt.isPending,fetchOptimistic=(Ye,rt,it)=>rt.fetchOptimistic(Ye).catch(()=>{it.clearReset()});function useBaseQuery(Ye,rt,it){const lt=useIsRestoring(),ct=useQueryErrorResetBoundary(),ut=useQueryClient(),ht=ut.defaultQueryOptions(Ye);ut.getDefaultOptions().queries?._experimental_beforeQuery?.(ht),ht._optimisticResults=lt?"isRestoring":"optimistic",ensureSuspenseTimers(ht),ensurePreventErrorBoundaryRetry(ht,ct),useClearResetErrorBoundary(ct);const ft=!ut.getQueryCache().get(ht.queryHash),[pt]=reactExports.useState(()=>new rt(ut,ht)),mt=pt.getOptimisticResult(ht),gt=!lt&&Ye.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(yt=>{const xt=gt?pt.subscribe(notifyManager.batchCalls(yt)):noop$4;return pt.updateResult(),xt},[pt,gt]),()=>pt.getCurrentResult(),()=>pt.getCurrentResult()),reactExports.useEffect(()=>{pt.setOptions(ht)},[ht,pt]),shouldSuspend(ht,mt))throw fetchOptimistic(ht,pt,ct);if(getHasError({result:mt,errorResetBoundary:ct,throwOnError:ht.throwOnError,query:ut.getQueryCache().get(ht.queryHash),suspense:ht.suspense}))throw mt.error;return ut.getDefaultOptions().queries?._experimental_afterQuery?.(ht,mt),ht.experimental_prefetchInRender&&!isServer&&willFetch(mt,lt)&&(ft?fetchOptimistic(ht,pt,ct):ut.getQueryCache().get(ht.queryHash)?.promise)?.catch(noop$4).finally(()=>{pt.updateResult()}),ht.notifyOnChangeProps?mt:pt.trackResult(mt)}function useQuery(Ye,rt){return useBaseQuery(Ye,QueryObserver)}function useMutation(Ye,rt){const it=useQueryClient(),[lt]=reactExports.useState(()=>new MutationObserver$1(it,Ye));reactExports.useEffect(()=>{lt.setOptions(Ye)},[lt,Ye]);const ct=reactExports.useSyncExternalStore(reactExports.useCallback(ht=>lt.subscribe(notifyManager.batchCalls(ht)),[lt]),()=>lt.getCurrentResult(),()=>lt.getCurrentResult()),ut=reactExports.useCallback((ht,ft)=>{lt.mutate(ht,ft).catch(noop$4)},[lt]);if(ct.error&&shouldThrowError(lt.options.throwOnError,[ct.error]))throw ct.error;return{...ct,mutate:ut,mutateAsync:ct.mutate}}function useInfiniteQuery(Ye,rt){return useBaseQuery(Ye,InfiniteQueryObserver)}const VSCODE_QUERY_KEY_PREFIX="vscode";function getQueryKey(Ye,rt){return[VSCODE_QUERY_KEY_PREFIX,Ye,JSON.stringify(rt)]}function useFetchFromVSCode(Ye,rt={}){const{params:it,queryConfig:lt,placeholderData:ct}=rt??{},{intervalMs:ut,enabled:ht,staleTime:ft,initialData:pt}=lt??{},mt={queryKey:getQueryKey(Ye,it),queryFn:async()=>(await WebFetchWrapper.getInstance().post(`vscode://codex/${Ye}`,JSON.stringify(it))).body,select:rt.select,refetchInterval:ut,enabled:ht,staleTime:ft,...pt!==void 0?{initialData:pt}:{},...ct!==void 0?{placeholderData:ct}:{}};return useQuery(mt)}async function fetchFromVSCode(Ye,rt={}){const{params:it,select:lt,signal:ct}=rt??{},ht=(await WebFetchWrapper.getInstance().post(`vscode://codex/${Ye}`,JSON.stringify(it),void 0,ct)).body;return lt?lt(ht):ht}function useMutationFromVSCode(Ye,rt){return useMutation({mutationFn:async it=>(await WebFetchWrapper.getInstance().post(`vscode://codex/${Ye}`,JSON.stringify(it))).body,...rt??{}})}function useOsInfo(){const Ye=useFetchFromVSCode("os-info");return{data:Ye.data,isLoading:Ye.isLoading}}function isMcpEventNotificationForType(Ye,rt){return rt.method===`codex/event/${Ye}`}function mapMcpEventMsgToMcpNotification(Ye,rt){return{method:`codex/event/${rt.type}`,id:Ye,msg:rt}}function splitByStartingElement(Ye,rt){const it=[];let lt=null;for(const ct of Ye)rt(ct)?(lt&&it.push(lt),lt=[ct]):lt&&lt.push(ct);return lt&&it.push(lt),it}const CODEX_HOME_URL="https://chatgpt.com/codex",ConfigurationKeys={COMMENT_CODELENS_ENABLED:"commentCodeLensEnabled",RUN_CODEX_IN_WSL:"runCodexInWindowsSubsystemForLinux"};function createDeferred(){let Ye=()=>{},rt=()=>{};return{promise:new Promise((lt,ct)=>{Ye=lt,rt=ct}),resolve:Ye,reject:rt}}const GlobalStateKey={HAS_PROBABLY_SEEN_2025_08_27_NUX:"hasProbablySeen2025-08-27-nux",NUX_2025_09_15:"viewed2025-09-15-nux",NUX_2025_09_15_FULL_CHATGPT_AUTH_VIEWED:"viewed2025-09-15-full-chatgpt-auth-nux",NUX_2025_09_15_APIKEY_AUTH_VIEWED:"viewed2025-09-15-apikey-auth-nux",WINDOWS_SANDBOX_ENABLED:"windows-sandbox-enabled",UPSELL_BANNER_CODEX_REMOTE_DISMISSED_AT:"upsell-banner-codex-remote-dismissed-at"},COPILOT_MODEL_PROVIDER_ID="codex_vscode_copilot",COPILOT_MODEL_PROVIDER_PRESENTATION_NAME="Copilot";async function buildNewConversationParams(Ye,rt,it,lt,ct){const ut={},ht=await rt();let ft;if(ht!=null){ft=COPILOT_MODEL_PROVIDER_ID;const{baseUrl:pt,secret:mt}=ht;ut.model_provider=COPILOT_MODEL_PROVIDER_ID,ut[`model_providers.${COPILOT_MODEL_PROVIDER_ID}`]={name:COPILOT_MODEL_PROVIDER_PRESENTATION_NAME,base_url:pt,experimental_bearer_token:mt,wire_api:"responses"}}else ft=null;if(ct){const pt=await ct();if(pt)for(const[mt,gt]of Object.entries(pt))ut[mt]=gt}return{cwd:it[0],model:Ye,modelProvider:ft,config:ut,approvalPolicy:lt.approvalPolicy,baseInstructions:null,developerInstructions:null,compactPrompt:null,sandbox:lt.sandboxPolicy.type,profile:null,includeApplyPatchTool:null}}function buildAutoPermissionsConfig(Ye,rt,it){return{sandboxPolicy:{writable_roots:[...Ye,...rt?.writableRoots||[]],exclude_slash_tmp:rt?.excludeSlashTmp||!1,exclude_tmpdir_env_var:rt?.excludeTmpdirEnvVar||!1,network_access:rt?.networkAccess||!1,type:"workspace-write"},approvalPolicy:it??"on-request"}}function buildReadOnlyPermissionsConfig(Ye){return{sandboxPolicy:{type:"read-only"},approvalPolicy:Ye??"on-request"}}function buildFullAccessPermissionsConfig(Ye){return{sandboxPolicy:{type:"danger-full-access"},approvalPolicy:Ye??"never"}}function buildCustomPermissionConfig(Ye,{config:{sandboxMode:rt,sandboxSettings:it,approvalPolicy:lt}}){switch(rt){case"danger-full-access":return buildFullAccessPermissionsConfig(lt);case"read-only":return buildReadOnlyPermissionsConfig(lt);case"workspace-write":return buildAutoPermissionsConfig(Ye,it,lt);case null:case void 0:return buildReadOnlyPermissionsConfig(lt)}}function buildPermissionsConfigForMode(Ye,rt,it){switch(Ye){case"read-only":return buildReadOnlyPermissionsConfig();case"full-access":return buildFullAccessPermissionsConfig();case"auto":return buildAutoPermissionsConfig(rt);case"custom":return buildCustomPermissionConfig(rt,it)}}function createMcpRequestId(Ye){return Ye}function createConversationId(Ye){return Ye}var pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function Ye(ct){if(typeof ct!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ct))}function rt(ct,ut){for(var ht="",ft=0,pt=-1,mt=0,gt,yt=0;yt<=ct.length;++yt){if(yt<ct.length)gt=ct.charCodeAt(yt);else{if(gt===47)break;gt=47}if(gt===47){if(!(pt===yt-1||mt===1))if(pt!==yt-1&&mt===2){if(ht.length<2||ft!==2||ht.charCodeAt(ht.length-1)!==46||ht.charCodeAt(ht.length-2)!==46){if(ht.length>2){var xt=ht.lastIndexOf("/");if(xt!==ht.length-1){xt===-1?(ht="",ft=0):(ht=ht.slice(0,xt),ft=ht.length-1-ht.lastIndexOf("/")),pt=yt,mt=0;continue}}else if(ht.length===2||ht.length===1){ht="",ft=0,pt=yt,mt=0;continue}}ut&&(ht.length>0?ht+="/..":ht="..",ft=2)}else ht.length>0?ht+="/"+ct.slice(pt+1,yt):ht=ct.slice(pt+1,yt),ft=yt-pt-1;pt=yt,mt=0}else gt===46&&mt!==-1?++mt:mt=-1}return ht}function it(ct,ut){var ht=ut.dir||ut.root,ft=ut.base||(ut.name||"")+(ut.ext||"");return ht?ht===ut.root?ht+ft:ht+ct+ft:ft}var lt={resolve:function(){for(var ut="",ht=!1,ft,pt=arguments.length-1;pt>=-1&&!ht;pt--){var mt;pt>=0?mt=arguments[pt]:(ft===void 0&&(ft=process.cwd()),mt=ft),Ye(mt),mt.length!==0&&(ut=mt+"/"+ut,ht=mt.charCodeAt(0)===47)}return ut=rt(ut,!ht),ht?ut.length>0?"/"+ut:"/":ut.length>0?ut:"."},normalize:function(ut){if(Ye(ut),ut.length===0)return".";var ht=ut.charCodeAt(0)===47,ft=ut.charCodeAt(ut.length-1)===47;return ut=rt(ut,!ht),ut.length===0&&!ht&&(ut="."),ut.length>0&&ft&&(ut+="/"),ht?"/"+ut:ut},isAbsolute:function(ut){return Ye(ut),ut.length>0&&ut.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ut,ht=0;ht<arguments.length;++ht){var ft=arguments[ht];Ye(ft),ft.length>0&&(ut===void 0?ut=ft:ut+="/"+ft)}return ut===void 0?".":lt.normalize(ut)},relative:function(ut,ht){if(Ye(ut),Ye(ht),ut===ht||(ut=lt.resolve(ut),ht=lt.resolve(ht),ut===ht))return"";for(var ft=1;ft<ut.length&&ut.charCodeAt(ft)===47;++ft);for(var pt=ut.length,mt=pt-ft,gt=1;gt<ht.length&&ht.charCodeAt(gt)===47;++gt);for(var yt=ht.length,xt=yt-gt,bt=mt<xt?mt:xt,_t=-1,Ct=0;Ct<=bt;++Ct){if(Ct===bt){if(xt>bt){if(ht.charCodeAt(gt+Ct)===47)return ht.slice(gt+Ct+1);if(Ct===0)return ht.slice(gt+Ct)}else mt>bt&&(ut.charCodeAt(ft+Ct)===47?_t=Ct:Ct===0&&(_t=0));break}var kt=ut.charCodeAt(ft+Ct),St=ht.charCodeAt(gt+Ct);if(kt!==St)break;kt===47&&(_t=Ct)}var Rt="";for(Ct=ft+_t+1;Ct<=pt;++Ct)(Ct===pt||ut.charCodeAt(Ct)===47)&&(Rt.length===0?Rt+="..":Rt+="/..");return Rt.length>0?Rt+ht.slice(gt+_t):(gt+=_t,ht.charCodeAt(gt)===47&&++gt,ht.slice(gt))},_makeLong:function(ut){return ut},dirname:function(ut){if(Ye(ut),ut.length===0)return".";for(var ht=ut.charCodeAt(0),ft=ht===47,pt=-1,mt=!0,gt=ut.length-1;gt>=1;--gt)if(ht=ut.charCodeAt(gt),ht===47){if(!mt){pt=gt;break}}else mt=!1;return pt===-1?ft?"/":".":ft&&pt===1?"//":ut.slice(0,pt)},basename:function(ut,ht){if(ht!==void 0&&typeof ht!="string")throw new TypeError('"ext" argument must be a string');Ye(ut);var ft=0,pt=-1,mt=!0,gt;if(ht!==void 0&&ht.length>0&&ht.length<=ut.length){if(ht.length===ut.length&&ht===ut)return"";var yt=ht.length-1,xt=-1;for(gt=ut.length-1;gt>=0;--gt){var bt=ut.charCodeAt(gt);if(bt===47){if(!mt){ft=gt+1;break}}else xt===-1&&(mt=!1,xt=gt+1),yt>=0&&(bt===ht.charCodeAt(yt)?--yt===-1&&(pt=gt):(yt=-1,pt=xt))}return ft===pt?pt=xt:pt===-1&&(pt=ut.length),ut.slice(ft,pt)}else{for(gt=ut.length-1;gt>=0;--gt)if(ut.charCodeAt(gt)===47){if(!mt){ft=gt+1;break}}else pt===-1&&(mt=!1,pt=gt+1);return pt===-1?"":ut.slice(ft,pt)}},extname:function(ut){Ye(ut);for(var ht=-1,ft=0,pt=-1,mt=!0,gt=0,yt=ut.length-1;yt>=0;--yt){var xt=ut.charCodeAt(yt);if(xt===47){if(!mt){ft=yt+1;break}continue}pt===-1&&(mt=!1,pt=yt+1),xt===46?ht===-1?ht=yt:gt!==1&&(gt=1):ht!==-1&&(gt=-1)}return ht===-1||pt===-1||gt===0||gt===1&&ht===pt-1&&ht===ft+1?"":ut.slice(ht,pt)},format:function(ut){if(ut===null||typeof ut!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ut);return it("/",ut)},parse:function(ut){Ye(ut);var ht={root:"",dir:"",base:"",ext:"",name:""};if(ut.length===0)return ht;var ft=ut.charCodeAt(0),pt=ft===47,mt;pt?(ht.root="/",mt=1):mt=0;for(var gt=-1,yt=0,xt=-1,bt=!0,_t=ut.length-1,Ct=0;_t>=mt;--_t){if(ft=ut.charCodeAt(_t),ft===47){if(!bt){yt=_t+1;break}continue}xt===-1&&(bt=!1,xt=_t+1),ft===46?gt===-1?gt=_t:Ct!==1&&(Ct=1):gt!==-1&&(Ct=-1)}return gt===-1||xt===-1||Ct===0||Ct===1&&gt===xt-1&&gt===yt+1?xt!==-1&&(yt===0&&pt?ht.base=ht.name=ut.slice(1,xt):ht.base=ht.name=ut.slice(yt,xt)):(yt===0&&pt?(ht.name=ut.slice(1,gt),ht.base=ut.slice(1,xt)):(ht.name=ut.slice(yt,gt),ht.base=ut.slice(yt,xt)),ht.ext=ut.slice(gt,xt)),yt>0?ht.dir=ut.slice(0,yt-1):pt&&(ht.dir="/"),ht},sep:"/",delimiter:":",win32:null,posix:null};return lt.posix=lt,pathBrowserify=lt,pathBrowserify}var pathBrowserifyExports=requirePathBrowserify(),define_process_env_default={};const DEFAULT_CODEX_HOME_SEGMENT="/.codex";function resolveCodexHomePath(Ye){const rt=typeof process<"u"?define_process_env_default:void 0;return rt?.CODEX_HOME&&rt.CODEX_HOME.length>0?pathBrowserifyExports.normalize(rt.CODEX_HOME):rt?.HOME&&rt.HOME.length>0?pathBrowserifyExports.normalize(pathBrowserifyExports.join(rt.HOME,".codex")):DEFAULT_CODEX_HOME_SEGMENT}function getWorktreesSegment(Ye){const rt=Ye??resolveCodexHomePath();return pathBrowserifyExports.normalize(pathBrowserifyExports.join(rt,"worktrees"))}function isWorktreePath(Ye,rt){if(!Ye)return!1;const it=getWorktreesSegment(rt);return pathBrowserifyExports.normalize(Ye).includes(it)}const byteToHex=[];for(let Ye=0;Ye<256;++Ye)byteToHex.push((Ye+256).toString(16).slice(1));function unsafeStringify(Ye,rt=0){return(byteToHex[Ye[rt+0]]+byteToHex[Ye[rt+1]]+byteToHex[Ye[rt+2]]+byteToHex[Ye[rt+3]]+"-"+byteToHex[Ye[rt+4]]+byteToHex[Ye[rt+5]]+"-"+byteToHex[Ye[rt+6]]+byteToHex[Ye[rt+7]]+"-"+byteToHex[Ye[rt+8]]+byteToHex[Ye[rt+9]]+"-"+byteToHex[Ye[rt+10]]+byteToHex[Ye[rt+11]]+byteToHex[Ye[rt+12]]+byteToHex[Ye[rt+13]]+byteToHex[Ye[rt+14]]+byteToHex[Ye[rt+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(Ye,rt,it){if(native.randomUUID&&!Ye)return native.randomUUID();Ye=Ye||{};const lt=Ye.random??Ye.rng?.()??rng();if(lt.length<16)throw new Error("Random bytes length must be >= 16");return lt[6]=lt[6]&15|64,lt[8]=lt[8]&63|128,unsafeStringify(lt)}async function mapResumeConversationResponseToTurns(Ye){const rt=(Ye.initialMessages??[]).map(ft=>mapMcpEventMsgToMcpNotification(v4(),ft)),it=Ye.conversationId,lt=await fetchFromVSCode("active-workspace-roots",{select:ft=>ft.roots}),ct=Ye.sessionMeta?.cwd,ut=buildAutoPermissionsConfig(lt);return splitByStartingElement(rt,ft=>isMcpEventNotificationForType("user_message",ft)).map(ft=>{const[pt,...mt]=ft;mt.find(yt=>yt.method==="codex/event/task_complete")||mt.push({method:"codex/event/task_complete",id:v4(),msg:{type:"task_complete",last_agent_message:null}});const gt=[{type:"text",data:{text:pt.msg.message}}];return pt.msg.images?.forEach(yt=>{gt.push({type:"image",data:{image_url:yt}})}),{params:{conversationId:it,items:gt,approvalPolicy:ut.approvalPolicy,sandboxPolicy:ut.sandboxPolicy,model:Ye.model,cwd:ct??lt[0]??"/",effort:"medium",summary:"auto"},notifications:mt}})}const aWindowsWorldWritableWarning=atom(null),aHasAcknowledgedWorldWritableWarning=persistedAtom("has-acknowledged-world-writable-warning",!1),NULL_FILE="/dev/null";function getProjectRelativePath(Ye,rt){if(!rt)return Ye;const it=rt.replace(/\\/g,"/"),lt=Ye.replace(/\\/g,"/"),ct=it.endsWith("/")?it.slice(0,-1):it;if(lt.startsWith(ct+"/"))return lt.slice(ct.length+1);const ut=ct.lastIndexOf("/"),ft=(ut===-1?ct:ct.slice(ut+1))+"/",pt=lt.indexOf(ft);return pt!==-1&&(pt===0||lt[pt-1]==="/")?lt.slice(pt+ft.length):lt}function getCommentText(Ye){return Ye.content.map(rt=>rt.content_type==="text"?rt.text:"").join("")}const CODE_REVIEW_BEGIN="## Code review guidelines:",PRIOR_CONVERSATION_BEGIN="## Prior conversation with Codex:",PROMPT_REQUEST_BEGIN="## My request for Codex:",extractPromptRequest=Ye=>{const rt=Ye.split(PROMPT_REQUEST_BEGIN);return rt.length===0?Ye:rt[rt.length-1]};function renderComposerPrompt(Ye){return`${buildPromptContextSection(Ye)}
${PROMPT_REQUEST_BEGIN}
${Ye.prompt}
`}function buildPromptContextSection({addedFiles:Ye,isAutoContextOn:rt,ideContext:it,priorConversation:lt,commentAttachments:ct=[]}){let ut="";if(rt){let ht="";if(it.activeFile&&(ht+=`
## Active file: ${it.activeFile.path}
`),it.activeFile?.activeSelectionContent&&(ht+=`
## Active selection of the file:
${it.activeFile.activeSelectionContent}`),it.openTabs&&it.openTabs.length>0){ht+=`
## Open tabs:
`;for(const ft of it.openTabs)ht+=`- ${ft.label}: ${ft.path}
`}ht&&(ut+=`# Context from my IDE setup:
`,ut+=ht)}if(Ye.length>0){ut+=`
# Files mentioned by the user:
`;for(const ht of Ye){let ft="";ht.startLine!=null&&(ft=ht.endLine!=null&&ht.endLine!==ht.startLine?` (lines ${ht.startLine}-${ht.endLine})`:` (line ${ht.startLine})`),ut+=`
## ${ht.label}: ${ht.path}${ft}
`}}return lt&&(ut+=`
${PRIOR_CONVERSATION_BEGIN}
${JSON.stringify(lt)}`),ct.length>0&&(ut+=`
# Diff comments:
`,ct.forEach((ht,ft)=>{const pt=getCommentText(ht),mt=`${ht.position.path}:${ht.position.line}`;ut+=`
## Comment ${ft+1} (${mt})
${pt}
`})),ut}const tasksStore=createStore(),logger={trace:Ye=>{messageBus.dispatchMessage("log-message",{level:"trace",message:Ye})},debug:Ye=>{messageBus.dispatchMessage("log-message",{level:"debug",message:Ye})},info:Ye=>{messageBus.dispatchMessage("log-message",{level:"info",message:Ye})},warn:Ye=>{messageBus.dispatchMessage("log-message",{level:"warning",message:Ye})},error:Ye=>{messageBus.dispatchMessage("log-message",{level:"error",message:Ye})}};var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(Ye,...rt){throw new Error(`[Immer] minified error nr: ${Ye}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf$1=Object.getPrototypeOf;function isDraft(Ye){return!!Ye&&!!Ye[DRAFT_STATE]}function isDraftable(Ye){return Ye?isPlainObject$3(Ye)||Array.isArray(Ye)||!!Ye[DRAFTABLE]||!!Ye.constructor?.[DRAFTABLE]||isMap(Ye)||isSet(Ye):!1}var objectCtorString$1=Object.prototype.constructor.toString();function isPlainObject$3(Ye){if(!Ye||typeof Ye!="object")return!1;const rt=getPrototypeOf$1(Ye);if(rt===null)return!0;const it=Object.hasOwnProperty.call(rt,"constructor")&&rt.constructor;return it===Object?!0:typeof it=="function"&&Function.toString.call(it)===objectCtorString$1}function each(Ye,rt){getArchtype(Ye)===0?Reflect.ownKeys(Ye).forEach(it=>{rt(it,Ye[it],Ye)}):Ye.forEach((it,lt)=>rt(lt,it,Ye))}function getArchtype(Ye){const rt=Ye[DRAFT_STATE];return rt?rt.type_:Array.isArray(Ye)?1:isMap(Ye)?2:isSet(Ye)?3:0}function has(Ye,rt){return getArchtype(Ye)===2?Ye.has(rt):Object.prototype.hasOwnProperty.call(Ye,rt)}function set$3(Ye,rt,it){const lt=getArchtype(Ye);lt===2?Ye.set(rt,it):lt===3?Ye.add(it):Ye[rt]=it}function is(Ye,rt){return Ye===rt?Ye!==0||1/Ye===1/rt:Ye!==Ye&&rt!==rt}function isMap(Ye){return Ye instanceof Map}function isSet(Ye){return Ye instanceof Set}function latest(Ye){return Ye.copy_||Ye.base_}function shallowCopy(Ye,rt){if(isMap(Ye))return new Map(Ye);if(isSet(Ye))return new Set(Ye);if(Array.isArray(Ye))return Array.prototype.slice.call(Ye);const it=isPlainObject$3(Ye);if(rt===!0||rt==="class_only"&&!it){const lt=Object.getOwnPropertyDescriptors(Ye);delete lt[DRAFT_STATE];let ct=Reflect.ownKeys(lt);for(let ut=0;ut<ct.length;ut++){const ht=ct[ut],ft=lt[ht];ft.writable===!1&&(ft.writable=!0,ft.configurable=!0),(ft.get||ft.set)&&(lt[ht]={configurable:!0,writable:!0,enumerable:ft.enumerable,value:Ye[ht]})}return Object.create(getPrototypeOf$1(Ye),lt)}else{const lt=getPrototypeOf$1(Ye);if(lt!==null&&it)return{...Ye};const ct=Object.create(lt);return Object.assign(ct,Ye)}}function freeze$1(Ye,rt=!1){return isFrozen$1(Ye)||isDraft(Ye)||!isDraftable(Ye)||(getArchtype(Ye)>1&&Object.defineProperties(Ye,{set:{value:dontMutateFrozenCollections},add:{value:dontMutateFrozenCollections},clear:{value:dontMutateFrozenCollections},delete:{value:dontMutateFrozenCollections}}),Object.freeze(Ye),rt&&Object.values(Ye).forEach(it=>freeze$1(it,!0))),Ye}function dontMutateFrozenCollections(){die(2)}function isFrozen$1(Ye){return Object.isFrozen(Ye)}var plugins={};function getPlugin(Ye){const rt=plugins[Ye];return rt||die(0,Ye),rt}var currentScope;function getCurrentScope(){return currentScope}function createScope(Ye,rt){return{drafts_:[],parent_:Ye,immer_:rt,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(Ye,rt){rt&&(getPlugin("Patches"),Ye.patches_=[],Ye.inversePatches_=[],Ye.patchListener_=rt)}function revokeScope(Ye){leaveScope(Ye),Ye.drafts_.forEach(revokeDraft),Ye.drafts_=null}function leaveScope(Ye){Ye===currentScope&&(currentScope=Ye.parent_)}function enterScope(Ye){return currentScope=createScope(currentScope,Ye)}function revokeDraft(Ye){const rt=Ye[DRAFT_STATE];rt.type_===0||rt.type_===1?rt.revoke_():rt.revoked_=!0}function processResult(Ye,rt){rt.unfinalizedDrafts_=rt.drafts_.length;const it=rt.drafts_[0];return Ye!==void 0&&Ye!==it?(it[DRAFT_STATE].modified_&&(revokeScope(rt),die(4)),isDraftable(Ye)&&(Ye=finalize(rt,Ye),rt.parent_||maybeFreeze(rt,Ye)),rt.patches_&&getPlugin("Patches").generateReplacementPatches_(it[DRAFT_STATE].base_,Ye,rt.patches_,rt.inversePatches_)):Ye=finalize(rt,it,[]),revokeScope(rt),rt.patches_&&rt.patchListener_(rt.patches_,rt.inversePatches_),Ye!==NOTHING?Ye:void 0}function finalize(Ye,rt,it){if(isFrozen$1(rt))return rt;const lt=rt[DRAFT_STATE];if(!lt)return each(rt,(ct,ut)=>finalizeProperty(Ye,lt,rt,ct,ut,it)),rt;if(lt.scope_!==Ye)return rt;if(!lt.modified_)return maybeFreeze(Ye,lt.base_,!0),lt.base_;if(!lt.finalized_){lt.finalized_=!0,lt.scope_.unfinalizedDrafts_--;const ct=lt.copy_;let ut=ct,ht=!1;lt.type_===3&&(ut=new Set(ct),ct.clear(),ht=!0),each(ut,(ft,pt)=>finalizeProperty(Ye,lt,ct,ft,pt,it,ht)),maybeFreeze(Ye,ct,!1),it&&Ye.patches_&&getPlugin("Patches").generatePatches_(lt,it,Ye.patches_,Ye.inversePatches_)}return lt.copy_}function finalizeProperty(Ye,rt,it,lt,ct,ut,ht){if(isDraft(ct)){const ft=ut&&rt&&rt.type_!==3&&!has(rt.assigned_,lt)?ut.concat(lt):void 0,pt=finalize(Ye,ct,ft);if(set$3(it,lt,pt),isDraft(pt))Ye.canAutoFreeze_=!1;else return}else ht&&it.add(ct);if(isDraftable(ct)&&!isFrozen$1(ct)){if(!Ye.immer_.autoFreeze_&&Ye.unfinalizedDrafts_<1)return;finalize(Ye,ct),(!rt||!rt.scope_.parent_)&&typeof lt!="symbol"&&(isMap(it)?it.has(lt):Object.prototype.propertyIsEnumerable.call(it,lt))&&maybeFreeze(Ye,ct)}}function maybeFreeze(Ye,rt,it=!1){!Ye.parent_&&Ye.immer_.autoFreeze_&&Ye.canAutoFreeze_&&freeze$1(rt,it)}function createProxyProxy(Ye,rt){const it=Array.isArray(Ye),lt={type_:it?1:0,scope_:rt?rt.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:rt,base_:Ye,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ct=lt,ut=objectTraps;it&&(ct=[lt],ut=arrayTraps);const{revoke:ht,proxy:ft}=Proxy.revocable(ct,ut);return lt.draft_=ft,lt.revoke_=ht,ft}var objectTraps={get(Ye,rt){if(rt===DRAFT_STATE)return Ye;const it=latest(Ye);if(!has(it,rt))return readPropFromProto(Ye,it,rt);const lt=it[rt];return Ye.finalized_||!isDraftable(lt)?lt:lt===peek$2(Ye.base_,rt)?(prepareCopy(Ye),Ye.copy_[rt]=createProxy(lt,Ye)):lt},has(Ye,rt){return rt in latest(Ye)},ownKeys(Ye){return Reflect.ownKeys(latest(Ye))},set(Ye,rt,it){const lt=getDescriptorFromProto(latest(Ye),rt);if(lt?.set)return lt.set.call(Ye.draft_,it),!0;if(!Ye.modified_){const ct=peek$2(latest(Ye),rt),ut=ct?.[DRAFT_STATE];if(ut&&ut.base_===it)return Ye.copy_[rt]=it,Ye.assigned_[rt]=!1,!0;if(is(it,ct)&&(it!==void 0||has(Ye.base_,rt)))return!0;prepareCopy(Ye),markChanged(Ye)}return Ye.copy_[rt]===it&&(it!==void 0||rt in Ye.copy_)||Number.isNaN(it)&&Number.isNaN(Ye.copy_[rt])||(Ye.copy_[rt]=it,Ye.assigned_[rt]=!0),!0},deleteProperty(Ye,rt){return peek$2(Ye.base_,rt)!==void 0||rt in Ye.base_?(Ye.assigned_[rt]=!1,prepareCopy(Ye),markChanged(Ye)):delete Ye.assigned_[rt],Ye.copy_&&delete Ye.copy_[rt],!0},getOwnPropertyDescriptor(Ye,rt){const it=latest(Ye),lt=Reflect.getOwnPropertyDescriptor(it,rt);return lt&&{writable:!0,configurable:Ye.type_!==1||rt!=="length",enumerable:lt.enumerable,value:it[rt]}},defineProperty(){die(11)},getPrototypeOf(Ye){return getPrototypeOf$1(Ye.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(Ye,rt)=>{arrayTraps[Ye]=function(){return arguments[0]=arguments[0][0],rt.apply(this,arguments)}});arrayTraps.deleteProperty=function(Ye,rt){return arrayTraps.set.call(this,Ye,rt,void 0)};arrayTraps.set=function(Ye,rt,it){return objectTraps.set.call(this,Ye[0],rt,it,Ye[0])};function peek$2(Ye,rt){const it=Ye[DRAFT_STATE];return(it?latest(it):Ye)[rt]}function readPropFromProto(Ye,rt,it){const lt=getDescriptorFromProto(rt,it);return lt?"value"in lt?lt.value:lt.get?.call(Ye.draft_):void 0}function getDescriptorFromProto(Ye,rt){if(!(rt in Ye))return;let it=getPrototypeOf$1(Ye);for(;it;){const lt=Object.getOwnPropertyDescriptor(it,rt);if(lt)return lt;it=getPrototypeOf$1(it)}}function markChanged(Ye){Ye.modified_||(Ye.modified_=!0,Ye.parent_&&markChanged(Ye.parent_))}function prepareCopy(Ye){Ye.copy_||(Ye.copy_=shallowCopy(Ye.base_,Ye.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(Ye){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(rt,it,lt)=>{if(typeof rt=="function"&&typeof it!="function"){const ut=it;it=rt;const ht=this;return function(pt=ut,...mt){return ht.produce(pt,gt=>it.call(this,gt,...mt))}}typeof it!="function"&&die(6),lt!==void 0&&typeof lt!="function"&&die(7);let ct;if(isDraftable(rt)){const ut=enterScope(this),ht=createProxy(rt,void 0);let ft=!0;try{ct=it(ht),ft=!1}finally{ft?revokeScope(ut):leaveScope(ut)}return usePatchesInScope(ut,lt),processResult(ct,ut)}else if(!rt||typeof rt!="object"){if(ct=it(rt),ct===void 0&&(ct=rt),ct===NOTHING&&(ct=void 0),this.autoFreeze_&&freeze$1(ct,!0),lt){const ut=[],ht=[];getPlugin("Patches").generateReplacementPatches_(rt,ct,ut,ht),lt(ut,ht)}return ct}else die(1,rt)},this.produceWithPatches=(rt,it)=>{if(typeof rt=="function")return(ht,...ft)=>this.produceWithPatches(ht,pt=>rt(pt,...ft));let lt,ct;return[this.produce(rt,it,(ht,ft)=>{lt=ht,ct=ft}),lt,ct]},typeof Ye?.autoFreeze=="boolean"&&this.setAutoFreeze(Ye.autoFreeze),typeof Ye?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(Ye.useStrictShallowCopy)}createDraft(Ye){isDraftable(Ye)||die(8),isDraft(Ye)&&(Ye=current(Ye));const rt=enterScope(this),it=createProxy(Ye,void 0);return it[DRAFT_STATE].isManual_=!0,leaveScope(rt),it}finishDraft(Ye,rt){const it=Ye&&Ye[DRAFT_STATE];(!it||!it.isManual_)&&die(9);const{scope_:lt}=it;return usePatchesInScope(lt,rt),processResult(void 0,lt)}setAutoFreeze(Ye){this.autoFreeze_=Ye}setUseStrictShallowCopy(Ye){this.useStrictShallowCopy_=Ye}applyPatches(Ye,rt){let it;for(it=rt.length-1;it>=0;it--){const ct=rt[it];if(ct.path.length===0&&ct.op==="replace"){Ye=ct.value;break}}it>-1&&(rt=rt.slice(it+1));const lt=getPlugin("Patches").applyPatches_;return isDraft(Ye)?lt(Ye,rt):this.produce(Ye,ct=>lt(ct,rt))}};function createProxy(Ye,rt){const it=isMap(Ye)?getPlugin("MapSet").proxyMap_(Ye,rt):isSet(Ye)?getPlugin("MapSet").proxySet_(Ye,rt):createProxyProxy(Ye,rt);return(rt?rt.scope_:getCurrentScope()).drafts_.push(it),it}function current(Ye){return isDraft(Ye)||die(10,Ye),currentImpl(Ye)}function currentImpl(Ye){if(!isDraftable(Ye)||isFrozen$1(Ye))return Ye;const rt=Ye[DRAFT_STATE];let it;if(rt){if(!rt.modified_)return rt.base_;rt.finalized_=!0,it=shallowCopy(Ye,rt.scope_.immer_.useStrictShallowCopy_)}else it=shallowCopy(Ye,!0);return each(it,(lt,ct)=>{set$3(it,lt,currentImpl(ct))}),rt&&(rt.finalized_=!1),it}var immer=new Immer2,produce=immer.produce;function castDraft(Ye){return Ye}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function Ye(){this.__data__=[],this.size=0}return _listCacheClear=Ye,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function Ye(rt,it){return rt===it||rt!==rt&&it!==it}return eq_1=Ye,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var Ye=requireEq();function rt(it,lt){for(var ct=it.length;ct--;)if(Ye(it[ct][0],lt))return ct;return-1}return _assocIndexOf=rt,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var Ye=require_assocIndexOf(),rt=Array.prototype,it=rt.splice;function lt(ct){var ut=this.__data__,ht=Ye(ut,ct);if(ht<0)return!1;var ft=ut.length-1;return ht==ft?ut.pop():it.call(ut,ht,1),--this.size,!0}return _listCacheDelete=lt,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var Ye=require_assocIndexOf();function rt(it){var lt=this.__data__,ct=Ye(lt,it);return ct<0?void 0:lt[ct][1]}return _listCacheGet=rt,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var Ye=require_assocIndexOf();function rt(it){return Ye(this.__data__,it)>-1}return _listCacheHas=rt,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var Ye=require_assocIndexOf();function rt(it,lt){var ct=this.__data__,ut=Ye(ct,it);return ut<0?(++this.size,ct.push([it,lt])):ct[ut][1]=lt,this}return _listCacheSet=rt,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var Ye=require_listCacheClear(),rt=require_listCacheDelete(),it=require_listCacheGet(),lt=require_listCacheHas(),ct=require_listCacheSet();function ut(ht){var ft=-1,pt=ht==null?0:ht.length;for(this.clear();++ft<pt;){var mt=ht[ft];this.set(mt[0],mt[1])}}return ut.prototype.clear=Ye,ut.prototype.delete=rt,ut.prototype.get=it,ut.prototype.has=lt,ut.prototype.set=ct,_ListCache=ut,_ListCache}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var Ye=require_ListCache();function rt(){this.__data__=new Ye,this.size=0}return _stackClear=rt,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function Ye(rt){var it=this.__data__,lt=it.delete(rt);return this.size=it.size,lt}return _stackDelete=Ye,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function Ye(rt){return this.__data__.get(rt)}return _stackGet=Ye,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function Ye(rt){return this.__data__.has(rt)}return _stackHas=Ye,_stackHas}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var Ye=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=Ye,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var Ye=require_freeGlobal(),rt=typeof self=="object"&&self&&self.Object===Object&&self,it=Ye||rt||Function("return this")();return _root=it,_root}var _Symbol$1,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol$1;hasRequired_Symbol=1;var Ye=require_root(),rt=Ye.Symbol;return _Symbol$1=rt,_Symbol$1}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var Ye=require_Symbol(),rt=Object.prototype,it=rt.hasOwnProperty,lt=rt.toString,ct=Ye?Ye.toStringTag:void 0;function ut(ht){var ft=it.call(ht,ct),pt=ht[ct];try{ht[ct]=void 0;var mt=!0}catch{}var gt=lt.call(ht);return mt&&(ft?ht[ct]=pt:delete ht[ct]),gt}return _getRawTag=ut,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var Ye=Object.prototype,rt=Ye.toString;function it(lt){return rt.call(lt)}return _objectToString=it,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var Ye=require_Symbol(),rt=require_getRawTag(),it=require_objectToString(),lt="[object Null]",ct="[object Undefined]",ut=Ye?Ye.toStringTag:void 0;function ht(ft){return ft==null?ft===void 0?ct:lt:ut&&ut in Object(ft)?rt(ft):it(ft)}return _baseGetTag=ht,_baseGetTag}var isObject_1$1,hasRequiredIsObject$2;function requireIsObject$2(){if(hasRequiredIsObject$2)return isObject_1$1;hasRequiredIsObject$2=1;function Ye(rt){var it=typeof rt;return rt!=null&&(it=="object"||it=="function")}return isObject_1$1=Ye,isObject_1$1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var Ye=require_baseGetTag(),rt=requireIsObject$2(),it="[object AsyncFunction]",lt="[object Function]",ct="[object GeneratorFunction]",ut="[object Proxy]";function ht(ft){if(!rt(ft))return!1;var pt=Ye(ft);return pt==lt||pt==ct||pt==it||pt==ut}return isFunction_1=ht,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var Ye=require_root(),rt=Ye["__core-js_shared__"];return _coreJsData=rt,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var Ye=require_coreJsData(),rt=(function(){var lt=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return lt?"Symbol(src)_1."+lt:""})();function it(lt){return!!rt&&rt in lt}return _isMasked=it,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var Ye=Function.prototype,rt=Ye.toString;function it(lt){if(lt!=null){try{return rt.call(lt)}catch{}try{return lt+""}catch{}}return""}return _toSource=it,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var Ye=requireIsFunction(),rt=require_isMasked(),it=requireIsObject$2(),lt=require_toSource(),ct=/[\\^$.*+?()[\]{}|]/g,ut=/^\[object .+?Constructor\]$/,ht=Function.prototype,ft=Object.prototype,pt=ht.toString,mt=ft.hasOwnProperty,gt=RegExp("^"+pt.call(mt).replace(ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yt(xt){if(!it(xt)||rt(xt))return!1;var bt=Ye(xt)?gt:ut;return bt.test(lt(xt))}return _baseIsNative=yt,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function Ye(rt,it){return rt?.[it]}return _getValue=Ye,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var Ye=require_baseIsNative(),rt=require_getValue();function it(lt,ct){var ut=rt(lt,ct);return Ye(ut)?ut:void 0}return _getNative=it,_getNative}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var Ye=require_getNative(),rt=require_root(),it=Ye(rt,"Map");return _Map=it,_Map}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var Ye=require_getNative(),rt=Ye(Object,"create");return _nativeCreate=rt,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var Ye=require_nativeCreate();function rt(){this.__data__=Ye?Ye(null):{},this.size=0}return _hashClear=rt,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function Ye(rt){var it=this.has(rt)&&delete this.__data__[rt];return this.size-=it?1:0,it}return _hashDelete=Ye,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var Ye=require_nativeCreate(),rt="__lodash_hash_undefined__",it=Object.prototype,lt=it.hasOwnProperty;function ct(ut){var ht=this.__data__;if(Ye){var ft=ht[ut];return ft===rt?void 0:ft}return lt.call(ht,ut)?ht[ut]:void 0}return _hashGet=ct,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var Ye=require_nativeCreate(),rt=Object.prototype,it=rt.hasOwnProperty;function lt(ct){var ut=this.__data__;return Ye?ut[ct]!==void 0:it.call(ut,ct)}return _hashHas=lt,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var Ye=require_nativeCreate(),rt="__lodash_hash_undefined__";function it(lt,ct){var ut=this.__data__;return this.size+=this.has(lt)?0:1,ut[lt]=Ye&&ct===void 0?rt:ct,this}return _hashSet=it,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var Ye=require_hashClear(),rt=require_hashDelete(),it=require_hashGet(),lt=require_hashHas(),ct=require_hashSet();function ut(ht){var ft=-1,pt=ht==null?0:ht.length;for(this.clear();++ft<pt;){var mt=ht[ft];this.set(mt[0],mt[1])}}return ut.prototype.clear=Ye,ut.prototype.delete=rt,ut.prototype.get=it,ut.prototype.has=lt,ut.prototype.set=ct,_Hash=ut,_Hash}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var Ye=require_Hash(),rt=require_ListCache(),it=require_Map();function lt(){this.size=0,this.__data__={hash:new Ye,map:new(it||rt),string:new Ye}}return _mapCacheClear=lt,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function Ye(rt){var it=typeof rt;return it=="string"||it=="number"||it=="symbol"||it=="boolean"?rt!=="__proto__":rt===null}return _isKeyable=Ye,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var Ye=require_isKeyable();function rt(it,lt){var ct=it.__data__;return Ye(lt)?ct[typeof lt=="string"?"string":"hash"]:ct.map}return _getMapData=rt,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var Ye=require_getMapData();function rt(it){var lt=Ye(this,it).delete(it);return this.size-=lt?1:0,lt}return _mapCacheDelete=rt,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var Ye=require_getMapData();function rt(it){return Ye(this,it).get(it)}return _mapCacheGet=rt,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var Ye=require_getMapData();function rt(it){return Ye(this,it).has(it)}return _mapCacheHas=rt,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var Ye=require_getMapData();function rt(it,lt){var ct=Ye(this,it),ut=ct.size;return ct.set(it,lt),this.size+=ct.size==ut?0:1,this}return _mapCacheSet=rt,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var Ye=require_mapCacheClear(),rt=require_mapCacheDelete(),it=require_mapCacheGet(),lt=require_mapCacheHas(),ct=require_mapCacheSet();function ut(ht){var ft=-1,pt=ht==null?0:ht.length;for(this.clear();++ft<pt;){var mt=ht[ft];this.set(mt[0],mt[1])}}return ut.prototype.clear=Ye,ut.prototype.delete=rt,ut.prototype.get=it,ut.prototype.has=lt,ut.prototype.set=ct,_MapCache=ut,_MapCache}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var Ye=require_ListCache(),rt=require_Map(),it=require_MapCache(),lt=200;function ct(ut,ht){var ft=this.__data__;if(ft instanceof Ye){var pt=ft.__data__;if(!rt||pt.length<lt-1)return pt.push([ut,ht]),this.size=++ft.size,this;ft=this.__data__=new it(pt)}return ft.set(ut,ht),this.size=ft.size,this}return _stackSet=ct,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var Ye=require_ListCache(),rt=require_stackClear(),it=require_stackDelete(),lt=require_stackGet(),ct=require_stackHas(),ut=require_stackSet();function ht(ft){var pt=this.__data__=new Ye(ft);this.size=pt.size}return ht.prototype.clear=rt,ht.prototype.delete=it,ht.prototype.get=lt,ht.prototype.has=ct,ht.prototype.set=ut,_Stack=ht,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var Ye="__lodash_hash_undefined__";function rt(it){return this.__data__.set(it,Ye),this}return _setCacheAdd=rt,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function Ye(rt){return this.__data__.has(rt)}return _setCacheHas=Ye,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var Ye=require_MapCache(),rt=require_setCacheAdd(),it=require_setCacheHas();function lt(ct){var ut=-1,ht=ct==null?0:ct.length;for(this.__data__=new Ye;++ut<ht;)this.add(ct[ut])}return lt.prototype.add=lt.prototype.push=rt,lt.prototype.has=it,_SetCache=lt,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function Ye(rt,it){for(var lt=-1,ct=rt==null?0:rt.length;++lt<ct;)if(it(rt[lt],lt,rt))return!0;return!1}return _arraySome=Ye,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function Ye(rt,it){return rt.has(it)}return _cacheHas=Ye,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var Ye=require_SetCache(),rt=require_arraySome(),it=require_cacheHas(),lt=1,ct=2;function ut(ht,ft,pt,mt,gt,yt){var xt=pt&lt,bt=ht.length,_t=ft.length;if(bt!=_t&&!(xt&&_t>bt))return!1;var Ct=yt.get(ht),kt=yt.get(ft);if(Ct&&kt)return Ct==ft&&kt==ht;var St=-1,Rt=!0,Tt=pt&ct?new Ye:void 0;for(yt.set(ht,ft),yt.set(ft,ht);++St<bt;){var Mt=ht[St],Pt=ft[St];if(mt)var It=xt?mt(Pt,Mt,St,ft,ht,yt):mt(Mt,Pt,St,ht,ft,yt);if(It!==void 0){if(It)continue;Rt=!1;break}if(Tt){if(!rt(ft,function(Lt,Ot){if(!it(Tt,Ot)&&(Mt===Lt||gt(Mt,Lt,pt,mt,yt)))return Tt.push(Ot)})){Rt=!1;break}}else if(!(Mt===Pt||gt(Mt,Pt,pt,mt,yt))){Rt=!1;break}}return yt.delete(ht),yt.delete(ft),Rt}return _equalArrays=ut,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var Ye=require_root(),rt=Ye.Uint8Array;return _Uint8Array=rt,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function Ye(rt){var it=-1,lt=Array(rt.size);return rt.forEach(function(ct,ut){lt[++it]=[ut,ct]}),lt}return _mapToArray=Ye,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function Ye(rt){var it=-1,lt=Array(rt.size);return rt.forEach(function(ct){lt[++it]=ct}),lt}return _setToArray=Ye,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var Ye=require_Symbol(),rt=require_Uint8Array(),it=requireEq(),lt=require_equalArrays(),ct=require_mapToArray(),ut=require_setToArray(),ht=1,ft=2,pt="[object Boolean]",mt="[object Date]",gt="[object Error]",yt="[object Map]",xt="[object Number]",bt="[object RegExp]",_t="[object Set]",Ct="[object String]",kt="[object Symbol]",St="[object ArrayBuffer]",Rt="[object DataView]",Tt=Ye?Ye.prototype:void 0,Mt=Tt?Tt.valueOf:void 0;function Pt(It,Lt,Ot,Ft,Ut,Wt,Kt){switch(Ot){case Rt:if(It.byteLength!=Lt.byteLength||It.byteOffset!=Lt.byteOffset)return!1;It=It.buffer,Lt=Lt.buffer;case St:return!(It.byteLength!=Lt.byteLength||!Wt(new rt(It),new rt(Lt)));case pt:case mt:case xt:return it(+It,+Lt);case gt:return It.name==Lt.name&&It.message==Lt.message;case bt:case Ct:return It==Lt+"";case yt:var Qt=ct;case _t:var Zt=Ft&ht;if(Qt||(Qt=ut),It.size!=Lt.size&&!Zt)return!1;var Vt=Kt.get(It);if(Vt)return Vt==Lt;Ft|=ft,Kt.set(It,Lt);var $t=lt(Qt(It),Qt(Lt),Ft,Ut,Wt,Kt);return Kt.delete(It),$t;case kt:if(Mt)return Mt.call(It)==Mt.call(Lt)}return!1}return _equalByTag=Pt,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function Ye(rt,it){for(var lt=-1,ct=it.length,ut=rt.length;++lt<ct;)rt[ut+lt]=it[lt];return rt}return _arrayPush=Ye,_arrayPush}var isArray_1,hasRequiredIsArray$7;function requireIsArray$7(){if(hasRequiredIsArray$7)return isArray_1;hasRequiredIsArray$7=1;var Ye=Array.isArray;return isArray_1=Ye,isArray_1}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var Ye=require_arrayPush(),rt=requireIsArray$7();function it(lt,ct,ut){var ht=ct(lt);return rt(lt)?ht:Ye(ht,ut(lt))}return _baseGetAllKeys=it,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function Ye(rt,it){for(var lt=-1,ct=rt==null?0:rt.length,ut=0,ht=[];++lt<ct;){var ft=rt[lt];it(ft,lt,rt)&&(ht[ut++]=ft)}return ht}return _arrayFilter=Ye,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function Ye(){return[]}return stubArray_1=Ye,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var Ye=require_arrayFilter(),rt=requireStubArray(),it=Object.prototype,lt=it.propertyIsEnumerable,ct=Object.getOwnPropertySymbols,ut=ct?function(ht){return ht==null?[]:(ht=Object(ht),Ye(ct(ht),function(ft){return lt.call(ht,ft)}))}:rt;return _getSymbols=ut,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function Ye(rt,it){for(var lt=-1,ct=Array(rt);++lt<rt;)ct[lt]=it(lt);return ct}return _baseTimes=Ye,_baseTimes}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function Ye(rt){return rt!=null&&typeof rt=="object"}return isObjectLike_1=Ye,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var Ye=require_baseGetTag(),rt=requireIsObjectLike(),it="[object Arguments]";function lt(ct){return rt(ct)&&Ye(ct)==it}return _baseIsArguments=lt,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var Ye=require_baseIsArguments(),rt=requireIsObjectLike(),it=Object.prototype,lt=it.hasOwnProperty,ct=it.propertyIsEnumerable,ut=Ye((function(){return arguments})())?Ye:function(ht){return rt(ht)&&lt.call(ht,"callee")&&!ct.call(ht,"callee")};return isArguments_1=ut,isArguments_1}var isBuffer$1={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function Ye(){return!1}return stubFalse_1=Ye,stubFalse_1}isBuffer$1.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(Ye,rt){var it=require_root(),lt=requireStubFalse(),ct=rt&&!rt.nodeType&&rt,ut=ct&&!0&&Ye&&!Ye.nodeType&&Ye,ht=ut&&ut.exports===ct,ft=ht?it.Buffer:void 0,pt=ft?ft.isBuffer:void 0,mt=pt||lt;Ye.exports=mt})(isBuffer$1,isBuffer$1.exports)),isBuffer$1.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var Ye=9007199254740991,rt=/^(?:0|[1-9]\d*)$/;function it(lt,ct){var ut=typeof lt;return ct=ct??Ye,!!ct&&(ut=="number"||ut!="symbol"&&rt.test(lt))&&lt>-1&&lt%1==0&&lt<ct}return _isIndex=it,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var Ye=9007199254740991;function rt(it){return typeof it=="number"&&it>-1&&it%1==0&&it<=Ye}return isLength_1=rt,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var Ye=require_baseGetTag(),rt=requireIsLength(),it=requireIsObjectLike(),lt="[object Arguments]",ct="[object Array]",ut="[object Boolean]",ht="[object Date]",ft="[object Error]",pt="[object Function]",mt="[object Map]",gt="[object Number]",yt="[object Object]",xt="[object RegExp]",bt="[object Set]",_t="[object String]",Ct="[object WeakMap]",kt="[object ArrayBuffer]",St="[object DataView]",Rt="[object Float32Array]",Tt="[object Float64Array]",Mt="[object Int8Array]",Pt="[object Int16Array]",It="[object Int32Array]",Lt="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Ft="[object Uint16Array]",Ut="[object Uint32Array]",Wt={};Wt[Rt]=Wt[Tt]=Wt[Mt]=Wt[Pt]=Wt[It]=Wt[Lt]=Wt[Ot]=Wt[Ft]=Wt[Ut]=!0,Wt[lt]=Wt[ct]=Wt[kt]=Wt[ut]=Wt[St]=Wt[ht]=Wt[ft]=Wt[pt]=Wt[mt]=Wt[gt]=Wt[yt]=Wt[xt]=Wt[bt]=Wt[_t]=Wt[Ct]=!1;function Kt(Qt){return it(Qt)&&rt(Qt.length)&&!!Wt[Ye(Qt)]}return _baseIsTypedArray=Kt,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function Ye(rt){return function(it){return rt(it)}}return _baseUnary=Ye,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(Ye,rt){var it=require_freeGlobal(),lt=rt&&!rt.nodeType&&rt,ct=lt&&!0&&Ye&&!Ye.nodeType&&Ye,ut=ct&&ct.exports===lt,ht=ut&&it.process,ft=(function(){try{var pt=ct&&ct.require&&ct.require("util").types;return pt||ht&&ht.binding&&ht.binding("util")}catch{}})();Ye.exports=ft})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var Ye=require_baseIsTypedArray(),rt=require_baseUnary(),it=require_nodeUtil(),lt=it&&it.isTypedArray,ct=lt?rt(lt):Ye;return isTypedArray_1=ct,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var Ye=require_baseTimes(),rt=requireIsArguments(),it=requireIsArray$7(),lt=requireIsBuffer(),ct=require_isIndex(),ut=requireIsTypedArray(),ht=Object.prototype,ft=ht.hasOwnProperty;function pt(mt,gt){var yt=it(mt),xt=!yt&&rt(mt),bt=!yt&&!xt&&lt(mt),_t=!yt&&!xt&&!bt&&ut(mt),Ct=yt||xt||bt||_t,kt=Ct?Ye(mt.length,String):[],St=kt.length;for(var Rt in mt)(gt||ft.call(mt,Rt))&&!(Ct&&(Rt=="length"||bt&&(Rt=="offset"||Rt=="parent")||_t&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||ct(Rt,St)))&&kt.push(Rt);return kt}return _arrayLikeKeys=pt,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var Ye=Object.prototype;function rt(it){var lt=it&&it.constructor,ct=typeof lt=="function"&&lt.prototype||Ye;return it===ct}return _isPrototype=rt,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function Ye(rt,it){return function(lt){return rt(it(lt))}}return _overArg=Ye,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var Ye=require_overArg(),rt=Ye(Object.keys,Object);return _nativeKeys=rt,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var Ye=require_isPrototype(),rt=require_nativeKeys(),it=Object.prototype,lt=it.hasOwnProperty;function ct(ut){if(!Ye(ut))return rt(ut);var ht=[];for(var ft in Object(ut))lt.call(ut,ft)&&ft!="constructor"&&ht.push(ft);return ht}return _baseKeys=ct,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var Ye=requireIsFunction(),rt=requireIsLength();function it(lt){return lt!=null&&rt(lt.length)&&!Ye(lt)}return isArrayLike_1=it,isArrayLike_1}var keys_1,hasRequiredKeys$3;function requireKeys$3(){if(hasRequiredKeys$3)return keys_1;hasRequiredKeys$3=1;var Ye=require_arrayLikeKeys(),rt=require_baseKeys(),it=requireIsArrayLike();function lt(ct){return it(ct)?Ye(ct):rt(ct)}return keys_1=lt,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var Ye=require_baseGetAllKeys(),rt=require_getSymbols(),it=requireKeys$3();function lt(ct){return Ye(ct,it,rt)}return _getAllKeys=lt,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var Ye=require_getAllKeys(),rt=1,it=Object.prototype,lt=it.hasOwnProperty;function ct(ut,ht,ft,pt,mt,gt){var yt=ft&rt,xt=Ye(ut),bt=xt.length,_t=Ye(ht),Ct=_t.length;if(bt!=Ct&&!yt)return!1;for(var kt=bt;kt--;){var St=xt[kt];if(!(yt?St in ht:lt.call(ht,St)))return!1}var Rt=gt.get(ut),Tt=gt.get(ht);if(Rt&&Tt)return Rt==ht&&Tt==ut;var Mt=!0;gt.set(ut,ht),gt.set(ht,ut);for(var Pt=yt;++kt<bt;){St=xt[kt];var It=ut[St],Lt=ht[St];if(pt)var Ot=yt?pt(Lt,It,St,ht,ut,gt):pt(It,Lt,St,ut,ht,gt);if(!(Ot===void 0?It===Lt||mt(It,Lt,ft,pt,gt):Ot)){Mt=!1;break}Pt||(Pt=St=="constructor")}if(Mt&&!Pt){var Ft=ut.constructor,Ut=ht.constructor;Ft!=Ut&&"constructor"in ut&&"constructor"in ht&&!(typeof Ft=="function"&&Ft instanceof Ft&&typeof Ut=="function"&&Ut instanceof Ut)&&(Mt=!1)}return gt.delete(ut),gt.delete(ht),Mt}return _equalObjects=ct,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var Ye=require_getNative(),rt=require_root(),it=Ye(rt,"DataView");return _DataView=it,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var Ye=require_getNative(),rt=require_root(),it=Ye(rt,"Promise");return _Promise=it,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var Ye=require_getNative(),rt=require_root(),it=Ye(rt,"Set");return _Set=it,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var Ye=require_getNative(),rt=require_root(),it=Ye(rt,"WeakMap");return _WeakMap=it,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var Ye=require_DataView(),rt=require_Map(),it=require_Promise(),lt=require_Set(),ct=require_WeakMap(),ut=require_baseGetTag(),ht=require_toSource(),ft="[object Map]",pt="[object Object]",mt="[object Promise]",gt="[object Set]",yt="[object WeakMap]",xt="[object DataView]",bt=ht(Ye),_t=ht(rt),Ct=ht(it),kt=ht(lt),St=ht(ct),Rt=ut;return(Ye&&Rt(new Ye(new ArrayBuffer(1)))!=xt||rt&&Rt(new rt)!=ft||it&&Rt(it.resolve())!=mt||lt&&Rt(new lt)!=gt||ct&&Rt(new ct)!=yt)&&(Rt=function(Tt){var Mt=ut(Tt),Pt=Mt==pt?Tt.constructor:void 0,It=Pt?ht(Pt):"";if(It)switch(It){case bt:return xt;case _t:return ft;case Ct:return mt;case kt:return gt;case St:return yt}return Mt}),_getTag=Rt,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var Ye=require_Stack(),rt=require_equalArrays(),it=require_equalByTag(),lt=require_equalObjects(),ct=require_getTag(),ut=requireIsArray$7(),ht=requireIsBuffer(),ft=requireIsTypedArray(),pt=1,mt="[object Arguments]",gt="[object Array]",yt="[object Object]",xt=Object.prototype,bt=xt.hasOwnProperty;function _t(Ct,kt,St,Rt,Tt,Mt){var Pt=ut(Ct),It=ut(kt),Lt=Pt?gt:ct(Ct),Ot=It?gt:ct(kt);Lt=Lt==mt?yt:Lt,Ot=Ot==mt?yt:Ot;var Ft=Lt==yt,Ut=Ot==yt,Wt=Lt==Ot;if(Wt&&ht(Ct)){if(!ht(kt))return!1;Pt=!0,Ft=!1}if(Wt&&!Ft)return Mt||(Mt=new Ye),Pt||ft(Ct)?rt(Ct,kt,St,Rt,Tt,Mt):it(Ct,kt,Lt,St,Rt,Tt,Mt);if(!(St&pt)){var Kt=Ft&&bt.call(Ct,"__wrapped__"),Qt=Ut&&bt.call(kt,"__wrapped__");if(Kt||Qt){var Zt=Kt?Ct.value():Ct,Vt=Qt?kt.value():kt;return Mt||(Mt=new Ye),Tt(Zt,Vt,St,Rt,Mt)}}return Wt?(Mt||(Mt=new Ye),lt(Ct,kt,St,Rt,Tt,Mt)):!1}return _baseIsEqualDeep=_t,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var Ye=require_baseIsEqualDeep(),rt=requireIsObjectLike();function it(lt,ct,ut,ht,ft){return lt===ct?!0:lt==null||ct==null||!rt(lt)&&!rt(ct)?lt!==lt&&ct!==ct:Ye(lt,ct,ut,ht,it,ft)}return _baseIsEqual=it,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var Ye=require_Stack(),rt=require_baseIsEqual(),it=1,lt=2;function ct(ut,ht,ft,pt){var mt=ft.length,gt=mt,yt=!pt;if(ut==null)return!gt;for(ut=Object(ut);mt--;){var xt=ft[mt];if(yt&&xt[2]?xt[1]!==ut[xt[0]]:!(xt[0]in ut))return!1}for(;++mt<gt;){xt=ft[mt];var bt=xt[0],_t=ut[bt],Ct=xt[1];if(yt&&xt[2]){if(_t===void 0&&!(bt in ut))return!1}else{var kt=new Ye;if(pt)var St=pt(_t,Ct,bt,ut,ht,kt);if(!(St===void 0?rt(Ct,_t,it|lt,pt,kt):St))return!1}}return!0}return _baseIsMatch=ct,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var Ye=requireIsObject$2();function rt(it){return it===it&&!Ye(it)}return _isStrictComparable=rt,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var Ye=require_isStrictComparable(),rt=requireKeys$3();function it(lt){for(var ct=rt(lt),ut=ct.length;ut--;){var ht=ct[ut],ft=lt[ht];ct[ut]=[ht,ft,Ye(ft)]}return ct}return _getMatchData=it,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function Ye(rt,it){return function(lt){return lt==null?!1:lt[rt]===it&&(it!==void 0||rt in Object(lt))}}return _matchesStrictComparable=Ye,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var Ye=require_baseIsMatch(),rt=require_getMatchData(),it=require_matchesStrictComparable();function lt(ct){var ut=rt(ct);return ut.length==1&&ut[0][2]?it(ut[0][0],ut[0][1]):function(ht){return ht===ct||Ye(ht,ct,ut)}}return _baseMatches=lt,_baseMatches}var isSymbol_1,hasRequiredIsSymbol$2;function requireIsSymbol$2(){if(hasRequiredIsSymbol$2)return isSymbol_1;hasRequiredIsSymbol$2=1;var Ye=require_baseGetTag(),rt=requireIsObjectLike(),it="[object Symbol]";function lt(ct){return typeof ct=="symbol"||rt(ct)&&Ye(ct)==it}return isSymbol_1=lt,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var Ye=requireIsArray$7(),rt=requireIsSymbol$2(),it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lt=/^\w*$/;function ct(ut,ht){if(Ye(ut))return!1;var ft=typeof ut;return ft=="number"||ft=="symbol"||ft=="boolean"||ut==null||rt(ut)?!0:lt.test(ut)||!it.test(ut)||ht!=null&&ut in Object(ht)}return _isKey=ct,_isKey}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var Ye=require_MapCache(),rt="Expected a function";function it(lt,ct){if(typeof lt!="function"||ct!=null&&typeof ct!="function")throw new TypeError(rt);var ut=function(){var ht=arguments,ft=ct?ct.apply(this,ht):ht[0],pt=ut.cache;if(pt.has(ft))return pt.get(ft);var mt=lt.apply(this,ht);return ut.cache=pt.set(ft,mt)||pt,mt};return ut.cache=new(it.Cache||Ye),ut}return it.Cache=Ye,memoize_1=it,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var Ye=requireMemoize(),rt=500;function it(lt){var ct=Ye(lt,function(ht){return ut.size===rt&&ut.clear(),ht}),ut=ct.cache;return ct}return _memoizeCapped=it,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var Ye=require_memoizeCapped(),rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/\\(\\)?/g,lt=Ye(function(ct){var ut=[];return ct.charCodeAt(0)===46&&ut.push(""),ct.replace(rt,function(ht,ft,pt,mt){ut.push(pt?mt.replace(it,"$1"):ft||ht)}),ut});return _stringToPath=lt,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function Ye(rt,it){for(var lt=-1,ct=rt==null?0:rt.length,ut=Array(ct);++lt<ct;)ut[lt]=it(rt[lt],lt,rt);return ut}return _arrayMap=Ye,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var Ye=require_Symbol(),rt=require_arrayMap(),it=requireIsArray$7(),lt=requireIsSymbol$2(),ct=Ye?Ye.prototype:void 0,ut=ct?ct.toString:void 0;function ht(ft){if(typeof ft=="string")return ft;if(it(ft))return rt(ft,ht)+"";if(lt(ft))return ut?ut.call(ft):"";var pt=ft+"";return pt=="0"&&1/ft==-1/0?"-0":pt}return _baseToString=ht,_baseToString}var toString_1,hasRequiredToString$2;function requireToString$2(){if(hasRequiredToString$2)return toString_1;hasRequiredToString$2=1;var Ye=require_baseToString();function rt(it){return it==null?"":Ye(it)}return toString_1=rt,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var Ye=requireIsArray$7(),rt=require_isKey(),it=require_stringToPath(),lt=requireToString$2();function ct(ut,ht){return Ye(ut)?ut:rt(ut,ht)?[ut]:it(lt(ut))}return _castPath=ct,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var Ye=requireIsSymbol$2();function rt(it){if(typeof it=="string"||Ye(it))return it;var lt=it+"";return lt=="0"&&1/it==-1/0?"-0":lt}return _toKey=rt,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var Ye=require_castPath(),rt=require_toKey();function it(lt,ct){ct=Ye(ct,lt);for(var ut=0,ht=ct.length;lt!=null&&ut<ht;)lt=lt[rt(ct[ut++])];return ut&&ut==ht?lt:void 0}return _baseGet=it,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var Ye=require_baseGet();function rt(it,lt,ct){var ut=it==null?void 0:Ye(it,lt);return ut===void 0?ct:ut}return get_1=rt,get_1}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function Ye(rt,it){return rt!=null&&it in Object(rt)}return _baseHasIn=Ye,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var Ye=require_castPath(),rt=requireIsArguments(),it=requireIsArray$7(),lt=require_isIndex(),ct=requireIsLength(),ut=require_toKey();function ht(ft,pt,mt){pt=Ye(pt,ft);for(var gt=-1,yt=pt.length,xt=!1;++gt<yt;){var bt=ut(pt[gt]);if(!(xt=ft!=null&&mt(ft,bt)))break;ft=ft[bt]}return xt||++gt!=yt?xt:(yt=ft==null?0:ft.length,!!yt&&ct(yt)&&lt(bt,yt)&&(it(ft)||rt(ft)))}return _hasPath=ht,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var Ye=require_baseHasIn(),rt=require_hasPath();function it(lt,ct){return lt!=null&&rt(lt,ct,Ye)}return hasIn_1=it,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var Ye=require_baseIsEqual(),rt=requireGet(),it=requireHasIn(),lt=require_isKey(),ct=require_isStrictComparable(),ut=require_matchesStrictComparable(),ht=require_toKey(),ft=1,pt=2;function mt(gt,yt){return lt(gt)&&ct(yt)?ut(ht(gt),yt):function(xt){var bt=rt(xt,gt);return bt===void 0&&bt===yt?it(xt,gt):Ye(yt,bt,ft|pt)}}return _baseMatchesProperty=mt,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function Ye(rt){return rt}return identity_1=Ye,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function Ye(rt){return function(it){return it?.[rt]}}return _baseProperty=Ye,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var Ye=require_baseGet();function rt(it){return function(lt){return Ye(lt,it)}}return _basePropertyDeep=rt,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var Ye=require_baseProperty(),rt=require_basePropertyDeep(),it=require_isKey(),lt=require_toKey();function ct(ut){return it(ut)?Ye(lt(ut)):rt(ut)}return property_1=ct,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var Ye=require_baseMatches(),rt=require_baseMatchesProperty(),it=requireIdentity(),lt=requireIsArray$7(),ct=requireProperty();function ut(ht){return typeof ht=="function"?ht:ht==null?it:typeof ht=="object"?lt(ht)?rt(ht[0],ht[1]):Ye(ht):ct(ht)}return _baseIteratee=ut,_baseIteratee}var _createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var Ye=require_baseIteratee(),rt=requireIsArrayLike(),it=requireKeys$3();function lt(ct){return function(ut,ht,ft){var pt=Object(ut);if(!rt(ut)){var mt=Ye(ht,3);ut=it(ut),ht=function(yt){return mt(pt[yt],yt,pt)}}var gt=ct(ut,ht,ft);return gt>-1?pt[mt?ut[gt]:gt]:void 0}}return _createFind=lt,_createFind}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function Ye(rt,it,lt,ct){for(var ut=rt.length,ht=lt+(ct?1:-1);ct?ht--:++ht<ut;)if(it(rt[ht],ht,rt))return ht;return-1}return _baseFindIndex=Ye,_baseFindIndex}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var Ye=/\s/;function rt(it){for(var lt=it.length;lt--&&Ye.test(it.charAt(lt)););return lt}return _trimmedEndIndex=rt,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var Ye=require_trimmedEndIndex(),rt=/^\s+/;function it(lt){return lt&&lt.slice(0,Ye(lt)+1).replace(rt,"")}return _baseTrim=it,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var Ye=require_baseTrim(),rt=requireIsObject$2(),it=requireIsSymbol$2(),lt=NaN,ct=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,ft=parseInt;function pt(mt){if(typeof mt=="number")return mt;if(it(mt))return lt;if(rt(mt)){var gt=typeof mt.valueOf=="function"?mt.valueOf():mt;mt=rt(gt)?gt+"":gt}if(typeof mt!="string")return mt===0?mt:+mt;mt=Ye(mt);var yt=ut.test(mt);return yt||ht.test(mt)?ft(mt.slice(2),yt?2:8):ct.test(mt)?lt:+mt}return toNumber_1=pt,toNumber_1}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var Ye=requireToNumber(),rt=1/0,it=17976931348623157e292;function lt(ct){if(!ct)return ct===0?ct:0;if(ct=Ye(ct),ct===rt||ct===-rt){var ut=ct<0?-1:1;return ut*it}return ct===ct?ct:0}return toFinite_1=lt,toFinite_1}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var Ye=requireToFinite();function rt(it){var lt=Ye(it),ct=lt%1;return lt===lt?ct?lt-ct:lt:0}return toInteger_1=rt,toInteger_1}var findLastIndex_1,hasRequiredFindLastIndex;function requireFindLastIndex(){if(hasRequiredFindLastIndex)return findLastIndex_1;hasRequiredFindLastIndex=1;var Ye=require_baseFindIndex(),rt=require_baseIteratee(),it=requireToInteger(),lt=Math.max,ct=Math.min;function ut(ht,ft,pt){var mt=ht==null?0:ht.length;if(!mt)return-1;var gt=mt-1;return pt!==void 0&&(gt=it(pt),gt=pt<0?lt(mt+gt,0):ct(gt,mt-1)),Ye(ht,rt(ft,3),gt,!0)}return findLastIndex_1=ut,findLastIndex_1}var findLast_1,hasRequiredFindLast;function requireFindLast(){if(hasRequiredFindLast)return findLast_1;hasRequiredFindLast=1;var Ye=require_createFind(),rt=requireFindLastIndex(),it=Ye(rt);return findLast_1=it,findLast_1}var findLastExports=requireFindLast();const findLast=getDefaultExportFromCjs(findLastExports);var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var Ye=require_overArg(),rt=Ye(Object.getPrototypeOf,Object);return _getPrototype=rt,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var Ye=require_baseGetTag(),rt=require_getPrototype(),it=requireIsObjectLike(),lt="[object Object]",ct=Function.prototype,ut=Object.prototype,ht=ct.toString,ft=ut.hasOwnProperty,pt=ht.call(Object);function mt(gt){if(!it(gt)||Ye(gt)!=lt)return!1;var yt=rt(gt);if(yt===null)return!0;var xt=ft.call(yt,"constructor")&&yt.constructor;return typeof xt=="function"&&xt instanceof xt&&ht.call(xt)==pt}return isPlainObject_1=mt,isPlainObject_1}requireIsPlainObject();var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function Ye(rt){var it=rt==null?0:rt.length;return it?rt[it-1]:void 0}return last_1=Ye,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports),DEFAULT_TIMEOUT_MS=3e4;function useAppServerManager(){return useAtomValue(aAppServerManager)}function useLocalConversation(Ye){const rt=useAppServerManager(),[it,lt]=reactExports.useState(()=>Ye?rt.getConversation(Ye):null),ct=reactExports.useEffectEvent(lt);return reactExports.useEffect(()=>{if(Ye)return ct(rt.getConversation(Ye)),rt.addConversationCallback(Ye,ct),()=>rt.removeConversationCallback(Ye,ct)},[Ye,rt]),it}function useConversations(){const Ye=useAppServerManager(),[rt,it]=reactExports.useState(()=>Ye.getConversations());return reactExports.useEffect(()=>(Ye.addAnyConversationCallback(it),()=>Ye.removeAnyConversationCallback(it)),[Ye]),rt}class AppServerManager{requestPromises=new Map;conversations=new Map;streamingConversations=new Set;conversationCallbacks=new Map;anyConversationCallbacks=[];activeLogin;authStatusCallbacks=[];rateLimitCallbacks=[];addAuthStatusCallback(rt){this.authStatusCallbacks.push(rt)}removeAuthStatusCallback(rt){this.authStatusCallbacks=this.authStatusCallbacks.filter(it=>it!==rt)}notifyRateLimitCallbacks(){for(const rt of this.rateLimitCallbacks)rt()}getConversation(rt){return this.conversations.get(rt)??null}getConversationOrThrow(rt){const it=this.getConversation(rt);if(!it)throw new Error(`Conversation not found: ${rt}`);return it}getConversations(){return[...this.conversations.values()].sort((rt,it)=>it.createdAt.getTime()-rt.createdAt.getTime())}addAnyConversationCallback(rt){this.anyConversationCallbacks.push(rt)}removeAnyConversationCallback(rt){this.anyConversationCallbacks=this.anyConversationCallbacks.filter(it=>it!==rt)}addConversationCallback(rt,it){const lt=this.conversationCallbacks.get(rt)??[];this.conversationCallbacks.set(rt,[...lt,it])}removeConversationCallback(rt,it){const lt=this.conversationCallbacks.get(rt);lt&&this.conversationCallbacks.set(rt,lt.filter(ct=>ct!==it))}async populateRecentConversations(){const rt=await this.sendRequest("listConversations",{pageSize:20,cursor:null,modelProviders:null});for(const it of rt.items){const lt=it.conversationId,ut=it.cwd??null;this.conversations.set(lt,{id:lt,turns:[{notifications:[],params:{conversationId:lt,items:[{type:"text",data:{text:it.preview}}],cwd:"",approvalPolicy:"on-request",sandboxPolicy:{type:"read-only"},model:"gpt-5",effort:"medium",summary:"auto"}}],requests:[],createdAt:it.timestamp?new Date(it.timestamp):new Date,latestModel:"",latestReasoningEffort:null,hasUnreadTurn:!1,rolloutPath:it.path,gitInfo:it.gitInfo??null,resumeState:"needs_resume",latestTokenUsageInfo:null,cwd:ut??void 0})}this.notifyAnyConversationCallbacks()}needsResume(rt){const it=this.conversations.get(rt);return!it||it.resumeState==="needs_resume"}async maybeResumeConversation({conversationId:rt,model:it,reasoningEffort:lt,workspaceRoots:ct,permissions:ut}){const ht=this.conversations.get(rt);if(ht==null)this.conversations.set(rt,{id:rt,turns:[],requests:[],createdAt:new Date,latestModel:"",latestReasoningEffort:null,hasUnreadTurn:!1,rolloutPath:"",cwd:"",gitInfo:null,resumeState:"needs_resume",latestTokenUsageInfo:null});else if(ht?.resumeState!=="needs_resume")return;const ft=ct.length>0?ct:ht?.cwd?[ht.cwd]:[];this.updateConversationState(rt,Ct=>{Ct.resumeState="resuming"});const pt=ut??buildAutoPermissionsConfig(ct),mt=await this.buildNewConversationParams(it,ct,pt),gt=await this.sendRequest("resumeConversation",{path:ht?.rolloutPath??null,conversationId:rt??null,history:null,overrides:mt}),xt=gt.sessionMeta?.cwd??ht?.cwd??ft[0],bt=await mapResumeConversationResponseToTurns(gt),_t=findLast(gt.initialMessages??[],Ct=>Ct.type==="token_count"&&!!Ct?.info)?.info??null;this.updateConversationState(rt,Ct=>{Ct.turns=bt.map(castDraft),Ct.latestModel=gt.model,Ct.rolloutPath=gt.rolloutPath,Ct.latestReasoningEffort=lt,Ct.resumeState="resumed",Ct.cwd=xt,_t!=null&&(Ct.latestTokenUsageInfo=_t)}),await this.streamConversation(rt)}async startConversation({input:rt,model:it,reasoningEffort:lt,workspaceRoots:ct,permissions:ut,cwd:ht,createWorktree:ft}){const pt=ut??buildAutoPermissionsConfig(ct),mt=await this.buildNewConversationParams(it,ct,pt),gt=ft&&!ht?ct[0]??mt.cwd:ht;if(mt.cwd=gt??mt.cwd,ft){const Rt=mt.config??{},Tt=buildWorktreeLabelFromInput(rt);mt.config={...Rt,codex_create_worktree:!0,...Tt?{codex_worktree_label:Tt}:{}}}const yt=ft?void 0:{timeoutMs:DEFAULT_TIMEOUT_MS},xt=await this.sendRequest("newConversation",mt,yt),bt=xt.conversationId;logger.info(`Conversation created: ${bt}`);const _t=ht??null,kt=xt.cwd??null??_t??ct[0],St=kt?await fetchFromVSCode("git-origins",{params:{dirs:[kt]},select:Rt=>Rt.origins.find(Tt=>kt===Tt.dir)?.originUrl??Rt.origins.find(Tt=>kt.startsWith(Tt.root))?.originUrl}):null;return this.conversations.set(bt,{id:bt,turns:[],requests:[],createdAt:new Date,latestModel:xt.model,latestReasoningEffort:xt.reasoningEffort??null,hasUnreadTurn:!1,rolloutPath:xt.rolloutPath,cwd:kt,gitInfo:{branch:null,sha:null,origin_url:St??null},resumeState:"resumed",latestTokenUsageInfo:null}),this.notifyConversationCallbacks(bt),logger.debug(`Adding conversation listener: ${bt}`),await this.streamConversation(bt),await this.sendUserTurn(bt,{conversationId:bt,cwd:kt,approvalPolicy:pt.approvalPolicy,sandboxPolicy:pt.sandboxPolicy,model:xt.model,effort:lt,summary:"auto",items:rt}),bt}async sendUserTurn(rt,it){if(!this.streamingConversations.has(rt))throw logger.error(`Conversation ${rt} is not being streamed.`),new Error(`Conversation ${rt} is not being streamed.`);const lt=this.conversations.get(rt);if(!lt)throw logger.error(`Conversation state for ${rt} not found`),new Error(`Conversation state for ${rt} not found`);const ct={...it,model:it.model??lt.latestModel,effort:it.effort??lt.latestReasoningEffort};this.updateConversationState(rt,ut=>{ut.turns.push({params:ct,notifications:[]}),ut.latestModel=ct.model});try{return await this.sendRequest("sendUserTurn",ct,{timeoutMs:DEFAULT_TIMEOUT_MS})}catch(ut){throw this.updateConversationState(rt,ht=>{const ft=last(ht.turns);ft&&ft.notifications.push({method:"codex/event/error",id:v4(),msg:{type:"error",message:"Error submitting message",http_status_code:null}},{method:"codex/event/turn_aborted",id:v4(),msg:{type:"turn_aborted",reason:"interrupted"}})}),ut}}async interruptConversation(rt){const it=this.conversations.get(rt);if(it&&it.requests.length>0){const lt=it.requests.map(ct=>ct.id);for(const ct of lt){const ut=ct;this.replyWithReviewDecision(rt,ut,"denied")}}await this.sendRequest("interruptConversation",{conversationId:rt})}async archiveConversation(rt){const it=this.conversations.get(rt);if(!it){logger.warn("Cannot delete conversation that doesn't exist");return}await this.sendRequest("archiveConversation",{conversationId:rt,rolloutPath:it.rolloutPath}),this.conversations.delete(rt),this.streamingConversations.delete(rt),this.conversationCallbacks.delete(rt);const lt=this.getConversations();for(const ct of this.anyConversationCallbacks)ct(lt)}addCloudTaskSyntheticNotification(rt,it){const lt={method:"codex/event/remote_task_created",id:v4(),msg:{type:"remote_task_created",task_id:it}};this.updateConversationState(rt,ct=>{const ut=last(ct.turns);if(ut)ut.notifications.push(lt);else{const ht=buildAutoPermissionsConfig([]);ct.turns.push({params:{conversationId:rt,items:[],cwd:"",approvalPolicy:ht.approvalPolicy,sandboxPolicy:ht.sandboxPolicy,model:"",effort:"minimal",summary:"auto"},notifications:[lt]})}})}addAgentModeChangedSyntheticNotification(rt,it){if(!it)return;const lt={method:"codex/event/agent_mode_changed",id:v4(),msg:{type:"agent_mode_changed",mode:rt}};this.updateConversationState(it,ct=>{const ut=last(ct.turns);if(ut)ut.notifications.push(lt);else{const ht=buildAutoPermissionsConfig([]);ct.turns.push({params:{conversationId:it,items:[],cwd:"",approvalPolicy:ht.approvalPolicy,sandboxPolicy:ht.sandboxPolicy,model:"",effort:"minimal",summary:"auto"},notifications:[lt]})}})}async loginWithApiKey(rt){await this.sendRequest("loginApiKey",{apiKey:rt})}async loginWithChatGpt(rt){if(this.activeLogin&&!this.activeLogin.finished)throw new Error("A ChatGPT login is already in progress");const{loginId:it,authUrl:lt}=await this.sendRequest("loginChatGpt",void 0);if(typeof lt!="string"||lt.length===0)throw new Error("Missing authUrl in loginChatGpt response");let ct=()=>{};const ut=createDeferred(),ht={loginId:it,finished:!1,complete:mt=>{mt.loginId!==it||ht.finished||(ht.finished=!0,ct(),ut.resolve({success:mt.success,error:mt.error}))}};this.activeLogin=ht;const ft=rt.signal,pt=()=>{if(ht.finished)return;ht.finished=!0,ct(),this.sendRequest("cancelLoginChatGpt",{loginId:it}).catch(()=>{});const mt=Object.assign(new Error("Login aborted"),{name:"AbortError",aborted:!0});ut.reject(mt)};return ft.aborted?pt():ft.addEventListener("abort",pt,{once:!0}),ct=()=>{ft.removeEventListener("abort",pt),this.activeLogin?.loginId===it&&(this.activeLogin=void 0)},{loginId:it,authUrl:lt,completion:ut.promise}}async logout(){await this.sendRequest("logoutChatGpt",void 0),this.notifyRateLimitCallbacks()}async getAuthStatus(){return this.sendRequest("getAuthStatus",{includeToken:!1,refreshToken:!1})}getGitDiffToRemote(rt){return this.sendRequest("gitDiffToRemote",{cwd:rt})}getUserSavedConfiguration(){return this.sendRequest("getUserSavedConfig",void 0)}fuzzyFileSearch(rt){return this.sendRequest("fuzzyFileSearch",{...rt,cancellationToken:"vscode-fuzzy-file-search"})}setDefaultModel(rt,it){return this.sendRequest("setDefaultModel",{model:rt,reasoningEffort:it})}submitFeedback(rt){return this.sendRequest("feedback/upload",rt)}onNotification(rt,it){switch(rt!=="codex/event/agent_message_delta"&&rt!=="codex/event/exec_command_output_delta"&&rt!=="codex/event/agent_reasoning_delta"&&!(it.msg!=null&&typeof it.msg=="object"&&"type"in it.msg&&it.msg.type==="session_configured")&&logger.info(`Received MCP notification: ${rt} ${JSON.stringify(it)}`),rt){case"windows/worldWritableWarning":{logger.info(`Received Windows World Writable Warning: ${JSON.stringify(it)}`);const lt=it;tasksStore.set(aWindowsWorldWritableWarning,lt);break}case"codex/event/task_started":case"codex/event/agent_reasoning":case"codex/event/agent_message":case"codex/event/task_complete":case"codex/event/mcp_tool_call_begin":case"codex/event/mcp_tool_call_end":case"codex/event/exec_command_begin":case"codex/event/exec_command_end":case"codex/event/exec_command_output_delta":case"codex/event/exec_approval_request":case"codex/event/apply_patch_approval_request":case"codex/event/background_event":case"codex/event/patch_apply_begin":case"codex/event/patch_apply_end":case"codex/event/turn_diff":case"codex/event/get_history_entry_response":case"codex/event/agent_reasoning_delta":case"codex/event/agent_reasoning_section_break":case"codex/event/agent_message_delta":case"codex/event/stream_error":case"codex/event/error":case"codex/event/turn_aborted":case"codex/event/plan_update":case"codex/event/item_started":case"codex/event/item_completed":{if(this.isConversationNotification(it)){const lt=it.conversationId,ct=mapMcpEventMsgToMcpNotification(it.id,it.msg);this.updateConversationState(lt,ut=>{const ht=last(ut.turns);if(!ht)throw new Error(`No turns for conversation ${lt}`);rt==="codex/event/task_complete"&&(ut.hasUnreadTurn=!0),ht.notifications.push(ct)})}break}case"authStatusChange":{const{authMethod:lt}=it;for(const ct of this.authStatusCallbacks)ct({authMethod:lt??null});break}case"loginChatGptComplete":{const{loginId:lt,success:ct,error:ut}=it,ht=this.activeLogin;ht&&ht.loginId===lt&&ht.complete({loginId:lt,success:ct,...ut!=null?{error:ut}:{}});break}case"codex/event/token_count":{const{rate_limits:lt,info:ct}=it.msg;if(lt&&this.notifyRateLimitCallbacks(),this.isConversationNotification(it)&&ct){const ut=it.conversationId;this.updateConversationState(ut,ht=>{ht.latestTokenUsageInfo=ct})}break}case"codex/event/deprecation_notice":{const{summary:lt,details:ct}=it.msg;logger.warn(`Deprecation notice: ${lt} ${ct}`);break}case"account/rateLimits/updated":case"account/updated":case"codex/event/session_configured":case"sessionConfigured":case"codex/event/user_message":case"codex/event/agent_reasoning_raw_content":case"codex/event/agent_reasoning_raw_content_delta":case"codex/event/web_search_begin":case"codex/event/web_search_end":case"codex/event/mcp_list_tools_response":case"codex/event/list_custom_prompts_response":case"codex/event/raw_response_item":case"codex/event/agent_message_content_delta":case"codex/event/reasoning_content_delta":case"codex/event/reasoning_raw_content_delta":case"codex/event/warning":case"codex/event/undo_started":case"codex/event/undo_completed":case"codex/event/shutdown_complete":case"codex/event/entered_review_mode":case"codex/event/exited_review_mode":case"codex/event/view_image_tool_call":case"codex/event/mcp_startup_update":case"codex/event/mcp_startup_complete":case"codex/event/remote_task_created":case"codex/event/agent_mode_changed":case"thread/started":case"turn/started":case"turn/completed":case"item/started":case"item/completed":case"item/agentMessage/delta":case"item/commandExecution/outputDelta":case"item/mcpToolCall/progress":case"item/reasoning/summaryTextDelta":case"item/reasoning/summaryPartAdded":case"item/reasoning/textDelta":case"account/login/completed":{logger.error(`Unknown MCP notification: ${rt} ${JSON.stringify(it)}`);break}}}onResult(rt,it){logger.info(`Received MCP result: ${rt} ${JSON.stringify(it)}`);const lt=this.requestPromises.get(rt);lt?(lt.resolve(it),this.requestPromises.delete(rt)):logger.error(`No promise for request ID ${rt}`)}onRequest(rt){const{id:it,method:lt,params:ct}=rt;switch(logger.info(`Received server request: ${it} ${lt} ${JSON.stringify(ct)}`),lt){case"execCommandApproval":case"applyPatchApproval":{const ut=ct.conversationId;this.updateConversationState(ut,ht=>{const ft=rt;ht.requests.push(ft)});break}}}replyWithReviewDecision(rt,it,lt){const ct=this.conversations.get(rt);if(!ct){logger.error(`Conversation state for ${rt} not found`);return}if(!ct.requests.find(pt=>pt.id===it)){logger.error(`Request ${it} not found`);return}const ht={decision:lt};messageBus.dispatchMessage("mcp-response",{response:{id:it,result:ht}});const ft=produce(ct,pt=>{pt.requests=pt.requests.filter(mt=>mt.id!==it)});this.conversations.set(rt,ft),this.notifyConversationCallbacks(rt)}onError(rt,it){logger.error(`Received MCP error: ${rt} ${JSON.stringify(it)}`);const lt=this.requestPromises.get(rt);lt&&(lt.reject(it),this.requestPromises.delete(rt))}async sendRequest(rt,it,lt){const ct=v4(),ut=new Promise((ft,pt)=>{let mt;lt?.timeoutMs&&(mt=window.setTimeout(()=>{logger.warn(`Request ${ct} ${rt} ${JSON.stringify(it)} timed out`),pt(new Error("Timeout"))},lt.timeoutMs)),this.requestPromises.set(ct,{resolve:gt=>{mt!==void 0&&window.clearTimeout(mt),ft(gt)},reject:gt=>{mt!==void 0&&window.clearTimeout(mt),pt(gt)}})});logger.debug(`sending mcp-request: ${JSON.stringify({request:{id:ct,method:rt,params:it}})}`);const ht={id:ct,method:rt,params:it};return messageBus.dispatchMessage("mcp-request",{request:ht}),ut}setModelAndReasoningForNextTurn(rt,it,lt){this.updateConversationState(rt,ct=>{ct.latestModel=it,ct.latestReasoningEffort=lt})}async buildNewConversationParams(rt,it,lt){return buildNewConversationParams(rt,()=>fetchFromVSCode("get-copilot-api-proxy-info"),it,lt,async()=>(await fetchFromVSCode("mcp-codex-config")).config)}updateConversationState(rt,it){const lt=this.conversations.get(rt);if(!lt){logger.error(`Conversation state for ${rt} not found`);return}const ct=produce(lt,it);this.conversations.set(rt,ct),this.notifyConversationCallbacks(rt)}async streamConversation(rt){await this.sendRequest("addConversationListener",{conversationId:rt,experimentalRawEvents:!1},{timeoutMs:DEFAULT_TIMEOUT_MS}),this.streamingConversations.add(rt)}markConversationAsRead(rt){const it=this.conversations.get(rt);!it||!it.hasUnreadTurn||this.updateConversationState(rt,lt=>{lt.hasUnreadTurn=!1})}notifyConversationCallbacks(rt){const it=this.conversations.get(rt);if(!it){logger.error(`No conversation state for conversation ID ${rt}`);return}const lt=this.conversationCallbacks.get(rt);if(lt)for(const ct of lt)ct(it);this.notifyAnyConversationCallbacks()}notifyAnyConversationCallbacks(){const rt=this.getConversations();for(const it of this.anyConversationCallbacks)it(rt)}isConversationNotification(rt){if(typeof rt!="object"||rt==null)return!1;const it=rt;if(typeof it.id!="string"||typeof it.conversationId!="string")return!1;const{msg:lt}=it;return!(typeof lt!="object"||lt==null||!("type"in lt)||typeof lt.type!="string")}__setConversationForStorybook(rt){this.conversations.set(rt.id,rt),this.notifyConversationCallbacks(rt.id)}}function buildWorktreeLabelFromInput(Ye){const rt=Ye.find(ct=>ct.type==="text");if(!rt)return null;const it=extractPromptRequest(rt.data.text).trim();if(it.length===0)return null;const lt=it.replace(/\s+/g," ").trim();return lt.length===0?null:lt.length<=80?lt:`${lt.slice(0,77).trimEnd()}...`}const aAppServerManager=atom(()=>{const Ye=new AppServerManager;return Ye.populateRecentConversations(),Ye});function normalizeModel(Ye){switch(Ye){case"codex-auto":return"codex-auto";case"gpt-5.1-codex":return"gpt-5.1-codex";case"gpt-5.1-codex-mini":return"gpt-5.1-codex-mini";case"gpt-5.1-codex-max":return"gpt-5.1-codex-max";case"gpt-5.1":return"gpt-5.1";case"gpt-5-codex":return"gpt-5-codex";case"gpt-5-codex-mini":return"gpt-5-codex-mini";case"gpt-5":return"gpt-5";default:return DEFAULT_MODEL}}function normalizeReasoningEffort(Ye,rt){return(Ye==="minimal"||Ye==="low"||Ye==="medium"||Ye==="high"||Ye==="xhigh")&&rt.includes(Ye)?Ye:DEFAULT_EFFORT}function getAvailableReasoningEffort(Ye,rt){return(Ye?COPILOT_MODEL_REASONING_EFFORTS:OPENAI_MODEL_REASONING_EFFORTS)[normalizeModel(rt)]??["medium"]}function getModelUpgrade(Ye){switch(Ye){case"gpt-5":return"gpt-5.1";case"gpt-5-codex":return"gpt-5.1-codex";case"gpt-5-codex-mini":return"gpt-5.1-codex-mini";case"gpt-5.1":return"gpt-5.1";case"gpt-5.1-codex":return"gpt-5.1-codex";case"gpt-5.1-codex-mini":return"gpt-5.1-codex-mini";case"gpt-5.1-codex-max":return"gpt-5.1-codex-max";case"codex-auto":return"codex-auto"}}const aUserSavedModelSettingsAsync=atomWithRefresh(async Ye=>{const rt=Ye(aAppServerManager),{config:it}=await rt.getUserSavedConfiguration();return{model:it.model,reasoningEffort:it.modelReasoningEffort}}),aUserSavedModelSettings=loadable(aUserSavedModelSettingsAsync);function useDefaultModelSettings(){const{authMethod:Ye}=useAuth(),rt=Ye==="copilot",it=Ye==="chatgpt",{data:lt,isLoading:ct}=useOsInfo(),ut=it&&lt?.platform==="win32"?DEFAULT_WINDOWS_MODEL:DEFAULT_MODEL,ht=useAtomValue(aUserSavedModelSettings);if(ht.state==="hasData"&&!ct){const{model:pt,reasoningEffort:mt}=ht.data,gt=rt&&!!pt&&CODEX_MINI_MODELS.has(normalizeModel(pt)),yt=!it&&!!pt&&CHAT_GPT_AUTH_ONLY_MODELS.has(normalizeModel(pt)),xt=gt||yt?ut:pt??ut,bt=getAvailableReasoningEffort(rt,xt),_t=mt&&bt.includes(mt)?mt:bt.includes(DEFAULT_EFFORT)?DEFAULT_EFFORT:bt[0];return{model:xt,reasoningEffort:_t,isLoading:!1}}else return{model:DEFAULT_MODEL,reasoningEffort:DEFAULT_EFFORT,isLoading:!0}}function useRefreshDefaultModelSettings(){return useSetAtom(aUserSavedModelSettingsAsync)}const aAgentMode=persistedAtom("agent-mode","auto"),aSkipFullAccessConfirm=persistedAtom("skip-full-access-confirm",!1),aComposerBestOfN=persistedAtom("composer-best-of-n",1),aPromptHistory=persistedAtom("prompt-history",[]),aDefaultComposerAutoContext=persistedAtom("composer-auto-context-enabled",!0);function useGlobalState(Ye){const rt=useQueryClient(),it=reactExports.useMemo(()=>getQueryKey("get-global-state",{key:Ye}),[Ye]),{data:lt,isLoading:ct}=useFetchFromVSCode("get-global-state",{params:{key:Ye},select:ft=>ft.value}),{mutateAsync:ut}=useMutationFromVSCode("set-global-state"),ht=reactExports.useCallback(async ft=>{const pt=rt.getQueryData(it);rt.setQueryData(it,ft);try{await ut({key:Ye,value:ft})}catch(mt){throw rt.setQueryData(it,pt),mt}finally{await rt.invalidateQueries({queryKey:it})}},[Ye,rt,it,ut]);return{data:lt,setData:ht,isLoading:ct}}function useDefaultModelSettingsForCopilotAPI(){const{data:Ye,isLoading:rt}=useGlobalState("copilot-default-model");return{model:Ye??"gpt-5.1",reasoningEffort:"medium",isLoading:rt}}function useModelSettings(Ye,rt){const it=useAppServerManager(),lt=useDefaultModelSettings(),ct=useDefaultModelSettingsForCopilotAPI(),ut=useLocalConversation(Ye),ht=reactExports.useCallback((_t,Ct)=>{Ye!=null&&it.setModelAndReasoningForNextTurn(Ye,_t,Ct)},[Ye,it]),{model:ft,reasoningEffort:pt,isLoading:mt}=ut?{model:ut.latestModel,reasoningEffort:ut.latestReasoningEffort,isLoading:!1}:rt?ct:lt,{setData:gt}=useGlobalState("copilot-default-model"),yt=useRefreshDefaultModelSettings(),xt=reactExports.useCallback(async(_t,Ct)=>{const kt=getAvailableReasoningEffort(rt,_t),St=!Ct||kt.includes(Ct)?Ct:kt[0];if(ht(_t,St),rt){gt(_t);return}try{await it.setDefaultModel(_t,St)}catch(Rt){logger.error(`failed to set default model and reasoning effort: ${Rt}`);return}yt()},[rt,gt,ht,yt,it]),bt=reactExports.useMemo(()=>({model:ft,reasoningEffort:pt,isLoading:mt}),[ft,pt,mt]);return{setModelAndReasoningEffort:xt,modelSettings:bt}}const SvgArrowUp=Ye=>reactExports.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M9.73463 16.6663V4.93978L5.03736 9.63705L4.56666 9.16634L4.09596 8.69662L9.92994 2.86263L10.0344 2.77767C10.2925 2.60754 10.6432 2.63565 10.8704 2.86263L16.7034 8.69662L16.7883 8.80111C16.9587 9.05923 16.9306 9.40982 16.7034 9.63705C16.4761 9.86414 16.1255 9.89242 15.8674 9.72201L15.763 9.63705L11.0647 4.9388V16.6663C11.0647 17.0336 10.7669 17.3314 10.3997 17.3314C10.0325 17.3312 9.73463 17.0335 9.73463 16.6663ZM5.03736 9.63705C4.77767 9.89674 4.35566 9.89674 4.09596 9.63705C3.83653 9.37744 3.83664 8.95629 4.09596 8.69662L5.03736 9.63705Z",fill:"currentColor"}));function AsciiShader({lines:Ye,columns:rt,rows:it,scale:lt=.75,foregroundColor:ct="var(--color-token-checkbox-border)",backgroundColor:ut="var(--color-token-side-bar-background)",autoCover:ht=!1}){const ft=reactExports.useRef(null),pt=reactExports.useRef(null),mt=reactExports.useRef(null),gt=reactExports.useRef(""),yt=reactExports.useRef(8),xt=reactExports.useRef(16),bt=reactExports.useRef(12),_t=reactExports.useRef("monospace"),Ct=reactExports.useRef(Ye),kt=reactExports.useRef(()=>{}),St=reactExports.useCallback(()=>{if(!ft.current)return null;if(!mt.current){const It=document.createElement("canvas");It.style.display="block",It.style.borderRadius=ht?"0px":"10px",It.style.imageRendering="crisp-edges",ft.current.appendChild(It),mt.current=It}return mt.current.getContext("2d")},[ht]),Rt=Pt=>{const It=bt.current,Lt=_t.current;Pt.font=`${It}px ${Lt}`;const Ot=Pt.measureText("M"),Ft=Math.max(1,Math.round(Ot.width)),Ut=Math.max(1,Math.round((Ot.actualBoundingBoxAscent||It)+(Ot.actualBoundingBoxDescent||Math.ceil(It*.3))));yt.current=Ft,xt.current=Ut},Tt=reactExports.useCallback((Pt,It)=>{const Lt=mt.current,Ot=ft.current;if(!Lt)return 1;const Ft=Number.isFinite(It)&&It>0?It:1,Ut=Math.max(1,Math.floor(window.devicePixelRatio||1)),Wt=Math.max(1,rt*yt.current),Kt=Math.max(1,it*xt.current),Qt=Wt*Ft,Zt=Kt*Ft,Vt=Math.max(1,Math.round(Qt*Ut)),$t=Math.max(1,Math.round(Zt*Ut));return(Lt.width!==Vt||Lt.height!==$t)&&(Lt.width=Vt,Lt.height=$t),Lt.style.width=`${Qt}px`,Lt.style.height=`${Zt}px`,Ot&&(Ot.style.width=`${Qt}px`,Ot.style.height=`${Zt}px`),Pt.setTransform(Ut*Ft,0,0,Ut*Ft,0,0),Pt.imageSmoothingEnabled=!1,Ft},[rt,it]),Mt=reactExports.useCallback(()=>{const Pt=St();if(!Pt||!mt.current)return;mt.current.style.borderRadius=ht?"0px":"10px";try{Pt.setTransform(1,0,0,1,0,0)}catch{}Rt(Pt);let It=1;if(ht&&pt.current)try{const qt=pt.current.parentElement?.getBoundingClientRect(),Gt=Math.max(1,rt*yt.current),Ht=Math.max(1,it*xt.current);if(qt&&Gt>0&&Ht>0){const Xt=qt.width/Gt,Bt=qt.height/Ht;It=Math.max(Xt,Bt),!Number.isFinite(It)||It<=0?It=1:It*=1.02}}catch{It=1}const Lt=Tt(Pt,It)||1,Ot=Math.max(Lt,.001),Ft=Math.max(1,Math.floor(window.devicePixelRatio||1)),Ut=mt.current.width/(Ft*Ot),Wt=mt.current.height/(Ft*Ot);Pt.save();const Kt=ft.current,Qt=(Nt,qt)=>{const Gt=Bt=>{try{const nr=document.createElement("div");nr.style.display="none",nr.style[qt]=Bt,document.body.appendChild(nr);const rr=getComputedStyle(nr)[qt]||"";return nr.remove(),rr}catch{return""}};if(Nt&&Nt!==""){if(Nt.trim().startsWith("var(")){const Bt=Gt(Nt);if(Bt)return Bt}return Nt}if(!Kt)return"";const Ht=getComputedStyle(Kt);let Xt=qt==="color"?Ht.color:Ht.backgroundColor;if((Xt==="rgba(0, 0, 0, 0)"||Xt==="transparent")&&Kt.parentElement){const Bt=getComputedStyle(Kt.parentElement);Xt=qt==="color"?Bt.color:Bt.backgroundColor}return Xt},Zt=Qt(ut,"backgroundColor"),Vt=Qt(ct,"color");Zt&&(Pt.fillStyle=Zt,Pt.fillRect(0,0,Ut,Wt)),Vt&&(Pt.fillStyle=Vt),Pt.textBaseline="top",Pt.font=`${bt.current}px ${_t.current}`;const $t=xt.current,zt=Math.min(it,Ct.current.length);for(let Nt=0;Nt<zt;Nt++){const qt=Ct.current[Nt]??"";qt&&Pt.fillText(qt,0,Nt*$t)}if(Pt.restore(),ht&&pt.current&&ft.current)try{if(!pt.current.parentElement)return;const Nt=pt.current;Nt.style.position="absolute",Nt.style.left="50%",Nt.style.top="50%",Nt.style.transform="translate(-50%, -50%)",Nt.style.transformOrigin="center",Nt.style.display="block",Nt.style.width=ft.current.style.width,Nt.style.height=ft.current.style.height}catch{}},[ut,it,rt,ct,Tt,ht,St]);return reactExports.useEffect(()=>{kt.current=Mt},[Mt]),reactExports.useEffect(()=>{let Pt=!1;const It=ft.current;return(async()=>{if(It){try{const Ot=document;if(Ot?.fonts?.ready?.then)try{await Ot.fonts.ready}catch{}}catch{}Pt||kt.current()}})(),()=>{if(Pt=!0,mt.current)try{mt.current.remove()}catch{}if(mt.current=null,It)try{for(;It.firstChild;)It.removeChild(It.firstChild)}catch{}}},[]),reactExports.useEffect(()=>{Ct.current=Ye;const Pt=Ye.join(`
`);Pt!==gt.current&&(gt.current=Pt,requestAnimationFrame(()=>{requestAnimationFrame(()=>kt.current())}))},[Ye]),reactExports.useEffect(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>kt.current())})},[rt,it,ct,ut]),reactExports.useEffect(()=>{if(!ht)return;const Pt=()=>{requestAnimationFrame(()=>kt.current())};return window.addEventListener("resize",Pt),()=>{window.removeEventListener("resize",Pt)}},[ht]),jsxRuntimeExports.jsx("div",{ref:pt,style:ht?{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"block"}:{transform:`scale(${lt})`,transformOrigin:"center",display:"inline-block"},children:jsxRuntimeExports.jsx("div",{ref:ft,style:{display:"inline-block",lineHeight:1,borderRadius:ht?0:10}})})}var mod={},_2d={},shuffle_seed={},hasRequiredShuffle_seed;function requireShuffle_seed(){if(hasRequiredShuffle_seed)return shuffle_seed;hasRequiredShuffle_seed=1,Object.defineProperty(shuffle_seed,"__esModule",{value:!0});function Ye(rt){var it=new Uint32Array(1);return it[0]=rt[0]*1664525+1013904223,it}return shuffle_seed.default=Ye,shuffle_seed}var hasRequired_2d;function require_2d(){if(hasRequired_2d)return _2d;hasRequired_2d=1,Object.defineProperty(_2d,"__esModule",{value:!0}),_2d.makeNoise2D=void 0;var Ye=requireShuffle_seed(),rt=1/47,it=(Math.sqrt(3)-1)/2,lt=(1/Math.sqrt(3)-1)/2;function ct(gt,yt,xt){return{dx:-yt-gt*it,dy:-xt-gt*it,xsb:yt,ysb:xt}}function ut(gt){for(var yt=[],xt=0;xt<mt.length;xt+=4){for(var bt=ht[mt[xt]],_t=null,Ct=null,kt=0;kt<bt.length;kt+=3)Ct=ct(bt[kt],bt[kt+1],bt[kt+2]),_t===null?yt[xt/4]=Ct:_t.next=Ct,_t=Ct;Ct.next=ct(mt[xt+1],mt[xt+2],mt[xt+3])}for(var St=[],xt=0;xt<pt.length;xt+=2)St[pt[xt]]=yt[pt[xt+1]];for(var Rt=new Uint8Array(256),Tt=new Uint8Array(256),Mt=new Uint8Array(256),xt=0;xt<256;xt++)Mt[xt]=xt;var Pt=new Uint32Array(1);Pt[0]=gt,Pt=Ye.default(Ye.default(Ye.default(Pt)));for(var xt=255;xt>=0;xt--){Pt=Ye.default(Pt);var It=new Uint32Array(1);It[0]=(Pt[0]+31)%(xt+1),It[0]<0&&(It[0]+=xt+1),Rt[xt]=Mt[It[0]],Tt[xt]=Rt[xt]&14,Mt[It[0]]=Mt[xt]}return function(Lt,Ot){for(var Ft=(Lt+Ot)*lt,Ut=Lt+Ft,Wt=Ot+Ft,Kt=Math.floor(Ut),Qt=Math.floor(Wt),Zt=(Kt+Qt)*it,Vt=Lt-(Kt+Zt),$t=Ot-(Qt+Zt),zt=Ut-Kt,Nt=Wt-Qt,qt=zt+Nt,Gt=zt-Nt+1|qt<<1|qt+Nt<<2|qt+zt<<4,Ht=0,Xt=St[Gt];Xt!==void 0;Xt=Xt.next){var Bt=Vt+Xt.dx,nr=$t+Xt.dy,rr=2-Bt*Bt-nr*nr;if(rr>0){var Jt=Kt+Xt.xsb,ir=Qt+Xt.ysb,ar=Rt[Jt&255],cr=Tt[ar+ir&255],dr=ft[cr]*Bt+ft[cr+1]*nr;Ht+=rr*rr*rr*rr*dr}}return Ht*rt}}_2d.makeNoise2D=ut;var ht=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],ft=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],pt=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],mt=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0];return _2d}var _3d={},hasRequired_3d;function require_3d(){if(hasRequired_3d)return _3d;hasRequired_3d=1,Object.defineProperty(_3d,"__esModule",{value:!0}),_3d.makeNoise3D=void 0;var Ye=requireShuffle_seed(),rt=1/103,it=(Math.sqrt(4)-1)/3,lt=(1/Math.sqrt(4)-1)/3;function ct(gt,yt,xt,bt){return{dx:-yt-gt*it,dy:-xt-gt*it,dz:-bt-gt*it,xsb:yt,ysb:xt,zsb:bt}}function ut(gt){for(var yt=[],xt=0;xt<mt.length;xt+=9){for(var bt=ht[mt[xt]],_t=null,Ct=null,kt=0;kt<bt.length;kt+=4)Ct=ct(bt[kt],bt[kt+1],bt[kt+2],bt[kt+3]),_t===null?yt[xt/9]=Ct:_t.next=Ct,_t=Ct;Ct.next=ct(mt[xt+1],mt[xt+2],mt[xt+3],mt[xt+4]),Ct.next.next=ct(mt[xt+5],mt[xt+6],mt[xt+7],mt[xt+8])}for(var St=[],xt=0;xt<pt.length;xt+=2)St[pt[xt]]=yt[pt[xt+1]];for(var Rt=new Uint8Array(256),Tt=new Uint8Array(256),Mt=new Uint8Array(256),xt=0;xt<256;xt++)Mt[xt]=xt;var Pt=new Uint32Array(1);Pt[0]=gt,Pt=Ye.default(Ye.default(Ye.default(Pt)));for(var xt=255;xt>=0;xt--){Pt=Ye.default(Pt);var It=new Uint32Array(1);It[0]=(Pt[0]+31)%(xt+1),It[0]<0&&(It[0]+=xt+1),Rt[xt]=Mt[It[0]],Tt[xt]=Rt[xt]%24*3,Mt[It[0]]=Mt[xt]}return function(Lt,Ot,Ft){for(var Ut=(Lt+Ot+Ft)*lt,Wt=Lt+Ut,Kt=Ot+Ut,Qt=Ft+Ut,Zt=Math.floor(Wt),Vt=Math.floor(Kt),$t=Math.floor(Qt),zt=(Zt+Vt+$t)*it,Nt=Lt-(Zt+zt),qt=Ot-(Vt+zt),Gt=Ft-($t+zt),Ht=Wt-Zt,Xt=Kt-Vt,Bt=Qt-$t,nr=Ht+Xt+Bt,rr=Xt-Bt+1|Ht-Xt+1<<1|Ht-Bt+1<<2|nr<<3|nr+Bt<<5|nr+Xt<<7|nr+Ht<<9,Jt=0,ir=St[rr];ir!==void 0;ir=ir.next){var ar=Nt+ir.dx,cr=qt+ir.dy,dr=Gt+ir.dz,xr=2-ar*ar-cr*cr-dr*dr;if(xr>0){var br=Zt+ir.xsb,_r=Vt+ir.ysb,Er=$t+ir.zsb,Rr=Rt[br&255],Lr=Rt[Rr+_r&255],Mr=Tt[Lr+Er&255],Fr=ft[Mr]*ar+ft[Mr+1]*cr+ft[Mr+2]*dr;Jt+=xr*xr*xr*xr*Fr}}return Jt*rt}}_3d.makeNoise3D=ut;var ht=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],ft=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],pt=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],mt=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0];return _3d}var _4d={},hasRequired_4d;function require_4d(){if(hasRequired_4d)return _4d;hasRequired_4d=1,Object.defineProperty(_4d,"__esModule",{value:!0}),_4d.makeNoise4D=void 0;var Ye=requireShuffle_seed(),rt=1/30,it=(Math.sqrt(5)-1)/4,lt=(1/Math.sqrt(5)-1)/4;function ct(gt,yt,xt,bt,_t){return{dx:-yt-gt*it,dy:-xt-gt*it,dz:-bt-gt*it,dw:-_t-gt*it,xsb:yt,ysb:xt,zsb:bt,wsb:_t}}function ut(gt){for(var yt=[],xt=0;xt<mt.length;xt+=16){for(var bt=ht[mt[xt]],_t=null,Ct=null,kt=0;kt<bt.length;kt+=5)Ct=ct(bt[kt],bt[kt+1],bt[kt+2],bt[kt+3],bt[kt+4]),_t===null?yt[xt/16]=Ct:_t.next=Ct,_t=Ct;Ct.next=ct(mt[xt+1],mt[xt+2],mt[xt+3],mt[xt+4],mt[xt+5]),Ct.next.next=ct(mt[xt+6],mt[xt+7],mt[xt+8],mt[xt+9],mt[xt+10]),Ct.next.next.next=ct(mt[xt+11],mt[xt+12],mt[xt+13],mt[xt+14],mt[xt+15])}for(var St=[],xt=0;xt<pt.length;xt+=2)St[pt[xt]]=yt[pt[xt+1]];for(var Rt=new Uint8Array(256),Tt=new Uint8Array(256),Mt=new Uint8Array(256),xt=0;xt<256;xt++)Mt[xt]=xt;var Pt=new Uint32Array(1);Pt[0]=gt,Pt=Ye.default(Ye.default(Ye.default(Pt)));for(var xt=255;xt>=0;xt--){Pt=Ye.default(Pt);var It=new Uint32Array(1);It[0]=(Pt[0]+31)%(xt+1),It[0]<0&&(It[0]+=xt+1),Rt[xt]=Mt[It[0]],Tt[xt]=Rt[xt]&252,Mt[It[0]]=Mt[xt]}return function(Lt,Ot,Ft,Ut){for(var Wt=(Lt+Ot+Ft+Ut)*lt,Kt=Lt+Wt,Qt=Ot+Wt,Zt=Ft+Wt,Vt=Ut+Wt,$t=Math.floor(Kt),zt=Math.floor(Qt),Nt=Math.floor(Zt),qt=Math.floor(Vt),Gt=($t+zt+Nt+qt)*it,Ht=Lt-($t+Gt),Xt=Ot-(zt+Gt),Bt=Ft-(Nt+Gt),nr=Ut-(qt+Gt),rr=Kt-$t,Jt=Qt-zt,ir=Zt-Nt,ar=Vt-qt,cr=rr+Jt+ir+ar,dr=ir-ar+1|Jt-ir+1<<1|Jt-ar+1<<2|rr-Jt+1<<3|rr-ir+1<<4|rr-ar+1<<5|cr<<6|cr+ar<<8|cr+ir<<11|cr+Jt<<14|cr+rr<<17,xr=0,br=St[dr];br!==void 0;br=br.next){var _r=Ht+br.dx,Er=Xt+br.dy,Rr=Bt+br.dz,Lr=nr+br.dw,Mr=2-_r*_r-Er*Er-Rr*Rr-Lr*Lr;if(Mr>0){var Fr=$t+br.xsb,Xr=zt+br.ysb,Jr=Nt+br.zsb,Kr=qt+br.wsb,nn=Rt[Fr&255],Qr=Rt[nn+Xr&255],Zr=Rt[Qr+Jr&255],sn=Tt[Zr+Kr&255],yr=ft[sn]*_r+ft[sn+1]*Er+ft[sn+2]*Rr+ft[sn+3]*Lr;xr+=Mr*Mr*Mr*Mr*yr}}return xr*rt}}_4d.makeNoise4D=ut;var ht=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],ft=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],pt=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],mt=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1];return _4d}var hasRequiredMod;function requireMod(){return hasRequiredMod||(hasRequiredMod=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.makeNoise4D=Ye.makeNoise3D=Ye.makeNoise2D=void 0;var rt=require_2d();Object.defineProperty(Ye,"makeNoise2D",{enumerable:!0,get:function(){return rt.makeNoise2D}});var it=require_3d();Object.defineProperty(Ye,"makeNoise3D",{enumerable:!0,get:function(){return it.makeNoise3D}});var lt=require_4d();Object.defineProperty(Ye,"makeNoise4D",{enumerable:!0,get:function(){return lt.makeNoise4D}})})(mod)),mod}var modExports=requireMod();function useAsciiEngine(Ye){const[rt,it]=reactExports.useState(Ye?.initialMode??"noise"),[lt,ct]=reactExports.useState("@%#*+=-:. "),[ut,ht]=reactExports.useState(0),[ft,pt]=reactExports.useState(Ye?.initialColumns??50),[mt,gt]=reactExports.useState(Ye?.initialRows??30),[yt]=reactExports.useState(20),[xt,bt]=reactExports.useState(!1),_t=reactExports.useMemo(()=>[" ","","","o p e n a i ","","-=:. ","","C O D E X",". ","WMBRXVIl. ","#A*-. "," "],[]);reactExports.useEffect(()=>{typeof Ye?.initialColumns=="number"&&pt(Ye.initialColumns)},[Ye?.initialColumns]),reactExports.useEffect(()=>{typeof Ye?.initialRows=="number"&&gt(Ye.initialRows)},[Ye?.initialRows]);const Ct=reactExports.useRef(null),kt=reactExports.useRef(null),St=reactExports.useRef(null),[Rt,Tt]=reactExports.useState([]),Mt=reactExports.useRef(0),Pt=reactExports.useRef(Ye?.preferredVideoKeyword),It=reactExports.useMemo(()=>modExports.makeNoise3D(Date.now()),[]),Lt=reactExports.useRef(0),Ot=reactExports.useRef(null),Ft=reactExports.useRef(0),Ut=reactExports.useRef(""),Wt=reactExports.useRef(null),Kt=reactExports.useCallback((Jt,ir,ar)=>{const dr=[];for(let xr=0;xr<ir;xr++){const br=[];for(let _r=0;_r<Jt;_r++){const Rr=(It(_r*.15,xr*.15,ar)+1)/2*255;br.push(Math.round(Rr))}dr.push(br)}return dr},[It]),Qt=reactExports.useCallback((Jt,ir)=>{const ar=Jt.length,cr=ar>0?Jt[0].length:0,dr=Jt.map(xr=>xr.slice());for(let xr=0;xr<ar;xr++)for(let br=0;br<cr;br++){const _r=dr[xr][br],Rr=Math.round(_r/255*(ir-1))*(255/(ir-1));dr[xr][br]=Rr;const Lr=_r-Rr;br+1<cr&&(dr[xr][br+1]+=Lr*7/16),xr+1<ar&&br>0&&(dr[xr+1][br-1]+=Lr*3/16),xr+1<ar&&(dr[xr+1][br]+=Lr*5/16),xr+1<ar&&br+1<cr&&(dr[xr+1][br+1]+=Lr*1/16)}for(let xr=0;xr<ar;xr++)for(let br=0;br<cr;br++)dr[xr][br]=Math.max(0,Math.min(255,dr[xr][br]));return dr},[]),Zt=reactExports.useCallback(()=>{const Jt=Ct.current,ir=kt.current,ar=St.current;if(!Jt||!ir||!ar)return;const cr=Jt.videoWidth,dr=Jt.videoHeight;if(!Number.isFinite(cr)||!Number.isFinite(dr)||cr<2||dr<2)return;const xr=ft,br=mt,Rr=18/9,Lr=xr/Math.max(1,br*Rr),Mr=cr/dr;let Fr,Xr,Jr,Kr;Mr>Lr?(Kr=dr,Jr=Math.max(1,dr*Lr),Fr=Math.max(0,(cr-Jr)/2),Xr=0):(Jr=cr,Kr=Math.max(1,cr/Lr),Fr=0,Xr=Math.max(0,(dr-Kr)/2));try{ar.drawImage(Jt,Fr,Xr,Jr,Kr,0,0,xr,br)}catch{}},[ft,mt]),Vt=reactExports.useCallback(()=>{const Jt=kt.current,ir=St.current;if(!Jt||!ir)return[];const ar=ir.getImageData(0,0,ft,mt).data,cr=[];for(let dr=0;dr<mt;dr++){const xr=[];for(let br=0;br<ft;br++){const _r=(dr*ft+br)*4,Er=ar[_r],Rr=ar[_r+1],Lr=ar[_r+2],Mr=.299*Er+.587*Rr+.114*Lr;xr.push(Math.round(Mr))}cr.push(xr)}return cr},[ft,mt]),$t=reactExports.useCallback(Jt=>{const ir=kt.current,ar=St.current;if(!ir||!ar)return[];const cr=ar.getImageData(0,0,ft,mt).data,dr=[];for(let _r=0;_r<mt;_r++){const Er=[];for(let Rr=0;Rr<ft;Rr++){const Lr=(_r*ft+Rr)*4,Mr=cr[Lr],Fr=cr[Lr+1],Xr=cr[Lr+2],Jr=.299*Mr+.587*Fr+.114*Xr;Er.push(Math.round(Jr))}dr.push(Er)}const xr=Qt(dr,lt.length),br=[];for(let _r=0;_r<mt;_r++){let Er="";for(let Rr=0;Rr<ft;Rr++){let Lr=Math.round(Jt?xr[_r][Rr]/255*(lt.length-1):(1-xr[_r][Rr]/255)*(lt.length-1));Number.isNaN(Lr)&&(Lr=0),Lr=Math.max(0,Math.min(lt.length-1,Lr)),Er+=lt[Lr]}br.push(Er)}return br},[lt,ft,mt,Qt]),zt=reactExports.useCallback(()=>{const Jt=Ct.current;if(!Jt)return!1;const ir=Number.isFinite(Jt.videoWidth)&&Number.isFinite(Jt.videoHeight)&&Jt.videoWidth>1&&Jt.videoHeight>1,ar=(Jt.readyState??0)>=2;return ir&&ar&&!Jt.paused},[]),Nt=reactExports.useCallback(()=>{kt.current||(kt.current=document.createElement("canvas"),kt.current.style.display="none",document.body.appendChild(kt.current)),St.current||(St.current=kt.current.getContext("2d",{willReadFrequently:!0})),kt.current&&(kt.current.width=ft,kt.current.height=mt);let Jt=[];if(rt==="video")if(zt())Zt(),Jt=$t(!0);else{const ir=Kt(ft,mt,Lt.current),ar=Qt(ir,lt.length);for(let cr=0;cr<mt;cr++){let dr="";for(let xr=0;xr<ft;xr++){let br=Math.round((1-ar[cr][xr]/255)*(lt.length-1));Number.isNaN(br)&&(br=0),br=Math.max(0,Math.min(lt.length-1,br)),dr+=lt[br]}Jt.push(dr)}}else if(rt==="composite"){const ir=Kt(ft,mt,Lt.current),ar=Qt(ir,lt.length),cr=[];for(let dr=0;dr<mt;dr++){let xr="";for(let br=0;br<ft;br++){let _r=Math.round((1-ar[dr][br]/255)*(lt.length-1));Number.isNaN(_r)&&(_r=0),_r=Math.max(0,Math.min(lt.length-1,_r)),xr+=lt[_r]}cr.push(xr)}if(zt()){Zt();const dr=$t(!0),xr=Vt(),br=110,_r=[];for(let Er=0;Er<mt;Er++){let Rr="";for(let Lr=0;Lr<ft;Lr++){const Mr=(xr[Er]?.[Lr]??0)>br;Rr+=Mr?dr[Er][Lr]:cr[Er][Lr]}_r.push(Rr)}Jt=_r}else Jt=cr}else{const ir=Kt(ft,mt,Lt.current),ar=Qt(ir,lt.length);for(let cr=0;cr<mt;cr++){let dr="";for(let xr=0;xr<ft;xr++){let br=Math.round((1-ar[cr][xr]/255)*(lt.length-1));Number.isNaN(br)&&(br=0),br=Math.max(0,Math.min(lt.length-1,br)),dr+=lt[br]}Jt.push(dr)}}return(!Jt.length||Jt.every(ir=>!ir.trim()))&&(Jt=new Array(mt).fill("@".repeat(ft))),Lt.current+=.03,Jt},[lt,ft,mt,Zt,$t,Kt,Qt,rt,zt,Vt]),qt=reactExports.useCallback(()=>{if(!Rt.length)return"";const Jt=Mt.current%Rt.length;return Mt.current=(Mt.current+1)%Math.max(1,Rt.length),Rt[Jt]},[Rt]),Gt=reactExports.useCallback(async(Jt=!1)=>{if(!Ct.current){const cr=document.createElement("video");cr.style.display="none",cr.loop=!0,cr.muted=!0,cr.setAttribute("playsinline",""),document.body.appendChild(cr),Ct.current=cr}const ir=Ct.current;ir.muted=!0,ir.setAttribute("playsinline","");const ar=()=>{if(!Pt.current)return"";const cr=Pt.current.toLowerCase();return Rt.find(xr=>xr.toLowerCase().includes(cr))||""};if(Jt){const dr=ar()||qt();if(dr){try{const br=await(await fetch(dr)).blob(),_r=URL.createObjectURL(br);if(Wt.current)try{URL.revokeObjectURL(Wt.current)}catch{}Wt.current=_r,ir.src=_r}catch{}ir.loop=!0}}else if(!ir.src){const dr=ar()||qt();if(dr){try{const br=await(await fetch(dr)).blob(),_r=URL.createObjectURL(br);if(Wt.current)try{URL.revokeObjectURL(Wt.current)}catch{}Wt.current=_r,ir.src=_r}catch{}ir.loop=!0}}try{(ir.readyState??0)<2&&await new Promise(cr=>{const dr=()=>{ir.removeEventListener("loadeddata",dr),cr()};ir.addEventListener("loadeddata",dr,{once:!0})}),ir.paused&&await ir.play()}catch{}kt.current||(kt.current=document.createElement("canvas"),kt.current.style.display="none",document.body.appendChild(kt.current)),!St.current&&kt.current&&(St.current=kt.current.getContext("2d",{willReadFrequently:!0}))},[qt,Rt]),Ht=reactExports.useCallback(()=>{if(!Ct.current){const Jt=document.createElement("video");Jt.style.display="none",Jt.loop=!0,Jt.muted=!0,Jt.setAttribute("playsinline",""),document.body.appendChild(Jt),Ct.current=Jt}kt.current||(kt.current=document.createElement("canvas"),kt.current.style.display="none",document.body.appendChild(kt.current)),!St.current&&kt.current&&(St.current=kt.current.getContext("2d",{willReadFrequently:!0}))},[]),Xt=reactExports.useCallback(async()=>{Ht();const Jt=Ct.current;if(!Jt||!Rt.length)return;const ir=Jt.src||"";let ar=Rt.findIndex(xr=>ir.endsWith(xr)||ir===xr||ir.includes(xr));ar<0&&(ar=Mt.current%Math.max(1,Rt.length));const cr=(ar+1)%Rt.length;Mt.current=cr;const dr=Rt[cr];if(dr)try{const br=await(await fetch(dr)).blob(),_r=URL.createObjectURL(br);if(Wt.current)try{URL.revokeObjectURL(Wt.current)}catch{}Wt.current=_r,Jt.src=_r}catch{}Jt.loop=!0,Jt.muted=!0;try{await Jt.play()}catch{}},[Ht,Rt]);reactExports.useEffect(()=>{(async()=>{try{const ir=Object.values(Object.assign({}));Tt(ir)}catch{}})()},[]),reactExports.useEffect(()=>{const Jt=ir=>{if(ir.metaKey&&(ir.key==="/"||ir.key==="?"||ir.code==="Slash")){if(ir.preventDefault(),ir.repeat)return;const ar=rt==="video"?"noise":"video";it(ar),ar==="video"&&(Gt(!0),Ft.current=0);return}if(ir.metaKey&&ir.key==="."){if(ir.preventDefault(),ir.repeat)return;const ar=(ut+1)%_t.length;ht(ar),ct(_t[ar]);return}if(ir.metaKey&&ir.key.toLowerCase()==="m"||ir.metaKey&&ir.shiftKey&&ir.key.toLowerCase()==="m"||ir.altKey&&ir.key.toLowerCase()==="m"){if(ir.preventDefault(),ir.repeat)return;rt!=="video"?(it("video"),Gt(!0)):Xt();return}};return window.addEventListener("keydown",Jt),()=>{window.removeEventListener("keydown",Jt)}},[ut,_t,Xt,Gt,rt,it]),reactExports.useEffect(()=>{const Jt=1e3/yt,ir=cr=>{try{if(document.hidden)return;if(cr-Ft.current>=Jt-1){const dr=Nt(),xr=dr.join(`
`);xr!==Ut.current&&(Ut.current=xr,rr(dr)),Ft.current=cr}}catch{}finally{Ot.current=window.requestAnimationFrame(ir)}};Ot.current=window.requestAnimationFrame(ir);const ar=()=>{document.hidden||(Ft.current=0)};return document.addEventListener("visibilitychange",ar),()=>{Ot.current!=null&&(window.cancelAnimationFrame(Ot.current),Ot.current=null),document.removeEventListener("visibilitychange",ar)}},[Nt,yt]),reactExports.useEffect(()=>()=>{try{const Jt=Ct.current;if(Jt){try{Jt.paused||Jt.pause()}catch{}Jt.srcObject=null;try{Jt.remove()}catch{}}}catch{}if(kt.current)try{kt.current.remove()}catch{}if(Wt.current){try{URL.revokeObjectURL(Wt.current)}catch{}Wt.current=null}Ct.current=null,kt.current=null,St.current=null},[]);const Bt=reactExports.useRef("noise"),[nr,rr]=reactExports.useState([]);return reactExports.useEffect(()=>{const Jt=Bt.current;(rt==="video"||rt==="composite")&&Gt(Jt!==rt),Bt.current=rt},[rt,Gt]),reactExports.useEffect(()=>{(rt==="video"||rt==="composite")&&Rt.length&&Gt(!0)},[Rt,rt,Gt]),{mode:rt,setMode:it,asciiChars:lt,setAsciiChars:ct,columns:ft,setColumns:pt,rows:mt,setRows:gt,lines:nr,showControls:xt,setShowControls:bt}}var extendStatics=function(Ye,rt){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,lt){it.__proto__=lt}||function(it,lt){for(var ct in lt)Object.prototype.hasOwnProperty.call(lt,ct)&&(it[ct]=lt[ct])},extendStatics(Ye,rt)};function __extends(Ye,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Class extends value "+String(rt)+" is not a constructor or null");extendStatics(Ye,rt);function it(){this.constructor=Ye}Ye.prototype=rt===null?Object.create(rt):(it.prototype=rt.prototype,new it)}var __assign=function(){return __assign=Object.assign||function(rt){for(var it,lt=1,ct=arguments.length;lt<ct;lt++){it=arguments[lt];for(var ut in it)Object.prototype.hasOwnProperty.call(it,ut)&&(rt[ut]=it[ut])}return rt},__assign.apply(this,arguments)};function __rest(Ye,rt){var it={};for(var lt in Ye)Object.prototype.hasOwnProperty.call(Ye,lt)&&rt.indexOf(lt)<0&&(it[lt]=Ye[lt]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,lt=Object.getOwnPropertySymbols(Ye);ct<lt.length;ct++)rt.indexOf(lt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Ye,lt[ct])&&(it[lt[ct]]=Ye[lt[ct]]);return it}function __spreadArray(Ye,rt,it){if(it||arguments.length===2)for(var lt=0,ct=rt.length,ut;lt<ct;lt++)(ut||!(lt in rt))&&(ut||(ut=Array.prototype.slice.call(rt,0,lt)),ut[lt]=rt[lt]);return Ye.concat(ut||Array.prototype.slice.call(rt))}typeof SuppressedError=="function"&&SuppressedError;function memoize$2(Ye,rt){var it=rt&&rt.cache?rt.cache:cacheDefault,lt=rt&&rt.serializer?rt.serializer:serializerDefault,ct=rt&&rt.strategy?rt.strategy:strategyDefault;return ct(Ye,{cache:it,serializer:lt})}function isPrimitive$1(Ye){return Ye==null||typeof Ye=="number"||typeof Ye=="boolean"}function monadic(Ye,rt,it,lt){var ct=isPrimitive$1(lt)?lt:it(lt),ut=rt.get(ct);return typeof ut>"u"&&(ut=Ye.call(this,lt),rt.set(ct,ut)),ut}function variadic(Ye,rt,it){var lt=Array.prototype.slice.call(arguments,3),ct=it(lt),ut=rt.get(ct);return typeof ut>"u"&&(ut=Ye.apply(this,lt),rt.set(ct,ut)),ut}function assemble(Ye,rt,it,lt,ct){return it.bind(rt,Ye,lt,ct)}function strategyDefault(Ye,rt){var it=Ye.length===1?monadic:variadic;return assemble(Ye,this,it,rt.cache.create(),rt.serializer)}function strategyVariadic(Ye,rt){return assemble(Ye,this,variadic,rt.cache.create(),rt.serializer)}var serializerDefault=function(){return JSON.stringify(arguments)},ObjectWithoutPrototypeCache=(function(){function Ye(){this.cache=Object.create(null)}return Ye.prototype.get=function(rt){return this.cache[rt]},Ye.prototype.set=function(rt,it){this.cache[rt]=it},Ye})(),cacheDefault={create:function(){return new ObjectWithoutPrototypeCache}},strategies={variadic:strategyVariadic},ErrorKind;(function(Ye){Ye[Ye.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",Ye[Ye.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",Ye[Ye.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",Ye[Ye.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",Ye[Ye.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",Ye[Ye.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",Ye[Ye.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",Ye[Ye.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",Ye[Ye.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",Ye[Ye.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",Ye[Ye.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",Ye[Ye.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",Ye[Ye.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",Ye[Ye.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",Ye[Ye.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",Ye[Ye.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",Ye[Ye.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",Ye[Ye.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",Ye[Ye.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",Ye[Ye.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",Ye[Ye.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",Ye[Ye.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",Ye[Ye.INVALID_TAG=23]="INVALID_TAG",Ye[Ye.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",Ye[Ye.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",Ye[Ye.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ErrorKind||(ErrorKind={}));var TYPE$1;(function(Ye){Ye[Ye.literal=0]="literal",Ye[Ye.argument=1]="argument",Ye[Ye.number=2]="number",Ye[Ye.date=3]="date",Ye[Ye.time=4]="time",Ye[Ye.select=5]="select",Ye[Ye.plural=6]="plural",Ye[Ye.pound=7]="pound",Ye[Ye.tag=8]="tag"})(TYPE$1||(TYPE$1={}));var SKELETON_TYPE;(function(Ye){Ye[Ye.number=0]="number",Ye[Ye.dateTime=1]="dateTime"})(SKELETON_TYPE||(SKELETON_TYPE={}));function isLiteralElement(Ye){return Ye.type===TYPE$1.literal}function isArgumentElement(Ye){return Ye.type===TYPE$1.argument}function isNumberElement(Ye){return Ye.type===TYPE$1.number}function isDateElement(Ye){return Ye.type===TYPE$1.date}function isTimeElement(Ye){return Ye.type===TYPE$1.time}function isSelectElement(Ye){return Ye.type===TYPE$1.select}function isPluralElement(Ye){return Ye.type===TYPE$1.plural}function isPoundElement(Ye){return Ye.type===TYPE$1.pound}function isTagElement(Ye){return Ye.type===TYPE$1.tag}function isNumberSkeleton(Ye){return!!(Ye&&typeof Ye=="object"&&Ye.type===SKELETON_TYPE.number)}function isDateTimeSkeleton(Ye){return!!(Ye&&typeof Ye=="object"&&Ye.type===SKELETON_TYPE.dateTime)}var SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(Ye){var rt={};return Ye.replace(DATE_TIME_REGEX,function(it){var lt=it.length;switch(it[0]){case"G":rt.era=lt===4?"long":lt===5?"narrow":"short";break;case"y":rt.year=lt===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":rt.month=["numeric","2-digit","short","long","narrow"][lt-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":rt.day=["numeric","2-digit"][lt-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":rt.weekday=lt===4?"long":lt===5?"narrow":"short";break;case"e":if(lt<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");rt.weekday=["short","long","narrow","short"][lt-4];break;case"c":if(lt<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");rt.weekday=["short","long","narrow","short"][lt-4];break;case"a":rt.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":rt.hourCycle="h12",rt.hour=["numeric","2-digit"][lt-1];break;case"H":rt.hourCycle="h23",rt.hour=["numeric","2-digit"][lt-1];break;case"K":rt.hourCycle="h11",rt.hour=["numeric","2-digit"][lt-1];break;case"k":rt.hourCycle="h24",rt.hour=["numeric","2-digit"][lt-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":rt.minute=["numeric","2-digit"][lt-1];break;case"s":rt.second=["numeric","2-digit"][lt-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":rt.timeZoneName=lt<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),rt}var WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function parseNumberSkeletonFromString(Ye){if(Ye.length===0)throw new Error("Number skeleton cannot be empty");for(var rt=Ye.split(WHITE_SPACE_REGEX).filter(function(xt){return xt.length>0}),it=[],lt=0,ct=rt;lt<ct.length;lt++){var ut=ct[lt],ht=ut.split("/");if(ht.length===0)throw new Error("Invalid number skeleton");for(var ft=ht[0],pt=ht.slice(1),mt=0,gt=pt;mt<gt.length;mt++){var yt=gt[mt];if(yt.length===0)throw new Error("Invalid number skeleton")}it.push({stem:ft,options:pt})}return it}function icuUnitToEcma(Ye){return Ye.replace(/^(.*?)-/,"")}var FRACTION_PRECISION_REGEX=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,SIGNIFICANT_PRECISION_REGEX=/^(@+)?(\+|#+)?[rs]?$/g,INTEGER_WIDTH_REGEX=/(\*)(0+)|(#+)(0+)|(0+)/g,CONCISE_INTEGER_WIDTH_REGEX=/^(0+)$/;function parseSignificantPrecision(Ye){var rt={};return Ye[Ye.length-1]==="r"?rt.roundingPriority="morePrecision":Ye[Ye.length-1]==="s"&&(rt.roundingPriority="lessPrecision"),Ye.replace(SIGNIFICANT_PRECISION_REGEX,function(it,lt,ct){return typeof ct!="string"?(rt.minimumSignificantDigits=lt.length,rt.maximumSignificantDigits=lt.length):ct==="+"?rt.minimumSignificantDigits=lt.length:lt[0]==="#"?rt.maximumSignificantDigits=lt.length:(rt.minimumSignificantDigits=lt.length,rt.maximumSignificantDigits=lt.length+(typeof ct=="string"?ct.length:0)),""}),rt}function parseSign(Ye){switch(Ye){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function parseConciseScientificAndEngineeringStem(Ye){var rt;if(Ye[0]==="E"&&Ye[1]==="E"?(rt={notation:"engineering"},Ye=Ye.slice(2)):Ye[0]==="E"&&(rt={notation:"scientific"},Ye=Ye.slice(1)),rt){var it=Ye.slice(0,2);if(it==="+!"?(rt.signDisplay="always",Ye=Ye.slice(2)):it==="+?"&&(rt.signDisplay="exceptZero",Ye=Ye.slice(2)),!CONCISE_INTEGER_WIDTH_REGEX.test(Ye))throw new Error("Malformed concise eng/scientific notation");rt.minimumIntegerDigits=Ye.length}return rt}function parseNotationOptions(Ye){var rt={},it=parseSign(Ye);return it||rt}function parseNumberSkeleton(Ye){for(var rt={},it=0,lt=Ye;it<lt.length;it++){var ct=lt[it];switch(ct.stem){case"percent":case"%":rt.style="percent";continue;case"%x100":rt.style="percent",rt.scale=100;continue;case"currency":rt.style="currency",rt.currency=ct.options[0];continue;case"group-off":case",_":rt.useGrouping=!1;continue;case"precision-integer":case".":rt.maximumFractionDigits=0;continue;case"measure-unit":case"unit":rt.style="unit",rt.unit=icuUnitToEcma(ct.options[0]);continue;case"compact-short":case"K":rt.notation="compact",rt.compactDisplay="short";continue;case"compact-long":case"KK":rt.notation="compact",rt.compactDisplay="long";continue;case"scientific":rt=__assign(__assign(__assign({},rt),{notation:"scientific"}),ct.options.reduce(function(pt,mt){return __assign(__assign({},pt),parseNotationOptions(mt))},{}));continue;case"engineering":rt=__assign(__assign(__assign({},rt),{notation:"engineering"}),ct.options.reduce(function(pt,mt){return __assign(__assign({},pt),parseNotationOptions(mt))},{}));continue;case"notation-simple":rt.notation="standard";continue;case"unit-width-narrow":rt.currencyDisplay="narrowSymbol",rt.unitDisplay="narrow";continue;case"unit-width-short":rt.currencyDisplay="code",rt.unitDisplay="short";continue;case"unit-width-full-name":rt.currencyDisplay="name",rt.unitDisplay="long";continue;case"unit-width-iso-code":rt.currencyDisplay="symbol";continue;case"scale":rt.scale=parseFloat(ct.options[0]);continue;case"rounding-mode-floor":rt.roundingMode="floor";continue;case"rounding-mode-ceiling":rt.roundingMode="ceil";continue;case"rounding-mode-down":rt.roundingMode="trunc";continue;case"rounding-mode-up":rt.roundingMode="expand";continue;case"rounding-mode-half-even":rt.roundingMode="halfEven";continue;case"rounding-mode-half-down":rt.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":rt.roundingMode="halfExpand";continue;case"integer-width":if(ct.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");ct.options[0].replace(INTEGER_WIDTH_REGEX,function(pt,mt,gt,yt,xt,bt){if(mt)rt.minimumIntegerDigits=gt.length;else{if(yt&&xt)throw new Error("We currently do not support maximum integer digits");if(bt)throw new Error("We currently do not support exact integer digits")}return""});continue}if(CONCISE_INTEGER_WIDTH_REGEX.test(ct.stem)){rt.minimumIntegerDigits=ct.stem.length;continue}if(FRACTION_PRECISION_REGEX.test(ct.stem)){if(ct.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");ct.stem.replace(FRACTION_PRECISION_REGEX,function(pt,mt,gt,yt,xt,bt){return gt==="*"?rt.minimumFractionDigits=mt.length:yt&&yt[0]==="#"?rt.maximumFractionDigits=yt.length:xt&&bt?(rt.minimumFractionDigits=xt.length,rt.maximumFractionDigits=xt.length+bt.length):(rt.minimumFractionDigits=mt.length,rt.maximumFractionDigits=mt.length),""});var ut=ct.options[0];ut==="w"?rt=__assign(__assign({},rt),{trailingZeroDisplay:"stripIfInteger"}):ut&&(rt=__assign(__assign({},rt),parseSignificantPrecision(ut)));continue}if(SIGNIFICANT_PRECISION_REGEX.test(ct.stem)){rt=__assign(__assign({},rt),parseSignificantPrecision(ct.stem));continue}var ht=parseSign(ct.stem);ht&&(rt=__assign(__assign({},rt),ht));var ft=parseConciseScientificAndEngineeringStem(ct.stem);ft&&(rt=__assign(__assign({},rt),ft))}return rt}var timeData={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function getBestPattern(Ye,rt){for(var it="",lt=0;lt<Ye.length;lt++){var ct=Ye.charAt(lt);if(ct==="j"){for(var ut=0;lt+1<Ye.length&&Ye.charAt(lt+1)===ct;)ut++,lt++;var ht=1+(ut&1),ft=ut<2?1:3+(ut>>1),pt="a",mt=getDefaultHourSymbolFromLocale(rt);for((mt=="H"||mt=="k")&&(ft=0);ft-- >0;)it+=pt;for(;ht-- >0;)it=mt+it}else ct==="J"?it+="H":it+=ct}return it}function getDefaultHourSymbolFromLocale(Ye){var rt=Ye.hourCycle;if(rt===void 0&&Ye.hourCycles&&Ye.hourCycles.length&&(rt=Ye.hourCycles[0]),rt)switch(rt){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var it=Ye.language,lt;it!=="root"&&(lt=Ye.maximize().region);var ct=timeData[lt||""]||timeData[it||""]||timeData["".concat(it,"-001")]||timeData["001"];return ct[0]}var _a,SPACE_SEPARATOR_START_REGEX=new RegExp("^".concat(SPACE_SEPARATOR_REGEX.source,"*")),SPACE_SEPARATOR_END_REGEX=new RegExp("".concat(SPACE_SEPARATOR_REGEX.source,"*$"));function createLocation$1(Ye,rt){return{start:Ye,end:rt}}var hasNativeStartsWith=!!String.prototype.startsWith&&"_a".startsWith("a",1),hasNativeFromCodePoint=!!String.fromCodePoint,hasNativeFromEntries=!!Object.fromEntries,hasNativeCodePointAt=!!String.prototype.codePointAt,hasTrimStart=!!String.prototype.trimStart,hasTrimEnd=!!String.prototype.trimEnd,hasNativeIsSafeInteger=!!Number.isSafeInteger,isSafeInteger=hasNativeIsSafeInteger?Number.isSafeInteger:function(Ye){return typeof Ye=="number"&&isFinite(Ye)&&Math.floor(Ye)===Ye&&Math.abs(Ye)<=9007199254740991},REGEX_SUPPORTS_U_AND_Y=!0;try{var re$3=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");REGEX_SUPPORTS_U_AND_Y=((_a=re$3.exec("a"))===null||_a===void 0?void 0:_a[0])==="a"}catch{REGEX_SUPPORTS_U_AND_Y=!1}var startsWith=hasNativeStartsWith?function(rt,it,lt){return rt.startsWith(it,lt)}:function(rt,it,lt){return rt.slice(lt,lt+it.length)===it},fromCodePoint=hasNativeFromCodePoint?String.fromCodePoint:function(){for(var rt=[],it=0;it<arguments.length;it++)rt[it]=arguments[it];for(var lt="",ct=rt.length,ut=0,ht;ct>ut;){if(ht=rt[ut++],ht>1114111)throw RangeError(ht+" is not a valid code point");lt+=ht<65536?String.fromCharCode(ht):String.fromCharCode(((ht-=65536)>>10)+55296,ht%1024+56320)}return lt},fromEntries=hasNativeFromEntries?Object.fromEntries:function(rt){for(var it={},lt=0,ct=rt;lt<ct.length;lt++){var ut=ct[lt],ht=ut[0],ft=ut[1];it[ht]=ft}return it},codePointAt$1=hasNativeCodePointAt?function(rt,it){return rt.codePointAt(it)}:function(rt,it){var lt=rt.length;if(!(it<0||it>=lt)){var ct=rt.charCodeAt(it),ut;return ct<55296||ct>56319||it+1===lt||(ut=rt.charCodeAt(it+1))<56320||ut>57343?ct:(ct-55296<<10)+(ut-56320)+65536}},trimStart=hasTrimStart?function(rt){return rt.trimStart()}:function(rt){return rt.replace(SPACE_SEPARATOR_START_REGEX,"")},trimEnd=hasTrimEnd?function(rt){return rt.trimEnd()}:function(rt){return rt.replace(SPACE_SEPARATOR_END_REGEX,"")};function RE(Ye,rt){return new RegExp(Ye,rt)}var matchIdentifierAtIndex;if(REGEX_SUPPORTS_U_AND_Y){var IDENTIFIER_PREFIX_RE_1=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");matchIdentifierAtIndex=function(rt,it){var lt;IDENTIFIER_PREFIX_RE_1.lastIndex=it;var ct=IDENTIFIER_PREFIX_RE_1.exec(rt);return(lt=ct[1])!==null&&lt!==void 0?lt:""}}else matchIdentifierAtIndex=function(rt,it){for(var lt=[];;){var ct=codePointAt$1(rt,it);if(ct===void 0||_isWhiteSpace(ct)||_isPatternSyntax(ct))break;lt.push(ct),it+=ct>=65536?2:1}return fromCodePoint.apply(void 0,lt)};var Parser=(function(){function Ye(rt,it){it===void 0&&(it={}),this.message=rt,this.position={offset:0,line:1,column:1},this.ignoreTag=!!it.ignoreTag,this.locale=it.locale,this.requiresOtherClause=!!it.requiresOtherClause,this.shouldParseSkeletons=!!it.shouldParseSkeletons}return Ye.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},Ye.prototype.parseMessage=function(rt,it,lt){for(var ct=[];!this.isEOF();){var ut=this.char();if(ut===123){var ht=this.parseArgument(rt,lt);if(ht.err)return ht;ct.push(ht.val)}else{if(ut===125&&rt>0)break;if(ut===35&&(it==="plural"||it==="selectordinal")){var ft=this.clonePosition();this.bump(),ct.push({type:TYPE$1.pound,location:createLocation$1(ft,this.clonePosition())})}else if(ut===60&&!this.ignoreTag&&this.peek()===47){if(lt)break;return this.error(ErrorKind.UNMATCHED_CLOSING_TAG,createLocation$1(this.clonePosition(),this.clonePosition()))}else if(ut===60&&!this.ignoreTag&&_isAlpha(this.peek()||0)){var ht=this.parseTag(rt,it);if(ht.err)return ht;ct.push(ht.val)}else{var ht=this.parseLiteral(rt,it);if(ht.err)return ht;ct.push(ht.val)}}}return{val:ct,err:null}},Ye.prototype.parseTag=function(rt,it){var lt=this.clonePosition();this.bump();var ct=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:TYPE$1.literal,value:"<".concat(ct,"/>"),location:createLocation$1(lt,this.clonePosition())},err:null};if(this.bumpIf(">")){var ut=this.parseMessage(rt+1,it,!0);if(ut.err)return ut;var ht=ut.val,ft=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!_isAlpha(this.char()))return this.error(ErrorKind.INVALID_TAG,createLocation$1(ft,this.clonePosition()));var pt=this.clonePosition(),mt=this.parseTagName();return ct!==mt?this.error(ErrorKind.UNMATCHED_CLOSING_TAG,createLocation$1(pt,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:TYPE$1.tag,value:ct,children:ht,location:createLocation$1(lt,this.clonePosition())},err:null}:this.error(ErrorKind.INVALID_TAG,createLocation$1(ft,this.clonePosition())))}else return this.error(ErrorKind.UNCLOSED_TAG,createLocation$1(lt,this.clonePosition()))}else return this.error(ErrorKind.INVALID_TAG,createLocation$1(lt,this.clonePosition()))},Ye.prototype.parseTagName=function(){var rt=this.offset();for(this.bump();!this.isEOF()&&_isPotentialElementNameChar(this.char());)this.bump();return this.message.slice(rt,this.offset())},Ye.prototype.parseLiteral=function(rt,it){for(var lt=this.clonePosition(),ct="";;){var ut=this.tryParseQuote(it);if(ut){ct+=ut;continue}var ht=this.tryParseUnquoted(rt,it);if(ht){ct+=ht;continue}var ft=this.tryParseLeftAngleBracket();if(ft){ct+=ft;continue}break}var pt=createLocation$1(lt,this.clonePosition());return{val:{type:TYPE$1.literal,value:ct,location:pt},err:null}},Ye.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!_isAlphaOrSlash(this.peek()||0))?(this.bump(),"<"):null},Ye.prototype.tryParseQuote=function(rt){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(rt==="plural"||rt==="selectordinal")break;return null;default:return null}this.bump();var it=[this.char()];for(this.bump();!this.isEOF();){var lt=this.char();if(lt===39)if(this.peek()===39)it.push(39),this.bump();else{this.bump();break}else it.push(lt);this.bump()}return fromCodePoint.apply(void 0,it)},Ye.prototype.tryParseUnquoted=function(rt,it){if(this.isEOF())return null;var lt=this.char();return lt===60||lt===123||lt===35&&(it==="plural"||it==="selectordinal")||lt===125&&rt>0?null:(this.bump(),fromCodePoint(lt))},Ye.prototype.parseArgument=function(rt,it){var lt=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation$1(lt,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ErrorKind.EMPTY_ARGUMENT,createLocation$1(lt,this.clonePosition()));var ct=this.parseIdentifierIfPossible().value;if(!ct)return this.error(ErrorKind.MALFORMED_ARGUMENT,createLocation$1(lt,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation$1(lt,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:TYPE$1.argument,value:ct,location:createLocation$1(lt,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation$1(lt,this.clonePosition())):this.parseArgumentOptions(rt,it,ct,lt);default:return this.error(ErrorKind.MALFORMED_ARGUMENT,createLocation$1(lt,this.clonePosition()))}},Ye.prototype.parseIdentifierIfPossible=function(){var rt=this.clonePosition(),it=this.offset(),lt=matchIdentifierAtIndex(this.message,it),ct=it+lt.length;this.bumpTo(ct);var ut=this.clonePosition(),ht=createLocation$1(rt,ut);return{value:lt,location:ht}},Ye.prototype.parseArgumentOptions=function(rt,it,lt,ct){var ut,ht=this.clonePosition(),ft=this.parseIdentifierIfPossible().value,pt=this.clonePosition();switch(ft){case"":return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE,createLocation$1(ht,pt));case"number":case"date":case"time":{this.bumpSpace();var mt=null;if(this.bumpIf(",")){this.bumpSpace();var gt=this.clonePosition(),yt=this.parseSimpleArgStyleIfPossible();if(yt.err)return yt;var xt=trimEnd(yt.val);if(xt.length===0)return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE,createLocation$1(this.clonePosition(),this.clonePosition()));var bt=createLocation$1(gt,this.clonePosition());mt={style:xt,styleLocation:bt}}var _t=this.tryParseArgumentClose(ct);if(_t.err)return _t;var Ct=createLocation$1(ct,this.clonePosition());if(mt&&startsWith(mt?.style,"::",0)){var kt=trimStart(mt.style.slice(2));if(ft==="number"){var yt=this.parseNumberSkeletonFromString(kt,mt.styleLocation);return yt.err?yt:{val:{type:TYPE$1.number,value:lt,location:Ct,style:yt.val},err:null}}else{if(kt.length===0)return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON,Ct);var St=kt;this.locale&&(St=getBestPattern(kt,this.locale));var xt={type:SKELETON_TYPE.dateTime,pattern:St,location:mt.styleLocation,parsedOptions:this.shouldParseSkeletons?parseDateTimeSkeleton(St):{}},Rt=ft==="date"?TYPE$1.date:TYPE$1.time;return{val:{type:Rt,value:lt,location:Ct,style:xt},err:null}}}return{val:{type:ft==="number"?TYPE$1.number:ft==="date"?TYPE$1.date:TYPE$1.time,value:lt,location:Ct,style:(ut=mt?.style)!==null&&ut!==void 0?ut:null},err:null}}case"plural":case"selectordinal":case"select":{var Tt=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,createLocation$1(Tt,__assign({},Tt)));this.bumpSpace();var Mt=this.parseIdentifierIfPossible(),Pt=0;if(ft!=="select"&&Mt.value==="offset"){if(!this.bumpIf(":"))return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,createLocation$1(this.clonePosition(),this.clonePosition()));this.bumpSpace();var yt=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(yt.err)return yt;this.bumpSpace(),Mt=this.parseIdentifierIfPossible(),Pt=yt.val}var It=this.tryParsePluralOrSelectOptions(rt,ft,it,Mt);if(It.err)return It;var _t=this.tryParseArgumentClose(ct);if(_t.err)return _t;var Lt=createLocation$1(ct,this.clonePosition());return ft==="select"?{val:{type:TYPE$1.select,value:lt,options:fromEntries(It.val),location:Lt},err:null}:{val:{type:TYPE$1.plural,value:lt,options:fromEntries(It.val),offset:Pt,pluralType:ft==="plural"?"cardinal":"ordinal",location:Lt},err:null}}default:return this.error(ErrorKind.INVALID_ARGUMENT_TYPE,createLocation$1(ht,pt))}},Ye.prototype.tryParseArgumentClose=function(rt){return this.isEOF()||this.char()!==125?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation$1(rt,this.clonePosition())):(this.bump(),{val:!0,err:null})},Ye.prototype.parseSimpleArgStyleIfPossible=function(){for(var rt=0,it=this.clonePosition();!this.isEOF();){var lt=this.char();switch(lt){case 39:{this.bump();var ct=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,createLocation$1(ct,this.clonePosition()));this.bump();break}case 123:{rt+=1,this.bump();break}case 125:{if(rt>0)rt-=1;else return{val:this.message.slice(it.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(it.offset,this.offset()),err:null}},Ye.prototype.parseNumberSkeletonFromString=function(rt,it){var lt=[];try{lt=parseNumberSkeletonFromString(rt)}catch{return this.error(ErrorKind.INVALID_NUMBER_SKELETON,it)}return{val:{type:SKELETON_TYPE.number,tokens:lt,location:it,parsedOptions:this.shouldParseSkeletons?parseNumberSkeleton(lt):{}},err:null}},Ye.prototype.tryParsePluralOrSelectOptions=function(rt,it,lt,ct){for(var ut,ht=!1,ft=[],pt=new Set,mt=ct.value,gt=ct.location;;){if(mt.length===0){var yt=this.clonePosition();if(it!=="select"&&this.bumpIf("=")){var xt=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(xt.err)return xt;gt=createLocation$1(yt,this.clonePosition()),mt=this.message.slice(yt.offset,this.offset())}else break}if(pt.has(mt))return this.error(it==="select"?ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,gt);mt==="other"&&(ht=!0),this.bumpSpace();var bt=this.clonePosition();if(!this.bumpIf("{"))return this.error(it==="select"?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,createLocation$1(this.clonePosition(),this.clonePosition()));var _t=this.parseMessage(rt+1,it,lt);if(_t.err)return _t;var Ct=this.tryParseArgumentClose(bt);if(Ct.err)return Ct;ft.push([mt,{value:_t.val,location:createLocation$1(bt,this.clonePosition())}]),pt.add(mt),this.bumpSpace(),ut=this.parseIdentifierIfPossible(),mt=ut.value,gt=ut.location}return ft.length===0?this.error(it==="select"?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,createLocation$1(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!ht?this.error(ErrorKind.MISSING_OTHER_CLAUSE,createLocation$1(this.clonePosition(),this.clonePosition())):{val:ft,err:null}},Ye.prototype.tryParseDecimalInteger=function(rt,it){var lt=1,ct=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(lt=-1);for(var ut=!1,ht=0;!this.isEOF();){var ft=this.char();if(ft>=48&&ft<=57)ut=!0,ht=ht*10+(ft-48),this.bump();else break}var pt=createLocation$1(ct,this.clonePosition());return ut?(ht*=lt,isSafeInteger(ht)?{val:ht,err:null}:this.error(it,pt)):this.error(rt,pt)},Ye.prototype.offset=function(){return this.position.offset},Ye.prototype.isEOF=function(){return this.offset()===this.message.length},Ye.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},Ye.prototype.char=function(){var rt=this.position.offset;if(rt>=this.message.length)throw Error("out of bound");var it=codePointAt$1(this.message,rt);if(it===void 0)throw Error("Offset ".concat(rt," is at invalid UTF-16 code unit boundary"));return it},Ye.prototype.error=function(rt,it){return{val:null,err:{kind:rt,message:this.message,location:it}}},Ye.prototype.bump=function(){if(!this.isEOF()){var rt=this.char();rt===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=rt<65536?1:2)}},Ye.prototype.bumpIf=function(rt){if(startsWith(this.message,rt,this.offset())){for(var it=0;it<rt.length;it++)this.bump();return!0}return!1},Ye.prototype.bumpUntil=function(rt){var it=this.offset(),lt=this.message.indexOf(rt,it);return lt>=0?(this.bumpTo(lt),!0):(this.bumpTo(this.message.length),!1)},Ye.prototype.bumpTo=function(rt){if(this.offset()>rt)throw Error("targetOffset ".concat(rt," must be greater than or equal to the current offset ").concat(this.offset()));for(rt=Math.min(rt,this.message.length);;){var it=this.offset();if(it===rt)break;if(it>rt)throw Error("targetOffset ".concat(rt," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},Ye.prototype.bumpSpace=function(){for(;!this.isEOF()&&_isWhiteSpace(this.char());)this.bump()},Ye.prototype.peek=function(){if(this.isEOF())return null;var rt=this.char(),it=this.offset(),lt=this.message.charCodeAt(it+(rt>=65536?2:1));return lt??null},Ye})();function _isAlpha(Ye){return Ye>=97&&Ye<=122||Ye>=65&&Ye<=90}function _isAlphaOrSlash(Ye){return _isAlpha(Ye)||Ye===47}function _isPotentialElementNameChar(Ye){return Ye===45||Ye===46||Ye>=48&&Ye<=57||Ye===95||Ye>=97&&Ye<=122||Ye>=65&&Ye<=90||Ye==183||Ye>=192&&Ye<=214||Ye>=216&&Ye<=246||Ye>=248&&Ye<=893||Ye>=895&&Ye<=8191||Ye>=8204&&Ye<=8205||Ye>=8255&&Ye<=8256||Ye>=8304&&Ye<=8591||Ye>=11264&&Ye<=12271||Ye>=12289&&Ye<=55295||Ye>=63744&&Ye<=64975||Ye>=65008&&Ye<=65533||Ye>=65536&&Ye<=983039}function _isWhiteSpace(Ye){return Ye>=9&&Ye<=13||Ye===32||Ye===133||Ye>=8206&&Ye<=8207||Ye===8232||Ye===8233}function _isPatternSyntax(Ye){return Ye>=33&&Ye<=35||Ye===36||Ye>=37&&Ye<=39||Ye===40||Ye===41||Ye===42||Ye===43||Ye===44||Ye===45||Ye>=46&&Ye<=47||Ye>=58&&Ye<=59||Ye>=60&&Ye<=62||Ye>=63&&Ye<=64||Ye===91||Ye===92||Ye===93||Ye===94||Ye===96||Ye===123||Ye===124||Ye===125||Ye===126||Ye===161||Ye>=162&&Ye<=165||Ye===166||Ye===167||Ye===169||Ye===171||Ye===172||Ye===174||Ye===176||Ye===177||Ye===182||Ye===187||Ye===191||Ye===215||Ye===247||Ye>=8208&&Ye<=8213||Ye>=8214&&Ye<=8215||Ye===8216||Ye===8217||Ye===8218||Ye>=8219&&Ye<=8220||Ye===8221||Ye===8222||Ye===8223||Ye>=8224&&Ye<=8231||Ye>=8240&&Ye<=8248||Ye===8249||Ye===8250||Ye>=8251&&Ye<=8254||Ye>=8257&&Ye<=8259||Ye===8260||Ye===8261||Ye===8262||Ye>=8263&&Ye<=8273||Ye===8274||Ye===8275||Ye>=8277&&Ye<=8286||Ye>=8592&&Ye<=8596||Ye>=8597&&Ye<=8601||Ye>=8602&&Ye<=8603||Ye>=8604&&Ye<=8607||Ye===8608||Ye>=8609&&Ye<=8610||Ye===8611||Ye>=8612&&Ye<=8613||Ye===8614||Ye>=8615&&Ye<=8621||Ye===8622||Ye>=8623&&Ye<=8653||Ye>=8654&&Ye<=8655||Ye>=8656&&Ye<=8657||Ye===8658||Ye===8659||Ye===8660||Ye>=8661&&Ye<=8691||Ye>=8692&&Ye<=8959||Ye>=8960&&Ye<=8967||Ye===8968||Ye===8969||Ye===8970||Ye===8971||Ye>=8972&&Ye<=8991||Ye>=8992&&Ye<=8993||Ye>=8994&&Ye<=9e3||Ye===9001||Ye===9002||Ye>=9003&&Ye<=9083||Ye===9084||Ye>=9085&&Ye<=9114||Ye>=9115&&Ye<=9139||Ye>=9140&&Ye<=9179||Ye>=9180&&Ye<=9185||Ye>=9186&&Ye<=9254||Ye>=9255&&Ye<=9279||Ye>=9280&&Ye<=9290||Ye>=9291&&Ye<=9311||Ye>=9472&&Ye<=9654||Ye===9655||Ye>=9656&&Ye<=9664||Ye===9665||Ye>=9666&&Ye<=9719||Ye>=9720&&Ye<=9727||Ye>=9728&&Ye<=9838||Ye===9839||Ye>=9840&&Ye<=10087||Ye===10088||Ye===10089||Ye===10090||Ye===10091||Ye===10092||Ye===10093||Ye===10094||Ye===10095||Ye===10096||Ye===10097||Ye===10098||Ye===10099||Ye===10100||Ye===10101||Ye>=10132&&Ye<=10175||Ye>=10176&&Ye<=10180||Ye===10181||Ye===10182||Ye>=10183&&Ye<=10213||Ye===10214||Ye===10215||Ye===10216||Ye===10217||Ye===10218||Ye===10219||Ye===10220||Ye===10221||Ye===10222||Ye===10223||Ye>=10224&&Ye<=10239||Ye>=10240&&Ye<=10495||Ye>=10496&&Ye<=10626||Ye===10627||Ye===10628||Ye===10629||Ye===10630||Ye===10631||Ye===10632||Ye===10633||Ye===10634||Ye===10635||Ye===10636||Ye===10637||Ye===10638||Ye===10639||Ye===10640||Ye===10641||Ye===10642||Ye===10643||Ye===10644||Ye===10645||Ye===10646||Ye===10647||Ye===10648||Ye>=10649&&Ye<=10711||Ye===10712||Ye===10713||Ye===10714||Ye===10715||Ye>=10716&&Ye<=10747||Ye===10748||Ye===10749||Ye>=10750&&Ye<=11007||Ye>=11008&&Ye<=11055||Ye>=11056&&Ye<=11076||Ye>=11077&&Ye<=11078||Ye>=11079&&Ye<=11084||Ye>=11085&&Ye<=11123||Ye>=11124&&Ye<=11125||Ye>=11126&&Ye<=11157||Ye===11158||Ye>=11159&&Ye<=11263||Ye>=11776&&Ye<=11777||Ye===11778||Ye===11779||Ye===11780||Ye===11781||Ye>=11782&&Ye<=11784||Ye===11785||Ye===11786||Ye===11787||Ye===11788||Ye===11789||Ye>=11790&&Ye<=11798||Ye===11799||Ye>=11800&&Ye<=11801||Ye===11802||Ye===11803||Ye===11804||Ye===11805||Ye>=11806&&Ye<=11807||Ye===11808||Ye===11809||Ye===11810||Ye===11811||Ye===11812||Ye===11813||Ye===11814||Ye===11815||Ye===11816||Ye===11817||Ye>=11818&&Ye<=11822||Ye===11823||Ye>=11824&&Ye<=11833||Ye>=11834&&Ye<=11835||Ye>=11836&&Ye<=11839||Ye===11840||Ye===11841||Ye===11842||Ye>=11843&&Ye<=11855||Ye>=11856&&Ye<=11857||Ye===11858||Ye>=11859&&Ye<=11903||Ye>=12289&&Ye<=12291||Ye===12296||Ye===12297||Ye===12298||Ye===12299||Ye===12300||Ye===12301||Ye===12302||Ye===12303||Ye===12304||Ye===12305||Ye>=12306&&Ye<=12307||Ye===12308||Ye===12309||Ye===12310||Ye===12311||Ye===12312||Ye===12313||Ye===12314||Ye===12315||Ye===12316||Ye===12317||Ye>=12318&&Ye<=12319||Ye===12320||Ye===12336||Ye===64830||Ye===64831||Ye>=65093&&Ye<=65094}function pruneLocation(Ye){Ye.forEach(function(rt){if(delete rt.location,isSelectElement(rt)||isPluralElement(rt))for(var it in rt.options)delete rt.options[it].location,pruneLocation(rt.options[it].value);else isNumberElement(rt)&&isNumberSkeleton(rt.style)||(isDateElement(rt)||isTimeElement(rt))&&isDateTimeSkeleton(rt.style)?delete rt.style.location:isTagElement(rt)&&pruneLocation(rt.children)})}function parse$7(Ye,rt){rt===void 0&&(rt={}),rt=__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},rt);var it=new Parser(Ye,rt).parse();if(it.err){var lt=SyntaxError(ErrorKind[it.err.kind]);throw lt.location=it.err.location,lt.originalMessage=it.err.message,lt}return rt?.captureLocation||pruneLocation(it.val),it.val}var ErrorCode;(function(Ye){Ye.MISSING_VALUE="MISSING_VALUE",Ye.INVALID_VALUE="INVALID_VALUE",Ye.MISSING_INTL_API="MISSING_INTL_API"})(ErrorCode||(ErrorCode={}));var FormatError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct){var ut=Ye.call(this,it)||this;return ut.code=lt,ut.originalMessage=ct,ut}return rt.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},rt})(Error),InvalidValueError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct,ut){return Ye.call(this,'Invalid values for "'.concat(it,'": "').concat(lt,'". Options are "').concat(Object.keys(ct).join('", "'),'"'),ErrorCode.INVALID_VALUE,ut)||this}return rt})(FormatError),InvalidValueTypeError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct){return Ye.call(this,'Value for "'.concat(it,'" must be of type ').concat(lt),ErrorCode.INVALID_VALUE,ct)||this}return rt})(FormatError),MissingValueError=(function(Ye){__extends(rt,Ye);function rt(it,lt){return Ye.call(this,'The intl string context variable "'.concat(it,'" was not provided to the string "').concat(lt,'"'),ErrorCode.MISSING_VALUE,lt)||this}return rt})(FormatError),PART_TYPE;(function(Ye){Ye[Ye.literal=0]="literal",Ye[Ye.object=1]="object"})(PART_TYPE||(PART_TYPE={}));function mergeLiteral(Ye){return Ye.length<2?Ye:Ye.reduce(function(rt,it){var lt=rt[rt.length-1];return!lt||lt.type!==PART_TYPE.literal||it.type!==PART_TYPE.literal?rt.push(it):lt.value+=it.value,rt},[])}function isFormatXMLElementFn(Ye){return typeof Ye=="function"}function formatToParts(Ye,rt,it,lt,ct,ut,ht){if(Ye.length===1&&isLiteralElement(Ye[0]))return[{type:PART_TYPE.literal,value:Ye[0].value}];for(var ft=[],pt=0,mt=Ye;pt<mt.length;pt++){var gt=mt[pt];if(isLiteralElement(gt)){ft.push({type:PART_TYPE.literal,value:gt.value});continue}if(isPoundElement(gt)){typeof ut=="number"&&ft.push({type:PART_TYPE.literal,value:it.getNumberFormat(rt).format(ut)});continue}var yt=gt.value;if(!(ct&&yt in ct))throw new MissingValueError(yt,ht);var xt=ct[yt];if(isArgumentElement(gt)){(!xt||typeof xt=="string"||typeof xt=="number")&&(xt=typeof xt=="string"||typeof xt=="number"?String(xt):""),ft.push({type:typeof xt=="string"?PART_TYPE.literal:PART_TYPE.object,value:xt});continue}if(isDateElement(gt)){var bt=typeof gt.style=="string"?lt.date[gt.style]:isDateTimeSkeleton(gt.style)?gt.style.parsedOptions:void 0;ft.push({type:PART_TYPE.literal,value:it.getDateTimeFormat(rt,bt).format(xt)});continue}if(isTimeElement(gt)){var bt=typeof gt.style=="string"?lt.time[gt.style]:isDateTimeSkeleton(gt.style)?gt.style.parsedOptions:lt.time.medium;ft.push({type:PART_TYPE.literal,value:it.getDateTimeFormat(rt,bt).format(xt)});continue}if(isNumberElement(gt)){var bt=typeof gt.style=="string"?lt.number[gt.style]:isNumberSkeleton(gt.style)?gt.style.parsedOptions:void 0;bt&&bt.scale&&(xt=xt*(bt.scale||1)),ft.push({type:PART_TYPE.literal,value:it.getNumberFormat(rt,bt).format(xt)});continue}if(isTagElement(gt)){var _t=gt.children,Ct=gt.value,kt=ct[Ct];if(!isFormatXMLElementFn(kt))throw new InvalidValueTypeError(Ct,"function",ht);var St=formatToParts(_t,rt,it,lt,ct,ut),Rt=kt(St.map(function(Pt){return Pt.value}));Array.isArray(Rt)||(Rt=[Rt]),ft.push.apply(ft,Rt.map(function(Pt){return{type:typeof Pt=="string"?PART_TYPE.literal:PART_TYPE.object,value:Pt}}))}if(isSelectElement(gt)){var Tt=gt.options[xt]||gt.options.other;if(!Tt)throw new InvalidValueError(gt.value,xt,Object.keys(gt.options),ht);ft.push.apply(ft,formatToParts(Tt.value,rt,it,lt,ct));continue}if(isPluralElement(gt)){var Tt=gt.options["=".concat(xt)];if(!Tt){if(!Intl.PluralRules)throw new FormatError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ErrorCode.MISSING_INTL_API,ht);var Mt=it.getPluralRules(rt,{type:gt.pluralType}).select(xt-(gt.offset||0));Tt=gt.options[Mt]||gt.options.other}if(!Tt)throw new InvalidValueError(gt.value,xt,Object.keys(gt.options),ht);ft.push.apply(ft,formatToParts(Tt.value,rt,it,lt,ct,xt-(gt.offset||0)));continue}}return mergeLiteral(ft)}function mergeConfig(Ye,rt){return rt?__assign(__assign(__assign({},Ye||{}),rt||{}),Object.keys(Ye).reduce(function(it,lt){return it[lt]=__assign(__assign({},Ye[lt]),rt[lt]||{}),it},{})):Ye}function mergeConfigs(Ye,rt){return rt?Object.keys(Ye).reduce(function(it,lt){return it[lt]=mergeConfig(Ye[lt],rt[lt]),it},__assign({},Ye)):Ye}function createFastMemoizeCache$1(Ye){return{create:function(){return{get:function(rt){return Ye[rt]},set:function(rt,it){Ye[rt]=it}}}}}function createDefaultFormatters(Ye){return Ye===void 0&&(Ye={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:memoize$2(function(){for(var rt,it=[],lt=0;lt<arguments.length;lt++)it[lt]=arguments[lt];return new((rt=Intl.NumberFormat).bind.apply(rt,__spreadArray([void 0],it,!1)))},{cache:createFastMemoizeCache$1(Ye.number),strategy:strategies.variadic}),getDateTimeFormat:memoize$2(function(){for(var rt,it=[],lt=0;lt<arguments.length;lt++)it[lt]=arguments[lt];return new((rt=Intl.DateTimeFormat).bind.apply(rt,__spreadArray([void 0],it,!1)))},{cache:createFastMemoizeCache$1(Ye.dateTime),strategy:strategies.variadic}),getPluralRules:memoize$2(function(){for(var rt,it=[],lt=0;lt<arguments.length;lt++)it[lt]=arguments[lt];return new((rt=Intl.PluralRules).bind.apply(rt,__spreadArray([void 0],it,!1)))},{cache:createFastMemoizeCache$1(Ye.pluralRules),strategy:strategies.variadic})}}var IntlMessageFormat=(function(){function Ye(rt,it,lt,ct){it===void 0&&(it=Ye.defaultLocale);var ut=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(pt){var mt=ut.formatToParts(pt);if(mt.length===1)return mt[0].value;var gt=mt.reduce(function(yt,xt){return!yt.length||xt.type!==PART_TYPE.literal||typeof yt[yt.length-1]!="string"?yt.push(xt.value):yt[yt.length-1]+=xt.value,yt},[]);return gt.length<=1?gt[0]||"":gt},this.formatToParts=function(pt){return formatToParts(ut.ast,ut.locales,ut.formatters,ut.formats,pt,void 0,ut.message)},this.resolvedOptions=function(){var pt;return{locale:((pt=ut.resolvedLocale)===null||pt===void 0?void 0:pt.toString())||Intl.NumberFormat.supportedLocalesOf(ut.locales)[0]}},this.getAst=function(){return ut.ast},this.locales=it,this.resolvedLocale=Ye.resolveLocale(it),typeof rt=="string"){if(this.message=rt,!Ye.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var ht=ct||{};ht.formatters;var ft=__rest(ht,["formatters"]);this.ast=Ye.__parse(rt,__assign(__assign({},ft),{locale:this.resolvedLocale}))}else this.ast=rt;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mergeConfigs(Ye.formats,lt),this.formatters=ct&&ct.formatters||createDefaultFormatters(this.formatterCache)}return Object.defineProperty(Ye,"defaultLocale",{get:function(){return Ye.memoizedDefaultLocale||(Ye.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),Ye.memoizedDefaultLocale},enumerable:!1,configurable:!0}),Ye.memoizedDefaultLocale=null,Ye.resolveLocale=function(rt){if(!(typeof Intl.Locale>"u")){var it=Intl.NumberFormat.supportedLocalesOf(rt);return it.length>0?new Intl.Locale(it[0]):new Intl.Locale(typeof rt=="string"?rt:rt[0])}},Ye.__parse=parse$7,Ye.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},Ye})(),IntlErrorCode;(function(Ye){Ye.FORMAT_ERROR="FORMAT_ERROR",Ye.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",Ye.INVALID_CONFIG="INVALID_CONFIG",Ye.MISSING_DATA="MISSING_DATA",Ye.MISSING_TRANSLATION="MISSING_TRANSLATION"})(IntlErrorCode||(IntlErrorCode={}));var IntlError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct){var ut=this,ht=ct?ct instanceof Error?ct:new Error(String(ct)):void 0;return ut=Ye.call(this,"[@formatjs/intl Error ".concat(it,"] ").concat(lt,`
`).concat(ht?`
`.concat(ht.message,`
`).concat(ht.stack):""))||this,ut.code=it,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(ut,rt),ut}return rt})(Error),UnsupportedFormatterError=(function(Ye){__extends(rt,Ye);function rt(it,lt){return Ye.call(this,IntlErrorCode.UNSUPPORTED_FORMATTER,it,lt)||this}return rt})(IntlError),InvalidConfigError=(function(Ye){__extends(rt,Ye);function rt(it,lt){return Ye.call(this,IntlErrorCode.INVALID_CONFIG,it,lt)||this}return rt})(IntlError),MissingDataError=(function(Ye){__extends(rt,Ye);function rt(it,lt){return Ye.call(this,IntlErrorCode.MISSING_DATA,it,lt)||this}return rt})(IntlError),IntlFormatError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct){var ut=Ye.call(this,IntlErrorCode.FORMAT_ERROR,"".concat(it,`
Locale: `).concat(lt,`
`),ct)||this;return ut.locale=lt,ut}return rt})(IntlError),MessageFormatError=(function(Ye){__extends(rt,Ye);function rt(it,lt,ct,ut){var ht=Ye.call(this,"".concat(it,`
MessageID: `).concat(ct?.id,`
Default Message: `).concat(ct?.defaultMessage,`
Description: `).concat(ct?.description,`
`),lt,ut)||this;return ht.descriptor=ct,ht.locale=lt,ht}return rt})(IntlFormatError),MissingTranslationError=(function(Ye){__extends(rt,Ye);function rt(it,lt){var ct=Ye.call(this,IntlErrorCode.MISSING_TRANSLATION,'Missing message: "'.concat(it.id,'" for locale "').concat(lt,'", using ').concat(it.defaultMessage?"default message (".concat(typeof it.defaultMessage=="string"?it.defaultMessage:it.defaultMessage.map(function(ut){var ht;return(ht=ut.value)!==null&&ht!==void 0?ht:JSON.stringify(ut)}).join(),")"):"id"," as fallback."))||this;return ct.descriptor=it,ct}return rt})(IntlError);function invariant$2(Ye,rt,it){if(it===void 0&&(it=Error),!Ye)throw new it(rt)}function filterProps(Ye,rt,it){return it===void 0&&(it={}),rt.reduce(function(lt,ct){return ct in Ye?lt[ct]=Ye[ct]:ct in it&&(lt[ct]=it[ct]),lt},{})}var defaultErrorHandler=function(Ye){},defaultWarnHandler=function(Ye){},DEFAULT_INTL_CONFIG$1={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:defaultErrorHandler,onWarn:defaultWarnHandler};function createIntlCache(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function createFastMemoizeCache(Ye){return{create:function(){return{get:function(rt){return Ye[rt]},set:function(rt,it){Ye[rt]=it}}}}}function createFormatters(Ye){Ye===void 0&&(Ye=createIntlCache());var rt=Intl.RelativeTimeFormat,it=Intl.ListFormat,lt=Intl.DisplayNames,ct=memoize$2(function(){for(var ft,pt=[],mt=0;mt<arguments.length;mt++)pt[mt]=arguments[mt];return new((ft=Intl.DateTimeFormat).bind.apply(ft,__spreadArray([void 0],pt,!1)))},{cache:createFastMemoizeCache(Ye.dateTime),strategy:strategies.variadic}),ut=memoize$2(function(){for(var ft,pt=[],mt=0;mt<arguments.length;mt++)pt[mt]=arguments[mt];return new((ft=Intl.NumberFormat).bind.apply(ft,__spreadArray([void 0],pt,!1)))},{cache:createFastMemoizeCache(Ye.number),strategy:strategies.variadic}),ht=memoize$2(function(){for(var ft,pt=[],mt=0;mt<arguments.length;mt++)pt[mt]=arguments[mt];return new((ft=Intl.PluralRules).bind.apply(ft,__spreadArray([void 0],pt,!1)))},{cache:createFastMemoizeCache(Ye.pluralRules),strategy:strategies.variadic});return{getDateTimeFormat:ct,getNumberFormat:ut,getMessageFormat:memoize$2(function(ft,pt,mt,gt){return new IntlMessageFormat(ft,pt,mt,__assign({formatters:{getNumberFormat:ut,getDateTimeFormat:ct,getPluralRules:ht}},gt||{}))},{cache:createFastMemoizeCache(Ye.message),strategy:strategies.variadic}),getRelativeTimeFormat:memoize$2(function(){for(var ft=[],pt=0;pt<arguments.length;pt++)ft[pt]=arguments[pt];return new(rt.bind.apply(rt,__spreadArray([void 0],ft,!1)))},{cache:createFastMemoizeCache(Ye.relativeTime),strategy:strategies.variadic}),getPluralRules:ht,getListFormat:memoize$2(function(){for(var ft=[],pt=0;pt<arguments.length;pt++)ft[pt]=arguments[pt];return new(it.bind.apply(it,__spreadArray([void 0],ft,!1)))},{cache:createFastMemoizeCache(Ye.list),strategy:strategies.variadic}),getDisplayNames:memoize$2(function(){for(var ft=[],pt=0;pt<arguments.length;pt++)ft[pt]=arguments[pt];return new(lt.bind.apply(lt,__spreadArray([void 0],ft,!1)))},{cache:createFastMemoizeCache(Ye.displayNames),strategy:strategies.variadic})}}function getNamedFormat(Ye,rt,it,lt){var ct=Ye&&Ye[rt],ut;if(ct&&(ut=ct[it]),ut)return ut;lt(new UnsupportedFormatterError("No ".concat(rt," format named: ").concat(it)))}function setTimeZoneInOptions(Ye,rt){return Object.keys(Ye).reduce(function(it,lt){return it[lt]=__assign({timeZone:rt},Ye[lt]),it},{})}function deepMergeOptions(Ye,rt){var it=Object.keys(__assign(__assign({},Ye),rt));return it.reduce(function(lt,ct){return lt[ct]=__assign(__assign({},Ye[ct]||{}),rt[ct]||{}),lt},{})}function deepMergeFormatsAndSetTimeZone(Ye,rt){if(!rt)return Ye;var it=IntlMessageFormat.formats;return __assign(__assign(__assign({},it),Ye),{date:deepMergeOptions(setTimeZoneInOptions(it.date,rt),setTimeZoneInOptions(Ye.date||{},rt)),time:deepMergeOptions(setTimeZoneInOptions(it.time,rt),setTimeZoneInOptions(Ye.time||{},rt))})}var formatMessage$1=function(Ye,rt,it,lt,ct){var ut=Ye.locale,ht=Ye.formats,ft=Ye.messages,pt=Ye.defaultLocale,mt=Ye.defaultFormats,gt=Ye.fallbackOnEmptyString,yt=Ye.onError,xt=Ye.timeZone,bt=Ye.defaultRichTextElements;it===void 0&&(it={id:""});var _t=it.id,Ct=it.defaultMessage;invariant$2(!!_t,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var kt=String(_t),St=ft&&Object.prototype.hasOwnProperty.call(ft,kt)&&ft[kt];if(Array.isArray(St)&&St.length===1&&St[0].type===TYPE$1.literal)return St[0].value;if(!lt&&St&&typeof St=="string"&&!bt)return St.replace(/'\{(.*?)\}'/gi,"{$1}");if(lt=__assign(__assign({},bt),lt||{}),ht=deepMergeFormatsAndSetTimeZone(ht,xt),mt=deepMergeFormatsAndSetTimeZone(mt,xt),!St){if(gt===!1&&St==="")return St;if((!Ct||ut&&ut.toLowerCase()!==pt.toLowerCase())&&yt(new MissingTranslationError(it,ut)),Ct)try{var Rt=rt.getMessageFormat(Ct,pt,mt,ct);return Rt.format(lt)}catch(Tt){return yt(new MessageFormatError('Error formatting default message for: "'.concat(kt,'", rendering default message verbatim'),ut,it,Tt)),typeof Ct=="string"?Ct:kt}return kt}try{var Rt=rt.getMessageFormat(St,ut,ht,__assign({formatters:rt},ct||{}));return Rt.format(lt)}catch(Tt){yt(new MessageFormatError('Error formatting message: "'.concat(kt,'", using ').concat(Ct?"default message":"id"," as fallback."),ut,it,Tt))}if(Ct)try{var Rt=rt.getMessageFormat(Ct,pt,mt,ct);return Rt.format(lt)}catch(Tt){yt(new MessageFormatError('Error formatting the default message for: "'.concat(kt,'", rendering message verbatim'),ut,it,Tt))}return typeof St=="string"?St:typeof Ct=="string"?Ct:kt},DATE_TIME_FORMAT_OPTIONS=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function getFormatter$2(Ye,rt,it,lt){var ct=Ye.locale,ut=Ye.formats,ht=Ye.onError,ft=Ye.timeZone;lt===void 0&&(lt={});var pt=lt.format,mt=__assign(__assign({},ft&&{timeZone:ft}),pt&&getNamedFormat(ut,rt,pt,ht)),gt=filterProps(lt,DATE_TIME_FORMAT_OPTIONS,mt);return rt==="time"&&!gt.hour&&!gt.minute&&!gt.second&&!gt.timeStyle&&!gt.dateStyle&&(gt=__assign(__assign({},gt),{hour:"numeric",minute:"numeric"})),it(ct,gt)}function formatDate(Ye,rt){for(var it=[],lt=2;lt<arguments.length;lt++)it[lt-2]=arguments[lt];var ct=it[0],ut=it[1],ht=ut===void 0?{}:ut,ft=typeof ct=="string"?new Date(ct||0):ct;try{return getFormatter$2(Ye,"date",rt,ht).format(ft)}catch(pt){Ye.onError(new IntlFormatError("Error formatting date.",Ye.locale,pt))}return String(ft)}function formatTime(Ye,rt){for(var it=[],lt=2;lt<arguments.length;lt++)it[lt-2]=arguments[lt];var ct=it[0],ut=it[1],ht=ut===void 0?{}:ut,ft=typeof ct=="string"?new Date(ct||0):ct;try{return getFormatter$2(Ye,"time",rt,ht).format(ft)}catch(pt){Ye.onError(new IntlFormatError("Error formatting time.",Ye.locale,pt))}return String(ft)}function formatDateTimeRange(Ye,rt){for(var it=[],lt=2;lt<arguments.length;lt++)it[lt-2]=arguments[lt];var ct=it[0],ut=it[1],ht=it[2],ft=ht===void 0?{}:ht,pt=typeof ct=="string"?new Date(ct||0):ct,mt=typeof ut=="string"?new Date(ut||0):ut;try{return getFormatter$2(Ye,"dateTimeRange",rt,ft).formatRange(pt,mt)}catch(gt){Ye.onError(new IntlFormatError("Error formatting date time range.",Ye.locale,gt))}return String(pt)}function formatDateToParts(Ye,rt){for(var it=[],lt=2;lt<arguments.length;lt++)it[lt-2]=arguments[lt];var ct=it[0],ut=it[1],ht=ut===void 0?{}:ut,ft=typeof ct=="string"?new Date(ct||0):ct;try{return getFormatter$2(Ye,"date",rt,ht).formatToParts(ft)}catch(pt){Ye.onError(new IntlFormatError("Error formatting date.",Ye.locale,pt))}return[]}function formatTimeToParts(Ye,rt){for(var it=[],lt=2;lt<arguments.length;lt++)it[lt-2]=arguments[lt];var ct=it[0],ut=it[1],ht=ut===void 0?{}:ut,ft=typeof ct=="string"?new Date(ct||0):ct;try{return getFormatter$2(Ye,"time",rt,ht).formatToParts(ft)}catch(pt){Ye.onError(new IntlFormatError("Error formatting time.",Ye.locale,pt))}return[]}var DISPLAY_NAMES_OPTONS=["style","type","fallback","languageDisplay"];function formatDisplayName(Ye,rt,it,lt){var ct=Ye.locale,ut=Ye.onError,ht=Intl.DisplayNames;ht||ut(new FormatError(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,ErrorCode.MISSING_INTL_API));var ft=filterProps(lt,DISPLAY_NAMES_OPTONS);try{return rt(ct,ft).of(it)}catch(pt){ut(new IntlFormatError("Error formatting display name.",ct,pt))}}var LIST_FORMAT_OPTIONS=["type","style"],now$4=Date.now();function generateToken(Ye){return"".concat(now$4,"_").concat(Ye,"_").concat(now$4)}function formatList(Ye,rt,it,lt){lt===void 0&&(lt={});var ct=formatListToParts(Ye,rt,it,lt).reduce(function(ut,ht){var ft=ht.value;return typeof ft!="string"?ut.push(ft):typeof ut[ut.length-1]=="string"?ut[ut.length-1]+=ft:ut.push(ft),ut},[]);return ct.length===1?ct[0]:ct.length===0?"":ct}function formatListToParts(Ye,rt,it,lt){var ct=Ye.locale,ut=Ye.onError;lt===void 0&&(lt={});var ht=Intl.ListFormat;ht||ut(new FormatError(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,ErrorCode.MISSING_INTL_API));var ft=filterProps(lt,LIST_FORMAT_OPTIONS);try{var pt={},mt=Array.from(it).map(function(gt,yt){if(typeof gt=="object"&&gt!==null){var xt=generateToken(yt);return pt[xt]=gt,xt}return String(gt)});return rt(ct,ft).formatToParts(mt).map(function(gt){return gt.type==="literal"?gt:__assign(__assign({},gt),{value:pt[gt.value]||gt.value})})}catch(gt){ut(new IntlFormatError("Error formatting list.",ct,gt))}return it}var PLURAL_FORMAT_OPTIONS=["type"];function formatPlural(Ye,rt,it,lt){var ct=Ye.locale,ut=Ye.onError;lt===void 0&&(lt={}),Intl.PluralRules||ut(new FormatError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ErrorCode.MISSING_INTL_API));var ht=filterProps(lt,PLURAL_FORMAT_OPTIONS);try{return rt(ct,ht).select(it)}catch(ft){ut(new IntlFormatError("Error formatting plural.",ct,ft))}return"other"}var RELATIVE_TIME_FORMAT_OPTIONS=["numeric","style"];function getFormatter$1(Ye,rt,it){var lt=Ye.locale,ct=Ye.formats,ut=Ye.onError;it===void 0&&(it={});var ht=it.format,ft=!!ht&&getNamedFormat(ct,"relative",ht,ut)||{},pt=filterProps(it,RELATIVE_TIME_FORMAT_OPTIONS,ft);return rt(lt,pt)}function formatRelativeTime(Ye,rt,it,lt,ct){ct===void 0&&(ct={}),lt||(lt="second");var ut=Intl.RelativeTimeFormat;ut||Ye.onError(new FormatError(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,ErrorCode.MISSING_INTL_API));try{return getFormatter$1(Ye,rt,ct).format(it,lt)}catch(ht){Ye.onError(new IntlFormatError("Error formatting relative time.",Ye.locale,ht))}return String(it)}var NUMBER_FORMAT_OPTIONS=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function getFormatter(Ye,rt,it){var lt=Ye.locale,ct=Ye.formats,ut=Ye.onError;it===void 0&&(it={});var ht=it.format,ft=ht&&getNamedFormat(ct,"number",ht,ut)||{},pt=filterProps(it,NUMBER_FORMAT_OPTIONS,ft);return rt(lt,pt)}function formatNumber(Ye,rt,it,lt){lt===void 0&&(lt={});try{return getFormatter(Ye,rt,lt).format(it)}catch(ct){Ye.onError(new IntlFormatError("Error formatting number.",Ye.locale,ct))}return String(it)}function formatNumberToParts(Ye,rt,it,lt){lt===void 0&&(lt={});try{return getFormatter(Ye,rt,lt).formatToParts(it)}catch(ct){Ye.onError(new IntlFormatError("Error formatting number.",Ye.locale,ct))}return[]}function messagesContainString(Ye){var rt=Ye?Ye[Object.keys(Ye)[0]]:void 0;return typeof rt=="string"}function verifyConfigMessages(Ye){Ye.onWarn&&Ye.defaultRichTextElements&&messagesContainString(Ye.messages||{})&&Ye.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function createIntl$1(Ye,rt){var it=createFormatters(rt),lt=__assign(__assign({},DEFAULT_INTL_CONFIG$1),Ye),ct=lt.locale,ut=lt.defaultLocale,ht=lt.onError;return ct?!Intl.NumberFormat.supportedLocalesOf(ct).length&&ht?ht(new MissingDataError('Missing locale data for locale: "'.concat(ct,'" in Intl.NumberFormat. Using default locale: "').concat(ut,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(ct).length&&ht&&ht(new MissingDataError('Missing locale data for locale: "'.concat(ct,'" in Intl.DateTimeFormat. Using default locale: "').concat(ut,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(ht&&ht(new InvalidConfigError('"locale" was not configured, using "'.concat(ut,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),lt.locale=lt.defaultLocale||"en"),verifyConfigMessages(lt),__assign(__assign({},lt),{formatters:it,formatNumber:formatNumber.bind(null,lt,it.getNumberFormat),formatNumberToParts:formatNumberToParts.bind(null,lt,it.getNumberFormat),formatRelativeTime:formatRelativeTime.bind(null,lt,it.getRelativeTimeFormat),formatDate:formatDate.bind(null,lt,it.getDateTimeFormat),formatDateToParts:formatDateToParts.bind(null,lt,it.getDateTimeFormat),formatTime:formatTime.bind(null,lt,it.getDateTimeFormat),formatDateTimeRange:formatDateTimeRange.bind(null,lt,it.getDateTimeFormat),formatTimeToParts:formatTimeToParts.bind(null,lt,it.getDateTimeFormat),formatPlural:formatPlural.bind(null,lt,it.getPluralRules),formatMessage:formatMessage$1.bind(null,lt,it),$t:formatMessage$1.bind(null,lt,it),formatList:formatList.bind(null,lt,it.getListFormat),formatListToParts:formatListToParts.bind(null,lt,it.getListFormat),formatDisplayName:formatDisplayName.bind(null,lt,it.getDisplayNames)})}function invariant$1(Ye,rt,it){if(it===void 0&&(it=Error),!Ye)throw new it(rt)}function invariantIntlContext(Ye){invariant$1(Ye,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var DEFAULT_INTL_CONFIG=__assign(__assign({},DEFAULT_INTL_CONFIG$1),{textComponent:reactExports.Fragment}),toKeyedReactNode=function(Ye,rt){return reactExports.isValidElement(Ye)?reactExports.cloneElement(Ye,{key:rt}):Ye},toKeyedReactNodeArray=function(Ye){var rt;return(rt=reactExports.Children.map(Ye,toKeyedReactNode))!==null&&rt!==void 0?rt:[]};function assignUniqueKeysToParts(Ye){return function(rt){return Ye(toKeyedReactNodeArray(rt))}}function shallowEqual(Ye,rt){if(Ye===rt)return!0;if(!Ye||!rt)return!1;var it=Object.keys(Ye),lt=Object.keys(rt),ct=it.length;if(lt.length!==ct)return!1;for(var ut=0;ut<ct;ut++){var ht=it[ut];if(Ye[ht]!==rt[ht]||!Object.prototype.hasOwnProperty.call(rt,ht))return!1}return!0}var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var Ye=typeof Symbol=="function"&&Symbol.for,rt=Ye?Symbol.for("react.element"):60103,it=Ye?Symbol.for("react.portal"):60106,lt=Ye?Symbol.for("react.fragment"):60107,ct=Ye?Symbol.for("react.strict_mode"):60108,ut=Ye?Symbol.for("react.profiler"):60114,ht=Ye?Symbol.for("react.provider"):60109,ft=Ye?Symbol.for("react.context"):60110,pt=Ye?Symbol.for("react.async_mode"):60111,mt=Ye?Symbol.for("react.concurrent_mode"):60111,gt=Ye?Symbol.for("react.forward_ref"):60112,yt=Ye?Symbol.for("react.suspense"):60113,xt=Ye?Symbol.for("react.suspense_list"):60120,bt=Ye?Symbol.for("react.memo"):60115,_t=Ye?Symbol.for("react.lazy"):60116,Ct=Ye?Symbol.for("react.block"):60121,kt=Ye?Symbol.for("react.fundamental"):60117,St=Ye?Symbol.for("react.responder"):60118,Rt=Ye?Symbol.for("react.scope"):60119;function Tt(Pt){if(typeof Pt=="object"&&Pt!==null){var It=Pt.$$typeof;switch(It){case rt:switch(Pt=Pt.type,Pt){case pt:case mt:case lt:case ut:case ct:case yt:return Pt;default:switch(Pt=Pt&&Pt.$$typeof,Pt){case ft:case gt:case _t:case bt:case ht:return Pt;default:return It}}case it:return It}}}function Mt(Pt){return Tt(Pt)===mt}return reactIs_production_min.AsyncMode=pt,reactIs_production_min.ConcurrentMode=mt,reactIs_production_min.ContextConsumer=ft,reactIs_production_min.ContextProvider=ht,reactIs_production_min.Element=rt,reactIs_production_min.ForwardRef=gt,reactIs_production_min.Fragment=lt,reactIs_production_min.Lazy=_t,reactIs_production_min.Memo=bt,reactIs_production_min.Portal=it,reactIs_production_min.Profiler=ut,reactIs_production_min.StrictMode=ct,reactIs_production_min.Suspense=yt,reactIs_production_min.isAsyncMode=function(Pt){return Mt(Pt)||Tt(Pt)===pt},reactIs_production_min.isConcurrentMode=Mt,reactIs_production_min.isContextConsumer=function(Pt){return Tt(Pt)===ft},reactIs_production_min.isContextProvider=function(Pt){return Tt(Pt)===ht},reactIs_production_min.isElement=function(Pt){return typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===rt},reactIs_production_min.isForwardRef=function(Pt){return Tt(Pt)===gt},reactIs_production_min.isFragment=function(Pt){return Tt(Pt)===lt},reactIs_production_min.isLazy=function(Pt){return Tt(Pt)===_t},reactIs_production_min.isMemo=function(Pt){return Tt(Pt)===bt},reactIs_production_min.isPortal=function(Pt){return Tt(Pt)===it},reactIs_production_min.isProfiler=function(Pt){return Tt(Pt)===ut},reactIs_production_min.isStrictMode=function(Pt){return Tt(Pt)===ct},reactIs_production_min.isSuspense=function(Pt){return Tt(Pt)===yt},reactIs_production_min.isValidElementType=function(Pt){return typeof Pt=="string"||typeof Pt=="function"||Pt===lt||Pt===mt||Pt===ut||Pt===ct||Pt===yt||Pt===xt||typeof Pt=="object"&&Pt!==null&&(Pt.$$typeof===_t||Pt.$$typeof===bt||Pt.$$typeof===ht||Pt.$$typeof===ft||Pt.$$typeof===gt||Pt.$$typeof===kt||Pt.$$typeof===St||Pt.$$typeof===Rt||Pt.$$typeof===Ct)},reactIs_production_min.typeOf=Tt,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var Ye=requireReactIs(),rt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},it={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ct={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ut={};ut[Ye.ForwardRef]=lt,ut[Ye.Memo]=ct;function ht(_t){return Ye.isMemo(_t)?ct:ut[_t.$$typeof]||rt}var ft=Object.defineProperty,pt=Object.getOwnPropertyNames,mt=Object.getOwnPropertySymbols,gt=Object.getOwnPropertyDescriptor,yt=Object.getPrototypeOf,xt=Object.prototype;function bt(_t,Ct,kt){if(typeof Ct!="string"){if(xt){var St=yt(Ct);St&&St!==xt&&bt(_t,St,kt)}var Rt=pt(Ct);mt&&(Rt=Rt.concat(mt(Ct)));for(var Tt=ht(_t),Mt=ht(Ct),Pt=0;Pt<Rt.length;++Pt){var It=Rt[Pt];if(!it[It]&&!(kt&&kt[It])&&!(Mt&&Mt[It])&&!(Tt&&Tt[It])){var Lt=gt(Ct,It);try{ft(_t,It,Lt)}catch{}}}}return _t}return hoistNonReactStatics_cjs=bt,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var IntlContext=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=reactExports.createContext(null)):reactExports.createContext(null);IntlContext.Consumer;var IntlProvider$1=IntlContext.Provider,Provider$1=IntlProvider$1,Context$1=IntlContext;function useIntl(){var Ye=reactExports.useContext(Context$1);return invariantIntlContext(Ye),Ye}var DisplayName;(function(Ye){Ye.formatDate="FormattedDate",Ye.formatTime="FormattedTime",Ye.formatNumber="FormattedNumber",Ye.formatList="FormattedList",Ye.formatDisplayName="FormattedDisplayName"})(DisplayName||(DisplayName={}));var DisplayNameParts;(function(Ye){Ye.formatDate="FormattedDateParts",Ye.formatTime="FormattedTimeParts",Ye.formatNumber="FormattedNumberParts",Ye.formatList="FormattedListParts"})(DisplayNameParts||(DisplayNameParts={}));function createFormattedDateTimePartsComponent(Ye){var rt=function(it){var lt=useIntl(),ct=it.value,ut=it.children,ht=__rest(it,["value","children"]),ft=typeof ct=="string"?new Date(ct||0):ct,pt=Ye==="formatDate"?lt.formatDateToParts(ft,ht):lt.formatTimeToParts(ft,ht);return ut(pt)};return rt.displayName=DisplayNameParts[Ye],rt}function createFormattedComponent(Ye){var rt=function(it){var lt=useIntl(),ct=it.value,ut=it.children,ht=__rest(it,["value","children"]),ft=lt[Ye](ct,ht);if(typeof ut=="function")return ut(ft);var pt=lt.textComponent||reactExports.Fragment;return reactExports.createElement(pt,null,ft)};return rt.displayName=DisplayName[Ye],rt}function assignUniqueKeysToFormatXMLElementFnArgument(Ye){return Ye&&Object.keys(Ye).reduce(function(rt,it){var lt=Ye[it];return rt[it]=isFormatXMLElementFn(lt)?assignUniqueKeysToParts(lt):lt,rt},{})}var formatMessage=function(Ye,rt,it,lt){for(var ct=[],ut=4;ut<arguments.length;ut++)ct[ut-4]=arguments[ut];var ht=assignUniqueKeysToFormatXMLElementFnArgument(lt),ft=formatMessage$1.apply(void 0,__spreadArray([Ye,rt,it,ht],ct,!1));return Array.isArray(ft)?toKeyedReactNodeArray(ft):ft},createIntl=function(Ye,rt){var it=Ye.defaultRichTextElements,lt=__rest(Ye,["defaultRichTextElements"]),ct=assignUniqueKeysToFormatXMLElementFnArgument(it),ut=createIntl$1(__assign(__assign(__assign({},DEFAULT_INTL_CONFIG),lt),{defaultRichTextElements:ct}),rt),ht={locale:ut.locale,timeZone:ut.timeZone,fallbackOnEmptyString:ut.fallbackOnEmptyString,formats:ut.formats,defaultLocale:ut.defaultLocale,defaultFormats:ut.defaultFormats,messages:ut.messages,onError:ut.onError,defaultRichTextElements:ct};return __assign(__assign({},ut),{formatMessage:formatMessage.bind(null,ht,ut.formatters),$t:formatMessage.bind(null,ht,ut.formatters)})};function areEqual$1(Ye,rt){var it=Ye.values,lt=__rest(Ye,["values"]),ct=rt.values,ut=__rest(rt,["values"]);return shallowEqual(ct,it)&&shallowEqual(lt,ut)}function FormattedMessage(Ye){var rt=useIntl(),it=rt.formatMessage,lt=rt.textComponent,ct=lt===void 0?reactExports.Fragment:lt,ut=Ye.id,ht=Ye.description,ft=Ye.defaultMessage,pt=Ye.values,mt=Ye.children,gt=Ye.tagName,yt=gt===void 0?ct:gt,xt=Ye.ignoreTag,bt={id:ut,description:ht,defaultMessage:ft},_t=it(bt,pt,{ignoreTag:xt});return typeof mt=="function"?mt(Array.isArray(_t)?_t:[_t]):yt?reactExports.createElement(yt,null,_t):reactExports.createElement(reactExports.Fragment,null,_t)}FormattedMessage.displayName="FormattedMessage";var MemoizedFormattedMessage=reactExports.memo(FormattedMessage,areEqual$1);MemoizedFormattedMessage.displayName="MemoizedFormattedMessage";function processIntlConfig(Ye){return{locale:Ye.locale,timeZone:Ye.timeZone,fallbackOnEmptyString:Ye.fallbackOnEmptyString,formats:Ye.formats,textComponent:Ye.textComponent,messages:Ye.messages,defaultLocale:Ye.defaultLocale,defaultFormats:Ye.defaultFormats,onError:Ye.onError,onWarn:Ye.onWarn,wrapRichTextChunksInFragment:Ye.wrapRichTextChunksInFragment,defaultRichTextElements:Ye.defaultRichTextElements}}var IntlProvider=(function(Ye){__extends(rt,Ye);function rt(){var it=Ye!==null&&Ye.apply(this,arguments)||this;return it.cache=createIntlCache(),it.state={cache:it.cache,intl:createIntl(processIntlConfig(it.props),it.cache),prevConfig:processIntlConfig(it.props)},it}return rt.getDerivedStateFromProps=function(it,lt){var ct=lt.prevConfig,ut=lt.cache,ht=processIntlConfig(it);return shallowEqual(ct,ht)?null:{intl:createIntl(ht,ut),prevConfig:ht}},rt.prototype.render=function(){return invariantIntlContext(this.state.intl),reactExports.createElement(Provider$1,{value:this.state.intl},this.props.children)},rt.displayName="IntlProvider",rt.defaultProps=DEFAULT_INTL_CONFIG,rt})(reactExports.PureComponent);function defineMessages(Ye){return Ye}createFormattedComponent("formatDate");createFormattedComponent("formatTime");var FormattedNumber=createFormattedComponent("formatNumber");createFormattedComponent("formatList");createFormattedComponent("formatDisplayName");createFormattedDateTimePartsComponent("formatDate");createFormattedDateTimePartsComponent("formatTime");function CodexAutoUpgradeAnnouncement(){const Ye=useIntl(),{authMethod:rt}=useAuth(),{dismissAnnouncement:it}=useCodexAutoAnnouncement(),{modelSettings:lt,setModelAndReasoningEffort:ct}=useModelSettings(null,rt==="copilot"),{columns:ut,rows:ht,lines:ft}=useAsciiEngine({initialColumns:180,initialRows:110,initialMode:"composite",preferredVideoKeyword:"blossom"}),pt=reactExports.useCallback(()=>{AVAILABLE_MODELS.has(normalizeModel(lt.model))||ct(getModelUpgrade(normalizeModel(lt.model)),lt.reasoningEffort),it()},[it,ct,lt]),mt=reactExports.useCallback(()=>{ct("gpt-5.1-codex-max",lt.reasoningEffort),it()},[it,ct,lt]);return jsxRuntimeExports.jsxs("div",{className:"bg-token-bg-primary pointer-events-auto fixed inset-0 z-50 h-full w-full items-center justify-center overflow-hidden px-8 py-10 text-center",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 -ml-6",style:{maskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 35%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0) 78%)",maskRepeat:"no-repeat",maskSize:"100% 100%",opacity:.15},children:jsxRuntimeExports.jsx(AsciiShader,{lines:ft,columns:ut,rows:ht,scale:.95,autoCover:!0})}),jsxRuntimeExports.jsxs("div",{className:"relative m-auto flex h-full max-w-lg flex-col justify-between gap-10 overflow-auto",children:[jsxRuntimeExports.jsx("span",{}),jsxRuntimeExports.jsxs("div",{className:"relative flex shrink-0 items-center justify-center overflow-hidden rounded-2xl",children:[jsxRuntimeExports.jsx("img",{src:gradientBackground,alt:Ye.formatMessage({id:"codexUpgradeModal.image.altText",defaultMessage:"GPT-5.1-Codex-Max",description:"alt text for the iamge"}),className:"w-full object-contain"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center px-6 text-center text-xl font-semibold text-white max-[500px]:text-lg",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.productName",defaultMessage:"GPT-5.1-Codex-Max",description:"Label highlighting the upgraded model name in the Codex upgrade modal"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.title",defaultMessage:"Codex just got an upgrade",description:"Title for the Codex upgrade modal"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground pb-8 text-lg leading-7 max-[500px]:text-base max-[500px]:leading-5",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.body",defaultMessage:"Codex is now powered by GPT-5.1-Codex-Max, our latest frontier agentic coding model. It is {link} than its predecessors and capable of long-running project-scale work.",description:"Body copy explaining that Codex uses GPT-5.1-Codex-Max",values:{link:jsxRuntimeExports.jsx("a",{href:"http://www.openai.com/index/gpt-5-1-codex-max",target:"_blank",rel:"noreferrer",className:"text-token-text-link-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.smarterAndFaster",defaultMessage:"smarter and faster",description:"Link text to open the GPT-5.1-Codex-Max announcement"})})}})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs(Button,{size:"large",color:"secondary",className:"justify-center gap-2 text-lg",onClick:mt,children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.tryNewModel",defaultMessage:"Try new model now",description:"Primary CTA encouraging users to adopt the upgraded model"})}),jsxRuntimeExports.jsx(SvgArrowUp,{className:"icon-sm rotate-90"})]}),jsxRuntimeExports.jsx(Button,{type:"button",size:"large",color:"ghost",onClick:pt,className:"justify-center gap-2 text-lg",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codexUpgradeModal.useExistingModel",defaultMessage:"Use existing model",description:"Secondary action that dismisses the Codex upgrade modal"})})]})]})]})]})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function createMemoryHistory(Ye={}){let{initialEntries:rt=["/"],initialIndex:it,v5Compat:lt=!1}=Ye,ct;ct=rt.map((bt,_t)=>gt(bt,typeof bt=="string"?null:bt.state,_t===0?"default":void 0));let ut=pt(it??ct.length-1),ht="POP",ft=null;function pt(bt){return Math.min(Math.max(bt,0),ct.length-1)}function mt(){return ct[ut]}function gt(bt,_t=null,Ct){let kt=createLocation(ct?mt().pathname:"/",bt,_t,Ct);return warning(kt.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(bt)}`),kt}function yt(bt){return typeof bt=="string"?bt:createPath(bt)}return{get index(){return ut},get action(){return ht},get location(){return mt()},createHref:yt,createURL(bt){return new URL(yt(bt),"http://localhost")},encodeLocation(bt){let _t=typeof bt=="string"?parsePath(bt):bt;return{pathname:_t.pathname||"",search:_t.search||"",hash:_t.hash||""}},push(bt,_t){ht="PUSH";let Ct=gt(bt,_t);ut+=1,ct.splice(ut,ct.length,Ct),lt&&ft&&ft({action:ht,location:Ct,delta:1})},replace(bt,_t){ht="REPLACE";let Ct=gt(bt,_t);ct[ut]=Ct,lt&&ft&&ft({action:ht,location:Ct,delta:0})},go(bt){ht="POP";let _t=pt(ut+bt),Ct=ct[_t];ut=_t,ft&&ft({action:ht,location:Ct,delta:bt})},listen(bt){return ft=bt,()=>{ft=null}}}}function invariant(Ye,rt){if(Ye===!1||Ye===null||typeof Ye>"u")throw new Error(rt)}function warning(Ye,rt){if(!Ye){typeof console<"u"&&console.warn(rt);try{throw new Error(rt)}catch{}}}function createKey$2(){return Math.random().toString(36).substring(2,10)}function createLocation(Ye,rt,it=null,lt){return{pathname:typeof Ye=="string"?Ye:Ye.pathname,search:"",hash:"",...typeof rt=="string"?parsePath(rt):rt,state:it,key:rt&&rt.key||lt||createKey$2()}}function createPath({pathname:Ye="/",search:rt="",hash:it=""}){return rt&&rt!=="?"&&(Ye+=rt.charAt(0)==="?"?rt:"?"+rt),it&&it!=="#"&&(Ye+=it.charAt(0)==="#"?it:"#"+it),Ye}function parsePath(Ye){let rt={};if(Ye){let it=Ye.indexOf("#");it>=0&&(rt.hash=Ye.substring(it),Ye=Ye.substring(0,it));let lt=Ye.indexOf("?");lt>=0&&(rt.search=Ye.substring(lt),Ye=Ye.substring(0,lt)),Ye&&(rt.pathname=Ye)}return rt}function matchRoutes(Ye,rt,it="/"){return matchRoutesImpl(Ye,rt,it,!1)}function matchRoutesImpl(Ye,rt,it,lt){let ct=typeof rt=="string"?parsePath(rt):rt,ut=stripBasename(ct.pathname||"/",it);if(ut==null)return null;let ht=flattenRoutes(Ye);rankRouteBranches(ht);let ft=null;for(let pt=0;ft==null&&pt<ht.length;++pt){let mt=decodePath(ut);ft=matchRouteBranch(ht[pt],mt,lt)}return ft}function flattenRoutes(Ye,rt=[],it=[],lt="",ct=!1){let ut=(ht,ft,pt=ct,mt)=>{let gt={relativePath:mt===void 0?ht.path||"":mt,caseSensitive:ht.caseSensitive===!0,childrenIndex:ft,route:ht};if(gt.relativePath.startsWith("/")){if(!gt.relativePath.startsWith(lt)&&pt)return;invariant(gt.relativePath.startsWith(lt),`Absolute route path "${gt.relativePath}" nested under path "${lt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),gt.relativePath=gt.relativePath.slice(lt.length)}let yt=joinPaths([lt,gt.relativePath]),xt=it.concat(gt);ht.children&&ht.children.length>0&&(invariant(ht.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${yt}".`),flattenRoutes(ht.children,rt,xt,yt,pt)),!(ht.path==null&&!ht.index)&&rt.push({path:yt,score:computeScore$2(yt,ht.index),routesMeta:xt})};return Ye.forEach((ht,ft)=>{if(ht.path===""||!ht.path?.includes("?"))ut(ht,ft);else for(let pt of explodeOptionalSegments(ht.path))ut(ht,ft,!0,pt)}),rt}function explodeOptionalSegments(Ye){let rt=Ye.split("/");if(rt.length===0)return[];let[it,...lt]=rt,ct=it.endsWith("?"),ut=it.replace(/\?$/,"");if(lt.length===0)return ct?[ut,""]:[ut];let ht=explodeOptionalSegments(lt.join("/")),ft=[];return ft.push(...ht.map(pt=>pt===""?ut:[ut,pt].join("/"))),ct&&ft.push(...ht),ft.map(pt=>Ye.startsWith("/")&&pt===""?"/":pt)}function rankRouteBranches(Ye){Ye.sort((rt,it)=>rt.score!==it.score?it.score-rt.score:compareIndexes(rt.routesMeta.map(lt=>lt.childrenIndex),it.routesMeta.map(lt=>lt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ye=>Ye==="*";function computeScore$2(Ye,rt){let it=Ye.split("/"),lt=it.length;return it.some(isSplat)&&(lt+=splatPenalty),rt&&(lt+=indexRouteValue),it.filter(ct=>!isSplat(ct)).reduce((ct,ut)=>ct+(paramRe.test(ut)?dynamicSegmentValue:ut===""?emptySegmentValue:staticSegmentValue),lt)}function compareIndexes(Ye,rt){return Ye.length===rt.length&&Ye.slice(0,-1).every((lt,ct)=>lt===rt[ct])?Ye[Ye.length-1]-rt[rt.length-1]:0}function matchRouteBranch(Ye,rt,it=!1){let{routesMeta:lt}=Ye,ct={},ut="/",ht=[];for(let ft=0;ft<lt.length;++ft){let pt=lt[ft],mt=ft===lt.length-1,gt=ut==="/"?rt:rt.slice(ut.length)||"/",yt=matchPath({path:pt.relativePath,caseSensitive:pt.caseSensitive,end:mt},gt),xt=pt.route;if(!yt&&mt&&it&&!lt[lt.length-1].route.index&&(yt=matchPath({path:pt.relativePath,caseSensitive:pt.caseSensitive,end:!1},gt)),!yt)return null;Object.assign(ct,yt.params),ht.push({params:ct,pathname:joinPaths([ut,yt.pathname]),pathnameBase:normalizePathname(joinPaths([ut,yt.pathnameBase])),route:xt}),yt.pathnameBase!=="/"&&(ut=joinPaths([ut,yt.pathnameBase]))}return ht}function matchPath(Ye,rt){typeof Ye=="string"&&(Ye={path:Ye,caseSensitive:!1,end:!0});let[it,lt]=compilePath(Ye.path,Ye.caseSensitive,Ye.end),ct=rt.match(it);if(!ct)return null;let ut=ct[0],ht=ut.replace(/(.)\/+$/,"$1"),ft=ct.slice(1);return{params:lt.reduce((mt,{paramName:gt,isOptional:yt},xt)=>{if(gt==="*"){let _t=ft[xt]||"";ht=ut.slice(0,ut.length-_t.length).replace(/(.)\/+$/,"$1")}const bt=ft[xt];return yt&&!bt?mt[gt]=void 0:mt[gt]=(bt||"").replace(/%2F/g,"/"),mt},{}),pathname:ut,pathnameBase:ht,pattern:Ye}}function compilePath(Ye,rt=!1,it=!0){warning(Ye==="*"||!Ye.endsWith("*")||Ye.endsWith("/*"),`Route path "${Ye}" will be treated as if it were "${Ye.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ye.replace(/\*$/,"/*")}".`);let lt=[],ct="^"+Ye.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ht,ft,pt)=>(lt.push({paramName:ft,isOptional:pt!=null}),pt?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return Ye.endsWith("*")?(lt.push({paramName:"*"}),ct+=Ye==="*"||Ye==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):it?ct+="\\/*$":Ye!==""&&Ye!=="/"&&(ct+="(?:(?=\\/|$))"),[new RegExp(ct,rt?void 0:"i"),lt]}function decodePath(Ye){try{return Ye.split("/").map(rt=>decodeURIComponent(rt).replace(/\//g,"%2F")).join("/")}catch(rt){return warning(!1,`The URL path "${Ye}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${rt}).`),Ye}}function stripBasename(Ye,rt){if(rt==="/")return Ye;if(!Ye.toLowerCase().startsWith(rt.toLowerCase()))return null;let it=rt.endsWith("/")?rt.length-1:rt.length,lt=Ye.charAt(it);return lt&&lt!=="/"?null:Ye.slice(it)||"/"}function resolvePath(Ye,rt="/"){let{pathname:it,search:lt="",hash:ct=""}=typeof Ye=="string"?parsePath(Ye):Ye;return{pathname:it?it.startsWith("/")?it:resolvePathname(it,rt):rt,search:normalizeSearch(lt),hash:normalizeHash(ct)}}function resolvePathname(Ye,rt){let it=rt.replace(/\/+$/,"").split("/");return Ye.split("/").forEach(ct=>{ct===".."?it.length>1&&it.pop():ct!=="."&&it.push(ct)}),it.length>1?it.join("/"):"/"}function getInvalidPathError(Ye,rt,it,lt){return`Cannot include a '${Ye}' character in a manually specified \`to.${rt}\` field [${JSON.stringify(lt)}].  Please separate it out to the \`to.${it}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ye){return Ye.filter((rt,it)=>it===0||rt.route.path&&rt.route.path.length>0)}function getResolveToMatches(Ye){let rt=getPathContributingMatches(Ye);return rt.map((it,lt)=>lt===rt.length-1?it.pathname:it.pathnameBase)}function resolveTo(Ye,rt,it,lt=!1){let ct;typeof Ye=="string"?ct=parsePath(Ye):(ct={...Ye},invariant(!ct.pathname||!ct.pathname.includes("?"),getInvalidPathError("?","pathname","search",ct)),invariant(!ct.pathname||!ct.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ct)),invariant(!ct.search||!ct.search.includes("#"),getInvalidPathError("#","search","hash",ct)));let ut=Ye===""||ct.pathname==="",ht=ut?"/":ct.pathname,ft;if(ht==null)ft=it;else{let yt=rt.length-1;if(!lt&&ht.startsWith("..")){let xt=ht.split("/");for(;xt[0]==="..";)xt.shift(),yt-=1;ct.pathname=xt.join("/")}ft=yt>=0?rt[yt]:"/"}let pt=resolvePath(ct,ft),mt=ht&&ht!=="/"&&ht.endsWith("/"),gt=(ut||ht===".")&&it.endsWith("/");return!pt.pathname.endsWith("/")&&(mt||gt)&&(pt.pathname+="/"),pt}var joinPaths=Ye=>Ye.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ye=>Ye.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ye=>!Ye||Ye==="?"?"":Ye.startsWith("?")?Ye:"?"+Ye,normalizeHash=Ye=>!Ye||Ye==="#"?"":Ye.startsWith("#")?Ye:"#"+Ye;function isRouteErrorResponse(Ye){return Ye!=null&&typeof Ye.status=="number"&&typeof Ye.statusText=="string"&&typeof Ye.internal=="boolean"&&"data"in Ye}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ye,{relative:rt}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:it,navigator:lt}=reactExports.useContext(NavigationContext),{hash:ct,pathname:ut,search:ht}=useResolvedPath(Ye,{relative:rt}),ft=ut;return it!=="/"&&(ft=ut==="/"?it:joinPaths([it,ut])),lt.createHref({pathname:ft,search:ht,hash:ct})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}function useMatch(Ye){invariant(useInRouterContext(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:rt}=useLocation();return reactExports.useMemo(()=>matchPath(Ye,decodePath(rt)),[rt,Ye])}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(Ye){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ye)}function useNavigate(){let{isDataRoute:Ye}=reactExports.useContext(RouteContext);return Ye?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ye=reactExports.useContext(DataRouterContext),{basename:rt,navigator:it}=reactExports.useContext(NavigationContext),{matches:lt}=reactExports.useContext(RouteContext),{pathname:ct}=useLocation(),ut=JSON.stringify(getResolveToMatches(lt)),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ht.current=!0}),reactExports.useCallback((pt,mt={})=>{if(warning(ht.current,navigateEffectWarning),!ht.current)return;if(typeof pt=="number"){it.go(pt);return}let gt=resolveTo(pt,JSON.parse(ut),ct,mt.relative==="path");Ye==null&&rt!=="/"&&(gt.pathname=gt.pathname==="/"?rt:joinPaths([rt,gt.pathname])),(mt.replace?it.replace:it.push)(gt,mt.state,mt)},[rt,it,ut,ct,Ye])}var OutletContext=reactExports.createContext(null);function useOutlet(Ye){let rt=reactExports.useContext(RouteContext).outlet;return reactExports.useMemo(()=>rt&&reactExports.createElement(OutletContext.Provider,{value:Ye},rt),[rt,Ye])}function useParams(){let{matches:Ye}=reactExports.useContext(RouteContext),rt=Ye[Ye.length-1];return rt?rt.params:{}}function useResolvedPath(Ye,{relative:rt}={}){let{matches:it}=reactExports.useContext(RouteContext),{pathname:lt}=useLocation(),ct=JSON.stringify(getResolveToMatches(it));return reactExports.useMemo(()=>resolveTo(Ye,JSON.parse(ct),lt,rt==="path"),[Ye,ct,lt,rt])}function useRoutes(Ye,rt){return useRoutesImpl(Ye,rt)}function useRoutesImpl(Ye,rt,it,lt,ct){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:ut}=reactExports.useContext(NavigationContext),{matches:ht}=reactExports.useContext(RouteContext),ft=ht[ht.length-1],pt=ft?ft.params:{},mt=ft?ft.pathname:"/",gt=ft?ft.pathnameBase:"/",yt=ft&&ft.route;{let Rt=yt&&yt.path||"";warningOnce(mt,!yt||Rt.endsWith("*")||Rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${mt}" (under <Route path="${Rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Rt}"> to <Route path="${Rt==="/"?"*":`${Rt}/*`}">.`)}let xt=useLocation(),bt;if(rt){let Rt=typeof rt=="string"?parsePath(rt):rt;invariant(gt==="/"||Rt.pathname?.startsWith(gt),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${gt}" but pathname "${Rt.pathname}" was given in the \`location\` prop.`),bt=Rt}else bt=xt;let _t=bt.pathname||"/",Ct=_t;if(gt!=="/"){let Rt=gt.replace(/^\//,"").split("/");Ct="/"+_t.replace(/^\//,"").split("/").slice(Rt.length).join("/")}let kt=matchRoutes(Ye,{pathname:Ct});warning(yt||kt!=null,`No routes matched location "${bt.pathname}${bt.search}${bt.hash}" `),warning(kt==null||kt[kt.length-1].route.element!==void 0||kt[kt.length-1].route.Component!==void 0||kt[kt.length-1].route.lazy!==void 0,`Matched leaf route at location "${bt.pathname}${bt.search}${bt.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let St=_renderMatches(kt&&kt.map(Rt=>Object.assign({},Rt,{params:Object.assign({},pt,Rt.params),pathname:joinPaths([gt,ut.encodeLocation?ut.encodeLocation(Rt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Rt.pathname]),pathnameBase:Rt.pathnameBase==="/"?gt:joinPaths([gt,ut.encodeLocation?ut.encodeLocation(Rt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Rt.pathnameBase])})),ht,it,lt,ct);return rt&&St?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...bt},navigationType:"POP"}},St):St}function DefaultErrorComponent(){let Ye=useRouteError(),rt=isRouteErrorResponse(Ye)?`${Ye.status} ${Ye.statusText}`:Ye instanceof Error?Ye.message:JSON.stringify(Ye),it=Ye instanceof Error?Ye.stack:null,lt="rgba(200,200,200, 0.5)",ct={padding:"0.5rem",backgroundColor:lt},ut={padding:"2px 4px",backgroundColor:lt},ht=null;return console.error("Error handled by React Router default ErrorBoundary:",Ye),ht=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:ut},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:ut},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},rt),it?reactExports.createElement("pre",{style:ct},it):null,ht)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ye){super(Ye),this.state={location:Ye.location,revalidation:Ye.revalidation,error:Ye.error}}static getDerivedStateFromError(Ye){return{error:Ye}}static getDerivedStateFromProps(Ye,rt){return rt.location!==Ye.location||rt.revalidation!=="idle"&&Ye.revalidation==="idle"?{error:Ye.error,location:Ye.location,revalidation:Ye.revalidation}:{error:Ye.error!==void 0?Ye.error:rt.error,location:rt.location,revalidation:Ye.revalidation||rt.revalidation}}componentDidCatch(Ye,rt){this.props.unstable_onError?this.props.unstable_onError(Ye,rt):console.error("React Router caught the following error during render",Ye)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ye,match:rt,children:it}){let lt=reactExports.useContext(DataRouterContext);return lt&&lt.static&&lt.staticContext&&(rt.route.errorElement||rt.route.ErrorBoundary)&&(lt.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:Ye},it)}function _renderMatches(Ye,rt=[],it=null,lt=null,ct=null){if(Ye==null){if(!it)return null;if(it.errors)Ye=it.matches;else if(rt.length===0&&!it.initialized&&it.matches.length>0)Ye=it.matches;else return null}let ut=Ye,ht=it?.errors;if(ht!=null){let mt=ut.findIndex(gt=>gt.route.id&&ht?.[gt.route.id]!==void 0);invariant(mt>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(ht).join(",")}`),ut=ut.slice(0,Math.min(ut.length,mt+1))}let ft=!1,pt=-1;if(it)for(let mt=0;mt<ut.length;mt++){let gt=ut[mt];if((gt.route.HydrateFallback||gt.route.hydrateFallbackElement)&&(pt=mt),gt.route.id){let{loaderData:yt,errors:xt}=it,bt=gt.route.loader&&!yt.hasOwnProperty(gt.route.id)&&(!xt||xt[gt.route.id]===void 0);if(gt.route.lazy||bt){ft=!0,pt>=0?ut=ut.slice(0,pt+1):ut=[ut[0]];break}}}return ut.reduceRight((mt,gt,yt)=>{let xt,bt=!1,_t=null,Ct=null;it&&(xt=ht&&gt.route.id?ht[gt.route.id]:void 0,_t=gt.route.errorElement||defaultErrorElement,ft&&(pt<0&&yt===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),bt=!0,Ct=null):pt===yt&&(bt=!0,Ct=gt.route.hydrateFallbackElement||null)));let kt=rt.concat(ut.slice(0,yt+1)),St=()=>{let Rt;return xt?Rt=_t:bt?Rt=Ct:gt.route.Component?Rt=reactExports.createElement(gt.route.Component,null):gt.route.element?Rt=gt.route.element:Rt=mt,reactExports.createElement(RenderedRoute,{match:gt,routeContext:{outlet:mt,matches:kt,isDataRoute:it!=null},children:Rt})};return it&&(gt.route.ErrorBoundary||gt.route.errorElement||yt===0)?reactExports.createElement(RenderErrorBoundary,{location:it.location,revalidation:it.revalidation,component:_t,error:xt,children:St(),routeContext:{outlet:null,matches:kt,isDataRoute:!0},unstable_onError:lt}):St()},null)}function getDataRouterConsoleError(Ye){return`${Ye} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ye){let rt=reactExports.useContext(DataRouterContext);return invariant(rt,getDataRouterConsoleError(Ye)),rt}function useDataRouterState(Ye){let rt=reactExports.useContext(DataRouterStateContext);return invariant(rt,getDataRouterConsoleError(Ye)),rt}function useRouteContext(Ye){let rt=reactExports.useContext(RouteContext);return invariant(rt,getDataRouterConsoleError(Ye)),rt}function useCurrentRouteId(Ye){let rt=useRouteContext(Ye),it=rt.matches[rt.matches.length-1];return invariant(it.route.id,`${Ye} can only be used on routes that contain a unique "id"`),it.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let Ye=reactExports.useContext(RouteErrorContext),rt=useDataRouterState("useRouteError"),it=useCurrentRouteId("useRouteError");return Ye!==void 0?Ye:rt.errors?.[it]}function useNavigateStable(){let{router:Ye}=useDataRouterContext("useNavigate"),rt=useCurrentRouteId("useNavigate"),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{it.current=!0}),reactExports.useCallback(async(ct,ut={})=>{warning(it.current,navigateEffectWarning),it.current&&(typeof ct=="number"?Ye.navigate(ct):await Ye.navigate(ct,{fromRouteId:rt,...ut}))},[Ye,rt])}var alreadyWarned={};function warningOnce(Ye,rt,it){!rt&&!alreadyWarned[Ye]&&(alreadyWarned[Ye]=!0,warning(!1,it))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ye,future:rt,state:it,unstable_onError:lt}){return useRoutesImpl(Ye,void 0,it,lt,rt)}function MemoryRouter({basename:Ye,children:rt,initialEntries:it,initialIndex:lt}){let ct=reactExports.useRef();ct.current==null&&(ct.current=createMemoryHistory({initialEntries:it,initialIndex:lt,v5Compat:!0}));let ut=ct.current,[ht,ft]=reactExports.useState({action:ut.action,location:ut.location}),pt=reactExports.useCallback(mt=>{reactExports.startTransition(()=>ft(mt))},[ft]);return reactExports.useLayoutEffect(()=>ut.listen(pt),[ut,pt]),reactExports.createElement(Router,{basename:Ye,children:rt,location:ht.location,navigationType:ht.action,navigator:ut})}function Navigate({to:Ye,replace:rt,state:it,relative:lt}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ct}=reactExports.useContext(NavigationContext);warning(!ct,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:ut}=reactExports.useContext(RouteContext),{pathname:ht}=useLocation(),ft=useNavigate(),pt=resolveTo(Ye,getResolveToMatches(ut),ht,lt==="path"),mt=JSON.stringify(pt);return reactExports.useEffect(()=>{ft(JSON.parse(mt),{replace:rt,state:it,relative:lt})},[ft,mt,lt,rt,it]),null}function Outlet(Ye){return useOutlet(Ye.context)}function Route(Ye){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ye="/",children:rt=null,location:it,navigationType:lt="POP",navigator:ct,static:ut=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let ht=Ye.replace(/^\/*/,"/"),ft=reactExports.useMemo(()=>({basename:ht,navigator:ct,static:ut,future:{}}),[ht,ct,ut]);typeof it=="string"&&(it=parsePath(it));let{pathname:pt="/",search:mt="",hash:gt="",state:yt=null,key:xt="default"}=it,bt=reactExports.useMemo(()=>{let _t=stripBasename(pt,ht);return _t==null?null:{location:{pathname:_t,search:mt,hash:gt,state:yt,key:xt},navigationType:lt}},[ht,pt,mt,gt,yt,xt,lt]);return warning(bt!=null,`<Router basename="${ht}"> is not able to match the URL "${pt}${mt}${gt}" because it does not start with the basename, so the <Router> won't render anything.`),bt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ft},reactExports.createElement(LocationContext.Provider,{children:rt,value:bt}))}function Routes({children:Ye,location:rt}){return useRoutes(createRoutesFromChildren(Ye),rt)}function createRoutesFromChildren(Ye,rt=[]){let it=[];return reactExports.Children.forEach(Ye,(lt,ct)=>{if(!reactExports.isValidElement(lt))return;let ut=[...rt,ct];if(lt.type===reactExports.Fragment){it.push.apply(it,createRoutesFromChildren(lt.props.children,ut));return}invariant(lt.type===Route,`[${typeof lt.type=="string"?lt.type:lt.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!lt.props.index||!lt.props.children,"An index route cannot have child routes.");let ht={id:lt.props.id||ut.join("-"),caseSensitive:lt.props.caseSensitive,element:lt.props.element,Component:lt.props.Component,index:lt.props.index,path:lt.props.path,middleware:lt.props.middleware,loader:lt.props.loader,action:lt.props.action,hydrateFallbackElement:lt.props.hydrateFallbackElement,HydrateFallback:lt.props.HydrateFallback,errorElement:lt.props.errorElement,ErrorBoundary:lt.props.ErrorBoundary,hasErrorBoundary:lt.props.hasErrorBoundary===!0||lt.props.ErrorBoundary!=null||lt.props.errorElement!=null,shouldRevalidate:lt.props.shouldRevalidate,handle:lt.props.handle,lazy:lt.props.lazy};lt.props.children&&(ht.children=createRoutesFromChildren(lt.props.children,ut)),it.push(ht)}),it}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ye){return Ye!=null&&typeof Ye.tagName=="string"}function isButtonElement(Ye){return isHtmlElement(Ye)&&Ye.tagName.toLowerCase()==="button"}function isFormElement(Ye){return isHtmlElement(Ye)&&Ye.tagName.toLowerCase()==="form"}function isInputElement(Ye){return isHtmlElement(Ye)&&Ye.tagName.toLowerCase()==="input"}function isModifiedEvent(Ye){return!!(Ye.metaKey||Ye.altKey||Ye.ctrlKey||Ye.shiftKey)}function shouldProcessLinkClick(Ye,rt){return Ye.button===0&&(!rt||rt==="_self")&&!isModifiedEvent(Ye)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ye){return Ye!=null&&!supportedFormEncTypes.has(Ye)?(warning(!1,`"${Ye}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ye}function getFormSubmissionInfo(Ye,rt){let it,lt,ct,ut,ht;if(isFormElement(Ye)){let ft=Ye.getAttribute("action");lt=ft?stripBasename(ft,rt):null,it=Ye.getAttribute("method")||defaultMethod,ct=getFormEncType(Ye.getAttribute("enctype"))||defaultEncType,ut=new FormData(Ye)}else if(isButtonElement(Ye)||isInputElement(Ye)&&(Ye.type==="submit"||Ye.type==="image")){let ft=Ye.form;if(ft==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let pt=Ye.getAttribute("formaction")||ft.getAttribute("action");if(lt=pt?stripBasename(pt,rt):null,it=Ye.getAttribute("formmethod")||ft.getAttribute("method")||defaultMethod,ct=getFormEncType(Ye.getAttribute("formenctype"))||getFormEncType(ft.getAttribute("enctype"))||defaultEncType,ut=new FormData(ft,Ye),!isFormDataSubmitterSupported()){let{name:mt,type:gt,value:yt}=Ye;if(gt==="image"){let xt=mt?`${mt}.`:"";ut.append(`${xt}x`,"0"),ut.append(`${xt}y`,"0")}else mt&&ut.append(mt,yt)}}else{if(isHtmlElement(Ye))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');it=defaultMethod,lt=null,ct=defaultEncType,ht=Ye}return ut&&ct==="text/plain"&&(ht=ut,ut=void 0),{action:lt,method:it.toLowerCase(),encType:ct,formData:ut,body:ht}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Ye,rt){if(Ye===!1||Ye===null||typeof Ye>"u")throw new Error(rt)}function singleFetchUrl(Ye,rt,it){let lt=typeof Ye=="string"?new URL(Ye,typeof window>"u"?"server://singlefetch/":window.location.origin):Ye;return lt.pathname==="/"?lt.pathname=`_root.${it}`:rt&&stripBasename(lt.pathname,rt)==="/"?lt.pathname=`${rt.replace(/\/$/,"")}/_root.${it}`:lt.pathname=`${lt.pathname.replace(/\/$/,"")}.${it}`,lt}async function loadRouteModule(Ye,rt){if(Ye.id in rt)return rt[Ye.id];try{let it=await import(Ye.module);return rt[Ye.id]=it,it}catch(it){return console.error(`Error loading route module \`${Ye.module}\`, reloading page...`),console.error(it),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ye){return Ye==null?!1:Ye.href==null?Ye.rel==="preload"&&typeof Ye.imageSrcSet=="string"&&typeof Ye.imageSizes=="string":typeof Ye.rel=="string"&&typeof Ye.href=="string"}async function getKeyedPrefetchLinks(Ye,rt,it){let lt=await Promise.all(Ye.map(async ct=>{let ut=rt.routes[ct.route.id];if(ut){let ht=await loadRouteModule(ut,it);return ht.links?ht.links():[]}return[]}));return dedupeLinkDescriptors(lt.flat(1).filter(isHtmlLinkDescriptor).filter(ct=>ct.rel==="stylesheet"||ct.rel==="preload").map(ct=>ct.rel==="stylesheet"?{...ct,rel:"prefetch",as:"style"}:{...ct,rel:"prefetch"}))}function getNewMatchesForLinks(Ye,rt,it,lt,ct,ut){let ht=(pt,mt)=>it[mt]?pt.route.id!==it[mt].route.id:!0,ft=(pt,mt)=>it[mt].pathname!==pt.pathname||it[mt].route.path?.endsWith("*")&&it[mt].params["*"]!==pt.params["*"];return ut==="assets"?rt.filter((pt,mt)=>ht(pt,mt)||ft(pt,mt)):ut==="data"?rt.filter((pt,mt)=>{let gt=lt.routes[pt.route.id];if(!gt||!gt.hasLoader)return!1;if(ht(pt,mt)||ft(pt,mt))return!0;if(pt.route.shouldRevalidate){let yt=pt.route.shouldRevalidate({currentUrl:new URL(ct.pathname+ct.search+ct.hash,window.origin),currentParams:it[0]?.params||{},nextUrl:new URL(Ye,window.origin),nextParams:pt.params,defaultShouldRevalidate:!0});if(typeof yt=="boolean")return yt}return!0}):[]}function getModuleLinkHrefs(Ye,rt,{includeHydrateFallback:it}={}){return dedupeHrefs(Ye.map(lt=>{let ct=rt.routes[lt.route.id];if(!ct)return[];let ut=[ct.module];return ct.clientActionModule&&(ut=ut.concat(ct.clientActionModule)),ct.clientLoaderModule&&(ut=ut.concat(ct.clientLoaderModule)),it&&ct.hydrateFallbackModule&&(ut=ut.concat(ct.hydrateFallbackModule)),ct.imports&&(ut=ut.concat(ct.imports)),ut}).flat(1))}function dedupeHrefs(Ye){return[...new Set(Ye)]}function sortKeys(Ye){let rt={},it=Object.keys(Ye).sort();for(let lt of it)rt[lt]=Ye[lt];return rt}function dedupeLinkDescriptors(Ye,rt){let it=new Set;return new Set(rt),Ye.reduce((lt,ct)=>{let ut=JSON.stringify(sortKeys(ct));return it.has(ut)||(it.add(ut),lt.push({key:ut,link:ct})),lt},[])}function useDataRouterContext2(){let Ye=reactExports.useContext(DataRouterContext);return invariant2(Ye,"You must render this element inside a <DataRouterContext.Provider> element"),Ye}function useDataRouterStateContext(){let Ye=reactExports.useContext(DataRouterStateContext);return invariant2(Ye,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ye}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ye=reactExports.useContext(FrameworkContext);return invariant2(Ye,"You must render this element inside a <HydratedRouter> element"),Ye}function usePrefetchBehavior(Ye,rt){let it=reactExports.useContext(FrameworkContext),[lt,ct]=reactExports.useState(!1),[ut,ht]=reactExports.useState(!1),{onFocus:ft,onBlur:pt,onMouseEnter:mt,onMouseLeave:gt,onTouchStart:yt}=rt,xt=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ye==="render"&&ht(!0),Ye==="viewport"){let Ct=St=>{St.forEach(Rt=>{ht(Rt.isIntersecting)})},kt=new IntersectionObserver(Ct,{threshold:.5});return xt.current&&kt.observe(xt.current),()=>{kt.disconnect()}}},[Ye]),reactExports.useEffect(()=>{if(lt){let Ct=setTimeout(()=>{ht(!0)},100);return()=>{clearTimeout(Ct)}}},[lt]);let bt=()=>{ct(!0)},_t=()=>{ct(!1),ht(!1)};return it?Ye!=="intent"?[ut,xt,{}]:[ut,xt,{onFocus:composeEventHandlers$1(ft,bt),onBlur:composeEventHandlers$1(pt,_t),onMouseEnter:composeEventHandlers$1(mt,bt),onMouseLeave:composeEventHandlers$1(gt,_t),onTouchStart:composeEventHandlers$1(yt,bt)}]:[!1,xt,{}]}function composeEventHandlers$1(Ye,rt){return it=>{Ye&&Ye(it),it.defaultPrevented||rt(it)}}function PrefetchPageLinks({page:Ye,...rt}){let{router:it}=useDataRouterContext2(),lt=reactExports.useMemo(()=>matchRoutes(it.routes,Ye,it.basename),[it.routes,Ye,it.basename]);return lt?reactExports.createElement(PrefetchPageLinksImpl,{page:Ye,matches:lt,...rt}):null}function useKeyedPrefetchLinks(Ye){let{manifest:rt,routeModules:it}=useFrameworkContext(),[lt,ct]=reactExports.useState([]);return reactExports.useEffect(()=>{let ut=!1;return getKeyedPrefetchLinks(Ye,rt,it).then(ht=>{ut||ct(ht)}),()=>{ut=!0}},[Ye,rt,it]),lt}function PrefetchPageLinksImpl({page:Ye,matches:rt,...it}){let lt=useLocation(),{manifest:ct,routeModules:ut}=useFrameworkContext(),{basename:ht}=useDataRouterContext2(),{loaderData:ft,matches:pt}=useDataRouterStateContext(),mt=reactExports.useMemo(()=>getNewMatchesForLinks(Ye,rt,pt,ct,lt,"data"),[Ye,rt,pt,ct,lt]),gt=reactExports.useMemo(()=>getNewMatchesForLinks(Ye,rt,pt,ct,lt,"assets"),[Ye,rt,pt,ct,lt]),yt=reactExports.useMemo(()=>{if(Ye===lt.pathname+lt.search+lt.hash)return[];let _t=new Set,Ct=!1;if(rt.forEach(St=>{let Rt=ct.routes[St.route.id];!Rt||!Rt.hasLoader||(!mt.some(Tt=>Tt.route.id===St.route.id)&&St.route.id in ft&&ut[St.route.id]?.shouldRevalidate||Rt.hasClientLoader?Ct=!0:_t.add(St.route.id))}),_t.size===0)return[];let kt=singleFetchUrl(Ye,ht,"data");return Ct&&_t.size>0&&kt.searchParams.set("_routes",rt.filter(St=>_t.has(St.route.id)).map(St=>St.route.id).join(",")),[kt.pathname+kt.search]},[ht,ft,lt,ct,mt,rt,Ye,ut]),xt=reactExports.useMemo(()=>getModuleLinkHrefs(gt,ct),[gt,ct]),bt=useKeyedPrefetchLinks(gt);return reactExports.createElement(reactExports.Fragment,null,yt.map(_t=>reactExports.createElement("link",{key:_t,rel:"prefetch",as:"fetch",href:_t,...it})),xt.map(_t=>reactExports.createElement("link",{key:_t,rel:"modulepreload",href:_t,...it})),bt.map(({key:_t,link:Ct})=>reactExports.createElement("link",{key:_t,nonce:it.nonce,...Ct})))}function mergeRefs(...Ye){return rt=>{Ye.forEach(it=>{typeof it=="function"?it(rt):it!=null&&(it.current=rt)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.4")}catch{}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:rt,discover:it="render",prefetch:lt="none",relative:ct,reloadDocument:ut,replace:ht,state:ft,target:pt,to:mt,preventScrollReset:gt,viewTransition:yt,...xt},bt){let{basename:_t}=reactExports.useContext(NavigationContext),Ct=typeof mt=="string"&&ABSOLUTE_URL_REGEX2.test(mt),kt,St=!1;if(typeof mt=="string"&&Ct&&(kt=mt,isBrowser))try{let Ft=new URL(window.location.href),Ut=mt.startsWith("//")?new URL(Ft.protocol+mt):new URL(mt),Wt=stripBasename(Ut.pathname,_t);Ut.origin===Ft.origin&&Wt!=null?mt=Wt+Ut.search+Ut.hash:St=!0}catch{warning(!1,`<Link to="${mt}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Rt=useHref(mt,{relative:ct}),[Tt,Mt,Pt]=usePrefetchBehavior(lt,xt),It=useLinkClickHandler(mt,{replace:ht,state:ft,target:pt,preventScrollReset:gt,relative:ct,viewTransition:yt});function Lt(Ft){rt&&rt(Ft),Ft.defaultPrevented||It(Ft)}let Ot=reactExports.createElement("a",{...xt,...Pt,href:kt||Rt,onClick:St||ut?rt:Lt,ref:mergeRefs(bt,Mt),target:pt,"data-discover":!Ct&&it==="render"?"true":void 0});return Tt&&!Ct?reactExports.createElement(reactExports.Fragment,null,Ot,reactExports.createElement(PrefetchPageLinks,{page:Rt})):Ot});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":rt="page",caseSensitive:it=!1,className:lt="",end:ct=!1,style:ut,to:ht,viewTransition:ft,children:pt,...mt},gt){let yt=useResolvedPath(ht,{relative:mt.relative}),xt=useLocation(),bt=reactExports.useContext(DataRouterStateContext),{navigator:_t,basename:Ct}=reactExports.useContext(NavigationContext),kt=bt!=null&&useViewTransitionState(yt)&&ft===!0,St=_t.encodeLocation?_t.encodeLocation(yt).pathname:yt.pathname,Rt=xt.pathname,Tt=bt&&bt.navigation&&bt.navigation.location?bt.navigation.location.pathname:null;it||(Rt=Rt.toLowerCase(),Tt=Tt?Tt.toLowerCase():null,St=St.toLowerCase()),Tt&&Ct&&(Tt=stripBasename(Tt,Ct)||Tt);const Mt=St!=="/"&&St.endsWith("/")?St.length-1:St.length;let Pt=Rt===St||!ct&&Rt.startsWith(St)&&Rt.charAt(Mt)==="/",It=Tt!=null&&(Tt===St||!ct&&Tt.startsWith(St)&&Tt.charAt(St.length)==="/"),Lt={isActive:Pt,isPending:It,isTransitioning:kt},Ot=Pt?rt:void 0,Ft;typeof lt=="function"?Ft=lt(Lt):Ft=[lt,Pt?"active":null,It?"pending":null,kt?"transitioning":null].filter(Boolean).join(" ");let Ut=typeof ut=="function"?ut(Lt):ut;return reactExports.createElement(Link,{...mt,"aria-current":Ot,className:Ft,ref:gt,style:Ut,to:ht,viewTransition:ft},typeof pt=="function"?pt(Lt):pt)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ye="render",fetcherKey:rt,navigate:it,reloadDocument:lt,replace:ct,state:ut,method:ht=defaultMethod,action:ft,onSubmit:pt,relative:mt,preventScrollReset:gt,viewTransition:yt,...xt},bt)=>{let _t=useSubmit(),Ct=useFormAction(ft,{relative:mt}),kt=ht.toLowerCase()==="get"?"get":"post",St=typeof ft=="string"&&ABSOLUTE_URL_REGEX2.test(ft),Rt=Tt=>{if(pt&&pt(Tt),Tt.defaultPrevented)return;Tt.preventDefault();let Mt=Tt.nativeEvent.submitter,Pt=Mt?.getAttribute("formmethod")||ht;_t(Mt||Tt.currentTarget,{fetcherKey:rt,method:Pt,navigate:it,replace:ct,state:ut,relative:mt,preventScrollReset:gt,viewTransition:yt})};return reactExports.createElement("form",{ref:bt,method:kt,action:Ct,onSubmit:lt?pt:Rt,...xt,"data-discover":!St&&Ye==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ye){return`${Ye} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ye){let rt=reactExports.useContext(DataRouterContext);return invariant(rt,getDataRouterConsoleError2(Ye)),rt}function useLinkClickHandler(Ye,{target:rt,replace:it,state:lt,preventScrollReset:ct,relative:ut,viewTransition:ht}={}){let ft=useNavigate(),pt=useLocation(),mt=useResolvedPath(Ye,{relative:ut});return reactExports.useCallback(gt=>{if(shouldProcessLinkClick(gt,rt)){gt.preventDefault();let yt=it!==void 0?it:createPath(pt)===createPath(mt);ft(Ye,{replace:yt,state:lt,preventScrollReset:ct,relative:ut,viewTransition:ht})}},[pt,ft,mt,it,lt,rt,Ye,ct,ut,ht])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ye}=useDataRouterContext3("useSubmit"),{basename:rt}=reactExports.useContext(NavigationContext),it=useRouteId();return reactExports.useCallback(async(lt,ct={})=>{let{action:ut,method:ht,encType:ft,formData:pt,body:mt}=getFormSubmissionInfo(lt,rt);if(ct.navigate===!1){let gt=ct.fetcherKey||getUniqueFetcherId();await Ye.fetch(gt,it,ct.action||ut,{preventScrollReset:ct.preventScrollReset,formData:pt,body:mt,formMethod:ct.method||ht,formEncType:ct.encType||ft,flushSync:ct.flushSync})}else await Ye.navigate(ct.action||ut,{preventScrollReset:ct.preventScrollReset,formData:pt,body:mt,formMethod:ct.method||ht,formEncType:ct.encType||ft,replace:ct.replace,state:ct.state,fromRouteId:it,flushSync:ct.flushSync,viewTransition:ct.viewTransition})},[Ye,rt,it])}function useFormAction(Ye,{relative:rt}={}){let{basename:it}=reactExports.useContext(NavigationContext),lt=reactExports.useContext(RouteContext);invariant(lt,"useFormAction must be used inside a RouteContext");let[ct]=lt.matches.slice(-1),ut={...useResolvedPath(Ye||".",{relative:rt})},ht=useLocation();if(Ye==null){ut.search=ht.search;let ft=new URLSearchParams(ut.search),pt=ft.getAll("index");if(pt.some(gt=>gt==="")){ft.delete("index"),pt.filter(yt=>yt).forEach(yt=>ft.append("index",yt));let gt=ft.toString();ut.search=gt?`?${gt}`:""}}return(!Ye||Ye===".")&&ct.route.index&&(ut.search=ut.search?ut.search.replace(/^\?/,"?index&"):"?index"),it!=="/"&&(ut.pathname=ut.pathname==="/"?it:joinPaths([it,ut.pathname])),createPath(ut)}function useViewTransitionState(Ye,{relative:rt}={}){let it=reactExports.useContext(ViewTransitionContext);invariant(it!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:lt}=useDataRouterContext3("useViewTransitionState"),ct=useResolvedPath(Ye,{relative:rt});if(!it.isTransitioning)return!1;let ut=stripBasename(it.currentLocation.pathname,lt)||it.currentLocation.pathname,ht=stripBasename(it.nextLocation.pathname,lt)||it.nextLocation.pathname;return matchPath(ct.pathname,ht)!=null||matchPath(ct.pathname,ut)!=null}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ye=requireReact();function rt(pt){var mt="https://react.dev/errors/"+pt;if(1<arguments.length){mt+="?args[]="+encodeURIComponent(arguments[1]);for(var gt=2;gt<arguments.length;gt++)mt+="&args[]="+encodeURIComponent(arguments[gt])}return"Minified React error #"+pt+"; visit "+mt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function it(){}var lt={d:{f:it,r:function(){throw Error(rt(522))},D:it,C:it,L:it,m:it,X:it,S:it,M:it},p:0,findDOMNode:null},ct=Symbol.for("react.portal");function ut(pt,mt,gt){var yt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ct,key:yt==null?null:""+yt,children:pt,containerInfo:mt,implementation:gt}}var ht=Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ft(pt,mt){if(pt==="font")return"";if(typeof mt=="string")return mt==="use-credentials"?mt:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,reactDom_production.createPortal=function(pt,mt){var gt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mt||mt.nodeType!==1&&mt.nodeType!==9&&mt.nodeType!==11)throw Error(rt(299));return ut(pt,mt,null,gt)},reactDom_production.flushSync=function(pt){var mt=ht.T,gt=lt.p;try{if(ht.T=null,lt.p=2,pt)return pt()}finally{ht.T=mt,lt.p=gt,lt.d.f()}},reactDom_production.preconnect=function(pt,mt){typeof pt=="string"&&(mt?(mt=mt.crossOrigin,mt=typeof mt=="string"?mt==="use-credentials"?mt:"":void 0):mt=null,lt.d.C(pt,mt))},reactDom_production.prefetchDNS=function(pt){typeof pt=="string"&&lt.d.D(pt)},reactDom_production.preinit=function(pt,mt){if(typeof pt=="string"&&mt&&typeof mt.as=="string"){var gt=mt.as,yt=ft(gt,mt.crossOrigin),xt=typeof mt.integrity=="string"?mt.integrity:void 0,bt=typeof mt.fetchPriority=="string"?mt.fetchPriority:void 0;gt==="style"?lt.d.S(pt,typeof mt.precedence=="string"?mt.precedence:void 0,{crossOrigin:yt,integrity:xt,fetchPriority:bt}):gt==="script"&&lt.d.X(pt,{crossOrigin:yt,integrity:xt,fetchPriority:bt,nonce:typeof mt.nonce=="string"?mt.nonce:void 0})}},reactDom_production.preinitModule=function(pt,mt){if(typeof pt=="string")if(typeof mt=="object"&&mt!==null){if(mt.as==null||mt.as==="script"){var gt=ft(mt.as,mt.crossOrigin);lt.d.M(pt,{crossOrigin:gt,integrity:typeof mt.integrity=="string"?mt.integrity:void 0,nonce:typeof mt.nonce=="string"?mt.nonce:void 0})}}else mt==null&&lt.d.M(pt)},reactDom_production.preload=function(pt,mt){if(typeof pt=="string"&&typeof mt=="object"&&mt!==null&&typeof mt.as=="string"){var gt=mt.as,yt=ft(gt,mt.crossOrigin);lt.d.L(pt,gt,{crossOrigin:yt,integrity:typeof mt.integrity=="string"?mt.integrity:void 0,nonce:typeof mt.nonce=="string"?mt.nonce:void 0,type:typeof mt.type=="string"?mt.type:void 0,fetchPriority:typeof mt.fetchPriority=="string"?mt.fetchPriority:void 0,referrerPolicy:typeof mt.referrerPolicy=="string"?mt.referrerPolicy:void 0,imageSrcSet:typeof mt.imageSrcSet=="string"?mt.imageSrcSet:void 0,imageSizes:typeof mt.imageSizes=="string"?mt.imageSizes:void 0,media:typeof mt.media=="string"?mt.media:void 0})}},reactDom_production.preloadModule=function(pt,mt){if(typeof pt=="string")if(mt){var gt=ft(mt.as,mt.crossOrigin);lt.d.m(pt,{as:typeof mt.as=="string"&&mt.as!=="script"?mt.as:void 0,crossOrigin:gt,integrity:typeof mt.integrity=="string"?mt.integrity:void 0})}else lt.d.m(pt)},reactDom_production.requestFormReset=function(pt){lt.d.r(pt)},reactDom_production.unstable_batchedUpdates=function(pt,mt){return pt(mt)},reactDom_production.useFormState=function(pt,mt,gt){return ht.H.useFormState(pt,mt,gt)},reactDom_production.useFormStatus=function(){return ht.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ye)}catch(rt){console.error(rt)}}return Ye(),reactDom.exports=requireReactDom_production(),reactDom.exports}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function AnnouncementPage(){const{showAnnouncement:Ye}=useCodexAutoAnnouncement();return Ye?jsxRuntimeExports.jsx(CodexAutoUpgradeAnnouncement,{}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}function useRefetchIsCopilotApiAvailable(){const Ye=useQueryClient();return()=>{Ye.invalidateQueries({queryKey:getQueryKey("is-copilot-api-available")})}}function useIsCopilotApiAvailable(){const{data:Ye}=useFetchFromVSCode("is-copilot-api-available");return Ye?.available??!1}function AuthProvider({children:Ye}){const rt=useAppServerManager(),it=useQueryClient(),lt=useUpdateAuthNonce(),[ct,ut]=reactExports.useState({openAIAuth:null,isLoading:!0,authMethod:null,requiresAuth:!0}),ht=useFetchFromVSCode("account-info",{queryConfig:{enabled:ct.authMethod==="chatgpt"}}),ft=ht.data,pt=useIsCopilotApiAvailable(),{data:mt,setData:gt,isLoading:yt}=useGlobalState("use-copilot-auth-if-available");reactExports.useEffect(()=>{let St=!1;const Rt=yt?!1:mt??!1;rt.getAuthStatus().then(Mt=>{const Pt=Mt.authMethod??null;if(!St){const It=Rt&&pt?"copilot":Pt,Lt=It==="copilot"||(Mt.requiresOpenaiAuth??!0);ut({openAIAuth:Mt.authMethod??null,isLoading:!1,authMethod:It,requiresAuth:Lt})}}).catch(()=>{St||ut(Mt=>({...Mt,isLoading:!1}))});const Tt=Mt=>{ut(Pt=>{const It=Mt.authMethod;return!It&&Pt.authMethod&&(lt(),resetPersistedAtoms()),{...Pt,authMethod:It??null}})};return rt.addAuthStatusCallback(Tt),()=>{St=!0,rt.removeAuthStatusCallback(Tt)}},[rt,lt,it,gt,pt,yt,mt]);const{isLoading:xt,openAIAuth:bt,authMethod:_t,requiresAuth:Ct}=ct,kt=reactExports.useMemo(()=>({isLoading:xt,openAIAuth:bt,isCopilotApiAvailable:pt,authMethod:_t,requiresAuth:Ct,userId:_t==="chatgpt"&&ht.isSuccess?ft?.userId??null:null,accountId:_t==="chatgpt"&&ht.isSuccess?ft?.accountId??null:null,email:_t==="chatgpt"&&ht.isSuccess?ft?.email??null:null,planAtLogin:_t==="chatgpt"&&ht.isSuccess?ft?.plan??null:null,setAuthMethod:St=>ut(Rt=>({...Rt,authMethod:St}))}),[xt,bt,pt,_t,Ct,ft?.userId,ft?.accountId,ft?.email,ft?.plan,ht.isSuccess]);return jsxRuntimeExports.jsx(AuthContext.Provider,{value:kt,children:Ye})}function AuthNonceProvider({children:Ye}){const[rt,it]=reactExports.useState(generateNonce()),lt=reactExports.useCallback(()=>{it(generateNonce())},[it]);return jsxRuntimeExports.jsx(AuthNonceContext.Provider,{value:lt,children:jsxRuntimeExports.jsx(React.Fragment,{children:Ye},rt)})}function generateNonce(){return v4()}function parseOwnerRepo(Ye){try{let rt=Ye.trim();const it=/^(?<user>[^@]+)@(?<host>[^:]+):(?<path>.+)$/.exec(rt);let lt=null;if(it?.groups?.path&&it.groups.host&&(lt=it.groups.host,rt=`${lt}/${it.groups.path}`),lt==null){const pt=/^(?<proto>[a-z]+):\/\/(?<rest>.+)$/i.exec(rt);pt?.groups?.rest&&(rt=pt.groups.rest)}else rt=rt.replace(/^[a-z]+:\/\//i,"");rt=rt.replace(/^[^@]+@/,""),rt=rt.replace(/[?#].*$/,"").replace(/\.git$/i,"");const ct=rt.split("/").filter(Boolean);!lt&&ct.length>0&&(lt=ct[0]??null);const ut=lt?ct.slice(1):ct;if(ut.length<2)return null;const ht=ut[ut.length-1],ft=ut[ut.length-2];return!ft||!ht?null:{owner:ft,repoName:ht}}catch{return null}}function serializePath(Ye,rt){return Ye.replace(/\{([^}]+)\}/g,(it,lt)=>rt[lt].toString())}function serializeQueryParams(Ye){if(!Ye)return"";const rt=new URLSearchParams;for(const[lt,ct]of Object.entries(Ye))if(Array.isArray(ct))for(const ut of ct)rt.append(lt,ut.toString());else ct!=null&&rt.append(lt,ct.toString());const it=rt.toString();return it.length===0?"":`?${it}`}class SaServerHttpClient{async makeRequest(rt,it,lt){const ct=lt?.parameters&&"query"in lt.parameters?lt.parameters.query:void 0,ut=lt?.parameters&&"path"in lt.parameters&&lt.parameters.path?lt.parameters.path:{},ht=serializePath(it,ut),ft=serializeQueryParams(ct),pt=`${ht}${ft}`;switch(rt){case"get":return(await WebFetchWrapper.getInstance().get(pt)).body;case"post":{const mt=lt&&"requestBody"in lt?JSON.stringify(lt.requestBody):void 0;return(await WebFetchWrapper.getInstance().post(pt,mt)).body}}}async safeGet(rt,...it){return this.makeRequest("get",rt,it[0])}async safePost(rt,...it){return this.makeRequest("post",rt,it[0])}}const CodexRequest=new SaServerHttpClient;function useDebouncedValue(Ye,rt){const[it,lt]=reactExports.useState(Ye);return reactExports.useEffect(()=>{const ct=window.setTimeout(()=>lt(Ye),rt);return()=>window.clearTimeout(ct)},[Ye,rt]),it}function isArray$8(Ye){return Array.isArray?Array.isArray(Ye):getTag$1(Ye)==="[object Array]"}function baseToString(Ye){if(typeof Ye=="string")return Ye;let rt=Ye+"";return rt=="0"&&1/Ye==-1/0?"-0":rt}function toString$4(Ye){return Ye==null?"":baseToString(Ye)}function isString(Ye){return typeof Ye=="string"}function isNumber$1(Ye){return typeof Ye=="number"}function isBoolean$1(Ye){return Ye===!0||Ye===!1||isObjectLike$1(Ye)&&getTag$1(Ye)=="[object Boolean]"}function isObject$5(Ye){return typeof Ye=="object"}function isObjectLike$1(Ye){return isObject$5(Ye)&&Ye!==null}function isDefined(Ye){return Ye!=null}function isBlank(Ye){return!Ye.trim().length}function getTag$1(Ye){return Ye==null?Ye===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(Ye)}const INCORRECT_INDEX_TYPE="Incorrect 'index' type",LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY=Ye=>`Invalid value for key ${Ye}`,PATTERN_LENGTH_TOO_LARGE=Ye=>`Pattern length exceeds max of ${Ye}.`,MISSING_KEY_PROPERTY=Ye=>`Missing ${Ye} property in key`,INVALID_KEY_WEIGHT_VALUE=Ye=>`Property 'weight' in key '${Ye}' must be a positive integer`,hasOwn=Object.prototype.hasOwnProperty;class KeyStore{constructor(rt){this._keys=[],this._keyMap={};let it=0;rt.forEach(lt=>{let ct=createKey$1(lt);this._keys.push(ct),this._keyMap[ct.id]=ct,it+=ct.weight}),this._keys.forEach(lt=>{lt.weight/=it})}get(rt){return this._keyMap[rt]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function createKey$1(Ye){let rt=null,it=null,lt=null,ct=1,ut=null;if(isString(Ye)||isArray$8(Ye))lt=Ye,rt=createKeyPath(Ye),it=createKeyId(Ye);else{if(!hasOwn.call(Ye,"name"))throw new Error(MISSING_KEY_PROPERTY("name"));const ht=Ye.name;if(lt=ht,hasOwn.call(Ye,"weight")&&(ct=Ye.weight,ct<=0))throw new Error(INVALID_KEY_WEIGHT_VALUE(ht));rt=createKeyPath(ht),it=createKeyId(ht),ut=Ye.getFn}return{path:rt,id:it,weight:ct,src:lt,getFn:ut}}function createKeyPath(Ye){return isArray$8(Ye)?Ye:Ye.split(".")}function createKeyId(Ye){return isArray$8(Ye)?Ye.join("."):Ye}function get$2(Ye,rt){let it=[],lt=!1;const ct=(ut,ht,ft)=>{if(isDefined(ut))if(!ht[ft])it.push(ut);else{let pt=ht[ft];const mt=ut[pt];if(!isDefined(mt))return;if(ft===ht.length-1&&(isString(mt)||isNumber$1(mt)||isBoolean$1(mt)))it.push(toString$4(mt));else if(isArray$8(mt)){lt=!0;for(let gt=0,yt=mt.length;gt<yt;gt+=1)ct(mt[gt],ht,ft+1)}else ht.length&&ct(mt,ht,ft+1)}};return ct(Ye,isString(rt)?rt.split("."):rt,0),lt?it:it[0]}const MatchOptions={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},BasicOptions={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(Ye,rt)=>Ye.score===rt.score?Ye.idx<rt.idx?-1:1:Ye.score<rt.score?-1:1},FuzzyOptions={location:0,threshold:.6,distance:100},AdvancedOptions={useExtendedSearch:!1,getFn:get$2,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Config={...BasicOptions,...MatchOptions,...FuzzyOptions,...AdvancedOptions};const SPACE=/[^ ]+/g;function norm(Ye=1,rt=3){const it=new Map,lt=Math.pow(10,rt);return{get(ct){const ut=ct.match(SPACE).length;if(it.has(ut))return it.get(ut);const ht=1/Math.pow(ut,.5*Ye),ft=parseFloat(Math.round(ht*lt)/lt);return it.set(ut,ft),ft},clear(){it.clear()}}}class FuseIndex{constructor({getFn:rt=Config.getFn,fieldNormWeight:it=Config.fieldNormWeight}={}){this.norm=norm(it,3),this.getFn=rt,this.isCreated=!1,this.setIndexRecords()}setSources(rt=[]){this.docs=rt}setIndexRecords(rt=[]){this.records=rt}setKeys(rt=[]){this.keys=rt,this._keysMap={},rt.forEach((it,lt)=>{this._keysMap[it.id]=lt})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,isString(this.docs[0])?this.docs.forEach((rt,it)=>{this._addString(rt,it)}):this.docs.forEach((rt,it)=>{this._addObject(rt,it)}),this.norm.clear())}add(rt){const it=this.size();isString(rt)?this._addString(rt,it):this._addObject(rt,it)}removeAt(rt){this.records.splice(rt,1);for(let it=rt,lt=this.size();it<lt;it+=1)this.records[it].i-=1}getValueForItemAtKeyId(rt,it){return rt[this._keysMap[it]]}size(){return this.records.length}_addString(rt,it){if(!isDefined(rt)||isBlank(rt))return;let lt={v:rt,i:it,n:this.norm.get(rt)};this.records.push(lt)}_addObject(rt,it){let lt={i:it,$:{}};this.keys.forEach((ct,ut)=>{let ht=ct.getFn?ct.getFn(rt):this.getFn(rt,ct.path);if(isDefined(ht)){if(isArray$8(ht)){let ft=[];const pt=[{nestedArrIndex:-1,value:ht}];for(;pt.length;){const{nestedArrIndex:mt,value:gt}=pt.pop();if(isDefined(gt))if(isString(gt)&&!isBlank(gt)){let yt={v:gt,i:mt,n:this.norm.get(gt)};ft.push(yt)}else isArray$8(gt)&&gt.forEach((yt,xt)=>{pt.push({nestedArrIndex:xt,value:yt})})}lt.$[ut]=ft}else if(isString(ht)&&!isBlank(ht)){let ft={v:ht,n:this.norm.get(ht)};lt.$[ut]=ft}}}),this.records.push(lt)}toJSON(){return{keys:this.keys,records:this.records}}}function createIndex(Ye,rt,{getFn:it=Config.getFn,fieldNormWeight:lt=Config.fieldNormWeight}={}){const ct=new FuseIndex({getFn:it,fieldNormWeight:lt});return ct.setKeys(Ye.map(createKey$1)),ct.setSources(rt),ct.create(),ct}function parseIndex(Ye,{getFn:rt=Config.getFn,fieldNormWeight:it=Config.fieldNormWeight}={}){const{keys:lt,records:ct}=Ye,ut=new FuseIndex({getFn:rt,fieldNormWeight:it});return ut.setKeys(lt),ut.setIndexRecords(ct),ut}function computeScore$1(Ye,{errors:rt=0,currentLocation:it=0,expectedLocation:lt=0,distance:ct=Config.distance,ignoreLocation:ut=Config.ignoreLocation}={}){const ht=rt/Ye.length;if(ut)return ht;const ft=Math.abs(lt-it);return ct?ht+ft/ct:ft?1:ht}function convertMaskToIndices(Ye=[],rt=Config.minMatchCharLength){let it=[],lt=-1,ct=-1,ut=0;for(let ht=Ye.length;ut<ht;ut+=1){let ft=Ye[ut];ft&&lt===-1?lt=ut:!ft&&lt!==-1&&(ct=ut-1,ct-lt+1>=rt&&it.push([lt,ct]),lt=-1)}return Ye[ut-1]&&ut-lt>=rt&&it.push([lt,ut-1]),it}const MAX_BITS=32;function search$1(Ye,rt,it,{location:lt=Config.location,distance:ct=Config.distance,threshold:ut=Config.threshold,findAllMatches:ht=Config.findAllMatches,minMatchCharLength:ft=Config.minMatchCharLength,includeMatches:pt=Config.includeMatches,ignoreLocation:mt=Config.ignoreLocation}={}){if(rt.length>MAX_BITS)throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));const gt=rt.length,yt=Ye.length,xt=Math.max(0,Math.min(lt,yt));let bt=ut,_t=xt;const Ct=ft>1||pt,kt=Ct?Array(yt):[];let St;for(;(St=Ye.indexOf(rt,_t))>-1;){let Lt=computeScore$1(rt,{currentLocation:St,expectedLocation:xt,distance:ct,ignoreLocation:mt});if(bt=Math.min(Lt,bt),_t=St+gt,Ct){let Ot=0;for(;Ot<gt;)kt[St+Ot]=1,Ot+=1}}_t=-1;let Rt=[],Tt=1,Mt=gt+yt;const Pt=1<<gt-1;for(let Lt=0;Lt<gt;Lt+=1){let Ot=0,Ft=Mt;for(;Ot<Ft;)computeScore$1(rt,{errors:Lt,currentLocation:xt+Ft,expectedLocation:xt,distance:ct,ignoreLocation:mt})<=bt?Ot=Ft:Mt=Ft,Ft=Math.floor((Mt-Ot)/2+Ot);Mt=Ft;let Ut=Math.max(1,xt-Ft+1),Wt=ht?yt:Math.min(xt+Ft,yt)+gt,Kt=Array(Wt+2);Kt[Wt+1]=(1<<Lt)-1;for(let Zt=Wt;Zt>=Ut;Zt-=1){let Vt=Zt-1,$t=it[Ye.charAt(Vt)];if(Ct&&(kt[Vt]=+!!$t),Kt[Zt]=(Kt[Zt+1]<<1|1)&$t,Lt&&(Kt[Zt]|=(Rt[Zt+1]|Rt[Zt])<<1|1|Rt[Zt+1]),Kt[Zt]&Pt&&(Tt=computeScore$1(rt,{errors:Lt,currentLocation:Vt,expectedLocation:xt,distance:ct,ignoreLocation:mt}),Tt<=bt)){if(bt=Tt,_t=Vt,_t<=xt)break;Ut=Math.max(1,2*xt-_t)}}if(computeScore$1(rt,{errors:Lt+1,currentLocation:xt,expectedLocation:xt,distance:ct,ignoreLocation:mt})>bt)break;Rt=Kt}const It={isMatch:_t>=0,score:Math.max(.001,Tt)};if(Ct){const Lt=convertMaskToIndices(kt,ft);Lt.length?pt&&(It.indices=Lt):It.isMatch=!1}return It}function createPatternAlphabet(Ye){let rt={};for(let it=0,lt=Ye.length;it<lt;it+=1){const ct=Ye.charAt(it);rt[ct]=(rt[ct]||0)|1<<lt-it-1}return rt}const stripDiacritics=String.prototype.normalize?(Ye=>Ye.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(Ye=>Ye);class BitapSearch{constructor(rt,{location:it=Config.location,threshold:lt=Config.threshold,distance:ct=Config.distance,includeMatches:ut=Config.includeMatches,findAllMatches:ht=Config.findAllMatches,minMatchCharLength:ft=Config.minMatchCharLength,isCaseSensitive:pt=Config.isCaseSensitive,ignoreDiacritics:mt=Config.ignoreDiacritics,ignoreLocation:gt=Config.ignoreLocation}={}){if(this.options={location:it,threshold:lt,distance:ct,includeMatches:ut,findAllMatches:ht,minMatchCharLength:ft,isCaseSensitive:pt,ignoreDiacritics:mt,ignoreLocation:gt},rt=pt?rt:rt.toLowerCase(),rt=mt?stripDiacritics(rt):rt,this.pattern=rt,this.chunks=[],!this.pattern.length)return;const yt=(bt,_t)=>{this.chunks.push({pattern:bt,alphabet:createPatternAlphabet(bt),startIndex:_t})},xt=this.pattern.length;if(xt>MAX_BITS){let bt=0;const _t=xt%MAX_BITS,Ct=xt-_t;for(;bt<Ct;)yt(this.pattern.substr(bt,MAX_BITS),bt),bt+=MAX_BITS;if(_t){const kt=xt-MAX_BITS;yt(this.pattern.substr(kt),kt)}}else yt(this.pattern,0)}searchIn(rt){const{isCaseSensitive:it,ignoreDiacritics:lt,includeMatches:ct}=this.options;if(rt=it?rt:rt.toLowerCase(),rt=lt?stripDiacritics(rt):rt,this.pattern===rt){let Ct={isMatch:!0,score:0};return ct&&(Ct.indices=[[0,rt.length-1]]),Ct}const{location:ut,distance:ht,threshold:ft,findAllMatches:pt,minMatchCharLength:mt,ignoreLocation:gt}=this.options;let yt=[],xt=0,bt=!1;this.chunks.forEach(({pattern:Ct,alphabet:kt,startIndex:St})=>{const{isMatch:Rt,score:Tt,indices:Mt}=search$1(rt,Ct,kt,{location:ut+St,distance:ht,threshold:ft,findAllMatches:pt,minMatchCharLength:mt,includeMatches:ct,ignoreLocation:gt});Rt&&(bt=!0),xt+=Tt,Rt&&Mt&&(yt=[...yt,...Mt])});let _t={isMatch:bt,score:bt?xt/this.chunks.length:1};return bt&&ct&&(_t.indices=yt),_t}}class BaseMatch{constructor(rt){this.pattern=rt}static isMultiMatch(rt){return getMatch(rt,this.multiRegex)}static isSingleMatch(rt){return getMatch(rt,this.singleRegex)}search(){}}function getMatch(Ye,rt){const it=Ye.match(rt);return it?it[1]:null}class ExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(rt){const it=rt===this.pattern;return{isMatch:it,score:it?0:1,indices:[0,this.pattern.length-1]}}}class InverseExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(rt){const lt=rt.indexOf(this.pattern)===-1;return{isMatch:lt,score:lt?0:1,indices:[0,rt.length-1]}}}class PrefixExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(rt){const it=rt.startsWith(this.pattern);return{isMatch:it,score:it?0:1,indices:[0,this.pattern.length-1]}}}class InversePrefixExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(rt){const it=!rt.startsWith(this.pattern);return{isMatch:it,score:it?0:1,indices:[0,rt.length-1]}}}class SuffixExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(rt){const it=rt.endsWith(this.pattern);return{isMatch:it,score:it?0:1,indices:[rt.length-this.pattern.length,rt.length-1]}}}class InverseSuffixExactMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(rt){const it=!rt.endsWith(this.pattern);return{isMatch:it,score:it?0:1,indices:[0,rt.length-1]}}}class FuzzyMatch extends BaseMatch{constructor(rt,{location:it=Config.location,threshold:lt=Config.threshold,distance:ct=Config.distance,includeMatches:ut=Config.includeMatches,findAllMatches:ht=Config.findAllMatches,minMatchCharLength:ft=Config.minMatchCharLength,isCaseSensitive:pt=Config.isCaseSensitive,ignoreDiacritics:mt=Config.ignoreDiacritics,ignoreLocation:gt=Config.ignoreLocation}={}){super(rt),this._bitapSearch=new BitapSearch(rt,{location:it,threshold:lt,distance:ct,includeMatches:ut,findAllMatches:ht,minMatchCharLength:ft,isCaseSensitive:pt,ignoreDiacritics:mt,ignoreLocation:gt})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(rt){return this._bitapSearch.searchIn(rt)}}class IncludeMatch extends BaseMatch{constructor(rt){super(rt)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(rt){let it=0,lt;const ct=[],ut=this.pattern.length;for(;(lt=rt.indexOf(this.pattern,it))>-1;)it=lt+ut,ct.push([lt,it-1]);const ht=!!ct.length;return{isMatch:ht,score:ht?0:1,indices:ct}}}const searchers=[ExactMatch,IncludeMatch,PrefixExactMatch,InversePrefixExactMatch,InverseSuffixExactMatch,SuffixExactMatch,InverseExactMatch,FuzzyMatch],searchersLen=searchers.length,SPACE_RE=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,OR_TOKEN="|";function parseQuery(Ye,rt={}){return Ye.split(OR_TOKEN).map(it=>{let lt=it.trim().split(SPACE_RE).filter(ut=>ut&&!!ut.trim()),ct=[];for(let ut=0,ht=lt.length;ut<ht;ut+=1){const ft=lt[ut];let pt=!1,mt=-1;for(;!pt&&++mt<searchersLen;){const gt=searchers[mt];let yt=gt.isMultiMatch(ft);yt&&(ct.push(new gt(yt,rt)),pt=!0)}if(!pt)for(mt=-1;++mt<searchersLen;){const gt=searchers[mt];let yt=gt.isSingleMatch(ft);if(yt){ct.push(new gt(yt,rt));break}}}return ct})}const MultiMatchSet=new Set([FuzzyMatch.type,IncludeMatch.type]);class ExtendedSearch{constructor(rt,{isCaseSensitive:it=Config.isCaseSensitive,ignoreDiacritics:lt=Config.ignoreDiacritics,includeMatches:ct=Config.includeMatches,minMatchCharLength:ut=Config.minMatchCharLength,ignoreLocation:ht=Config.ignoreLocation,findAllMatches:ft=Config.findAllMatches,location:pt=Config.location,threshold:mt=Config.threshold,distance:gt=Config.distance}={}){this.query=null,this.options={isCaseSensitive:it,ignoreDiacritics:lt,includeMatches:ct,minMatchCharLength:ut,findAllMatches:ft,ignoreLocation:ht,location:pt,threshold:mt,distance:gt},rt=it?rt:rt.toLowerCase(),rt=lt?stripDiacritics(rt):rt,this.pattern=rt,this.query=parseQuery(this.pattern,this.options)}static condition(rt,it){return it.useExtendedSearch}searchIn(rt){const it=this.query;if(!it)return{isMatch:!1,score:1};const{includeMatches:lt,isCaseSensitive:ct,ignoreDiacritics:ut}=this.options;rt=ct?rt:rt.toLowerCase(),rt=ut?stripDiacritics(rt):rt;let ht=0,ft=[],pt=0;for(let mt=0,gt=it.length;mt<gt;mt+=1){const yt=it[mt];ft.length=0,ht=0;for(let xt=0,bt=yt.length;xt<bt;xt+=1){const _t=yt[xt],{isMatch:Ct,indices:kt,score:St}=_t.search(rt);if(Ct){if(ht+=1,pt+=St,lt){const Rt=_t.constructor.type;MultiMatchSet.has(Rt)?ft=[...ft,...kt]:ft.push(kt)}}else{pt=0,ht=0,ft.length=0;break}}if(ht){let xt={isMatch:!0,score:pt/ht};return lt&&(xt.indices=ft),xt}}return{isMatch:!1,score:1}}}const registeredSearchers=[];function register(...Ye){registeredSearchers.push(...Ye)}function createSearcher(Ye,rt){for(let it=0,lt=registeredSearchers.length;it<lt;it+=1){let ct=registeredSearchers[it];if(ct.condition(Ye,rt))return new ct(Ye,rt)}return new BitapSearch(Ye,rt)}const LogicalOperator={AND:"$and",OR:"$or"},KeyType={PATH:"$path",PATTERN:"$val"},isExpression=Ye=>!!(Ye[LogicalOperator.AND]||Ye[LogicalOperator.OR]),isPath=Ye=>!!Ye[KeyType.PATH],isLeaf=Ye=>!isArray$8(Ye)&&isObject$5(Ye)&&!isExpression(Ye),convertToExplicit=Ye=>({[LogicalOperator.AND]:Object.keys(Ye).map(rt=>({[rt]:Ye[rt]}))});function parse$6(Ye,rt,{auto:it=!0}={}){const lt=ct=>{let ut=Object.keys(ct);const ht=isPath(ct);if(!ht&&ut.length>1&&!isExpression(ct))return lt(convertToExplicit(ct));if(isLeaf(ct)){const pt=ht?ct[KeyType.PATH]:ut[0],mt=ht?ct[KeyType.PATTERN]:ct[pt];if(!isString(mt))throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(pt));const gt={keyId:createKeyId(pt),pattern:mt};return it&&(gt.searcher=createSearcher(mt,rt)),gt}let ft={children:[],operator:ut[0]};return ut.forEach(pt=>{const mt=ct[pt];isArray$8(mt)&&mt.forEach(gt=>{ft.children.push(lt(gt))})}),ft};return isExpression(Ye)||(Ye=convertToExplicit(Ye)),lt(Ye)}function computeScore(Ye,{ignoreFieldNorm:rt=Config.ignoreFieldNorm}){Ye.forEach(it=>{let lt=1;it.matches.forEach(({key:ct,norm:ut,score:ht})=>{const ft=ct?ct.weight:null;lt*=Math.pow(ht===0&&ft?Number.EPSILON:ht,(ft||1)*(rt?1:ut))}),it.score=lt})}function transformMatches(Ye,rt){const it=Ye.matches;rt.matches=[],isDefined(it)&&it.forEach(lt=>{if(!isDefined(lt.indices)||!lt.indices.length)return;const{indices:ct,value:ut}=lt;let ht={indices:ct,value:ut};lt.key&&(ht.key=lt.key.src),lt.idx>-1&&(ht.refIndex=lt.idx),rt.matches.push(ht)})}function transformScore(Ye,rt){rt.score=Ye.score}function format$2(Ye,rt,{includeMatches:it=Config.includeMatches,includeScore:lt=Config.includeScore}={}){const ct=[];return it&&ct.push(transformMatches),lt&&ct.push(transformScore),Ye.map(ut=>{const{idx:ht}=ut,ft={item:rt[ht],refIndex:ht};return ct.length&&ct.forEach(pt=>{pt(ut,ft)}),ft})}class Fuse{constructor(rt,it={},lt){this.options={...Config,...it},this.options.useExtendedSearch,this._keyStore=new KeyStore(this.options.keys),this.setCollection(rt,lt)}setCollection(rt,it){if(this._docs=rt,it&&!(it instanceof FuseIndex))throw new Error(INCORRECT_INDEX_TYPE);this._myIndex=it||createIndex(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(rt){isDefined(rt)&&(this._docs.push(rt),this._myIndex.add(rt))}remove(rt=()=>!1){const it=[];for(let lt=0,ct=this._docs.length;lt<ct;lt+=1){const ut=this._docs[lt];rt(ut,lt)&&(this.removeAt(lt),lt-=1,ct-=1,it.push(ut))}return it}removeAt(rt){this._docs.splice(rt,1),this._myIndex.removeAt(rt)}getIndex(){return this._myIndex}search(rt,{limit:it=-1}={}){const{includeMatches:lt,includeScore:ct,shouldSort:ut,sortFn:ht,ignoreFieldNorm:ft}=this.options;let pt=isString(rt)?isString(this._docs[0])?this._searchStringList(rt):this._searchObjectList(rt):this._searchLogical(rt);return computeScore(pt,{ignoreFieldNorm:ft}),ut&&pt.sort(ht),isNumber$1(it)&&it>-1&&(pt=pt.slice(0,it)),format$2(pt,this._docs,{includeMatches:lt,includeScore:ct})}_searchStringList(rt){const it=createSearcher(rt,this.options),{records:lt}=this._myIndex,ct=[];return lt.forEach(({v:ut,i:ht,n:ft})=>{if(!isDefined(ut))return;const{isMatch:pt,score:mt,indices:gt}=it.searchIn(ut);pt&&ct.push({item:ut,idx:ht,matches:[{score:mt,value:ut,norm:ft,indices:gt}]})}),ct}_searchLogical(rt){const it=parse$6(rt,this.options),lt=(ft,pt,mt)=>{if(!ft.children){const{keyId:yt,searcher:xt}=ft,bt=this._findMatches({key:this._keyStore.get(yt),value:this._myIndex.getValueForItemAtKeyId(pt,yt),searcher:xt});return bt&&bt.length?[{idx:mt,item:pt,matches:bt}]:[]}const gt=[];for(let yt=0,xt=ft.children.length;yt<xt;yt+=1){const bt=ft.children[yt],_t=lt(bt,pt,mt);if(_t.length)gt.push(..._t);else if(ft.operator===LogicalOperator.AND)return[]}return gt},ct=this._myIndex.records,ut={},ht=[];return ct.forEach(({$:ft,i:pt})=>{if(isDefined(ft)){let mt=lt(it,ft,pt);mt.length&&(ut[pt]||(ut[pt]={idx:pt,item:ft,matches:[]},ht.push(ut[pt])),mt.forEach(({matches:gt})=>{ut[pt].matches.push(...gt)}))}}),ht}_searchObjectList(rt){const it=createSearcher(rt,this.options),{keys:lt,records:ct}=this._myIndex,ut=[];return ct.forEach(({$:ht,i:ft})=>{if(!isDefined(ht))return;let pt=[];lt.forEach((mt,gt)=>{pt.push(...this._findMatches({key:mt,value:ht[gt],searcher:it}))}),pt.length&&ut.push({idx:ft,item:ht,matches:pt})}),ut}_findMatches({key:rt,value:it,searcher:lt}){if(!isDefined(it))return[];let ct=[];if(isArray$8(it))it.forEach(({v:ut,i:ht,n:ft})=>{if(!isDefined(ut))return;const{isMatch:pt,score:mt,indices:gt}=lt.searchIn(ut);pt&&ct.push({score:mt,key:rt,value:ut,idx:ht,norm:ft,indices:gt})});else{const{v:ut,n:ht}=it,{isMatch:ft,score:pt,indices:mt}=lt.searchIn(ut);ft&&ct.push({score:pt,key:rt,value:ut,norm:ht,indices:mt})}return ct}}Fuse.version="7.1.0";Fuse.createIndex=createIndex;Fuse.parseIndex=parseIndex;Fuse.config=Config;Fuse.parseQuery=parse$6;register(ExtendedSearch);var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function Ye(rt){return function(it,lt,ct){for(var ut=-1,ht=Object(it),ft=ct(it),pt=ft.length;pt--;){var mt=ft[rt?pt:++ut];if(lt(ht[mt],mt,ht)===!1)break}return it}}return _createBaseFor=Ye,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var Ye=require_createBaseFor(),rt=Ye();return _baseFor=rt,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var Ye=require_baseFor(),rt=requireKeys$3();function it(lt,ct){return lt&&Ye(lt,ct,rt)}return _baseForOwn=it,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var Ye=requireIsArrayLike();function rt(it,lt){return function(ct,ut){if(ct==null)return ct;if(!Ye(ct))return it(ct,ut);for(var ht=ct.length,ft=lt?ht:-1,pt=Object(ct);(lt?ft--:++ft<ht)&&ut(pt[ft],ft,pt)!==!1;);return ct}}return _createBaseEach=rt,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var Ye=require_baseForOwn(),rt=require_createBaseEach(),it=rt(Ye);return _baseEach=it,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var Ye=require_baseEach(),rt=requireIsArrayLike();function it(lt,ct){var ut=-1,ht=rt(lt)?Array(lt.length):[];return Ye(lt,function(ft,pt,mt){ht[++ut]=ct(ft,pt,mt)}),ht}return _baseMap=it,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function Ye(rt,it){var lt=rt.length;for(rt.sort(it);lt--;)rt[lt]=rt[lt].value;return rt}return _baseSortBy=Ye,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var Ye=requireIsSymbol$2();function rt(it,lt){if(it!==lt){var ct=it!==void 0,ut=it===null,ht=it===it,ft=Ye(it),pt=lt!==void 0,mt=lt===null,gt=lt===lt,yt=Ye(lt);if(!mt&&!yt&&!ft&&it>lt||ft&&pt&&gt&&!mt&&!yt||ut&&pt&&gt||!ct&&gt||!ht)return 1;if(!ut&&!ft&&!yt&&it<lt||yt&&ct&&ht&&!ut&&!ft||mt&&ct&&ht||!pt&&ht||!gt)return-1}return 0}return _compareAscending=rt,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var Ye=require_compareAscending();function rt(it,lt,ct){for(var ut=-1,ht=it.criteria,ft=lt.criteria,pt=ht.length,mt=ct.length;++ut<pt;){var gt=Ye(ht[ut],ft[ut]);if(gt){if(ut>=mt)return gt;var yt=ct[ut];return gt*(yt=="desc"?-1:1)}}return it.index-lt.index}return _compareMultiple=rt,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var Ye=require_arrayMap(),rt=require_baseGet(),it=require_baseIteratee(),lt=require_baseMap(),ct=require_baseSortBy(),ut=require_baseUnary(),ht=require_compareMultiple(),ft=requireIdentity(),pt=requireIsArray$7();function mt(gt,yt,xt){yt.length?yt=Ye(yt,function(Ct){return pt(Ct)?function(kt){return rt(kt,Ct.length===1?Ct[0]:Ct)}:Ct}):yt=[ft];var bt=-1;yt=Ye(yt,ut(it));var _t=lt(gt,function(Ct,kt,St){var Rt=Ye(yt,function(Tt){return Tt(Ct)});return{criteria:Rt,index:++bt,value:Ct}});return ct(_t,function(Ct,kt){return ht(Ct,kt,xt)})}return _baseOrderBy=mt,_baseOrderBy}var orderBy_1,hasRequiredOrderBy;function requireOrderBy(){if(hasRequiredOrderBy)return orderBy_1;hasRequiredOrderBy=1;var Ye=require_baseOrderBy(),rt=requireIsArray$7();function it(lt,ct,ut,ht){return lt==null?[]:(rt(ct)||(ct=ct==null?[]:[ct]),ut=ht?void 0:ut,rt(ut)||(ut=ut==null?[]:[ut]),Ye(lt,ct,ut))}return orderBy_1=it,orderBy_1}var orderByExports=requireOrderBy();const orderBy=getDefaultExportFromCjs(orderByExports);var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function Ye(rt){return rt!==rt}return _baseIsNaN=Ye,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function Ye(rt,it,lt){for(var ct=lt-1,ut=rt.length;++ct<ut;)if(rt[ct]===it)return ct;return-1}return _strictIndexOf=Ye,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var Ye=require_baseFindIndex(),rt=require_baseIsNaN(),it=require_strictIndexOf();function lt(ct,ut,ht){return ut===ut?it(ct,ut,ht):Ye(ct,rt,ht)}return _baseIndexOf=lt,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var Ye=require_baseIndexOf();function rt(it,lt){var ct=it==null?0:it.length;return!!ct&&Ye(it,lt,0)>-1}return _arrayIncludes=rt,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function Ye(rt,it,lt){for(var ct=-1,ut=rt==null?0:rt.length;++ct<ut;)if(lt(it,rt[ct]))return!0;return!1}return _arrayIncludesWith=Ye,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function Ye(){}return noop_1=Ye,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var Ye=require_Set(),rt=requireNoop(),it=require_setToArray(),lt=1/0,ct=Ye&&1/it(new Ye([,-0]))[1]==lt?function(ut){return new Ye(ut)}:rt;return _createSet=ct,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var Ye=require_SetCache(),rt=require_arrayIncludes(),it=require_arrayIncludesWith(),lt=require_cacheHas(),ct=require_createSet(),ut=require_setToArray(),ht=200;function ft(pt,mt,gt){var yt=-1,xt=rt,bt=pt.length,_t=!0,Ct=[],kt=Ct;if(gt)_t=!1,xt=it;else if(bt>=ht){var St=mt?null:ct(pt);if(St)return ut(St);_t=!1,xt=lt,kt=new Ye}else kt=mt?[]:Ct;e:for(;++yt<bt;){var Rt=pt[yt],Tt=mt?mt(Rt):Rt;if(Rt=gt||Rt!==0?Rt:0,_t&&Tt===Tt){for(var Mt=kt.length;Mt--;)if(kt[Mt]===Tt)continue e;mt&&kt.push(Tt),Ct.push(Rt)}else xt(kt,Tt,gt)||(kt!==Ct&&kt.push(Tt),Ct.push(Rt))}return Ct}return _baseUniq=ft,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var Ye=require_baseIteratee(),rt=require_baseUniq();function it(lt,ct){return lt&&lt.length?rt(lt,Ye(ct,2)):[]}return uniqBy_1=it,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function useTasks(Ye){const{authMethod:rt}=useAuth();return useQuery({queryKey:["tasks",Ye?.limit,Ye?.taskFilter],queryFn:async()=>(await CodexRequest.safeGet("/wham/tasks/list",{parameters:{query:{limit:Ye?.limit,task_filter:Ye?.taskFilter}}})).items,enabled:Ye?.enabled!==!1&&rt==="chatgpt",select:Ye?.environmentLabel?it=>it.filter(lt=>lt.task_status_display?.environment_label===Ye.environmentLabel):void 0,refetchInterval:it=>it.state.data?.some(ct=>{const ut=ct.task_status_display?.latest_turn_status_display?.turn_status;return ut==="pending"||ut==="in_progress"})?15e3:6e4})}function useTaskDetails(Ye){return useQuery({queryKey:["task",Ye],enabled:!!Ye,queryFn:async()=>CodexRequest.safeGet("/wham/tasks/{task_id}",{parameters:{path:{task_id:Ye??""}}})})}function useSiblingTurns(Ye,rt,it){return useQuery({queryKey:["task",Ye,"turn",rt,"siblings"],enabled:!!Ye&&!!rt,queryFn:async()=>(await CodexRequest.safeGet("/wham/tasks/{task_id}/turns/{task_turn_id}/sibling_turns",{parameters:{path:{task_id:Ye??"",task_turn_id:rt??""}}})).sibling_turns,refetchInterval:lt=>it?.expectedCount===void 0?!1:(lt.state.data?.length??0)<it.expectedCount?5e3:!1})}function useEnvironments({enabled:Ye=!0}={}){const{authMethod:rt}=useAuth();return useQuery({queryKey:["environments"],queryFn:async()=>CodexRequest.safeGet("/wham/environments"),enabled:Ye&&rt==="chatgpt"})}function useEnvironmentSearch(Ye,{enabled:rt=!0}){const it=useDebouncedValue(Ye,200);return useQuery({queryKey:["workspace","environments-search",it],enabled:rt&&it.trim().length>0,queryFn:async()=>{const lt=await CodexRequest.safeGet("/wham/environments"),ct=it.trim().toLowerCase(),ut=new Fuse(lt,{threshold:.4,keys:["label","repos"]}),ht=ut?.search(it).map(pt=>pt.item)??[],ft=pt=>{const mt=pt.toLowerCase();return mt===ct?0:mt.startsWith(ct)?1:2};return[ut,ht.sort((pt,mt)=>{if(pt.is_pinned!==mt.is_pinned)return pt.is_pinned?-1:1;const gt=ft(pt.label)-ft(mt.label);return gt!==0?gt:pt.label.localeCompare(mt.label)})]},staleTime:3e4,select:([lt,ct])=>{if(!it?.trim())return ct;const ut=it.trim().toLocaleLowerCase();return lt.search(ut).map(ht=>ht.item)}})}function useWorkspaceEnvironments(Ye){const{authMethod:rt}=useAuth(),it=Ye?.enabled??!0,{data:lt}=useQuery({queryKey:["workspace","environments-by-repo"],queryFn:async()=>getWorkspaceRepoOwnerNames(),staleTime:6e4,enabled:it&&rt==="chatgpt"}),ct=orderBy(lt,["owner","repoName"]).flatMap(({owner:ut,repoName:ht})=>[ut,ht]);return useQuery({queryKey:["workspace","environments-by-repo",...ct],enabled:it&&!!lt&&rt==="chatgpt",queryFn:async()=>{const ht=(await Promise.all((lt??[])?.map(({owner:ft,repoName:pt})=>CodexRequest.safeGet("/wham/environments/by-repo/{provider}/{repo_owner}/{repo_name}",{parameters:{path:{provider:"github",repo_owner:ft,repo_name:pt}}})))).flat();return orderBy(ht,["is_pinned","task_count","label"]),ht}})}async function getWorkspaceRepoOwnerNames(){const Ye=await fetchFromVSCode("git-origins"),rt=[];for(const{originUrl:it}of Ye.origins){if(!it)continue;const lt=parseOwnerRepo(it);lt&&rt.push(lt)}return uniqBy(rt,({owner:it,repoName:lt})=>`${it}/${lt}`)}async function createRemoteTask(Ye){const rt=[];if(Ye.ideContext&&rt.push({type:"ide_context",context:Ye.ideContext}),rt.push({type:"message",role:"user",content:[{content_type:"text",text:Ye.prompt}]}),Ye.images?.length)for(const lt of Ye.images)rt.push(lt);if(Ye.startingDiff&&rt.push({type:"pre_apply_patch",output_diff:{diff:Ye.startingDiff}}),Ye.priorConversation?.conversation?.length&&rt.push({type:"prior_conversation",conversation:Ye.priorConversation.conversation,diff:Ye.priorConversation.diff}),Ye.commentAttachments?.length)for(const lt of Ye.commentAttachments)rt.push(lt);const it={branch:Ye.ref,environment_id:Ye.environmentId,run_environment_in_qa_mode:Ye.runEnvironmentInQaMode};return Ye.environment!=null&&(it.environment=Ye.environment),Ye.environmentId==null&&delete it.environment_id,CodexRequest.safePost("/wham/tasks",{requestBody:{new_task:it,...Ye.bestOfN?{metadata:{best_of_n:Ye.bestOfN}}:{},input_items:rt}})}async function createWorktreeSnapshotUploadUrl({repoName:Ye,filename:rt,contentType:it,anticipatedFileSize:lt}){return CodexRequest.safePost("/wham/worktree_snapshots/upload_url",{requestBody:{repo_name:Ye,filename:rt,content_type:it,anticipated_file_size:lt}})}async function finishWorktreeSnapshotUpload({fileId:Ye,etag:rt}){return CodexRequest.safePost("/wham/worktree_snapshots/finish_upload",{requestBody:{file_id:Ye,etag:rt}})}function useCreateCloudTaskMutation(){const Ye=useQueryClient();return useMutation({mutationFn:rt=>createRemoteTask(rt),onSuccess:()=>{Ye.invalidateQueries({queryKey:["tasks"]})}})}async function followUpToRemoteTask(Ye){const rt=[];if(Ye.ideContext&&rt.push({type:"ide_context",context:Ye.ideContext}),rt.push({type:"message",role:"user",content:[{content_type:"text",text:Ye.prompt}]}),Ye.images?.length)for(const it of Ye.images)rt.push(it);if(Ye.commentAttachments?.length)for(const it of Ye.commentAttachments)rt.push(it);return CodexRequest.safePost("/wham/tasks",{requestBody:{follow_up:{task_id:Ye.taskId,turn_id:Ye.turnId,environment_mode:Ye.runEnvironmentInQaMode?"ask":"code"},...Ye.bestOfN?{metadata:{best_of_n:Ye.bestOfN}}:{},input_items:rt}})}function useFollowUpToCloudTaskMutation(){const Ye=useQueryClient();return useMutation({mutationFn:rt=>followUpToRemoteTask(rt),onSuccess:()=>{Ye.invalidateQueries({queryKey:["tasks"]})}})}async function searchBranchesByRepository(Ye,rt,it=20,lt=null){return CodexRequest.safeGet("/wham/github/branches/{repo_id}/search",{parameters:{path:{repo_id:`github-${Ye}`},query:{query:rt,page_size:it,cursor:lt}}})}function useSearchBranchesByRepository(Ye,rt,{enabled:it=!0}={}){return useInfiniteQuery({queryKey:["search-branches",Ye,rt],enabled:!!Ye&&it,initialPageParam:null,queryFn:({pageParam:lt})=>searchBranchesByRepository(Ye??"",rt,20,lt),select:lt=>lt.pages.flatMap(ct=>ct.items?.map(ut=>ut.branch)??[]),getNextPageParam:lt=>lt?.cursor??null})}function useMarkTaskAsRead(Ye){const rt=useQueryClient();return useMutation({mutationFn:()=>CodexRequest.safePost("/wham/tasks/{task_id}/mark_read",{parameters:{path:{task_id:Ye}}}),onSuccess:()=>{rt.invalidateQueries({queryKey:["tasks"]}),rt.invalidateQueries({queryKey:["task",Ye]})}})}function useAccounts(){const{authMethod:Ye}=useAuth();return useQuery({queryKey:["accounts","check"],queryFn:async()=>CodexRequest.safeGet("/wham/accounts/check"),staleTime:6e4,enabled:Ye==="chatgpt"})}async function fetchRateLimitStatus(){return CodexRequest.safeGet("/wham/usage")}function useCurrentAccount(){const{data:Ye,isLoading:rt,isError:it}=useAccounts(),lt=Ye?.account_ordering&&Ye.account_ordering.length>0?Ye.account_ordering[0]:void 0;return{data:lt&&Ye?.accounts?Ye.accounts.find(ut=>ut.id===lt):void 0,isLoading:rt,isError:it}}const AppShellContext=reactExports.createContext(null);function AppShellProvider({children:Ye}){const[rt,it]=reactExports.useState(!0);useMessage("toggle-sidebar",()=>{it(ct=>!ct)},[]);const lt=reactExports.useMemo(()=>({isSidebarOpen:rt,showSidebar:()=>{it(!0)},hideSidebar:()=>{it(!1)},toggleSidebar:()=>{it(ct=>!ct)}}),[rt]);return jsxRuntimeExports.jsx(AppShellContext.Provider,{value:lt,children:Ye})}function useAppShell(){const Ye=reactExports.useContext(AppShellContext);if(Ye==null)throw new Error("useAppShell must be used inside AppShellProvider");return Ye}function useOptionalAppShell(){return reactExports.useContext(AppShellContext)}const SvgSidebarFloatingLeft=Ye=>reactExports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24",...Ye},reactExports.createElement("path",{d:"M20 10.4c0-1.136 0-1.929-.05-2.546-.044-.529-.12-.862-.228-1.113l-.05-.103a3.001 3.001 0 0 0-1.104-1.196l-.206-.115c-.263-.134-.611-.227-1.216-.276C16.528 5 15.735 5 14.6 5H9.4c-1.136 0-1.929 0-2.546.05-.529.044-.862.12-1.113.228l-.103.05a3 3 0 0 0-1.196 1.104l-.115.206c-.134.263-.227.611-.276 1.216C4 8.471 4 9.264 4 10.4v3.2c0 1.136 0 1.929.05 2.545.05.606.143.954.277 1.217l.115.206c.289.47.702.853 1.196 1.105l.103.049c.251.108.584.184 1.113.227C7.471 19 8.264 19 9.4 19h5.2c1.136 0 1.929 0 2.545-.05.606-.05.954-.143 1.217-.277l.206-.115a3.01 3.01 0 0 0 1.105-1.196l.049-.103c.108-.251.184-.584.227-1.114C20 15.53 20 14.736 20 13.6v-3.2ZM6 16V8a1 1 0 0 1 2 0v8a1 1 0 1 1-2 0Zm16-2.4c0 1.103.001 1.991-.058 2.709-.052.637-.154 1.208-.381 1.737l-.106.224a5.002 5.002 0 0 1-2.01 2.092l-.175.093c-.593.302-1.233.428-1.961.487-.718.059-1.606.058-2.71.058H9.4c-1.103 0-1.991.001-2.709-.058-.637-.052-1.208-.154-1.737-.381l-.224-.106a5.002 5.002 0 0 1-2.092-2.01l-.093-.175c-.302-.593-.428-1.233-.487-1.961C1.999 15.59 2 14.703 2 13.599V10.4c0-1.103-.001-1.991.058-2.709.06-.728.185-1.368.487-1.96l.093-.175A5.002 5.002 0 0 1 4.73 3.545l.224-.106c.53-.227 1.1-.33 1.737-.381C7.41 2.999 8.297 3 9.401 3H14.6c1.103 0 1.991-.001 2.709.058.728.06 1.368.185 1.96.487l.175.093a5.002 5.002 0 0 1 2.011 2.092l.106.224c.227.53.33 1.1.381 1.737.059.718.058 1.606.058 2.71V13.6Z"})),SvgSidebarFloatingOpenLeft=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M20 10.4004C20 9.26396 19.9996 8.47129 19.9492 7.85449C19.906 7.32513 19.8298 6.99244 19.7217 6.74121L19.6729 6.6377C19.4211 6.14381 19.0383 5.73057 18.5684 5.44238L18.3623 5.32715C18.099 5.19296 17.7507 5.10023 17.1455 5.05078C16.5287 5.00041 15.736 5 14.5996 5H9.40039C8.26396 5 7.47129 5.00041 6.85449 5.05078C6.32513 5.09403 5.99244 5.17016 5.74121 5.27832L5.6377 5.32715C5.14381 5.57888 4.73057 5.96166 4.44238 6.43164L4.32715 6.6377C4.19296 6.90105 4.10023 7.24933 4.05078 7.85449C4.00041 8.47129 4 9.26396 4 10.4004V13.5996C4 14.736 4.00041 15.5287 4.05078 16.1455C4.10023 16.7507 4.19296 17.099 4.32715 17.3623L4.44238 17.5684C4.73057 18.0383 5.14381 18.4211 5.6377 18.6729L5.74121 18.7217C5.99244 18.8298 6.32513 18.906 6.85449 18.9492C7.47129 18.9996 8.26396 19 9.40039 19H14.5996C15.736 19 16.5287 18.9996 17.1455 18.9492C17.7507 18.8998 18.099 18.807 18.3623 18.6729L18.5684 18.5576C19.0383 18.2694 19.4211 17.8562 19.6729 17.3623L19.7217 17.2588C19.8298 17.0076 19.906 16.6749 19.9492 16.1455C19.9996 15.5287 20 14.736 20 13.5996V10.4004ZM22 13.5996C22 14.7032 22.001 15.5914 21.9424 16.3086C21.8903 16.9464 21.7877 17.5166 21.5605 18.0459L21.4551 18.2695C21.0056 19.1516 20.3054 19.8798 19.4443 20.3623L19.2695 20.4551C18.6773 20.7567 18.0373 20.8828 17.3086 20.9424C16.5914 21.001 15.7032 21 14.5996 21H9.40039C8.29681 21 7.40857 21.001 6.69141 20.9424C6.05359 20.8903 5.48344 20.7877 4.9541 20.5605L4.73047 20.4551C3.84841 20.0056 3.12016 19.3054 2.6377 18.4443L2.54492 18.2695C2.24327 17.6773 2.11716 17.0373 2.05762 16.3086C1.99903 15.5914 2 14.7032 2 13.5996V10.4004C2 9.29681 1.99903 8.40857 2.05762 7.69141C2.11716 6.9627 2.24327 6.32266 2.54492 5.73047L2.6377 5.55567C3.12016 4.6946 3.84841 3.99436 4.73047 3.54492L4.9541 3.43945C5.48344 3.21233 6.05359 3.10973 6.69141 3.05762C7.40857 2.99903 8.29681 3 9.40039 3H14.5996C15.7032 3 16.5914 2.99903 17.3086 3.05762C18.0373 3.11716 18.6773 3.24327 19.2695 3.54492L19.4443 3.6377C20.3054 4.12016 21.0056 4.84841 21.4551 5.73047L21.5605 5.9541C21.7877 6.48344 21.8903 7.05359 21.9424 7.69141C22.001 8.40857 22 9.29681 22 10.4004V13.5996Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M6 8C6 7.44772 6.44772 7 7 7H10C10.5523 7 11 7.44772 11 8V16C11 16.5523 10.5523 17 10 17H7C6.44772 17 6 16.5523 6 16V8Z",fill:"currentColor"}));function SidebarTrigger(){const Ye=useIntl(),rt=useOptionalAppShell();if(rt==null)return null;const{isSidebarOpen:it,toggleSidebar:lt}=rt,ct=Ye.formatMessage({id:"app.sidebar.hide",defaultMessage:"Hide sidebar",description:"Accessible label to collapse the sidebar chrome"}),ut=Ye.formatMessage({id:"app.sidebar.show",defaultMessage:"Show sidebar",description:"Accessible label to expand the sidebar chrome"}),ht=it?ct:ut,ft=it?SvgSidebarFloatingOpenLeft:SvgSidebarFloatingLeft;return jsxRuntimeExports.jsx(Button,{"aria-label":ht,color:"ghost",style:{viewTransitionName:"sidebar-trigger"},size:"icon",title:ht,onClick:lt,children:jsxRuntimeExports.jsx(ft,{className:"icon-sm"})})}const APP_HEADER_SIDEBAR_PORTAL_ID="app-header-portal-sidebar",APP_HEADER_MAIN_PORTAL_ID="app-header-portal-main";function AppHeaderPortal(){const{isSidebarOpen:Ye}=useAppShell();return jsxRuntimeExports.jsxs("div",{className:"draggable pointer-events-none fixed inset-x-0 top-0 z-30",children:[jsxRuntimeExports.jsxs("div",{className:"h-toolbar pointer-events-auto flex items-center",children:[jsxRuntimeExports.jsxs("div",{className:clsx("h-toolbar pl-token-safe-header-left duration-relaxed ease-basic relative flex min-w-0 items-center justify-between overflow-hidden transition-[min-width] will-change-[min-width]",Ye?"min-w-token-sidebar":"min-w-px"),children:[jsxRuntimeExports.jsx(SidebarTrigger,{}),jsxRuntimeExports.jsx("div",{className:clsx("h-toolbar duration-relaxed ease-basic absolute right-0 flex min-w-0 justify-end overflow-hidden transition-[max-width,opacity] will-change-[max-width,opacity]",Ye?"max-w-auto opacity-100":"pointer-events-none max-w-0 opacity-0"),children:jsxRuntimeExports.jsx("div",{id:APP_HEADER_SIDEBAR_PORTAL_ID})})]}),jsxRuntimeExports.jsx("div",{className:"h-toolbar flex w-full items-center",children:jsxRuntimeExports.jsx("div",{id:APP_HEADER_MAIN_PORTAL_ID,className:"px-panel flex min-w-0 flex-1"})})]}),jsxRuntimeExports.jsx("div",{className:clsx("border-token-border-light duration-relaxed ease-basic pointer-events-none absolute bottom-0 left-0 right-0 h-px w-full items-center border-b transition-[left] will-change-[left]",Ye?"left-token-sidebar":"left-0")})]})}function usePortalNode(Ye){const[rt,it]=reactExports.useReducer((lt,ct)=>ct,null);return reactExports.useLayoutEffect(()=>{typeof document>"u"||it(document.getElementById(Ye))},[Ye]),rt}function AppHeader({children:Ye,sidebar:rt}){const it=usePortalNode(APP_HEADER_SIDEBAR_PORTAL_ID),lt=usePortalNode(APP_HEADER_MAIN_PORTAL_ID);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[rt&&it?reactDomExports.createPortal(rt,it):rt,Ye&&lt?reactDomExports.createPortal(Ye,lt):Ye]})}const SvgChevronRight=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...Ye},reactExports.createElement("path",{d:"M7.52925 3.7793C7.75652 3.55203 8.10803 3.52383 8.36616 3.69434L8.47065 3.7793L14.2207 9.5293C14.4804 9.789 14.4804 10.211 14.2207 10.4707L8.47065 16.2207C8.21095 16.4804 7.78895 16.4804 7.52925 16.2207C7.26955 15.961 7.26955 15.539 7.52925 15.2793L12.8085 10L7.52925 4.7207L7.44429 4.61621C7.27378 4.35808 7.30198 4.00657 7.52925 3.7793Z"})),ACCORDION_EASE="easeInOut",ACCORDION_DURATION=.25,ACCORDION_TRANSITION={duration:ACCORDION_DURATION,ease:ACCORDION_EASE};function composeEventHandlers(Ye,rt,{checkForDefaultPrevented:it=!0}={}){return function(ct){if(Ye?.(ct),it===!1||!ct.defaultPrevented)return rt?.(ct)}}function setRef(Ye,rt){if(typeof Ye=="function")return Ye(rt);Ye!=null&&(Ye.current=rt)}function composeRefs(...Ye){return rt=>{let it=!1;const lt=Ye.map(ct=>{const ut=setRef(ct,rt);return!it&&typeof ut=="function"&&(it=!0),ut});if(it)return()=>{for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];typeof ut=="function"?ut():setRef(Ye[ct],null)}}}}function useComposedRefs(...Ye){return reactExports.useCallback(composeRefs(...Ye),Ye)}function createContext2(Ye,rt){const it=reactExports.createContext(rt),lt=ut=>{const{children:ht,...ft}=ut,pt=reactExports.useMemo(()=>ft,Object.values(ft));return jsxRuntimeExports.jsx(it.Provider,{value:pt,children:ht})};lt.displayName=Ye+"Provider";function ct(ut){const ht=reactExports.useContext(it);if(ht)return ht;if(rt!==void 0)return rt;throw new Error(`\`${ut}\` must be used within \`${Ye}\``)}return[lt,ct]}function createContextScope(Ye,rt=[]){let it=[];function lt(ut,ht){const ft=reactExports.createContext(ht),pt=it.length;it=[...it,ht];const mt=yt=>{const{scope:xt,children:bt,..._t}=yt,Ct=xt?.[Ye]?.[pt]||ft,kt=reactExports.useMemo(()=>_t,Object.values(_t));return jsxRuntimeExports.jsx(Ct.Provider,{value:kt,children:bt})};mt.displayName=ut+"Provider";function gt(yt,xt){const bt=xt?.[Ye]?.[pt]||ft,_t=reactExports.useContext(bt);if(_t)return _t;if(ht!==void 0)return ht;throw new Error(`\`${yt}\` must be used within \`${ut}\``)}return[mt,gt]}const ct=()=>{const ut=it.map(ht=>reactExports.createContext(ht));return function(ft){const pt=ft?.[Ye]||ut;return reactExports.useMemo(()=>({[`__scope${Ye}`]:{...ft,[Ye]:pt}}),[ft,pt])}};return ct.scopeName=Ye,[lt,composeContextScopes(ct,...rt)]}function composeContextScopes(...Ye){const rt=Ye[0];if(Ye.length===1)return rt;const it=()=>{const lt=Ye.map(ct=>({useScope:ct(),scopeName:ct.scopeName}));return function(ut){const ht=lt.reduce((ft,{useScope:pt,scopeName:mt})=>{const yt=pt(ut)[`__scope${mt}`];return{...ft,...yt}},{});return reactExports.useMemo(()=>({[`__scope${rt.scopeName}`]:ht}),[ht])}};return it.scopeName=rt.scopeName,it}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:Ye,defaultProp:rt,onChange:it=()=>{},caller:lt}){const[ct,ut,ht]=useUncontrolledState({defaultProp:rt,onChange:it}),ft=Ye!==void 0,pt=ft?Ye:ct;{const gt=reactExports.useRef(Ye!==void 0);reactExports.useEffect(()=>{const yt=gt.current;yt!==ft&&console.warn(`${lt} is changing from ${yt?"controlled":"uncontrolled"} to ${ft?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),gt.current=ft},[ft,lt])}const mt=reactExports.useCallback(gt=>{if(ft){const yt=isFunction$2(gt)?gt(Ye):gt;yt!==Ye&&ht.current?.(yt)}else ut(gt)},[ft,Ye,ut,ht]);return[pt,mt]}function useUncontrolledState({defaultProp:Ye,onChange:rt}){const[it,lt]=reactExports.useState(Ye),ct=reactExports.useRef(it),ut=reactExports.useRef(rt);return useInsertionEffect(()=>{ut.current=rt},[rt]),reactExports.useEffect(()=>{ct.current!==it&&(ut.current?.(it),ct.current=it)},[it,ct]),[it,lt,ut]}function isFunction$2(Ye){return typeof Ye=="function"}function createSlot(Ye){const rt=createSlotClone(Ye),it=reactExports.forwardRef((lt,ct)=>{const{children:ut,...ht}=lt,ft=reactExports.Children.toArray(ut),pt=ft.find(isSlottable);if(pt){const mt=pt.props.children,gt=ft.map(yt=>yt===pt?reactExports.Children.count(mt)>1?reactExports.Children.only(null):reactExports.isValidElement(mt)?mt.props.children:null:yt);return jsxRuntimeExports.jsx(rt,{...ht,ref:ct,children:reactExports.isValidElement(mt)?reactExports.cloneElement(mt,void 0,gt):null})}return jsxRuntimeExports.jsx(rt,{...ht,ref:ct,children:ut})});return it.displayName=`${Ye}.Slot`,it}function createSlotClone(Ye){const rt=reactExports.forwardRef((it,lt)=>{const{children:ct,...ut}=it;if(reactExports.isValidElement(ct)){const ht=getElementRef$1(ct),ft=mergeProps(ut,ct.props);return ct.type!==reactExports.Fragment&&(ft.ref=lt?composeRefs(lt,ht):ht),reactExports.cloneElement(ct,ft)}return reactExports.Children.count(ct)>1?reactExports.Children.only(null):null});return rt.displayName=`${Ye}.SlotClone`,rt}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(Ye){const rt=({children:it})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:it});return rt.displayName=`${Ye}.Slottable`,rt.__radixId=SLOTTABLE_IDENTIFIER,rt}function isSlottable(Ye){return reactExports.isValidElement(Ye)&&typeof Ye.type=="function"&&"__radixId"in Ye.type&&Ye.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(Ye,rt){const it={...rt};for(const lt in rt){const ct=Ye[lt],ut=rt[lt];/^on[A-Z]/.test(lt)?ct&&ut?it[lt]=(...ft)=>{const pt=ut(...ft);return ct(...ft),pt}:ct&&(it[lt]=ct):lt==="style"?it[lt]={...ct,...ut}:lt==="className"&&(it[lt]=[ct,ut].filter(Boolean).join(" "))}return{...Ye,...it}}function getElementRef$1(Ye){let rt=Object.getOwnPropertyDescriptor(Ye.props,"ref")?.get,it=rt&&"isReactWarning"in rt&&rt.isReactWarning;return it?Ye.ref:(rt=Object.getOwnPropertyDescriptor(Ye,"ref")?.get,it=rt&&"isReactWarning"in rt&&rt.isReactWarning,it?Ye.props.ref:Ye.props.ref||Ye.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((Ye,rt)=>{const it=createSlot(`Primitive.${rt}`),lt=reactExports.forwardRef((ct,ut)=>{const{asChild:ht,...ft}=ct,pt=ht?it:rt;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(pt,{...ft,ref:ut})});return lt.displayName=`Primitive.${rt}`,{...Ye,[rt]:lt}},{});function dispatchDiscreteCustomEvent(Ye,rt){Ye&&reactDomExports.flushSync(()=>Ye.dispatchEvent(rt))}function createCollection(Ye){const rt=Ye+"CollectionProvider",[it,lt]=createContextScope(rt),[ct,ut]=it(rt,{collectionRef:{current:null},itemMap:new Map}),ht=Ct=>{const{scope:kt,children:St}=Ct,Rt=React.useRef(null),Tt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(ct,{scope:kt,itemMap:Tt,collectionRef:Rt,children:St})};ht.displayName=rt;const ft=Ye+"CollectionSlot",pt=createSlot(ft),mt=React.forwardRef((Ct,kt)=>{const{scope:St,children:Rt}=Ct,Tt=ut(ft,St),Mt=useComposedRefs(kt,Tt.collectionRef);return jsxRuntimeExports.jsx(pt,{ref:Mt,children:Rt})});mt.displayName=ft;const gt=Ye+"CollectionItemSlot",yt="data-radix-collection-item",xt=createSlot(gt),bt=React.forwardRef((Ct,kt)=>{const{scope:St,children:Rt,...Tt}=Ct,Mt=React.useRef(null),Pt=useComposedRefs(kt,Mt),It=ut(gt,St);return React.useEffect(()=>(It.itemMap.set(Mt,{ref:Mt,...Tt}),()=>void It.itemMap.delete(Mt))),jsxRuntimeExports.jsx(xt,{[yt]:"",ref:Pt,children:Rt})});bt.displayName=gt;function _t(Ct){const kt=ut(Ye+"CollectionConsumer",Ct);return React.useCallback(()=>{const Rt=kt.collectionRef.current;if(!Rt)return[];const Tt=Array.from(Rt.querySelectorAll(`[${yt}]`));return Array.from(kt.itemMap.values()).sort((It,Lt)=>Tt.indexOf(It.ref.current)-Tt.indexOf(Lt.ref.current))},[kt.collectionRef,kt.itemMap])}return[{Provider:ht,Slot:mt,ItemSlot:bt},_t,lt]}var DirectionContext=reactExports.createContext(void 0);function useDirection(Ye){const rt=reactExports.useContext(DirectionContext);return Ye||rt||"ltr"}function useCallbackRef$1(Ye){const rt=reactExports.useRef(Ye);return reactExports.useEffect(()=>{rt.current=Ye}),reactExports.useMemo(()=>(...it)=>rt.current?.(...it),[])}function useEscapeKeydown(Ye,rt=globalThis?.document){const it=useCallbackRef$1(Ye);reactExports.useEffect(()=>{const lt=ct=>{ct.key==="Escape"&&it(ct)};return rt.addEventListener("keydown",lt,{capture:!0}),()=>rt.removeEventListener("keydown",lt,{capture:!0})},[it,rt])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((Ye,rt)=>{const{disableOutsidePointerEvents:it=!1,onEscapeKeyDown:lt,onPointerDownOutside:ct,onFocusOutside:ut,onInteractOutside:ht,onDismiss:ft,...pt}=Ye,mt=reactExports.useContext(DismissableLayerContext),[gt,yt]=reactExports.useState(null),xt=gt?.ownerDocument??globalThis?.document,[,bt]=reactExports.useState({}),_t=useComposedRefs(rt,Lt=>yt(Lt)),Ct=Array.from(mt.layers),[kt]=[...mt.layersWithOutsidePointerEventsDisabled].slice(-1),St=Ct.indexOf(kt),Rt=gt?Ct.indexOf(gt):-1,Tt=mt.layersWithOutsidePointerEventsDisabled.size>0,Mt=Rt>=St,Pt=usePointerDownOutside(Lt=>{const Ot=Lt.target,Ft=[...mt.branches].some(Ut=>Ut.contains(Ot));!Mt||Ft||(ct?.(Lt),ht?.(Lt),Lt.defaultPrevented||ft?.())},xt),It=useFocusOutside(Lt=>{const Ot=Lt.target;[...mt.branches].some(Ut=>Ut.contains(Ot))||(ut?.(Lt),ht?.(Lt),Lt.defaultPrevented||ft?.())},xt);return useEscapeKeydown(Lt=>{Rt===mt.layers.size-1&&(lt?.(Lt),!Lt.defaultPrevented&&ft&&(Lt.preventDefault(),ft()))},xt),reactExports.useEffect(()=>{if(gt)return it&&(mt.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=xt.body.style.pointerEvents,xt.body.style.pointerEvents="none"),mt.layersWithOutsidePointerEventsDisabled.add(gt)),mt.layers.add(gt),dispatchUpdate(),()=>{it&&mt.layersWithOutsidePointerEventsDisabled.size===1&&(xt.body.style.pointerEvents=originalBodyPointerEvents)}},[gt,xt,it,mt]),reactExports.useEffect(()=>()=>{gt&&(mt.layers.delete(gt),mt.layersWithOutsidePointerEventsDisabled.delete(gt),dispatchUpdate())},[gt,mt]),reactExports.useEffect(()=>{const Lt=()=>bt({});return document.addEventListener(CONTEXT_UPDATE,Lt),()=>document.removeEventListener(CONTEXT_UPDATE,Lt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...pt,ref:_t,style:{pointerEvents:Tt?Mt?"auto":"none":void 0,...Ye.style},onFocusCapture:composeEventHandlers(Ye.onFocusCapture,It.onFocusCapture),onBlurCapture:composeEventHandlers(Ye.onBlurCapture,It.onBlurCapture),onPointerDownCapture:composeEventHandlers(Ye.onPointerDownCapture,Pt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((Ye,rt)=>{const it=reactExports.useContext(DismissableLayerContext),lt=reactExports.useRef(null),ct=useComposedRefs(rt,lt);return reactExports.useEffect(()=>{const ut=lt.current;if(ut)return it.branches.add(ut),()=>{it.branches.delete(ut)}},[it.branches]),jsxRuntimeExports.jsx(Primitive.div,{...Ye,ref:ct})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(Ye,rt=globalThis?.document){const it=useCallbackRef$1(Ye),lt=reactExports.useRef(!1),ct=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ut=ft=>{if(ft.target&&!lt.current){let pt=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,it,mt,{discrete:!0})};const mt={originalEvent:ft};ft.pointerType==="touch"?(rt.removeEventListener("click",ct.current),ct.current=pt,rt.addEventListener("click",ct.current,{once:!0})):pt()}else rt.removeEventListener("click",ct.current);lt.current=!1},ht=window.setTimeout(()=>{rt.addEventListener("pointerdown",ut)},0);return()=>{window.clearTimeout(ht),rt.removeEventListener("pointerdown",ut),rt.removeEventListener("click",ct.current)}},[rt,it]),{onPointerDownCapture:()=>lt.current=!0}}function useFocusOutside(Ye,rt=globalThis?.document){const it=useCallbackRef$1(Ye),lt=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ct=ut=>{ut.target&&!lt.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,it,{originalEvent:ut},{discrete:!1})};return rt.addEventListener("focusin",ct),()=>rt.removeEventListener("focusin",ct)},[rt,it]),{onFocusCapture:()=>lt.current=!0,onBlurCapture:()=>lt.current=!1}}function dispatchUpdate(){const Ye=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(Ye)}function handleAndDispatchCustomEvent(Ye,rt,it,{discrete:lt}){const ct=it.originalEvent.target,ut=new CustomEvent(Ye,{bubbles:!1,cancelable:!0,detail:it});rt&&ct.addEventListener(Ye,rt,{once:!0}),lt?dispatchDiscreteCustomEvent(ct,ut):ct.dispatchEvent(ut)}var count$1=0;function useFocusGuards(){reactExports.useEffect(()=>{const Ye=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",Ye[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",Ye[1]??createFocusGuard()),count$1++,()=>{count$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(rt=>rt.remove()),count$1--}},[])}function createFocusGuard(){const Ye=document.createElement("span");return Ye.setAttribute("data-radix-focus-guard",""),Ye.tabIndex=0,Ye.style.outline="none",Ye.style.opacity="0",Ye.style.position="fixed",Ye.style.pointerEvents="none",Ye}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((Ye,rt)=>{const{loop:it=!1,trapped:lt=!1,onMountAutoFocus:ct,onUnmountAutoFocus:ut,...ht}=Ye,[ft,pt]=reactExports.useState(null),mt=useCallbackRef$1(ct),gt=useCallbackRef$1(ut),yt=reactExports.useRef(null),xt=useComposedRefs(rt,Ct=>pt(Ct)),bt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(lt){let Ct=function(Tt){if(bt.paused||!ft)return;const Mt=Tt.target;ft.contains(Mt)?yt.current=Mt:focus(yt.current,{select:!0})},kt=function(Tt){if(bt.paused||!ft)return;const Mt=Tt.relatedTarget;Mt!==null&&(ft.contains(Mt)||focus(yt.current,{select:!0}))},St=function(Tt){if(document.activeElement===document.body)for(const Pt of Tt)Pt.removedNodes.length>0&&focus(ft)};document.addEventListener("focusin",Ct),document.addEventListener("focusout",kt);const Rt=new MutationObserver(St);return ft&&Rt.observe(ft,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Ct),document.removeEventListener("focusout",kt),Rt.disconnect()}}},[lt,ft,bt.paused]),reactExports.useEffect(()=>{if(ft){focusScopesStack.add(bt);const Ct=document.activeElement;if(!ft.contains(Ct)){const St=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);ft.addEventListener(AUTOFOCUS_ON_MOUNT,mt),ft.dispatchEvent(St),St.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(ft)),{select:!0}),document.activeElement===Ct&&focus(ft))}return()=>{ft.removeEventListener(AUTOFOCUS_ON_MOUNT,mt),setTimeout(()=>{const St=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);ft.addEventListener(AUTOFOCUS_ON_UNMOUNT,gt),ft.dispatchEvent(St),St.defaultPrevented||focus(Ct??document.body,{select:!0}),ft.removeEventListener(AUTOFOCUS_ON_UNMOUNT,gt),focusScopesStack.remove(bt)},0)}}},[ft,mt,gt,bt]);const _t=reactExports.useCallback(Ct=>{if(!it&&!lt||bt.paused)return;const kt=Ct.key==="Tab"&&!Ct.altKey&&!Ct.ctrlKey&&!Ct.metaKey,St=document.activeElement;if(kt&&St){const Rt=Ct.currentTarget,[Tt,Mt]=getTabbableEdges(Rt);Tt&&Mt?!Ct.shiftKey&&St===Mt?(Ct.preventDefault(),it&&focus(Tt,{select:!0})):Ct.shiftKey&&St===Tt&&(Ct.preventDefault(),it&&focus(Mt,{select:!0})):St===Rt&&Ct.preventDefault()}},[it,lt,bt.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...ht,ref:xt,onKeyDown:_t})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(Ye,{select:rt=!1}={}){const it=document.activeElement;for(const lt of Ye)if(focus(lt,{select:rt}),document.activeElement!==it)return}function getTabbableEdges(Ye){const rt=getTabbableCandidates(Ye),it=findVisible(rt,Ye),lt=findVisible(rt.reverse(),Ye);return[it,lt]}function getTabbableCandidates(Ye){const rt=[],it=document.createTreeWalker(Ye,NodeFilter.SHOW_ELEMENT,{acceptNode:lt=>{const ct=lt.tagName==="INPUT"&&lt.type==="hidden";return lt.disabled||lt.hidden||ct?NodeFilter.FILTER_SKIP:lt.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;it.nextNode();)rt.push(it.currentNode);return rt}function findVisible(Ye,rt){for(const it of Ye)if(!isHidden(it,{upTo:rt}))return it}function isHidden(Ye,{upTo:rt}){if(getComputedStyle(Ye).visibility==="hidden")return!0;for(;Ye;){if(rt!==void 0&&Ye===rt)return!1;if(getComputedStyle(Ye).display==="none")return!0;Ye=Ye.parentElement}return!1}function isSelectableInput(Ye){return Ye instanceof HTMLInputElement&&"select"in Ye}function focus(Ye,{select:rt=!1}={}){if(Ye&&Ye.focus){const it=document.activeElement;Ye.focus({preventScroll:!0}),Ye!==it&&isSelectableInput(Ye)&&rt&&Ye.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let Ye=[];return{add(rt){const it=Ye[0];rt!==it&&it?.pause(),Ye=arrayRemove(Ye,rt),Ye.unshift(rt)},remove(rt){Ye=arrayRemove(Ye,rt),Ye[0]?.resume()}}}function arrayRemove(Ye,rt){const it=[...Ye],lt=it.indexOf(rt);return lt!==-1&&it.splice(lt,1),it}function removeLinks(Ye){return Ye.filter(rt=>rt.tagName!=="A")}var useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count=0;function useId$1(Ye){const[rt,it]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{it(lt=>lt??String(count++))},[Ye]),rt?`radix-${rt}`:""}const sides=["top","right","bottom","left"],min$1=Math.min,max$1=Math.max,round=Math.round,floor=Math.floor,createCoords=Ye=>({x:Ye,y:Ye}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(Ye,rt,it){return max$1(Ye,min$1(rt,it))}function evaluate$1(Ye,rt){return typeof Ye=="function"?Ye(rt):Ye}function getSide$1(Ye){return Ye.split("-")[0]}function getAlignment(Ye){return Ye.split("-")[1]}function getOppositeAxis(Ye){return Ye==="x"?"y":"x"}function getAxisLength(Ye){return Ye==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(Ye){return yAxisSides.has(getSide$1(Ye))?"y":"x"}function getAlignmentAxis(Ye){return getOppositeAxis(getSideAxis(Ye))}function getAlignmentSides(Ye,rt,it){it===void 0&&(it=!1);const lt=getAlignment(Ye),ct=getAlignmentAxis(Ye),ut=getAxisLength(ct);let ht=ct==="x"?lt===(it?"end":"start")?"right":"left":lt==="start"?"bottom":"top";return rt.reference[ut]>rt.floating[ut]&&(ht=getOppositePlacement(ht)),[ht,getOppositePlacement(ht)]}function getExpandedPlacements(Ye){const rt=getOppositePlacement(Ye);return[getOppositeAlignmentPlacement(Ye),rt,getOppositeAlignmentPlacement(rt)]}function getOppositeAlignmentPlacement(Ye){return Ye.replace(/start|end/g,rt=>oppositeAlignmentMap[rt])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(Ye,rt,it){switch(Ye){case"top":case"bottom":return it?rt?rlPlacement:lrPlacement:rt?lrPlacement:rlPlacement;case"left":case"right":return rt?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(Ye,rt,it,lt){const ct=getAlignment(Ye);let ut=getSideList(getSide$1(Ye),it==="start",lt);return ct&&(ut=ut.map(ht=>ht+"-"+ct),rt&&(ut=ut.concat(ut.map(getOppositeAlignmentPlacement)))),ut}function getOppositePlacement(Ye){return Ye.replace(/left|right|bottom|top/g,rt=>oppositeSideMap[rt])}function expandPaddingObject(Ye){return{top:0,right:0,bottom:0,left:0,...Ye}}function getPaddingObject(Ye){return typeof Ye!="number"?expandPaddingObject(Ye):{top:Ye,right:Ye,bottom:Ye,left:Ye}}function rectToClientRect(Ye){const{x:rt,y:it,width:lt,height:ct}=Ye;return{width:lt,height:ct,top:it,left:rt,right:rt+lt,bottom:it+ct,x:rt,y:it}}function computeCoordsFromPlacement(Ye,rt,it){let{reference:lt,floating:ct}=Ye;const ut=getSideAxis(rt),ht=getAlignmentAxis(rt),ft=getAxisLength(ht),pt=getSide$1(rt),mt=ut==="y",gt=lt.x+lt.width/2-ct.width/2,yt=lt.y+lt.height/2-ct.height/2,xt=lt[ft]/2-ct[ft]/2;let bt;switch(pt){case"top":bt={x:gt,y:lt.y-ct.height};break;case"bottom":bt={x:gt,y:lt.y+lt.height};break;case"right":bt={x:lt.x+lt.width,y:yt};break;case"left":bt={x:lt.x-ct.width,y:yt};break;default:bt={x:lt.x,y:lt.y}}switch(getAlignment(rt)){case"start":bt[ht]-=xt*(it&&mt?-1:1);break;case"end":bt[ht]+=xt*(it&&mt?-1:1);break}return bt}const computePosition$1=async(Ye,rt,it)=>{const{placement:lt="bottom",strategy:ct="absolute",middleware:ut=[],platform:ht}=it,ft=ut.filter(Boolean),pt=await(ht.isRTL==null?void 0:ht.isRTL(rt));let mt=await ht.getElementRects({reference:Ye,floating:rt,strategy:ct}),{x:gt,y:yt}=computeCoordsFromPlacement(mt,lt,pt),xt=lt,bt={},_t=0;for(let Ct=0;Ct<ft.length;Ct++){const{name:kt,fn:St}=ft[Ct],{x:Rt,y:Tt,data:Mt,reset:Pt}=await St({x:gt,y:yt,initialPlacement:lt,placement:xt,strategy:ct,middlewareData:bt,rects:mt,platform:ht,elements:{reference:Ye,floating:rt}});gt=Rt??gt,yt=Tt??yt,bt={...bt,[kt]:{...bt[kt],...Mt}},Pt&&_t<=50&&(_t++,typeof Pt=="object"&&(Pt.placement&&(xt=Pt.placement),Pt.rects&&(mt=Pt.rects===!0?await ht.getElementRects({reference:Ye,floating:rt,strategy:ct}):Pt.rects),{x:gt,y:yt}=computeCoordsFromPlacement(mt,xt,pt)),Ct=-1)}return{x:gt,y:yt,placement:xt,strategy:ct,middlewareData:bt}};async function detectOverflow(Ye,rt){var it;rt===void 0&&(rt={});const{x:lt,y:ct,platform:ut,rects:ht,elements:ft,strategy:pt}=Ye,{boundary:mt="clippingAncestors",rootBoundary:gt="viewport",elementContext:yt="floating",altBoundary:xt=!1,padding:bt=0}=evaluate$1(rt,Ye),_t=getPaddingObject(bt),kt=ft[xt?yt==="floating"?"reference":"floating":yt],St=rectToClientRect(await ut.getClippingRect({element:(it=await(ut.isElement==null?void 0:ut.isElement(kt)))==null||it?kt:kt.contextElement||await(ut.getDocumentElement==null?void 0:ut.getDocumentElement(ft.floating)),boundary:mt,rootBoundary:gt,strategy:pt})),Rt=yt==="floating"?{x:lt,y:ct,width:ht.floating.width,height:ht.floating.height}:ht.reference,Tt=await(ut.getOffsetParent==null?void 0:ut.getOffsetParent(ft.floating)),Mt=await(ut.isElement==null?void 0:ut.isElement(Tt))?await(ut.getScale==null?void 0:ut.getScale(Tt))||{x:1,y:1}:{x:1,y:1},Pt=rectToClientRect(ut.convertOffsetParentRelativeRectToViewportRelativeRect?await ut.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ft,rect:Rt,offsetParent:Tt,strategy:pt}):Rt);return{top:(St.top-Pt.top+_t.top)/Mt.y,bottom:(Pt.bottom-St.bottom+_t.bottom)/Mt.y,left:(St.left-Pt.left+_t.left)/Mt.x,right:(Pt.right-St.right+_t.right)/Mt.x}}const arrow$4=Ye=>({name:"arrow",options:Ye,async fn(rt){const{x:it,y:lt,placement:ct,rects:ut,platform:ht,elements:ft,middlewareData:pt}=rt,{element:mt,padding:gt=0}=evaluate$1(Ye,rt)||{};if(mt==null)return{};const yt=getPaddingObject(gt),xt={x:it,y:lt},bt=getAlignmentAxis(ct),_t=getAxisLength(bt),Ct=await ht.getDimensions(mt),kt=bt==="y",St=kt?"top":"left",Rt=kt?"bottom":"right",Tt=kt?"clientHeight":"clientWidth",Mt=ut.reference[_t]+ut.reference[bt]-xt[bt]-ut.floating[_t],Pt=xt[bt]-ut.reference[bt],It=await(ht.getOffsetParent==null?void 0:ht.getOffsetParent(mt));let Lt=It?It[Tt]:0;(!Lt||!await(ht.isElement==null?void 0:ht.isElement(It)))&&(Lt=ft.floating[Tt]||ut.floating[_t]);const Ot=Mt/2-Pt/2,Ft=Lt/2-Ct[_t]/2-1,Ut=min$1(yt[St],Ft),Wt=min$1(yt[Rt],Ft),Kt=Ut,Qt=Lt-Ct[_t]-Wt,Zt=Lt/2-Ct[_t]/2+Ot,Vt=clamp(Kt,Zt,Qt),$t=!pt.arrow&&getAlignment(ct)!=null&&Zt!==Vt&&ut.reference[_t]/2-(Zt<Kt?Ut:Wt)-Ct[_t]/2<0,zt=$t?Zt<Kt?Zt-Kt:Zt-Qt:0;return{[bt]:xt[bt]+zt,data:{[bt]:Vt,centerOffset:Zt-Vt-zt,...$t&&{alignmentOffset:zt}},reset:$t}}}),flip$2=function(Ye){return Ye===void 0&&(Ye={}),{name:"flip",options:Ye,async fn(rt){var it,lt;const{placement:ct,middlewareData:ut,rects:ht,initialPlacement:ft,platform:pt,elements:mt}=rt,{mainAxis:gt=!0,crossAxis:yt=!0,fallbackPlacements:xt,fallbackStrategy:bt="bestFit",fallbackAxisSideDirection:_t="none",flipAlignment:Ct=!0,...kt}=evaluate$1(Ye,rt);if((it=ut.arrow)!=null&&it.alignmentOffset)return{};const St=getSide$1(ct),Rt=getSideAxis(ft),Tt=getSide$1(ft)===ft,Mt=await(pt.isRTL==null?void 0:pt.isRTL(mt.floating)),Pt=xt||(Tt||!Ct?[getOppositePlacement(ft)]:getExpandedPlacements(ft)),It=_t!=="none";!xt&&It&&Pt.push(...getOppositeAxisPlacements(ft,Ct,_t,Mt));const Lt=[ft,...Pt],Ot=await detectOverflow(rt,kt),Ft=[];let Ut=((lt=ut.flip)==null?void 0:lt.overflows)||[];if(gt&&Ft.push(Ot[St]),yt){const Zt=getAlignmentSides(ct,ht,Mt);Ft.push(Ot[Zt[0]],Ot[Zt[1]])}if(Ut=[...Ut,{placement:ct,overflows:Ft}],!Ft.every(Zt=>Zt<=0)){var Wt,Kt;const Zt=(((Wt=ut.flip)==null?void 0:Wt.index)||0)+1,Vt=Lt[Zt];if(Vt&&(!(yt==="alignment"?Rt!==getSideAxis(Vt):!1)||Ut.every(Nt=>getSideAxis(Nt.placement)===Rt?Nt.overflows[0]>0:!0)))return{data:{index:Zt,overflows:Ut},reset:{placement:Vt}};let $t=(Kt=Ut.filter(zt=>zt.overflows[0]<=0).sort((zt,Nt)=>zt.overflows[1]-Nt.overflows[1])[0])==null?void 0:Kt.placement;if(!$t)switch(bt){case"bestFit":{var Qt;const zt=(Qt=Ut.filter(Nt=>{if(It){const qt=getSideAxis(Nt.placement);return qt===Rt||qt==="y"}return!0}).map(Nt=>[Nt.placement,Nt.overflows.filter(qt=>qt>0).reduce((qt,Gt)=>qt+Gt,0)]).sort((Nt,qt)=>Nt[1]-qt[1])[0])==null?void 0:Qt[0];zt&&($t=zt);break}case"initialPlacement":$t=ft;break}if(ct!==$t)return{reset:{placement:$t}}}return{}}}};function getSideOffsets(Ye,rt){return{top:Ye.top-rt.height,right:Ye.right-rt.width,bottom:Ye.bottom-rt.height,left:Ye.left-rt.width}}function isAnySideFullyClipped(Ye){return sides.some(rt=>Ye[rt]>=0)}const hide$2=function(Ye){return Ye===void 0&&(Ye={}),{name:"hide",options:Ye,async fn(rt){const{rects:it}=rt,{strategy:lt="referenceHidden",...ct}=evaluate$1(Ye,rt);switch(lt){case"referenceHidden":{const ut=await detectOverflow(rt,{...ct,elementContext:"reference"}),ht=getSideOffsets(ut,it.reference);return{data:{referenceHiddenOffsets:ht,referenceHidden:isAnySideFullyClipped(ht)}}}case"escaped":{const ut=await detectOverflow(rt,{...ct,altBoundary:!0}),ht=getSideOffsets(ut,it.floating);return{data:{escapedOffsets:ht,escaped:isAnySideFullyClipped(ht)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(Ye,rt){const{placement:it,platform:lt,elements:ct}=Ye,ut=await(lt.isRTL==null?void 0:lt.isRTL(ct.floating)),ht=getSide$1(it),ft=getAlignment(it),pt=getSideAxis(it)==="y",mt=originSides.has(ht)?-1:1,gt=ut&&pt?-1:1,yt=evaluate$1(rt,Ye);let{mainAxis:xt,crossAxis:bt,alignmentAxis:_t}=typeof yt=="number"?{mainAxis:yt,crossAxis:0,alignmentAxis:null}:{mainAxis:yt.mainAxis||0,crossAxis:yt.crossAxis||0,alignmentAxis:yt.alignmentAxis};return ft&&typeof _t=="number"&&(bt=ft==="end"?_t*-1:_t),pt?{x:bt*gt,y:xt*mt}:{x:xt*mt,y:bt*gt}}const offset$2=function(Ye){return Ye===void 0&&(Ye=0),{name:"offset",options:Ye,async fn(rt){var it,lt;const{x:ct,y:ut,placement:ht,middlewareData:ft}=rt,pt=await convertValueToCoords(rt,Ye);return ht===((it=ft.offset)==null?void 0:it.placement)&&(lt=ft.arrow)!=null&&lt.alignmentOffset?{}:{x:ct+pt.x,y:ut+pt.y,data:{...pt,placement:ht}}}}},shift$3=function(Ye){return Ye===void 0&&(Ye={}),{name:"shift",options:Ye,async fn(rt){const{x:it,y:lt,placement:ct}=rt,{mainAxis:ut=!0,crossAxis:ht=!1,limiter:ft={fn:kt=>{let{x:St,y:Rt}=kt;return{x:St,y:Rt}}},...pt}=evaluate$1(Ye,rt),mt={x:it,y:lt},gt=await detectOverflow(rt,pt),yt=getSideAxis(getSide$1(ct)),xt=getOppositeAxis(yt);let bt=mt[xt],_t=mt[yt];if(ut){const kt=xt==="y"?"top":"left",St=xt==="y"?"bottom":"right",Rt=bt+gt[kt],Tt=bt-gt[St];bt=clamp(Rt,bt,Tt)}if(ht){const kt=yt==="y"?"top":"left",St=yt==="y"?"bottom":"right",Rt=_t+gt[kt],Tt=_t-gt[St];_t=clamp(Rt,_t,Tt)}const Ct=ft.fn({...rt,[xt]:bt,[yt]:_t});return{...Ct,data:{x:Ct.x-it,y:Ct.y-lt,enabled:{[xt]:ut,[yt]:ht}}}}}},limitShift$2=function(Ye){return Ye===void 0&&(Ye={}),{options:Ye,fn(rt){const{x:it,y:lt,placement:ct,rects:ut,middlewareData:ht}=rt,{offset:ft=0,mainAxis:pt=!0,crossAxis:mt=!0}=evaluate$1(Ye,rt),gt={x:it,y:lt},yt=getSideAxis(ct),xt=getOppositeAxis(yt);let bt=gt[xt],_t=gt[yt];const Ct=evaluate$1(ft,rt),kt=typeof Ct=="number"?{mainAxis:Ct,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ct};if(pt){const Tt=xt==="y"?"height":"width",Mt=ut.reference[xt]-ut.floating[Tt]+kt.mainAxis,Pt=ut.reference[xt]+ut.reference[Tt]-kt.mainAxis;bt<Mt?bt=Mt:bt>Pt&&(bt=Pt)}if(mt){var St,Rt;const Tt=xt==="y"?"width":"height",Mt=originSides.has(getSide$1(ct)),Pt=ut.reference[yt]-ut.floating[Tt]+(Mt&&((St=ht.offset)==null?void 0:St[yt])||0)+(Mt?0:kt.crossAxis),It=ut.reference[yt]+ut.reference[Tt]+(Mt?0:((Rt=ht.offset)==null?void 0:Rt[yt])||0)-(Mt?kt.crossAxis:0);_t<Pt?_t=Pt:_t>It&&(_t=It)}return{[xt]:bt,[yt]:_t}}}},size$2=function(Ye){return Ye===void 0&&(Ye={}),{name:"size",options:Ye,async fn(rt){var it,lt;const{placement:ct,rects:ut,platform:ht,elements:ft}=rt,{apply:pt=()=>{},...mt}=evaluate$1(Ye,rt),gt=await detectOverflow(rt,mt),yt=getSide$1(ct),xt=getAlignment(ct),bt=getSideAxis(ct)==="y",{width:_t,height:Ct}=ut.floating;let kt,St;yt==="top"||yt==="bottom"?(kt=yt,St=xt===(await(ht.isRTL==null?void 0:ht.isRTL(ft.floating))?"start":"end")?"left":"right"):(St=yt,kt=xt==="end"?"top":"bottom");const Rt=Ct-gt.top-gt.bottom,Tt=_t-gt.left-gt.right,Mt=min$1(Ct-gt[kt],Rt),Pt=min$1(_t-gt[St],Tt),It=!rt.middlewareData.shift;let Lt=Mt,Ot=Pt;if((it=rt.middlewareData.shift)!=null&&it.enabled.x&&(Ot=Tt),(lt=rt.middlewareData.shift)!=null&&lt.enabled.y&&(Lt=Rt),It&&!xt){const Ut=max$1(gt.left,0),Wt=max$1(gt.right,0),Kt=max$1(gt.top,0),Qt=max$1(gt.bottom,0);bt?Ot=_t-2*(Ut!==0||Wt!==0?Ut+Wt:max$1(gt.left,gt.right)):Lt=Ct-2*(Kt!==0||Qt!==0?Kt+Qt:max$1(gt.top,gt.bottom))}await pt({...rt,availableWidth:Ot,availableHeight:Lt});const Ft=await ht.getDimensions(ft.floating);return _t!==Ft.width||Ct!==Ft.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(Ye){return isNode(Ye)?(Ye.nodeName||"").toLowerCase():"#document"}function getWindow(Ye){var rt;return(Ye==null||(rt=Ye.ownerDocument)==null?void 0:rt.defaultView)||window}function getDocumentElement(Ye){var rt;return(rt=(isNode(Ye)?Ye.ownerDocument:Ye.document)||window.document)==null?void 0:rt.documentElement}function isNode(Ye){return hasWindow()?Ye instanceof Node||Ye instanceof getWindow(Ye).Node:!1}function isElement(Ye){return hasWindow()?Ye instanceof Element||Ye instanceof getWindow(Ye).Element:!1}function isHTMLElement$1(Ye){return hasWindow()?Ye instanceof HTMLElement||Ye instanceof getWindow(Ye).HTMLElement:!1}function isShadowRoot(Ye){return!hasWindow()||typeof ShadowRoot>"u"?!1:Ye instanceof ShadowRoot||Ye instanceof getWindow(Ye).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(Ye){const{overflow:rt,overflowX:it,overflowY:lt,display:ct}=getComputedStyle$1(Ye);return/auto|scroll|overlay|hidden|clip/.test(rt+lt+it)&&!invalidOverflowDisplayValues.has(ct)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(Ye){return tableElements$1.has(getNodeName(Ye))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(Ye){return topLayerSelectors.some(rt=>{try{return Ye.matches(rt)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(Ye){const rt=isWebKit(),it=isElement(Ye)?getComputedStyle$1(Ye):Ye;return transformProperties.some(lt=>it[lt]?it[lt]!=="none":!1)||(it.containerType?it.containerType!=="normal":!1)||!rt&&(it.backdropFilter?it.backdropFilter!=="none":!1)||!rt&&(it.filter?it.filter!=="none":!1)||willChangeValues.some(lt=>(it.willChange||"").includes(lt))||containValues.some(lt=>(it.contain||"").includes(lt))}function getContainingBlock(Ye){let rt=getParentNode(Ye);for(;isHTMLElement$1(rt)&&!isLastTraversableNode(rt);){if(isContainingBlock(rt))return rt;if(isTopLayer(rt))return null;rt=getParentNode(rt)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(Ye){return lastTraversableNodeNames.has(getNodeName(Ye))}function getComputedStyle$1(Ye){return getWindow(Ye).getComputedStyle(Ye)}function getNodeScroll(Ye){return isElement(Ye)?{scrollLeft:Ye.scrollLeft,scrollTop:Ye.scrollTop}:{scrollLeft:Ye.scrollX,scrollTop:Ye.scrollY}}function getParentNode(Ye){if(getNodeName(Ye)==="html")return Ye;const rt=Ye.assignedSlot||Ye.parentNode||isShadowRoot(Ye)&&Ye.host||getDocumentElement(Ye);return isShadowRoot(rt)?rt.host:rt}function getNearestOverflowAncestor(Ye){const rt=getParentNode(Ye);return isLastTraversableNode(rt)?Ye.ownerDocument?Ye.ownerDocument.body:Ye.body:isHTMLElement$1(rt)&&isOverflowElement(rt)?rt:getNearestOverflowAncestor(rt)}function getOverflowAncestors(Ye,rt,it){var lt;rt===void 0&&(rt=[]),it===void 0&&(it=!0);const ct=getNearestOverflowAncestor(Ye),ut=ct===((lt=Ye.ownerDocument)==null?void 0:lt.body),ht=getWindow(ct);if(ut){const ft=getFrameElement(ht);return rt.concat(ht,ht.visualViewport||[],isOverflowElement(ct)?ct:[],ft&&it?getOverflowAncestors(ft):[])}return rt.concat(ct,getOverflowAncestors(ct,[],it))}function getFrameElement(Ye){return Ye.parent&&Object.getPrototypeOf(Ye.parent)?Ye.frameElement:null}function getCssDimensions(Ye){const rt=getComputedStyle$1(Ye);let it=parseFloat(rt.width)||0,lt=parseFloat(rt.height)||0;const ct=isHTMLElement$1(Ye),ut=ct?Ye.offsetWidth:it,ht=ct?Ye.offsetHeight:lt,ft=round(it)!==ut||round(lt)!==ht;return ft&&(it=ut,lt=ht),{width:it,height:lt,$:ft}}function unwrapElement(Ye){return isElement(Ye)?Ye:Ye.contextElement}function getScale(Ye){const rt=unwrapElement(Ye);if(!isHTMLElement$1(rt))return createCoords(1);const it=rt.getBoundingClientRect(),{width:lt,height:ct,$:ut}=getCssDimensions(rt);let ht=(ut?round(it.width):it.width)/lt,ft=(ut?round(it.height):it.height)/ct;return(!ht||!Number.isFinite(ht))&&(ht=1),(!ft||!Number.isFinite(ft))&&(ft=1),{x:ht,y:ft}}const noOffsets=createCoords(0);function getVisualOffsets(Ye){const rt=getWindow(Ye);return!isWebKit()||!rt.visualViewport?noOffsets:{x:rt.visualViewport.offsetLeft,y:rt.visualViewport.offsetTop}}function shouldAddVisualOffsets(Ye,rt,it){return rt===void 0&&(rt=!1),!it||rt&&it!==getWindow(Ye)?!1:rt}function getBoundingClientRect(Ye,rt,it,lt){rt===void 0&&(rt=!1),it===void 0&&(it=!1);const ct=Ye.getBoundingClientRect(),ut=unwrapElement(Ye);let ht=createCoords(1);rt&&(lt?isElement(lt)&&(ht=getScale(lt)):ht=getScale(Ye));const ft=shouldAddVisualOffsets(ut,it,lt)?getVisualOffsets(ut):createCoords(0);let pt=(ct.left+ft.x)/ht.x,mt=(ct.top+ft.y)/ht.y,gt=ct.width/ht.x,yt=ct.height/ht.y;if(ut){const xt=getWindow(ut),bt=lt&&isElement(lt)?getWindow(lt):lt;let _t=xt,Ct=getFrameElement(_t);for(;Ct&&lt&&bt!==_t;){const kt=getScale(Ct),St=Ct.getBoundingClientRect(),Rt=getComputedStyle$1(Ct),Tt=St.left+(Ct.clientLeft+parseFloat(Rt.paddingLeft))*kt.x,Mt=St.top+(Ct.clientTop+parseFloat(Rt.paddingTop))*kt.y;pt*=kt.x,mt*=kt.y,gt*=kt.x,yt*=kt.y,pt+=Tt,mt+=Mt,_t=getWindow(Ct),Ct=getFrameElement(_t)}}return rectToClientRect({width:gt,height:yt,x:pt,y:mt})}function getWindowScrollBarX(Ye,rt){const it=getNodeScroll(Ye).scrollLeft;return rt?rt.left+it:getBoundingClientRect(getDocumentElement(Ye)).left+it}function getHTMLOffset(Ye,rt){const it=Ye.getBoundingClientRect(),lt=it.left+rt.scrollLeft-getWindowScrollBarX(Ye,it),ct=it.top+rt.scrollTop;return{x:lt,y:ct}}function convertOffsetParentRelativeRectToViewportRelativeRect(Ye){let{elements:rt,rect:it,offsetParent:lt,strategy:ct}=Ye;const ut=ct==="fixed",ht=getDocumentElement(lt),ft=rt?isTopLayer(rt.floating):!1;if(lt===ht||ft&&ut)return it;let pt={scrollLeft:0,scrollTop:0},mt=createCoords(1);const gt=createCoords(0),yt=isHTMLElement$1(lt);if((yt||!yt&&!ut)&&((getNodeName(lt)!=="body"||isOverflowElement(ht))&&(pt=getNodeScroll(lt)),isHTMLElement$1(lt))){const bt=getBoundingClientRect(lt);mt=getScale(lt),gt.x=bt.x+lt.clientLeft,gt.y=bt.y+lt.clientTop}const xt=ht&&!yt&&!ut?getHTMLOffset(ht,pt):createCoords(0);return{width:it.width*mt.x,height:it.height*mt.y,x:it.x*mt.x-pt.scrollLeft*mt.x+gt.x+xt.x,y:it.y*mt.y-pt.scrollTop*mt.y+gt.y+xt.y}}function getClientRects(Ye){return Array.from(Ye.getClientRects())}function getDocumentRect(Ye){const rt=getDocumentElement(Ye),it=getNodeScroll(Ye),lt=Ye.ownerDocument.body,ct=max$1(rt.scrollWidth,rt.clientWidth,lt.scrollWidth,lt.clientWidth),ut=max$1(rt.scrollHeight,rt.clientHeight,lt.scrollHeight,lt.clientHeight);let ht=-it.scrollLeft+getWindowScrollBarX(Ye);const ft=-it.scrollTop;return getComputedStyle$1(lt).direction==="rtl"&&(ht+=max$1(rt.clientWidth,lt.clientWidth)-ct),{width:ct,height:ut,x:ht,y:ft}}const SCROLLBAR_MAX=25;function getViewportRect(Ye,rt){const it=getWindow(Ye),lt=getDocumentElement(Ye),ct=it.visualViewport;let ut=lt.clientWidth,ht=lt.clientHeight,ft=0,pt=0;if(ct){ut=ct.width,ht=ct.height;const gt=isWebKit();(!gt||gt&&rt==="fixed")&&(ft=ct.offsetLeft,pt=ct.offsetTop)}const mt=getWindowScrollBarX(lt);if(mt<=0){const gt=lt.ownerDocument,yt=gt.body,xt=getComputedStyle(yt),bt=gt.compatMode==="CSS1Compat"&&parseFloat(xt.marginLeft)+parseFloat(xt.marginRight)||0,_t=Math.abs(lt.clientWidth-yt.clientWidth-bt);_t<=SCROLLBAR_MAX&&(ut-=_t)}else mt<=SCROLLBAR_MAX&&(ut+=mt);return{width:ut,height:ht,x:ft,y:pt}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(Ye,rt){const it=getBoundingClientRect(Ye,!0,rt==="fixed"),lt=it.top+Ye.clientTop,ct=it.left+Ye.clientLeft,ut=isHTMLElement$1(Ye)?getScale(Ye):createCoords(1),ht=Ye.clientWidth*ut.x,ft=Ye.clientHeight*ut.y,pt=ct*ut.x,mt=lt*ut.y;return{width:ht,height:ft,x:pt,y:mt}}function getClientRectFromClippingAncestor(Ye,rt,it){let lt;if(rt==="viewport")lt=getViewportRect(Ye,it);else if(rt==="document")lt=getDocumentRect(getDocumentElement(Ye));else if(isElement(rt))lt=getInnerBoundingClientRect(rt,it);else{const ct=getVisualOffsets(Ye);lt={x:rt.x-ct.x,y:rt.y-ct.y,width:rt.width,height:rt.height}}return rectToClientRect(lt)}function hasFixedPositionAncestor(Ye,rt){const it=getParentNode(Ye);return it===rt||!isElement(it)||isLastTraversableNode(it)?!1:getComputedStyle$1(it).position==="fixed"||hasFixedPositionAncestor(it,rt)}function getClippingElementAncestors(Ye,rt){const it=rt.get(Ye);if(it)return it;let lt=getOverflowAncestors(Ye,[],!1).filter(ft=>isElement(ft)&&getNodeName(ft)!=="body"),ct=null;const ut=getComputedStyle$1(Ye).position==="fixed";let ht=ut?getParentNode(Ye):Ye;for(;isElement(ht)&&!isLastTraversableNode(ht);){const ft=getComputedStyle$1(ht),pt=isContainingBlock(ht);!pt&&ft.position==="fixed"&&(ct=null),(ut?!pt&&!ct:!pt&&ft.position==="static"&&!!ct&&absoluteOrFixed.has(ct.position)||isOverflowElement(ht)&&!pt&&hasFixedPositionAncestor(Ye,ht))?lt=lt.filter(gt=>gt!==ht):ct=ft,ht=getParentNode(ht)}return rt.set(Ye,lt),lt}function getClippingRect(Ye){let{element:rt,boundary:it,rootBoundary:lt,strategy:ct}=Ye;const ht=[...it==="clippingAncestors"?isTopLayer(rt)?[]:getClippingElementAncestors(rt,this._c):[].concat(it),lt],ft=ht[0],pt=ht.reduce((mt,gt)=>{const yt=getClientRectFromClippingAncestor(rt,gt,ct);return mt.top=max$1(yt.top,mt.top),mt.right=min$1(yt.right,mt.right),mt.bottom=min$1(yt.bottom,mt.bottom),mt.left=max$1(yt.left,mt.left),mt},getClientRectFromClippingAncestor(rt,ft,ct));return{width:pt.right-pt.left,height:pt.bottom-pt.top,x:pt.left,y:pt.top}}function getDimensions(Ye){const{width:rt,height:it}=getCssDimensions(Ye);return{width:rt,height:it}}function getRectRelativeToOffsetParent(Ye,rt,it){const lt=isHTMLElement$1(rt),ct=getDocumentElement(rt),ut=it==="fixed",ht=getBoundingClientRect(Ye,!0,ut,rt);let ft={scrollLeft:0,scrollTop:0};const pt=createCoords(0);function mt(){pt.x=getWindowScrollBarX(ct)}if(lt||!lt&&!ut)if((getNodeName(rt)!=="body"||isOverflowElement(ct))&&(ft=getNodeScroll(rt)),lt){const bt=getBoundingClientRect(rt,!0,ut,rt);pt.x=bt.x+rt.clientLeft,pt.y=bt.y+rt.clientTop}else ct&&mt();ut&&!lt&&ct&&mt();const gt=ct&&!lt&&!ut?getHTMLOffset(ct,ft):createCoords(0),yt=ht.left+ft.scrollLeft-pt.x-gt.x,xt=ht.top+ft.scrollTop-pt.y-gt.y;return{x:yt,y:xt,width:ht.width,height:ht.height}}function isStaticPositioned(Ye){return getComputedStyle$1(Ye).position==="static"}function getTrueOffsetParent(Ye,rt){if(!isHTMLElement$1(Ye)||getComputedStyle$1(Ye).position==="fixed")return null;if(rt)return rt(Ye);let it=Ye.offsetParent;return getDocumentElement(Ye)===it&&(it=it.ownerDocument.body),it}function getOffsetParent(Ye,rt){const it=getWindow(Ye);if(isTopLayer(Ye))return it;if(!isHTMLElement$1(Ye)){let ct=getParentNode(Ye);for(;ct&&!isLastTraversableNode(ct);){if(isElement(ct)&&!isStaticPositioned(ct))return ct;ct=getParentNode(ct)}return it}let lt=getTrueOffsetParent(Ye,rt);for(;lt&&isTableElement(lt)&&isStaticPositioned(lt);)lt=getTrueOffsetParent(lt,rt);return lt&&isLastTraversableNode(lt)&&isStaticPositioned(lt)&&!isContainingBlock(lt)?it:lt||getContainingBlock(Ye)||it}const getElementRects=async function(Ye){const rt=this.getOffsetParent||getOffsetParent,it=this.getDimensions,lt=await it(Ye.floating);return{reference:getRectRelativeToOffsetParent(Ye.reference,await rt(Ye.floating),Ye.strategy),floating:{x:0,y:0,width:lt.width,height:lt.height}}};function isRTL(Ye){return getComputedStyle$1(Ye).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(Ye,rt){return Ye.x===rt.x&&Ye.y===rt.y&&Ye.width===rt.width&&Ye.height===rt.height}function observeMove(Ye,rt){let it=null,lt;const ct=getDocumentElement(Ye);function ut(){var ft;clearTimeout(lt),(ft=it)==null||ft.disconnect(),it=null}function ht(ft,pt){ft===void 0&&(ft=!1),pt===void 0&&(pt=1),ut();const mt=Ye.getBoundingClientRect(),{left:gt,top:yt,width:xt,height:bt}=mt;if(ft||rt(),!xt||!bt)return;const _t=floor(yt),Ct=floor(ct.clientWidth-(gt+xt)),kt=floor(ct.clientHeight-(yt+bt)),St=floor(gt),Tt={rootMargin:-_t+"px "+-Ct+"px "+-kt+"px "+-St+"px",threshold:max$1(0,min$1(1,pt))||1};let Mt=!0;function Pt(It){const Lt=It[0].intersectionRatio;if(Lt!==pt){if(!Mt)return ht();Lt?ht(!1,Lt):lt=setTimeout(()=>{ht(!1,1e-7)},1e3)}Lt===1&&!rectsAreEqual(mt,Ye.getBoundingClientRect())&&ht(),Mt=!1}try{it=new IntersectionObserver(Pt,{...Tt,root:ct.ownerDocument})}catch{it=new IntersectionObserver(Pt,Tt)}it.observe(Ye)}return ht(!0),ut}function autoUpdate(Ye,rt,it,lt){lt===void 0&&(lt={});const{ancestorScroll:ct=!0,ancestorResize:ut=!0,elementResize:ht=typeof ResizeObserver=="function",layoutShift:ft=typeof IntersectionObserver=="function",animationFrame:pt=!1}=lt,mt=unwrapElement(Ye),gt=ct||ut?[...mt?getOverflowAncestors(mt):[],...getOverflowAncestors(rt)]:[];gt.forEach(St=>{ct&&St.addEventListener("scroll",it,{passive:!0}),ut&&St.addEventListener("resize",it)});const yt=mt&&ft?observeMove(mt,it):null;let xt=-1,bt=null;ht&&(bt=new ResizeObserver(St=>{let[Rt]=St;Rt&&Rt.target===mt&&bt&&(bt.unobserve(rt),cancelAnimationFrame(xt),xt=requestAnimationFrame(()=>{var Tt;(Tt=bt)==null||Tt.observe(rt)})),it()}),mt&&!pt&&bt.observe(mt),bt.observe(rt));let _t,Ct=pt?getBoundingClientRect(Ye):null;pt&&kt();function kt(){const St=getBoundingClientRect(Ye);Ct&&!rectsAreEqual(Ct,St)&&it(),Ct=St,_t=requestAnimationFrame(kt)}return it(),()=>{var St;gt.forEach(Rt=>{ct&&Rt.removeEventListener("scroll",it),ut&&Rt.removeEventListener("resize",it)}),yt?.(),(St=bt)==null||St.disconnect(),bt=null,pt&&cancelAnimationFrame(_t)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$3=arrow$4,limitShift$1=limitShift$2,computePosition=(Ye,rt,it)=>{const lt=new Map,ct={platform,...it},ut={...ct.platform,_c:lt};return computePosition$1(Ye,rt,{...ct,platform:ut})};var isClient=typeof document<"u",noop$3=function(){},index$3=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual(Ye,rt){if(Ye===rt)return!0;if(typeof Ye!=typeof rt)return!1;if(typeof Ye=="function"&&Ye.toString()===rt.toString())return!0;let it,lt,ct;if(Ye&&rt&&typeof Ye=="object"){if(Array.isArray(Ye)){if(it=Ye.length,it!==rt.length)return!1;for(lt=it;lt--!==0;)if(!deepEqual(Ye[lt],rt[lt]))return!1;return!0}if(ct=Object.keys(Ye),it=ct.length,it!==Object.keys(rt).length)return!1;for(lt=it;lt--!==0;)if(!{}.hasOwnProperty.call(rt,ct[lt]))return!1;for(lt=it;lt--!==0;){const ut=ct[lt];if(!(ut==="_owner"&&Ye.$$typeof)&&!deepEqual(Ye[ut],rt[ut]))return!1}return!0}return Ye!==Ye&&rt!==rt}function getDPR(Ye){return typeof window>"u"?1:(Ye.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(Ye,rt){const it=getDPR(Ye);return Math.round(rt*it)/it}function useLatestRef(Ye){const rt=reactExports.useRef(Ye);return index$3(()=>{rt.current=Ye}),rt}function useFloating(Ye){Ye===void 0&&(Ye={});const{placement:rt="bottom",strategy:it="absolute",middleware:lt=[],platform:ct,elements:{reference:ut,floating:ht}={},transform:ft=!0,whileElementsMounted:pt,open:mt}=Ye,[gt,yt]=reactExports.useState({x:0,y:0,strategy:it,placement:rt,middlewareData:{},isPositioned:!1}),[xt,bt]=reactExports.useState(lt);deepEqual(xt,lt)||bt(lt);const[_t,Ct]=reactExports.useState(null),[kt,St]=reactExports.useState(null),Rt=reactExports.useCallback(Nt=>{Nt!==It.current&&(It.current=Nt,Ct(Nt))},[]),Tt=reactExports.useCallback(Nt=>{Nt!==Lt.current&&(Lt.current=Nt,St(Nt))},[]),Mt=ut||_t,Pt=ht||kt,It=reactExports.useRef(null),Lt=reactExports.useRef(null),Ot=reactExports.useRef(gt),Ft=pt!=null,Ut=useLatestRef(pt),Wt=useLatestRef(ct),Kt=useLatestRef(mt),Qt=reactExports.useCallback(()=>{if(!It.current||!Lt.current)return;const Nt={placement:rt,strategy:it,middleware:xt};Wt.current&&(Nt.platform=Wt.current),computePosition(It.current,Lt.current,Nt).then(qt=>{const Gt={...qt,isPositioned:Kt.current!==!1};Zt.current&&!deepEqual(Ot.current,Gt)&&(Ot.current=Gt,reactDomExports.flushSync(()=>{yt(Gt)}))})},[xt,rt,it,Wt,Kt]);index$3(()=>{mt===!1&&Ot.current.isPositioned&&(Ot.current.isPositioned=!1,yt(Nt=>({...Nt,isPositioned:!1})))},[mt]);const Zt=reactExports.useRef(!1);index$3(()=>(Zt.current=!0,()=>{Zt.current=!1}),[]),index$3(()=>{if(Mt&&(It.current=Mt),Pt&&(Lt.current=Pt),Mt&&Pt){if(Ut.current)return Ut.current(Mt,Pt,Qt);Qt()}},[Mt,Pt,Qt,Ut,Ft]);const Vt=reactExports.useMemo(()=>({reference:It,floating:Lt,setReference:Rt,setFloating:Tt}),[Rt,Tt]),$t=reactExports.useMemo(()=>({reference:Mt,floating:Pt}),[Mt,Pt]),zt=reactExports.useMemo(()=>{const Nt={position:it,left:0,top:0};if(!$t.floating)return Nt;const qt=roundByDPR($t.floating,gt.x),Gt=roundByDPR($t.floating,gt.y);return ft?{...Nt,transform:"translate("+qt+"px, "+Gt+"px)",...getDPR($t.floating)>=1.5&&{willChange:"transform"}}:{position:it,left:qt,top:Gt}},[it,ft,$t.floating,gt.x,gt.y]);return reactExports.useMemo(()=>({...gt,update:Qt,refs:Vt,elements:$t,floatingStyles:zt}),[gt,Qt,Vt,$t,zt])}const arrow$1=Ye=>{function rt(it){return{}.hasOwnProperty.call(it,"current")}return{name:"arrow",options:Ye,fn(it){const{element:lt,padding:ct}=typeof Ye=="function"?Ye(it):Ye;return lt&&rt(lt)?lt.current!=null?arrow$3({element:lt.current,padding:ct}).fn(it):{}:lt?arrow$3({element:lt,padding:ct}).fn(it):{}}}},offset=(Ye,rt)=>({...offset$1(Ye),options:[Ye,rt]}),shift$1=(Ye,rt)=>({...shift$2(Ye),options:[Ye,rt]}),limitShift=(Ye,rt)=>({...limitShift$1(Ye),options:[Ye,rt]}),flip=(Ye,rt)=>({...flip$1(Ye),options:[Ye,rt]}),size=(Ye,rt)=>({...size$1(Ye),options:[Ye,rt]}),hide=(Ye,rt)=>({...hide$1(Ye),options:[Ye,rt]}),arrow$2=(Ye,rt)=>({...arrow$1(Ye),options:[Ye,rt]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((Ye,rt)=>{const{children:it,width:lt=10,height:ct=5,...ut}=Ye;return jsxRuntimeExports.jsx(Primitive.svg,{...ut,ref:rt,width:lt,height:ct,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:Ye.asChild?it:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$3=Arrow$1;function useSize(Ye){const[rt,it]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(Ye){it({width:Ye.offsetWidth,height:Ye.offsetHeight});const lt=new ResizeObserver(ct=>{if(!Array.isArray(ct)||!ct.length)return;const ut=ct[0];let ht,ft;if("borderBoxSize"in ut){const pt=ut.borderBoxSize,mt=Array.isArray(pt)?pt[0]:pt;ht=mt.inlineSize,ft=mt.blockSize}else ht=Ye.offsetWidth,ft=Ye.offsetHeight;it({width:ht,height:ft})});return lt.observe(Ye,{box:"border-box"}),()=>lt.unobserve(Ye)}else it(void 0)},[Ye]),rt}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=Ye=>{const{__scopePopper:rt,children:it}=Ye,[lt,ct]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:rt,anchor:lt,onAnchorChange:ct,children:it})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((Ye,rt)=>{const{__scopePopper:it,virtualRef:lt,...ct}=Ye,ut=usePopperContext(ANCHOR_NAME$1,it),ht=reactExports.useRef(null),ft=useComposedRefs(rt,ht),pt=reactExports.useRef(null);return reactExports.useEffect(()=>{const mt=pt.current;pt.current=lt?.current||ht.current,mt!==pt.current&&ut.onAnchorChange(pt.current)}),lt?null:jsxRuntimeExports.jsx(Primitive.div,{...ct,ref:ft})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((Ye,rt)=>{const{__scopePopper:it,side:lt="bottom",sideOffset:ct=0,align:ut="center",alignOffset:ht=0,arrowPadding:ft=0,avoidCollisions:pt=!0,collisionBoundary:mt=[],collisionPadding:gt=0,sticky:yt="partial",hideWhenDetached:xt=!1,updatePositionStrategy:bt="optimized",onPlaced:_t,...Ct}=Ye,kt=usePopperContext(CONTENT_NAME$4,it),[St,Rt]=reactExports.useState(null),Tt=useComposedRefs(rt,ir=>Rt(ir)),[Mt,Pt]=reactExports.useState(null),It=useSize(Mt),Lt=It?.width??0,Ot=It?.height??0,Ft=lt+(ut!=="center"?"-"+ut:""),Ut=typeof gt=="number"?gt:{top:0,right:0,bottom:0,left:0,...gt},Wt=Array.isArray(mt)?mt:[mt],Kt=Wt.length>0,Qt={padding:Ut,boundary:Wt.filter(isNotNull),altBoundary:Kt},{refs:Zt,floatingStyles:Vt,placement:$t,isPositioned:zt,middlewareData:Nt}=useFloating({strategy:"fixed",placement:Ft,whileElementsMounted:(...ir)=>autoUpdate(...ir,{animationFrame:bt==="always"}),elements:{reference:kt.anchor},middleware:[offset({mainAxis:ct+Ot,alignmentAxis:ht}),pt&&shift$1({mainAxis:!0,crossAxis:!1,limiter:yt==="partial"?limitShift():void 0,...Qt}),pt&&flip({...Qt}),size({...Qt,apply:({elements:ir,rects:ar,availableWidth:cr,availableHeight:dr})=>{const{width:xr,height:br}=ar.reference,_r=ir.floating.style;_r.setProperty("--radix-popper-available-width",`${cr}px`),_r.setProperty("--radix-popper-available-height",`${dr}px`),_r.setProperty("--radix-popper-anchor-width",`${xr}px`),_r.setProperty("--radix-popper-anchor-height",`${br}px`)}}),Mt&&arrow$2({element:Mt,padding:ft}),transformOrigin({arrowWidth:Lt,arrowHeight:Ot}),xt&&hide({strategy:"referenceHidden",...Qt})]}),[qt,Gt]=getSideAndAlignFromPlacement($t),Ht=useCallbackRef$1(_t);useLayoutEffect2(()=>{zt&&Ht?.()},[zt,Ht]);const Xt=Nt.arrow?.x,Bt=Nt.arrow?.y,nr=Nt.arrow?.centerOffset!==0,[rr,Jt]=reactExports.useState();return useLayoutEffect2(()=>{St&&Jt(window.getComputedStyle(St).zIndex)},[St]),jsxRuntimeExports.jsx("div",{ref:Zt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Vt,transform:zt?Vt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rr,"--radix-popper-transform-origin":[Nt.transformOrigin?.x,Nt.transformOrigin?.y].join(" "),...Nt.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:Ye.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:it,placedSide:qt,onArrowChange:Pt,arrowX:Xt,arrowY:Bt,shouldHideArrow:nr,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":qt,"data-align":Gt,...Ct,ref:Tt,style:{...Ct.style,animation:zt?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$3="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(rt,it){const{__scopePopper:lt,...ct}=rt,ut=useContentContext(ARROW_NAME$3,lt),ht=OPPOSITE_SIDE[ut.placedSide];return jsxRuntimeExports.jsx("span",{ref:ut.onArrowChange,style:{position:"absolute",left:ut.arrowX,top:ut.arrowY,[ht]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ut.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ut.placedSide],visibility:ut.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$3,{...ct,ref:it,style:{...ct.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$3;function isNotNull(Ye){return Ye!==null}var transformOrigin=Ye=>({name:"transformOrigin",options:Ye,fn(rt){const{placement:it,rects:lt,middlewareData:ct}=rt,ht=ct.arrow?.centerOffset!==0,ft=ht?0:Ye.arrowWidth,pt=ht?0:Ye.arrowHeight,[mt,gt]=getSideAndAlignFromPlacement(it),yt={start:"0%",center:"50%",end:"100%"}[gt],xt=(ct.arrow?.x??0)+ft/2,bt=(ct.arrow?.y??0)+pt/2;let _t="",Ct="";return mt==="bottom"?(_t=ht?yt:`${xt}px`,Ct=`${-pt}px`):mt==="top"?(_t=ht?yt:`${xt}px`,Ct=`${lt.floating.height+pt}px`):mt==="right"?(_t=`${-pt}px`,Ct=ht?yt:`${bt}px`):mt==="left"&&(_t=`${lt.floating.width+pt}px`,Ct=ht?yt:`${bt}px`),{data:{x:_t,y:Ct}}}});function getSideAndAlignFromPlacement(Ye){const[rt,it="center"]=Ye.split("-");return[rt,it]}var Root2$1=Popper,Anchor=PopperAnchor,Content$1=PopperContent,Arrow=PopperArrow,PORTAL_NAME$4="Portal",Portal$3=reactExports.forwardRef((Ye,rt)=>{const{container:it,...lt}=Ye,[ct,ut]=reactExports.useState(!1);useLayoutEffect2(()=>ut(!0),[]);const ht=it||ct&&globalThis?.document?.body;return ht?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...lt,ref:rt}),ht):null});Portal$3.displayName=PORTAL_NAME$4;function useStateMachine(Ye,rt){return reactExports.useReducer((it,lt)=>rt[it][lt]??it,Ye)}var Presence=Ye=>{const{present:rt,children:it}=Ye,lt=usePresence(rt),ct=typeof it=="function"?it({present:lt.isPresent}):reactExports.Children.only(it),ut=useComposedRefs(lt.ref,getElementRef(ct));return typeof it=="function"||lt.isPresent?reactExports.cloneElement(ct,{ref:ut}):null};Presence.displayName="Presence";function usePresence(Ye){const[rt,it]=reactExports.useState(),lt=reactExports.useRef(null),ct=reactExports.useRef(Ye),ut=reactExports.useRef("none"),ht=Ye?"mounted":"unmounted",[ft,pt]=useStateMachine(ht,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const mt=getAnimationName(lt.current);ut.current=ft==="mounted"?mt:"none"},[ft]),useLayoutEffect2(()=>{const mt=lt.current,gt=ct.current;if(gt!==Ye){const xt=ut.current,bt=getAnimationName(mt);Ye?pt("MOUNT"):bt==="none"||mt?.display==="none"?pt("UNMOUNT"):pt(gt&&xt!==bt?"ANIMATION_OUT":"UNMOUNT"),ct.current=Ye}},[Ye,pt]),useLayoutEffect2(()=>{if(rt){let mt;const gt=rt.ownerDocument.defaultView??window,yt=bt=>{const Ct=getAnimationName(lt.current).includes(CSS.escape(bt.animationName));if(bt.target===rt&&Ct&&(pt("ANIMATION_END"),!ct.current)){const kt=rt.style.animationFillMode;rt.style.animationFillMode="forwards",mt=gt.setTimeout(()=>{rt.style.animationFillMode==="forwards"&&(rt.style.animationFillMode=kt)})}},xt=bt=>{bt.target===rt&&(ut.current=getAnimationName(lt.current))};return rt.addEventListener("animationstart",xt),rt.addEventListener("animationcancel",yt),rt.addEventListener("animationend",yt),()=>{gt.clearTimeout(mt),rt.removeEventListener("animationstart",xt),rt.removeEventListener("animationcancel",yt),rt.removeEventListener("animationend",yt)}}else pt("ANIMATION_END")},[rt,pt]),{isPresent:["mounted","unmountSuspended"].includes(ft),ref:reactExports.useCallback(mt=>{lt.current=mt?getComputedStyle(mt):null,it(mt)},[])}}function getAnimationName(Ye){return Ye?.animationName||"none"}function getElementRef(Ye){let rt=Object.getOwnPropertyDescriptor(Ye.props,"ref")?.get,it=rt&&"isReactWarning"in rt&&rt.isReactWarning;return it?Ye.ref:(rt=Object.getOwnPropertyDescriptor(Ye,"ref")?.get,it=rt&&"isReactWarning"in rt&&rt.isReactWarning,it?Ye.props.ref:Ye.props.ref||Ye.ref)}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((Ye,rt)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:Ye.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:Ye.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...Ye,ref:rt})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeRovingFocusGroup:it,orientation:lt,loop:ct=!1,dir:ut,currentTabStopId:ht,defaultCurrentTabStopId:ft,onCurrentTabStopIdChange:pt,onEntryFocus:mt,preventScrollOnEntryFocus:gt=!1,...yt}=Ye,xt=reactExports.useRef(null),bt=useComposedRefs(rt,xt),_t=useDirection(ut),[Ct,kt]=useControllableState({prop:ht,defaultProp:ft??null,onChange:pt,caller:GROUP_NAME$2}),[St,Rt]=reactExports.useState(!1),Tt=useCallbackRef$1(mt),Mt=useCollection$1(it),Pt=reactExports.useRef(!1),[It,Lt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Ot=xt.current;if(Ot)return Ot.addEventListener(ENTRY_FOCUS,Tt),()=>Ot.removeEventListener(ENTRY_FOCUS,Tt)},[Tt]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:it,orientation:lt,dir:_t,loop:ct,currentTabStopId:Ct,onItemFocus:reactExports.useCallback(Ot=>kt(Ot),[kt]),onItemShiftTab:reactExports.useCallback(()=>Rt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Lt(Ot=>Ot+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Lt(Ot=>Ot-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:St||It===0?-1:0,"data-orientation":lt,...yt,ref:bt,style:{outline:"none",...Ye.style},onMouseDown:composeEventHandlers(Ye.onMouseDown,()=>{Pt.current=!0}),onFocus:composeEventHandlers(Ye.onFocus,Ot=>{const Ft=!Pt.current;if(Ot.target===Ot.currentTarget&&Ft&&!St){const Ut=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Ot.currentTarget.dispatchEvent(Ut),!Ut.defaultPrevented){const Wt=Mt().filter($t=>$t.focusable),Kt=Wt.find($t=>$t.active),Qt=Wt.find($t=>$t.id===Ct),Vt=[Kt,Qt,...Wt].filter(Boolean).map($t=>$t.ref.current);focusFirst$1(Vt,gt)}}Pt.current=!1}),onBlur:composeEventHandlers(Ye.onBlur,()=>Rt(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((Ye,rt)=>{const{__scopeRovingFocusGroup:it,focusable:lt=!0,active:ct=!1,tabStopId:ut,children:ht,...ft}=Ye,pt=useId$1(),mt=ut||pt,gt=useRovingFocusContext(ITEM_NAME$2,it),yt=gt.currentTabStopId===mt,xt=useCollection$1(it),{onFocusableItemAdd:bt,onFocusableItemRemove:_t,currentTabStopId:Ct}=gt;return reactExports.useEffect(()=>{if(lt)return bt(),()=>_t()},[lt,bt,_t]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:it,id:mt,focusable:lt,active:ct,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:yt?0:-1,"data-orientation":gt.orientation,...ft,ref:rt,onMouseDown:composeEventHandlers(Ye.onMouseDown,kt=>{lt?gt.onItemFocus(mt):kt.preventDefault()}),onFocus:composeEventHandlers(Ye.onFocus,()=>gt.onItemFocus(mt)),onKeyDown:composeEventHandlers(Ye.onKeyDown,kt=>{if(kt.key==="Tab"&&kt.shiftKey){gt.onItemShiftTab();return}if(kt.target!==kt.currentTarget)return;const St=getFocusIntent(kt,gt.orientation,gt.dir);if(St!==void 0){if(kt.metaKey||kt.ctrlKey||kt.altKey||kt.shiftKey)return;kt.preventDefault();let Tt=xt().filter(Mt=>Mt.focusable).map(Mt=>Mt.ref.current);if(St==="last")Tt.reverse();else if(St==="prev"||St==="next"){St==="prev"&&Tt.reverse();const Mt=Tt.indexOf(kt.currentTarget);Tt=gt.loop?wrapArray$1(Tt,Mt+1):Tt.slice(Mt+1)}setTimeout(()=>focusFirst$1(Tt))}}),children:typeof ht=="function"?ht({isCurrentTabStop:yt,hasTabStop:Ct!=null}):ht})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(Ye,rt){return rt!=="rtl"?Ye:Ye==="ArrowLeft"?"ArrowRight":Ye==="ArrowRight"?"ArrowLeft":Ye}function getFocusIntent(Ye,rt,it){const lt=getDirectionAwareKey(Ye.key,it);if(!(rt==="vertical"&&["ArrowLeft","ArrowRight"].includes(lt))&&!(rt==="horizontal"&&["ArrowUp","ArrowDown"].includes(lt)))return MAP_KEY_TO_FOCUS_INTENT[lt]}function focusFirst$1(Ye,rt=!1){const it=document.activeElement;for(const lt of Ye)if(lt===it||(lt.focus({preventScroll:rt}),document.activeElement!==it))return}function wrapArray$1(Ye,rt){return Ye.map((it,lt)=>Ye[(rt+lt)%Ye.length])}var Root$2=RovingFocusGroup,Item$1=RovingFocusGroupItem,getDefaultParent=function(Ye){if(typeof document>"u")return null;var rt=Array.isArray(Ye)?Ye[0]:Ye;return rt.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(Ye){return Ye&&(Ye.host||unwrapHost(Ye.parentNode))},correctTargets=function(Ye,rt){return rt.map(function(it){if(Ye.contains(it))return it;var lt=unwrapHost(it);return lt&&Ye.contains(lt)?lt:(console.error("aria-hidden",it,"in not contained inside",Ye,". Doing nothing"),null)}).filter(function(it){return!!it})},applyAttributeToOthers=function(Ye,rt,it,lt){var ct=correctTargets(rt,Array.isArray(Ye)?Ye:[Ye]);markerMap[it]||(markerMap[it]=new WeakMap);var ut=markerMap[it],ht=[],ft=new Set,pt=new Set(ct),mt=function(yt){!yt||ft.has(yt)||(ft.add(yt),mt(yt.parentNode))};ct.forEach(mt);var gt=function(yt){!yt||pt.has(yt)||Array.prototype.forEach.call(yt.children,function(xt){if(ft.has(xt))gt(xt);else try{var bt=xt.getAttribute(lt),_t=bt!==null&&bt!=="false",Ct=(counterMap.get(xt)||0)+1,kt=(ut.get(xt)||0)+1;counterMap.set(xt,Ct),ut.set(xt,kt),ht.push(xt),Ct===1&&_t&&uncontrolledNodes.set(xt,!0),kt===1&&xt.setAttribute(it,"true"),_t||xt.setAttribute(lt,"true")}catch(St){console.error("aria-hidden: cannot operate on ",xt,St)}})};return gt(rt),ft.clear(),lockCount++,function(){ht.forEach(function(yt){var xt=counterMap.get(yt)-1,bt=ut.get(yt)-1;counterMap.set(yt,xt),ut.set(yt,bt),xt||(uncontrolledNodes.has(yt)||yt.removeAttribute(lt),uncontrolledNodes.delete(yt)),bt||yt.removeAttribute(it)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(Ye,rt,it){it===void 0&&(it="data-aria-hidden");var lt=Array.from(Array.isArray(Ye)?Ye:[Ye]),ct=getDefaultParent(Ye);return ct?(lt.push.apply(lt,Array.from(ct.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(lt,ct,it,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(Ye,rt){return typeof Ye=="function"?Ye(rt):Ye&&(Ye.current=rt),Ye}function useCallbackRef(Ye,rt){var it=reactExports.useState(function(){return{value:Ye,callback:rt,facade:{get current(){return it.value},set current(lt){var ct=it.value;ct!==lt&&(it.value=lt,it.callback(lt,ct))}}}})[0];return it.callback=rt,it.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(Ye,rt){var it=useCallbackRef(null,function(lt){return Ye.forEach(function(ct){return assignRef(ct,lt)})});return useIsomorphicLayoutEffect$1(function(){var lt=currentValues.get(it);if(lt){var ct=new Set(lt),ut=new Set(Ye),ht=it.current;ct.forEach(function(ft){ut.has(ft)||assignRef(ft,null)}),ut.forEach(function(ft){ct.has(ft)||assignRef(ft,ht)})}currentValues.set(it,Ye)},[Ye]),it}function ItoI(Ye){return Ye}function innerCreateMedium(Ye,rt){rt===void 0&&(rt=ItoI);var it=[],lt=!1,ct={read:function(){if(lt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return it.length?it[it.length-1]:Ye},useMedium:function(ut){var ht=rt(ut,lt);return it.push(ht),function(){it=it.filter(function(ft){return ft!==ht})}},assignSyncMedium:function(ut){for(lt=!0;it.length;){var ht=it;it=[],ht.forEach(ut)}it={push:function(ft){return ut(ft)},filter:function(){return it}}},assignMedium:function(ut){lt=!0;var ht=[];if(it.length){var ft=it;it=[],ft.forEach(ut),ht=it}var pt=function(){var gt=ht;ht=[],gt.forEach(ut)},mt=function(){return Promise.resolve().then(pt)};mt(),it={push:function(gt){ht.push(gt),mt()},filter:function(gt){return ht=ht.filter(gt),it}}}};return ct}function createSidecarMedium(Ye){Ye===void 0&&(Ye={});var rt=innerCreateMedium(null);return rt.options=__assign({async:!0,ssr:!1},Ye),rt}var SideCar$1=function(Ye){var rt=Ye.sideCar,it=__rest(Ye,["sideCar"]);if(!rt)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var lt=rt.read();if(!lt)throw new Error("Sidecar medium not found");return reactExports.createElement(lt,__assign({},it))};SideCar$1.isSideCarExport=!0;function exportSidecar(Ye,rt){return Ye.useMedium(rt),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(Ye,rt){var it=reactExports.useRef(null),lt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),ct=lt[0],ut=lt[1],ht=Ye.forwardProps,ft=Ye.children,pt=Ye.className,mt=Ye.removeScrollBar,gt=Ye.enabled,yt=Ye.shards,xt=Ye.sideCar,bt=Ye.noRelative,_t=Ye.noIsolation,Ct=Ye.inert,kt=Ye.allowPinchZoom,St=Ye.as,Rt=St===void 0?"div":St,Tt=Ye.gapMode,Mt=__rest(Ye,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Pt=xt,It=useMergeRefs([it,rt]),Lt=__assign(__assign({},Mt),ct);return reactExports.createElement(reactExports.Fragment,null,gt&&reactExports.createElement(Pt,{sideCar:effectCar,removeScrollBar:mt,shards:yt,noRelative:bt,noIsolation:_t,inert:Ct,setCallbacks:ut,allowPinchZoom:!!kt,lockRef:it,gapMode:Tt}),ht?reactExports.cloneElement(reactExports.Children.only(ft),__assign(__assign({},Lt),{ref:It})):reactExports.createElement(Rt,__assign({},Lt,{className:pt,ref:It}),ft))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var Ye=document.createElement("style");Ye.type="text/css";var rt=getNonce();return rt&&Ye.setAttribute("nonce",rt),Ye}function injectStyles(Ye,rt){Ye.styleSheet?Ye.styleSheet.cssText=rt:Ye.appendChild(document.createTextNode(rt))}function insertStyleTag(Ye){var rt=document.head||document.getElementsByTagName("head")[0];rt.appendChild(Ye)}var stylesheetSingleton=function(){var Ye=0,rt=null;return{add:function(it){Ye==0&&(rt=makeStyleTag())&&(injectStyles(rt,it),insertStyleTag(rt)),Ye++},remove:function(){Ye--,!Ye&&rt&&(rt.parentNode&&rt.parentNode.removeChild(rt),rt=null)}}},styleHookSingleton=function(){var Ye=stylesheetSingleton();return function(rt,it){reactExports.useEffect(function(){return Ye.add(rt),function(){Ye.remove()}},[rt&&it])}},styleSingleton=function(){var Ye=styleHookSingleton(),rt=function(it){var lt=it.styles,ct=it.dynamic;return Ye(lt,ct),null};return rt},zeroGap={left:0,top:0,right:0,gap:0},parse$5=function(Ye){return parseInt(Ye||"",10)||0},getOffset=function(Ye){var rt=window.getComputedStyle(document.body),it=rt[Ye==="padding"?"paddingLeft":"marginLeft"],lt=rt[Ye==="padding"?"paddingTop":"marginTop"],ct=rt[Ye==="padding"?"paddingRight":"marginRight"];return[parse$5(it),parse$5(lt),parse$5(ct)]},getGapWidth=function(Ye){if(Ye===void 0&&(Ye="margin"),typeof window>"u")return zeroGap;var rt=getOffset(Ye),it=document.documentElement.clientWidth,lt=window.innerWidth;return{left:rt[0],top:rt[1],right:rt[2],gap:Math.max(0,lt-it+rt[2]-rt[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(Ye,rt,it,lt){var ct=Ye.left,ut=Ye.top,ht=Ye.right,ft=Ye.gap;return it===void 0&&(it="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(lt,`;
   padding-right: `).concat(ft,"px ").concat(lt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(lt,`;
    overscroll-behavior: contain;
    `).concat([rt&&"position: relative ".concat(lt,";"),it==="margin"&&`
    padding-left: `.concat(ct,`px;
    padding-top: `).concat(ut,`px;
    padding-right: `).concat(ht,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ft,"px ").concat(lt,`;
    `),it==="padding"&&"padding-right: ".concat(ft,"px ").concat(lt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ft,"px ").concat(lt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ft,"px ").concat(lt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(lt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(lt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ft,`px;
  }
`)},getCurrentUseCounter=function(){var Ye=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(Ye)?Ye:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var Ye=getCurrentUseCounter()-1;Ye<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,Ye.toString())}},[])},RemoveScrollBar=function(Ye){var rt=Ye.noRelative,it=Ye.noImportant,lt=Ye.gapMode,ct=lt===void 0?"margin":lt;useLockAttribute();var ut=reactExports.useMemo(function(){return getGapWidth(ct)},[ct]);return reactExports.createElement(Style,{styles:getStyles$1(ut,!rt,ct,it?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(Ye){return Ye.tagName==="TEXTAREA"},elementCanBeScrolled=function(Ye,rt){if(!(Ye instanceof Element))return!1;var it=window.getComputedStyle(Ye);return it[rt]!=="hidden"&&!(it.overflowY===it.overflowX&&!alwaysContainsScroll(Ye)&&it[rt]==="visible")},elementCouldBeVScrolled=function(Ye){return elementCanBeScrolled(Ye,"overflowY")},elementCouldBeHScrolled=function(Ye){return elementCanBeScrolled(Ye,"overflowX")},locationCouldBeScrolled=function(Ye,rt){var it=rt.ownerDocument,lt=rt;do{typeof ShadowRoot<"u"&&lt instanceof ShadowRoot&&(lt=lt.host);var ct=elementCouldBeScrolled(Ye,lt);if(ct){var ut=getScrollVariables(Ye,lt),ht=ut[1],ft=ut[2];if(ht>ft)return!0}lt=lt.parentNode}while(lt&&lt!==it.body);return!1},getVScrollVariables=function(Ye){var rt=Ye.scrollTop,it=Ye.scrollHeight,lt=Ye.clientHeight;return[rt,it,lt]},getHScrollVariables=function(Ye){var rt=Ye.scrollLeft,it=Ye.scrollWidth,lt=Ye.clientWidth;return[rt,it,lt]},elementCouldBeScrolled=function(Ye,rt){return Ye==="v"?elementCouldBeVScrolled(rt):elementCouldBeHScrolled(rt)},getScrollVariables=function(Ye,rt){return Ye==="v"?getVScrollVariables(rt):getHScrollVariables(rt)},getDirectionFactor=function(Ye,rt){return Ye==="h"&&rt==="rtl"?-1:1},handleScroll=function(Ye,rt,it,lt,ct){var ut=getDirectionFactor(Ye,window.getComputedStyle(rt).direction),ht=ut*lt,ft=it.target,pt=rt.contains(ft),mt=!1,gt=ht>0,yt=0,xt=0;do{if(!ft)break;var bt=getScrollVariables(Ye,ft),_t=bt[0],Ct=bt[1],kt=bt[2],St=Ct-kt-ut*_t;(_t||St)&&elementCouldBeScrolled(Ye,ft)&&(yt+=St,xt+=_t);var Rt=ft.parentNode;ft=Rt&&Rt.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Rt.host:Rt}while(!pt&&ft!==document.body||pt&&(rt.contains(ft)||rt===ft));return(gt&&Math.abs(yt)<1||!gt&&Math.abs(xt)<1)&&(mt=!0),mt},getTouchXY=function(Ye){return"changedTouches"in Ye?[Ye.changedTouches[0].clientX,Ye.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(Ye){return[Ye.deltaX,Ye.deltaY]},extractRef=function(Ye){return Ye&&"current"in Ye?Ye.current:Ye},deltaCompare=function(Ye,rt){return Ye[0]===rt[0]&&Ye[1]===rt[1]},generateStyle=function(Ye){return`
  .block-interactivity-`.concat(Ye,` {pointer-events: none;}
  .allow-interactivity-`).concat(Ye,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(Ye){var rt=reactExports.useRef([]),it=reactExports.useRef([0,0]),lt=reactExports.useRef(),ct=reactExports.useState(idCounter++)[0],ut=reactExports.useState(styleSingleton)[0],ht=reactExports.useRef(Ye);reactExports.useEffect(function(){ht.current=Ye},[Ye]),reactExports.useEffect(function(){if(Ye.inert){document.body.classList.add("block-interactivity-".concat(ct));var Ct=__spreadArray([Ye.lockRef.current],(Ye.shards||[]).map(extractRef),!0).filter(Boolean);return Ct.forEach(function(kt){return kt.classList.add("allow-interactivity-".concat(ct))}),function(){document.body.classList.remove("block-interactivity-".concat(ct)),Ct.forEach(function(kt){return kt.classList.remove("allow-interactivity-".concat(ct))})}}},[Ye.inert,Ye.lockRef.current,Ye.shards]);var ft=reactExports.useCallback(function(Ct,kt){if("touches"in Ct&&Ct.touches.length===2||Ct.type==="wheel"&&Ct.ctrlKey)return!ht.current.allowPinchZoom;var St=getTouchXY(Ct),Rt=it.current,Tt="deltaX"in Ct?Ct.deltaX:Rt[0]-St[0],Mt="deltaY"in Ct?Ct.deltaY:Rt[1]-St[1],Pt,It=Ct.target,Lt=Math.abs(Tt)>Math.abs(Mt)?"h":"v";if("touches"in Ct&&Lt==="h"&&It.type==="range")return!1;var Ot=locationCouldBeScrolled(Lt,It);if(!Ot)return!0;if(Ot?Pt=Lt:(Pt=Lt==="v"?"h":"v",Ot=locationCouldBeScrolled(Lt,It)),!Ot)return!1;if(!lt.current&&"changedTouches"in Ct&&(Tt||Mt)&&(lt.current=Pt),!Pt)return!0;var Ft=lt.current||Pt;return handleScroll(Ft,kt,Ct,Ft==="h"?Tt:Mt)},[]),pt=reactExports.useCallback(function(Ct){var kt=Ct;if(!(!lockStack.length||lockStack[lockStack.length-1]!==ut)){var St="deltaY"in kt?getDeltaXY(kt):getTouchXY(kt),Rt=rt.current.filter(function(Pt){return Pt.name===kt.type&&(Pt.target===kt.target||kt.target===Pt.shadowParent)&&deltaCompare(Pt.delta,St)})[0];if(Rt&&Rt.should){kt.cancelable&&kt.preventDefault();return}if(!Rt){var Tt=(ht.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Pt){return Pt.contains(kt.target)}),Mt=Tt.length>0?ft(kt,Tt[0]):!ht.current.noIsolation;Mt&&kt.cancelable&&kt.preventDefault()}}},[]),mt=reactExports.useCallback(function(Ct,kt,St,Rt){var Tt={name:Ct,delta:kt,target:St,should:Rt,shadowParent:getOutermostShadowParent(St)};rt.current.push(Tt),setTimeout(function(){rt.current=rt.current.filter(function(Mt){return Mt!==Tt})},1)},[]),gt=reactExports.useCallback(function(Ct){it.current=getTouchXY(Ct),lt.current=void 0},[]),yt=reactExports.useCallback(function(Ct){mt(Ct.type,getDeltaXY(Ct),Ct.target,ft(Ct,Ye.lockRef.current))},[]),xt=reactExports.useCallback(function(Ct){mt(Ct.type,getTouchXY(Ct),Ct.target,ft(Ct,Ye.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(ut),Ye.setCallbacks({onScrollCapture:yt,onWheelCapture:yt,onTouchMoveCapture:xt}),document.addEventListener("wheel",pt,nonPassive),document.addEventListener("touchmove",pt,nonPassive),document.addEventListener("touchstart",gt,nonPassive),function(){lockStack=lockStack.filter(function(Ct){return Ct!==ut}),document.removeEventListener("wheel",pt,nonPassive),document.removeEventListener("touchmove",pt,nonPassive),document.removeEventListener("touchstart",gt,nonPassive)}},[]);var bt=Ye.removeScrollBar,_t=Ye.inert;return reactExports.createElement(reactExports.Fragment,null,_t?reactExports.createElement(ut,{styles:generateStyle(ct)}):null,bt?reactExports.createElement(RemoveScrollBar,{noRelative:Ye.noRelative,gapMode:Ye.gapMode}):null)}function getOutermostShadowParent(Ye){for(var rt=null;Ye!==null;)Ye instanceof ShadowRoot&&(rt=Ye.host,Ye=Ye.host),Ye=Ye.parentNode;return rt}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(Ye,rt){return reactExports.createElement(RemoveScroll,__assign({},Ye,{ref:rt,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope$1=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=Ye=>{const{__scopeMenu:rt,open:it=!1,children:lt,dir:ct,onOpenChange:ut,modal:ht=!0}=Ye,ft=usePopperScope$1(rt),[pt,mt]=reactExports.useState(null),gt=reactExports.useRef(!1),yt=useCallbackRef$1(ut),xt=useDirection(ct);return reactExports.useEffect(()=>{const bt=()=>{gt.current=!0,document.addEventListener("pointerdown",_t,{capture:!0,once:!0}),document.addEventListener("pointermove",_t,{capture:!0,once:!0})},_t=()=>gt.current=!1;return document.addEventListener("keydown",bt,{capture:!0}),()=>{document.removeEventListener("keydown",bt,{capture:!0}),document.removeEventListener("pointerdown",_t,{capture:!0}),document.removeEventListener("pointermove",_t,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$1,{...ft,children:jsxRuntimeExports.jsx(MenuProvider,{scope:rt,open:it,onOpenChange:yt,content:pt,onContentChange:mt,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:rt,onClose:reactExports.useCallback(()=>yt(!1),[yt]),isUsingKeyboardRef:gt,dir:xt,modal:ht,children:lt})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,...lt}=Ye,ct=usePopperScope$1(it);return jsxRuntimeExports.jsx(Anchor,{...ct,...lt,ref:rt})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$3="MenuPortal",[PortalProvider$2,usePortalContext$2]=createMenuContext(PORTAL_NAME$3,{forceMount:void 0}),MenuPortal=Ye=>{const{__scopeMenu:rt,forceMount:it,children:lt,container:ct}=Ye,ut=useMenuContext(PORTAL_NAME$3,rt);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:rt,forceMount:it,children:jsxRuntimeExports.jsx(Presence,{present:it||ut.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:ct,children:lt})})})};MenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$3),MenuContent=reactExports.forwardRef((Ye,rt)=>{const it=usePortalContext$2(CONTENT_NAME$3,Ye.__scopeMenu),{forceMount:lt=it.forceMount,...ct}=Ye,ut=useMenuContext(CONTENT_NAME$3,Ye.__scopeMenu),ht=useMenuRootContext(CONTENT_NAME$3,Ye.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:Ye.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:lt||ut.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:Ye.__scopeMenu,children:ht.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...ct,ref:rt}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...ct,ref:rt})})})})}),MenuRootContentModal=reactExports.forwardRef((Ye,rt)=>{const it=useMenuContext(CONTENT_NAME$3,Ye.__scopeMenu),lt=reactExports.useRef(null),ct=useComposedRefs(rt,lt);return reactExports.useEffect(()=>{const ut=lt.current;if(ut)return hideOthers(ut)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...Ye,ref:ct,trapFocus:it.open,disableOutsidePointerEvents:it.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(Ye.onFocusOutside,ut=>ut.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>it.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((Ye,rt)=>{const it=useMenuContext(CONTENT_NAME$3,Ye.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...Ye,ref:rt,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>it.onOpenChange(!1)})}),Slot$1=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,loop:lt=!1,trapFocus:ct,onOpenAutoFocus:ut,onCloseAutoFocus:ht,disableOutsidePointerEvents:ft,onEntryFocus:pt,onEscapeKeyDown:mt,onPointerDownOutside:gt,onFocusOutside:yt,onInteractOutside:xt,onDismiss:bt,disableOutsideScroll:_t,...Ct}=Ye,kt=useMenuContext(CONTENT_NAME$3,it),St=useMenuRootContext(CONTENT_NAME$3,it),Rt=usePopperScope$1(it),Tt=useRovingFocusGroupScope(it),Mt=useCollection(it),[Pt,It]=reactExports.useState(null),Lt=reactExports.useRef(null),Ot=useComposedRefs(rt,Lt,kt.onContentChange),Ft=reactExports.useRef(0),Ut=reactExports.useRef(""),Wt=reactExports.useRef(0),Kt=reactExports.useRef(null),Qt=reactExports.useRef("right"),Zt=reactExports.useRef(0),Vt=_t?ReactRemoveScroll:reactExports.Fragment,$t=_t?{as:Slot$1,allowPinchZoom:!0}:void 0,zt=qt=>{const Gt=Ut.current+qt,Ht=Mt().filter(ir=>!ir.disabled),Xt=document.activeElement,Bt=Ht.find(ir=>ir.ref.current===Xt)?.textValue,nr=Ht.map(ir=>ir.textValue),rr=getNextMatch(nr,Gt,Bt),Jt=Ht.find(ir=>ir.textValue===rr)?.ref.current;(function ir(ar){Ut.current=ar,window.clearTimeout(Ft.current),ar!==""&&(Ft.current=window.setTimeout(()=>ir(""),1e3))})(Gt),Jt&&setTimeout(()=>Jt.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Ft.current),[]),useFocusGuards();const Nt=reactExports.useCallback(qt=>Qt.current===Kt.current?.side&&isPointerInGraceArea(qt,Kt.current?.area),[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:it,searchRef:Ut,onItemEnter:reactExports.useCallback(qt=>{Nt(qt)&&qt.preventDefault()},[Nt]),onItemLeave:reactExports.useCallback(qt=>{Nt(qt)||(Lt.current?.focus(),It(null))},[Nt]),onTriggerLeave:reactExports.useCallback(qt=>{Nt(qt)&&qt.preventDefault()},[Nt]),pointerGraceTimerRef:Wt,onPointerGraceIntentChange:reactExports.useCallback(qt=>{Kt.current=qt},[]),children:jsxRuntimeExports.jsx(Vt,{...$t,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:ct,onMountAutoFocus:composeEventHandlers(ut,qt=>{qt.preventDefault(),Lt.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:ht,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:ft,onEscapeKeyDown:mt,onPointerDownOutside:gt,onFocusOutside:yt,onInteractOutside:xt,onDismiss:bt,children:jsxRuntimeExports.jsx(Root$2,{asChild:!0,...Tt,dir:St.dir,orientation:"vertical",loop:lt,currentTabStopId:Pt,onCurrentTabStopIdChange:It,onEntryFocus:composeEventHandlers(pt,qt=>{St.isUsingKeyboardRef.current||qt.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$1,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(kt.open),"data-radix-menu-content":"",dir:St.dir,...Rt,...Ct,ref:Ot,style:{outline:"none",...Ct.style},onKeyDown:composeEventHandlers(Ct.onKeyDown,qt=>{const Ht=qt.target.closest("[data-radix-menu-content]")===qt.currentTarget,Xt=qt.ctrlKey||qt.altKey||qt.metaKey,Bt=qt.key.length===1;Ht&&(qt.key==="Tab"&&qt.preventDefault(),!Xt&&Bt&&zt(qt.key));const nr=Lt.current;if(qt.target!==nr||!FIRST_LAST_KEYS.includes(qt.key))return;qt.preventDefault();const Jt=Mt().filter(ir=>!ir.disabled).map(ir=>ir.ref.current);LAST_KEYS.includes(qt.key)&&Jt.reverse(),focusFirst(Jt)}),onBlur:composeEventHandlers(Ye.onBlur,qt=>{qt.currentTarget.contains(qt.target)||(window.clearTimeout(Ft.current),Ut.current="")}),onPointerMove:composeEventHandlers(Ye.onPointerMove,whenMouse(qt=>{const Gt=qt.target,Ht=Zt.current!==qt.clientX;if(qt.currentTarget.contains(Gt)&&Ht){const Xt=qt.clientX>Zt.current?"right":"left";Qt.current=Xt,Zt.current=qt.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,...lt}=Ye;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...lt,ref:rt})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,...lt}=Ye;return jsxRuntimeExports.jsx(Primitive.div,{...lt,ref:rt})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((Ye,rt)=>{const{disabled:it=!1,onSelect:lt,...ct}=Ye,ut=reactExports.useRef(null),ht=useMenuRootContext(ITEM_NAME$1,Ye.__scopeMenu),ft=useMenuContentContext(ITEM_NAME$1,Ye.__scopeMenu),pt=useComposedRefs(rt,ut),mt=reactExports.useRef(!1),gt=()=>{const yt=ut.current;if(!it&&yt){const xt=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});yt.addEventListener(ITEM_SELECT,bt=>lt?.(bt),{once:!0}),dispatchDiscreteCustomEvent(yt,xt),xt.defaultPrevented?mt.current=!1:ht.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...ct,ref:pt,disabled:it,onClick:composeEventHandlers(Ye.onClick,gt),onPointerDown:yt=>{Ye.onPointerDown?.(yt),mt.current=!0},onPointerUp:composeEventHandlers(Ye.onPointerUp,yt=>{mt.current||yt.currentTarget?.click()}),onKeyDown:composeEventHandlers(Ye.onKeyDown,yt=>{const xt=ft.searchRef.current!=="";it||xt&&yt.key===" "||SELECTION_KEYS.includes(yt.key)&&(yt.currentTarget.click(),yt.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,disabled:lt=!1,textValue:ct,...ut}=Ye,ht=useMenuContentContext(ITEM_NAME$1,it),ft=useRovingFocusGroupScope(it),pt=reactExports.useRef(null),mt=useComposedRefs(rt,pt),[gt,yt]=reactExports.useState(!1),[xt,bt]=reactExports.useState("");return reactExports.useEffect(()=>{const _t=pt.current;_t&&bt((_t.textContent??"").trim())},[ut.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:it,disabled:lt,textValue:ct??xt,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...ft,focusable:!lt,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":gt?"":void 0,"aria-disabled":lt||void 0,"data-disabled":lt?"":void 0,...ut,ref:mt,onPointerMove:composeEventHandlers(Ye.onPointerMove,whenMouse(_t=>{lt?ht.onItemLeave(_t):(ht.onItemEnter(_t),_t.defaultPrevented||_t.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(Ye.onPointerLeave,whenMouse(_t=>ht.onItemLeave(_t))),onFocus:composeEventHandlers(Ye.onFocus,()=>yt(!0)),onBlur:composeEventHandlers(Ye.onBlur,()=>yt(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((Ye,rt)=>{const{checked:it=!1,onCheckedChange:lt,...ct}=Ye;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:Ye.__scopeMenu,checked:it,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate$1(it)?"mixed":it,...ct,ref:rt,"data-state":getCheckedState(it),onSelect:composeEventHandlers(ct.onSelect,()=>lt?.(isIndeterminate$1(it)?!0:!it),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((Ye,rt)=>{const{value:it,onValueChange:lt,...ct}=Ye,ut=useCallbackRef$1(lt);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:Ye.__scopeMenu,value:it,onValueChange:ut,children:jsxRuntimeExports.jsx(MenuGroup,{...ct,ref:rt})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((Ye,rt)=>{const{value:it,...lt}=Ye,ct=useRadioGroupContext(RADIO_ITEM_NAME$1,Ye.__scopeMenu),ut=it===ct.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:Ye.__scopeMenu,checked:ut,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":ut,...lt,ref:rt,"data-state":getCheckedState(ut),onSelect:composeEventHandlers(lt.onSelect,()=>ct.onValueChange?.(it),{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,forceMount:lt,...ct}=Ye,ut=useItemIndicatorContext(ITEM_INDICATOR_NAME,it);return jsxRuntimeExports.jsx(Presence,{present:lt||isIndeterminate$1(ut.checked)||ut.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...ct,ref:rt,"data-state":getCheckedState(ut.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,...lt}=Ye;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...lt,ref:rt})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="MenuArrow",MenuArrow=reactExports.forwardRef((Ye,rt)=>{const{__scopeMenu:it,...lt}=Ye,ct=usePopperScope$1(it);return jsxRuntimeExports.jsx(Arrow,{...ct,...lt,ref:rt})});MenuArrow.displayName=ARROW_NAME$2;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((Ye,rt)=>{const it=useMenuContext(SUB_TRIGGER_NAME$1,Ye.__scopeMenu),lt=useMenuRootContext(SUB_TRIGGER_NAME$1,Ye.__scopeMenu),ct=useMenuSubContext(SUB_TRIGGER_NAME$1,Ye.__scopeMenu),ut=useMenuContentContext(SUB_TRIGGER_NAME$1,Ye.__scopeMenu),ht=reactExports.useRef(null),{pointerGraceTimerRef:ft,onPointerGraceIntentChange:pt}=ut,mt={__scopeMenu:Ye.__scopeMenu},gt=reactExports.useCallback(()=>{ht.current&&window.clearTimeout(ht.current),ht.current=null},[]);return reactExports.useEffect(()=>gt,[gt]),reactExports.useEffect(()=>{const yt=ft.current;return()=>{window.clearTimeout(yt),pt(null)}},[ft,pt]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...mt,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:ct.triggerId,"aria-haspopup":"menu","aria-expanded":it.open,"aria-controls":ct.contentId,"data-state":getOpenState(it.open),...Ye,ref:composeRefs(rt,ct.onTriggerChange),onClick:yt=>{Ye.onClick?.(yt),!(Ye.disabled||yt.defaultPrevented)&&(yt.currentTarget.focus(),it.open||it.onOpenChange(!0))},onPointerMove:composeEventHandlers(Ye.onPointerMove,whenMouse(yt=>{ut.onItemEnter(yt),!yt.defaultPrevented&&!Ye.disabled&&!it.open&&!ht.current&&(ut.onPointerGraceIntentChange(null),ht.current=window.setTimeout(()=>{it.onOpenChange(!0),gt()},100))})),onPointerLeave:composeEventHandlers(Ye.onPointerLeave,whenMouse(yt=>{gt();const xt=it.content?.getBoundingClientRect();if(xt){const bt=it.content?.dataset.side,_t=bt==="right",Ct=_t?-5:5,kt=xt[_t?"left":"right"],St=xt[_t?"right":"left"];ut.onPointerGraceIntentChange({area:[{x:yt.clientX+Ct,y:yt.clientY},{x:kt,y:xt.top},{x:St,y:xt.top},{x:St,y:xt.bottom},{x:kt,y:xt.bottom}],side:bt}),window.clearTimeout(ft.current),ft.current=window.setTimeout(()=>ut.onPointerGraceIntentChange(null),300)}else{if(ut.onTriggerLeave(yt),yt.defaultPrevented)return;ut.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(Ye.onKeyDown,yt=>{const xt=ut.searchRef.current!=="";Ye.disabled||xt&&yt.key===" "||SUB_OPEN_KEYS[lt.dir].includes(yt.key)&&(it.onOpenChange(!0),it.content?.focus(),yt.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((Ye,rt)=>{const it=usePortalContext$2(CONTENT_NAME$3,Ye.__scopeMenu),{forceMount:lt=it.forceMount,...ct}=Ye,ut=useMenuContext(CONTENT_NAME$3,Ye.__scopeMenu),ht=useMenuRootContext(CONTENT_NAME$3,Ye.__scopeMenu),ft=useMenuSubContext(SUB_CONTENT_NAME$1,Ye.__scopeMenu),pt=reactExports.useRef(null),mt=useComposedRefs(rt,pt);return jsxRuntimeExports.jsx(Collection.Provider,{scope:Ye.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:lt||ut.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:Ye.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:ft.contentId,"aria-labelledby":ft.triggerId,...ct,ref:mt,align:"start",side:ht.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:gt=>{ht.isUsingKeyboardRef.current&&pt.current?.focus(),gt.preventDefault()},onCloseAutoFocus:gt=>gt.preventDefault(),onFocusOutside:composeEventHandlers(Ye.onFocusOutside,gt=>{gt.target!==ft.trigger&&ut.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(Ye.onEscapeKeyDown,gt=>{ht.onClose(),gt.preventDefault()}),onKeyDown:composeEventHandlers(Ye.onKeyDown,gt=>{const yt=gt.currentTarget.contains(gt.target),xt=SUB_CLOSE_KEYS[ht.dir].includes(gt.key);yt&&xt&&(ut.onOpenChange(!1),ft.trigger?.focus(),gt.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(Ye){return Ye?"open":"closed"}function isIndeterminate$1(Ye){return Ye==="indeterminate"}function getCheckedState(Ye){return isIndeterminate$1(Ye)?"indeterminate":Ye?"checked":"unchecked"}function focusFirst(Ye){const rt=document.activeElement;for(const it of Ye)if(it===rt||(it.focus(),document.activeElement!==rt))return}function wrapArray(Ye,rt){return Ye.map((it,lt)=>Ye[(rt+lt)%Ye.length])}function getNextMatch(Ye,rt,it){const ct=rt.length>1&&Array.from(rt).every(mt=>mt===rt[0])?rt[0]:rt,ut=it?Ye.indexOf(it):-1;let ht=wrapArray(Ye,Math.max(ut,0));ct.length===1&&(ht=ht.filter(mt=>mt!==it));const pt=ht.find(mt=>mt.toLowerCase().startsWith(ct.toLowerCase()));return pt!==it?pt:void 0}function isPointInPolygon$1(Ye,rt){const{x:it,y:lt}=Ye;let ct=!1;for(let ut=0,ht=rt.length-1;ut<rt.length;ht=ut++){const ft=rt[ut],pt=rt[ht],mt=ft.x,gt=ft.y,yt=pt.x,xt=pt.y;gt>lt!=xt>lt&&it<(yt-mt)*(lt-gt)/(xt-gt)+mt&&(ct=!ct)}return ct}function isPointerInGraceArea(Ye,rt){if(!rt)return!1;const it={x:Ye.clientX,y:Ye.clientY};return isPointInPolygon$1(it,rt)}function whenMouse(Ye){return rt=>rt.pointerType==="mouse"?Ye(rt):void 0}var Root3$1=Menu,Anchor2=MenuAnchor,Portal$2=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu=Ye=>{const{__scopeDropdownMenu:rt,children:it,dir:lt,open:ct,defaultOpen:ut,onOpenChange:ht,modal:ft=!0}=Ye,pt=useMenuScope(rt),mt=reactExports.useRef(null),[gt,yt]=useControllableState({prop:ct,defaultProp:ut??!1,onChange:ht,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:rt,triggerId:useId$1(),triggerRef:mt,contentId:useId$1(),open:gt,onOpenChange:yt,onOpenToggle:reactExports.useCallback(()=>yt(xt=>!xt),[yt]),modal:ft,children:jsxRuntimeExports.jsx(Root3$1,{...pt,open:gt,onOpenChange:yt,dir:lt,modal:ft,children:it})})};DropdownMenu.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$3="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,disabled:lt=!1,...ct}=Ye,ut=useDropdownMenuContext(TRIGGER_NAME$3,it),ht=useMenuScope(it);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...ht,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:ut.triggerId,"aria-haspopup":"menu","aria-expanded":ut.open,"aria-controls":ut.open?ut.contentId:void 0,"data-state":ut.open?"open":"closed","data-disabled":lt?"":void 0,disabled:lt,...ct,ref:composeRefs(rt,ut.triggerRef),onPointerDown:composeEventHandlers(Ye.onPointerDown,ft=>{!lt&&ft.button===0&&ft.ctrlKey===!1&&(ut.onOpenToggle(),ut.open||ft.preventDefault())}),onKeyDown:composeEventHandlers(Ye.onKeyDown,ft=>{lt||(["Enter"," "].includes(ft.key)&&ut.onOpenToggle(),ft.key==="ArrowDown"&&ut.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(ft.key)&&ft.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="DropdownMenuPortal",DropdownMenuPortal=Ye=>{const{__scopeDropdownMenu:rt,...it}=Ye,lt=useMenuScope(rt);return jsxRuntimeExports.jsx(Portal$2,{...lt,...it})};DropdownMenuPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="DropdownMenuContent",DropdownMenuContent=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useDropdownMenuContext(CONTENT_NAME$2,it),ut=useMenuScope(it),ht=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:ct.contentId,"aria-labelledby":ct.triggerId,...ut,...lt,ref:rt,onCloseAutoFocus:composeEventHandlers(Ye.onCloseAutoFocus,ft=>{ht.current||ct.triggerRef.current?.focus(),ht.current=!1,ft.preventDefault()}),onInteractOutside:composeEventHandlers(Ye.onInteractOutside,ft=>{const pt=ft.detail.originalEvent,mt=pt.button===0&&pt.ctrlKey===!0,gt=pt.button===2||mt;(!ct.modal||gt)&&(ht.current=!0)}),style:{...Ye.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent.displayName=CONTENT_NAME$2;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(Group,{...ct,...lt,ref:rt})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(Label,{...ct,...lt,ref:rt})});DropdownMenuLabel.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(Item2$1,{...ct,...lt,ref:rt})});DropdownMenuItem.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(CheckboxItem,{...ct,...lt,ref:rt})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(RadioGroup,{...ct,...lt,ref:rt})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(RadioItem,{...ct,...lt,ref:rt})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME$1="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(ItemIndicator,{...ct,...lt,ref:rt})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME$1;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(Separator,{...ct,...lt,ref:rt})});DropdownMenuSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME$1="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(Arrow2,{...ct,...lt,ref:rt})});DropdownMenuArrow.displayName=ARROW_NAME$1;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(SubTrigger,{...ct,...lt,ref:rt})});DropdownMenuSubTrigger.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent=reactExports.forwardRef((Ye,rt)=>{const{__scopeDropdownMenu:it,...lt}=Ye,ct=useMenuScope(it);return jsxRuntimeExports.jsx(SubContent,{...ct,...lt,ref:rt,style:{...Ye.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName=SUB_CONTENT_NAME;var Root2=DropdownMenu,Trigger$2=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2$1=DropdownMenuContent,Item2=DropdownMenuItem;function DropdownMenuTrigger({ref:Ye,disabled:rt,className:it,...lt}){return jsxRuntimeExports.jsx(Trigger$2,{ref:Ye,"aria-disabled":rt||void 0,className:clsx("outline-hidden",rt?"cursor-default opacity-25":"cursor-interaction",it),...lt})}function DropdownContent({children:Ye,className:rt,align:it,ref:lt,...ct}){return jsxRuntimeExports.jsx(Content2$1,{ref:lt,className:clsx("bg-token-dropdown-background/75 electron:bg-token-dropdown-background text-token-foreground border-token-border z-50 m-px flex select-none flex-col overflow-y-auto rounded-xl border-[0.5px] py-1 shadow-lg backdrop-blur-sm","animate-dropdown-enter","[transform-origin:var(--radix-dropdown-menu-content-transform-origin)] [will-change:opacity,transform]","[--dropdown-entry-transform:translateY(calc(var(--dropdown-translate)_*_-1))_scale(var(--dropdown-scale))]","data-[side=top]:[--dropdown-entry-transform:translateY(calc(var(--dropdown-translate)_*_1))_scale(var(--dropdown-scale))]","data-[side=right]:[--dropdown-entry-transform:translateX(calc(var(--dropdown-translate)_*_-1))_scale(var(--dropdown-scale))]","data-[side=left]:[--dropdown-entry-transform:translateX(calc(var(--dropdown-translate)_*_1))_scale(var(--dropdown-scale))]","motion-safe:data-[state=open]:animate-dropdown-enter motion-reduce:data-[state=open]:animate-none",rt),align:it??"start",collisionPadding:6,...ct,children:Ye})}function DropdownItem({children:Ye,LeftIcon:rt,RightIcon:it,className:lt,onClick:ct,onSelect:ut,disabled:ht,href:ft,SubText:pt,...mt}){const gt=ft?"a":"div",yt=!ht&&(!!ft||!!ct||!!ut),xt=(bt,_t=!0)=>jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center gap-1.5",children:[rt?_t?jsxRuntimeExports.jsx(rt,{className:"icon-2xs"}):jsxRuntimeExports.jsx("span",{"aria-hidden":!0,className:"icon-2xs"}):null,jsxRuntimeExports.jsx("span",{className:"flex-1 truncate",children:bt}),it?_t?jsxRuntimeExports.jsx(it,{className:"icon-2xs"}):jsxRuntimeExports.jsx("span",{"aria-hidden":!0,className:"icon-2xs"}):null]});return jsxRuntimeExports.jsx(Item2,{asChild:!0,className:clsx("text-token-foreground outline-hidden rounded-lg px-2 py-1.5 text-sm",ht?"cursor-default opacity-50":yt&&"hover:bg-token-list-hover-background focus:bg-token-list-hover-background cursor-interaction",lt),onClick:ht?void 0:ct,onSelect:ht?void 0:ut,disabled:ht,...mt,children:jsxRuntimeExports.jsxs(gt,{href:ft,className:clsx(ft&&"!text-token-foreground focus:!outline-none","flex flex-col space-y-1"),children:[xt(Ye),pt?xt(pt,!1):null]})})}function DropdownInput({ref:Ye,onKeyDown:rt,className:it,...lt}){return jsxRuntimeExports.jsx("input",{ref:Ye,className:clsx("text-md w-full min-w-0 rounded-sm border border-none px-1.5 py-1 text-sm !outline-none",it),autoFocus:!0,onKeyDown:ct=>{if(ct.stopPropagation(),(ct.metaKey||ct.ctrlKey)&&ct.key.toLowerCase()==="a"){ct.preventDefault(),ct.currentTarget.select();return}rt?.(ct)},...lt})}function DropdownSeparator({className:Ye}){return jsxRuntimeExports.jsx("div",{className:clsx("w-full py-1",Ye),children:jsxRuntimeExports.jsx("div",{className:"bg-token-menu-border h-[1px] w-full"})})}function BasicDropdown({triggerButton:Ye,disabled:rt,children:it,open:lt,onOpenChange:ct,side:ut,align:ht,contentClassName:ft}){const[pt,mt]=reactExports.useState(lt),gt=reactExports.useRef(null),yt=lt!==void 0,xt=bt=>{yt||mt(bt),ct?.(bt)};return jsxRuntimeExports.jsxs(Root2,{modal:!1,open:lt??pt,onOpenChange:xt,children:[jsxRuntimeExports.jsx(Dropdown.Trigger,{asChild:!0,disabled:rt,children:Ye}),!rt&&jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Dropdown.Content,{ref:gt,side:ut,align:ht,className:ft,children:it})})]})}function BasicSubDropdown({trigger:Ye,children:rt,isDefaultOpen:it=!1}){const lt=Ye.props.disabled??!1,[ct,ut]=reactExports.useState(lt?!1:it),ht=ct&&!lt,ft=reactExports.useMemo(()=>function({className:gt}){return jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:jsxRuntimeExports.jsx(motion.span,{"aria-hidden":!0,className:"text-token-input-placeholder-foreground inline-flex items-center justify-center",animate:{rotate:ht?90:0},transition:ACCORDION_TRANSITION,children:jsxRuntimeExports.jsx(SvgChevronRight,{className:gt})})})},[ht]),pt=React.cloneElement(Ye,{onSelect:mt=>{Ye.props.onSelect?.(mt),!mt.defaultPrevented&&(mt.preventDefault(),mt.stopPropagation(),!lt&&ut(gt=>!gt))},RightIcon:ft});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col","data-state":ht?"open":"closed",children:[pt,jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:ht&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"overflow-hidden",children:rt},"dropdown-submenu")})]})}function DropdownTitle({children:Ye,className:rt}){return jsxRuntimeExports.jsx("div",{className:clsx("text-token-description-foreground truncate px-2 pb-1 text-sm",rt),children:Ye})}const Dropdown={Trigger:DropdownMenuTrigger,Content:DropdownContent,Item:DropdownItem,Input:DropdownInput,Separator:DropdownSeparator,Title:DropdownTitle};function IconButton({className:Ye,color:rt="ghost",disabled:it,type:lt,onClick:ct,...ut}){const ht=clsx("rounded-sm transition-opacity leading-[0]",it&&"opacity-50",ct&&!it?"cursor-interaction":"cursor-default",{primary:"bg-token-primary text-token-button-foreground p-0.5",secondary:"bg-token-tab-inactive-foreground text-token-button-foreground p-0.5",ghost:"hover:bg-token-toolbar-hover-background bg-transparent p-1 disabled:hover:bg-transparent"}[rt],Ye),ft="Icon"in ut?ut.Icon:void 0,pt="size"in ut?ut.size:"xs",mt=ft&&pt?jsxRuntimeExports.jsx(ft,{className:clsx({xxxs:"icon-3xs",xxs:"icon-xxs",xs:"icon-xs",sm:"icon-sm",md:"icon-md"}[pt])}):ut.children;switch(ut.as){case"link":case"a":{const{to:gt,ref:yt,...xt}=ut,bt=it?!0:void 0;return ut.as==="link"?jsxRuntimeExports.jsx(Link,{...xt,to:gt??"/",ref:yt,"aria-disabled":bt,onClick:ct,className:ht,children:mt}):jsxRuntimeExports.jsx("a",{...xt,href:gt,ref:yt,"aria-disabled":bt,onClick:ct,className:clsx("cursor-interaction p-0 !text-inherit focus-within:outline-none",ht),children:mt})}case"button":case void 0:{const{ref:gt,...yt}=ut;return jsxRuntimeExports.jsx("button",{className:ht,onClick:ct,disabled:it,type:lt??"button",ref:gt,...yt,children:mt})}}}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((Ye,rt)=>jsxRuntimeExports.jsx(Primitive.span,{...Ye,ref:rt,style:{...VISUALLY_HIDDEN_STYLES,...Ye.style}}));VisuallyHidden.displayName=NAME;var Root$1=VisuallyHidden,[createTooltipContext]=createContextScope("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=Ye=>{const{__scopeTooltip:rt,delayDuration:it=DEFAULT_DELAY_DURATION,skipDelayDuration:lt=300,disableHoverableContent:ct=!1,children:ut}=Ye,ht=reactExports.useRef(!0),ft=reactExports.useRef(!1),pt=reactExports.useRef(0);return reactExports.useEffect(()=>{const mt=pt.current;return()=>window.clearTimeout(mt)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:rt,isOpenDelayedRef:ht,delayDuration:it,onOpen:reactExports.useCallback(()=>{window.clearTimeout(pt.current),ht.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(pt.current),pt.current=window.setTimeout(()=>ht.current=!0,lt)},[lt]),isPointerInTransitRef:ft,onPointerInTransitChange:reactExports.useCallback(mt=>{ft.current=mt},[]),disableHoverableContent:ct,children:ut})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$1=Ye=>{const{__scopeTooltip:rt,children:it,open:lt,defaultOpen:ct,onOpenChange:ut,disableHoverableContent:ht,delayDuration:ft}=Ye,pt=useTooltipProviderContext(TOOLTIP_NAME,Ye.__scopeTooltip),mt=usePopperScope(rt),[gt,yt]=reactExports.useState(null),xt=useId$1(),bt=reactExports.useRef(0),_t=ht??pt.disableHoverableContent,Ct=ft??pt.delayDuration,kt=reactExports.useRef(!1),[St,Rt]=useControllableState({prop:lt,defaultProp:ct??!1,onChange:Lt=>{Lt?(pt.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):pt.onClose(),ut?.(Lt)},caller:TOOLTIP_NAME}),Tt=reactExports.useMemo(()=>St?kt.current?"delayed-open":"instant-open":"closed",[St]),Mt=reactExports.useCallback(()=>{window.clearTimeout(bt.current),bt.current=0,kt.current=!1,Rt(!0)},[Rt]),Pt=reactExports.useCallback(()=>{window.clearTimeout(bt.current),bt.current=0,Rt(!1)},[Rt]),It=reactExports.useCallback(()=>{window.clearTimeout(bt.current),bt.current=window.setTimeout(()=>{kt.current=!0,Rt(!0),bt.current=0},Ct)},[Ct,Rt]);return reactExports.useEffect(()=>()=>{bt.current&&(window.clearTimeout(bt.current),bt.current=0)},[]),jsxRuntimeExports.jsx(Root2$1,{...mt,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:rt,contentId:xt,open:St,stateAttribute:Tt,trigger:gt,onTriggerChange:yt,onTriggerEnter:reactExports.useCallback(()=>{pt.isOpenDelayedRef.current?It():Mt()},[pt.isOpenDelayedRef,It,Mt]),onTriggerLeave:reactExports.useCallback(()=>{_t?Pt():(window.clearTimeout(bt.current),bt.current=0)},[Pt,_t]),onOpen:Mt,onClose:Pt,disableHoverableContent:_t,children:it})})};Tooltip$1.displayName=TOOLTIP_NAME;var TRIGGER_NAME$2="TooltipTrigger",TooltipTrigger$1=reactExports.forwardRef((Ye,rt)=>{const{__scopeTooltip:it,...lt}=Ye,ct=useTooltipContext(TRIGGER_NAME$2,it),ut=useTooltipProviderContext(TRIGGER_NAME$2,it),ht=usePopperScope(it),ft=reactExports.useRef(null),pt=useComposedRefs(rt,ft,ct.onTriggerChange),mt=reactExports.useRef(!1),gt=reactExports.useRef(!1),yt=reactExports.useCallback(()=>mt.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",yt),[yt]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...ht,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":ct.open?ct.contentId:void 0,"data-state":ct.stateAttribute,...lt,ref:pt,onPointerMove:composeEventHandlers(Ye.onPointerMove,xt=>{xt.pointerType!=="touch"&&!gt.current&&!ut.isPointerInTransitRef.current&&(ct.onTriggerEnter(),gt.current=!0)}),onPointerLeave:composeEventHandlers(Ye.onPointerLeave,()=>{ct.onTriggerLeave(),gt.current=!1}),onPointerDown:composeEventHandlers(Ye.onPointerDown,()=>{ct.open&&ct.onClose(),mt.current=!0,document.addEventListener("pointerup",yt,{once:!0})}),onFocus:composeEventHandlers(Ye.onFocus,()=>{mt.current||ct.onOpen()}),onBlur:composeEventHandlers(Ye.onBlur,ct.onClose),onClick:composeEventHandlers(Ye.onClick,ct.onClose)})})});TooltipTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="TooltipPortal",[PortalProvider$1,usePortalContext$1]=createTooltipContext(PORTAL_NAME$1,{forceMount:void 0}),TooltipPortal=Ye=>{const{__scopeTooltip:rt,forceMount:it,children:lt,container:ct}=Ye,ut=useTooltipContext(PORTAL_NAME$1,rt);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:rt,forceMount:it,children:jsxRuntimeExports.jsx(Presence,{present:it||ut.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:ct,children:lt})})})};TooltipPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="TooltipContent",TooltipContent$1=reactExports.forwardRef((Ye,rt)=>{const it=usePortalContext$1(CONTENT_NAME$1,Ye.__scopeTooltip),{forceMount:lt=it.forceMount,side:ct="top",...ut}=Ye,ht=useTooltipContext(CONTENT_NAME$1,Ye.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:lt||ht.open,children:ht.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:ct,...ut,ref:rt}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:ct,...ut,ref:rt})})}),TooltipContentHoverable=reactExports.forwardRef((Ye,rt)=>{const it=useTooltipContext(CONTENT_NAME$1,Ye.__scopeTooltip),lt=useTooltipProviderContext(CONTENT_NAME$1,Ye.__scopeTooltip),ct=reactExports.useRef(null),ut=useComposedRefs(rt,ct),[ht,ft]=reactExports.useState(null),{trigger:pt,onClose:mt}=it,gt=ct.current,{onPointerInTransitChange:yt}=lt,xt=reactExports.useCallback(()=>{ft(null),yt(!1)},[yt]),bt=reactExports.useCallback((_t,Ct)=>{const kt=_t.currentTarget,St={x:_t.clientX,y:_t.clientY},Rt=getExitSideFromRect(St,kt.getBoundingClientRect()),Tt=getPaddedExitPoints(St,Rt),Mt=getPointsFromRect(Ct.getBoundingClientRect()),Pt=getHull([...Tt,...Mt]);ft(Pt),yt(!0)},[yt]);return reactExports.useEffect(()=>()=>xt(),[xt]),reactExports.useEffect(()=>{if(pt&&gt){const _t=kt=>bt(kt,gt),Ct=kt=>bt(kt,pt);return pt.addEventListener("pointerleave",_t),gt.addEventListener("pointerleave",Ct),()=>{pt.removeEventListener("pointerleave",_t),gt.removeEventListener("pointerleave",Ct)}}},[pt,gt,bt,xt]),reactExports.useEffect(()=>{if(ht){const _t=Ct=>{const kt=Ct.target,St={x:Ct.clientX,y:Ct.clientY},Rt=pt?.contains(kt)||gt?.contains(kt),Tt=!isPointInPolygon(St,ht);Rt?xt():Tt&&(xt(),mt())};return document.addEventListener("pointermove",_t),()=>document.removeEventListener("pointermove",_t)}},[pt,gt,ht,mt,xt]),jsxRuntimeExports.jsx(TooltipContentImpl,{...Ye,ref:ut})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeTooltip:it,children:lt,"aria-label":ct,onEscapeKeyDown:ut,onPointerDownOutside:ht,...ft}=Ye,pt=useTooltipContext(CONTENT_NAME$1,it),mt=usePopperScope(it),{onClose:gt}=pt;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,gt),()=>document.removeEventListener(TOOLTIP_OPEN,gt)),[gt]),reactExports.useEffect(()=>{if(pt.trigger){const yt=xt=>{xt.target?.contains(pt.trigger)&&gt()};return window.addEventListener("scroll",yt,{capture:!0}),()=>window.removeEventListener("scroll",yt,{capture:!0})}},[pt.trigger,gt]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ut,onPointerDownOutside:ht,onFocusOutside:yt=>yt.preventDefault(),onDismiss:gt,children:jsxRuntimeExports.jsxs(Content$1,{"data-state":pt.stateAttribute,...mt,...ft,ref:rt,style:{...ft.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:lt}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:it,isInside:!0,children:jsxRuntimeExports.jsx(Root$1,{id:pt.contentId,role:"tooltip",children:ct||lt})})]})})});TooltipContent$1.displayName=CONTENT_NAME$1;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((Ye,rt)=>{const{__scopeTooltip:it,...lt}=Ye,ct=usePopperScope(it);return useVisuallyHiddenContentContext(ARROW_NAME,it).isInside?null:jsxRuntimeExports.jsx(Arrow,{...ct,...lt,ref:rt})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(Ye,rt){const it=Math.abs(rt.top-Ye.y),lt=Math.abs(rt.bottom-Ye.y),ct=Math.abs(rt.right-Ye.x),ut=Math.abs(rt.left-Ye.x);switch(Math.min(it,lt,ct,ut)){case ut:return"left";case ct:return"right";case it:return"top";case lt:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(Ye,rt,it=5){const lt=[];switch(rt){case"top":lt.push({x:Ye.x-it,y:Ye.y+it},{x:Ye.x+it,y:Ye.y+it});break;case"bottom":lt.push({x:Ye.x-it,y:Ye.y-it},{x:Ye.x+it,y:Ye.y-it});break;case"left":lt.push({x:Ye.x+it,y:Ye.y-it},{x:Ye.x+it,y:Ye.y+it});break;case"right":lt.push({x:Ye.x-it,y:Ye.y-it},{x:Ye.x-it,y:Ye.y+it});break}return lt}function getPointsFromRect(Ye){const{top:rt,right:it,bottom:lt,left:ct}=Ye;return[{x:ct,y:rt},{x:it,y:rt},{x:it,y:lt},{x:ct,y:lt}]}function isPointInPolygon(Ye,rt){const{x:it,y:lt}=Ye;let ct=!1;for(let ut=0,ht=rt.length-1;ut<rt.length;ht=ut++){const ft=rt[ut],pt=rt[ht],mt=ft.x,gt=ft.y,yt=pt.x,xt=pt.y;gt>lt!=xt>lt&&it<(yt-mt)*(lt-gt)/(xt-gt)+mt&&(ct=!ct)}return ct}function getHull(Ye){const rt=Ye.slice();return rt.sort((it,lt)=>it.x<lt.x?-1:it.x>lt.x?1:it.y<lt.y?-1:it.y>lt.y?1:0),getHullPresorted(rt)}function getHullPresorted(Ye){if(Ye.length<=1)return Ye.slice();const rt=[];for(let lt=0;lt<Ye.length;lt++){const ct=Ye[lt];for(;rt.length>=2;){const ut=rt[rt.length-1],ht=rt[rt.length-2];if((ut.x-ht.x)*(ct.y-ht.y)>=(ut.y-ht.y)*(ct.x-ht.x))rt.pop();else break}rt.push(ct)}rt.pop();const it=[];for(let lt=Ye.length-1;lt>=0;lt--){const ct=Ye[lt];for(;it.length>=2;){const ut=it[it.length-1],ht=it[it.length-2];if((ut.x-ht.x)*(ct.y-ht.y)>=(ut.y-ht.y)*(ct.x-ht.x))it.pop();else break}it.push(ct)}return it.pop(),rt.length===1&&it.length===1&&rt[0].x===it[0].x&&rt[0].y===it[0].y?rt:rt.concat(it)}var Provider=TooltipProvider$1,Root3=Tooltip$1,Trigger$1=TooltipTrigger$1,Portal$1=TooltipPortal,Content2=TooltipContent$1;function TooltipProvider({delayDuration:Ye=0,...rt}){return jsxRuntimeExports.jsx(Provider,{delayDuration:Ye,...rt})}function Tooltip({children:Ye,delayOpen:rt,tooltipContent:it,sideOffset:lt,side:ct,align:ut,disabled:ht=!1,triggerAsChild:ft=!0,triggerRef:pt,delayDuration:mt,interactive:gt=!1,...yt}){const xt=reactExports.useRef(null);return ht?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye}):jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs(Root3,{delayDuration:rt?250:mt,disableHoverableContent:!gt,children:[jsxRuntimeExports.jsx(TooltipTrigger,{triggerRef:pt,asChild:ft,...yt,children:Ye}),jsxRuntimeExports.jsx(TooltipContent,{contentRef:xt,side:ct,align:ut,sideOffset:lt,interactive:gt,children:it})]})})}function TooltipTrigger({triggerRef:Ye,...rt}){return jsxRuntimeExports.jsx(Trigger$1,{ref:Ye,asChild:!0,...rt})}function TooltipContent({className:Ye,sideOffset:rt=2,children:it,contentRef:lt,...ct}){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsx(Content2,{ref:lt,sideOffset:rt,className:clsx("bg-token-dropdown-background text-token-foreground border-token-border z-50 w-fit select-none rounded-lg border px-2 py-1 text-sm",Ye),...ct,children:it})})}function TaskDiffStats({linesAdded:Ye,linesRemoved:rt,variant:it="color"}){return jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:clsx("flex-shrink-0",it==="monochrome"?"text-token-input-placeholder-foreground":"text-token-git-decoration-added-resource-foreground"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.message.modal.repoAndDiffStats.linesAdded",defaultMessage:"+{linesAdded}",description:"Number of lines added",values:{linesAdded:Ye}})}),jsxRuntimeExports.jsx("span",{className:clsx("flex-shrink-0",it==="monochrome"?"text-token-input-placeholder-foreground":"text-token-git-decoration-deleted-resource-foreground"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.message.modal.repoAndDiffStats.linesRemoved",defaultMessage:"-{linesRemoved}",description:"Number of lines removed",values:{linesRemoved:rt}})})]})}const SvgArchive=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M11.8008 10.1816C12.1035 10.2438 12.3309 10.5119 12.3311 10.833C12.3311 11.1542 12.1036 11.4222 11.8008 11.4844L11.666 11.498H8.33301C7.96589 11.4979 7.66797 11.2002 7.66797 10.833C7.66814 10.466 7.966 10.1682 8.33301 10.168H11.666L11.8008 10.1816Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.417 2.66797C16.7045 2.66815 17.7489 3.71251 17.749 5V5.83301C17.749 6.33171 17.59 6.79271 17.3232 7.17188C17.3263 7.19763 17.3311 7.22343 17.3311 7.25V12.667C17.3311 13.3559 17.3317 13.9131 17.2949 14.3633C17.2622 14.7639 17.197 15.1246 17.0527 15.4609L16.9863 15.6035C16.7209 16.1245 16.3169 16.5602 15.8213 16.8643L15.6035 16.9863C15.2268 17.1782 14.8202 17.2575 14.3623 17.2949C13.9121 17.3317 13.3549 17.332 12.666 17.332H7.33301C6.64407 17.332 6.08689 17.3317 5.63672 17.2949C5.23627 17.2622 4.87521 17.1979 4.53906 17.0537L4.39648 16.9863C3.8754 16.7208 3.43882 16.3171 3.13477 15.8213L3.0127 15.6035C2.82089 15.227 2.74153 14.821 2.7041 14.3633C2.66732 13.9131 2.66797 13.3559 2.66797 12.667V7.25C2.66797 7.22312 2.67268 7.19694 2.67578 7.1709C2.4096 6.79197 2.25195 6.33115 2.25195 5.83301V5C2.25212 3.7124 3.29634 2.66797 4.58398 2.66797H15.417ZM16.001 8.08789C15.8141 8.13621 15.619 8.16501 15.417 8.16504H4.58398C4.38146 8.16504 4.18541 8.13644 3.99805 8.08789V12.667C3.99805 13.3778 3.99895 13.8714 4.03027 14.2549C4.06097 14.6303 4.11779 14.8421 4.19824 15L4.26855 15.126C4.44482 15.4134 4.69792 15.6478 5 15.8018L5.12988 15.8574C5.27361 15.9089 5.4633 15.9467 5.74512 15.9697C6.12858 16.0011 6.62215 16.002 7.33301 16.002H12.666C13.3767 16.002 13.8705 16.001 14.2539 15.9697C14.6292 15.9391 14.8411 15.8821 14.999 15.8018L15.126 15.7305C15.4132 15.5542 15.6479 15.3019 15.8018 15L15.8574 14.8691C15.9088 14.7255 15.9467 14.5363 15.9697 14.2549C16.0011 13.8714 16.001 13.3779 16.001 12.667V8.08789ZM4.58398 3.99805C4.03088 3.99805 3.5822 4.44693 3.58203 5V5.83301C3.58203 6.38621 4.03078 6.83496 4.58398 6.83496H15.417C15.97 6.83478 16.4189 6.3861 16.4189 5.83301V5C16.4188 4.44705 15.9699 3.99823 15.417 3.99805H4.58398Z",fill:"currentColor"})),SvgBranch=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("circle",{cx:5.4165,cy:5,r:1.875,stroke:"currentColor",strokeWidth:1.33}),reactExports.createElement("circle",{cx:5.4165,cy:15,r:1.875,stroke:"currentColor",strokeWidth:1.33}),reactExports.createElement("circle",{cx:14.5833,cy:5,r:1.875,stroke:"currentColor",strokeWidth:1.33}),reactExports.createElement("path",{d:"M5.4165 6.66664V13.3333",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M5.41658 12.5V11.6667C5.41658 10.7462 6.16278 10 7.08325 10H12.9166C13.8371 10 14.5833 9.25381 14.5833 8.33333V7.5",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"})),SvgCloud=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M1.20148 11.7273C1.20148 9.41829 2.82062 7.48832 4.98566 7.00952C5.84834 4.98385 7.85715 3.56239 10.1995 3.56226C13.1199 3.56226 15.5232 5.77232 15.8304 8.61108C17.739 8.91338 19.1984 10.5667 19.1985 12.5603C19.1985 14.7685 17.4077 16.5593 15.1995 16.5593H6.03351C3.36505 16.5593 1.20148 14.3958 1.20148 11.7273ZM2.53156 11.7273C2.53156 13.6612 4.09959 15.2292 6.03351 15.2292H15.1995C16.6732 15.2292 17.8685 14.034 17.8685 12.5603C17.8683 11.0868 16.6731 9.89233 15.1995 9.89233C14.8324 9.89216 14.5345 9.59446 14.5345 9.22729C14.5345 6.83314 12.5937 4.89233 10.1995 4.89233C8.30106 4.89247 6.68598 6.11375 6.09991 7.81519C6.01795 8.05266 5.80887 8.224 5.55988 8.25757C3.85007 8.48819 2.53156 9.95416 2.53156 11.7273Z",fill:"currentColor"})),SvgElbowDownRight=Ye=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M7 4.5V9.5C7 10.0523 7.44772 10.5 8 10.5H13",stroke:"currentColor",strokeLinecap:"round"})),SvgInfo=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10.6 9.70459C11.0142 9.70461 11.35 10.0404 11.35 10.4546V13.7876C11.35 14.2018 11.0142 14.5376 10.6 14.5376C10.1858 14.5376 9.84998 14.2018 9.84998 13.7876V10.4546C9.84998 10.0404 10.1858 9.70459 10.6 9.70459Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M10.6 6.2876C11.1292 6.28762 11.558 6.71732 11.558 7.24658C11.5578 7.77569 11.1291 8.20457 10.6 8.20459C10.0708 8.20459 9.64215 7.7757 9.64197 7.24658C9.64197 6.71731 10.0707 6.2876 10.6 6.2876Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6 2.53955C14.9713 2.53955 18.515 6.08326 18.515 10.4546C18.515 14.8259 14.9713 18.3696 10.6 18.3696C6.22864 18.3696 2.68494 14.8259 2.68494 10.4546C2.68494 6.08326 6.22864 2.53955 10.6 2.53955ZM10.6 3.86963C6.96318 3.86963 4.01501 6.81779 4.01501 10.4546C4.01501 14.0914 6.96318 17.0396 10.6 17.0396C14.2368 17.0396 17.1849 14.0914 17.1849 10.4546C17.1849 6.81779 14.2368 3.86963 10.6 3.86963Z",fill:"currentColor"})),SvgMacbook=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M18.2682 14.3617H13.2565L12.5641 14.7084C12.4718 14.7545 12.3695 14.7787 12.2663 14.7787H8.93329C8.83005 14.7787 8.72778 14.7545 8.63544 14.7084L7.94305 14.3617H2.92841V14.9467C2.92841 15.4999 3.37715 15.9486 3.93036 15.9486H17.2663C17.8195 15.9486 18.2682 15.4999 18.2682 14.9467V14.3617ZM17.4352 6.78064C17.4352 6.30296 17.4347 5.98418 17.4147 5.73962C17.4002 5.56206 17.3766 5.45678 17.3513 5.38611L17.3259 5.32556C17.2538 5.18414 17.1494 5.06256 17.0222 4.97009L16.8884 4.88806C16.8195 4.85296 16.7101 4.81854 16.4733 4.79919C16.2288 4.77924 15.9107 4.77869 15.4333 4.77869H5.7663C5.2889 4.77869 4.97075 4.77924 4.72626 4.79919C4.54907 4.81367 4.44343 4.83642 4.37274 4.86169L4.31219 4.88806C4.17098 4.96002 4.04914 5.06385 3.95673 5.1908L3.87372 5.32556C3.83865 5.39444 3.80517 5.50312 3.78583 5.73962C3.76585 5.98418 3.76532 6.30296 3.76532 6.78064V13.0316H8.10028L8.17645 13.0365C8.25305 13.0454 8.32783 13.0673 8.39716 13.1019L9.08954 13.4486H12.11L12.8024 13.1019L12.8737 13.0717C12.946 13.0455 13.023 13.0316 13.1003 13.0316H17.4352V6.78064ZM18.7653 13.0316H18.9333C19.3004 13.0317 19.5982 13.3296 19.5983 13.6967V14.9467C19.5983 16.2344 18.554 17.2787 17.2663 17.2787H3.93036C2.64261 17.2787 1.59833 16.2344 1.59833 14.9467V13.6967L1.612 13.5629C1.67405 13.2599 1.94205 13.0316 2.26337 13.0316H2.43524V6.78064C2.43524 6.3249 2.43422 5.94251 2.45966 5.63123C2.48573 5.31234 2.54269 5.00955 2.68915 4.72205L2.77899 4.56091C3.003 4.19579 3.32393 3.89808 3.7077 3.70251L3.8161 3.65173C4.07126 3.54227 4.33858 3.49682 4.61786 3.474C4.92907 3.44858 5.31072 3.44861 5.7663 3.44861H15.4333C15.8889 3.44861 16.2705 3.44859 16.5817 3.474C16.9008 3.50007 17.2043 3.55596 17.4919 3.70251L17.652 3.79236C18.0175 4.0164 18.3148 4.33802 18.5104 4.72205L18.5612 4.83044C18.6706 5.08544 18.7171 5.35214 18.7399 5.63123C18.7654 5.94251 18.7653 6.3249 18.7653 6.78064V13.0316Z",fill:"currentColor"})),ENVIRONMENT_ICON_COMPONENTS={worktree:SvgBranch,local:SvgMacbook,cloud:SvgCloud,localGrouped:SvgElbowDownRight},BADGE_ICON_CLASS="icon-2xs text-token-input-placeholder-foreground",ENV_ICON_CLASS=BADGE_ICON_CLASS;function TaskRowLayout({title:Ye,chips:rt=[],iconBadges:it=[],diffStats:lt,diffStyle:ct="color",metaContent:ut,metaState:ht="default",isActive:ft=!1,onClick:pt,onArchive:mt,archiveTooltip:gt,statusState:yt,envType:xt,envTooltip:bt,envIconLocation:_t="end",disabled:Ct=!1,indicatorLocation:kt="end"}){const St=typeof mt=="function",{type:Rt,unread:Tt=!1}=yt??{type:"idle"},Mt=Rt==="loading"||Rt==="error"?jsxRuntimeExports.jsx(StatusIcon,{statusType:Rt}):null,Pt=Mt!=null||!Tt?null:jsxRuntimeExports.jsx(Indicator,{}),It=Mt??(ut!=null?jsxRuntimeExports.jsx(MetaText,{content:ut,metaState:ht}):null),Lt=jsxRuntimeExports.jsx(ArchiveButton,{archiveTooltip:gt,onArchive:mt,showArchiveButton:St}),Ot=jsxRuntimeExports.jsx(EnvIcon,{envTooltip:bt,envType:xt}),Ft=clsx("group relative cursor-interaction rounded-lg px-row-x py-row-y hover:bg-token-list-hover-background",Ct&&"pointer-events-none opacity-60",ft?"bg-token-list-active-selection-background":"electron:opacity-75");return jsxRuntimeExports.jsxs("div",{className:Ft,onClick:Ct?void 0:pt,children:[Lt,jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center gap-2 text-sm",children:[kt==="start"&&jsxRuntimeExports.jsx("div",{className:"w-4",children:Pt}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[_t==="start"&&Ot,jsxRuntimeExports.jsx("span",{className:"text-token-foreground flex-1 truncate text-base",children:Ye}),_t==="middle"&&Ot,jsxRuntimeExports.jsx(InlineBadgeNodes,{chips:rt,iconBadges:it,diffStats:lt,diffStyle:ct})]}),_t==="end"&&Ot,(It||Pt&&kt==="end")&&jsxRuntimeExports.jsxs("div",{className:"flex min-w-[24px] items-center justify-end gap-1",children:[It,kt==="end"&&Pt]})]})]})}function InlineBadgeNodes({chips:Ye=[],iconBadges:rt=[],diffStats:it,diffStyle:lt="color"}){const ct=it&&(it.linesAdded!==0||it.linesRemoved!==0)?jsxRuntimeExports.jsx(TaskDiffStats,{variant:lt,linesAdded:it.linesAdded,linesRemoved:it.linesRemoved},"diff-stats"):null,ut=Ye.flatMap(({id:pt,label:mt})=>mt==null?[]:[jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground bg-token-dropdown-background border-token-border inline-flex max-w-[150px] items-center truncate rounded-full border py-0.5 pl-2 pr-2.5 text-sm",children:mt},pt)]),ht=rt.flatMap(({id:pt,icon:mt})=>reactExports.isValidElement(mt)?[reactExports.cloneElement(mt,{key:pt,className:clsx(BADGE_ICON_CLASS,mt.props.className)})]:[]),ft=ct?[...ut,ct,...ht]:[...ut,...ht];return jsxRuntimeExports.jsx("div",{className:"flex min-w-[24px] items-center justify-end gap-1",children:ft})}function Indicator(){return jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground relative flex w-5 shrink-0 items-center justify-center group-focus-within:opacity-0 group-hover:opacity-0",children:jsxRuntimeExports.jsx("span",{className:"bg-token-text-link-foreground icon-xs scale-50 rounded-full"})})}function StatusIcon({statusType:Ye}){return Ye!=="loading"&&Ye!=="error"?null:jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground relative flex w-5 shrink-0 items-center justify-center group-focus-within:opacity-0 group-hover:opacity-0",children:Ye==="loading"?jsxRuntimeExports.jsx(Spinner,{className:"icon-xs shrink-0"}):jsxRuntimeExports.jsx(SvgInfo,{className:"icon-xs text-token-error-foreground shrink-0"})})}function MetaText({content:Ye,metaState:rt}){return Ye==null?null:jsxRuntimeExports.jsx("div",{className:clsx("text-token-description-foreground text-sm empty:hidden",rt==="loading"?"loading-shimmer-pure-text min-w-[72px]":"truncate","text-right","group-focus-within:opacity-0 group-hover:opacity-0"),children:Ye})}function ArchiveButton({archiveTooltip:Ye,onArchive:rt,showArchiveButton:it}){return!it||Ye==null?null:jsxRuntimeExports.jsx("div",{className:"absolute right-[var(--padding-row-x)] top-0 z-10 flex h-full items-center justify-center",children:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:Ye,children:jsxRuntimeExports.jsx("button",{type:"button",className:"focus-visible:outline-token-focus-ring icon-sm pointer-events-none flex items-center justify-center rounded-md opacity-0 hover:opacity-100 focus-visible:pointer-events-auto focus-visible:opacity-100 focus-visible:outline-2 focus-visible:outline-offset-2 group-focus-within:pointer-events-auto group-focus-within:opacity-100 group-hover:pointer-events-auto group-hover:opacity-50",onClick:lt=>{lt.stopPropagation(),rt?.()},children:jsxRuntimeExports.jsx(SvgArchive,{className:"icon-2xs"})})})})}function EnvIcon({envTooltip:Ye,envType:rt}){if(!rt)return null;const it=ENVIRONMENT_ICON_COMPONENTS[rt];if(!it||!(rt!=="local"))return null;const ct=jsxRuntimeExports.jsx(it,{className:ENV_ICON_CLASS}),ut=Ye?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:Ye,children:ct}):ct;return jsxRuntimeExports.jsx("span",{className:"flex shrink-0 items-center align-middle text-sm",children:ut})}const SvgBon1=Ye=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M8 6.5L14 4.5L8 2.5L2 4.5L8 6.5Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 11.5L8 13.5L14 11.5",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 9.16699L8 11.167L14 9.16699",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 6.83301L8 8.83301L14 6.83301",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})),SvgBon2=Ye=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M8 6.5L14 4.5L8 2.5L2 4.5L8 6.5Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 6.83301L8 8.83301L14 6.83301",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 9.16699L8 11.167L14 9.16699",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 11.5L8 13.5L14 11.5",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})),SvgBon3=Ye=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M8 6.5L14 4.5L8 2.5L2 4.5L8 6.5Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 6.83301L8 8.83301L14 6.83301",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 9.16699L8 11.167L14 9.16699",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 11.5L8 13.5L14 11.5",stroke:"currentColor",strokeOpacity:.3,strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"})),SvgBon4=Ye=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M8 6.5L14 4.5L8 2.5L2 4.5L8 6.5Z",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 6.83301L8 8.83301L14 6.83301",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 9.16699L8 11.167L14 9.16699",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M2 11.5L8 13.5L14 11.5",stroke:"currentColor",strokeWidth:1.3,strokeLinecap:"round",strokeLinejoin:"round"}));function BestOfNIcon({className:Ye,attempts:rt,tooltip:it}){let lt;return rt<=1?lt=jsxRuntimeExports.jsx(SvgBon1,{className:Ye}):rt===2?lt=jsxRuntimeExports.jsx(SvgBon2,{className:Ye}):rt===3?lt=jsxRuntimeExports.jsx(SvgBon3,{className:Ye}):lt=jsxRuntimeExports.jsx(SvgBon4,{className:Ye}),it?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"bestOfNIcon.attemptsTooltip",defaultMessage:"{attempts, plural, one {# attempt} other {# attempts}}",description:"Tooltip indicating the number of attempts represented by the icon",values:{attempts:rt}}),children:lt}):lt}function useInterval(Ye,rt){const it=reactExports.useRef(Ye);reactExports.useEffect(()=>{it.current=Ye},[Ye]),reactExports.useEffect(()=>{function lt(){it.current()}{const ct=window.setInterval(lt,rt);return()=>clearInterval(ct)}},[rt])}function differenceInMinutes(Ye,rt){return Math.floor((Ye.getTime()-rt.getTime())/6e4)}function differenceInCalendarDays(Ye,rt){const it=new Date(Ye.getFullYear(),Ye.getMonth(),Ye.getDate()),lt=new Date(rt.getFullYear(),rt.getMonth(),rt.getDate());return Math.round((it.getTime()-lt.getTime())/864e5)}function FormattedRelativeDateTime({dateString:Ye}){const rt=useIntl(),[it,lt]=reactExports.useState(()=>new Date);useInterval(()=>lt(new Date),6e4);const ct=reactExports.useMemo(()=>new Date(Ye),[Ye]),ut=reactExports.useMemo(()=>differenceInCalendarDays(it,ct),[it,ct]),ht=reactExports.useMemo(()=>differenceInMinutes(it,ct),[it,ct]);if(ht<1)return rt.formatMessage({id:"wham.formattedRelativeDateTime.justNow",defaultMessage:"Just now",description:"Label indicating something that happened just now"});if(ht<60)return rt.formatMessage({id:"wham.formattedRelativeDateTime.compactMinutesAgo",defaultMessage:"{value}m",description:"Compact minutes-ago format"},{value:ht});const ft=Math.floor(ht/60);if(ft<24)return rt.formatMessage({id:"wham.formattedRelativeDateTime.compactHoursAgo",defaultMessage:"{value}h",description:"Compact hours-ago format"},{value:ft});const pt=Math.max(1,ut);return rt.formatMessage({id:"wham.formattedRelativeDateTime.compactDaysAgo",defaultMessage:"{value}d",description:"Compact days-ago format"},{value:pt})}const SvgX=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M14.6549 5.57307C14.9283 5.2997 15.3718 5.2997 15.6451 5.57307C15.9185 5.84643 15.9185 6.28993 15.6451 6.5633L11.3903 10.8182L15.6451 15.0731L15.735 15.1834C15.9141 15.4551 15.8842 15.8242 15.6451 16.0633C15.4061 16.3024 15.0369 16.3322 14.7653 16.1531L14.6549 16.0633L10.4 11.8084L6.14515 16.0633C5.87178 16.3367 5.42828 16.3367 5.15492 16.0633C4.88155 15.7899 4.88155 15.3464 5.15492 15.0731L9.4098 10.8182L5.15492 6.5633L5.06507 6.45295C4.88597 6.18128 4.91584 5.81214 5.15492 5.57307C5.39399 5.33399 5.76313 5.30413 6.0348 5.48322L6.14515 5.57307L10.4 9.82795L14.6549 5.57307Z",fill:"currentColor"}));function Alert(Ye){const rt=useIntl(),{className:it,level:lt="info",fullWidth:ct,children:ut,icon:ht,onRemove:ft,testId:pt}=Ye,mt=clsx("alert-root inline-flex flex-row items-center gap-1.5 rounded-lg border px-2 py-1 text-base leading-[1.4] pointer-events-auto",{flex:ct,"popover bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":lt==="info","border-token-border bg-token-terminal-ansi-green text-token-editor-background":lt==="success","border-token-border bg-token-charts-orange text-token-editor-background":lt==="warning","border-token-border bg-token-terminal-ansi-red text-token-foreground":lt==="danger"},it);return jsxRuntimeExports.jsxs("div",{className:mt,role:"alert","data-testid":pt,children:[ht?jsxRuntimeExports.jsx("div",{className:"shrink-0 grow-0",children:jsxRuntimeExports.jsx(ht,{className:"icon-sm"})}):null,jsxRuntimeExports.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof ut=="string"?jsxRuntimeExports.jsx("div",{className:"font-semibold",children:ut}):ut}),ft?jsxRuntimeExports.jsx("button",{type:"button",onClick:ft,"aria-label":rt.formatMessage({id:"codex.alert.closeAriaLabel",defaultMessage:"Close",description:"Aria label for the close button on an alert/toast component"}),className:"hover:bg-token-button-secondary-hover-background/5 cursor-interaction flex shrink-0 grow-0 rounded-full p-1 hover:opacity-80",children:jsxRuntimeExports.jsx(SvgX,{className:"icon-xxs"})}):null]})}const SvgCheckCircle=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M12.1599 7.63617C12.3713 7.33596 12.7863 7.26372 13.0866 7.47504C13.3867 7.68642 13.4589 8.10153 13.2477 8.40179L9.28876 14.0268C9.17264 14.1917 8.98808 14.2954 8.7868 14.308C8.61044 14.319 8.43764 14.2592 8.30634 14.144L8.25262 14.0912L6.16962 11.7993L6.08954 11.6918C5.93136 11.4259 5.97666 11.0761 6.21454 10.8598C6.45225 10.6439 6.80379 10.6326 7.05341 10.8149L7.15399 10.9047L8.67841 12.5815L12.1599 7.63617Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99506 2.81226C14.3664 2.81226 17.9101 6.35596 17.9101 10.7273C17.9101 15.0986 14.3664 18.6423 9.99506 18.6423C5.62372 18.6423 2.08002 15.0986 2.08002 10.7273C2.08002 6.35596 5.62372 2.81226 9.99506 2.81226ZM9.99506 4.14233C6.35826 4.14233 3.4101 7.0905 3.4101 10.7273C3.4101 14.3641 6.35826 17.3123 9.99506 17.3123C13.6319 17.3123 16.58 14.3641 16.58 10.7273C16.58 7.0905 13.6319 4.14233 9.99506 4.14233Z",fill:"currentColor"})),SvgXCircleFilled=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7997 2.48486C15.4019 2.48486 19.1335 6.21565 19.1337 10.8179C19.1337 15.4202 15.4021 19.1519 10.7997 19.1519C6.19746 19.1517 2.46667 15.4201 2.46667 10.8179C2.46685 6.21576 6.19757 2.48504 10.7997 2.48486ZM8.97253 8.05029C8.71284 7.79059 8.29083 7.79059 8.03113 8.05029C7.77189 8.31002 7.77162 8.73117 8.03113 8.99072L9.85925 10.8179L8.03113 12.646C7.77173 12.9056 7.77178 13.3268 8.03113 13.5864C8.29083 13.8461 8.71284 13.8461 8.97253 13.5864L10.7997 11.7583L12.6278 13.5864C12.8875 13.8461 13.3085 13.8461 13.5682 13.5864C13.8279 13.3267 13.8279 12.9057 13.5682 12.646L11.7401 10.8179L13.5682 8.99072L13.6532 8.88623C13.8237 8.62817 13.7953 8.27758 13.5682 8.05029C13.341 7.82301 12.9904 7.79478 12.7323 7.96533L12.6278 8.05029L10.7997 9.87744L8.97253 8.05029Z",fill:"currentColor"})),ALERT_TO_ICON={success:SvgCheckCircle,warning:SvgXCircleFilled,danger:SvgXCircleFilled};function Toast({zIndex:Ye,duration:rt,onRemove:it,level:lt,title:ct,description:ut,hasCloseButton:ht,isShown:ft=!0,testId:pt}){const[mt,gt]=reactExports.useState(ft),yt=reactExports.useRef(null),xt=reactExports.useCallback(()=>{gt(!1)},[]),bt=reactExports.useCallback(()=>{rt&&(yt.current=setTimeout(()=>{xt()},rt*1e3))},[xt,rt]),_t=()=>{yt.current&&(clearTimeout(yt.current),yt.current=null)};if(reactExports.useEffect(()=>(mt&&bt(),_t),[mt,bt]),reactExports.useEffect(()=>{mt||it?.()},[mt,it]),!mt)return null;const Ct=ALERT_TO_ICON[lt];return jsxRuntimeExports.jsx("div",{className:"toast-root",style:{zIndex:Ye},children:jsxRuntimeExports.jsx("div",{className:"w-full p-1 text-center md:w-auto md:text-justify",children:jsxRuntimeExports.jsxs(Alert,{icon:Ct,level:lt,onRemove:ht?xt:void 0,testId:pt,children:[jsxRuntimeExports.jsx("div",{className:clsx("whitespace-pre-wrap text-start",{"font-semibold":ut}),children:ct}),ut?jsxRuntimeExports.jsx("div",{className:"text-start",children:ut}):null]})})})}const hasCustomId=Ye=>Object.hasOwnProperty.call(Ye,"id");let nextToastId=0;class ToasterImpl{toasts=[];listeners=new Set;subscribe=rt=>(this.listeners.add(rt),()=>this.listeners.delete(rt));toastsChanged(){this.listeners.forEach(rt=>rt())}notify(rt,it){if(hasCustomId(it))for(const ct of this.toasts)String(ct.id).startsWith(it.id)&&this.closeToast(ct.id);const lt=this.createToastInstance(rt,it);return this.toasts=[lt,...this.toasts],this.toastsChanged(),lt}createToastInstance(rt,it){const lt=++nextToastId,ct=hasCustomId(it)?`${it.id}-${lt}`:lt;return{id:ct,title:rt,description:it.description,hasCloseButton:typeof it.hasCloseButton=="boolean"?it.hasCloseButton:!0,duration:typeof it.duration=="number"?it.duration:5,close:()=>this.closeToast(ct),onRemove:it.onRemove,level:it.level??"info",isShown:!0,testId:it.testId}}getToasts(){return this.toasts}closeToast(rt){this.toasts=this.toasts.map(it=>it.id===rt?{...it,isShown:!1}:it),this.toastsChanged()}removeToast(rt){this.toasts.find(it=>it.id===rt)?.onRemove?.(),this.toasts=this.toasts.filter(it=>it.id!==rt),this.toastsChanged()}closeAll(){this.toasts.forEach(rt=>rt.close())}info(rt,it){return this.notify(rt,{...it,level:"info"})}success(rt,it){return this.notify(rt,{...it,level:"success"})}warning(rt,it){return this.notify(rt,{...it,level:"warning"})}danger(rt,it){return this.notify(rt,{...it,level:"danger"})}}const toasterContext=reactExports.createContext(null),{Provider:ToasterProvider}=toasterContext;function useToaster(){return reactExports.useContext(toasterContext)}function useToasts(){const Ye=useToaster();return reactExports.useSyncExternalStore(rt=>Ye.subscribe(rt),()=>Ye.toasts,()=>[])}function ToastArea(){const Ye=useToasts(),rt=useToaster();return jsxRuntimeExports.jsx("span",{className:"pointer-events-none fixed inset-0 z-[60] mx-auto my-2 flex max-w-[560px] flex-col items-center justify-start md:pb-5",children:Ye.filter(it=>it.isShown!==!1).map(({id:it,...lt})=>jsxRuntimeExports.jsx(Toast,{...lt,onRemove:()=>rt.removeToast(it)},it))})}function ToastManager({children:Ye}){const[rt]=reactExports.useState(()=>new ToasterImpl);return jsxRuntimeExports.jsxs(ToasterProvider,{value:rt,children:[Ye,jsxRuntimeExports.jsx(ToastArea,{})]})}function isTurnComplete(Ye){return Ye==="completed"||Ye==="failed"||Ye==="cancelled"}function useStreamLastTurnEvent(Ye,rt,it){const lt=useIntl(),ct=reactExports.useMemo(()=>it?lt.formatMessage({id:"wham.streamTurnStatus.workingOnYourTask",defaultMessage:"Working on your task",description:"Initial text shown in the sidebar when the assistant is working on a task"}):"",[it,lt]),[ut,ht]=reactExports.useState(ct),ft=useDebouncedValue(ut,200),pt=useQueryClient();return reactExports.useEffect(()=>{if(!it||isTurnComplete(rt))return;const mt=new URLSearchParams;mt.append("item_type","task_turn_event");const gt=`/wham/tasks/${Ye}/turns/${it}/stream?${mt.toString()}`,yt=WebFetchWrapper.getInstance().stream("GET",gt,{onEvent:xt=>{const bt=xt.data;bt?.item_type==="task_turn_event"&&ht(bt.task_turn_event?.text??"")},onComplete:()=>{pt.invalidateQueries({queryKey:["tasks"]}),pt.invalidateQueries({queryKey:["task",Ye]})}});return()=>{WebFetchWrapper.getInstance().cancelStream(yt)}},[Ye,it,rt,pt]),ft}function CloudTaskRow({task:Ye,onClose:rt,showCloudIcon:it=!0,isActive:lt=!1,envIconLocation:ct="end",hideMeta:ut=!1,indicatorLocation:ht="end",diffStyle:ft="color"}){const pt=useIntl(),mt=useToaster(),gt=useNavigate(),yt=useQueryClient(),xt=()=>{gt(`/remote/${bt}`),rt()},{id:bt,title:_t}=Ye,Ct=Ye.task_status_display?.latest_turn_status_display?.turn_status,kt=Ct==="in_progress"||Ct==="pending",St=Ct==="failed",Rt=Ye.task_status_display?.latest_turn_status_display,Tt=useStreamLastTurnEvent(Ye.id,Ct??null,Rt?.turn_id??null),Mt=(Rt?.sibling_turn_ids?.length??0)+1,Pt=Ye.updated_at?new Date(Ye.updated_at*1e3):null,It=reactExports.useMemo(()=>Ct==="completed"?getDiff(Ye):null,[Ye,Ct]),Lt=It&&!kt&&((It.lines_added??0)>0||(It.lines_removed??0)>0)?{linesAdded:It.lines_added??0,linesRemoved:It.lines_removed??0}:null,Ot=reactExports.useMemo(()=>Mt>1?[{id:"attempts",icon:jsxRuntimeExports.jsx(BestOfNIcon,{attempts:Mt,tooltip:!0})}]:[],[Mt]),Ft=kt?"loading":St?"error":"idle",Ut=ut?null:kt?Tt??"":Pt?jsxRuntimeExports.jsx(FormattedRelativeDateTime,{dateString:Pt.toISOString()}):null,Wt=kt?"loading":"default",[Kt,Qt]=reactExports.useState(!1),Zt=useMutation({mutationFn:()=>CodexRequest.safePost("/wham/tasks/{task_id}/archive",{parameters:{path:{task_id:bt}}}),onSuccess:()=>{yt.invalidateQueries({queryKey:["tasks"]}),yt.invalidateQueries({queryKey:["task",bt]})},onError:()=>{Qt(!1),mt.danger(pt.formatMessage({id:"cloudTaskRow.archiveError",defaultMessage:"Failed to archive task",description:"Error message when archiving a Codex task"}))}}),Vt=()=>{Qt(!0),Zt.mutate()};return Kt?null:jsxRuntimeExports.jsx(TaskRowLayout,{isActive:lt,onClick:xt,indicatorLocation:ht,statusState:{type:Ft,unread:Ye.has_unread_turn},envType:it?"cloud":void 0,envIconLocation:ct,title:_t??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.taskRow.title",defaultMessage:"Codex task",description:"Default title for a Codex task that doesn't have a title"}),diffStats:Lt,diffStyle:ft,iconBadges:Ot,metaContent:Ut,metaState:Wt,onArchive:kt||!Pt?null:Vt,archiveTooltip:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.cloudTaskRow.archiveTask",defaultMessage:"Archive task",description:"Tooltip for archive task button"})})}function getDiff(Ye){return Ye?.task_status_display?.latest_turn_status_display?.diff_stats??null}const scriptRel="modulepreload",assetsURL=function(Ye,rt){return new URL(Ye,rt).href},seen={},__vitePreload=function(rt,it,lt){let ct=Promise.resolve();if(it&&it.length>0){let mt=function(gt){return Promise.all(gt.map(yt=>Promise.resolve(yt).then(xt=>({status:"fulfilled",value:xt}),xt=>({status:"rejected",reason:xt}))))};const ht=document.getElementsByTagName("link"),ft=document.querySelector("meta[property=csp-nonce]"),pt=ft?.nonce||ft?.getAttribute("nonce");ct=mt(it.map(gt=>{if(gt=assetsURL(gt,lt),gt in seen)return;seen[gt]=!0;const yt=gt.endsWith(".css"),xt=yt?'[rel="stylesheet"]':"";if(lt)for(let _t=ht.length-1;_t>=0;_t--){const Ct=ht[_t];if(Ct.href===gt&&(!yt||Ct.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${gt}"]${xt}`))return;const bt=document.createElement("link");if(bt.rel=yt?"stylesheet":scriptRel,yt||(bt.as="script"),bt.crossOrigin="",bt.href=gt,pt&&bt.setAttribute("nonce",pt),document.head.appendChild(bt),yt)return new Promise((_t,Ct)=>{bt.addEventListener("load",_t),bt.addEventListener("error",()=>Ct(new Error(`Unable to preload CSS for ${gt}`)))})}))}function ut(ht){const ft=new Event("vite:preloadError",{cancelable:!0});if(ft.payload=ht,window.dispatchEvent(ft),!ft.defaultPrevented)throw ht}return ct.then(ht=>{for(const ft of ht||[])ft.status==="rejected"&&ut(ft.reason);return rt().catch(ut)})};let ShikiError$2=class extends Error{constructor(rt){super(rt),this.name="ShikiError"}};function clone$2(Ye){return doClone(Ye)}function doClone(Ye){return Array.isArray(Ye)?cloneArray(Ye):Ye instanceof RegExp?Ye:typeof Ye=="object"?cloneObj(Ye):Ye}function cloneArray(Ye){let rt=[];for(let it=0,lt=Ye.length;it<lt;it++)rt[it]=doClone(Ye[it]);return rt}function cloneObj(Ye){let rt={};for(let it in Ye)rt[it]=doClone(Ye[it]);return rt}function mergeObjects(Ye,...rt){return rt.forEach(it=>{for(let lt in it)Ye[lt]=it[lt]}),Ye}function basename$1(Ye){const rt=~Ye.lastIndexOf("/")||~Ye.lastIndexOf("\\");return rt===0?Ye:~rt===Ye.length-1?basename$1(Ye.substring(0,Ye.length-1)):Ye.substr(~rt+1)}var CAPTURING_REGEX_SOURCE=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,RegexSource=class{static hasCaptures(Ye){return Ye===null?!1:(CAPTURING_REGEX_SOURCE.lastIndex=0,CAPTURING_REGEX_SOURCE.test(Ye))}static replaceCaptures(Ye,rt,it){return Ye.replace(CAPTURING_REGEX_SOURCE,(lt,ct,ut,ht)=>{let ft=it[parseInt(ct||ut,10)];if(ft){let pt=rt.substring(ft.start,ft.end);for(;pt[0]===".";)pt=pt.substring(1);switch(ht){case"downcase":return pt.toLowerCase();case"upcase":return pt.toUpperCase();default:return pt}}else return lt})}};function strcmp(Ye,rt){return Ye<rt?-1:Ye>rt?1:0}function strArrCmp(Ye,rt){if(Ye===null&&rt===null)return 0;if(!Ye)return-1;if(!rt)return 1;let it=Ye.length,lt=rt.length;if(it===lt){for(let ct=0;ct<it;ct++){let ut=strcmp(Ye[ct],rt[ct]);if(ut!==0)return ut}return 0}return it-lt}function isValidHexColor(Ye){return!!(/^#[0-9a-f]{6}$/i.test(Ye)||/^#[0-9a-f]{8}$/i.test(Ye)||/^#[0-9a-f]{3}$/i.test(Ye)||/^#[0-9a-f]{4}$/i.test(Ye))}function escapeRegExpCharacters(Ye){return Ye.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var CachedFn=class{constructor(Ye){this.fn=Ye}cache=new Map;get(Ye){if(this.cache.has(Ye))return this.cache.get(Ye);const rt=this.fn(Ye);return this.cache.set(Ye,rt),rt}},Theme$1=class{constructor(rt,it,lt){this._colorMap=rt,this._defaults=it,this._root=lt}static createFromRawTheme(rt,it){return this.createFromParsedTheme(parseTheme(rt),it)}static createFromParsedTheme(rt,it){return resolveParsedThemeRules(rt,it)}_cachedMatchRoot=new CachedFn(rt=>this._root.match(rt));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(rt){if(rt===null)return this._defaults;const it=rt.scopeName,ct=this._cachedMatchRoot.get(it).find(ut=>_scopePathMatchesParentScopes(rt.parent,ut.parentScopes));return ct?new StyleAttributes(ct.fontStyle,ct.foreground,ct.background):null}},ScopeStack=class Xl{constructor(rt,it){this.parent=rt,this.scopeName=it}static push(rt,it){for(const lt of it)rt=new Xl(rt,lt);return rt}static from(...rt){let it=null;for(let lt=0;lt<rt.length;lt++)it=new Xl(it,rt[lt]);return it}push(rt){return new Xl(this,rt)}getSegments(){let rt=this;const it=[];for(;rt;)it.push(rt.scopeName),rt=rt.parent;return it.reverse(),it}toString(){return this.getSegments().join(" ")}extends(rt){return this===rt?!0:this.parent===null?!1:this.parent.extends(rt)}getExtensionIfDefined(rt){const it=[];let lt=this;for(;lt&&lt!==rt;)it.push(lt.scopeName),lt=lt.parent;return lt===rt?it.reverse():void 0}};function _scopePathMatchesParentScopes(Ye,rt){if(rt.length===0)return!0;for(let it=0;it<rt.length;it++){let lt=rt[it],ct=!1;if(lt===">"){if(it===rt.length-1)return!1;lt=rt[++it],ct=!0}for(;Ye&&!_matchesScope(Ye.scopeName,lt);){if(ct)return!1;Ye=Ye.parent}if(!Ye)return!1;Ye=Ye.parent}return!0}function _matchesScope(Ye,rt){return rt===Ye||Ye.startsWith(rt)&&Ye[rt.length]==="."}var StyleAttributes=class{constructor(Ye,rt,it){this.fontStyle=Ye,this.foregroundId=rt,this.backgroundId=it}};function parseTheme(Ye){if(!Ye)return[];if(!Ye.settings||!Array.isArray(Ye.settings))return[];let rt=Ye.settings,it=[],lt=0;for(let ct=0,ut=rt.length;ct<ut;ct++){let ht=rt[ct];if(!ht.settings)continue;let ft;if(typeof ht.scope=="string"){let yt=ht.scope;yt=yt.replace(/^[,]+/,""),yt=yt.replace(/[,]+$/,""),ft=yt.split(",")}else Array.isArray(ht.scope)?ft=ht.scope:ft=[""];let pt=-1;if(typeof ht.settings.fontStyle=="string"){pt=0;let yt=ht.settings.fontStyle.split(" ");for(let xt=0,bt=yt.length;xt<bt;xt++)switch(yt[xt]){case"italic":pt=pt|1;break;case"bold":pt=pt|2;break;case"underline":pt=pt|4;break;case"strikethrough":pt=pt|8;break}}let mt=null;typeof ht.settings.foreground=="string"&&isValidHexColor(ht.settings.foreground)&&(mt=ht.settings.foreground);let gt=null;typeof ht.settings.background=="string"&&isValidHexColor(ht.settings.background)&&(gt=ht.settings.background);for(let yt=0,xt=ft.length;yt<xt;yt++){let _t=ft[yt].trim().split(" "),Ct=_t[_t.length-1],kt=null;_t.length>1&&(kt=_t.slice(0,_t.length-1),kt.reverse()),it[lt++]=new ParsedThemeRule(Ct,kt,ct,pt,mt,gt)}}return it}var ParsedThemeRule=class{constructor(Ye,rt,it,lt,ct,ut){this.scope=Ye,this.parentScopes=rt,this.index=it,this.fontStyle=lt,this.foreground=ct,this.background=ut}},FontStyle=(Ye=>(Ye[Ye.NotSet=-1]="NotSet",Ye[Ye.None=0]="None",Ye[Ye.Italic=1]="Italic",Ye[Ye.Bold=2]="Bold",Ye[Ye.Underline=4]="Underline",Ye[Ye.Strikethrough=8]="Strikethrough",Ye))(FontStyle||{});function resolveParsedThemeRules(Ye,rt){Ye.sort((pt,mt)=>{let gt=strcmp(pt.scope,mt.scope);return gt!==0||(gt=strArrCmp(pt.parentScopes,mt.parentScopes),gt!==0)?gt:pt.index-mt.index});let it=0,lt="#000000",ct="#ffffff";for(;Ye.length>=1&&Ye[0].scope==="";){let pt=Ye.shift();pt.fontStyle!==-1&&(it=pt.fontStyle),pt.foreground!==null&&(lt=pt.foreground),pt.background!==null&&(ct=pt.background)}let ut=new ColorMap(rt),ht=new StyleAttributes(it,ut.getId(lt),ut.getId(ct)),ft=new ThemeTrieElement(new ThemeTrieElementRule(0,null,-1,0,0),[]);for(let pt=0,mt=Ye.length;pt<mt;pt++){let gt=Ye[pt];ft.insert(0,gt.scope,gt.parentScopes,gt.fontStyle,ut.getId(gt.foreground),ut.getId(gt.background))}return new Theme$1(ut,ht,ft)}var ColorMap=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(Ye){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(Ye)){this._isFrozen=!0;for(let rt=0,it=Ye.length;rt<it;rt++)this._color2id[Ye[rt]]=rt,this._id2color[rt]=Ye[rt]}else this._isFrozen=!1}getId(Ye){if(Ye===null)return 0;Ye=Ye.toUpperCase();let rt=this._color2id[Ye];if(rt)return rt;if(this._isFrozen)throw new Error(`Missing color in color map - ${Ye}`);return rt=++this._lastColorId,this._color2id[Ye]=rt,this._id2color[rt]=Ye,rt}getColorMap(){return this._id2color.slice(0)}},emptyParentScopes=Object.freeze([]),ThemeTrieElementRule=class om{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(rt,it,lt,ct,ut){this.scopeDepth=rt,this.parentScopes=it||emptyParentScopes,this.fontStyle=lt,this.foreground=ct,this.background=ut}clone(){return new om(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(rt){let it=[];for(let lt=0,ct=rt.length;lt<ct;lt++)it[lt]=rt[lt].clone();return it}acceptOverwrite(rt,it,lt,ct){this.scopeDepth>rt?console.log("how did this happen?"):this.scopeDepth=rt,it!==-1&&(this.fontStyle=it),lt!==0&&(this.foreground=lt),ct!==0&&(this.background=ct)}},ThemeTrieElement=class od{constructor(rt,it=[],lt={}){this._mainRule=rt,this._children=lt,this._rulesWithParentScopes=it}_rulesWithParentScopes;static _cmpBySpecificity(rt,it){if(rt.scopeDepth!==it.scopeDepth)return it.scopeDepth-rt.scopeDepth;let lt=0,ct=0;for(;rt.parentScopes[lt]===">"&&lt++,it.parentScopes[ct]===">"&&ct++,!(lt>=rt.parentScopes.length||ct>=it.parentScopes.length);){const ut=it.parentScopes[ct].length-rt.parentScopes[lt].length;if(ut!==0)return ut;lt++,ct++}return it.parentScopes.length-rt.parentScopes.length}match(rt){if(rt!==""){let lt=rt.indexOf("."),ct,ut;if(lt===-1?(ct=rt,ut=""):(ct=rt.substring(0,lt),ut=rt.substring(lt+1)),this._children.hasOwnProperty(ct))return this._children[ct].match(ut)}const it=this._rulesWithParentScopes.concat(this._mainRule);return it.sort(od._cmpBySpecificity),it}insert(rt,it,lt,ct,ut,ht){if(it===""){this._doInsertHere(rt,lt,ct,ut,ht);return}let ft=it.indexOf("."),pt,mt;ft===-1?(pt=it,mt=""):(pt=it.substring(0,ft),mt=it.substring(ft+1));let gt;this._children.hasOwnProperty(pt)?gt=this._children[pt]:(gt=new od(this._mainRule.clone(),ThemeTrieElementRule.cloneArr(this._rulesWithParentScopes)),this._children[pt]=gt),gt.insert(rt+1,mt,lt,ct,ut,ht)}_doInsertHere(rt,it,lt,ct,ut){if(it===null){this._mainRule.acceptOverwrite(rt,lt,ct,ut);return}for(let ht=0,ft=this._rulesWithParentScopes.length;ht<ft;ht++){let pt=this._rulesWithParentScopes[ht];if(strArrCmp(pt.parentScopes,it)===0){pt.acceptOverwrite(rt,lt,ct,ut);return}}lt===-1&&(lt=this._mainRule.fontStyle),ct===0&&(ct=this._mainRule.foreground),ut===0&&(ut=this._mainRule.background),this._rulesWithParentScopes.push(new ThemeTrieElementRule(rt,it,lt,ct,ut))}},EncodedTokenMetadata=class Pi{static toBinaryStr(rt){return rt.toString(2).padStart(32,"0")}static print(rt){const it=Pi.getLanguageId(rt),lt=Pi.getTokenType(rt),ct=Pi.getFontStyle(rt),ut=Pi.getForeground(rt),ht=Pi.getBackground(rt);console.log({languageId:it,tokenType:lt,fontStyle:ct,foreground:ut,background:ht})}static getLanguageId(rt){return(rt&255)>>>0}static getTokenType(rt){return(rt&768)>>>8}static containsBalancedBrackets(rt){return(rt&1024)!==0}static getFontStyle(rt){return(rt&30720)>>>11}static getForeground(rt){return(rt&16744448)>>>15}static getBackground(rt){return(rt&4278190080)>>>24}static set(rt,it,lt,ct,ut,ht,ft){let pt=Pi.getLanguageId(rt),mt=Pi.getTokenType(rt),gt=Pi.containsBalancedBrackets(rt)?1:0,yt=Pi.getFontStyle(rt),xt=Pi.getForeground(rt),bt=Pi.getBackground(rt);return it!==0&&(pt=it),lt!==8&&(mt=lt),ct!==null&&(gt=ct?1:0),ut!==-1&&(yt=ut),ht!==0&&(xt=ht),ft!==0&&(bt=ft),(pt<<0|mt<<8|gt<<10|yt<<11|xt<<15|bt<<24)>>>0}};function toOptionalTokenType(Ye){return Ye}function fromOptionalTokenType(Ye){return Ye}function createMatchers(Ye,rt){const it=[],lt=newTokenizer(Ye);let ct=lt.next();for(;ct!==null;){let pt=0;if(ct.length===2&&ct.charAt(1)===":"){switch(ct.charAt(0)){case"R":pt=1;break;case"L":pt=-1;break;default:console.log(`Unknown priority ${ct} in scope selector`)}ct=lt.next()}let mt=ht();if(it.push({matcher:mt,priority:pt}),ct!==",")break;ct=lt.next()}return it;function ut(){if(ct==="-"){ct=lt.next();const pt=ut();return mt=>!!pt&&!pt(mt)}if(ct==="("){ct=lt.next();const pt=ft();return ct===")"&&(ct=lt.next()),pt}if(isIdentifier(ct)){const pt=[];do pt.push(ct),ct=lt.next();while(isIdentifier(ct));return mt=>rt(pt,mt)}return null}function ht(){const pt=[];let mt=ut();for(;mt;)pt.push(mt),mt=ut();return gt=>pt.every(yt=>yt(gt))}function ft(){const pt=[];let mt=ht();for(;mt&&(pt.push(mt),ct==="|"||ct===",");){do ct=lt.next();while(ct==="|"||ct===",");mt=ht()}return gt=>pt.some(yt=>yt(gt))}}function isIdentifier(Ye){return!!Ye&&!!Ye.match(/[\w\.:]+/)}function newTokenizer(Ye){let rt=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,it=rt.exec(Ye);return{next:()=>{if(!it)return null;const lt=it[0];return it=rt.exec(Ye),lt}}}function disposeOnigString(Ye){typeof Ye.dispose=="function"&&Ye.dispose()}var TopLevelRuleReference=class{constructor(Ye){this.scopeName=Ye}toKey(){return this.scopeName}},TopLevelRepositoryRuleReference=class{constructor(Ye,rt){this.scopeName=Ye,this.ruleName=rt}toKey(){return`${this.scopeName}#${this.ruleName}`}},ExternalReferenceCollector=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(Ye){const rt=Ye.toKey();this._seenReferenceKeys.has(rt)||(this._seenReferenceKeys.add(rt),this._references.push(Ye))}},ScopeDependencyProcessor=class{constructor(Ye,rt){this.repo=Ye,this.initialScopeName=rt,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new TopLevelRuleReference(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const Ye=this.Q;this.Q=[];const rt=new ExternalReferenceCollector;for(const it of Ye)collectReferencesOfReference(it,this.initialScopeName,this.repo,rt);for(const it of rt.references)if(it instanceof TopLevelRuleReference){if(this.seenFullScopeRequests.has(it.scopeName))continue;this.seenFullScopeRequests.add(it.scopeName),this.Q.push(it)}else{if(this.seenFullScopeRequests.has(it.scopeName)||this.seenPartialScopeRequests.has(it.toKey()))continue;this.seenPartialScopeRequests.add(it.toKey()),this.Q.push(it)}}};function collectReferencesOfReference(Ye,rt,it,lt){const ct=it.lookup(Ye.scopeName);if(!ct){if(Ye.scopeName===rt)throw new Error(`No grammar provided for <${rt}>`);return}const ut=it.lookup(rt);Ye instanceof TopLevelRuleReference?collectExternalReferencesInTopLevelRule({baseGrammar:ut,selfGrammar:ct},lt):collectExternalReferencesInTopLevelRepositoryRule(Ye.ruleName,{baseGrammar:ut,selfGrammar:ct,repository:ct.repository},lt);const ht=it.injections(Ye.scopeName);if(ht)for(const ft of ht)lt.add(new TopLevelRuleReference(ft))}function collectExternalReferencesInTopLevelRepositoryRule(Ye,rt,it){if(rt.repository&&rt.repository[Ye]){const lt=rt.repository[Ye];collectExternalReferencesInRules([lt],rt,it)}}function collectExternalReferencesInTopLevelRule(Ye,rt){Ye.selfGrammar.patterns&&Array.isArray(Ye.selfGrammar.patterns)&&collectExternalReferencesInRules(Ye.selfGrammar.patterns,{...Ye,repository:Ye.selfGrammar.repository},rt),Ye.selfGrammar.injections&&collectExternalReferencesInRules(Object.values(Ye.selfGrammar.injections),{...Ye,repository:Ye.selfGrammar.repository},rt)}function collectExternalReferencesInRules(Ye,rt,it){for(const lt of Ye){if(it.visitedRule.has(lt))continue;it.visitedRule.add(lt);const ct=lt.repository?mergeObjects({},rt.repository,lt.repository):rt.repository;Array.isArray(lt.patterns)&&collectExternalReferencesInRules(lt.patterns,{...rt,repository:ct},it);const ut=lt.include;if(!ut)continue;const ht=parseInclude(ut);switch(ht.kind){case 0:collectExternalReferencesInTopLevelRule({...rt,selfGrammar:rt.baseGrammar},it);break;case 1:collectExternalReferencesInTopLevelRule(rt,it);break;case 2:collectExternalReferencesInTopLevelRepositoryRule(ht.ruleName,{...rt,repository:ct},it);break;case 3:case 4:const ft=ht.scopeName===rt.selfGrammar.scopeName?rt.selfGrammar:ht.scopeName===rt.baseGrammar.scopeName?rt.baseGrammar:void 0;if(ft){const pt={baseGrammar:rt.baseGrammar,selfGrammar:ft,repository:ct};ht.kind===4?collectExternalReferencesInTopLevelRepositoryRule(ht.ruleName,pt,it):collectExternalReferencesInTopLevelRule(pt,it)}else ht.kind===4?it.add(new TopLevelRepositoryRuleReference(ht.scopeName,ht.ruleName)):it.add(new TopLevelRuleReference(ht.scopeName));break}}}var BaseReference=class{kind=0},SelfReference=class{kind=1},RelativeReference=class{constructor(Ye){this.ruleName=Ye}kind=2},TopLevelReference=class{constructor(Ye){this.scopeName=Ye}kind=3},TopLevelRepositoryReference=class{constructor(Ye,rt){this.scopeName=Ye,this.ruleName=rt}kind=4};function parseInclude(Ye){if(Ye==="$base")return new BaseReference;if(Ye==="$self")return new SelfReference;const rt=Ye.indexOf("#");if(rt===-1)return new TopLevelReference(Ye);if(rt===0)return new RelativeReference(Ye.substring(1));{const it=Ye.substring(0,rt),lt=Ye.substring(rt+1);return new TopLevelRepositoryReference(it,lt)}}var HAS_BACK_REFERENCES=/\\(\d+)/,BACK_REFERENCING_END=/\\(\d+)/g,endRuleId=-1,whileRuleId=-2;function ruleIdFromNumber(Ye){return Ye}function ruleIdToNumber(Ye){return Ye}var Rule=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(Ye,rt,it,lt){this.$location=Ye,this.id=rt,this._name=it||null,this._nameIsCapturing=RegexSource.hasCaptures(this._name),this._contentName=lt||null,this._contentNameIsCapturing=RegexSource.hasCaptures(this._contentName)}get debugName(){const Ye=this.$location?`${basename$1(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${Ye}`}getName(Ye,rt){return!this._nameIsCapturing||this._name===null||Ye===null||rt===null?this._name:RegexSource.replaceCaptures(this._name,Ye,rt)}getContentName(Ye,rt){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:RegexSource.replaceCaptures(this._contentName,Ye,rt)}},CaptureRule=class extends Rule{retokenizeCapturedWithRuleId;constructor(Ye,rt,it,lt,ct){super(Ye,rt,it,lt),this.retokenizeCapturedWithRuleId=ct}dispose(){}collectPatterns(Ye,rt){throw new Error("Not supported!")}compile(Ye,rt){throw new Error("Not supported!")}compileAG(Ye,rt,it,lt){throw new Error("Not supported!")}},MatchRule=class extends Rule{_match;captures;_cachedCompiledPatterns;constructor(Ye,rt,it,lt,ct){super(Ye,rt,it,null),this._match=new RegExpSource(lt,this.id),this.captures=ct,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(Ye,rt){rt.push(this._match)}compile(Ye,rt){return this._getCachedCompiledPatterns(Ye).compile(Ye)}compileAG(Ye,rt,it,lt){return this._getCachedCompiledPatterns(Ye).compileAG(Ye,it,lt)}_getCachedCompiledPatterns(Ye){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new RegExpSourceList,this.collectPatterns(Ye,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},IncludeOnlyRule=class extends Rule{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(Ye,rt,it,lt,ct){super(Ye,rt,it,lt),this.patterns=ct.patterns,this.hasMissingPatterns=ct.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(Ye,rt){for(const it of this.patterns)Ye.getRule(it).collectPatterns(Ye,rt)}compile(Ye,rt){return this._getCachedCompiledPatterns(Ye).compile(Ye)}compileAG(Ye,rt,it,lt){return this._getCachedCompiledPatterns(Ye).compileAG(Ye,it,lt)}_getCachedCompiledPatterns(Ye){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new RegExpSourceList,this.collectPatterns(Ye,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},BeginEndRule=class extends Rule{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(Ye,rt,it,lt,ct,ut,ht,ft,pt,mt){super(Ye,rt,it,lt),this._begin=new RegExpSource(ct,this.id),this.beginCaptures=ut,this._end=new RegExpSource(ht||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=ft,this.applyEndPatternLast=pt||!1,this.patterns=mt.patterns,this.hasMissingPatterns=mt.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(Ye,rt){return this._end.resolveBackReferences(Ye,rt)}collectPatterns(Ye,rt){rt.push(this._begin)}compile(Ye,rt){return this._getCachedCompiledPatterns(Ye,rt).compile(Ye)}compileAG(Ye,rt,it,lt){return this._getCachedCompiledPatterns(Ye,rt).compileAG(Ye,it,lt)}_getCachedCompiledPatterns(Ye,rt){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new RegExpSourceList;for(const it of this.patterns)Ye.getRule(it).collectPatterns(Ye,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,rt):this._cachedCompiledPatterns.setSource(0,rt)),this._cachedCompiledPatterns}},BeginWhileRule=class extends Rule{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(Ye,rt,it,lt,ct,ut,ht,ft,pt){super(Ye,rt,it,lt),this._begin=new RegExpSource(ct,this.id),this.beginCaptures=ut,this.whileCaptures=ft,this._while=new RegExpSource(ht,whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=pt.patterns,this.hasMissingPatterns=pt.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(Ye,rt){return this._while.resolveBackReferences(Ye,rt)}collectPatterns(Ye,rt){rt.push(this._begin)}compile(Ye,rt){return this._getCachedCompiledPatterns(Ye).compile(Ye)}compileAG(Ye,rt,it,lt){return this._getCachedCompiledPatterns(Ye).compileAG(Ye,it,lt)}_getCachedCompiledPatterns(Ye){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new RegExpSourceList;for(const rt of this.patterns)Ye.getRule(rt).collectPatterns(Ye,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(Ye,rt){return this._getCachedCompiledWhilePatterns(Ye,rt).compile(Ye)}compileWhileAG(Ye,rt,it,lt){return this._getCachedCompiledWhilePatterns(Ye,rt).compileAG(Ye,it,lt)}_getCachedCompiledWhilePatterns(Ye,rt){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new RegExpSourceList,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,rt||""),this._cachedCompiledWhilePatterns}},RuleFactory=class Kn{static createCaptureRule(rt,it,lt,ct,ut){return rt.registerRule(ht=>new CaptureRule(it,ht,lt,ct,ut))}static getCompiledRuleId(rt,it,lt){return rt.id||it.registerRule(ct=>{if(rt.id=ct,rt.match)return new MatchRule(rt.$vscodeTextmateLocation,rt.id,rt.name,rt.match,Kn._compileCaptures(rt.captures,it,lt));if(typeof rt.begin>"u"){rt.repository&&(lt=mergeObjects({},lt,rt.repository));let ut=rt.patterns;return typeof ut>"u"&&rt.include&&(ut=[{include:rt.include}]),new IncludeOnlyRule(rt.$vscodeTextmateLocation,rt.id,rt.name,rt.contentName,Kn._compilePatterns(ut,it,lt))}return rt.while?new BeginWhileRule(rt.$vscodeTextmateLocation,rt.id,rt.name,rt.contentName,rt.begin,Kn._compileCaptures(rt.beginCaptures||rt.captures,it,lt),rt.while,Kn._compileCaptures(rt.whileCaptures||rt.captures,it,lt),Kn._compilePatterns(rt.patterns,it,lt)):new BeginEndRule(rt.$vscodeTextmateLocation,rt.id,rt.name,rt.contentName,rt.begin,Kn._compileCaptures(rt.beginCaptures||rt.captures,it,lt),rt.end,Kn._compileCaptures(rt.endCaptures||rt.captures,it,lt),rt.applyEndPatternLast,Kn._compilePatterns(rt.patterns,it,lt))}),rt.id}static _compileCaptures(rt,it,lt){let ct=[];if(rt){let ut=0;for(const ht in rt){if(ht==="$vscodeTextmateLocation")continue;const ft=parseInt(ht,10);ft>ut&&(ut=ft)}for(let ht=0;ht<=ut;ht++)ct[ht]=null;for(const ht in rt){if(ht==="$vscodeTextmateLocation")continue;const ft=parseInt(ht,10);let pt=0;rt[ht].patterns&&(pt=Kn.getCompiledRuleId(rt[ht],it,lt)),ct[ft]=Kn.createCaptureRule(it,rt[ht].$vscodeTextmateLocation,rt[ht].name,rt[ht].contentName,pt)}}return ct}static _compilePatterns(rt,it,lt){let ct=[];if(rt)for(let ut=0,ht=rt.length;ut<ht;ut++){const ft=rt[ut];let pt=-1;if(ft.include){const mt=parseInclude(ft.include);switch(mt.kind){case 0:case 1:pt=Kn.getCompiledRuleId(lt[ft.include],it,lt);break;case 2:let gt=lt[mt.ruleName];gt&&(pt=Kn.getCompiledRuleId(gt,it,lt));break;case 3:case 4:const yt=mt.scopeName,xt=mt.kind===4?mt.ruleName:null,bt=it.getExternalGrammar(yt,lt);if(bt)if(xt){let _t=bt.repository[xt];_t&&(pt=Kn.getCompiledRuleId(_t,it,bt.repository))}else pt=Kn.getCompiledRuleId(bt.repository.$self,it,bt.repository);break}}else pt=Kn.getCompiledRuleId(ft,it,lt);if(pt!==-1){const mt=it.getRule(pt);let gt=!1;if((mt instanceof IncludeOnlyRule||mt instanceof BeginEndRule||mt instanceof BeginWhileRule)&&mt.hasMissingPatterns&&mt.patterns.length===0&&(gt=!0),gt)continue;ct.push(pt)}}return{patterns:ct,hasMissingPatterns:(rt?rt.length:0)!==ct.length}}},RegExpSource=class lm{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(rt,it){if(rt&&typeof rt=="string"){const lt=rt.length;let ct=0,ut=[],ht=!1;for(let ft=0;ft<lt;ft++)if(rt.charAt(ft)==="\\"&&ft+1<lt){const mt=rt.charAt(ft+1);mt==="z"?(ut.push(rt.substring(ct,ft)),ut.push("$(?!\\n)(?<!\\n)"),ct=ft+2):(mt==="A"||mt==="G")&&(ht=!0),ft++}this.hasAnchor=ht,ct===0?this.source=rt:(ut.push(rt.substring(ct,lt)),this.source=ut.join(""))}else this.hasAnchor=!1,this.source=rt;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=it,typeof this.source=="string"?this.hasBackReferences=HAS_BACK_REFERENCES.test(this.source):this.hasBackReferences=!1}clone(){return new lm(this.source,this.ruleId)}setSource(rt){this.source!==rt&&(this.source=rt,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(rt,it){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let lt=it.map(ct=>rt.substring(ct.start,ct.end));return BACK_REFERENCING_END.lastIndex=0,this.source.replace(BACK_REFERENCING_END,(ct,ut)=>escapeRegExpCharacters(lt[parseInt(ut,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let rt=[],it=[],lt=[],ct=[],ut,ht,ft,pt;for(ut=0,ht=this.source.length;ut<ht;ut++)ft=this.source.charAt(ut),rt[ut]=ft,it[ut]=ft,lt[ut]=ft,ct[ut]=ft,ft==="\\"&&ut+1<ht&&(pt=this.source.charAt(ut+1),pt==="A"?(rt[ut+1]="",it[ut+1]="",lt[ut+1]="A",ct[ut+1]="A"):pt==="G"?(rt[ut+1]="",it[ut+1]="G",lt[ut+1]="",ct[ut+1]="G"):(rt[ut+1]=pt,it[ut+1]=pt,lt[ut+1]=pt,ct[ut+1]=pt),ut++);return{A0_G0:rt.join(""),A0_G1:it.join(""),A1_G0:lt.join(""),A1_G1:ct.join("")}}resolveAnchors(rt,it){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:rt?it?this._anchorCache.A1_G1:this._anchorCache.A1_G0:it?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},RegExpSourceList=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(Ye){this._items.push(Ye),this._hasAnchors=this._hasAnchors||Ye.hasAnchor}unshift(Ye){this._items.unshift(Ye),this._hasAnchors=this._hasAnchors||Ye.hasAnchor}length(){return this._items.length}setSource(Ye,rt){this._items[Ye].source!==rt&&(this._disposeCaches(),this._items[Ye].setSource(rt))}compile(Ye){if(!this._cached){let rt=this._items.map(it=>it.source);this._cached=new CompiledRule(Ye,rt,this._items.map(it=>it.ruleId))}return this._cached}compileAG(Ye,rt,it){return this._hasAnchors?rt?it?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(Ye,rt,it)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(Ye,rt,it)),this._anchorCache.A1_G0):it?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(Ye,rt,it)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(Ye,rt,it)),this._anchorCache.A0_G0):this.compile(Ye)}_resolveAnchors(Ye,rt,it){let lt=this._items.map(ct=>ct.resolveAnchors(rt,it));return new CompiledRule(Ye,lt,this._items.map(ct=>ct.ruleId))}},CompiledRule=class{constructor(Ye,rt,it){this.regExps=rt,this.rules=it,this.scanner=Ye.createOnigScanner(rt)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const Ye=[];for(let rt=0,it=this.rules.length;rt<it;rt++)Ye.push("   - "+this.rules[rt]+": "+this.regExps[rt]);return Ye.join(`
`)}findNextMatchSync(Ye,rt,it){const lt=this.scanner.findNextMatchSync(Ye,rt,it);return lt?{ruleId:this.rules[lt.index],captureIndices:lt.captureIndices}:null}},BasicScopeAttributes=class{constructor(Ye,rt){this.languageId=Ye,this.tokenType=rt}},BasicScopeAttributesProvider=class ld{_defaultAttributes;_embeddedLanguagesMatcher;constructor(rt,it){this._defaultAttributes=new BasicScopeAttributes(rt,8),this._embeddedLanguagesMatcher=new ScopeMatcher(Object.entries(it||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(rt){return rt===null?ld._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(rt)}static _NULL_SCOPE_METADATA=new BasicScopeAttributes(0,0);_getBasicScopeAttributes=new CachedFn(rt=>{const it=this._scopeToLanguage(rt),lt=this._toStandardTokenType(rt);return new BasicScopeAttributes(it,lt)});_scopeToLanguage(rt){return this._embeddedLanguagesMatcher.match(rt)||0}_toStandardTokenType(rt){const it=rt.match(ld.STANDARD_TOKEN_TYPE_REGEXP);if(!it)return 8;switch(it[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},ScopeMatcher=class{values;scopesRegExp;constructor(Ye){if(Ye.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(Ye);const rt=Ye.map(([it,lt])=>escapeRegExpCharacters(it));rt.sort(),rt.reverse(),this.scopesRegExp=new RegExp(`^((${rt.join(")|(")}))($|\\.)`,"")}}match(Ye){if(!this.scopesRegExp)return;const rt=Ye.match(this.scopesRegExp);if(rt)return this.values.get(rt[1])}},TokenizeStringResult=class{constructor(Ye,rt){this.stack=Ye,this.stoppedEarly=rt}};function _tokenizeString(Ye,rt,it,lt,ct,ut,ht,ft){const pt=rt.content.length;let mt=!1,gt=-1;if(ht){const bt=_checkWhileConditions(Ye,rt,it,lt,ct,ut);ct=bt.stack,lt=bt.linePos,it=bt.isFirstLine,gt=bt.anchorPosition}const yt=Date.now();for(;!mt;){if(ft!==0&&Date.now()-yt>ft)return new TokenizeStringResult(ct,!0);xt()}return new TokenizeStringResult(ct,!1);function xt(){const bt=matchRuleOrInjections(Ye,rt,it,lt,ct,gt);if(!bt){ut.produce(ct,pt),mt=!0;return}const _t=bt.captureIndices,Ct=bt.matchedRuleId,kt=_t&&_t.length>0?_t[0].end>lt:!1;if(Ct===endRuleId){const St=ct.getRule(Ye);ut.produce(ct,_t[0].start),ct=ct.withContentNameScopesList(ct.nameScopesList),handleCaptures(Ye,rt,it,ct,ut,St.endCaptures,_t),ut.produce(ct,_t[0].end);const Rt=ct;if(ct=ct.parent,gt=Rt.getAnchorPos(),!kt&&Rt.getEnterPos()===lt){ct=Rt,ut.produce(ct,pt),mt=!0;return}}else{const St=Ye.getRule(Ct);ut.produce(ct,_t[0].start);const Rt=ct,Tt=St.getName(rt.content,_t),Mt=ct.contentNameScopesList.pushAttributed(Tt,Ye);if(ct=ct.push(Ct,lt,gt,_t[0].end===pt,null,Mt,Mt),St instanceof BeginEndRule){const Pt=St;handleCaptures(Ye,rt,it,ct,ut,Pt.beginCaptures,_t),ut.produce(ct,_t[0].end),gt=_t[0].end;const It=Pt.getContentName(rt.content,_t),Lt=Mt.pushAttributed(It,Ye);if(ct=ct.withContentNameScopesList(Lt),Pt.endHasBackReferences&&(ct=ct.withEndRule(Pt.getEndWithResolvedBackReferences(rt.content,_t))),!kt&&Rt.hasSameRuleAs(ct)){ct=ct.pop(),ut.produce(ct,pt),mt=!0;return}}else if(St instanceof BeginWhileRule){const Pt=St;handleCaptures(Ye,rt,it,ct,ut,Pt.beginCaptures,_t),ut.produce(ct,_t[0].end),gt=_t[0].end;const It=Pt.getContentName(rt.content,_t),Lt=Mt.pushAttributed(It,Ye);if(ct=ct.withContentNameScopesList(Lt),Pt.whileHasBackReferences&&(ct=ct.withEndRule(Pt.getWhileWithResolvedBackReferences(rt.content,_t))),!kt&&Rt.hasSameRuleAs(ct)){ct=ct.pop(),ut.produce(ct,pt),mt=!0;return}}else if(handleCaptures(Ye,rt,it,ct,ut,St.captures,_t),ut.produce(ct,_t[0].end),ct=ct.pop(),!kt){ct=ct.safePop(),ut.produce(ct,pt),mt=!0;return}}_t[0].end>lt&&(lt=_t[0].end,it=!1)}}function _checkWhileConditions(Ye,rt,it,lt,ct,ut){let ht=ct.beginRuleCapturedEOL?0:-1;const ft=[];for(let pt=ct;pt;pt=pt.pop()){const mt=pt.getRule(Ye);mt instanceof BeginWhileRule&&ft.push({rule:mt,stack:pt})}for(let pt=ft.pop();pt;pt=ft.pop()){const{ruleScanner:mt,findOptions:gt}=prepareRuleWhileSearch(pt.rule,Ye,pt.stack.endRule,it,lt===ht),yt=mt.findNextMatchSync(rt,lt,gt);if(yt){if(yt.ruleId!==whileRuleId){ct=pt.stack.pop();break}yt.captureIndices&&yt.captureIndices.length&&(ut.produce(pt.stack,yt.captureIndices[0].start),handleCaptures(Ye,rt,it,pt.stack,ut,pt.rule.whileCaptures,yt.captureIndices),ut.produce(pt.stack,yt.captureIndices[0].end),ht=yt.captureIndices[0].end,yt.captureIndices[0].end>lt&&(lt=yt.captureIndices[0].end,it=!1))}else{ct=pt.stack.pop();break}}return{stack:ct,linePos:lt,anchorPosition:ht,isFirstLine:it}}function matchRuleOrInjections(Ye,rt,it,lt,ct,ut){const ht=matchRule(Ye,rt,it,lt,ct,ut),ft=Ye.getInjections();if(ft.length===0)return ht;const pt=matchInjections(ft,Ye,rt,it,lt,ct,ut);if(!pt)return ht;if(!ht)return pt;const mt=ht.captureIndices[0].start,gt=pt.captureIndices[0].start;return gt<mt||pt.priorityMatch&&gt===mt?pt:ht}function matchRule(Ye,rt,it,lt,ct,ut){const ht=ct.getRule(Ye),{ruleScanner:ft,findOptions:pt}=prepareRuleSearch(ht,Ye,ct.endRule,it,lt===ut),mt=ft.findNextMatchSync(rt,lt,pt);return mt?{captureIndices:mt.captureIndices,matchedRuleId:mt.ruleId}:null}function matchInjections(Ye,rt,it,lt,ct,ut,ht){let ft=Number.MAX_VALUE,pt=null,mt,gt=0;const yt=ut.contentNameScopesList.getScopeNames();for(let xt=0,bt=Ye.length;xt<bt;xt++){const _t=Ye[xt];if(!_t.matcher(yt))continue;const Ct=rt.getRule(_t.ruleId),{ruleScanner:kt,findOptions:St}=prepareRuleSearch(Ct,rt,null,lt,ct===ht),Rt=kt.findNextMatchSync(it,ct,St);if(!Rt)continue;const Tt=Rt.captureIndices[0].start;if(!(Tt>=ft)&&(ft=Tt,pt=Rt.captureIndices,mt=Rt.ruleId,gt=_t.priority,ft===ct))break}return pt?{priorityMatch:gt===-1,captureIndices:pt,matchedRuleId:mt}:null}function prepareRuleSearch(Ye,rt,it,lt,ct){return{ruleScanner:Ye.compileAG(rt,it,lt,ct),findOptions:0}}function prepareRuleWhileSearch(Ye,rt,it,lt,ct){return{ruleScanner:Ye.compileWhileAG(rt,it,lt,ct),findOptions:0}}function handleCaptures(Ye,rt,it,lt,ct,ut,ht){if(ut.length===0)return;const ft=rt.content,pt=Math.min(ut.length,ht.length),mt=[],gt=ht[0].end;for(let yt=0;yt<pt;yt++){const xt=ut[yt];if(xt===null)continue;const bt=ht[yt];if(bt.length===0)continue;if(bt.start>gt)break;for(;mt.length>0&&mt[mt.length-1].endPos<=bt.start;)ct.produceFromScopes(mt[mt.length-1].scopes,mt[mt.length-1].endPos),mt.pop();if(mt.length>0?ct.produceFromScopes(mt[mt.length-1].scopes,bt.start):ct.produce(lt,bt.start),xt.retokenizeCapturedWithRuleId){const Ct=xt.getName(ft,ht),kt=lt.contentNameScopesList.pushAttributed(Ct,Ye),St=xt.getContentName(ft,ht),Rt=kt.pushAttributed(St,Ye),Tt=lt.push(xt.retokenizeCapturedWithRuleId,bt.start,-1,!1,null,kt,Rt),Mt=Ye.createOnigString(ft.substring(0,bt.end));_tokenizeString(Ye,Mt,it&&bt.start===0,bt.start,Tt,ct,!1,0),disposeOnigString(Mt);continue}const _t=xt.getName(ft,ht);if(_t!==null){const kt=(mt.length>0?mt[mt.length-1].scopes:lt.contentNameScopesList).pushAttributed(_t,Ye);mt.push(new LocalStackElement(kt,bt.end))}}for(;mt.length>0;)ct.produceFromScopes(mt[mt.length-1].scopes,mt[mt.length-1].endPos),mt.pop()}var LocalStackElement=class{scopes;endPos;constructor(Ye,rt){this.scopes=Ye,this.endPos=rt}};function createGrammar(Ye,rt,it,lt,ct,ut,ht,ft){return new Grammar(Ye,rt,it,lt,ct,ut,ht,ft)}function collectInjections(Ye,rt,it,lt,ct){const ut=createMatchers(rt,nameMatcher),ht=RuleFactory.getCompiledRuleId(it,lt,ct.repository);for(const ft of ut)Ye.push({debugSelector:rt,matcher:ft.matcher,ruleId:ht,grammar:ct,priority:ft.priority})}function nameMatcher(Ye,rt){if(rt.length<Ye.length)return!1;let it=0;return Ye.every(lt=>{for(let ct=it;ct<rt.length;ct++)if(scopesAreMatching(rt[ct],lt))return it=ct+1,!0;return!1})}function scopesAreMatching(Ye,rt){if(!Ye)return!1;if(Ye===rt)return!0;const it=rt.length;return Ye.length>it&&Ye.substr(0,it)===rt&&Ye[it]==="."}var Grammar=class{constructor(Ye,rt,it,lt,ct,ut,ht,ft){if(this._rootScopeName=Ye,this.balancedBracketSelectors=ut,this._onigLib=ft,this._basicScopeAttributesProvider=new BasicScopeAttributesProvider(it,lt),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=ht,this._grammar=initGrammar(rt,null),this._injections=null,this._tokenTypeMatchers=[],ct)for(const pt of Object.keys(ct)){const mt=createMatchers(pt,nameMatcher);for(const gt of mt)this._tokenTypeMatchers.push({matcher:gt.matcher,type:ct[pt]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const Ye of this._ruleId2desc)Ye&&Ye.dispose()}createOnigScanner(Ye){return this._onigLib.createOnigScanner(Ye)}createOnigString(Ye){return this._onigLib.createOnigString(Ye)}getMetadataForScope(Ye){return this._basicScopeAttributesProvider.getBasicScopeAttributes(Ye)}_collectInjections(){const Ye={lookup:ct=>ct===this._rootScopeName?this._grammar:this.getExternalGrammar(ct),injections:ct=>this._grammarRepository.injections(ct)},rt=[],it=this._rootScopeName,lt=Ye.lookup(it);if(lt){const ct=lt.injections;if(ct)for(let ht in ct)collectInjections(rt,ht,ct[ht],this,lt);const ut=this._grammarRepository.injections(it);ut&&ut.forEach(ht=>{const ft=this.getExternalGrammar(ht);if(ft){const pt=ft.injectionSelector;pt&&collectInjections(rt,pt,ft,this,ft)}})}return rt.sort((ct,ut)=>ct.priority-ut.priority),rt}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(Ye){const rt=++this._lastRuleId,it=Ye(rt);return this._ruleId2desc[rt]=it,it}getRule(Ye){return this._ruleId2desc[Ye]}getExternalGrammar(Ye,rt){if(this._includedGrammars[Ye])return this._includedGrammars[Ye];if(this._grammarRepository){const it=this._grammarRepository.lookup(Ye);if(it)return this._includedGrammars[Ye]=initGrammar(it,rt&&rt.$base),this._includedGrammars[Ye]}}tokenizeLine(Ye,rt,it=0){const lt=this._tokenize(Ye,rt,!1,it);return{tokens:lt.lineTokens.getResult(lt.ruleStack,lt.lineLength),ruleStack:lt.ruleStack,stoppedEarly:lt.stoppedEarly}}tokenizeLine2(Ye,rt,it=0){const lt=this._tokenize(Ye,rt,!0,it);return{tokens:lt.lineTokens.getBinaryResult(lt.ruleStack,lt.lineLength),ruleStack:lt.ruleStack,stoppedEarly:lt.stoppedEarly}}_tokenize(Ye,rt,it,lt){this._rootId===-1&&(this._rootId=RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let ct;if(!rt||rt===StateStackImpl.NULL){ct=!0;const mt=this._basicScopeAttributesProvider.getDefaultAttributes(),gt=this.themeProvider.getDefaults(),yt=EncodedTokenMetadata.set(0,mt.languageId,mt.tokenType,null,gt.fontStyle,gt.foregroundId,gt.backgroundId),xt=this.getRule(this._rootId).getName(null,null);let bt;xt?bt=AttributedScopeStack.createRootAndLookUpScopeName(xt,yt,this):bt=AttributedScopeStack.createRoot("unknown",yt),rt=new StateStackImpl(null,this._rootId,-1,-1,!1,null,bt,bt)}else ct=!1,rt.reset();Ye=Ye+`
`;const ut=this.createOnigString(Ye),ht=ut.content.length,ft=new LineTokens(it,Ye,this._tokenTypeMatchers,this.balancedBracketSelectors),pt=_tokenizeString(this,ut,ct,0,rt,ft,!0,lt);return disposeOnigString(ut),{lineLength:ht,lineTokens:ft,ruleStack:pt.stack,stoppedEarly:pt.stoppedEarly}}};function initGrammar(Ye,rt){return Ye=clone$2(Ye),Ye.repository=Ye.repository||{},Ye.repository.$self={$vscodeTextmateLocation:Ye.$vscodeTextmateLocation,patterns:Ye.patterns,name:Ye.scopeName},Ye.repository.$base=rt||Ye.repository.$self,Ye}var AttributedScopeStack=class Hi{constructor(rt,it,lt){this.parent=rt,this.scopePath=it,this.tokenAttributes=lt}static fromExtension(rt,it){let lt=rt,ct=rt?.scopePath??null;for(const ut of it)ct=ScopeStack.push(ct,ut.scopeNames),lt=new Hi(lt,ct,ut.encodedTokenAttributes);return lt}static createRoot(rt,it){return new Hi(null,new ScopeStack(null,rt),it)}static createRootAndLookUpScopeName(rt,it,lt){const ct=lt.getMetadataForScope(rt),ut=new ScopeStack(null,rt),ht=lt.themeProvider.themeMatch(ut),ft=Hi.mergeAttributes(it,ct,ht);return new Hi(null,ut,ft)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(rt){return Hi.equals(this,rt)}static equals(rt,it){do{if(rt===it||!rt&&!it)return!0;if(!rt||!it||rt.scopeName!==it.scopeName||rt.tokenAttributes!==it.tokenAttributes)return!1;rt=rt.parent,it=it.parent}while(!0)}static mergeAttributes(rt,it,lt){let ct=-1,ut=0,ht=0;return lt!==null&&(ct=lt.fontStyle,ut=lt.foregroundId,ht=lt.backgroundId),EncodedTokenMetadata.set(rt,it.languageId,it.tokenType,null,ct,ut,ht)}pushAttributed(rt,it){if(rt===null)return this;if(rt.indexOf(" ")===-1)return Hi._pushAttributed(this,rt,it);const lt=rt.split(/ /g);let ct=this;for(const ut of lt)ct=Hi._pushAttributed(ct,ut,it);return ct}static _pushAttributed(rt,it,lt){const ct=lt.getMetadataForScope(it),ut=rt.scopePath.push(it),ht=lt.themeProvider.themeMatch(ut),ft=Hi.mergeAttributes(rt.tokenAttributes,ct,ht);return new Hi(rt,ut,ft)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(rt){const it=[];let lt=this;for(;lt&&lt!==rt;)it.push({encodedTokenAttributes:lt.tokenAttributes,scopeNames:lt.scopePath.getExtensionIfDefined(lt.parent?.scopePath??null)}),lt=lt.parent;return lt===rt?it.reverse():void 0}},StateStackImpl=class aa{constructor(rt,it,lt,ct,ut,ht,ft,pt){this.parent=rt,this.ruleId=it,this.beginRuleCapturedEOL=ut,this.endRule=ht,this.nameScopesList=ft,this.contentNameScopesList=pt,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=lt,this._anchorPos=ct}_stackElementBrand=void 0;static NULL=new aa(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(rt){return rt===null?!1:aa._equals(this,rt)}static _equals(rt,it){return rt===it?!0:this._structuralEquals(rt,it)?AttributedScopeStack.equals(rt.contentNameScopesList,it.contentNameScopesList):!1}static _structuralEquals(rt,it){do{if(rt===it||!rt&&!it)return!0;if(!rt||!it||rt.depth!==it.depth||rt.ruleId!==it.ruleId||rt.endRule!==it.endRule)return!1;rt=rt.parent,it=it.parent}while(!0)}clone(){return this}static _reset(rt){for(;rt;)rt._enterPos=-1,rt._anchorPos=-1,rt=rt.parent}reset(){aa._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(rt,it,lt,ct,ut,ht,ft){return new aa(this,rt,it,lt,ct,ut,ht,ft)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(rt){return rt.getRule(this.ruleId)}toString(){const rt=[];return this._writeString(rt,0),"["+rt.join(",")+"]"}_writeString(rt,it){return this.parent&&(it=this.parent._writeString(rt,it)),rt[it++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,it}withContentNameScopesList(rt){return this.contentNameScopesList===rt?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,rt)}withEndRule(rt){return this.endRule===rt?this:new aa(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,rt,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(rt){let it=this;for(;it&&it._enterPos===rt._enterPos;){if(it.ruleId===rt.ruleId)return!0;it=it.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(rt,it){const lt=AttributedScopeStack.fromExtension(rt?.nameScopesList??null,it.nameScopesList);return new aa(rt,it.ruleId,it.enterPos??-1,it.anchorPos??-1,it.beginRuleCapturedEOL,it.endRule,lt,AttributedScopeStack.fromExtension(lt,it.contentNameScopesList))}},BalancedBracketSelectors=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(Ye,rt){this.balancedBracketScopes=Ye.flatMap(it=>it==="*"?(this.allowAny=!0,[]):createMatchers(it,nameMatcher).map(lt=>lt.matcher)),this.unbalancedBracketScopes=rt.flatMap(it=>createMatchers(it,nameMatcher).map(lt=>lt.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(Ye){for(const rt of this.unbalancedBracketScopes)if(rt(Ye))return!1;for(const rt of this.balancedBracketScopes)if(rt(Ye))return!0;return this.allowAny}},LineTokens=class{constructor(Ye,rt,it,lt){this.balancedBracketSelectors=lt,this._emitBinaryTokens=Ye,this._tokenTypeOverrides=it,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(Ye,rt){this.produceFromScopes(Ye.contentNameScopesList,rt)}produceFromScopes(Ye,rt){if(this._lastTokenEndIndex>=rt)return;if(this._emitBinaryTokens){let lt=Ye?.tokenAttributes??0,ct=!1;if(this.balancedBracketSelectors?.matchesAlways&&(ct=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const ut=Ye?.getScopeNames()??[];for(const ht of this._tokenTypeOverrides)ht.matcher(ut)&&(lt=EncodedTokenMetadata.set(lt,0,ht.type,null,-1,0,0));this.balancedBracketSelectors&&(ct=this.balancedBracketSelectors.match(ut))}if(ct&&(lt=EncodedTokenMetadata.set(lt,0,8,ct,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===lt){this._lastTokenEndIndex=rt;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(lt),this._lastTokenEndIndex=rt;return}const it=Ye?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:rt,scopes:it}),this._lastTokenEndIndex=rt}getResult(Ye,rt){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===rt-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(Ye,rt),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(Ye,rt){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===rt-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(Ye,rt),this._binaryTokens[this._binaryTokens.length-2]=0);const it=new Uint32Array(this._binaryTokens.length);for(let lt=0,ct=this._binaryTokens.length;lt<ct;lt++)it[lt]=this._binaryTokens[lt];return it}},SyncRegistry=class{constructor(Ye,rt){this._onigLib=rt,this._theme=Ye}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const Ye of this._grammars.values())Ye.dispose()}setTheme(Ye){this._theme=Ye}getColorMap(){return this._theme.getColorMap()}addGrammar(Ye,rt){this._rawGrammars.set(Ye.scopeName,Ye),rt&&this._injectionGrammars.set(Ye.scopeName,rt)}lookup(Ye){return this._rawGrammars.get(Ye)}injections(Ye){return this._injectionGrammars.get(Ye)}getDefaults(){return this._theme.getDefaults()}themeMatch(Ye){return this._theme.match(Ye)}grammarForScopeName(Ye,rt,it,lt,ct){if(!this._grammars.has(Ye)){let ut=this._rawGrammars.get(Ye);if(!ut)return null;this._grammars.set(Ye,createGrammar(Ye,ut,rt,it,lt,ct,this,this._onigLib))}return this._grammars.get(Ye)}},Registry$1=class{_options;_syncRegistry;_ensureGrammarCache;constructor(rt){this._options=rt,this._syncRegistry=new SyncRegistry(Theme$1.createFromRawTheme(rt.theme,rt.colorMap),rt.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(rt,it){this._syncRegistry.setTheme(Theme$1.createFromRawTheme(rt,it))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(rt,it,lt){return this.loadGrammarWithConfiguration(rt,it,{embeddedLanguages:lt})}loadGrammarWithConfiguration(rt,it,lt){return this._loadGrammar(rt,it,lt.embeddedLanguages,lt.tokenTypes,new BalancedBracketSelectors(lt.balancedBracketSelectors||[],lt.unbalancedBracketSelectors||[]))}loadGrammar(rt){return this._loadGrammar(rt,0,null,null,null)}_loadGrammar(rt,it,lt,ct,ut){const ht=new ScopeDependencyProcessor(this._syncRegistry,rt);for(;ht.Q.length>0;)ht.Q.map(ft=>this._loadSingleGrammar(ft.scopeName)),ht.processQueue();return this._grammarForScopeName(rt,it,lt,ct,ut)}_loadSingleGrammar(rt){this._ensureGrammarCache.has(rt)||(this._doLoadSingleGrammar(rt),this._ensureGrammarCache.set(rt,!0))}_doLoadSingleGrammar(rt){const it=this._options.loadGrammar(rt);if(it){const lt=typeof this._options.getInjections=="function"?this._options.getInjections(rt):void 0;this._syncRegistry.addGrammar(it,lt)}}addGrammar(rt,it=[],lt=0,ct=null){return this._syncRegistry.addGrammar(rt,it),this._grammarForScopeName(rt.scopeName,lt,ct)}_grammarForScopeName(rt,it=0,lt=null,ct=null,ut=null){return this._syncRegistry.grammarForScopeName(rt,it,lt,ct,ut)}},INITIAL=StateStackImpl.NULL;const htmlVoidElements=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let Schema$2=class{constructor(rt,it,lt){this.normal=it,this.property=rt,lt&&(this.space=lt)}};Schema$2.prototype.normal={};Schema$2.prototype.property={};Schema$2.prototype.space=void 0;function merge$4(Ye,rt){const it={},lt={};for(const ct of Ye)Object.assign(it,ct.property),Object.assign(lt,ct.normal);return new Schema$2(it,lt,rt)}function normalize$2(Ye){return Ye.toLowerCase()}class Info{constructor(rt,it){this.attribute=it,this.property=rt}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number$2=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number:number$2,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(rt,it,lt,ct){let ut=-1;if(super(rt,it),mark(this,"space",ct),typeof lt=="number")for(;++ut<checks.length;){const ht=checks[ut];mark(this,checks[ut],(lt&types[ht])===types[ht])}}}DefinedInfo.prototype.defined=!0;function mark(Ye,rt,it){it&&(Ye[rt]=it)}function create$2(Ye){const rt={},it={};for(const[lt,ct]of Object.entries(Ye.properties)){const ut=new DefinedInfo(lt,Ye.transform(Ye.attributes||{},lt),ct,Ye.space);Ye.mustUseProperty&&Ye.mustUseProperty.includes(lt)&&(ut.mustUseProperty=!0),rt[lt]=ut,it[normalize$2(lt)]=lt,it[normalize$2(ut.attribute)]=lt}return new Schema$2(rt,it,Ye.space)}const aria=create$2({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number$2,ariaColIndex:number$2,ariaColSpan:number$2,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number$2,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number$2,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number$2,ariaRowIndex:number$2,ariaRowSpan:number$2,ariaSelected:booleanish,ariaSetSize:number$2,ariaSort:null,ariaValueMax:number$2,ariaValueMin:number$2,ariaValueNow:number$2,ariaValueText:null,role:null},transform(Ye,rt){return rt==="role"?rt:"aria-"+rt.slice(4).toLowerCase()}});function caseSensitiveTransform(Ye,rt){return rt in Ye?Ye[rt]:rt}function caseInsensitiveTransform(Ye,rt){return caseSensitiveTransform(Ye,rt.toLowerCase())}const html$8=create$2({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number$2,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number$2|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number$2,hidden:overloadedBoolean,high:number$2,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number$2,manifest:null,max:null,maxLength:number$2,media:null,method:null,min:null,minLength:number$2,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number$2,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number$2,rowSpan:number$2,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number$2,sizes:null,slot:null,span:number$2,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number$2,step:null,style:null,tabIndex:number$2,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number$2,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number$2,borderColor:null,bottomMargin:number$2,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number$2,leftMargin:number$2,link:null,longDesc:null,lowSrc:null,marginHeight:number$2,marginWidth:number$2,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number$2,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number$2,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number$2,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number$2,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$3=create$2({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number$2,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number$2,amplitude:number$2,arabicForm:null,ascent:number$2,attributeName:null,attributeType:null,azimuth:number$2,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number$2,by:null,calcMode:null,capHeight:number$2,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number$2,diffuseConstant:number$2,direction:null,display:null,dur:null,divisor:number$2,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number$2,enableBackground:null,end:null,event:null,exponent:number$2,externalResourcesRequired:null,fill:null,fillOpacity:number$2,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number$2,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number$2,horizOriginX:number$2,horizOriginY:number$2,id:null,ideographic:number$2,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number$2,k:number$2,k1:number$2,k2:number$2,k3:number$2,k4:number$2,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number$2,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number$2,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number$2,overlineThickness:number$2,paintOrder:null,panose1:null,path:null,pathLength:number$2,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number$2,pointsAtY:number$2,pointsAtZ:number$2,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number$2,specularExponent:number$2,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number$2,strikethroughThickness:number$2,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number$2,strokeOpacity:number$2,strokeWidth:null,style:null,surfaceScale:number$2,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number$2,tableValues:null,target:null,targetX:number$2,targetY:number$2,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number$2,underlineThickness:number$2,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number$2,values:null,vAlphabetic:number$2,vMathematical:number$2,vectorEffect:null,vHanging:number$2,vIdeographic:number$2,version:null,vertAdvY:number$2,vertOriginX:number$2,vertOriginY:number$2,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number$2,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$2({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(Ye,rt){return"xlink:"+rt.slice(5).toLowerCase()}}),xmlns=create$2({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml$1=create$2({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(Ye,rt){return"xml:"+rt.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(Ye,rt){const it=normalize$2(rt);let lt=rt,ct=Info;if(it in Ye.normal)return Ye.property[Ye.normal[it]];if(it.length>4&&it.slice(0,4)==="data"&&valid.test(rt)){if(rt.charAt(4)==="-"){const ut=rt.slice(5).replace(dash,camelcase);lt="data"+ut.charAt(0).toUpperCase()+ut.slice(1)}else{const ut=rt.slice(4);if(!dash.test(ut)){let ht=ut.replace(cap$1,kebab);ht.charAt(0)!=="-"&&(ht="-"+ht),rt="data"+ht}}ct=DefinedInfo}return new ct(lt,rt)}function kebab(Ye){return"-"+Ye.toLowerCase()}function camelcase(Ye){return Ye.charAt(1).toUpperCase()}const html$7=merge$4([aria,html$8,xlink,xmlns,xml$1],"html"),svg$2=merge$4([aria,svg$3,xlink,xmlns,xml$1],"svg"),own$8={}.hasOwnProperty;function zwitch(Ye,rt){const it=rt||{};function lt(ct,...ut){let ht=lt.invalid;const ft=lt.handlers;if(ct&&own$8.call(ct,Ye)){const pt=String(ct[Ye]);ht=own$8.call(ft,pt)?ft[pt]:lt.unknown}if(ht)return ht.call(this,ct,...ut)}return lt.handlers=it.handlers||{},lt.invalid=it.invalid,lt.unknown=it.unknown,lt}const defaultSubsetRegex=/["&'<>`]/g,surrogatePairsRegex=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,controlCharactersRegex=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,regexEscapeRegex=/[|\\{}()[\]^$+*?.]/g,subsetToRegexCache=new WeakMap;function core$1(Ye,rt){if(Ye=Ye.replace(rt.subset?charactersToExpressionCached(rt.subset):defaultSubsetRegex,lt),rt.subset||rt.escapeOnly)return Ye;return Ye.replace(surrogatePairsRegex,it).replace(controlCharactersRegex,lt);function it(ct,ut,ht){return rt.format((ct.charCodeAt(0)-55296)*1024+ct.charCodeAt(1)-56320+65536,ht.charCodeAt(ut+2),rt)}function lt(ct,ut,ht){return rt.format(ct.charCodeAt(0),ht.charCodeAt(ut+1),rt)}}function charactersToExpressionCached(Ye){let rt=subsetToRegexCache.get(Ye);return rt||(rt=charactersToExpression(Ye),subsetToRegexCache.set(Ye,rt)),rt}function charactersToExpression(Ye){const rt=[];let it=-1;for(;++it<Ye.length;)rt.push(Ye[it].replace(regexEscapeRegex,"\\$&"));return new RegExp("(?:"+rt.join("|")+")","g")}const hexadecimalRegex=/[\dA-Fa-f]/;function toHexadecimal(Ye,rt,it){const lt="&#x"+Ye.toString(16).toUpperCase();return it&&rt&&!hexadecimalRegex.test(String.fromCharCode(rt))?lt:lt+";"}const decimalRegex=/\d/;function toDecimal(Ye,rt,it){const lt="&#"+String(Ye);return it&&rt&&!decimalRegex.test(String.fromCharCode(rt))?lt:lt+";"}const characterEntitiesLegacy=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],characterEntitiesHtml4={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},dangerous=["cent","copy","divide","gt","lt","not","para","times"],own$7={}.hasOwnProperty,characters$2={};let key;for(key in characterEntitiesHtml4)own$7.call(characterEntitiesHtml4,key)&&(characters$2[characterEntitiesHtml4[key]]=key);const notAlphanumericRegex=/[^\dA-Za-z]/;function toNamed(Ye,rt,it,lt){const ct=String.fromCharCode(Ye);if(own$7.call(characters$2,ct)){const ut=characters$2[ct],ht="&"+ut;return it&&characterEntitiesLegacy.includes(ut)&&!dangerous.includes(ut)&&(!lt||rt&&rt!==61&&notAlphanumericRegex.test(String.fromCharCode(rt)))?ht:ht+";"}return""}function formatSmart(Ye,rt,it){let lt=toHexadecimal(Ye,rt,it.omitOptionalSemicolons),ct;if((it.useNamedReferences||it.useShortestReferences)&&(ct=toNamed(Ye,rt,it.omitOptionalSemicolons,it.attribute)),(it.useShortestReferences||!ct)&&it.useShortestReferences){const ut=toDecimal(Ye,rt,it.omitOptionalSemicolons);ut.length<lt.length&&(lt=ut)}return ct&&(!it.useShortestReferences||ct.length<lt.length)?ct:lt}function formatBasic(Ye){return"&#x"+Ye.toString(16).toUpperCase()+";"}function stringifyEntities(Ye,rt){return core$1(Ye,Object.assign({format:formatSmart},rt))}function stringifyEntitiesLight(Ye,rt){return core$1(Ye,Object.assign({format:formatBasic},rt))}const htmlCommentRegex=/^>|^->|<!--|-->|--!>|<!-$/g,bogusCommentEntitySubset=[">"],commentEntitySubset=["<",">"];function comment$2(Ye,rt,it,lt){return lt.settings.bogusComments?"<?"+stringifyEntities(Ye.value,Object.assign({},lt.settings.characterReferences,{subset:bogusCommentEntitySubset}))+">":"<!--"+Ye.value.replace(htmlCommentRegex,ct)+"-->";function ct(ut){return stringifyEntities(ut,Object.assign({},lt.settings.characterReferences,{subset:commentEntitySubset}))}}function doctype(Ye,rt,it,lt){return"<!"+(lt.settings.upperDoctype?"DOCTYPE":"doctype")+(lt.settings.tightDoctype?"":" ")+"html>"}function ccount(Ye,rt){const it=String(Ye);if(typeof rt!="string")throw new TypeError("Expected character");let lt=0,ct=it.indexOf(rt);for(;ct!==-1;)lt++,ct=it.indexOf(rt,ct+rt.length);return lt}function stringify$4(Ye,rt){const it=rt||{};return(Ye[Ye.length-1]===""?[...Ye,""]:Ye).join((it.padRight?" ":"")+","+(it.padLeft===!1?"":" ")).trim()}function stringify$3(Ye){return Ye.join(" ").trim()}const re$2=/[ \t\n\f\r]/g;function whitespace$2(Ye){return typeof Ye=="object"?Ye.type==="text"?empty$3(Ye.value):!1:empty$3(Ye)}function empty$3(Ye){return Ye.replace(re$2,"")===""}const siblingAfter=siblings(1),siblingBefore=siblings(-1),emptyChildren$1=[];function siblings(Ye){return rt;function rt(it,lt,ct){const ut=it?it.children:emptyChildren$1;let ht=(lt||0)+Ye,ft=ut[ht];if(!ct)for(;ft&&whitespace$2(ft);)ht+=Ye,ft=ut[ht];return ft}}const own$6={}.hasOwnProperty;function omission(Ye){return rt;function rt(it,lt,ct){return own$6.call(Ye,it.tagName)&&Ye[it.tagName](it,lt,ct)}}const closing=omission({body:body$1,caption:headOrColgroupOrCaption,colgroup:headOrColgroupOrCaption,dd,dt,head:headOrColgroupOrCaption,html:html$6,li,optgroup,option,p:p$2,rp:rubyElement,rt:rubyElement,tbody:tbody$1,td:cells,tfoot,th:cells,thead,tr});function headOrColgroupOrCaption(Ye,rt,it){const lt=siblingAfter(it,rt,!0);return!lt||lt.type!=="comment"&&!(lt.type==="text"&&whitespace$2(lt.value.charAt(0)))}function html$6(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type!=="comment"}function body$1(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type!=="comment"}function p$2(Ye,rt,it){const lt=siblingAfter(it,rt);return lt?lt.type==="element"&&(lt.tagName==="address"||lt.tagName==="article"||lt.tagName==="aside"||lt.tagName==="blockquote"||lt.tagName==="details"||lt.tagName==="div"||lt.tagName==="dl"||lt.tagName==="fieldset"||lt.tagName==="figcaption"||lt.tagName==="figure"||lt.tagName==="footer"||lt.tagName==="form"||lt.tagName==="h1"||lt.tagName==="h2"||lt.tagName==="h3"||lt.tagName==="h4"||lt.tagName==="h5"||lt.tagName==="h6"||lt.tagName==="header"||lt.tagName==="hgroup"||lt.tagName==="hr"||lt.tagName==="main"||lt.tagName==="menu"||lt.tagName==="nav"||lt.tagName==="ol"||lt.tagName==="p"||lt.tagName==="pre"||lt.tagName==="section"||lt.tagName==="table"||lt.tagName==="ul"):!it||!(it.type==="element"&&(it.tagName==="a"||it.tagName==="audio"||it.tagName==="del"||it.tagName==="ins"||it.tagName==="map"||it.tagName==="noscript"||it.tagName==="video"))}function li(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&lt.tagName==="li"}function dt(Ye,rt,it){const lt=siblingAfter(it,rt);return!!(lt&&lt.type==="element"&&(lt.tagName==="dt"||lt.tagName==="dd"))}function dd(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&(lt.tagName==="dt"||lt.tagName==="dd")}function rubyElement(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&(lt.tagName==="rp"||lt.tagName==="rt")}function optgroup(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&lt.tagName==="optgroup"}function option(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&(lt.tagName==="option"||lt.tagName==="optgroup")}function thead(Ye,rt,it){const lt=siblingAfter(it,rt);return!!(lt&&lt.type==="element"&&(lt.tagName==="tbody"||lt.tagName==="tfoot"))}function tbody$1(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&(lt.tagName==="tbody"||lt.tagName==="tfoot")}function tfoot(Ye,rt,it){return!siblingAfter(it,rt)}function tr(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&lt.tagName==="tr"}function cells(Ye,rt,it){const lt=siblingAfter(it,rt);return!lt||lt.type==="element"&&(lt.tagName==="td"||lt.tagName==="th")}const opening=omission({body,colgroup,head,html:html$5,tbody});function html$5(Ye){const rt=siblingAfter(Ye,-1);return!rt||rt.type!=="comment"}function head(Ye){const rt=new Set;for(const lt of Ye.children)if(lt.type==="element"&&(lt.tagName==="base"||lt.tagName==="title")){if(rt.has(lt.tagName))return!1;rt.add(lt.tagName)}const it=Ye.children[0];return!it||it.type==="element"}function body(Ye){const rt=siblingAfter(Ye,-1,!0);return!rt||rt.type!=="comment"&&!(rt.type==="text"&&whitespace$2(rt.value.charAt(0)))&&!(rt.type==="element"&&(rt.tagName==="meta"||rt.tagName==="link"||rt.tagName==="script"||rt.tagName==="style"||rt.tagName==="template"))}function colgroup(Ye,rt,it){const lt=siblingBefore(it,rt),ct=siblingAfter(Ye,-1,!0);return it&&lt&&lt.type==="element"&&lt.tagName==="colgroup"&&closing(lt,it.children.indexOf(lt),it)?!1:!!(ct&&ct.type==="element"&&ct.tagName==="col")}function tbody(Ye,rt,it){const lt=siblingBefore(it,rt),ct=siblingAfter(Ye,-1);return it&&lt&&lt.type==="element"&&(lt.tagName==="thead"||lt.tagName==="tbody")&&closing(lt,it.children.indexOf(lt),it)?!1:!!(ct&&ct.type==="element"&&ct.tagName==="tr")}const constants$1={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function element$2(Ye,rt,it,lt){const ct=lt.schema,ut=ct.space==="svg"?!1:lt.settings.omitOptionalTags;let ht=ct.space==="svg"?lt.settings.closeEmptyElements:lt.settings.voids.includes(Ye.tagName.toLowerCase());const ft=[];let pt;ct.space==="html"&&Ye.tagName==="svg"&&(lt.schema=svg$2);const mt=serializeAttributes(lt,Ye.properties),gt=lt.all(ct.space==="html"&&Ye.tagName==="template"?Ye.content:Ye);return lt.schema=ct,gt&&(ht=!1),(mt||!ut||!opening(Ye,rt,it))&&(ft.push("<",Ye.tagName,mt?" "+mt:""),ht&&(ct.space==="svg"||lt.settings.closeSelfClosing)&&(pt=mt.charAt(mt.length-1),(!lt.settings.tightSelfClosing||pt==="/"||pt&&pt!=='"'&&pt!=="'")&&ft.push(" "),ft.push("/")),ft.push(">")),ft.push(gt),!ht&&(!ut||!closing(Ye,rt,it))&&ft.push("</"+Ye.tagName+">"),ft.join("")}function serializeAttributes(Ye,rt){const it=[];let lt=-1,ct;if(rt){for(ct in rt)if(rt[ct]!==null&&rt[ct]!==void 0){const ut=serializeAttribute(Ye,ct,rt[ct]);ut&&it.push(ut)}}for(;++lt<it.length;){const ut=Ye.settings.tightAttributes?it[lt].charAt(it[lt].length-1):void 0;lt!==it.length-1&&ut!=='"'&&ut!=="'"&&(it[lt]+=" ")}return it.join("")}function serializeAttribute(Ye,rt,it){const lt=find$1(Ye.schema,rt),ct=Ye.settings.allowParseErrors&&Ye.schema.space==="html"?0:1,ut=Ye.settings.allowDangerousCharacters?0:1;let ht=Ye.quote,ft;if(lt.overloadedBoolean&&(it===lt.attribute||it==="")?it=!0:(lt.boolean||lt.overloadedBoolean)&&(typeof it!="string"||it===lt.attribute||it==="")&&(it=!!it),it==null||it===!1||typeof it=="number"&&Number.isNaN(it))return"";const pt=stringifyEntities(lt.attribute,Object.assign({},Ye.settings.characterReferences,{subset:constants$1.name[ct][ut]}));return it===!0||(it=Array.isArray(it)?(lt.commaSeparated?stringify$4:stringify$3)(it,{padLeft:!Ye.settings.tightCommaSeparatedLists}):String(it),Ye.settings.collapseEmptyAttributes&&!it)?pt:(Ye.settings.preferUnquoted&&(ft=stringifyEntities(it,Object.assign({},Ye.settings.characterReferences,{attribute:!0,subset:constants$1.unquoted[ct][ut]}))),ft!==it&&(Ye.settings.quoteSmart&&ccount(it,ht)>ccount(it,Ye.alternative)&&(ht=Ye.alternative),ft=ht+stringifyEntities(it,Object.assign({},Ye.settings.characterReferences,{subset:(ht==="'"?constants$1.single:constants$1.double)[ct][ut],attribute:!0}))+ht),pt+(ft&&"="+ft))}const textEntitySubset=["<","&"];function text$8(Ye,rt,it,lt){return it&&it.type==="element"&&(it.tagName==="script"||it.tagName==="style")?Ye.value:stringifyEntities(Ye.value,Object.assign({},lt.settings.characterReferences,{subset:textEntitySubset}))}function raw(Ye,rt,it,lt){return lt.settings.allowDangerousHtml?Ye.value:text$8(Ye,rt,it,lt)}function root$5(Ye,rt,it,lt){return lt.all(Ye)}const handle$1=zwitch("type",{invalid:invalid$1,unknown:unknown$2,handlers:{comment:comment$2,doctype,element:element$2,raw,root:root$5,text:text$8}});function invalid$1(Ye){throw new Error("Expected node, not `"+Ye+"`")}function unknown$2(Ye){const rt=Ye;throw new Error("Cannot compile unknown node `"+rt.type+"`")}const emptyOptions$5={},emptyCharacterReferences={},emptyChildren=[];function toHtml(Ye,rt){const it=rt||emptyOptions$5,lt=it.quote||'"',ct=lt==='"'?"'":'"';if(lt!=='"'&&lt!=="'")throw new Error("Invalid quote `"+lt+"`, expected `'` or `\"`");return{one:one$3,all:all$1,settings:{omitOptionalTags:it.omitOptionalTags||!1,allowParseErrors:it.allowParseErrors||!1,allowDangerousCharacters:it.allowDangerousCharacters||!1,quoteSmart:it.quoteSmart||!1,preferUnquoted:it.preferUnquoted||!1,tightAttributes:it.tightAttributes||!1,upperDoctype:it.upperDoctype||!1,tightDoctype:it.tightDoctype||!1,bogusComments:it.bogusComments||!1,tightCommaSeparatedLists:it.tightCommaSeparatedLists||!1,tightSelfClosing:it.tightSelfClosing||!1,collapseEmptyAttributes:it.collapseEmptyAttributes||!1,allowDangerousHtml:it.allowDangerousHtml||!1,voids:it.voids||htmlVoidElements,characterReferences:it.characterReferences||emptyCharacterReferences,closeSelfClosing:it.closeSelfClosing||!1,closeEmptyElements:it.closeEmptyElements||!1},schema:it.space==="svg"?svg$2:html$7,quote:lt,alternative:ct}.one(Array.isArray(Ye)?{type:"root",children:Ye}:Ye,void 0,void 0)}function one$3(Ye,rt,it){return handle$1(Ye,rt,it,this)}function all$1(Ye){const rt=[],it=Ye&&Ye.children||emptyChildren;let lt=-1;for(;++lt<it.length;)rt[lt]=this.one(it[lt],lt,Ye);return rt.join("")}function resolveColorReplacements(Ye,rt){const it=typeof Ye=="string"?{}:{...Ye.colorReplacements},lt=typeof Ye=="string"?Ye:Ye.name;for(const[ct,ut]of Object.entries(rt?.colorReplacements||{}))typeof ut=="string"?it[ct]=ut:ct===lt&&Object.assign(it,ut);return it}function applyColorReplacements(Ye,rt){return Ye&&(rt?.[Ye?.toLowerCase()]||Ye)}function toArray$1(Ye){return Array.isArray(Ye)?Ye:[Ye]}async function normalizeGetter(Ye){return Promise.resolve(typeof Ye=="function"?Ye():Ye).then(rt=>rt.default||rt)}function isPlainLang(Ye){return!Ye||["plaintext","txt","text","plain"].includes(Ye)}function isSpecialLang(Ye){return Ye==="ansi"||isPlainLang(Ye)}function isNoneTheme(Ye){return Ye==="none"}function isSpecialTheme(Ye){return isNoneTheme(Ye)}function addClassToHast(Ye,rt){if(!rt)return Ye;Ye.properties||={},Ye.properties.class||=[],typeof Ye.properties.class=="string"&&(Ye.properties.class=Ye.properties.class.split(/\s+/g)),Array.isArray(Ye.properties.class)||(Ye.properties.class=[]);const it=Array.isArray(rt)?rt:rt.split(/\s+/g);for(const lt of it)lt&&!Ye.properties.class.includes(lt)&&Ye.properties.class.push(lt);return Ye}function splitLines$1(Ye,rt=!1){const it=Ye.split(/(\r?\n)/g);let lt=0;const ct=[];for(let ut=0;ut<it.length;ut+=2){const ht=rt?it[ut]+(it[ut+1]||""):it[ut];ct.push([ht,lt]),lt+=it[ut].length,lt+=it[ut+1]?.length||0}return ct}function createPositionConverter(Ye){const rt=splitLines$1(Ye,!0).map(([ct])=>ct);function it(ct){if(ct===Ye.length)return{line:rt.length-1,character:rt[rt.length-1].length};let ut=ct,ht=0;for(const ft of rt){if(ut<ft.length)break;ut-=ft.length,ht++}return{line:ht,character:ut}}function lt(ct,ut){let ht=0;for(let ft=0;ft<ct;ft++)ht+=rt[ft].length;return ht+=ut,ht}return{lines:rt,indexToPos:it,posToIndex:lt}}const DEFAULT_COLOR_LIGHT_DARK="light-dark()",COLOR_KEYS=["color","background-color"];function splitToken(Ye,rt){let it=0;const lt=[];for(const ct of rt)ct>it&&lt.push({...Ye,content:Ye.content.slice(it,ct),offset:Ye.offset+it}),it=ct;return it<Ye.content.length&&lt.push({...Ye,content:Ye.content.slice(it),offset:Ye.offset+it}),lt}function splitTokens(Ye,rt){const it=Array.from(rt instanceof Set?rt:new Set(rt)).sort((lt,ct)=>lt-ct);return it.length?Ye.map(lt=>lt.flatMap(ct=>{const ut=it.filter(ht=>ct.offset<ht&&ht<ct.offset+ct.content.length).map(ht=>ht-ct.offset).sort((ht,ft)=>ht-ft);return ut.length?splitToken(ct,ut):ct})):Ye}function flatTokenVariants(Ye,rt,it,lt,ct="css-vars"){const ut={content:Ye.content,explanation:Ye.explanation,offset:Ye.offset},ht=rt.map(gt=>getTokenStyleObject(Ye.variants[gt])),ft=new Set(ht.flatMap(gt=>Object.keys(gt))),pt={},mt=(gt,yt)=>{const xt=yt==="color"?"":yt==="background-color"?"-bg":`-${yt}`;return it+rt[gt]+(yt==="color"?"":xt)};return ht.forEach((gt,yt)=>{for(const xt of ft){const bt=gt[xt]||"inherit";if(yt===0&&lt&&COLOR_KEYS.includes(xt))if(lt===DEFAULT_COLOR_LIGHT_DARK&&ht.length>1){const _t=rt.findIndex(Rt=>Rt==="light"),Ct=rt.findIndex(Rt=>Rt==="dark");if(_t===-1||Ct===-1)throw new ShikiError$2('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const kt=ht[_t][xt]||"inherit",St=ht[Ct][xt]||"inherit";pt[xt]=`light-dark(${kt}, ${St})`,ct==="css-vars"&&(pt[mt(yt,xt)]=bt)}else pt[xt]=bt;else ct==="css-vars"&&(pt[mt(yt,xt)]=bt)}}),ut.htmlStyle=pt,ut}function getTokenStyleObject(Ye){const rt={};if(Ye.color&&(rt.color=Ye.color),Ye.bgColor&&(rt["background-color"]=Ye.bgColor),Ye.fontStyle){Ye.fontStyle&FontStyle.Italic&&(rt["font-style"]="italic"),Ye.fontStyle&FontStyle.Bold&&(rt["font-weight"]="bold");const it=[];Ye.fontStyle&FontStyle.Underline&&it.push("underline"),Ye.fontStyle&FontStyle.Strikethrough&&it.push("line-through"),it.length&&(rt["text-decoration"]=it.join(" "))}return rt}function stringifyTokenStyle(Ye){return typeof Ye=="string"?Ye:Object.entries(Ye).map(([rt,it])=>`${rt}:${it}`).join(";")}const _grammarStateMap=new WeakMap;function setLastGrammarStateToMap(Ye,rt){_grammarStateMap.set(Ye,rt)}function getLastGrammarStateFromMap(Ye){return _grammarStateMap.get(Ye)}class GrammarState{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(rt,it){return new GrammarState(Object.fromEntries(toArray$1(it).map(lt=>[lt,INITIAL])),rt)}constructor(...rt){if(rt.length===2){const[it,lt]=rt;this.lang=lt,this._stacks=it}else{const[it,lt,ct]=rt;this.lang=lt,this._stacks={[ct]:it}}}getInternalStack(rt=this.theme){return this._stacks[rt]}getScopes(rt=this.theme){return getScopes(this._stacks[rt])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function getScopes(Ye){const rt=[],it=new Set;function lt(ct){if(it.has(ct))return;it.add(ct);const ut=ct?.nameScopesList?.scopeName;ut&&rt.push(ut),ct.parent&&lt(ct.parent)}return lt(Ye),rt}function getGrammarStack(Ye,rt){if(!(Ye instanceof GrammarState))throw new ShikiError$2("Invalid grammar state");return Ye.getInternalStack(rt)}function transformerDecorations(){const Ye=new WeakMap;function rt(it){if(!Ye.has(it.meta)){let lt=function(ht){if(typeof ht=="number"){if(ht<0||ht>it.source.length)throw new ShikiError$2(`Invalid decoration offset: ${ht}. Code length: ${it.source.length}`);return{...ct.indexToPos(ht),offset:ht}}else{const ft=ct.lines[ht.line];if(ft===void 0)throw new ShikiError$2(`Invalid decoration position ${JSON.stringify(ht)}. Lines length: ${ct.lines.length}`);let pt=ht.character;if(pt<0&&(pt=ft.length+pt),pt<0||pt>ft.length)throw new ShikiError$2(`Invalid decoration position ${JSON.stringify(ht)}. Line ${ht.line} length: ${ft.length}`);return{...ht,character:pt,offset:ct.posToIndex(ht.line,pt)}}};const ct=createPositionConverter(it.source),ut=(it.options.decorations||[]).map(ht=>({...ht,start:lt(ht.start),end:lt(ht.end)}));verifyIntersections(ut),Ye.set(it.meta,{decorations:ut,converter:ct,source:it.source})}return Ye.get(it.meta)}return{name:"shiki:decorations",tokens(it){if(!this.options.decorations?.length)return;const ct=rt(this).decorations.flatMap(ht=>[ht.start.offset,ht.end.offset]);return splitTokens(it,ct)},code(it){if(!this.options.decorations?.length)return;const lt=rt(this),ct=Array.from(it.children).filter(gt=>gt.type==="element"&&gt.tagName==="span");if(ct.length!==lt.converter.lines.length)throw new ShikiError$2(`Number of lines in code element (${ct.length}) does not match the number of lines in the source (${lt.converter.lines.length}). Failed to apply decorations.`);function ut(gt,yt,xt,bt){const _t=ct[gt];let Ct="",kt=-1,St=-1;if(yt===0&&(kt=0),xt===0&&(St=0),xt===Number.POSITIVE_INFINITY&&(St=_t.children.length),kt===-1||St===-1)for(let Tt=0;Tt<_t.children.length;Tt++)Ct+=stringify$2(_t.children[Tt]),kt===-1&&Ct.length===yt&&(kt=Tt+1),St===-1&&Ct.length===xt&&(St=Tt+1);if(kt===-1)throw new ShikiError$2(`Failed to find start index for decoration ${JSON.stringify(bt.start)}`);if(St===-1)throw new ShikiError$2(`Failed to find end index for decoration ${JSON.stringify(bt.end)}`);const Rt=_t.children.slice(kt,St);if(!bt.alwaysWrap&&Rt.length===_t.children.length)ft(_t,bt,"line");else if(!bt.alwaysWrap&&Rt.length===1&&Rt[0].type==="element")ft(Rt[0],bt,"token");else{const Tt={type:"element",tagName:"span",properties:{},children:Rt};ft(Tt,bt,"wrapper"),_t.children.splice(kt,Rt.length,Tt)}}function ht(gt,yt){ct[gt]=ft(ct[gt],yt,"line")}function ft(gt,yt,xt){const bt=yt.properties||{},_t=yt.transform||(Ct=>Ct);return gt.tagName=yt.tagName||"span",gt.properties={...gt.properties,...bt,class:gt.properties.class},yt.properties?.class&&addClassToHast(gt,yt.properties.class),gt=_t(gt,xt)||gt,gt}const pt=[],mt=lt.decorations.sort((gt,yt)=>yt.start.offset-gt.start.offset||gt.end.offset-yt.end.offset);for(const gt of mt){const{start:yt,end:xt}=gt;if(yt.line===xt.line)ut(yt.line,yt.character,xt.character,gt);else if(yt.line<xt.line){ut(yt.line,yt.character,Number.POSITIVE_INFINITY,gt);for(let bt=yt.line+1;bt<xt.line;bt++)pt.unshift(()=>ht(bt,gt));ut(xt.line,0,xt.character,gt)}}pt.forEach(gt=>gt())}}}function verifyIntersections(Ye){for(let rt=0;rt<Ye.length;rt++){const it=Ye[rt];if(it.start.offset>it.end.offset)throw new ShikiError$2(`Invalid decoration range: ${JSON.stringify(it.start)} - ${JSON.stringify(it.end)}`);for(let lt=rt+1;lt<Ye.length;lt++){const ct=Ye[lt],ut=it.start.offset<=ct.start.offset&&ct.start.offset<it.end.offset,ht=it.start.offset<ct.end.offset&&ct.end.offset<=it.end.offset,ft=ct.start.offset<=it.start.offset&&it.start.offset<ct.end.offset,pt=ct.start.offset<it.end.offset&&it.end.offset<=ct.end.offset;if(ut||ht||ft||pt){if(ut&&ht||ft&&pt||ft&&it.start.offset===it.end.offset||ht&&ct.start.offset===ct.end.offset)continue;throw new ShikiError$2(`Decorations ${JSON.stringify(it.start)} and ${JSON.stringify(ct.start)} intersect.`)}}}}function stringify$2(Ye){return Ye.type==="text"?Ye.value:Ye.type==="element"?Ye.children.map(stringify$2).join(""):""}const builtInTransformers=[transformerDecorations()];function getTransformers(Ye){const rt=sortTransformersByEnforcement(Ye.transformers||[]);return[...rt.pre,...rt.normal,...rt.post,...builtInTransformers]}function sortTransformersByEnforcement(Ye){const rt=[],it=[],lt=[];for(const ct of Ye)switch(ct.enforce){case"pre":rt.push(ct);break;case"post":it.push(ct);break;default:lt.push(ct)}return{pre:rt,post:it,normal:lt}}var namedColors=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],decorations={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function findSequence(Ye,rt){const it=Ye.indexOf("\x1B",rt);if(it!==-1&&Ye[it+1]==="["){const lt=Ye.indexOf("m",it);if(lt!==-1)return{sequence:Ye.substring(it+2,lt).split(";"),startPosition:it,position:lt+1}}return{position:Ye.length}}function parseColor$1(Ye){const rt=Ye.shift();if(rt==="2"){const it=Ye.splice(0,3).map(lt=>Number.parseInt(lt));return it.length!==3||it.some(lt=>Number.isNaN(lt))?void 0:{type:"rgb",rgb:it}}else if(rt==="5"){const it=Ye.shift();if(it)return{type:"table",index:Number(it)}}}function parseSequence(Ye){const rt=[];for(;Ye.length>0;){const it=Ye.shift();if(!it)continue;const lt=Number.parseInt(it);if(!Number.isNaN(lt))if(lt===0)rt.push({type:"resetAll"});else if(lt<=9)decorations[lt]&&rt.push({type:"setDecoration",value:decorations[lt]});else if(lt<=29){const ct=decorations[lt-20];ct&&(rt.push({type:"resetDecoration",value:ct}),ct==="dim"&&rt.push({type:"resetDecoration",value:"bold"}))}else if(lt<=37)rt.push({type:"setForegroundColor",value:{type:"named",name:namedColors[lt-30]}});else if(lt===38){const ct=parseColor$1(Ye);ct&&rt.push({type:"setForegroundColor",value:ct})}else if(lt===39)rt.push({type:"resetForegroundColor"});else if(lt<=47)rt.push({type:"setBackgroundColor",value:{type:"named",name:namedColors[lt-40]}});else if(lt===48){const ct=parseColor$1(Ye);ct&&rt.push({type:"setBackgroundColor",value:ct})}else lt===49?rt.push({type:"resetBackgroundColor"}):lt===53?rt.push({type:"setDecoration",value:"overline"}):lt===55?rt.push({type:"resetDecoration",value:"overline"}):lt>=90&&lt<=97?rt.push({type:"setForegroundColor",value:{type:"named",name:namedColors[lt-90+8]}}):lt>=100&&lt<=107&&rt.push({type:"setBackgroundColor",value:{type:"named",name:namedColors[lt-100+8]}})}return rt}function createAnsiSequenceParser(){let Ye=null,rt=null,it=new Set;return{parse(lt){const ct=[];let ut=0;do{const ht=findSequence(lt,ut),ft=ht.sequence?lt.substring(ut,ht.startPosition):lt.substring(ut);if(ft.length>0&&ct.push({value:ft,foreground:Ye,background:rt,decorations:new Set(it)}),ht.sequence){const pt=parseSequence(ht.sequence);for(const mt of pt)mt.type==="resetAll"?(Ye=null,rt=null,it.clear()):mt.type==="resetForegroundColor"?Ye=null:mt.type==="resetBackgroundColor"?rt=null:mt.type==="resetDecoration"&&it.delete(mt.value);for(const mt of pt)mt.type==="setForegroundColor"?Ye=mt.value:mt.type==="setBackgroundColor"?rt=mt.value:mt.type==="setDecoration"&&it.add(mt.value)}ut=ht.position}while(ut<lt.length);return ct}}}var defaultNamedColorsMap={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function createColorPalette(Ye=defaultNamedColorsMap){function rt(ft){return Ye[ft]}function it(ft){return`#${ft.map(pt=>Math.max(0,Math.min(pt,255)).toString(16).padStart(2,"0")).join("")}`}let lt;function ct(){if(lt)return lt;lt=[];for(let mt=0;mt<namedColors.length;mt++)lt.push(rt(namedColors[mt]));let ft=[0,95,135,175,215,255];for(let mt=0;mt<6;mt++)for(let gt=0;gt<6;gt++)for(let yt=0;yt<6;yt++)lt.push(it([ft[mt],ft[gt],ft[yt]]));let pt=8;for(let mt=0;mt<24;mt++,pt+=10)lt.push(it([pt,pt,pt]));return lt}function ut(ft){return ct()[ft]}function ht(ft){switch(ft.type){case"named":return rt(ft.name);case"rgb":return it(ft.rgb);case"table":return ut(ft.index)}}return{value:ht}}const defaultAnsiColors={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function tokenizeAnsiWithTheme(Ye,rt,it){const lt=resolveColorReplacements(Ye,it),ct=splitLines$1(rt),ut=Object.fromEntries(namedColors.map(pt=>{const mt=`terminal.ansi${pt[0].toUpperCase()}${pt.substring(1)}`,gt=Ye.colors?.[mt];return[pt,gt||defaultAnsiColors[pt]]})),ht=createColorPalette(ut),ft=createAnsiSequenceParser();return ct.map(pt=>ft.parse(pt[0]).map(mt=>{let gt,yt;mt.decorations.has("reverse")?(gt=mt.background?ht.value(mt.background):Ye.bg,yt=mt.foreground?ht.value(mt.foreground):Ye.fg):(gt=mt.foreground?ht.value(mt.foreground):Ye.fg,yt=mt.background?ht.value(mt.background):void 0),gt=applyColorReplacements(gt,lt),yt=applyColorReplacements(yt,lt),mt.decorations.has("dim")&&(gt=dimColor(gt));let xt=FontStyle.None;return mt.decorations.has("bold")&&(xt|=FontStyle.Bold),mt.decorations.has("italic")&&(xt|=FontStyle.Italic),mt.decorations.has("underline")&&(xt|=FontStyle.Underline),mt.decorations.has("strikethrough")&&(xt|=FontStyle.Strikethrough),{content:mt.value,offset:pt[1],color:gt,bgColor:yt,fontStyle:xt}}))}function dimColor(Ye){const rt=Ye.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(rt)if(rt[3]){const lt=Math.round(Number.parseInt(rt[3],16)/2).toString(16).padStart(2,"0");return`#${rt[1]}${rt[2]}${lt}`}else return rt[2]?`#${rt[1]}${rt[2]}80`:`#${Array.from(rt[1]).map(lt=>`${lt}${lt}`).join("")}80`;const it=Ye.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return it?`var(${it[1]}-dim)`:Ye}function codeToTokensBase(Ye,rt,it={}){const{lang:lt="text",theme:ct=Ye.getLoadedThemes()[0]}=it;if(isPlainLang(lt)||isNoneTheme(ct))return splitLines$1(rt).map(pt=>[{content:pt[0],offset:pt[1]}]);const{theme:ut,colorMap:ht}=Ye.setTheme(ct);if(lt==="ansi")return tokenizeAnsiWithTheme(ut,rt,it);const ft=Ye.getLanguage(lt);if(it.grammarState){if(it.grammarState.lang!==ft.name)throw new ShikiError$2(`Grammar state language "${it.grammarState.lang}" does not match highlight language "${ft.name}"`);if(!it.grammarState.themes.includes(ut.name))throw new ShikiError$2(`Grammar state themes "${it.grammarState.themes}" do not contain highlight theme "${ut.name}"`)}return tokenizeWithTheme(rt,ft,ut,ht,it)}function getLastGrammarState(...Ye){if(Ye.length===2)return getLastGrammarStateFromMap(Ye[1]);const[rt,it,lt={}]=Ye,{lang:ct="text",theme:ut=rt.getLoadedThemes()[0]}=lt;if(isPlainLang(ct)||isNoneTheme(ut))throw new ShikiError$2("Plain language does not have grammar state");if(ct==="ansi")throw new ShikiError$2("ANSI language does not have grammar state");const{theme:ht,colorMap:ft}=rt.setTheme(ut),pt=rt.getLanguage(ct);return new GrammarState(_tokenizeWithTheme(it,pt,ht,ft,lt).stateStack,pt.name,ht.name)}function tokenizeWithTheme(Ye,rt,it,lt,ct){const ut=_tokenizeWithTheme(Ye,rt,it,lt,ct),ht=new GrammarState(_tokenizeWithTheme(Ye,rt,it,lt,ct).stateStack,rt.name,it.name);return setLastGrammarStateToMap(ut.tokens,ht),ut.tokens}function _tokenizeWithTheme(Ye,rt,it,lt,ct){const ut=resolveColorReplacements(it,ct),{tokenizeMaxLineLength:ht=0,tokenizeTimeLimit:ft=500}=ct,pt=splitLines$1(Ye);let mt=ct.grammarState?getGrammarStack(ct.grammarState,it.name)??INITIAL:ct.grammarContextCode!=null?_tokenizeWithTheme(ct.grammarContextCode,rt,it,lt,{...ct,grammarState:void 0,grammarContextCode:void 0}).stateStack:INITIAL,gt=[];const yt=[];for(let xt=0,bt=pt.length;xt<bt;xt++){const[_t,Ct]=pt[xt];if(_t===""){gt=[],yt.push([]);continue}if(ht>0&&_t.length>=ht){gt=[],yt.push([{content:_t,offset:Ct,color:"",fontStyle:0}]);continue}let kt,St,Rt;ct.includeExplanation&&(kt=rt.tokenizeLine(_t,mt,ft),St=kt.tokens,Rt=0);const Tt=rt.tokenizeLine2(_t,mt,ft),Mt=Tt.tokens.length/2;for(let Pt=0;Pt<Mt;Pt++){const It=Tt.tokens[2*Pt],Lt=Pt+1<Mt?Tt.tokens[2*Pt+2]:_t.length;if(It===Lt)continue;const Ot=Tt.tokens[2*Pt+1],Ft=applyColorReplacements(lt[EncodedTokenMetadata.getForeground(Ot)],ut),Ut=EncodedTokenMetadata.getFontStyle(Ot),Wt={content:_t.substring(It,Lt),offset:Ct+It,color:Ft,fontStyle:Ut};if(ct.includeExplanation){const Kt=[];if(ct.includeExplanation!=="scopeName")for(const Zt of it.settings){let Vt;switch(typeof Zt.scope){case"string":Vt=Zt.scope.split(/,/).map($t=>$t.trim());break;case"object":Vt=Zt.scope;break;default:continue}Kt.push({settings:Zt,selectors:Vt.map($t=>$t.split(/ /))})}Wt.explanation=[];let Qt=0;for(;It+Qt<Lt;){const Zt=St[Rt],Vt=_t.substring(Zt.startIndex,Zt.endIndex);Qt+=Vt.length,Wt.explanation.push({content:Vt,scopes:ct.includeExplanation==="scopeName"?explainThemeScopesNameOnly(Zt.scopes):explainThemeScopesFull(Kt,Zt.scopes)}),Rt+=1}}gt.push(Wt)}yt.push(gt),gt=[],mt=Tt.ruleStack}return{tokens:yt,stateStack:mt}}function explainThemeScopesNameOnly(Ye){return Ye.map(rt=>({scopeName:rt}))}function explainThemeScopesFull(Ye,rt){const it=[];for(let lt=0,ct=rt.length;lt<ct;lt++){const ut=rt[lt];it[lt]={scopeName:ut,themeMatches:explainThemeScope(Ye,ut,rt.slice(0,lt))}}return it}function matchesOne(Ye,rt){return Ye===rt||rt.substring(0,Ye.length)===Ye&&rt[Ye.length]==="."}function matches$1(Ye,rt,it){if(!matchesOne(Ye[Ye.length-1],rt))return!1;let lt=Ye.length-2,ct=it.length-1;for(;lt>=0&&ct>=0;)matchesOne(Ye[lt],it[ct])&&(lt-=1),ct-=1;return lt===-1}function explainThemeScope(Ye,rt,it){const lt=[];for(const{selectors:ct,settings:ut}of Ye)for(const ht of ct)if(matches$1(ht,rt,it)){lt.push(ut);break}return lt}function codeToTokensWithThemes(Ye,rt,it){const lt=Object.entries(it.themes).filter(pt=>pt[1]).map(pt=>({color:pt[0],theme:pt[1]})),ct=lt.map(pt=>{const mt=codeToTokensBase(Ye,rt,{...it,theme:pt.theme}),gt=getLastGrammarStateFromMap(mt),yt=typeof pt.theme=="string"?pt.theme:pt.theme.name;return{tokens:mt,state:gt,theme:yt}}),ut=syncThemesTokenization(...ct.map(pt=>pt.tokens)),ht=ut[0].map((pt,mt)=>pt.map((gt,yt)=>{const xt={content:gt.content,variants:{},offset:gt.offset};return"includeExplanation"in it&&it.includeExplanation&&(xt.explanation=gt.explanation),ut.forEach((bt,_t)=>{const{content:Ct,explanation:kt,offset:St,...Rt}=bt[mt][yt];xt.variants[lt[_t].color]=Rt}),xt})),ft=ct[0].state?new GrammarState(Object.fromEntries(ct.map(pt=>[pt.theme,pt.state?.getInternalStack(pt.theme)])),ct[0].state.lang):void 0;return ft&&setLastGrammarStateToMap(ht,ft),ht}function syncThemesTokenization(...Ye){const rt=Ye.map(()=>[]),it=Ye.length;for(let lt=0;lt<Ye[0].length;lt++){const ct=Ye.map(pt=>pt[lt]),ut=rt.map(()=>[]);rt.forEach((pt,mt)=>pt.push(ut[mt]));const ht=ct.map(()=>0),ft=ct.map(pt=>pt[0]);for(;ft.every(pt=>pt);){const pt=Math.min(...ft.map(mt=>mt.content.length));for(let mt=0;mt<it;mt++){const gt=ft[mt];gt.content.length===pt?(ut[mt].push(gt),ht[mt]+=1,ft[mt]=ct[mt][ht[mt]]):(ut[mt].push({...gt,content:gt.content.slice(0,pt)}),ft[mt]={...gt,content:gt.content.slice(pt),offset:gt.offset+pt})}}}return rt}function codeToTokens(Ye,rt,it){let lt,ct,ut,ht,ft,pt;if("themes"in it){const{defaultColor:mt="light",cssVariablePrefix:gt="--shiki-",colorsRendering:yt="css-vars"}=it,xt=Object.entries(it.themes).filter(St=>St[1]).map(St=>({color:St[0],theme:St[1]})).sort((St,Rt)=>St.color===mt?-1:Rt.color===mt?1:0);if(xt.length===0)throw new ShikiError$2("`themes` option must not be empty");const bt=codeToTokensWithThemes(Ye,rt,it);if(pt=getLastGrammarStateFromMap(bt),mt&&DEFAULT_COLOR_LIGHT_DARK!==mt&&!xt.find(St=>St.color===mt))throw new ShikiError$2(`\`themes\` option must contain the defaultColor key \`${mt}\``);const _t=xt.map(St=>Ye.getTheme(St.theme)),Ct=xt.map(St=>St.color);ut=bt.map(St=>St.map(Rt=>flatTokenVariants(Rt,Ct,gt,mt,yt))),pt&&setLastGrammarStateToMap(ut,pt);const kt=xt.map(St=>resolveColorReplacements(St.theme,it));ct=mapThemeColors(xt,_t,kt,gt,mt,"fg",yt),lt=mapThemeColors(xt,_t,kt,gt,mt,"bg",yt),ht=`shiki-themes ${_t.map(St=>St.name).join(" ")}`,ft=mt?void 0:[ct,lt].join(";")}else if("theme"in it){const mt=resolveColorReplacements(it.theme,it);ut=codeToTokensBase(Ye,rt,it);const gt=Ye.getTheme(it.theme);lt=applyColorReplacements(gt.bg,mt),ct=applyColorReplacements(gt.fg,mt),ht=gt.name,pt=getLastGrammarStateFromMap(ut)}else throw new ShikiError$2("Invalid options, either `theme` or `themes` must be provided");return{tokens:ut,fg:ct,bg:lt,themeName:ht,rootStyle:ft,grammarState:pt}}function mapThemeColors(Ye,rt,it,lt,ct,ut,ht){return Ye.map((ft,pt)=>{const mt=applyColorReplacements(rt[pt][ut],it[pt])||"inherit",gt=`${lt+ft.color}${ut==="bg"?"-bg":""}:${mt}`;if(pt===0&&ct){if(ct===DEFAULT_COLOR_LIGHT_DARK&&Ye.length>1){const yt=Ye.findIndex(Ct=>Ct.color==="light"),xt=Ye.findIndex(Ct=>Ct.color==="dark");if(yt===-1||xt===-1)throw new ShikiError$2('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const bt=applyColorReplacements(rt[yt][ut],it[yt])||"inherit",_t=applyColorReplacements(rt[xt][ut],it[xt])||"inherit";return`light-dark(${bt}, ${_t});${gt}`}return mt}return ht==="css-vars"?gt:null}).filter(ft=>!!ft).join(";")}function codeToHast(Ye,rt,it,lt={meta:{},options:it,codeToHast:(ct,ut)=>codeToHast(Ye,ct,ut),codeToTokens:(ct,ut)=>codeToTokens(Ye,ct,ut)}){let ct=rt;for(const _t of getTransformers(it))ct=_t.preprocess?.call(lt,ct,it)||ct;let{tokens:ut,fg:ht,bg:ft,themeName:pt,rootStyle:mt,grammarState:gt}=codeToTokens(Ye,ct,it);const{mergeWhitespaces:yt=!0,mergeSameStyleTokens:xt=!1}=it;yt===!0?ut=mergeWhitespaceTokens(ut):yt==="never"&&(ut=splitWhitespaceTokens(ut)),xt&&(ut=mergeAdjacentStyledTokens(ut));const bt={...lt,get source(){return ct}};for(const _t of getTransformers(it))ut=_t.tokens?.call(bt,ut)||ut;return tokensToHast(ut,{...it,fg:ht,bg:ft,themeName:pt,rootStyle:mt},bt,gt)}function tokensToHast(Ye,rt,it,lt=getLastGrammarStateFromMap(Ye)){const ct=getTransformers(rt),ut=[],ht={type:"root",children:[]},{structure:ft="classic",tabindex:pt="0"}=rt;let mt={type:"element",tagName:"pre",properties:{class:`shiki ${rt.themeName||""}`,style:rt.rootStyle||`background-color:${rt.bg};color:${rt.fg}`,...pt!==!1&&pt!=null?{tabindex:pt.toString()}:{},...Object.fromEntries(Array.from(Object.entries(rt.meta||{})).filter(([_t])=>!_t.startsWith("_")))},children:[]},gt={type:"element",tagName:"code",properties:{},children:ut};const yt=[],xt={...it,structure:ft,addClassToHast,get source(){return it.source},get tokens(){return Ye},get options(){return rt},get root(){return ht},get pre(){return mt},get code(){return gt},get lines(){return yt}};if(Ye.forEach((_t,Ct)=>{Ct&&(ft==="inline"?ht.children.push({type:"element",tagName:"br",properties:{},children:[]}):ft==="classic"&&ut.push({type:"text",value:`
`}));let kt={type:"element",tagName:"span",properties:{class:"line"},children:[]},St=0;for(const Rt of _t){let Tt={type:"element",tagName:"span",properties:{...Rt.htmlAttrs},children:[{type:"text",value:Rt.content}]};const Mt=stringifyTokenStyle(Rt.htmlStyle||getTokenStyleObject(Rt));Mt&&(Tt.properties.style=Mt);for(const Pt of ct)Tt=Pt?.span?.call(xt,Tt,Ct+1,St,kt,Rt)||Tt;ft==="inline"?ht.children.push(Tt):ft==="classic"&&kt.children.push(Tt),St+=Rt.content.length}if(ft==="classic"){for(const Rt of ct)kt=Rt?.line?.call(xt,kt,Ct+1)||kt;yt.push(kt),ut.push(kt)}}),ft==="classic"){for(const _t of ct)gt=_t?.code?.call(xt,gt)||gt;mt.children.push(gt);for(const _t of ct)mt=_t?.pre?.call(xt,mt)||mt;ht.children.push(mt)}let bt=ht;for(const _t of ct)bt=_t?.root?.call(xt,bt)||bt;return lt&&setLastGrammarStateToMap(bt,lt),bt}function mergeWhitespaceTokens(Ye){return Ye.map(rt=>{const it=[];let lt="",ct=0;return rt.forEach((ut,ht)=>{const pt=!(ut.fontStyle&&(ut.fontStyle&FontStyle.Underline||ut.fontStyle&FontStyle.Strikethrough));pt&&ut.content.match(/^\s+$/)&&rt[ht+1]?(ct||(ct=ut.offset),lt+=ut.content):lt?(pt?it.push({...ut,offset:ct,content:lt+ut.content}):it.push({content:lt,offset:ct},ut),ct=0,lt=""):it.push(ut)}),it})}function splitWhitespaceTokens(Ye){return Ye.map(rt=>rt.flatMap(it=>{if(it.content.match(/^\s+$/))return it;const lt=it.content.match(/^(\s*)(.*?)(\s*)$/);if(!lt)return it;const[,ct,ut,ht]=lt;if(!ct&&!ht)return it;const ft=[{...it,offset:it.offset+ct.length,content:ut}];return ct&&ft.unshift({content:ct,offset:it.offset}),ht&&ft.push({content:ht,offset:it.offset+ct.length+ut.length}),ft}))}function mergeAdjacentStyledTokens(Ye){return Ye.map(rt=>{const it=[];for(const lt of rt){if(it.length===0){it.push({...lt});continue}const ct=it[it.length-1],ut=stringifyTokenStyle(ct.htmlStyle||getTokenStyleObject(ct)),ht=stringifyTokenStyle(lt.htmlStyle||getTokenStyleObject(lt)),ft=ct.fontStyle&&(ct.fontStyle&FontStyle.Underline||ct.fontStyle&FontStyle.Strikethrough),pt=lt.fontStyle&&(lt.fontStyle&FontStyle.Underline||lt.fontStyle&FontStyle.Strikethrough);!ft&&!pt&&ut===ht?ct.content+=lt.content:it.push({...lt})}return it})}const hastToHtml=toHtml;function codeToHtml(Ye,rt,it){const lt={meta:{},options:it,codeToHast:(ut,ht)=>codeToHast(Ye,ut,ht),codeToTokens:(ut,ht)=>codeToTokens(Ye,ut,ht)};let ct=hastToHtml(codeToHast(Ye,rt,it,lt));for(const ut of getTransformers(it))ct=ut.postprocess?.call(lt,ct,it)||ct;return ct}const VSCODE_FALLBACK_EDITOR_FG={light:"#333333",dark:"#bbbbbb"},VSCODE_FALLBACK_EDITOR_BG={light:"#fffffe",dark:"#1e1e1e"},RESOLVED_KEY="__shiki_resolved";function normalizeTheme(Ye){if(Ye?.[RESOLVED_KEY])return Ye;const rt={...Ye};rt.tokenColors&&!rt.settings&&(rt.settings=rt.tokenColors,delete rt.tokenColors),rt.type||="dark",rt.colorReplacements={...rt.colorReplacements},rt.settings||=[];let{bg:it,fg:lt}=rt;if(!it||!lt){const ft=rt.settings?rt.settings.find(pt=>!pt.name&&!pt.scope):void 0;ft?.settings?.foreground&&(lt=ft.settings.foreground),ft?.settings?.background&&(it=ft.settings.background),!lt&&rt?.colors?.["editor.foreground"]&&(lt=rt.colors["editor.foreground"]),!it&&rt?.colors?.["editor.background"]&&(it=rt.colors["editor.background"]),lt||(lt=rt.type==="light"?VSCODE_FALLBACK_EDITOR_FG.light:VSCODE_FALLBACK_EDITOR_FG.dark),it||(it=rt.type==="light"?VSCODE_FALLBACK_EDITOR_BG.light:VSCODE_FALLBACK_EDITOR_BG.dark),rt.fg=lt,rt.bg=it}rt.settings[0]&&rt.settings[0].settings&&!rt.settings[0].scope||rt.settings.unshift({settings:{foreground:rt.fg,background:rt.bg}});let ct=0;const ut=new Map;function ht(ft){if(ut.has(ft))return ut.get(ft);ct+=1;const pt=`#${ct.toString(16).padStart(8,"0").toLowerCase()}`;return rt.colorReplacements?.[`#${pt}`]?ht(ft):(ut.set(ft,pt),pt)}rt.settings=rt.settings.map(ft=>{const pt=ft.settings?.foreground&&!ft.settings.foreground.startsWith("#"),mt=ft.settings?.background&&!ft.settings.background.startsWith("#");if(!pt&&!mt)return ft;const gt={...ft,settings:{...ft.settings}};if(pt){const yt=ht(ft.settings.foreground);rt.colorReplacements[yt]=ft.settings.foreground,gt.settings.foreground=yt}if(mt){const yt=ht(ft.settings.background);rt.colorReplacements[yt]=ft.settings.background,gt.settings.background=yt}return gt});for(const ft of Object.keys(rt.colors||{}))if((ft==="editor.foreground"||ft==="editor.background"||ft.startsWith("terminal.ansi"))&&!rt.colors[ft]?.startsWith("#")){const pt=ht(rt.colors[ft]);rt.colorReplacements[pt]=rt.colors[ft],rt.colors[ft]=pt}return Object.defineProperty(rt,RESOLVED_KEY,{enumerable:!1,writable:!1,value:!0}),rt}async function resolveLangs(Ye){return Array.from(new Set((await Promise.all(Ye.filter(rt=>!isSpecialLang(rt)).map(async rt=>await normalizeGetter(rt).then(it=>Array.isArray(it)?it:[it])))).flat()))}async function resolveThemes(Ye){return(await Promise.all(Ye.map(async it=>isSpecialTheme(it)?null:normalizeTheme(await normalizeGetter(it))))).filter(it=>!!it)}let _emitDeprecation=3;function warnDeprecated(Ye,rt=3){rt>_emitDeprecation||console.trace(`[SHIKI DEPRECATE]: ${Ye}`)}let ShikiError$1=class extends Error{constructor(rt){super(rt),this.name="ShikiError"}};class Registry extends Registry$1{constructor(rt,it,lt,ct={}){super(rt),this._resolver=rt,this._themes=it,this._langs=lt,this._alias=ct,this._themes.map(ut=>this.loadTheme(ut)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(rt){return typeof rt=="string"?this._resolvedThemes.get(rt):this.loadTheme(rt)}loadTheme(rt){const it=normalizeTheme(rt);return it.name&&(this._resolvedThemes.set(it.name,it),this._loadedThemesCache=null),it}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(rt){let it=this._textmateThemeCache.get(rt);it||(it=Theme$1.createFromRawTheme(rt),this._textmateThemeCache.set(rt,it)),this._syncRegistry.setTheme(it)}getGrammar(rt){if(this._alias[rt]){const it=new Set([rt]);for(;this._alias[rt];){if(rt=this._alias[rt],it.has(rt))throw new ShikiError$1(`Circular alias \`${Array.from(it).join(" -> ")} -> ${rt}\``);it.add(rt)}}return this._resolvedGrammars.get(rt)}loadLanguage(rt){if(this.getGrammar(rt.name))return;const it=new Set([...this._langMap.values()].filter(ut=>ut.embeddedLangsLazy?.includes(rt.name)));this._resolver.addLanguage(rt);const lt={balancedBracketSelectors:rt.balancedBracketSelectors||["*"],unbalancedBracketSelectors:rt.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(rt.scopeName,rt);const ct=this.loadGrammarWithConfiguration(rt.scopeName,1,lt);if(ct.name=rt.name,this._resolvedGrammars.set(rt.name,ct),rt.aliases&&rt.aliases.forEach(ut=>{this._alias[ut]=rt.name}),this._loadedLanguagesCache=null,it.size)for(const ut of it)this._resolvedGrammars.delete(ut.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(ut.scopeName),this._syncRegistry?._grammars?.delete(ut.scopeName),this.loadLanguage(this._langMap.get(ut.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(rt){for(const ct of rt)this.resolveEmbeddedLanguages(ct);const it=Array.from(this._langGraph.entries()),lt=it.filter(([ct,ut])=>!ut);if(lt.length){const ct=it.filter(([ut,ht])=>ht&&ht.embeddedLangs?.some(ft=>lt.map(([pt])=>pt).includes(ft))).filter(ut=>!lt.includes(ut));throw new ShikiError$1(`Missing languages ${lt.map(([ut])=>`\`${ut}\``).join(", ")}, required by ${ct.map(([ut])=>`\`${ut}\``).join(", ")}`)}for(const[ct,ut]of it)this._resolver.addLanguage(ut);for(const[ct,ut]of it)this.loadLanguage(ut)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(rt){if(this._langMap.set(rt.name,rt),this._langGraph.set(rt.name,rt),rt.embeddedLangs)for(const it of rt.embeddedLangs)this._langGraph.set(it,this._langMap.get(it))}}class Resolver{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(rt,it){this._onigLib={createOnigScanner:lt=>rt.createScanner(lt),createOnigString:lt=>rt.createString(lt)},it.forEach(lt=>this.addLanguage(lt))}get onigLib(){return this._onigLib}getLangRegistration(rt){return this._langs.get(rt)}loadGrammar(rt){return this._scopeToLang.get(rt)}addLanguage(rt){this._langs.set(rt.name,rt),rt.aliases&&rt.aliases.forEach(it=>{this._langs.set(it,rt)}),this._scopeToLang.set(rt.scopeName,rt),rt.injectTo&&rt.injectTo.forEach(it=>{this._injections.get(it)||this._injections.set(it,[]),this._injections.get(it).push(rt.scopeName)})}getInjections(rt){const it=rt.split(".");let lt=[];for(let ct=1;ct<=it.length;ct++){const ut=it.slice(0,ct).join(".");lt=[...lt,...this._injections.get(ut)||[]]}return lt}}let instancesCount=0;function createShikiInternalSync(Ye){instancesCount+=1,Ye.warnings!==!1&&instancesCount>=10&&instancesCount%10===0&&console.warn(`[Shiki] ${instancesCount} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let rt=!1;if(!Ye.engine)throw new ShikiError$1("`engine` option is required for synchronous mode");const it=(Ye.langs||[]).flat(1),lt=(Ye.themes||[]).flat(1).map(normalizeTheme),ct=new Resolver(Ye.engine,it),ut=new Registry(ct,lt,it,Ye.langAlias);let ht;function ft(Rt){kt();const Tt=ut.getGrammar(typeof Rt=="string"?Rt:Rt.name);if(!Tt)throw new ShikiError$1(`Language \`${Rt}\` not found, you may need to load it first`);return Tt}function pt(Rt){if(Rt==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};kt();const Tt=ut.getTheme(Rt);if(!Tt)throw new ShikiError$1(`Theme \`${Rt}\` not found, you may need to load it first`);return Tt}function mt(Rt){kt();const Tt=pt(Rt);ht!==Rt&&(ut.setTheme(Tt),ht=Rt);const Mt=ut.getColorMap();return{theme:Tt,colorMap:Mt}}function gt(){return kt(),ut.getLoadedThemes()}function yt(){return kt(),ut.getLoadedLanguages()}function xt(...Rt){kt(),ut.loadLanguages(Rt.flat(1))}async function bt(...Rt){return xt(await resolveLangs(Rt))}function _t(...Rt){kt();for(const Tt of Rt.flat(1))ut.loadTheme(Tt)}async function Ct(...Rt){return kt(),_t(await resolveThemes(Rt))}function kt(){if(rt)throw new ShikiError$1("Shiki instance has been disposed")}function St(){rt||(rt=!0,ut.dispose(),instancesCount-=1)}return{setTheme:mt,getTheme:pt,getLanguage:ft,getLoadedThemes:gt,getLoadedLanguages:yt,loadLanguage:bt,loadLanguageSync:xt,loadTheme:Ct,loadThemeSync:_t,dispose:St,[Symbol.dispose]:St}}async function createShikiInternal(Ye){Ye.engine||warnDeprecated("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[rt,it,lt]=await Promise.all([resolveThemes(Ye.themes||[]),resolveLangs(Ye.langs||[]),Ye.engine]);return createShikiInternalSync({...Ye,themes:rt,langs:it,engine:lt})}async function createHighlighterCore(Ye){const rt=await createShikiInternal(Ye);return{getLastGrammarState:(...it)=>getLastGrammarState(rt,...it),codeToTokensBase:(it,lt)=>codeToTokensBase(rt,it,lt),codeToTokensWithThemes:(it,lt)=>codeToTokensWithThemes(rt,it,lt),codeToTokens:(it,lt)=>codeToTokens(rt,it,lt),codeToHast:(it,lt)=>codeToHast(rt,it,lt),codeToHtml:(it,lt)=>codeToHtml(rt,it,lt),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...rt,getInternalContext:()=>rt}}function createdBundledHighlighter(Ye){const rt=Ye.langs,it=Ye.themes,lt=Ye.engine;async function ct(ut){function ht(yt){if(typeof yt=="string"){if(isSpecialLang(yt))return[];yt=ut.langAlias?.[yt]||yt;const xt=rt[yt];if(!xt)throw new ShikiError$2(`Language \`${yt}\` is not included in this bundle. You may want to load it from external source.`);return xt}return yt}function ft(yt){if(isSpecialTheme(yt))return"none";if(typeof yt=="string"){const xt=it[yt];if(!xt)throw new ShikiError$2(`Theme \`${yt}\` is not included in this bundle. You may want to load it from external source.`);return xt}return yt}const pt=(ut.themes??[]).map(yt=>ft(yt)),mt=(ut.langs??[]).map(yt=>ht(yt)),gt=await createHighlighterCore({engine:ut.engine??lt(),...ut,themes:pt,langs:mt});return{...gt,loadLanguage(...yt){return gt.loadLanguage(...yt.map(ht))},loadTheme(...yt){return gt.loadTheme(...yt.map(ft))},getBundledLanguages(){return rt},getBundledThemes(){return it}}}return ct}const bundledLanguagesInfo=[{id:"abap",name:"ABAP",import:(()=>__vitePreload(()=>import("./abap-BdImnpbu.js"),[],import.meta.url))},{id:"actionscript-3",name:"ActionScript",import:(()=>__vitePreload(()=>import("./actionscript-3-CfeIJUat.js"),[],import.meta.url))},{id:"ada",name:"Ada",import:(()=>__vitePreload(()=>import("./ada-bCR0ucgS.js"),[],import.meta.url))},{id:"angular-html",name:"Angular HTML",import:(()=>__vitePreload(()=>import("./angular-html-CU67Zn6k.js").then(Ye=>Ye.f),__vite__mapDeps([0,1,2,3]),import.meta.url))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>__vitePreload(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5]),import.meta.url))},{id:"apache",name:"Apache Conf",import:(()=>__vitePreload(()=>import("./apache-Pmp26Uib.js"),[],import.meta.url))},{id:"apex",name:"Apex",import:(()=>__vitePreload(()=>import("./apex-DhZLUxFE.js"),[],import.meta.url))},{id:"apl",name:"APL",import:(()=>__vitePreload(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9]),import.meta.url))},{id:"applescript",name:"AppleScript",import:(()=>__vitePreload(()=>import("./applescript-Co6uUVPk.js"),[],import.meta.url))},{id:"ara",name:"Ara",import:(()=>__vitePreload(()=>import("./ara-BRHolxvo.js"),[],import.meta.url))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>__vitePreload(()=>import("./asciidoc-Dv7Oe6Be.js"),[],import.meta.url))},{id:"asm",name:"Assembly",import:(()=>__vitePreload(()=>import("./asm-D_Q5rh1f.js"),[],import.meta.url))},{id:"astro",name:"Astro",import:(()=>__vitePreload(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13]),import.meta.url))},{id:"awk",name:"AWK",import:(()=>__vitePreload(()=>import("./awk-DMzUqQB5.js"),[],import.meta.url))},{id:"ballerina",name:"Ballerina",import:(()=>__vitePreload(()=>import("./ballerina-BFfxhgS-.js"),[],import.meta.url))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>__vitePreload(()=>import("./bat-BkioyH1T.js"),[],import.meta.url))},{id:"beancount",name:"Beancount",import:(()=>__vitePreload(()=>import("./beancount-k_qm7-4y.js"),[],import.meta.url))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>__vitePreload(()=>import("./berry-D08WgyRC.js"),[],import.meta.url))},{id:"bibtex",name:"BibTeX",import:(()=>__vitePreload(()=>import("./bibtex-CHM0blh-.js"),[],import.meta.url))},{id:"bicep",name:"Bicep",import:(()=>__vitePreload(()=>import("./bicep-Bmn6On1c.js"),[],import.meta.url))},{id:"blade",name:"Blade",import:(()=>__vitePreload(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]),import.meta.url))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>__vitePreload(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18]),import.meta.url))},{id:"c",name:"C",import:(()=>__vitePreload(()=>import("./c-BIGW1oBm.js"),[],import.meta.url))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>__vitePreload(()=>import("./cadence-Bv_4Rxtq.js"),[],import.meta.url))},{id:"cairo",name:"Cairo",import:(()=>__vitePreload(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20]),import.meta.url))},{id:"clarity",name:"Clarity",import:(()=>__vitePreload(()=>import("./clarity-D53aC0YG.js"),[],import.meta.url))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>__vitePreload(()=>import("./clojure-P80f7IUj.js"),[],import.meta.url))},{id:"cmake",name:"CMake",import:(()=>__vitePreload(()=>import("./cmake-D1j8_8rp.js"),[],import.meta.url))},{id:"cobol",name:"COBOL",import:(()=>__vitePreload(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8]),import.meta.url))},{id:"codeowners",name:"CODEOWNERS",import:(()=>__vitePreload(()=>import("./codeowners-Bp6g37R7.js"),[],import.meta.url))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>__vitePreload(()=>import("./codeql-DsOJ9woJ.js"),[],import.meta.url))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>__vitePreload(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2]),import.meta.url))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>__vitePreload(()=>import("./common-lisp-Cg-RD9OK.js"),[],import.meta.url))},{id:"coq",name:"Coq",import:(()=>__vitePreload(()=>import("./coq-DkFqJrB1.js"),[],import.meta.url))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>__vitePreload(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16]),import.meta.url))},{id:"crystal",name:"Crystal",import:(()=>__vitePreload(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28]),import.meta.url))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>__vitePreload(()=>import("./csharp-CX12Zw3r.js"),[],import.meta.url))},{id:"css",name:"CSS",import:(()=>__vitePreload(()=>import("./css-DPfMkruS.js"),[],import.meta.url))},{id:"csv",name:"CSV",import:(()=>__vitePreload(()=>import("./csv-fuZLfV_i.js"),[],import.meta.url))},{id:"cue",name:"CUE",import:(()=>__vitePreload(()=>import("./cue-D82EKSYY.js"),[],import.meta.url))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>__vitePreload(()=>import("./cypher-COkxafJQ.js"),[],import.meta.url))},{id:"d",name:"D",import:(()=>__vitePreload(()=>import("./d-85-TOEBH.js"),[],import.meta.url))},{id:"dart",name:"Dart",import:(()=>__vitePreload(()=>import("./dart-CF10PKvl.js"),[],import.meta.url))},{id:"dax",name:"DAX",import:(()=>__vitePreload(()=>import("./dax-CEL-wOlO.js"),[],import.meta.url))},{id:"desktop",name:"Desktop",import:(()=>__vitePreload(()=>import("./desktop-BmXAJ9_W.js"),[],import.meta.url))},{id:"diff",name:"Diff",import:(()=>__vitePreload(()=>import("./diff-D97Zzqfu.js"),[],import.meta.url))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>__vitePreload(()=>import("./docker-BcOcwvcX.js"),[],import.meta.url))},{id:"dotenv",name:"dotEnv",import:(()=>__vitePreload(()=>import("./dotenv-Da5cRb03.js"),[],import.meta.url))},{id:"dream-maker",name:"Dream Maker",import:(()=>__vitePreload(()=>import("./dream-maker-BtqSS_iP.js"),[],import.meta.url))},{id:"edge",name:"Edge",import:(()=>__vitePreload(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15]),import.meta.url))},{id:"elixir",name:"Elixir",import:(()=>__vitePreload(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3]),import.meta.url))},{id:"elm",name:"Elm",import:(()=>__vitePreload(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26]),import.meta.url))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>__vitePreload(()=>import("./emacs-lisp-C9XAeP06.js"),[],import.meta.url))},{id:"erb",name:"ERB",import:(()=>__vitePreload(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>__vitePreload(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40]),import.meta.url))},{id:"fennel",name:"Fennel",import:(()=>__vitePreload(()=>import("./fennel-BYunw83y.js"),[],import.meta.url))},{id:"fish",name:"Fish",import:(()=>__vitePreload(()=>import("./fish-BvzEVeQv.js"),[],import.meta.url))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>__vitePreload(()=>import("./fluent-C4IJs8-o.js"),[],import.meta.url))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>__vitePreload(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42]),import.meta.url))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>__vitePreload(()=>import("./fortran-free-form-D22FLkUw.js"),[],import.meta.url))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>__vitePreload(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40]),import.meta.url))},{id:"gdresource",name:"GDResource",import:(()=>__vitePreload(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46]),import.meta.url))},{id:"gdscript",name:"GDScript",import:(()=>__vitePreload(()=>import("./gdscript-DTMYz4Jt.js"),[],import.meta.url))},{id:"gdshader",name:"GDShader",import:(()=>__vitePreload(()=>import("./gdshader-DkwncUOv.js"),[],import.meta.url))},{id:"genie",name:"Genie",import:(()=>__vitePreload(()=>import("./genie-D0YGMca9.js"),[],import.meta.url))},{id:"gherkin",name:"Gherkin",import:(()=>__vitePreload(()=>import("./gherkin-DyxjwDmM.js"),[],import.meta.url))},{id:"git-commit",name:"Git Commit Message",import:(()=>__vitePreload(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48]),import.meta.url))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>__vitePreload(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28]),import.meta.url))},{id:"gleam",name:"Gleam",import:(()=>__vitePreload(()=>import("./gleam-BspZqrRM.js"),[],import.meta.url))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>__vitePreload(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1]),import.meta.url))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>__vitePreload(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1]),import.meta.url))},{id:"glsl",name:"GLSL",import:(()=>__vitePreload(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26]),import.meta.url))},{id:"gnuplot",name:"Gnuplot",import:(()=>__vitePreload(()=>import("./gnuplot-DdkO51Og.js"),[],import.meta.url))},{id:"go",name:"Go",import:(()=>__vitePreload(()=>import("./go-Dn2_MT6a.js"),[],import.meta.url))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>__vitePreload(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13]),import.meta.url))},{id:"groovy",name:"Groovy",import:(()=>__vitePreload(()=>import("./groovy-gcz8RCvz.js"),[],import.meta.url))},{id:"hack",name:"Hack",import:(()=>__vitePreload(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16]),import.meta.url))},{id:"haml",name:"Ruby Haml",import:(()=>__vitePreload(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3]),import.meta.url))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>__vitePreload(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38]),import.meta.url))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>__vitePreload(()=>import("./haskell-Df6bDoY_.js"),[],import.meta.url))},{id:"haxe",name:"Haxe",import:(()=>__vitePreload(()=>import("./haxe-CzTSHFRz.js"),[],import.meta.url))},{id:"hcl",name:"HashiCorp HCL",import:(()=>__vitePreload(()=>import("./hcl-BWvSN4gD.js"),[],import.meta.url))},{id:"hjson",name:"Hjson",import:(()=>__vitePreload(()=>import("./hjson-D5-asLiD.js"),[],import.meta.url))},{id:"hlsl",name:"HLSL",import:(()=>__vitePreload(()=>import("./hlsl-D3lLCCz7.js"),[],import.meta.url))},{id:"html",name:"HTML",import:(()=>__vitePreload(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3]),import.meta.url))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>__vitePreload(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3]),import.meta.url))},{id:"http",name:"HTTP",import:(()=>__vitePreload(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13]),import.meta.url))},{id:"hurl",name:"Hurl",import:(()=>__vitePreload(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56]),import.meta.url))},{id:"hxml",name:"HXML",import:(()=>__vitePreload(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58]),import.meta.url))},{id:"hy",name:"Hy",import:(()=>__vitePreload(()=>import("./hy-DFXneXwc.js"),[],import.meta.url))},{id:"imba",name:"Imba",import:(()=>__vitePreload(()=>import("./imba-DGztddWO.js"),[],import.meta.url))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>__vitePreload(()=>import("./ini-BEwlwnbL.js"),[],import.meta.url))},{id:"java",name:"Java",import:(()=>__vitePreload(()=>import("./java-CylS5w8V.js"),[],import.meta.url))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>__vitePreload(()=>import("./javascript-wDzz0qaB.js"),[],import.meta.url))},{id:"jinja",name:"Jinja",import:(()=>__vitePreload(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3]),import.meta.url))},{id:"jison",name:"Jison",import:(()=>__vitePreload(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2]),import.meta.url))},{id:"json",name:"JSON",import:(()=>__vitePreload(()=>import("./json-Cp-IABpG.js"),[],import.meta.url))},{id:"json5",name:"JSON5",import:(()=>__vitePreload(()=>import("./json5-C9tS-k6U.js"),[],import.meta.url))},{id:"jsonc",name:"JSON with Comments",import:(()=>__vitePreload(()=>import("./jsonc-Des-eS-w.js"),[],import.meta.url))},{id:"jsonl",name:"JSON Lines",import:(()=>__vitePreload(()=>import("./jsonl-DcaNXYhu.js"),[],import.meta.url))},{id:"jsonnet",name:"Jsonnet",import:(()=>__vitePreload(()=>import("./jsonnet-DFQXde-d.js"),[],import.meta.url))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>__vitePreload(()=>import("./jssm-C2t-YnRu.js"),[],import.meta.url))},{id:"jsx",name:"JSX",import:(()=>__vitePreload(()=>import("./jsx-g9-lgVsj.js"),[],import.meta.url))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>__vitePreload(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62]),import.meta.url))},{id:"kdl",name:"KDL",import:(()=>__vitePreload(()=>import("./kdl-DV7GczEv.js"),[],import.meta.url))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>__vitePreload(()=>import("./kotlin-BdnUsdx6.js"),[],import.meta.url))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>__vitePreload(()=>import("./kusto-BvAqAH-y.js"),[],import.meta.url))},{id:"latex",name:"LaTeX",import:(()=>__vitePreload(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62]),import.meta.url))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>__vitePreload(()=>import("./lean-DP1Csr6i.js"),[],import.meta.url))},{id:"less",name:"Less",import:(()=>__vitePreload(()=>import("./less-B1dDrJ26.js"),[],import.meta.url))},{id:"liquid",name:"Liquid",import:(()=>__vitePreload(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9]),import.meta.url))},{id:"llvm",name:"LLVM IR",import:(()=>__vitePreload(()=>import("./llvm-BtvRca6l.js"),[],import.meta.url))},{id:"log",name:"Log file",import:(()=>__vitePreload(()=>import("./log-2UxHyX5q.js"),[],import.meta.url))},{id:"logo",name:"Logo",import:(()=>__vitePreload(()=>import("./logo-BtOb2qkB.js"),[],import.meta.url))},{id:"lua",name:"Lua",import:(()=>__vitePreload(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26]),import.meta.url))},{id:"luau",name:"Luau",import:(()=>__vitePreload(()=>import("./luau-CXu1NL6O.js"),[],import.meta.url))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>__vitePreload(()=>import("./make-CHLpvVh8.js"),[],import.meta.url))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>__vitePreload(()=>import("./markdown-Cvjx9yec.js"),[],import.meta.url))},{id:"marko",name:"Marko",import:(()=>__vitePreload(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11]),import.meta.url))},{id:"matlab",name:"MATLAB",import:(()=>__vitePreload(()=>import("./matlab-D7o27uSR.js"),[],import.meta.url))},{id:"mdc",name:"MDC",import:(()=>__vitePreload(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3]),import.meta.url))},{id:"mdx",name:"MDX",import:(()=>__vitePreload(()=>import("./mdx-Cmh6b_Ma.js"),[],import.meta.url))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>__vitePreload(()=>import("./mermaid-DKYwYmdq.js"),[],import.meta.url))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>__vitePreload(()=>import("./mipsasm-CKIfxQSi.js"),[],import.meta.url))},{id:"mojo",name:"Mojo",import:(()=>__vitePreload(()=>import("./mojo-1DNp92w6.js"),[],import.meta.url))},{id:"move",name:"Move",import:(()=>__vitePreload(()=>import("./move-Bu9oaDYs.js"),[],import.meta.url))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>__vitePreload(()=>import("./narrat-DRg8JJMk.js"),[],import.meta.url))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>__vitePreload(()=>import("./nextflow-CUEJCptM.js"),[],import.meta.url))},{id:"nginx",name:"Nginx",import:(()=>__vitePreload(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26]),import.meta.url))},{id:"nim",name:"Nim",import:(()=>__vitePreload(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40]),import.meta.url))},{id:"nix",name:"Nix",import:(()=>__vitePreload(()=>import("./nix-BbRYJGeE.js"),[],import.meta.url))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>__vitePreload(()=>import("./nushell-C-sUppwS.js"),[],import.meta.url))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>__vitePreload(()=>import("./objective-c-DXmwc3jG.js"),[],import.meta.url))},{id:"objective-cpp",name:"Objective-C++",import:(()=>__vitePreload(()=>import("./objective-cpp-CLxacb5B.js"),[],import.meta.url))},{id:"ocaml",name:"OCaml",import:(()=>__vitePreload(()=>import("./ocaml-C0hk2d4L.js"),[],import.meta.url))},{id:"pascal",name:"Pascal",import:(()=>__vitePreload(()=>import("./pascal-D93ZcfNL.js"),[],import.meta.url))},{id:"perl",name:"Perl",import:(()=>__vitePreload(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16]),import.meta.url))},{id:"php",name:"PHP",import:(()=>__vitePreload(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9]),import.meta.url))},{id:"pkl",name:"Pkl",import:(()=>__vitePreload(()=>import("./pkl-u5AG7uiY.js"),[],import.meta.url))},{id:"plsql",name:"PL/SQL",import:(()=>__vitePreload(()=>import("./plsql-ChMvpjG-.js"),[],import.meta.url))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>__vitePreload(()=>import("./po-BTJTHyun.js"),[],import.meta.url))},{id:"polar",name:"Polar",import:(()=>__vitePreload(()=>import("./polar-C0HS_06l.js"),[],import.meta.url))},{id:"postcss",name:"PostCSS",import:(()=>__vitePreload(()=>import("./postcss-CXtECtnM.js"),[],import.meta.url))},{id:"powerquery",name:"PowerQuery",import:(()=>__vitePreload(()=>import("./powerquery-CEu0bR-o.js"),[],import.meta.url))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>__vitePreload(()=>import("./powershell-Dpen1YoG.js"),[],import.meta.url))},{id:"prisma",name:"Prisma",import:(()=>__vitePreload(()=>import("./prisma-Dd19v3D-.js"),[],import.meta.url))},{id:"prolog",name:"Prolog",import:(()=>__vitePreload(()=>import("./prolog-CbFg5uaA.js"),[],import.meta.url))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>__vitePreload(()=>import("./proto-DyJlTyXw.js"),[],import.meta.url))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>__vitePreload(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1]),import.meta.url))},{id:"puppet",name:"Puppet",import:(()=>__vitePreload(()=>import("./puppet-BMWR74SV.js"),[],import.meta.url))},{id:"purescript",name:"PureScript",import:(()=>__vitePreload(()=>import("./purescript-CklMAg4u.js"),[],import.meta.url))},{id:"python",name:"Python",aliases:["py"],import:(()=>__vitePreload(()=>import("./python-B6aJPvgy.js"),[],import.meta.url))},{id:"qml",name:"QML",import:(()=>__vitePreload(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2]),import.meta.url))},{id:"qmldir",name:"QML Directory",import:(()=>__vitePreload(()=>import("./qmldir-C8lEn-DE.js"),[],import.meta.url))},{id:"qss",name:"Qt Style Sheets",import:(()=>__vitePreload(()=>import("./qss-IeuSbFQv.js"),[],import.meta.url))},{id:"r",name:"R",import:(()=>__vitePreload(()=>import("./r-DiinP2Uv.js"),[],import.meta.url))},{id:"racket",name:"Racket",import:(()=>__vitePreload(()=>import("./racket-BqYA7rlc.js"),[],import.meta.url))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>__vitePreload(()=>import("./raku-DXvB9xmW.js"),[],import.meta.url))},{id:"razor",name:"ASP.NET Razor",import:(()=>__vitePreload(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76]),import.meta.url))},{id:"reg",name:"Windows Registry Script",import:(()=>__vitePreload(()=>import("./reg-C-SQnVFl.js"),[],import.meta.url))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>__vitePreload(()=>import("./regexp-CDVJQ6XC.js"),[],import.meta.url))},{id:"rel",name:"Rel",import:(()=>__vitePreload(()=>import("./rel-C3B-1QV4.js"),[],import.meta.url))},{id:"riscv",name:"RISC-V",import:(()=>__vitePreload(()=>import("./riscv-BM1_JUlF.js"),[],import.meta.url))},{id:"rosmsg",name:"ROS Interface",import:(()=>__vitePreload(()=>import("./rosmsg-BJDFO7_C.js"),[],import.meta.url))},{id:"rst",name:"reStructuredText",import:(()=>__vitePreload(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37]),import.meta.url))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>__vitePreload(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>__vitePreload(()=>import("./rust-B1yitclQ.js"),[],import.meta.url))},{id:"sas",name:"SAS",import:(()=>__vitePreload(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16]),import.meta.url))},{id:"sass",name:"Sass",import:(()=>__vitePreload(()=>import("./sass-Cj5Yp3dK.js"),[],import.meta.url))},{id:"scala",name:"Scala",import:(()=>__vitePreload(()=>import("./scala-C151Ov-r.js"),[],import.meta.url))},{id:"scheme",name:"Scheme",import:(()=>__vitePreload(()=>import("./scheme-C98Dy4si.js"),[],import.meta.url))},{id:"scss",name:"SCSS",import:(()=>__vitePreload(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3]),import.meta.url))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>__vitePreload(()=>import("./sdbl-DVxCFoDh.js"),[],import.meta.url))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>__vitePreload(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81]),import.meta.url))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>__vitePreload(()=>import("./shellscript-Yzrsuije.js"),[],import.meta.url))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>__vitePreload(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28]),import.meta.url))},{id:"smalltalk",name:"Smalltalk",import:(()=>__vitePreload(()=>import("./smalltalk-BERRCDM3.js"),[],import.meta.url))},{id:"solidity",name:"Solidity",import:(()=>__vitePreload(()=>import("./solidity-BbcW6ACK.js"),[],import.meta.url))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>__vitePreload(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3]),import.meta.url))},{id:"sparql",name:"SPARQL",import:(()=>__vitePreload(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85]),import.meta.url))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>__vitePreload(()=>import("./splunk-BtCnVYZw.js"),[],import.meta.url))},{id:"sql",name:"SQL",import:(()=>__vitePreload(()=>import("./sql-BLtJtn59.js"),[],import.meta.url))},{id:"ssh-config",name:"SSH Config",import:(()=>__vitePreload(()=>import("./ssh-config-_ykCGR6B.js"),[],import.meta.url))},{id:"stata",name:"Stata",import:(()=>__vitePreload(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16]),import.meta.url))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>__vitePreload(()=>import("./stylus-BEDo0Tqx.js"),[],import.meta.url))},{id:"svelte",name:"Svelte",import:(()=>__vitePreload(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12]),import.meta.url))},{id:"swift",name:"Swift",import:(()=>__vitePreload(()=>import("./swift-Dg5xB15N.js"),[],import.meta.url))},{id:"system-verilog",name:"SystemVerilog",import:(()=>__vitePreload(()=>import("./system-verilog-CnnmHF94.js"),[],import.meta.url))},{id:"systemd",name:"Systemd Units",import:(()=>__vitePreload(()=>import("./systemd-4A_iFExJ.js"),[],import.meta.url))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>__vitePreload(()=>import("./talonscript-CkByrt1z.js"),[],import.meta.url))},{id:"tasl",name:"Tasl",import:(()=>__vitePreload(()=>import("./tasl-QIJgUcNo.js"),[],import.meta.url))},{id:"tcl",name:"Tcl",import:(()=>__vitePreload(()=>import("./tcl-dwOrl1Do.js"),[],import.meta.url))},{id:"templ",name:"Templ",import:(()=>__vitePreload(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3]),import.meta.url))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>__vitePreload(()=>import("./terraform-BETggiCN.js"),[],import.meta.url))},{id:"tex",name:"TeX",import:(()=>__vitePreload(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62]),import.meta.url))},{id:"toml",name:"TOML",import:(()=>__vitePreload(()=>import("./toml-vGWfd6FD.js"),[],import.meta.url))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>__vitePreload(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8]),import.meta.url))},{id:"tsv",name:"TSV",import:(()=>__vitePreload(()=>import("./tsv-B_m7g4N7.js"),[],import.meta.url))},{id:"tsx",name:"TSX",import:(()=>__vitePreload(()=>import("./tsx-COt5Ahok.js"),[],import.meta.url))},{id:"turtle",name:"Turtle",import:(()=>__vitePreload(()=>import("./turtle-BsS91CYL.js"),[],import.meta.url))},{id:"twig",name:"Twig",import:(()=>__vitePreload(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]),import.meta.url))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>__vitePreload(()=>import("./typescript-BPQ3VLAy.js"),[],import.meta.url))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>__vitePreload(()=>import("./typespec-Df68jz8_.js"),[],import.meta.url))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>__vitePreload(()=>import("./typst-DHCkPAjA.js"),[],import.meta.url))},{id:"v",name:"V",import:(()=>__vitePreload(()=>import("./v-BcVCzyr7.js"),[],import.meta.url))},{id:"vala",name:"Vala",import:(()=>__vitePreload(()=>import("./vala-CsfeWuGM.js"),[],import.meta.url))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>__vitePreload(()=>import("./vb-D17OF-Vu.js"),[],import.meta.url))},{id:"verilog",name:"Verilog",import:(()=>__vitePreload(()=>import("./verilog-BQ8w6xss.js"),[],import.meta.url))},{id:"vhdl",name:"VHDL",import:(()=>__vitePreload(()=>import("./vhdl-CeAyd5Ju.js"),[],import.meta.url))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>__vitePreload(()=>import("./viml-CJc9bBzg.js"),[],import.meta.url))},{id:"vue",name:"Vue",import:(()=>__vitePreload(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1]),import.meta.url))},{id:"vue-html",name:"Vue HTML",import:(()=>__vitePreload(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1]),import.meta.url))},{id:"vue-vine",name:"Vue Vine",import:(()=>__vitePreload(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1]),import.meta.url))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>__vitePreload(()=>import("./vyper-CDx5xZoG.js"),[],import.meta.url))},{id:"wasm",name:"WebAssembly",import:(()=>__vitePreload(()=>import("./wasm-MzD3tlZU.js"),[],import.meta.url))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>__vitePreload(()=>import("./wenyan-BV7otONQ.js"),[],import.meta.url))},{id:"wgsl",name:"WGSL",import:(()=>__vitePreload(()=>import("./wgsl-Dx-B1_4e.js"),[],import.meta.url))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>__vitePreload(()=>import("./wikitext-BhOHFoWU.js"),[],import.meta.url))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>__vitePreload(()=>import("./wit-5i3qLPDT.js"),[],import.meta.url))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>__vitePreload(()=>import("./wolfram-lXgVvXCa.js"),[],import.meta.url))},{id:"xml",name:"XML",import:(()=>__vitePreload(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8]),import.meta.url))},{id:"xsl",name:"XSL",import:(()=>__vitePreload(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8]),import.meta.url))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>__vitePreload(()=>import("./yaml-Buea-lGh.js"),[],import.meta.url))},{id:"zenscript",name:"ZenScript",import:(()=>__vitePreload(()=>import("./zenscript-DVFEvuxE.js"),[],import.meta.url))},{id:"zig",name:"Zig",import:(()=>__vitePreload(()=>import("./zig-VOosw3JB.js"),[],import.meta.url))}],bundledLanguagesBase=Object.fromEntries(bundledLanguagesInfo.map(Ye=>[Ye.id,Ye.import])),bundledLanguagesAlias=Object.fromEntries(bundledLanguagesInfo.flatMap(Ye=>Ye.aliases?.map(rt=>[rt,Ye.import])||[])),bundledLanguages={...bundledLanguagesBase,...bundledLanguagesAlias},bundledThemesInfo=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>__vitePreload(()=>import("./andromeeda-C-Jbm3Hp.js"),[],import.meta.url))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>__vitePreload(()=>import("./aurora-x-D-2ljcwZ.js"),[],import.meta.url))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>__vitePreload(()=>import("./ayu-dark-Cv9koXgw.js"),[],import.meta.url))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>__vitePreload(()=>import("./catppuccin-frappe-DFWUc33u.js"),[],import.meta.url))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>__vitePreload(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[],import.meta.url))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>__vitePreload(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[],import.meta.url))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>__vitePreload(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[],import.meta.url))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>__vitePreload(()=>import("./dark-plus-eOWES_5F.js"),[],import.meta.url))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>__vitePreload(()=>import("./dracula-BzJJZx-M.js"),[],import.meta.url))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>__vitePreload(()=>import("./dracula-soft-BXkSAIEj.js"),[],import.meta.url))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>__vitePreload(()=>import("./everforest-dark-BgDCqdQA.js"),[],import.meta.url))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>__vitePreload(()=>import("./everforest-light-C8M2exoo.js"),[],import.meta.url))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>__vitePreload(()=>import("./github-dark-DHJKELXO.js"),[],import.meta.url))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>__vitePreload(()=>import("./github-dark-default-Cuk6v7N8.js"),[],import.meta.url))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>__vitePreload(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[],import.meta.url))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>__vitePreload(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[],import.meta.url))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>__vitePreload(()=>import("./github-light-DAi9KRSo.js"),[],import.meta.url))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>__vitePreload(()=>import("./github-light-default-D7oLnXFd.js"),[],import.meta.url))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>__vitePreload(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[],import.meta.url))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>__vitePreload(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[],import.meta.url))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>__vitePreload(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[],import.meta.url))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>__vitePreload(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[],import.meta.url))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>__vitePreload(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[],import.meta.url))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>__vitePreload(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[],import.meta.url))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>__vitePreload(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[],import.meta.url))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>__vitePreload(()=>import("./houston-DnULxvSX.js"),[],import.meta.url))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>__vitePreload(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[],import.meta.url))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>__vitePreload(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[],import.meta.url))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>__vitePreload(()=>import("./kanagawa-wave-DWedfzmr.js"),[],import.meta.url))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>__vitePreload(()=>import("./laserwave-DUszq2jm.js"),[],import.meta.url))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>__vitePreload(()=>import("./light-plus-B7mTdjB0.js"),[],import.meta.url))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>__vitePreload(()=>import("./material-theme-D5KoaKCx.js"),[],import.meta.url))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>__vitePreload(()=>import("./material-theme-darker-BfHTSMKl.js"),[],import.meta.url))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>__vitePreload(()=>import("./material-theme-lighter-B0m2ddpp.js"),[],import.meta.url))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>__vitePreload(()=>import("./material-theme-ocean-CyktbL80.js"),[],import.meta.url))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>__vitePreload(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[],import.meta.url))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>__vitePreload(()=>import("./min-dark-CafNBF8u.js"),[],import.meta.url))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>__vitePreload(()=>import("./min-light-CTRr51gU.js"),[],import.meta.url))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>__vitePreload(()=>import("./monokai-D4h5O-jR.js"),[],import.meta.url))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>__vitePreload(()=>import("./night-owl-C39BiMTA.js"),[],import.meta.url))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>__vitePreload(()=>import("./nord-Ddv68eIx.js"),[],import.meta.url))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>__vitePreload(()=>import("./one-dark-pro-DVMEJ2y_.js"),[],import.meta.url))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>__vitePreload(()=>import("./one-light-PoHY5YXO.js"),[],import.meta.url))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>__vitePreload(()=>import("./plastic-3e1v2bzS.js"),[],import.meta.url))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>__vitePreload(()=>import("./poimandres-CS3Unz2-.js"),[],import.meta.url))},{id:"red",displayName:"Red",type:"dark",import:(()=>__vitePreload(()=>import("./red-bN70gL4F.js"),[],import.meta.url))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>__vitePreload(()=>import("./rose-pine-BHrmToEH.js"),[],import.meta.url))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>__vitePreload(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[],import.meta.url))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>__vitePreload(()=>import("./rose-pine-moon-NleAzG8P.js"),[],import.meta.url))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>__vitePreload(()=>import("./slack-dark-BthQWCQV.js"),[],import.meta.url))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>__vitePreload(()=>import("./slack-ochin-DqwNpetd.js"),[],import.meta.url))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>__vitePreload(()=>import("./snazzy-light-Bw305WKR.js"),[],import.meta.url))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>__vitePreload(()=>import("./solarized-dark-DXbdFlpD.js"),[],import.meta.url))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>__vitePreload(()=>import("./solarized-light-L9t79GZl.js"),[],import.meta.url))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>__vitePreload(()=>import("./synthwave-84-CbfX1IO0.js"),[],import.meta.url))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>__vitePreload(()=>import("./tokyo-night-hegEt444.js"),[],import.meta.url))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>__vitePreload(()=>import("./vesper-DU1UobuO.js"),[],import.meta.url))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>__vitePreload(()=>import("./vitesse-black-Bkuqu6BP.js"),[],import.meta.url))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>__vitePreload(()=>import("./vitesse-dark-D0r3Knsf.js"),[],import.meta.url))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>__vitePreload(()=>import("./vitesse-light-CVO1_9PV.js"),[],import.meta.url))}],bundledThemes=Object.fromEntries(bundledThemesInfo.map(Ye=>[Ye.id,Ye.import]));class ShikiError extends Error{constructor(rt){super(rt),this.name="ShikiError"}}function getHeapMax(){return 2147483648}function _emscripten_get_now(){return typeof performance<"u"?performance.now():Date.now()}const alignUp=(Ye,rt)=>Ye+(rt-Ye%rt)%rt;async function main(Ye){let rt,it;const lt={};function ct(bt){it=bt,lt.HEAPU8=new Uint8Array(bt),lt.HEAPU32=new Uint32Array(bt)}function ut(bt,_t,Ct){lt.HEAPU8.copyWithin(bt,_t,_t+Ct)}function ht(bt){try{return rt.grow(bt-it.byteLength+65535>>>16),ct(rt.buffer),1}catch{}}function ft(bt){const _t=lt.HEAPU8.length;bt=bt>>>0;const Ct=getHeapMax();if(bt>Ct)return!1;for(let kt=1;kt<=4;kt*=2){let St=_t*(1+.2/kt);St=Math.min(St,bt+100663296);const Rt=Math.min(Ct,alignUp(Math.max(bt,St),65536));if(ht(Rt))return!0}return!1}const pt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function mt(bt,_t,Ct=1024){const kt=_t+Ct;let St=_t;for(;bt[St]&&!(St>=kt);)++St;if(St-_t>16&&bt.buffer&&pt)return pt.decode(bt.subarray(_t,St));let Rt="";for(;_t<St;){let Tt=bt[_t++];if(!(Tt&128)){Rt+=String.fromCharCode(Tt);continue}const Mt=bt[_t++]&63;if((Tt&224)===192){Rt+=String.fromCharCode((Tt&31)<<6|Mt);continue}const Pt=bt[_t++]&63;if((Tt&240)===224?Tt=(Tt&15)<<12|Mt<<6|Pt:Tt=(Tt&7)<<18|Mt<<12|Pt<<6|bt[_t++]&63,Tt<65536)Rt+=String.fromCharCode(Tt);else{const It=Tt-65536;Rt+=String.fromCharCode(55296|It>>10,56320|It&1023)}}return Rt}function gt(bt,_t){return bt?mt(lt.HEAPU8,bt,_t):""}const yt={emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:ut,emscripten_resize_heap:ft,fd_write:()=>0};async function xt(){const _t=await Ye({env:yt,wasi_snapshot_preview1:yt});rt=_t.memory,ct(rt.buffer),Object.assign(lt,_t),lt.UTF8ToString=gt}return await xt(),lt}var __defProp$1=Object.defineProperty,__defNormalProp=(Ye,rt,it)=>rt in Ye?__defProp$1(Ye,rt,{enumerable:!0,configurable:!0,writable:!0,value:it}):Ye[rt]=it,__publicField=(Ye,rt,it)=>__defNormalProp(Ye,typeof rt!="symbol"?rt+"":rt,it);let onigBinding=null;function throwLastOnigError(Ye){throw new ShikiError(Ye.UTF8ToString(Ye.getLastOnigError()))}class UtfString{constructor(rt){__publicField(this,"utf16Length"),__publicField(this,"utf8Length"),__publicField(this,"utf16Value"),__publicField(this,"utf8Value"),__publicField(this,"utf16OffsetToUtf8"),__publicField(this,"utf8OffsetToUtf16");const it=rt.length,lt=UtfString._utf8ByteLength(rt),ct=lt!==it,ut=ct?new Uint32Array(it+1):null;ct&&(ut[it]=lt);const ht=ct?new Uint32Array(lt+1):null;ct&&(ht[lt]=it);const ft=new Uint8Array(lt);let pt=0;for(let mt=0;mt<it;mt++){const gt=rt.charCodeAt(mt);let yt=gt,xt=!1;if(gt>=55296&&gt<=56319&&mt+1<it){const bt=rt.charCodeAt(mt+1);bt>=56320&&bt<=57343&&(yt=(gt-55296<<10)+65536|bt-56320,xt=!0)}ct&&(ut[mt]=pt,xt&&(ut[mt+1]=pt),yt<=127?ht[pt+0]=mt:yt<=2047?(ht[pt+0]=mt,ht[pt+1]=mt):yt<=65535?(ht[pt+0]=mt,ht[pt+1]=mt,ht[pt+2]=mt):(ht[pt+0]=mt,ht[pt+1]=mt,ht[pt+2]=mt,ht[pt+3]=mt)),yt<=127?ft[pt++]=yt:yt<=2047?(ft[pt++]=192|(yt&1984)>>>6,ft[pt++]=128|(yt&63)>>>0):yt<=65535?(ft[pt++]=224|(yt&61440)>>>12,ft[pt++]=128|(yt&4032)>>>6,ft[pt++]=128|(yt&63)>>>0):(ft[pt++]=240|(yt&1835008)>>>18,ft[pt++]=128|(yt&258048)>>>12,ft[pt++]=128|(yt&4032)>>>6,ft[pt++]=128|(yt&63)>>>0),xt&&mt++}this.utf16Length=it,this.utf8Length=lt,this.utf16Value=rt,this.utf8Value=ft,this.utf16OffsetToUtf8=ut,this.utf8OffsetToUtf16=ht}static _utf8ByteLength(rt){let it=0;for(let lt=0,ct=rt.length;lt<ct;lt++){const ut=rt.charCodeAt(lt);let ht=ut,ft=!1;if(ut>=55296&&ut<=56319&&lt+1<ct){const pt=rt.charCodeAt(lt+1);pt>=56320&&pt<=57343&&(ht=(ut-55296<<10)+65536|pt-56320,ft=!0)}ht<=127?it+=1:ht<=2047?it+=2:ht<=65535?it+=3:it+=4,ft&&lt++}return it}createString(rt){const it=rt.omalloc(this.utf8Length);return rt.HEAPU8.set(this.utf8Value,it),it}}const _OnigString=class Ui{constructor(rt){if(__publicField(this,"id",++Ui.LAST_ID),__publicField(this,"_onigBinding"),__publicField(this,"content"),__publicField(this,"utf16Length"),__publicField(this,"utf8Length"),__publicField(this,"utf16OffsetToUtf8"),__publicField(this,"utf8OffsetToUtf16"),__publicField(this,"ptr"),!onigBinding)throw new ShikiError("Must invoke loadWasm first.");this._onigBinding=onigBinding,this.content=rt;const it=new UtfString(rt);this.utf16Length=it.utf16Length,this.utf8Length=it.utf8Length,this.utf16OffsetToUtf8=it.utf16OffsetToUtf8,this.utf8OffsetToUtf16=it.utf8OffsetToUtf16,this.utf8Length<1e4&&!Ui._sharedPtrInUse?(Ui._sharedPtr||(Ui._sharedPtr=onigBinding.omalloc(1e4)),Ui._sharedPtrInUse=!0,onigBinding.HEAPU8.set(it.utf8Value,Ui._sharedPtr),this.ptr=Ui._sharedPtr):this.ptr=it.createString(onigBinding)}convertUtf8OffsetToUtf16(rt){return this.utf8OffsetToUtf16?rt<0?0:rt>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[rt]:rt}convertUtf16OffsetToUtf8(rt){return this.utf16OffsetToUtf8?rt<0?0:rt>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[rt]:rt}dispose(){this.ptr===Ui._sharedPtr?Ui._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};__publicField(_OnigString,"LAST_ID",0);__publicField(_OnigString,"_sharedPtr",0);__publicField(_OnigString,"_sharedPtrInUse",!1);let OnigString=_OnigString;class OnigScanner{constructor(rt){if(__publicField(this,"_onigBinding"),__publicField(this,"_ptr"),!onigBinding)throw new ShikiError("Must invoke loadWasm first.");const it=[],lt=[];for(let ft=0,pt=rt.length;ft<pt;ft++){const mt=new UtfString(rt[ft]);it[ft]=mt.createString(onigBinding),lt[ft]=mt.utf8Length}const ct=onigBinding.omalloc(4*rt.length);onigBinding.HEAPU32.set(it,ct/4);const ut=onigBinding.omalloc(4*rt.length);onigBinding.HEAPU32.set(lt,ut/4);const ht=onigBinding.createOnigScanner(ct,ut,rt.length);for(let ft=0,pt=rt.length;ft<pt;ft++)onigBinding.ofree(it[ft]);onigBinding.ofree(ut),onigBinding.ofree(ct),ht===0&&throwLastOnigError(onigBinding),this._onigBinding=onigBinding,this._ptr=ht}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(rt,it,lt){let ct=0;if(typeof lt=="number"&&(ct=lt),typeof rt=="string"){rt=new OnigString(rt);const ut=this._findNextMatchSync(rt,it,!1,ct);return rt.dispose(),ut}return this._findNextMatchSync(rt,it,!1,ct)}_findNextMatchSync(rt,it,lt,ct){const ut=this._onigBinding,ht=ut.findNextOnigScannerMatch(this._ptr,rt.id,rt.ptr,rt.utf8Length,rt.convertUtf16OffsetToUtf8(it),ct);if(ht===0)return null;const ft=ut.HEAPU32;let pt=ht/4;const mt=ft[pt++],gt=ft[pt++],yt=[];for(let xt=0;xt<gt;xt++){const bt=rt.convertUtf8OffsetToUtf16(ft[pt++]),_t=rt.convertUtf8OffsetToUtf16(ft[pt++]);yt[xt]={start:bt,end:_t,length:_t-bt}}return{index:mt,captureIndices:yt}}}function isInstantiatorOptionsObject(Ye){return typeof Ye.instantiator=="function"}function isInstantiatorModule(Ye){return typeof Ye.default=="function"}function isDataOptionsObject(Ye){return typeof Ye.data<"u"}function isResponse(Ye){return typeof Response<"u"&&Ye instanceof Response}function isArrayBuffer(Ye){return typeof ArrayBuffer<"u"&&(Ye instanceof ArrayBuffer||ArrayBuffer.isView(Ye))||typeof Buffer<"u"&&Buffer.isBuffer?.(Ye)||typeof SharedArrayBuffer<"u"&&Ye instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&Ye instanceof Uint32Array}let initPromise;function loadWasm(Ye){if(initPromise)return initPromise;async function rt(){onigBinding=await main(async it=>{let lt=Ye;return lt=await lt,typeof lt=="function"&&(lt=await lt(it)),typeof lt=="function"&&(lt=await lt(it)),isInstantiatorOptionsObject(lt)?lt=await lt.instantiator(it):isInstantiatorModule(lt)?lt=await lt.default(it):(isDataOptionsObject(lt)&&(lt=lt.data),isResponse(lt)?typeof WebAssembly.instantiateStreaming=="function"?lt=await _makeResponseStreamingLoader(lt)(it):lt=await _makeResponseNonStreamingLoader(lt)(it):isArrayBuffer(lt)?lt=await _makeArrayBufferLoader(lt)(it):lt instanceof WebAssembly.Module?lt=await _makeArrayBufferLoader(lt)(it):"default"in lt&&lt.default instanceof WebAssembly.Module&&(lt=await _makeArrayBufferLoader(lt.default)(it))),"instance"in lt&&(lt=lt.instance),"exports"in lt&&(lt=lt.exports),lt})}return initPromise=rt(),initPromise}function _makeArrayBufferLoader(Ye){return rt=>WebAssembly.instantiate(Ye,rt)}function _makeResponseStreamingLoader(Ye){return rt=>WebAssembly.instantiateStreaming(Ye,rt)}function _makeResponseNonStreamingLoader(Ye){return async rt=>{const it=await Ye.arrayBuffer();return WebAssembly.instantiate(it,rt)}}async function createOnigurumaEngine(Ye){return Ye&&await loadWasm(Ye),{createScanner(rt){return new OnigScanner(rt.map(it=>typeof it=="string"?it:it.source))},createString(rt){return new OnigString(rt)}}}const createHighlighter=createdBundledHighlighter({langs:bundledLanguages,themes:bundledThemes,engine:()=>createOnigurumaEngine(__vitePreload(()=>import("./wasm-CG6Dc4jp.js"),[],import.meta.url))});function r$3(Ye){if([...Ye].length!==1)throw new Error(`Expected "${Ye}" to be a single code point`);return Ye.codePointAt(0)}function l$2(Ye,rt,it){return Ye.has(rt)||Ye.set(rt,it),Ye.get(rt)}const i$3=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),o$2=String.raw;function u$2(Ye,rt){if(Ye==null)throw new Error(rt??"Value expected");return Ye}const m$4=o$2`\[\^?`,b$4=`c.? | C(?:-.?)?|${o$2`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${o$2`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${o$2`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${o$2`o\{[^\}]*\}?`}|${o$2`\d{1,3}`}`,y$5=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,C$4=new RegExp(o$2`
  \\ (?:
    ${b$4}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${y$5.source})+
  | ${m$4}
  | .
`.replace(/\s+/g,""),"gsu"),T$4=new RegExp(o$2`
  \\ (?:
    ${b$4}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${m$4}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function M$3(Ye,rt={}){const it={flags:"",...rt,rules:{captureGroup:!1,singleline:!1,...rt.rules}};if(typeof Ye!="string")throw new Error("String expected as pattern");const lt=Y$3(it.flags),ct=[lt.extended],ut={captureGroup:it.rules.captureGroup,getCurrentModX(){return ct.at(-1)},numOpenGroups:0,popModX(){ct.pop()},pushModX(yt){ct.push(yt)},replaceCurrentModX(yt){ct[ct.length-1]=yt},singleline:it.rules.singleline};let ht=[],ft;for(C$4.lastIndex=0;ft=C$4.exec(Ye);){const yt=F$4(ut,Ye,ft[0],C$4.lastIndex);yt.tokens?ht.push(...yt.tokens):yt.token&&ht.push(yt.token),yt.lastIndex!==void 0&&(C$4.lastIndex=yt.lastIndex)}const pt=[];let mt=0;ht.filter(yt=>yt.type==="GroupOpen").forEach(yt=>{yt.kind==="capturing"?yt.number=++mt:yt.raw==="("&&pt.push(yt)}),mt||pt.forEach((yt,xt)=>{yt.kind="capturing",yt.number=xt+1});const gt=mt||pt.length;return{tokens:ht.map(yt=>yt.type==="EscapedNumber"?ee$2(yt,gt):yt).flat(),flags:lt}}function F$4(Ye,rt,it,lt){const[ct,ut]=it;if(it==="["||it==="[^"){const ht=K$5(rt,it,lt);return{tokens:ht.tokens,lastIndex:ht.lastIndex}}if(ct==="\\"){if("AbBGyYzZ".includes(ut))return{token:w$g(it,it)};if(/^\\g[<']/.test(it)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(it))throw new Error(`Invalid group name "${it}"`);return{token:R$2(it)}}if(/^\\k[<']/.test(it)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(it))throw new Error(`Invalid group name "${it}"`);return{token:A$3(it)}}if(ut==="K")return{token:I$3("keep",it)};if(ut==="N"||ut==="R")return{token:k$5("newline",it,{negate:ut==="N"})};if(ut==="O")return{token:k$5("any",it)};if(ut==="X")return{token:k$5("text_segment",it)};const ht=x$3(it,{inCharClass:!1});return Array.isArray(ht)?{tokens:ht}:{token:ht}}if(ct==="("){if(ut==="*")return{token:j$2(it)};if(it==="(?{")throw new Error(`Unsupported callout "${it}"`);if(it.startsWith("(?#")){if(rt[lt]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:lt+1}}if(/^\(\?[-imx]+[:)]$/.test(it))return{token:L$4(it,Ye)};if(Ye.pushModX(Ye.getCurrentModX()),Ye.numOpenGroups++,it==="("&&!Ye.captureGroup||it==="(?:")return{token:f$2("group",it)};if(it==="(?>")return{token:f$2("atomic",it)};if(it==="(?="||it==="(?!"||it==="(?<="||it==="(?<!")return{token:f$2(it[2]==="<"?"lookbehind":"lookahead",it,{negate:it.endsWith("!")})};if(it==="("&&Ye.captureGroup||it.startsWith("(?<")&&it.endsWith(">")||it.startsWith("(?'")&&it.endsWith("'"))return{token:f$2("capturing",it,{...it!=="("&&{name:it.slice(3,-1)}})};if(it.startsWith("(?~")){if(it==="(?~|")throw new Error(`Unsupported absence function kind "${it}"`);return{token:f$2("absence_repeater",it)}}throw it==="(?("?new Error(`Unsupported conditional "${it}"`):new Error(`Invalid or unsupported group option "${it}"`)}if(it===")"){if(Ye.popModX(),Ye.numOpenGroups--,Ye.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:Q$3(it)}}if(Ye.getCurrentModX()){if(it==="#"){const ht=rt.indexOf(`
`,lt);return{lastIndex:ht===-1?rt.length:ht}}if(/^\s$/.test(it)){const ht=/\s+/y;return ht.lastIndex=lt,{lastIndex:ht.exec(rt)?ht.lastIndex:lt}}}if(it===".")return{token:k$5("dot",it)};if(it==="^"||it==="$"){const ht=Ye.singleline?{"^":o$2`\A`,$:o$2`\Z`}[it]:it;return{token:w$g(ht,it)}}return it==="|"?{token:P$5(it)}:y$5.test(it)?{tokens:te$1(it)}:{token:d$1(r$3(it),it)}}function K$5(Ye,rt,it){const lt=[E$3(rt[1]==="^",rt)];let ct=1,ut;for(T$4.lastIndex=it;ut=T$4.exec(Ye);){const ht=ut[0];if(ht[0]==="["&&ht[1]!==":")ct++,lt.push(E$3(ht[1]==="^",ht));else if(ht==="]"){if(lt.at(-1).type==="CharacterClassOpen")lt.push(d$1(93,ht));else if(ct--,lt.push(z$3(ht)),!ct)break}else{const ft=X$4(ht);Array.isArray(ft)?lt.push(...ft):lt.push(ft)}}return{tokens:lt,lastIndex:T$4.lastIndex||Ye.length}}function X$4(Ye){if(Ye[0]==="\\")return x$3(Ye,{inCharClass:!0});if(Ye[0]==="["){const rt=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(Ye);if(!rt||!i$3.has(rt.groups.name))throw new Error(`Invalid POSIX class "${Ye}"`);return k$5("posix",Ye,{value:rt.groups.name,negate:!!rt.groups.negate})}return Ye==="-"?U$4(Ye):Ye==="&&"?H$2(Ye):d$1(r$3(Ye),Ye)}function x$3(Ye,{inCharClass:rt}){const it=Ye[1];if(it==="c"||it==="C")return Z$2(Ye);if("dDhHsSwW".includes(it))return q$2(Ye);if(Ye.startsWith(o$2`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${Ye}"`);if(/^\\[pP]\{/.test(Ye)){if(Ye.length===3)throw new Error(`Incomplete or invalid Unicode property "${Ye}"`);return V$3(Ye)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(Ye))try{const lt=Ye.split(/\\x/).slice(1).map(ht=>parseInt(ht,16)),ct=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(lt)),ut=new TextEncoder;return[...ct].map(ht=>{const ft=[...ut.encode(ht)].map(pt=>`\\x${pt.toString(16)}`).join("");return d$1(r$3(ht),ft)})}catch{throw new Error(`Multibyte code "${Ye}" incomplete or invalid in Oniguruma`)}if(it==="u"||it==="x")return d$1(J$4(Ye),Ye);if($$4.has(it))return d$1($$4.get(it),Ye);if(/\d/.test(it))return W$4(rt,Ye);if(Ye==="\\")throw new Error(o$2`Incomplete escape "\"`);if(it==="M")throw new Error(`Unsupported meta "${Ye}"`);if([...Ye].length===2)return d$1(Ye.codePointAt(1),Ye);throw new Error(`Unexpected escape "${Ye}"`)}function P$5(Ye){return{type:"Alternator",raw:Ye}}function w$g(Ye,rt){return{type:"Assertion",kind:Ye,raw:rt}}function A$3(Ye){return{type:"Backreference",raw:Ye}}function d$1(Ye,rt){return{type:"Character",value:Ye,raw:rt}}function z$3(Ye){return{type:"CharacterClassClose",raw:Ye}}function U$4(Ye){return{type:"CharacterClassHyphen",raw:Ye}}function H$2(Ye){return{type:"CharacterClassIntersector",raw:Ye}}function E$3(Ye,rt){return{type:"CharacterClassOpen",negate:Ye,raw:rt}}function k$5(Ye,rt,it={}){return{type:"CharacterSet",kind:Ye,...it,raw:rt}}function I$3(Ye,rt,it={}){return Ye==="keep"?{type:"Directive",kind:Ye,raw:rt}:{type:"Directive",kind:Ye,flags:u$2(it.flags),raw:rt}}function W$4(Ye,rt){return{type:"EscapedNumber",inCharClass:Ye,raw:rt}}function Q$3(Ye){return{type:"GroupClose",raw:Ye}}function f$2(Ye,rt,it={}){return{type:"GroupOpen",kind:Ye,...it,raw:rt}}function D$4(Ye,rt,it,lt){return{type:"NamedCallout",kind:Ye,tag:rt,arguments:it,raw:lt}}function _$3(Ye,rt,it,lt){return{type:"Quantifier",kind:Ye,min:rt,max:it,raw:lt}}function R$2(Ye){return{type:"Subroutine",raw:Ye}}const B$5=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),$$4=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function Z$2(Ye){const rt=Ye[1]==="c"?Ye[2]:Ye[3];if(!rt||!/[A-Za-z]/.test(rt))throw new Error(`Unsupported control character "${Ye}"`);return d$1(r$3(rt.toUpperCase())-64,Ye)}function L$4(Ye,rt){let{on:it,off:lt}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(Ye).groups;lt??="";const ct=(rt.getCurrentModX()||it.includes("x"))&&!lt.includes("x"),ut=v$f(it),ht=v$f(lt),ft={};if(ut&&(ft.enable=ut),ht&&(ft.disable=ht),Ye.endsWith(")"))return rt.replaceCurrentModX(ct),I$3("flags",Ye,{flags:ft});if(Ye.endsWith(":"))return rt.pushModX(ct),rt.numOpenGroups++,f$2("group",Ye,{...(ut||ht)&&{flags:ft}});throw new Error(`Unexpected flag modifier "${Ye}"`)}function j$2(Ye){const rt=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(Ye);if(!rt)throw new Error(`Incomplete or invalid named callout "${Ye}"`);const{name:it,tag:lt,args:ct}=rt.groups;if(!it)throw new Error(`Invalid named callout "${Ye}"`);if(lt==="")throw new Error(`Named callout tag with empty value not allowed "${Ye}"`);const ut=ct?ct.split(",").filter(gt=>gt!=="").map(gt=>/^[+-]?\d+$/.test(gt)?+gt:gt):[],[ht,ft,pt]=ut,mt=B$5.has(it)?it.toLowerCase():"custom";switch(mt){case"fail":case"mismatch":case"skip":if(ut.length>0)throw new Error(`Named callout arguments not allowed "${ut}"`);break;case"error":if(ut.length>1)throw new Error(`Named callout allows only one argument "${ut}"`);if(typeof ht=="string")throw new Error(`Named callout argument must be a number "${ht}"`);break;case"max":if(!ut.length||ut.length>2)throw new Error(`Named callout must have one or two arguments "${ut}"`);if(typeof ht=="string"&&!/^[A-Za-z_]\w*$/.test(ht))throw new Error(`Named callout argument one must be a tag or number "${ht}"`);if(ut.length===2&&(typeof ft=="number"||!/^[<>X]$/.test(ft)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${ft}"`);break;case"count":case"total_count":if(ut.length>1)throw new Error(`Named callout allows only one argument "${ut}"`);if(ut.length===1&&(typeof ht=="number"||!/^[<>X]$/.test(ht)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${ht}"`);break;case"cmp":if(ut.length!==3)throw new Error(`Named callout must have three arguments "${ut}"`);if(typeof ht=="string"&&!/^[A-Za-z_]\w*$/.test(ht))throw new Error(`Named callout argument one must be a tag or number "${ht}"`);if(typeof ft=="number"||!/^(?:[<>!=]=|[<>])$/.test(ft))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${ft}"`);if(typeof pt=="string"&&!/^[A-Za-z_]\w*$/.test(pt))throw new Error(`Named callout argument three must be a tag or number "${pt}"`);break;case"custom":throw new Error(`Undefined callout name "${it}"`);default:throw new Error(`Unexpected named callout kind "${mt}"`)}return D$4(mt,lt??null,ct?.split(",")??null,Ye)}function O$3(Ye){let rt=null,it,lt;if(Ye[0]==="{"){const{minStr:ct,maxStr:ut}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(Ye).groups,ht=1e5;if(+ct>ht||ut&&+ut>ht)throw new Error("Quantifier value unsupported in Oniguruma");if(it=+ct,lt=ut===void 0?+ct:ut===""?1/0:+ut,it>lt&&(rt="possessive",[it,lt]=[lt,it]),Ye.endsWith("?")){if(rt==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');rt="lazy"}else rt||(rt="greedy")}else it=Ye[0]==="+"?1:0,lt=Ye[0]==="?"?1:1/0,rt=Ye[1]==="+"?"possessive":Ye[1]==="?"?"lazy":"greedy";return _$3(rt,it,lt,Ye)}function q$2(Ye){const rt=Ye[1].toLowerCase();return k$5({d:"digit",h:"hex",s:"space",w:"word"}[rt],Ye,{negate:Ye[1]!==rt})}function V$3(Ye){const{p:rt,neg:it,value:lt}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(Ye).groups;return k$5("property",Ye,{value:lt,negate:rt==="P"&&!it||rt==="p"&&!!it})}function v$f(Ye){const rt={};return Ye.includes("i")&&(rt.ignoreCase=!0),Ye.includes("m")&&(rt.dotAll=!0),Ye.includes("x")&&(rt.extended=!0),Object.keys(rt).length?rt:null}function Y$3(Ye){const rt={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let it=0;it<Ye.length;it++){const lt=Ye[it];if(!"imxDPSWy".includes(lt))throw new Error(`Invalid flag "${lt}"`);if(lt==="y"){if(!/^y{[gw]}/.test(Ye.slice(it)))throw new Error('Invalid or unspecified flag "y" mode');rt.textSegmentMode=Ye[it+2]==="g"?"grapheme":"word",it+=3;continue}rt[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[lt]]=!0}return rt}function J$4(Ye){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(Ye))throw new Error(`Incomplete or invalid escape "${Ye}"`);const rt=Ye[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(Ye).groups.hex:Ye.slice(2);return parseInt(rt,16)}function ee$2(Ye,rt){const{raw:it,inCharClass:lt}=Ye,ct=it.slice(1);if(!lt&&(ct!=="0"&&ct.length===1||ct[0]!=="0"&&+ct<=rt))return[A$3(it)];const ut=[],ht=ct.match(/^[0-7]+|\d/g);for(let ft=0;ft<ht.length;ft++){const pt=ht[ft];let mt;if(ft===0&&pt!=="8"&&pt!=="9"){if(mt=parseInt(pt,8),mt>127)throw new Error(o$2`Octal encoded byte above 177 unsupported "${it}"`)}else mt=r$3(pt);ut.push(d$1(mt,(ft===0?"\\":"")+pt))}return ut}function te$1(Ye){const rt=[],it=new RegExp(y$5,"gy");let lt;for(;lt=it.exec(Ye);){const ct=lt[0];if(ct[0]==="{"){const ut=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(ct);if(ut){const{min:ht,max:ft}=ut.groups;if(+ht>+ft&&ct.endsWith("?")){it.lastIndex--,rt.push(O$3(ct.slice(0,-1)));continue}}}rt.push(O$3(ct))}return rt}function o$1(Ye,rt){if(!Array.isArray(Ye.body))throw new Error("Expected node with body array");if(Ye.body.length!==1)return!1;const it=Ye.body[0];return!rt||Object.keys(rt).every(lt=>rt[lt]===it[lt])}function s$1(Ye){return y$4.has(Ye.type)}const y$4=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function J$3(Ye,rt={}){const it={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...rt,rules:{captureGroup:!1,singleline:!1,...rt.rules}},lt=M$3(Ye,{flags:it.flags,rules:{captureGroup:it.rules.captureGroup,singleline:it.rules.singleline}}),ct=(xt,bt)=>{const _t=lt.tokens[ut.nextIndex];switch(ut.parent=xt,ut.nextIndex++,_t.type){case"Alternator":return b$3();case"Assertion":return W$3(_t);case"Backreference":return X$3(_t,ut);case"Character":return m$3(_t.value,{useLastValid:!!bt.isCheckingRangeEnd});case"CharacterClassHyphen":return ee$1(_t,ut,bt);case"CharacterClassOpen":return re$1(_t,ut,bt);case"CharacterSet":return ne(_t,ut);case"Directive":return I$2(_t.kind,{flags:_t.flags});case"GroupOpen":return te(_t,ut,bt);case"NamedCallout":return U$3(_t.kind,_t.tag,_t.arguments);case"Quantifier":return oe$1(_t,ut);case"Subroutine":return ae$1(_t,ut);default:throw new Error(`Unexpected token type "${_t.type}"`)}},ut={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:it.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:it.skipBackrefValidation,skipLookbehindValidation:it.skipLookbehindValidation,skipPropertyNameValidation:it.skipPropertyNameValidation,subroutines:[],tokens:lt.tokens,unicodePropertyMap:it.unicodePropertyMap,walk:ct},ht=B$4(T$3(lt.flags));let ft=ht.body[0];for(;ut.nextIndex<lt.tokens.length;){const xt=ct(ft,{});xt.type==="Alternative"?(ht.body.push(xt),ft=xt):ft.body.push(xt)}const{capturingGroups:pt,hasNumberedRef:mt,namedGroupsByName:gt,subroutines:yt}=ut;if(mt&&gt.size&&!it.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:xt}of yt)if(typeof xt=="number"){if(xt>pt.length)throw new Error("Subroutine uses a group number that's not defined");xt&&(pt[xt-1].isSubroutined=!0)}else if(gt.has(xt)){if(gt.get(xt).length>1)throw new Error(o$2`Subroutine uses a duplicate group name "\g<${xt}>"`);gt.get(xt)[0].isSubroutined=!0}else throw new Error(o$2`Subroutine uses a group name that's not defined "\g<${xt}>"`);return ht}function W$3({kind:Ye}){return F$3(u$2({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[Ye],`Unexpected assertion kind "${Ye}"`),{negate:Ye===o$2`\B`||Ye===o$2`\Y`})}function X$3({raw:Ye},rt){const it=/^\\k[<']/.test(Ye),lt=it?Ye.slice(3,-1):Ye.slice(1),ct=(ut,ht=!1)=>{const ft=rt.capturingGroups.length;let pt=!1;if(ut>ft)if(rt.skipBackrefValidation)pt=!0;else throw new Error(`Not enough capturing groups defined to the left "${Ye}"`);return rt.hasNumberedRef=!0,k$4(ht?ft+1-ut:ut,{orphan:pt})};if(it){const ut=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(lt);if(ut)return ct(+ut.groups.num,!!ut.groups.sign);if(/[-+]/.test(lt))throw new Error(`Invalid backref name "${Ye}"`);if(!rt.namedGroupsByName.has(lt))throw new Error(`Group name not defined to the left "${Ye}"`);return k$4(lt)}return ct(+lt)}function ee$1(Ye,rt,it){const{tokens:lt,walk:ct}=rt,ut=rt.parent,ht=ut.body.at(-1),ft=lt[rt.nextIndex];if(!it.isCheckingRangeEnd&&ht&&ht.type!=="CharacterClass"&&ht.type!=="CharacterClassRange"&&ft&&ft.type!=="CharacterClassOpen"&&ft.type!=="CharacterClassClose"&&ft.type!=="CharacterClassIntersector"){const pt=ct(ut,{...it,isCheckingRangeEnd:!0});if(ht.type==="Character"&&pt.type==="Character")return ut.body.pop(),L$3(ht,pt);throw new Error("Invalid character class range")}return m$3(r$3("-"))}function re$1({negate:Ye},rt,it){const{tokens:lt,walk:ct}=rt,ut=lt[rt.nextIndex],ht=[C$3()];let ft=z$2(ut);for(;ft.type!=="CharacterClassClose";){if(ft.type==="CharacterClassIntersector")ht.push(C$3()),rt.nextIndex++;else{const mt=ht.at(-1);mt.body.push(ct(mt,it))}ft=z$2(lt[rt.nextIndex],ut)}const pt=C$3({negate:Ye});return ht.length===1?pt.body=ht[0].body:(pt.kind="intersection",pt.body=ht.map(mt=>mt.body.length===1?mt.body[0]:mt)),rt.nextIndex++,pt}function ne({kind:Ye,negate:rt,value:it},lt){const{normalizeUnknownPropertyNames:ct,skipPropertyNameValidation:ut,unicodePropertyMap:ht}=lt;if(Ye==="property"){const ft=w$f(it);if(i$3.has(ft)&&!ht?.has(ft))Ye="posix",it=ft;else return Q$2(it,{negate:rt,normalizeUnknownPropertyNames:ct,skipPropertyNameValidation:ut,unicodePropertyMap:ht})}return Ye==="posix"?R$1(it,{negate:rt}):E$2(Ye,{negate:rt})}function te(Ye,rt,it){const{tokens:lt,capturingGroups:ct,namedGroupsByName:ut,skipLookbehindValidation:ht,walk:ft}=rt,pt=ie$3(Ye),mt=pt.type==="AbsenceFunction",gt=$$3(pt),yt=gt&&pt.negate;if(pt.type==="CapturingGroup"&&(ct.push(pt),pt.name&&l$2(ut,pt.name,[]).push(pt)),mt&&it.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let xt=D$3(lt[rt.nextIndex]);for(;xt.type!=="GroupClose";){if(xt.type==="Alternator")pt.body.push(b$3()),rt.nextIndex++;else{const bt=pt.body.at(-1),_t=ft(bt,{...it,isInAbsenceFunction:it.isInAbsenceFunction||mt,isInLookbehind:it.isInLookbehind||gt,isInNegLookbehind:it.isInNegLookbehind||yt});if(bt.body.push(_t),(gt||it.isInLookbehind)&&!ht){const Ct="Lookbehind includes a pattern not allowed by Oniguruma";if(yt||it.isInNegLookbehind){if(M$2(_t)||_t.type==="CapturingGroup")throw new Error(Ct)}else if(M$2(_t)||$$3(_t)&&_t.negate)throw new Error(Ct)}}xt=D$3(lt[rt.nextIndex])}return rt.nextIndex++,pt}function oe$1({kind:Ye,min:rt,max:it},lt){const ct=lt.parent,ut=ct.body.at(-1);if(!ut||!s$1(ut))throw new Error("Quantifier requires a repeatable token");const ht=_$2(Ye,rt,it,ut);return ct.body.pop(),ht}function ae$1({raw:Ye},rt){const{capturingGroups:it,subroutines:lt}=rt;let ct=Ye.slice(3,-1);const ut=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(ct);if(ut){const ft=+ut.groups.num,pt=it.length;if(rt.hasNumberedRef=!0,ct={"":ft,"+":pt+ft,"-":pt+1-ft}[ut.groups.sign],ct<1)throw new Error("Invalid subroutine number")}else ct==="0"&&(ct=0);const ht=O$2(ct);return lt.push(ht),ht}function G$3(Ye,rt){return{type:"AbsenceFunction",kind:Ye,body:h$g(rt?.body)}}function b$3(Ye){return{type:"Alternative",body:V$2(Ye?.body)}}function F$3(Ye,rt){const it={type:"Assertion",kind:Ye};return(Ye==="word_boundary"||Ye==="text_segment_boundary")&&(it.negate=!!rt?.negate),it}function k$4(Ye,rt){const it=!!rt?.orphan;return{type:"Backreference",ref:Ye,...it&&{orphan:it}}}function P$4(Ye,rt){const it={name:void 0,isSubroutined:!1,...rt};if(it.name!==void 0&&!se$1(it.name))throw new Error(`Group name "${it.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:Ye,...it.name&&{name:it.name},...it.isSubroutined&&{isSubroutined:it.isSubroutined},body:h$g(rt?.body)}}function m$3(Ye,rt){const it={useLastValid:!1,...rt};if(Ye>1114111){const lt=Ye.toString(16);if(it.useLastValid)Ye=1114111;else throw Ye>1310719?new Error(`Invalid code point out of range "\\x{${lt}}"`):new Error(`Invalid code point out of range in JS "\\x{${lt}}"`)}return{type:"Character",value:Ye}}function C$3(Ye){const rt={kind:"union",negate:!1,...Ye};return{type:"CharacterClass",kind:rt.kind,negate:rt.negate,body:V$2(Ye?.body)}}function L$3(Ye,rt){if(rt.value<Ye.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:Ye,max:rt}}function E$2(Ye,rt){const it=!!rt?.negate,lt={type:"CharacterSet",kind:Ye};return(Ye==="digit"||Ye==="hex"||Ye==="newline"||Ye==="space"||Ye==="word")&&(lt.negate=it),(Ye==="text_segment"||Ye==="newline"&&!it)&&(lt.variableLength=!0),lt}function I$2(Ye,rt={}){if(Ye==="keep")return{type:"Directive",kind:Ye};if(Ye==="flags")return{type:"Directive",kind:Ye,flags:u$2(rt.flags)};throw new Error(`Unexpected directive kind "${Ye}"`)}function T$3(Ye){return{type:"Flags",...Ye}}function A$2(Ye){const rt=Ye?.atomic,it=Ye?.flags;if(rt&&it)throw new Error("Atomic group cannot have flags");return{type:"Group",...rt&&{atomic:rt},...it&&{flags:it},body:h$g(Ye?.body)}}function K$4(Ye){const rt={behind:!1,negate:!1,...Ye};return{type:"LookaroundAssertion",kind:rt.behind?"lookbehind":"lookahead",negate:rt.negate,body:h$g(Ye?.body)}}function U$3(Ye,rt,it){return{type:"NamedCallout",kind:Ye,tag:rt,arguments:it}}function R$1(Ye,rt){const it=!!rt?.negate;if(!i$3.has(Ye))throw new Error(`Invalid POSIX class "${Ye}"`);return{type:"CharacterSet",kind:"posix",value:Ye,negate:it}}function _$2(Ye,rt,it,lt){if(rt>it)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:Ye,min:rt,max:it,body:lt}}function B$4(Ye,rt){return{type:"Regex",body:h$g(rt?.body),flags:Ye}}function O$2(Ye){return{type:"Subroutine",ref:Ye}}function Q$2(Ye,rt){const it={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...rt};let lt=it.unicodePropertyMap?.get(w$f(Ye));if(!lt){if(it.normalizeUnknownPropertyNames)lt=de$2(Ye);else if(it.unicodePropertyMap&&!it.skipPropertyNameValidation)throw new Error(o$2`Invalid Unicode property "\p{${Ye}}"`)}return{type:"CharacterSet",kind:"property",value:lt??Ye,negate:it.negate}}function ie$3({flags:Ye,kind:rt,name:it,negate:lt,number:ct}){switch(rt){case"absence_repeater":return G$3("repeater");case"atomic":return A$2({atomic:!0});case"capturing":return P$4(ct,{name:it});case"group":return A$2({flags:Ye});case"lookahead":case"lookbehind":return K$4({behind:rt==="lookbehind",negate:lt});default:throw new Error(`Unexpected group kind "${rt}"`)}}function h$g(Ye){if(Ye===void 0)Ye=[b$3()];else if(!Array.isArray(Ye)||!Ye.length||!Ye.every(rt=>rt.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return Ye}function V$2(Ye){if(Ye===void 0)Ye=[];else if(!Array.isArray(Ye)||!Ye.every(rt=>!!rt.type))throw new Error("Invalid body; expected array of nodes");return Ye}function M$2(Ye){return Ye.type==="LookaroundAssertion"&&Ye.kind==="lookahead"}function $$3(Ye){return Ye.type==="LookaroundAssertion"&&Ye.kind==="lookbehind"}function se$1(Ye){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(Ye)}function de$2(Ye){return Ye.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,rt=>rt[0].toUpperCase()+rt.slice(1).toLowerCase())}function w$f(Ye){return Ye.replace(/[- _]+/g,"").toLowerCase()}function z$2(Ye,rt){return u$2(Ye,`${rt?.type==="Character"&&rt.value===93?"Empty":"Unclosed"} character class`)}function D$3(Ye){return u$2(Ye,"Unclosed group")}function S$3(Ye,rt,it=null){function lt(ut,ht){for(let ft=0;ft<ut.length;ft++){const pt=ct(ut[ft],ht,ft,ut);ft=Math.max(-1,ft+pt)}}function ct(ut,ht=null,ft=null,pt=null){let mt=0,gt=!1;const yt={node:ut,parent:ht,key:ft,container:pt,root:Ye,remove(){f$1(pt).splice(Math.max(0,l$1(ft)+mt),1),mt--,gt=!0},removeAllNextSiblings(){return f$1(pt).splice(l$1(ft)+1)},removeAllPrevSiblings(){const St=l$1(ft)+mt;return mt-=St,f$1(pt).splice(0,Math.max(0,St))},replaceWith(St,Rt={}){const Tt=!!Rt.traverse;pt?pt[Math.max(0,l$1(ft)+mt)]=St:u$2(ht,"Can't replace root node")[ft]=St,Tt&&ct(St,ht,ft,pt),gt=!0},replaceWithMultiple(St,Rt={}){const Tt=!!Rt.traverse;if(f$1(pt).splice(Math.max(0,l$1(ft)+mt),1,...St),mt+=St.length-1,Tt){let Mt=0;for(let Pt=0;Pt<St.length;Pt++)Mt+=ct(St[Pt],ht,l$1(ft)+Pt+Mt,pt)}gt=!0},skip(){gt=!0}},{type:xt}=ut,bt=rt["*"],_t=rt[xt],Ct=typeof bt=="function"?bt:bt?.enter,kt=typeof _t=="function"?_t:_t?.enter;if(Ct?.(yt,it),kt?.(yt,it),!gt)switch(xt){case"AbsenceFunction":case"CapturingGroup":case"Group":lt(ut.body,ut);break;case"Alternative":case"CharacterClass":lt(ut.body,ut);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":ct(ut.min,ut,"min"),ct(ut.max,ut,"max");break;case"LookaroundAssertion":lt(ut.body,ut);break;case"Quantifier":ct(ut.body,ut,"body");break;case"Regex":lt(ut.body,ut),ct(ut.flags,ut,"flags");break;default:throw new Error(`Unexpected node type "${xt}"`)}return _t?.exit?.(yt,it),bt?.exit?.(yt,it),mt}return ct(Ye),Ye}function f$1(Ye){if(!Array.isArray(Ye))throw new Error("Container expected");return Ye}function l$1(Ye){if(typeof Ye!="number")throw new Error("Numeric key expected");return Ye}const noncapturingDelim=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function incrementIfAtLeast$1(Ye,rt){for(let it=0;it<Ye.length;it++)Ye[it]>=rt&&Ye[it]++}function spliceStr(Ye,rt,it,lt){return Ye.slice(0,rt)+lt+Ye.slice(rt+it.length)}const Context=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function replaceUnescaped(Ye,rt,it,lt){const ct=new RegExp(String.raw`${rt}|(?<$skip>\[\^?|\\?.)`,"gsu"),ut=[!1];let ht=0,ft="";for(const pt of Ye.matchAll(ct)){const{0:mt,groups:{$skip:gt}}=pt;if(!gt&&(!lt||lt===Context.DEFAULT==!ht)){it instanceof Function?ft+=it(pt,{context:ht?Context.CHAR_CLASS:Context.DEFAULT,negated:ut[ut.length-1]}):ft+=it;continue}mt[0]==="["?(ht++,ut.push(mt[1]==="^")):mt==="]"&&ht&&(ht--,ut.pop()),ft+=mt}return ft}function forEachUnescaped(Ye,rt,it,lt){replaceUnescaped(Ye,rt,it,lt)}function execUnescaped(Ye,rt,it=0,lt){if(!new RegExp(rt,"su").test(Ye))return null;const ct=new RegExp(`${rt}|(?<$skip>\\\\?.)`,"gsu");ct.lastIndex=it;let ut=0,ht;for(;ht=ct.exec(Ye);){const{0:ft,groups:{$skip:pt}}=ht;if(!pt&&(!lt||lt===Context.DEFAULT==!ut))return ht;ft==="["?ut++:ft==="]"&&ut&&ut--,ct.lastIndex==ht.index&&ct.lastIndex++}return null}function hasUnescaped(Ye,rt,it){return!!execUnescaped(Ye,rt,0,it)}function getGroupContents(Ye,rt){const it=/\\?./gsu;it.lastIndex=rt;let lt=Ye.length,ct=0,ut=1,ht;for(;ht=it.exec(Ye);){const[ft]=ht;if(ft==="[")ct++;else if(ct)ft==="]"&&ct--;else if(ft==="(")ut++;else if(ft===")"&&(ut--,!ut)){lt=ht.index;break}}return Ye.slice(rt,lt)}const atomicPluginToken=new RegExp(String.raw`(?<noncapturingStart>${noncapturingDelim})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function atomic(Ye,rt){const it=rt?.hiddenCaptures??[];let lt=rt?.captureTransfers??new Map;if(!/\(\?>/.test(Ye))return{pattern:Ye,captureTransfers:lt,hiddenCaptures:it};const ct="(?>",ut="(?:(?=(",ht=[0],ft=[];let pt=0,mt=0,gt=NaN,yt;do{yt=!1;let xt=0,bt=0,_t=!1,Ct;for(atomicPluginToken.lastIndex=Number.isNaN(gt)?0:gt+ut.length;Ct=atomicPluginToken.exec(Ye);){const{0:kt,index:St,groups:{capturingStart:Rt,noncapturingStart:Tt}}=Ct;if(kt==="[")xt++;else if(xt)kt==="]"&&xt--;else if(kt===ct&&!_t)gt=St,_t=!0;else if(_t&&Tt)bt++;else if(Rt)_t?bt++:(pt++,ht.push(pt+mt));else if(kt===")"&&_t){if(!bt){mt++;const Mt=pt+mt;if(Ye=`${Ye.slice(0,gt)}${ut}${Ye.slice(gt+ct.length,St)}))<$$${Mt}>)${Ye.slice(St+1)}`,yt=!0,ft.push(Mt),incrementIfAtLeast$1(it,Mt),lt.size){const Pt=new Map;lt.forEach((It,Lt)=>{Pt.set(Lt>=Mt?Lt+1:Lt,It.map(Ot=>Ot>=Mt?Ot+1:Ot))}),lt=Pt}break}bt--}}}while(yt);return it.push(...ft),Ye=replaceUnescaped(Ye,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:xt,groups:{backrefNum:bt,wrappedBackrefNum:_t}})=>{if(bt){const Ct=+bt;if(Ct>ht.length-1)throw new Error(`Backref "${xt}" greater than number of captures`);return`\\${ht[Ct]}`}return`\\${_t}`},Context.DEFAULT),{pattern:Ye,captureTransfers:lt,hiddenCaptures:it}}const baseQuantifier=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,possessivePluginToken=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${baseQuantifier})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function possessive(Ye){if(!new RegExp(`${baseQuantifier}\\+`).test(Ye))return{pattern:Ye};const rt=[];let it=null,lt=null,ct="",ut=0,ht;for(possessivePluginToken.lastIndex=0;ht=possessivePluginToken.exec(Ye);){const{0:ft,index:pt,groups:{qBase:mt,qMod:gt,invalidQ:yt}}=ht;if(ft==="[")ut||(lt=pt),ut++;else if(ft==="]")ut?ut--:lt=null;else if(!ut)if(gt==="+"&&ct&&!ct.startsWith("(")){if(yt)throw new Error(`Invalid quantifier "${ft}"`);let xt=-1;if(/^\{\d+\}$/.test(mt))Ye=spliceStr(Ye,pt+mt.length,gt,"");else{if(ct===")"||ct==="]"){const bt=ct===")"?it:lt;if(bt===null)throw new Error(`Invalid unmatched "${ct}"`);Ye=`${Ye.slice(0,bt)}(?>${Ye.slice(bt,pt)}${mt})${Ye.slice(pt+ft.length)}`}else Ye=`${Ye.slice(0,pt-ct.length)}(?>${ct}${mt})${Ye.slice(pt+ft.length)}`;xt+=4}possessivePluginToken.lastIndex+=xt}else ft[0]==="("?rt.push(pt):ft===")"&&(it=rt.length?rt.pop():null);ct=ft}return{pattern:Ye}}const r$2=String.raw,gRToken=r$2`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,recursiveToken=r$2`\(\?R=(?<rDepth>[^\)]+)\)|${gRToken}`,namedCaptureDelim=r$2`\(\?<(?![=!])(?<captureName>[^>]+)>`,captureDelim=r$2`${namedCaptureDelim}|(?<unnamed>\()(?!\?)`,token$2=new RegExp(r$2`${namedCaptureDelim}|${recursiveToken}|\(\?|\\?.`,"gsu"),overlappingRecursionMsg="Cannot use multiple overlapping recursions";function recursion(Ye,rt){const{hiddenCaptures:it,mode:lt}={hiddenCaptures:[],mode:"plugin",...rt};let ct=rt?.captureTransfers??new Map;if(!new RegExp(recursiveToken,"su").test(Ye))return{pattern:Ye,captureTransfers:ct,hiddenCaptures:it};if(lt==="plugin"&&hasUnescaped(Ye,r$2`\(\?\(DEFINE\)`,Context.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const ut=[],ht=hasUnescaped(Ye,r$2`\\[1-9]`,Context.DEFAULT),ft=new Map,pt=[];let mt=!1,gt=0,yt=0,xt;for(token$2.lastIndex=0;xt=token$2.exec(Ye);){const{0:bt,groups:{captureName:_t,rDepth:Ct,gRNameOrNum:kt,gRDepth:St}}=xt;if(bt==="[")gt++;else if(gt)bt==="]"&&gt--;else if(Ct){if(assertMaxInBounds(Ct),mt)throw new Error(overlappingRecursionMsg);if(ht)throw new Error(`${lt==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const Rt=Ye.slice(0,xt.index),Tt=Ye.slice(token$2.lastIndex);if(hasUnescaped(Tt,recursiveToken,Context.DEFAULT))throw new Error(overlappingRecursionMsg);const Mt=+Ct-1;Ye=makeRecursive(Rt,Tt,Mt,!1,it,ut,yt),ct=mapCaptureTransfers(ct,Rt,Mt,ut.length,0,yt);break}else if(kt){assertMaxInBounds(St);let Rt=!1;for(const Kt of pt)if(Kt.name===kt||Kt.num===+kt){if(Rt=!0,Kt.hasRecursedWithin)throw new Error(overlappingRecursionMsg);break}if(!Rt)throw new Error(r$2`Recursive \g cannot be used outside the referenced group "${lt==="external"?kt:r$2`\g<${kt}&R=${St}>`}"`);const Tt=ft.get(kt),Mt=getGroupContents(Ye,Tt);if(ht&&hasUnescaped(Mt,r$2`${namedCaptureDelim}|\((?!\?)`,Context.DEFAULT))throw new Error(`${lt==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const Pt=Ye.slice(Tt,xt.index),It=Mt.slice(Pt.length+bt.length),Lt=ut.length,Ot=+St-1,Ft=makeRecursive(Pt,It,Ot,!0,it,ut,yt);ct=mapCaptureTransfers(ct,Pt,Ot,ut.length-Lt,Lt,yt);const Ut=Ye.slice(0,Tt),Wt=Ye.slice(Tt+Mt.length);Ye=`${Ut}${Ft}${Wt}`,token$2.lastIndex+=Ft.length-bt.length-Pt.length-It.length,pt.forEach(Kt=>Kt.hasRecursedWithin=!0),mt=!0}else if(_t)yt++,ft.set(String(yt),token$2.lastIndex),ft.set(_t,token$2.lastIndex),pt.push({num:yt,name:_t});else if(bt[0]==="("){const Rt=bt==="(";Rt&&(yt++,ft.set(String(yt),token$2.lastIndex)),pt.push(Rt?{num:yt}:{})}else bt===")"&&pt.pop()}return it.push(...ut),{pattern:Ye,captureTransfers:ct,hiddenCaptures:it}}function assertMaxInBounds(Ye){const rt=`Max depth must be integer between 2 and 100; used ${Ye}`;if(!/^[1-9]\d*$/.test(Ye))throw new Error(rt);if(Ye=+Ye,Ye<2||Ye>100)throw new Error(rt)}function makeRecursive(Ye,rt,it,lt,ct,ut,ht){const ft=new Set;lt&&forEachUnescaped(Ye+rt,namedCaptureDelim,({groups:{captureName:mt}})=>{ft.add(mt)},Context.DEFAULT);const pt=[it,lt?ft:null,ct,ut,ht];return`${Ye}${repeatWithDepth(`(?:${Ye}`,"forward",...pt)}(?:)${repeatWithDepth(`${rt})`,"backward",...pt)}${rt}`}function repeatWithDepth(Ye,rt,it,lt,ct,ut,ht){const pt=gt=>rt==="forward"?gt+2:it-gt+2-1;let mt="";for(let gt=0;gt<it;gt++){const yt=pt(gt);mt+=replaceUnescaped(Ye,r$2`${captureDelim}|\\k<(?<backref>[^>]+)>`,({0:xt,groups:{captureName:bt,unnamed:_t,backref:Ct}})=>{if(Ct&&lt&&!lt.has(Ct))return xt;const kt=`_$${yt}`;if(_t||bt){const St=ht+ut.length+1;return ut.push(St),incrementIfAtLeast(ct,St),_t?xt:`(?<${bt}${kt}>`}return r$2`\k<${Ct}${kt}>`},Context.DEFAULT)}return mt}function incrementIfAtLeast(Ye,rt){for(let it=0;it<Ye.length;it++)Ye[it]>=rt&&Ye[it]++}function mapCaptureTransfers(Ye,rt,it,lt,ct,ut){if(Ye.size&&lt){let ht=0;forEachUnescaped(rt,captureDelim,()=>ht++,Context.DEFAULT);const ft=ut-ht+ct,pt=new Map;return Ye.forEach((mt,gt)=>{const yt=(lt-ht*it)/it,xt=ht*it,bt=gt>ft+ht?gt+lt:gt,_t=[];for(const Ct of mt)if(Ct<=ft)_t.push(Ct);else if(Ct>ft+ht+yt)_t.push(Ct+lt);else if(Ct<=ft+ht)for(let kt=0;kt<=it;kt++)_t.push(Ct+ht*kt);else for(let kt=0;kt<=it;kt++)_t.push(Ct+xt+yt*kt);pt.set(bt,_t)}),pt}return Ye}var cp=String.fromCodePoint,r$1=String.raw,envFlags={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};envFlags.bugFlagVLiteralHyphenIsRange=envFlags.unicodeSets?(()=>{try{new RegExp(r$1`[\d\-a]`,"v")}catch{return!0}return!1})():!1;envFlags.bugNestedClassIgnoresNegation=envFlags.unicodeSets&&new RegExp("[[^a]]","v").test("a");function getNewCurrentFlags(Ye,{enable:rt,disable:it}){return{dotAll:!it?.dotAll&&!!(rt?.dotAll||Ye.dotAll),ignoreCase:!it?.ignoreCase&&!!(rt?.ignoreCase||Ye.ignoreCase)}}function getOrInsert(Ye,rt,it){return Ye.has(rt)||Ye.set(rt,it),Ye.get(rt)}function isMinTarget(Ye,rt){return EsVersion[Ye]>=EsVersion[rt]}function throwIfNullish(Ye,rt){if(Ye==null)throw new Error(rt??"Value expected");return Ye}var EsVersion={ES2025:2025,ES2024:2024,ES2018:2018},Target={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function getOptions(Ye={}){if({}.toString.call(Ye)!=="[object Object]")throw new Error("Unexpected options");if(Ye.target!==void 0&&!Target[Ye.target])throw new Error(`Unexpected target "${Ye.target}"`);const rt={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...Ye,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...Ye.rules}};return rt.target==="auto"&&(rt.target=envFlags.flagGroups?"ES2025":envFlags.unicodeSets?"ES2024":"ES2018"),rt}var asciiSpaceChar="[	-\r ]",CharsWithoutIgnoreCaseExpansion=new Set([cp(304),cp(305)]),defaultWordChar=r$1`[\p{L}\p{M}\p{N}\p{Pc}]`;function getIgnoreCaseMatchChars(Ye){if(CharsWithoutIgnoreCaseExpansion.has(Ye))return[Ye];const rt=new Set,it=Ye.toLowerCase(),lt=it.toUpperCase(),ct=LowerToTitleCaseMap.get(it),ut=LowerToAlternativeLowerCaseMap.get(it),ht=LowerToAlternativeUpperCaseMap.get(it);return[...lt].length===1&&rt.add(lt),ht&&rt.add(ht),ct&&rt.add(ct),rt.add(it),ut&&rt.add(ut),[...rt]}var JsUnicodePropertyMap=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(Ye=>[w$f(Ye),Ye])),LowerToAlternativeLowerCaseMap=new Map([["s",cp(383)],[cp(383),"s"]]),LowerToAlternativeUpperCaseMap=new Map([[cp(223),cp(7838)],[cp(107),cp(8490)],[cp(229),cp(8491)],[cp(969),cp(8486)]]),LowerToTitleCaseMap=new Map([titleEntry(453),titleEntry(456),titleEntry(459),titleEntry(498),...titleRange(8072,8079),...titleRange(8088,8095),...titleRange(8104,8111),titleEntry(8124),titleEntry(8140),titleEntry(8188)]),PosixClassMap=new Map([["alnum",r$1`[\p{Alpha}\p{Nd}]`],["alpha",r$1`\p{Alpha}`],["ascii",r$1`\p{ASCII}`],["blank",r$1`[\p{Zs}\t]`],["cntrl",r$1`\p{Cc}`],["digit",r$1`\p{Nd}`],["graph",r$1`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",r$1`\p{Lower}`],["print",r$1`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",r$1`[\p{P}\p{S}]`],["space",r$1`\p{space}`],["upper",r$1`\p{Upper}`],["word",r$1`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",r$1`\p{AHex}`]]);function range(Ye,rt){const it=[];for(let lt=Ye;lt<=rt;lt++)it.push(lt);return it}function titleEntry(Ye){const rt=cp(Ye);return[rt.toLowerCase(),rt]}function titleRange(Ye,rt){return range(Ye,rt).map(it=>titleEntry(it))}var UnicodePropertiesWithSpecificCase=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function transform$1(Ye,rt){const it={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...rt};addParentProperties(Ye);const lt={accuracy:it.accuracy,asciiWordBoundaries:it.asciiWordBoundaries,avoidSubclass:it.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:isMinTarget(it.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:Ye.flags.digitIsAscii,spaceIsAscii:Ye.flags.spaceIsAscii,wordIsAscii:Ye.flags.wordIsAscii};S$3(Ye,FirstPassVisitor,lt);const ct={dotAll:Ye.flags.dotAll,ignoreCase:Ye.flags.ignoreCase},ut={currentFlags:ct,prevFlags:null,globalFlags:ct,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:lt.subroutineRefMap};S$3(Ye,SecondPassVisitor,ut);const ht={groupsByName:ut.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:ut.reffedNodesByReferencer};return S$3(Ye,ThirdPassVisitor,ht),Ye._originMap=ut.groupOriginByCopy,Ye._strategy=lt.strategy,Ye}var FirstPassVisitor={AbsenceFunction({node:Ye,parent:rt,replaceWith:it}){const{body:lt,kind:ct}=Ye;if(ct==="repeater"){const ut=A$2();ut.body[0].body.push(K$4({negate:!0,body:lt}),Q$2("Any"));const ht=A$2();ht.body[0].body.push(_$2("greedy",0,1/0,ut)),it(setParentDeep(ht,rt),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:Ye,parent:rt,key:it},{flagDirectivesByAlt:lt}){const ct=Ye.body.filter(ut=>ut.kind==="flags");for(let ut=it+1;ut<rt.body.length;ut++){const ht=rt.body[ut];getOrInsert(lt,ht,[]).push(...ct)}},exit({node:Ye},{flagDirectivesByAlt:rt}){if(rt.get(Ye)?.length){const it=getCombinedFlagModsFromFlagNodes(rt.get(Ye));if(it){const lt=A$2({flags:it});lt.body[0].body=Ye.body,Ye.body=[setParentDeep(lt,Ye)]}}}},Assertion({node:Ye,parent:rt,key:it,container:lt,root:ct,remove:ut,replaceWith:ht},ft){const{kind:pt,negate:mt}=Ye,{asciiWordBoundaries:gt,avoidSubclass:yt,supportedGNodes:xt,wordIsAscii:bt}=ft;if(pt==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${mt?"Y":"y"}"`);if(pt==="line_end")ht(setParentDeep(K$4({body:[b$3({body:[F$3("string_end")]}),b$3({body:[m$3(10)]})]}),rt));else if(pt==="line_start")ht(setParentDeep(parseFragment(r$1`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),rt));else if(pt==="search_start")if(xt.has(Ye))ct.flags.sticky=!0,ut();else{const _t=lt[it-1];if(_t&&isAlwaysNonZeroLength(_t))ht(setParentDeep(K$4({negate:!0}),rt));else{if(yt)throw new Error(r$1`Uses "\G" in a way that requires a subclass`);ht(setParent(F$3("string_start"),rt)),ft.strategy="clip_search"}}else if(!(pt==="string_end"||pt==="string_start"))if(pt==="string_end_newline")ht(setParentDeep(parseFragment(r$1`(?=\n?\z)`),rt));else if(pt==="word_boundary"){if(!bt&&!gt){const _t=`(?:(?<=${defaultWordChar})(?!${defaultWordChar})|(?<!${defaultWordChar})(?=${defaultWordChar}))`,Ct=`(?:(?<=${defaultWordChar})(?=${defaultWordChar})|(?<!${defaultWordChar})(?!${defaultWordChar}))`;ht(setParentDeep(parseFragment(mt?Ct:_t),rt))}}else throw new Error(`Unexpected assertion kind "${pt}"`)},Backreference({node:Ye},{jsGroupNameMap:rt}){let{ref:it}=Ye;typeof it=="string"&&!isValidJsGroupName(it)&&(it=getAndStoreJsGroupName(it,rt),Ye.ref=it)},CapturingGroup({node:Ye},{jsGroupNameMap:rt,subroutineRefMap:it}){let{name:lt}=Ye;lt&&!isValidJsGroupName(lt)&&(lt=getAndStoreJsGroupName(lt,rt),Ye.name=lt),it.set(Ye.number,Ye),lt&&it.set(lt,Ye)},CharacterClassRange({node:Ye,parent:rt,replaceWith:it}){if(rt.kind==="intersection"){const lt=C$3({body:[Ye]});it(setParentDeep(lt,rt),{traverse:!0})}},CharacterSet({node:Ye,parent:rt,replaceWith:it},{accuracy:lt,minTargetEs2024:ct,digitIsAscii:ut,spaceIsAscii:ht,wordIsAscii:ft}){const{kind:pt,negate:mt,value:gt}=Ye;if(ut&&(pt==="digit"||gt==="digit")){it(setParent(E$2("digit",{negate:mt}),rt));return}if(ht&&(pt==="space"||gt==="space")){it(setParentDeep(setNegate(parseFragment(asciiSpaceChar),mt),rt));return}if(ft&&(pt==="word"||gt==="word")){it(setParent(E$2("word",{negate:mt}),rt));return}if(pt==="any")it(setParent(Q$2("Any"),rt));else if(pt==="digit")it(setParent(Q$2("Nd",{negate:mt}),rt));else if(pt!=="dot")if(pt==="text_segment"){if(lt==="strict")throw new Error(r$1`Use of "\X" requires non-strict accuracy`);const yt="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",xt=r$1`\p{RI}{2}|${yt}(?:\u200D${yt})*`;it(setParentDeep(parseFragment(r$1`(?>\r\n|${ct?r$1`\p{RGI_Emoji}`:xt}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),rt))}else if(pt==="hex")it(setParent(Q$2("AHex",{negate:mt}),rt));else if(pt==="newline")it(setParentDeep(parseFragment(mt?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),rt));else if(pt==="posix")if(!ct&&(gt==="graph"||gt==="print")){if(lt==="strict")throw new Error(`POSIX class "${gt}" requires min target ES2024 or non-strict accuracy`);let yt={graph:"!-~",print:" -~"}[gt];mt&&(yt=`\0-${cp(yt.codePointAt(0)-1)}${cp(yt.codePointAt(2)+1)}-`),it(setParentDeep(parseFragment(`[${yt}]`),rt))}else it(setParentDeep(setNegate(parseFragment(PosixClassMap.get(gt)),mt),rt));else if(pt==="property")JsUnicodePropertyMap.has(w$f(gt))||(Ye.key="sc");else if(pt==="space")it(setParent(Q$2("space",{negate:mt}),rt));else if(pt==="word")it(setParentDeep(setNegate(parseFragment(defaultWordChar),mt),rt));else throw new Error(`Unexpected character set kind "${pt}"`)},Directive({node:Ye,parent:rt,root:it,remove:lt,replaceWith:ct,removeAllPrevSiblings:ut,removeAllNextSiblings:ht}){const{kind:ft,flags:pt}=Ye;if(ft==="flags")if(!pt.enable&&!pt.disable)lt();else{const mt=A$2({flags:pt});mt.body[0].body=ht(),ct(setParentDeep(mt,rt),{traverse:!0})}else if(ft==="keep"){const mt=it.body[0],yt=it.body.length===1&&o$1(mt,{type:"Group"})&&mt.body[0].body.length===1?mt.body[0]:it;if(rt.parent!==yt||yt.body.length>1)throw new Error(r$1`Uses "\K" in a way that's unsupported`);const xt=K$4({behind:!0});xt.body[0].body=ut(),ct(setParentDeep(xt,rt))}else throw new Error(`Unexpected directive kind "${ft}"`)},Flags({node:Ye,parent:rt}){if(Ye.posixIsAscii)throw new Error('Unsupported flag "P"');if(Ye.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(it=>delete Ye[it]),Object.assign(Ye,{global:!1,hasIndices:!1,multiline:!1,sticky:Ye.sticky??!1}),rt.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:Ye}){if(!Ye.flags)return;const{enable:rt,disable:it}=Ye.flags;rt?.extended&&delete rt.extended,it?.extended&&delete it.extended,rt?.dotAll&&it?.dotAll&&delete rt.dotAll,rt?.ignoreCase&&it?.ignoreCase&&delete rt.ignoreCase,rt&&!Object.keys(rt).length&&delete Ye.flags.enable,it&&!Object.keys(it).length&&delete Ye.flags.disable,!Ye.flags.enable&&!Ye.flags.disable&&delete Ye.flags},LookaroundAssertion({node:Ye},rt){const{kind:it}=Ye;it==="lookbehind"&&(rt.passedLookbehind=!0)},NamedCallout({node:Ye,parent:rt,replaceWith:it}){const{kind:lt}=Ye;if(lt==="fail")it(setParentDeep(K$4({negate:!0}),rt));else throw new Error(`Unsupported named callout "(*${lt.toUpperCase()}"`)},Quantifier({node:Ye}){if(Ye.body.type==="Quantifier"){const rt=A$2();rt.body[0].body.push(Ye.body),Ye.body=setParentDeep(rt,Ye)}},Regex:{enter({node:Ye},{supportedGNodes:rt}){const it=[];let lt=!1,ct=!1;for(const ut of Ye.body)if(ut.body.length===1&&ut.body[0].kind==="search_start")ut.body.pop();else{const ht=getLeadingG(ut.body);ht?(lt=!0,Array.isArray(ht)?it.push(...ht):it.push(ht)):ct=!0}lt&&!ct&&it.forEach(ut=>rt.add(ut))},exit(Ye,{accuracy:rt,passedLookbehind:it,strategy:lt}){if(rt==="strict"&&it&&lt)throw new Error(r$1`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:Ye},{jsGroupNameMap:rt}){let{ref:it}=Ye;typeof it=="string"&&!isValidJsGroupName(it)&&(it=getAndStoreJsGroupName(it,rt),Ye.ref=it)}},SecondPassVisitor={Backreference({node:Ye},{multiplexCapturesToLeftByRef:rt,reffedNodesByReferencer:it}){const{orphan:lt,ref:ct}=Ye;lt||it.set(Ye,[...rt.get(ct).map(({node:ut})=>ut)])},CapturingGroup:{enter({node:Ye,parent:rt,replaceWith:it,skip:lt},{groupOriginByCopy:ct,groupsByName:ut,multiplexCapturesToLeftByRef:ht,openRefs:ft,reffedNodesByReferencer:pt}){const mt=ct.get(Ye);if(mt&&ft.has(Ye.number)){const yt=setParent(createRecursion(Ye.number),rt);pt.set(yt,ft.get(Ye.number)),it(yt);return}ft.set(Ye.number,Ye),ht.set(Ye.number,[]),Ye.name&&getOrInsert(ht,Ye.name,[]);const gt=ht.get(Ye.name??Ye.number);for(let yt=0;yt<gt.length;yt++){const xt=gt[yt];if(mt===xt.node||mt&&mt===xt.origin||Ye===xt.origin){gt.splice(yt,1);break}}if(ht.get(Ye.number).push({node:Ye,origin:mt}),Ye.name&&ht.get(Ye.name).push({node:Ye,origin:mt}),Ye.name){const yt=getOrInsert(ut,Ye.name,new Map);let xt=!1;if(mt)xt=!0;else for(const bt of yt.values())if(!bt.hasDuplicateNameToRemove){xt=!0;break}ut.get(Ye.name).set(Ye,{node:Ye,hasDuplicateNameToRemove:xt})}},exit({node:Ye},{openRefs:rt}){rt.delete(Ye.number)}},Group:{enter({node:Ye},rt){rt.prevFlags=rt.currentFlags,Ye.flags&&(rt.currentFlags=getNewCurrentFlags(rt.currentFlags,Ye.flags))},exit(Ye,rt){rt.currentFlags=rt.prevFlags}},Subroutine({node:Ye,parent:rt,replaceWith:it},lt){const{isRecursive:ct,ref:ut}=Ye;if(ct){let gt=rt;for(;(gt=gt.parent)&&!(gt.type==="CapturingGroup"&&(gt.name===ut||gt.number===ut)););lt.reffedNodesByReferencer.set(Ye,gt);return}const ht=lt.subroutineRefMap.get(ut),ft=ut===0,pt=ft?createRecursion(0):cloneCapturingGroup(ht,lt.groupOriginByCopy,null);let mt=pt;if(!ft){const gt=getCombinedFlagModsFromFlagNodes(getAllParents(ht,xt=>xt.type==="Group"&&!!xt.flags)),yt=gt?getNewCurrentFlags(lt.globalFlags,gt):lt.globalFlags;areFlagsEqual(yt,lt.currentFlags)||(mt=A$2({flags:getFlagModsFromFlags(yt)}),mt.body[0].body.push(pt))}it(setParentDeep(mt,rt),{traverse:!ft})}},ThirdPassVisitor={Backreference({node:Ye,parent:rt,replaceWith:it},lt){if(Ye.orphan){lt.highestOrphanBackref=Math.max(lt.highestOrphanBackref,Ye.ref);return}const ut=lt.reffedNodesByReferencer.get(Ye).filter(ht=>canParticipateWithNode(ht,Ye));if(!ut.length)it(setParentDeep(K$4({negate:!0}),rt));else if(ut.length>1){const ht=A$2({atomic:!0,body:ut.reverse().map(ft=>b$3({body:[k$4(ft.number)]}))});it(setParentDeep(ht,rt))}else Ye.ref=ut[0].number},CapturingGroup({node:Ye},rt){Ye.number=++rt.numCapturesToLeft,Ye.name&&rt.groupsByName.get(Ye.name).get(Ye).hasDuplicateNameToRemove&&delete Ye.name},Regex:{exit({node:Ye},rt){const it=Math.max(rt.highestOrphanBackref-rt.numCapturesToLeft,0);for(let lt=0;lt<it;lt++){const ct=P$4();Ye.body.at(-1).body.push(ct)}}},Subroutine({node:Ye},rt){!Ye.isRecursive||Ye.ref===0||(Ye.ref=rt.reffedNodesByReferencer.get(Ye).number)}};function addParentProperties(Ye){S$3(Ye,{"*"({node:rt,parent:it}){rt.parent=it}})}function areFlagsEqual(Ye,rt){return Ye.dotAll===rt.dotAll&&Ye.ignoreCase===rt.ignoreCase}function canParticipateWithNode(Ye,rt){let it=rt;do{if(it.type==="Regex")return!1;if(it.type==="Alternative")continue;if(it===Ye)return!1;const lt=getKids(it.parent);for(const ct of lt){if(ct===it)break;if(ct===Ye||isAncestorOf(ct,Ye))return!0}}while(it=it.parent);throw new Error("Unexpected path")}function cloneCapturingGroup(Ye,rt,it,lt){const ct=Array.isArray(Ye)?[]:{};for(const[ut,ht]of Object.entries(Ye))ut==="parent"?ct.parent=Array.isArray(it)?lt:it:ht&&typeof ht=="object"?ct[ut]=cloneCapturingGroup(ht,rt,ct,it):(ut==="type"&&ht==="CapturingGroup"&&rt.set(ct,rt.get(Ye)??Ye),ct[ut]=ht);return ct}function createRecursion(Ye){const rt=O$2(Ye);return rt.isRecursive=!0,rt}function getAllParents(Ye,rt){const it=[];for(;Ye=Ye.parent;)(!rt||rt(Ye))&&it.push(Ye);return it}function getAndStoreJsGroupName(Ye,rt){if(rt.has(Ye))return rt.get(Ye);const it=`$${rt.size}_${Ye.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return rt.set(Ye,it),it}function getCombinedFlagModsFromFlagNodes(Ye){const rt=["dotAll","ignoreCase"],it={enable:{},disable:{}};return Ye.forEach(({flags:lt})=>{rt.forEach(ct=>{lt.enable?.[ct]&&(delete it.disable[ct],it.enable[ct]=!0),lt.disable?.[ct]&&(it.disable[ct]=!0)})}),Object.keys(it.enable).length||delete it.enable,Object.keys(it.disable).length||delete it.disable,it.enable||it.disable?it:null}function getFlagModsFromFlags({dotAll:Ye,ignoreCase:rt}){const it={};return(Ye||rt)&&(it.enable={},Ye&&(it.enable.dotAll=!0),rt&&(it.enable.ignoreCase=!0)),(!Ye||!rt)&&(it.disable={},!Ye&&(it.disable.dotAll=!0),!rt&&(it.disable.ignoreCase=!0)),it}function getKids(Ye){if(!Ye)throw new Error("Node expected");const{body:rt}=Ye;return Array.isArray(rt)?rt:rt?[rt]:null}function getLeadingG(Ye){const rt=Ye.find(it=>it.kind==="search_start"||isLoneGLookaround(it,{negate:!1})||!isAlwaysZeroLength(it));if(!rt)return null;if(rt.kind==="search_start")return rt;if(rt.type==="LookaroundAssertion")return rt.body[0].body[0];if(rt.type==="CapturingGroup"||rt.type==="Group"){const it=[];for(const lt of rt.body){const ct=getLeadingG(lt.body);if(!ct)return null;Array.isArray(ct)?it.push(...ct):it.push(ct)}return it}return null}function isAncestorOf(Ye,rt){const it=getKids(Ye)??[];for(const lt of it)if(lt===rt||isAncestorOf(lt,rt))return!0;return!1}function isAlwaysZeroLength({type:Ye}){return Ye==="Assertion"||Ye==="Directive"||Ye==="LookaroundAssertion"}function isAlwaysNonZeroLength(Ye){const rt=["Character","CharacterClass","CharacterSet"];return rt.includes(Ye.type)||Ye.type==="Quantifier"&&Ye.min&&rt.includes(Ye.body.type)}function isLoneGLookaround(Ye,rt){const it={negate:null,...rt};return Ye.type==="LookaroundAssertion"&&(it.negate===null||Ye.negate===it.negate)&&Ye.body.length===1&&o$1(Ye.body[0],{type:"Assertion",kind:"search_start"})}function isValidJsGroupName(Ye){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(Ye)}function parseFragment(Ye,rt){const lt=J$3(Ye,{...rt,unicodePropertyMap:JsUnicodePropertyMap}).body;return lt.length>1||lt[0].body.length>1?A$2({body:lt}):lt[0].body[0]}function setNegate(Ye,rt){return Ye.negate=rt,Ye}function setParent(Ye,rt){return Ye.parent=rt,Ye}function setParentDeep(Ye,rt){return addParentProperties(Ye),Ye.parent=rt,Ye}function generate(Ye,rt){const it=getOptions(rt),lt=isMinTarget(it.target,"ES2024"),ct=isMinTarget(it.target,"ES2025"),ut=it.rules.recursionLimit;if(!Number.isInteger(ut)||ut<2||ut>20)throw new Error("Invalid recursionLimit; use 2-20");let ht=null,ft=null;if(!ct){const bt=[Ye.flags.ignoreCase];S$3(Ye,FlagModifierVisitor,{getCurrentModI:()=>bt.at(-1),popModI(){bt.pop()},pushModI(_t){bt.push(_t)},setHasCasedChar(){bt.at(-1)?ht=!0:ft=!0}})}const pt={dotAll:Ye.flags.dotAll,ignoreCase:!!((Ye.flags.ignoreCase||ht)&&!ft)};let mt=Ye;const gt={accuracy:it.accuracy,appliedGlobalFlags:pt,captureMap:new Map,currentFlags:{dotAll:Ye.flags.dotAll,ignoreCase:Ye.flags.ignoreCase},inCharClass:!1,lastNode:mt,originMap:Ye._originMap,recursionLimit:ut,useAppliedIgnoreCase:!!(!ct&&ht&&ft),useFlagMods:ct,useFlagV:lt,verbose:it.verbose};function yt(bt){return gt.lastNode=mt,mt=bt,throwIfNullish(generator[bt.type],`Unexpected node type "${bt.type}"`)(bt,gt,yt)}const xt={pattern:Ye.body.map(yt).join("|"),flags:yt(Ye.flags),options:{...Ye.options}};return lt||(delete xt.options.force.v,xt.options.disable.v=!0,xt.options.unicodeSetsPlugin=null),xt._captureTransfers=new Map,xt._hiddenCaptures=[],gt.captureMap.forEach((bt,_t)=>{bt.hidden&&xt._hiddenCaptures.push(_t),bt.transferTo&&getOrInsert(xt._captureTransfers,bt.transferTo,[]).push(_t)}),xt}var FlagModifierVisitor={"*":{enter({node:Ye},rt){if(isAnyGroup(Ye)){const it=rt.getCurrentModI();rt.pushModI(Ye.flags?getNewCurrentFlags({ignoreCase:it},Ye.flags).ignoreCase:it)}},exit({node:Ye},rt){isAnyGroup(Ye)&&rt.popModI()}},Backreference(Ye,rt){rt.setHasCasedChar()},Character({node:Ye},rt){charHasCase(cp(Ye.value))&&rt.setHasCasedChar()},CharacterClassRange({node:Ye,skip:rt},it){rt(),getCasesOutsideCharClassRange(Ye,{firstOnly:!0}).length&&it.setHasCasedChar()},CharacterSet({node:Ye},rt){Ye.kind==="property"&&UnicodePropertiesWithSpecificCase.has(Ye.value)&&rt.setHasCasedChar()}},generator={Alternative({body:Ye},rt,it){return Ye.map(it).join("")},Assertion({kind:Ye,negate:rt}){if(Ye==="string_end")return"$";if(Ye==="string_start")return"^";if(Ye==="word_boundary")return rt?r$1`\B`:r$1`\b`;throw new Error(`Unexpected assertion kind "${Ye}"`)},Backreference({ref:Ye},rt){if(typeof Ye!="number")throw new Error("Unexpected named backref in transformed AST");if(!rt.useFlagMods&&rt.accuracy==="strict"&&rt.currentFlags.ignoreCase&&!rt.captureMap.get(Ye).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+Ye},CapturingGroup(Ye,rt,it){const{body:lt,name:ct,number:ut}=Ye,ht={ignoreCase:rt.currentFlags.ignoreCase},ft=rt.originMap.get(Ye);return ft&&(ht.hidden=!0,ut>ft.number&&(ht.transferTo=ft.number)),rt.captureMap.set(ut,ht),`(${ct?`?<${ct}>`:""}${lt.map(it).join("|")})`},Character({value:Ye},rt){const it=cp(Ye),lt=getCharEscape(Ye,{escDigit:rt.lastNode.type==="Backreference",inCharClass:rt.inCharClass,useFlagV:rt.useFlagV});if(lt!==it)return lt;if(rt.useAppliedIgnoreCase&&rt.currentFlags.ignoreCase&&charHasCase(it)){const ct=getIgnoreCaseMatchChars(it);return rt.inCharClass?ct.join(""):ct.length>1?`[${ct.join("")}]`:ct[0]}return it},CharacterClass(Ye,rt,it){const{kind:lt,negate:ct,parent:ut}=Ye;let{body:ht}=Ye;if(lt==="intersection"&&!rt.useFlagV)throw new Error("Use of class intersection requires min target ES2024");envFlags.bugFlagVLiteralHyphenIsRange&&rt.useFlagV&&ht.some(isLiteralHyphen)&&(ht=[m$3(45),...ht.filter(mt=>!isLiteralHyphen(mt))]);const ft=()=>`[${ct?"^":""}${ht.map(it).join(lt==="intersection"?"&&":"")}]`;if(!rt.inCharClass){if((!rt.useFlagV||envFlags.bugNestedClassIgnoresNegation)&&!ct){const gt=ht.filter(yt=>yt.type==="CharacterClass"&&yt.kind==="union"&&yt.negate);if(gt.length){const yt=A$2(),xt=yt.body[0];return yt.parent=ut,xt.parent=yt,ht=ht.filter(bt=>!gt.includes(bt)),Ye.body=ht,ht.length?(Ye.parent=xt,xt.body.push(Ye)):yt.body.pop(),gt.forEach(bt=>{const _t=b$3({body:[bt]});bt.parent=_t,_t.parent=yt,yt.body.push(_t)}),it(yt)}}rt.inCharClass=!0;const mt=ft();return rt.inCharClass=!1,mt}const pt=ht[0];if(lt==="union"&&!ct&&pt&&((!rt.useFlagV||!rt.verbose)&&ut.kind==="union"&&!(envFlags.bugFlagVLiteralHyphenIsRange&&rt.useFlagV)||!rt.verbose&&ut.kind==="intersection"&&ht.length===1&&pt.type!=="CharacterClassRange"))return ht.map(it).join("");if(!rt.useFlagV&&ut.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return ft()},CharacterClassRange(Ye,rt){const it=Ye.min.value,lt=Ye.max.value,ct={escDigit:!1,inCharClass:!0,useFlagV:rt.useFlagV},ut=getCharEscape(it,ct),ht=getCharEscape(lt,ct),ft=new Set;if(rt.useAppliedIgnoreCase&&rt.currentFlags.ignoreCase){const pt=getCasesOutsideCharClassRange(Ye);getCodePointRangesFromChars(pt).forEach(gt=>{ft.add(Array.isArray(gt)?`${getCharEscape(gt[0],ct)}-${getCharEscape(gt[1],ct)}`:getCharEscape(gt,ct))})}return`${ut}-${ht}${[...ft].join("")}`},CharacterSet({kind:Ye,negate:rt,value:it,key:lt},ct){if(Ye==="dot")return ct.currentFlags.dotAll?ct.appliedGlobalFlags.dotAll||ct.useFlagMods?".":"[^]":r$1`[^\n]`;if(Ye==="digit")return rt?r$1`\D`:r$1`\d`;if(Ye==="property"){if(ct.useAppliedIgnoreCase&&ct.currentFlags.ignoreCase&&UnicodePropertiesWithSpecificCase.has(it))throw new Error(`Unicode property "${it}" can't be case-insensitive when other chars have specific case`);return`${rt?r$1`\P`:r$1`\p`}{${lt?`${lt}=`:""}${it}}`}if(Ye==="word")return rt?r$1`\W`:r$1`\w`;throw new Error(`Unexpected character set kind "${Ye}"`)},Flags(Ye,rt){return(rt.appliedGlobalFlags.ignoreCase?"i":"")+(Ye.dotAll?"s":"")+(Ye.sticky?"y":"")},Group({atomic:Ye,body:rt,flags:it,parent:lt},ct,ut){const ht=ct.currentFlags;it&&(ct.currentFlags=getNewCurrentFlags(ht,it));const ft=rt.map(ut).join("|"),pt=!ct.verbose&&rt.length===1&&lt.type!=="Quantifier"&&!Ye&&(!ct.useFlagMods||!it)?ft:`(?${getGroupPrefix(Ye,it,ct.useFlagMods)}${ft})`;return ct.currentFlags=ht,pt},LookaroundAssertion({body:Ye,kind:rt,negate:it},lt,ct){return`(?${`${rt==="lookahead"?"":"<"}${it?"!":"="}`}${Ye.map(ct).join("|")})`},Quantifier(Ye,rt,it){return it(Ye.body)+getQuantifierStr(Ye)},Subroutine({isRecursive:Ye,ref:rt},it){if(!Ye)throw new Error("Unexpected non-recursive subroutine in transformed AST");const lt=it.recursionLimit;return rt===0?`(?R=${lt})`:r$1`\g<${rt}&R=${lt}>`}},BaseEscapeChars=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),CharClassEscapeChars=new Set(["-","\\","]","^","["]),CharClassEscapeCharsFlagV=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),CharCodeEscapeMap=new Map([[9,r$1`\t`],[10,r$1`\n`],[11,r$1`\v`],[12,r$1`\f`],[13,r$1`\r`],[8232,r$1`\u2028`],[8233,r$1`\u2029`],[65279,r$1`\uFEFF`]]),casedRe=new RegExp("^\\p{Cased}$","u");function charHasCase(Ye){return casedRe.test(Ye)}function getCasesOutsideCharClassRange(Ye,rt){const it=!!rt?.firstOnly,lt=Ye.min.value,ct=Ye.max.value,ut=[];if(lt<65&&(ct===65535||ct>=131071)||lt===65536&&ct>=131071)return ut;for(let ht=lt;ht<=ct;ht++){const ft=cp(ht);if(!charHasCase(ft))continue;const pt=getIgnoreCaseMatchChars(ft).filter(mt=>{const gt=mt.codePointAt(0);return gt<lt||gt>ct});if(pt.length&&(ut.push(...pt),it))break}return ut}function getCharEscape(Ye,{escDigit:rt,inCharClass:it,useFlagV:lt}){if(CharCodeEscapeMap.has(Ye))return CharCodeEscapeMap.get(Ye);if(Ye<32||Ye>126&&Ye<160||Ye>262143||rt&&isDigitCharCode(Ye))return Ye>255?`\\u{${Ye.toString(16).toUpperCase()}}`:`\\x${Ye.toString(16).toUpperCase().padStart(2,"0")}`;const ct=it?lt?CharClassEscapeCharsFlagV:CharClassEscapeChars:BaseEscapeChars,ut=cp(Ye);return(ct.has(ut)?"\\":"")+ut}function getCodePointRangesFromChars(Ye){const rt=Ye.map(ct=>ct.codePointAt(0)).sort((ct,ut)=>ct-ut),it=[];let lt=null;for(let ct=0;ct<rt.length;ct++)rt[ct+1]===rt[ct]+1?lt??=rt[ct]:lt===null?it.push(rt[ct]):(it.push([lt,rt[ct]]),lt=null);return it}function getGroupPrefix(Ye,rt,it){if(Ye)return">";let lt="";if(rt&&it){const{enable:ct,disable:ut}=rt;lt=(ct?.ignoreCase?"i":"")+(ct?.dotAll?"s":"")+(ut?"-":"")+(ut?.ignoreCase?"i":"")+(ut?.dotAll?"s":"")}return`${lt}:`}function getQuantifierStr({kind:Ye,max:rt,min:it}){let lt;return!it&&rt===1?lt="?":!it&&rt===1/0?lt="*":it===1&&rt===1/0?lt="+":it===rt?lt=`{${it}}`:lt=`{${it},${rt===1/0?"":rt}}`,lt+{greedy:"",lazy:"?",possessive:"+"}[Ye]}function isAnyGroup({type:Ye}){return Ye==="CapturingGroup"||Ye==="Group"||Ye==="LookaroundAssertion"}function isDigitCharCode(Ye){return Ye>47&&Ye<58}function isLiteralHyphen({type:Ye,value:rt}){return Ye==="Character"&&rt===45}var EmulatedRegExp=class cd extends RegExp{#e=new Map;#t=null;#r;#i=null;#n=null;rawOptions={};get source(){return this.#r||"(?:)"}constructor(rt,it,lt){const ct=!!lt?.lazyCompile;if(rt instanceof RegExp){if(lt)throw new Error("Cannot provide options when copying a regexp");const ut=rt;super(ut,it),this.#r=ut.source,ut instanceof cd&&(this.#e=ut.#e,this.#i=ut.#i,this.#n=ut.#n,this.rawOptions=ut.rawOptions)}else{const ut={hiddenCaptures:[],strategy:null,transfers:[],...lt};super(ct?"":rt,it),this.#r=rt,this.#e=createCaptureMap(ut.hiddenCaptures,ut.transfers),this.#n=ut.strategy,this.rawOptions=lt??{}}ct||(this.#t=this)}exec(rt){if(!this.#t){const{lazyCompile:ct,...ut}=this.rawOptions;this.#t=new cd(this.#r,this.flags,ut)}const it=this.global||this.sticky,lt=this.lastIndex;if(this.#n==="clip_search"&&it&&lt){this.lastIndex=0;const ct=this.#s(rt.slice(lt));return ct&&(adjustMatchDetailsForOffset(ct,lt,rt,this.hasIndices),this.lastIndex+=lt),ct}return this.#s(rt)}#s(rt){this.#t.lastIndex=this.lastIndex;const it=super.exec.call(this.#t,rt);if(this.lastIndex=this.#t.lastIndex,!it||!this.#e.size)return it;const lt=[...it];it.length=1;let ct;this.hasIndices&&(ct=[...it.indices],it.indices.length=1);const ut=[0];for(let ht=1;ht<lt.length;ht++){const{hidden:ft,transferTo:pt}=this.#e.get(ht)??{};if(ft?ut.push(null):(ut.push(it.length),it.push(lt[ht]),this.hasIndices&&it.indices.push(ct[ht])),pt&&lt[ht]!==void 0){const mt=ut[pt];if(!mt)throw new Error(`Invalid capture transfer to "${mt}"`);if(it[mt]=lt[ht],this.hasIndices&&(it.indices[mt]=ct[ht]),it.groups){this.#i||(this.#i=createNameMap(this.source));const gt=this.#i.get(pt);gt&&(it.groups[gt]=lt[ht],this.hasIndices&&(it.indices.groups[gt]=ct[ht]))}}}return it}};function adjustMatchDetailsForOffset(Ye,rt,it,lt){if(Ye.index+=rt,Ye.input=it,lt){const ct=Ye.indices;for(let ht=0;ht<ct.length;ht++){const ft=ct[ht];ft&&(ct[ht]=[ft[0]+rt,ft[1]+rt])}const ut=ct.groups;ut&&Object.keys(ut).forEach(ht=>{const ft=ut[ht];ft&&(ut[ht]=[ft[0]+rt,ft[1]+rt])})}}function createCaptureMap(Ye,rt){const it=new Map;for(const lt of Ye)it.set(lt,{hidden:!0});for(const[lt,ct]of rt)for(const ut of ct)getOrInsert(it,ut,{}).transferTo=lt;return it}function createNameMap(Ye){const rt=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,it=new Map;let lt=0,ct=0,ut;for(;ut=rt.exec(Ye);){const{0:ht,groups:{capture:ft,name:pt}}=ut;ht==="["?lt++:lt?ht==="]"&&lt--:ft&&(ct++,pt&&it.set(ct,pt))}return it}function toRegExp(Ye,rt){const it=toRegExpDetails(Ye,rt);return it.options?new EmulatedRegExp(it.pattern,it.flags,it.options):new RegExp(it.pattern,it.flags)}function toRegExpDetails(Ye,rt){const it=getOptions(rt),lt=J$3(Ye,{flags:it.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:it.rules.captureGroup,singleline:it.rules.singleline},skipBackrefValidation:it.rules.allowOrphanBackrefs,unicodePropertyMap:JsUnicodePropertyMap}),ct=transform$1(lt,{accuracy:it.accuracy,asciiWordBoundaries:it.rules.asciiWordBoundaries,avoidSubclass:it.avoidSubclass,bestEffortTarget:it.target}),ut=generate(ct,it),ht=recursion(ut.pattern,{captureTransfers:ut._captureTransfers,hiddenCaptures:ut._hiddenCaptures,mode:"external"}),ft=possessive(ht.pattern),pt=atomic(ft.pattern,{captureTransfers:ht.captureTransfers,hiddenCaptures:ht.hiddenCaptures}),mt={pattern:pt.pattern,flags:`${it.hasIndices?"d":""}${it.global?"g":""}${ut.flags}${ut.options.disable.v?"u":"v"}`};if(it.avoidSubclass){if(it.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const gt=pt.hiddenCaptures.sort((_t,Ct)=>_t-Ct),yt=Array.from(pt.captureTransfers),xt=ct._strategy,bt=mt.pattern.length>=it.lazyCompileLength;(gt.length||yt.length||xt||bt)&&(mt.options={...gt.length&&{hiddenCaptures:gt},...yt.length&&{transfers:yt},...xt&&{strategy:xt},...bt&&{lazyCompile:bt}})}return mt}const MAX=4294967295;class JavaScriptScanner{constructor(rt,it={}){this.patterns=rt,this.options=it;const{forgiving:lt=!1,cache:ct,regexConstructor:ut}=it;if(!ut)throw new Error("Option `regexConstructor` is not provided");this.regexps=rt.map(ht=>{if(typeof ht!="string")return ht;const ft=ct?.get(ht);if(ft){if(ft instanceof RegExp)return ft;if(lt)return null;throw ft}try{const pt=ut(ht);return ct?.set(ht,pt),pt}catch(pt){if(ct?.set(ht,pt),lt)return null;throw pt}})}regexps;findNextMatchSync(rt,it,lt){const ct=typeof rt=="string"?rt:rt.content,ut=[];function ht(ft,pt,mt=0){return{index:ft,captureIndices:pt.indices.map(gt=>gt==null?{start:MAX,end:MAX,length:0}:{start:gt[0]+mt,end:gt[1]+mt,length:gt[1]-gt[0]})}}for(let ft=0;ft<this.regexps.length;ft++){const pt=this.regexps[ft];if(pt)try{pt.lastIndex=it;const mt=pt.exec(ct);if(!mt)continue;if(mt.index===it)return ht(ft,mt,0);ut.push([ft,mt,0])}catch(mt){if(this.options.forgiving)continue;throw mt}}if(ut.length){const ft=Math.min(...ut.map(pt=>pt[1].index));for(const[pt,mt,gt]of ut)if(mt.index===ft)return ht(pt,mt,gt)}return null}}function defaultJavaScriptRegexConstructor(Ye,rt){return toRegExp(Ye,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...rt})}function createJavaScriptRegexEngine(Ye={}){const rt=Object.assign({target:"auto",cache:new Map},Ye);return rt.regexConstructor||=it=>defaultJavaScriptRegexConstructor(it,{target:rt.target}),{createScanner(it){return new JavaScriptScanner(it,rt)},createString(it){return{content:it}}}}let highlighter;const loadedThemes=new Map,loadedLanguages=new Map;async function getSharedHighlighter({themes:Ye,langs:rt,preferWasmHighlighter:it=!1}){if(isHighlighterNull(highlighter))return highlighter=new Promise(ut=>{(it?loadWasm(__vitePreload(()=>import("./wasm-CG6Dc4jp.js"),[],import.meta.url)):Promise.resolve()).then(()=>{const ht=[];for(const ft of Ye){loadedThemes.set(ft,!0);const pt=CustomThemes.get(ft);pt!=null?ht.push(pt()):ht.push(ft)}for(const ft of rt)loadedLanguages.set(ft,!0);return loadedLanguages.set("text",!0),createHighlighter({themes:ht,langs:[...rt,"text"],engine:it?createOnigurumaEngine():createJavaScriptRegexEngine()})}).then(ht=>{highlighter=ht,ut(ht)})}),highlighter;const lt=isHighlighterLoading(highlighter)?await highlighter:highlighter,ct=[];for(const ut of rt){const ht=loadedLanguages.get(ut);if(ht==null){const ft=lt.loadLanguage(ut).then(()=>void loadedLanguages.set(ut,!0));loadedLanguages.set(ut,ft),ct.push(ft)}else ht!==!0&&ct.push(ht)}for(const ut of Ye){const ht=loadedThemes.get(ut);if(ht==null){const ft=CustomThemes.get(ut),pt=lt.loadTheme(ft!=null?ft():ut).then(()=>void loadedThemes.set(ut,!0));loadedThemes.set(ut,pt),ct.push(pt)}else ht!==!0&&ct.push(ht)}return ct.length>0&&await Promise.all(ct),lt}function hasLoadedThemes(Ye){for(const rt of Ye)if(loadedThemes.get(rt)!==!0)return!1;return!0}function hasLoadedLanguage(Ye){return loadedLanguages.get(Ye)===!0}function isHighlighterLoading(Ye=highlighter){return Ye!=null&&"then"in Ye}function isHighlighterNull(Ye=highlighter){return Ye==null}const CustomThemes=new Map;function registerCustomTheme(Ye,rt){if(CustomThemes.has(Ye)){console.error("SharedHighlight.registerCustomTheme: theme name already registered",Ye);return}CustomThemes.set(Ye,rt)}registerCustomTheme("pierre-dark",()=>__vitePreload(()=>import("./pierre-dark-BXuwtOqb.js"),[],import.meta.url));registerCustomTheme("pierre-light",()=>__vitePreload(()=>import("./pierre-light-dckrK0oj.js"),[],import.meta.url));const COMMIT_METADATA_SPLIT=/(?=^From [a-f0-9]+ .+$)/m,GIT_DIFF_FILE_BREAK_REGEX=/(?=^diff --git)/gm,UNIFIED_DIFF_FILE_BREAK_REGEX=/(?=^---\s+\S)/gm,FILE_CONTEXT_BLOB=/(?=^@@ )/gm,HUNK_HEADER=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@(?: (.*))?/m,SPLIT_WITH_NEWLINES=new RegExp("(?<=\\n)"),FILENAME_HEADER_REGEX=/^(---|\+\+\+)\s+([^\t\n]+)/,FILENAME_HEADER_REGEX_GIT=/^(---|\+\+\+)\s+[ab]\/([^\t\n]+)/,ALTERNATE_FILE_NAMES_GIT=/^diff --git (?:"a\/(.+?)"|a\/(.+?)) (?:"b\/(.+?)"|b\/(.+?))$/,FILE_MODE_FROM_INDEX=/^index (?:[0-9a-f]+)\.\.(?:[0-9a-f]+)(?: (\d+))?/,HEADER_METADATA_SLOT_ID="header-metadata",DEFAULT_THEMES={dark:"pierre-dark",light:"pierre-light"};function getLineAnnotationName(Ye){return`annotation-${"side"in Ye?`${Ye.side}-`:""}${Ye.lineNumber}`}const EXTENSION_TO_FILE_FORMAT={"1c":"1c",abap:"abap",as:"actionscript-3",ada:"ada",adb:"ada",ads:"ada",adoc:"asciidoc",asciidoc:"asciidoc","component.html":"angular-html","component.ts":"angular-ts",conf:"nginx",htaccess:"apache",cls:"tex",trigger:"apex",apl:"apl",applescript:"applescript",scpt:"applescript",ara:"ara",asm:"asm",s:"riscv",astro:"astro",awk:"awk",bal:"ballerina",sh:"zsh",bash:"zsh",bat:"cmd",cmd:"cmd",be:"berry",beancount:"beancount",bib:"bibtex",bicep:"bicep","blade.php":"blade",bsl:"bsl",c:"c",h:"objective-cpp",cs:"csharp",cpp:"cpp",hpp:"cpp",cc:"cpp",cxx:"cpp",hh:"cpp",cdc:"cdc",cairo:"cairo",clar:"clarity",clj:"clojure",cljs:"clojure",cljc:"clojure",soy:"soy",cmake:"cmake","CMakeLists.txt":"cmake",cob:"cobol",cbl:"cobol",cobol:"cobol",CODEOWNERS:"codeowners",ql:"ql",coffee:"coffeescript",lisp:"lisp",cl:"lisp",lsp:"lisp",log:"log",v:"verilog",cql:"cql",cr:"crystal",css:"css",csv:"csv",cue:"cue",cypher:"cypher",cyp:"cypher",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",patch:"diff",Dockerfile:"dockerfile",dockerfile:"dockerfile",env:"dotenv",dm:"dream-maker",edge:"edge",el:"emacs-lisp",ex:"elixir",exs:"elixir",elm:"elm",erb:"erb",erl:"erlang",hrl:"erlang",f:"fortran-fixed-form",for:"fortran-fixed-form",fs:"fsharp",fsi:"fsharp",fsx:"fsharp",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"fortran-free-form",f95:"fortran-free-form",fnl:"fennel",fish:"fish",ftl:"ftl",tres:"gdresource",res:"gdresource",gd:"gdscript",gdshader:"gdshader",gs:"genie",feature:"gherkin",COMMIT_EDITMSG:"git-commit","git-rebase-todo":"git-rebase",gjs:"glimmer-js",gleam:"gleam",gts:"glimmer-ts",glsl:"glsl",vert:"glsl",frag:"glsl",shader:"shaderlab",gp:"gnuplot",plt:"gnuplot",gnuplot:"gnuplot",go:"go",graphql:"graphql",gql:"graphql",groovy:"groovy",gvy:"groovy",hack:"hack",haml:"haml",hbs:"handlebars",handlebars:"handlebars",hs:"haskell",lhs:"haskell",hx:"haxe",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",fx:"hlsl",html:"html",htm:"html",http:"http",rest:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",cfg:"ini",jade:"pug",pug:"pug",java:"java",js:"javascript",mjs:"javascript",cjs:"javascript",jinja:"jinja",jinja2:"jinja",j2:"jinja",jison:"jison",jl:"julia",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",libsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",kt:"kotlin",kts:"kts",kql:"kusto",tex:"tex",ltx:"tex",lean:"lean4",less:"less",liquid:"liquid",lit:"lit",ll:"llvm",logo:"logo",lua:"lua",luau:"luau",Makefile:"makefile",mk:"makefile",makefile:"makefile",md:"markdown",markdown:"markdown",marko:"marko",m:"wolfram",mat:"matlab",mdc:"mdc",mdx:"mdx",wiki:"wikitext",mediawiki:"wikitext",mmd:"mermaid",mermaid:"mermaid",mips:"mipsasm",mojo:"mojo","":"mojo",move:"move",nar:"narrat",nf:"nextflow",nim:"nim",nims:"nim",nimble:"nim",nix:"nix",nu:"nushell",mm:"objective-cpp",ml:"ocaml",mli:"ocaml",mll:"ocaml",mly:"ocaml",pas:"pascal",p:"pascal",pl:"prolog",pm:"perl",t:"perl",raku:"raku",p6:"raku",pl6:"raku",php:"php",phtml:"php",pls:"plsql",sql:"sql",po:"po",polar:"polar",pcss:"postcss",pot:"pot",potx:"potx",pq:"powerquery",pqm:"powerquery",ps1:"powershell",psm1:"powershell",psd1:"powershell",prisma:"prisma",pro:"prolog",P:"prolog",properties:"properties",proto:"protobuf",pp:"puppet",purs:"purescript",py:"python",pyw:"python",pyi:"python",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",R:"r",rkt:"racket",rktl:"racket",razor:"razor",cshtml:"razor",rb:"ruby",rbw:"ruby",reg:"reg",regex:"regexp",rel:"rel",rs:"rust",rst:"rst",rake:"ruby",gemspec:"ruby",sas:"sas",sass:"sass",scala:"scala",sc:"scala",scm:"scheme",ss:"scheme",sld:"scheme",scss:"scss",sdbl:"sdbl",shadergraph:"shader",st:"smalltalk",sol:"solidity",sparql:"sparql",rq:"sparql",spl:"splunk",config:"ssh-config",do:"stata",ado:"stata",dta:"stata",styl:"stylus",stylus:"stylus",svelte:"svelte",swift:"swift",sv:"system-verilog",svh:"system-verilog",service:"systemd",socket:"systemd",device:"systemd",timer:"systemd",talon:"talonscript",tasl:"tasl",tcl:"tcl",templ:"templ",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"typescript",tsp:"typespec",tsv:"tsv",tsx:"tsx",ttl:"turtle",twig:"twig",typ:"typst",vv:"v",vala:"vala",vapi:"vala",vb:"vb",vbs:"vb",bas:"vb",vh:"verilog",vhd:"vhdl",vhdl:"vhdl",vim:"vimscript",vue:"vue","vine.ts":"vue-vine",vy:"vyper",wasm:"wasm",wat:"wasm",wy:"",wgsl:"wgsl",wit:"wit",wl:"wolfram",nb:"wolfram",xml:"xml",xsl:"xsl",xslt:"xsl",yaml:"yaml",yml:"yml",zs:"zenscript",zig:"zig",zsh:"zsh",sty:"tex"};function getFiletypeFromFileName(Ye){if(EXTENSION_TO_FILE_FORMAT[Ye]!=null)return EXTENSION_TO_FILE_FORMAT[Ye];const rt=Ye.match(/\.([^/\\]+\.[^/\\]+)$/);return rt!=null&&EXTENSION_TO_FILE_FORMAT[rt[1]]!=null?EXTENSION_TO_FILE_FORMAT[rt[1]]??"text":EXTENSION_TO_FILE_FORMAT[Ye.match(/\.([^.]+)$/)?.[1]??""]??"text"}function parseLineType(Ye,rt){const it=Ye[0];if(it!=="+"&&it!=="-"&&it!==" "&&it!==`
`&&it!=="\\")throw new Error(`parseLineType: Invalid firstChar: "${it}", full line: "${Ye}"`);return{line:Ye.substring(1),type:it===" "||it===`
`?"context":it==="\\"?"metadata":it==="+"?"addition":"deletion",longLine:Ye.length-1>=rt}}function createMirroredAnnotationSpan({deletionLineNumber:Ye,additionLineNumber:rt,hunkIndex:it,lineIndex:lt,deletionAnnotations:ct,additionAnnotations:ut,unified:ht}){const ft=[];for(const mt of ct[Ye]??[])ft.push(getLineAnnotationName(mt));const pt=[];for(const mt of ut[rt]??[])(ht?ft:pt).push(getLineAnnotationName(mt));return pt.length===0&&ft.length===0?ht?void 0:[void 0,void 0]:ht?{type:"annotation",hunkIndex:it,lineIndex:lt,annotations:ft}:[{type:"annotation",hunkIndex:it,lineIndex:lt,annotations:ft},{type:"annotation",hunkIndex:it,lineIndex:lt,annotations:pt}]}function createSingleAnnotationSpan({rowNumber:Ye,hunkIndex:rt,lineIndex:it,annotationMap:lt}){const ct={type:"annotation",hunkIndex:rt,lineIndex:it,annotations:[]};for(const ut of lt[Ye]??[])ct.annotations.push(getLineAnnotationName(ut));return ct.annotations.length>0?ct:void 0}function formatCSSVariablePrefix(Ye="pjs"){return`--${Ye}-`}function getHighlighterThemeStyles({theme:Ye=DEFAULT_THEMES,highlighter:rt,prefix:it}){let lt="";if(typeof Ye=="string"){const ct=rt.getTheme(Ye);lt+=`color:${ct.fg};`,lt+=`background-color:${ct.bg};`,lt+=`${formatCSSVariablePrefix(it)}fg:${ct.fg};`,lt+=`${formatCSSVariablePrefix(it)}bg:${ct.bg};`,lt+=getThemeVariables$1(ct,it)}else{let ct=rt.getTheme(Ye.dark);lt+=`${formatCSSVariablePrefix(it)}dark:${ct.fg};`,lt+=`${formatCSSVariablePrefix(it)}dark-bg:${ct.bg};`,lt+=getThemeVariables$1(ct,it,"dark"),ct=rt.getTheme(Ye.light),lt+=`${formatCSSVariablePrefix(it)}light:${ct.fg};`,lt+=`${formatCSSVariablePrefix(it)}light-bg:${ct.bg};`,lt+=getThemeVariables$1(ct,it,"light")}return lt}function getThemeVariables$1(Ye,rt,it){it=it!=null?`${it}-`:"";let lt="";const ct=Ye.colors?.["gitDecoration.addedResourceForeground"]??Ye.colors?.["terminal.ansiGreen"];ct!=null&&(lt+=`${formatCSSVariablePrefix(rt)}${it}addition-color:${ct};`);const ut=Ye.colors?.["gitDecoration.deletedResourceForeground"]??Ye.colors?.["terminal.ansiRed"];ut!=null&&(lt+=`${formatCSSVariablePrefix(rt)}${it}deletion-color:${ut};`);const ht=Ye.colors?.["gitDecoration.modifiedResourceForeground"]??Ye.colors?.["terminal.ansiBlue"];return ht!=null&&(lt+=`${formatCSSVariablePrefix(rt)}${it}modified-color:${ht};`),lt}function getIconForType(Ye){switch(Ye){case"file":return"pjs-icon-file-code";case"change":return"pjs-icon-symbol-modified";case"new":return"pjs-icon-symbol-added";case"deleted":return"pjs-icon-symbol-deleted";case"rename-pure":case"rename-changed":return"pjs-icon-symbol-moved"}}function createTextNode(Ye){return{type:"text",value:Ye}}function createHastElement({tagName:Ye,children:rt=[],properties:it={}}){return{type:"element",tagName:Ye,properties:it,children:rt}}function createExpandButton(Ye){return createHastElement({tagName:"div",children:[createIcon({name:Ye==="both"?"pjs-icon-expand-all":"pjs-icon-expand",properties:{"data-icon":""}})],properties:{"data-expand-button":"","data-expand-both":Ye==="both"?"":void 0,"data-expand-up":Ye==="up"?"":void 0,"data-expand-down":Ye==="down"?"":void 0}})}function createSeparator({type:Ye,content:rt,expandIndex:it,isChunkedExpansion:lt=!1,slotName:ct,isFirstHunk:ut,isLastHunk:ht}){const ft=[];if(Ye==="metadata"&&rt!=null&&ft.push(createHastElement({tagName:"div",children:[createTextNode(rt)],properties:{"data-separator-wrapper":""}})),Ye==="line-info"&&rt!=null){const pt=[];it!=null&&(lt?(ut||pt.push(createExpandButton("up")),ht||pt.push(createExpandButton("down"))):pt.push(createExpandButton(!ut&&!ht?"both":ut?"down":"up"))),pt.push(createHastElement({tagName:"div",children:[createHastElement({tagName:"span",children:[createTextNode(rt)],properties:{"data-unmodified-lines":""}})],properties:{"data-separator-content":""}})),ft.push(createHastElement({tagName:"div",children:pt,properties:{"data-separator-wrapper":"","data-separator-multi-button":pt.length>2?"":void 0}}))}return Ye==="custom"&&ct!=null&&ft.push(createHastElement({tagName:"slot",properties:{name:ct}})),createHastElement({tagName:"div",children:ft,properties:{"data-separator":ft.length===0?"":Ye,"data-expand-index":it,"data-separator-first":ut?"":void 0,"data-separator-last":ht?"":void 0}})}function createIcon({name:Ye,width:rt=16,height:it=16,properties:lt}){return createHastElement({tagName:"svg",properties:{width:rt,height:it,viewBox:"0 0 16 16",...lt},children:[createHastElement({tagName:"use",properties:{href:`#${Ye.replace(/^#/,"")}`}})]})}function createAnnotationElement(Ye){return createHastElement({tagName:"div",children:[createHastElement({tagName:"div",children:Ye.annotations?.map(rt=>createHastElement({tagName:"slot",properties:{name:rt}})),properties:{"data-annotation-content":""}})],properties:{"data-line-annotation":`${Ye.hunkIndex},${Ye.lineIndex}`}})}function createEmptyRowBuffer(Ye){return createHastElement({tagName:"div",properties:{"data-buffer":"",style:`grid-row: span ${Ye};min-height:calc(${Ye} * 1lh)`}})}function findCodeElement(Ye){let rt=Ye.children[0];for(;rt!=null;){if(rt.type==="element"&&rt.tagName==="code")return rt;"children"in rt?rt=rt.children[0]:rt=null}}function convertLine(Ye,rt,it){const lt=it.lineInfo[rt];if(lt==null)throw console.error({node:Ye,line:rt,state:it}),new Error(`convertLine: line ${rt}, contains no state.lineInfo`);Ye.tagName="span",Ye.properties["data-column-content"]="",lt.metadataContent!=null?Ye.children.push(createHastElement({tagName:"span",children:[createTextNode(lt.metadataContent)],properties:{"data-no-newline":""}})):Ye.children.length===0&&Ye.children.push(createTextNode(`
`));const ct=[Ye];return it.disableLineNumbers||ct.unshift(createHastElement({tagName:"span",children:lt.metadataContent==null?[{type:"text",value:`${lt.lineNumber}`}]:[],properties:{"data-column-number":""}})),createHastElement({tagName:"div",children:ct,properties:{"data-line":lt.metadataContent==null?lt.lineNumber:"","data-alt-line":lt.altLineNumber,"data-line-type":lt.type,"data-line-index":lt.lineIndex>=0?lt.lineIndex:void 0}})}function createPreWrapperProperties({diffIndicators:Ye="bars",disableBackground:rt=!1,highlighter:it,overflow:lt="scroll",split:ct,theme:ut=DEFAULT_THEMES,themeType:ht="system",totalLines:ft}){const pt={"data-pjs":"","data-type":ct?"split":"file","data-overflow":lt,style:getHighlighterThemeStyles({theme:ut,highlighter:it}),tabIndex:0};switch(pt.style+=`--pjs-min-number-column-width-default:${`${ft}`.length}ch;`,typeof ut=="string"&&ht!=="system"?pt["data-theme-type"]=ht:typeof ut=="string"&&(pt["data-theme-type"]=it.getTheme(ut).type),Ye){case"bars":case"classic":pt["data-indicators"]=Ye;break}return rt||(pt["data-background"]=""),pt}function createFileHeaderElement({fileOrDiff:Ye,theme:rt,highlighter:it,prefix:lt,themeType:ct="system"}){const ut="type"in Ye?Ye:void 0,ht={"data-pjs-header":"",style:getHighlighterThemeStyles({theme:rt,highlighter:it,prefix:lt})};return ut!=null&&(ht["data-change-type"]=ut.type),typeof rt=="string"?ht["data-theme-type"]=it.getTheme(rt).type:ct!=="system"&&(ht["data-theme-type"]=ct),createHastElement({tagName:"div",children:[createHeaderElement({name:Ye.name,prevName:"prevName"in Ye?Ye.prevName:void 0,iconType:ut?.type??"file"}),createMetadataElement(ut)],properties:ht})}function createHeaderElement({name:Ye,prevName:rt,iconType:it}){const lt=[createIcon({name:getIconForType(it),properties:{"data-change-icon":it}})];return rt!=null&&(lt.push(createHastElement({tagName:"div",children:[createTextNode(rt)],properties:{"data-prev-name":""}})),lt.push(createIcon({name:"pjs-icon-arrow-right-short",properties:{"data-rename-icon":""}}))),lt.push(createHastElement({tagName:"div",children:[createTextNode(Ye)],properties:{"data-title":""}})),createHastElement({tagName:"div",children:lt,properties:{"data-header-content":""}})}function createMetadataElement(Ye){const rt=[];if(Ye!=null){let it=0,lt=0;for(const ct of Ye.hunks)it+=ct.additionLines,lt+=ct.deletionLines;lt>0&&rt.push(createHastElement({tagName:"span",children:[createTextNode(`-${lt}`)],properties:{"data-deletions-count":""}})),it>0&&rt.push(createHastElement({tagName:"span",children:[createTextNode(`+${it}`)],properties:{"data-additions-count":""}})),lt===0&&it===0&&rt.push(createHastElement({tagName:"span",children:[createTextNode("No diff")]}))}return rt.push(createHastElement({tagName:"slot",properties:{name:HEADER_METADATA_SLOT_ID}})),createHastElement({tagName:"div",children:rt,properties:{"data-metadata":""}})}function transformerStyleToClass(Ye={}){const{classPrefix:rt="__shiki_",classSuffix:it="",classReplacer:lt=ft=>ft}=Ye,ct=new Map;function ut(ft){return Object.entries(ft).map(([pt,mt])=>`${pt}:${mt}`).join(";")}function ht(ft){const pt=typeof ft=="string"?ft:ut(ft);let mt=rt+cyrb53(pt)+it;return mt=lt(mt),ct.has(mt)||ct.set(mt,typeof ft=="string"?ft:{...ft}),mt}return{name:"@shikijs/transformers:style-to-class",pre(ft){if(!ft.properties.style)return;const pt=ht(ft.properties.style);delete ft.properties.style,this.addClassToHast(ft,pt)},tokens(ft){for(const pt of ft)for(const mt of pt){if(!mt.htmlStyle)continue;const gt=ht(mt.htmlStyle);mt.htmlStyle={},mt.htmlAttrs||={},mt.htmlAttrs.class?mt.htmlAttrs.class+=` ${gt}`:mt.htmlAttrs.class=gt}},getClassRegistry(){return ct},getCSS(){let ft="";for(const[pt,mt]of ct.entries())ft+=`.${pt}{${typeof mt=="string"?mt:ut(mt)}}`;return ft},clearRegistry(){ct.clear()}}}function cyrb53(Ye,rt=0){let it=3735928559^rt,lt=1103547991^rt;for(let ct=0,ut;ct<Ye.length;ct++)ut=Ye.charCodeAt(ct),it=Math.imul(it^ut,2654435761),lt=Math.imul(lt^ut,1597334677);return it=Math.imul(it^it>>>16,2246822507),it^=Math.imul(lt^lt>>>13,3266489909),lt=Math.imul(lt^lt>>>16,2246822507),lt^=Math.imul(it^it>>>13,3266489909),(4294967296*(2097151&lt)+(it>>>0)).toString(36).slice(0,6)}function createTransformerWithState({disableLineNumbers:Ye,useCSSClasses:rt}){const it={lineInfo:{},decorations:[],disableLineNumbers:Ye},lt=[{line(ct){return delete ct.properties.class,ct},pre(ct){const ut=findCodeElement(ct),ht=[];if(ut!=null){let ft=1;for(const pt of ut.children){if(pt.type!=="element")continue;if(ft===1&&it.lineInfo[0]?.spans!=null)for(const gt of it.lineInfo[0]?.spans??[])gt.type==="gap"?ht.push(createEmptyRowBuffer(gt.rows)):ht.push(createAnnotationElement(gt));ht.push(convertLine(pt,ft,it));const mt=it.lineInfo[ft];if(mt?.spans!=null)for(const gt of mt.spans)gt.type==="gap"?ht.push(createEmptyRowBuffer(gt.rows)):ht.push(createAnnotationElement(gt));ft++}ut.children=ht}return ct}}];return rt&&lt.push(tokenStyleNormalizer,toClass),{state:it,transformers:lt,toClass}}const toClass=transformerStyleToClass({classPrefix:"hl-"}),tokenStyleNormalizer={name:"token-style-normalizer",tokens(Ye){for(const rt of Ye)for(const it of rt){if(it.htmlStyle!=null)continue;const lt={};it.color!=null&&(lt.color=it.color),it.bgColor!=null&&(lt["background-color"]=it.bgColor),it.fontStyle!=null&&it.fontStyle!==0&&((it.fontStyle&1)!==0&&(lt["font-style"]="italic"),(it.fontStyle&2)!==0&&(lt["font-weight"]="bold"),(it.fontStyle&4)!==0&&(lt["text-decoration"]="underline")),Object.keys(lt).length>0&&(it.htmlStyle=lt)}}};function getThemes(Ye=DEFAULT_THEMES){const rt=[];return typeof Ye=="string"?rt.push(Ye):(rt.push(Ye.dark),rt.push(Ye.light)),rt}function getHighlighterOptions(Ye,rt){return{langs:[Ye??"text"],themes:getThemes(rt.theme),preferWasmHighlighter:rt.preferWasmHighlighter}}function getHunkSeparatorSlotName(Ye,rt){return`hunk-separator-${Ye}-${rt}`}function getTotalLineCountFromHunks(Ye){const rt=Ye[Ye.length-1];return rt==null?0:Math.max(rt.additionStart+rt.additionCount,rt.deletionStart+rt.deletionCount)}class Diff{diff(rt,it,lt={}){let ct;typeof lt=="function"?(ct=lt,lt={}):"callback"in lt&&(ct=lt.callback);const ut=this.castInput(rt,lt),ht=this.castInput(it,lt),ft=this.removeEmpty(this.tokenize(ut,lt)),pt=this.removeEmpty(this.tokenize(ht,lt));return this.diffWithOptionsObj(ft,pt,lt,ct)}diffWithOptionsObj(rt,it,lt,ct){var ut;const ht=Rt=>{if(Rt=this.postProcess(Rt,lt),ct){setTimeout(function(){ct(Rt)},0);return}else return Rt},ft=it.length,pt=rt.length;let mt=1,gt=ft+pt;lt.maxEditLength!=null&&(gt=Math.min(gt,lt.maxEditLength));const yt=(ut=lt.timeout)!==null&&ut!==void 0?ut:1/0,xt=Date.now()+yt,bt=[{oldPos:-1,lastComponent:void 0}];let _t=this.extractCommon(bt[0],it,rt,0,lt);if(bt[0].oldPos+1>=pt&&_t+1>=ft)return ht(this.buildValues(bt[0].lastComponent,it,rt));let Ct=-1/0,kt=1/0;const St=()=>{for(let Rt=Math.max(Ct,-mt);Rt<=Math.min(kt,mt);Rt+=2){let Tt;const Mt=bt[Rt-1],Pt=bt[Rt+1];Mt&&(bt[Rt-1]=void 0);let It=!1;if(Pt){const Ot=Pt.oldPos-Rt;It=Pt&&0<=Ot&&Ot<ft}const Lt=Mt&&Mt.oldPos+1<pt;if(!It&&!Lt){bt[Rt]=void 0;continue}if(!Lt||It&&Mt.oldPos<Pt.oldPos?Tt=this.addToPath(Pt,!0,!1,0,lt):Tt=this.addToPath(Mt,!1,!0,1,lt),_t=this.extractCommon(Tt,it,rt,Rt,lt),Tt.oldPos+1>=pt&&_t+1>=ft)return ht(this.buildValues(Tt.lastComponent,it,rt))||!0;bt[Rt]=Tt,Tt.oldPos+1>=pt&&(kt=Math.min(kt,Rt-1)),_t+1>=ft&&(Ct=Math.max(Ct,Rt+1))}mt++};if(ct)(function Rt(){setTimeout(function(){if(mt>gt||Date.now()>xt)return ct(void 0);St()||Rt()},0)})();else for(;mt<=gt&&Date.now()<=xt;){const Rt=St();if(Rt)return Rt}}addToPath(rt,it,lt,ct,ut){const ht=rt.lastComponent;return ht&&!ut.oneChangePerToken&&ht.added===it&&ht.removed===lt?{oldPos:rt.oldPos+ct,lastComponent:{count:ht.count+1,added:it,removed:lt,previousComponent:ht.previousComponent}}:{oldPos:rt.oldPos+ct,lastComponent:{count:1,added:it,removed:lt,previousComponent:ht}}}extractCommon(rt,it,lt,ct,ut){const ht=it.length,ft=lt.length;let pt=rt.oldPos,mt=pt-ct,gt=0;for(;mt+1<ht&&pt+1<ft&&this.equals(lt[pt+1],it[mt+1],ut);)mt++,pt++,gt++,ut.oneChangePerToken&&(rt.lastComponent={count:1,previousComponent:rt.lastComponent,added:!1,removed:!1});return gt&&!ut.oneChangePerToken&&(rt.lastComponent={count:gt,previousComponent:rt.lastComponent,added:!1,removed:!1}),rt.oldPos=pt,mt}equals(rt,it,lt){return lt.comparator?lt.comparator(rt,it):rt===it||!!lt.ignoreCase&&rt.toLowerCase()===it.toLowerCase()}removeEmpty(rt){const it=[];for(let lt=0;lt<rt.length;lt++)rt[lt]&&it.push(rt[lt]);return it}castInput(rt,it){return rt}tokenize(rt,it){return Array.from(rt)}join(rt){return rt.join("")}postProcess(rt,it){return rt}get useLongestToken(){return!1}buildValues(rt,it,lt){const ct=[];let ut;for(;rt;)ct.push(rt),ut=rt.previousComponent,delete rt.previousComponent,rt=ut;ct.reverse();const ht=ct.length;let ft=0,pt=0,mt=0;for(;ft<ht;ft++){const gt=ct[ft];if(gt.removed)gt.value=this.join(lt.slice(mt,mt+gt.count)),mt+=gt.count;else{if(!gt.added&&this.useLongestToken){let yt=it.slice(pt,pt+gt.count);yt=yt.map(function(xt,bt){const _t=lt[mt+bt];return _t.length>xt.length?_t:xt}),gt.value=this.join(yt)}else gt.value=this.join(it.slice(pt,pt+gt.count));pt+=gt.count,gt.added||(mt+=gt.count)}}return ct}}class CharacterDiff extends Diff{}const characterDiff=new CharacterDiff;function diffChars(Ye,rt,it){return characterDiff.diff(Ye,rt,it)}const extendedWordChars="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}";class WordsWithSpaceDiff extends Diff{tokenize(rt){const it=new RegExp(`(\\r?\\n)|[${extendedWordChars}]+|[^\\S\\n\\r]+|[^${extendedWordChars}]`,"ug");return rt.match(it)||[]}}const wordsWithSpaceDiff=new WordsWithSpaceDiff;function diffWordsWithSpace(Ye,rt,it){return wordsWithSpaceDiff.diff(Ye,rt,it)}class LineDiff extends Diff{constructor(){super(...arguments),this.tokenize=tokenize}equals(rt,it,lt){return lt.ignoreWhitespace?((!lt.newlineIsToken||!rt.includes(`
`))&&(rt=rt.trim()),(!lt.newlineIsToken||!it.includes(`
`))&&(it=it.trim())):lt.ignoreNewlineAtEof&&!lt.newlineIsToken&&(rt.endsWith(`
`)&&(rt=rt.slice(0,-1)),it.endsWith(`
`)&&(it=it.slice(0,-1))),super.equals(rt,it,lt)}}const lineDiff=new LineDiff;function diffLines(Ye,rt,it){return lineDiff.diff(Ye,rt,it)}function tokenize(Ye,rt){rt.stripTrailingCr&&(Ye=Ye.replace(/\r\n/g,`
`));const it=[],lt=Ye.split(/(\n|\r\n)/);lt[lt.length-1]||lt.pop();for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];ct%2&&!rt.newlineIsToken?it[it.length-1]+=ut:it.push(ut)}return it}function structuredPatch(Ye,rt,it,lt,ct,ut,ht){let ft;ft={},typeof ft.context>"u"&&(ft.context=4);const pt=ft.context;if(ft.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(ft.callback){const{callback:gt}=ft;diffLines(it,lt,Object.assign(Object.assign({},ft),{callback:yt=>{const xt=mt(yt);gt(xt)}}))}else return mt(diffLines(it,lt,ft));function mt(gt){if(!gt)return;gt.push({value:"",lines:[]});function yt(Rt){return Rt.map(function(Tt){return" "+Tt})}const xt=[];let bt=0,_t=0,Ct=[],kt=1,St=1;for(let Rt=0;Rt<gt.length;Rt++){const Tt=gt[Rt],Mt=Tt.lines||splitLines(Tt.value);if(Tt.lines=Mt,Tt.added||Tt.removed){if(!bt){const Pt=gt[Rt-1];bt=kt,_t=St,Pt&&(Ct=pt>0?yt(Pt.lines.slice(-pt)):[],bt-=Ct.length,_t-=Ct.length)}for(const Pt of Mt)Ct.push((Tt.added?"+":"-")+Pt);Tt.added?St+=Mt.length:kt+=Mt.length}else{if(bt)if(Mt.length<=pt*2&&Rt<gt.length-2)for(const Pt of yt(Mt))Ct.push(Pt);else{const Pt=Math.min(Mt.length,pt);for(const Lt of yt(Mt.slice(0,Pt)))Ct.push(Lt);const It={oldStart:bt,oldLines:kt-bt+Pt,newStart:_t,newLines:St-_t+Pt,lines:Ct};xt.push(It),bt=0,_t=0,Ct=[]}kt+=Mt.length,St+=Mt.length}}for(const Rt of xt)for(let Tt=0;Tt<Rt.lines.length;Tt++)Rt.lines[Tt].endsWith(`
`)?Rt.lines[Tt]=Rt.lines[Tt].slice(0,-1):(Rt.lines.splice(Tt+1,0,"\\ No newline at end of file"),Tt++);return{oldFileName:Ye,newFileName:rt,oldHeader:ct,newHeader:ut,hunks:xt}}}function formatPatch(Ye){if(Array.isArray(Ye))return Ye.map(formatPatch).join(`
`);const rt=[];Ye.oldFileName==Ye.newFileName&&rt.push("Index: "+Ye.oldFileName),rt.push("==================================================================="),rt.push("--- "+Ye.oldFileName+(typeof Ye.oldHeader>"u"?"":"	"+Ye.oldHeader)),rt.push("+++ "+Ye.newFileName+(typeof Ye.newHeader>"u"?"":"	"+Ye.newHeader));for(let it=0;it<Ye.hunks.length;it++){const lt=Ye.hunks[it];lt.oldLines===0&&(lt.oldStart-=1),lt.newLines===0&&(lt.newStart-=1),rt.push("@@ -"+lt.oldStart+","+lt.oldLines+" +"+lt.newStart+","+lt.newLines+" @@");for(const ct of lt.lines)rt.push(ct)}return rt.join(`
`)+`
`}function createTwoFilesPatch(Ye,rt,it,lt,ct,ut,ht){{const ft=structuredPatch(Ye,rt,it,lt,ct,ut);return ft?formatPatch(ft):void 0}}function splitLines(Ye){const rt=Ye.endsWith(`
`),it=Ye.split(`
`).map(lt=>lt+`
`);return rt?it.pop():it.push(it.pop().slice(0,-1)),it}function parseDecorations({diffGroups:Ye,disableDecorations:rt=!1,lineDiffType:it,maxLineDiffLength:lt,diffStyle:ct}){const ut=ct==="unified",ht=[],ft=[],pt=[];if(rt||it==="none")return{unifiedDecorations:ht,deletionDecorations:pt,additionDecorations:ft};for(const mt of Ye){const gt=Math.min(mt.additionLines.length,mt.deletionLines.length);for(let yt=0;yt<gt;yt++){const xt=mt.deletionLines[yt],bt=mt.additionLines[yt];if(xt==null||bt==null)break;if(xt.length>lt||bt.length>lt)continue;const _t=it==="char"?diffChars(xt,bt):diffWordsWithSpace(xt,bt),Ct=[],kt=[],St=it==="word-alt";for(const Tt of _t)!Tt.added&&!Tt.removed?(pushOrJoinSpan({item:Tt,arr:Ct,enableJoin:St,isNeutral:!0}),pushOrJoinSpan({item:Tt,arr:kt,enableJoin:St,isNeutral:!0})):Tt.removed?pushOrJoinSpan({item:Tt,arr:Ct,enableJoin:St}):pushOrJoinSpan({item:Tt,arr:kt,enableJoin:St});let Rt=0;for(const Tt of kt)Tt[0]===1&&(ut?ht:ft).push(createDiffSpanDecoration({line:mt.additionStartIndex+yt,spanStart:Rt,spanLength:Tt[1].length})),Rt+=Tt[1].length;Rt=0;for(const Tt of Ct)Tt[0]===1&&(ut?ht:pt).push(createDiffSpanDecoration({line:mt.deletionStartIndex+yt,spanStart:Rt,spanLength:Tt[1].length})),Rt+=Tt[1].length}}return{unifiedDecorations:ht,deletionDecorations:pt,additionDecorations:ft}}function createDiffSpanDecoration({line:Ye,spanStart:rt,spanLength:it}){return{start:{line:Ye,character:rt},end:{line:Ye,character:rt+it},properties:{"data-diff-span":""},alwaysWrap:!0}}function pushOrJoinSpan({item:Ye,arr:rt,enableJoin:it,isNeutral:lt=!1}){const ct=rt[rt.length-1];if(ct==null||Ye.value===`
`||!it){rt.push([lt?0:1,Ye.value]);return}const ut=ct[0]===0;if(lt===ut||lt&&Ye.value.length===1&&!ut){ct[1]+=Ye.value;return}rt.push([lt?0:1,Ye.value])}function pushOrMergeSpan(Ye,rt,it){if(Ye==null)return;let lt=it[rt];if(lt==null&&rt===0&&Ye.type==="gap")lt={type:"context",lineNumber:-1,lineIndex:-1,spans:[]},it[0]=lt;else if(lt==null){console.error("pushOrMergeSpan: Attempting to apply an invalid span",{span:Ye,index:rt,spanMap:it});return}const ct=lt.spans??[];if(lt.spans=ct,ct.length===0)ct.push(Ye);else{let ut=Ye.type==="gap"?Ye.rows:0;const ht=[];let ft=!1;for(const yt of ct)yt.type==="annotation"?(Ye.type==="annotation"&&Ye.lineIndex===yt.lineIndex&&(ft=!0,yt.annotations=mergeAnnotations(yt.annotations,Ye.annotations)),ht.push(yt)):ut+=yt.rows;Ye.type==="annotation"&&!ft&&ht.push(Ye);const pt=new Array(ut).fill(0);for(const yt of ht){const xt=yt.lineIndex-lt.lineIndex,bt=pt[xt];bt===0||bt==null?pt.splice(xt,0,yt):bt.annotations=mergeAnnotations(bt.annotations,yt.annotations)}const mt=[];let gt=0;for(const yt of pt)yt===0?gt++:(gt>0&&(mt.push({type:"gap",rows:gt}),gt=0),mt.push(yt));gt>0&&mt.push({type:"gap",rows:gt}),lt.spans=mt}}function mergeAnnotations(Ye,rt){if(rt.length===0)return Ye;const it=new Set(Ye);for(const lt of rt)it.add(lt);return Array.from(it)}const FULLY_EXPANDED={fromEnd:1/0};var DiffHunksRenderer=class{highlighter;options;diff;expandedHunks=new Map;deletionAnnotations={};additionAnnotations={};queuedDiff;queuedRender;computedLang="text";constructor(Ye={theme:DEFAULT_THEMES}){this.options=Ye}cleanUp(){this.highlighter=void 0,this.diff=void 0,this.queuedDiff=void 0,this.queuedRender=void 0}setOptions(Ye){this.options=Ye}expandHunk(Ye,rt){const{expansionLineCount:it}=this.getOptionsWithDefaults(),lt=this.expandedHunks.get(Ye)??{fromStart:0,fromEnd:0};(rt==="up"||rt==="both")&&(lt.fromStart+=it),(rt==="down"||rt==="both")&&(lt.fromEnd+=it),this.expandedHunks.set(Ye,lt)}mergeOptions(Ye){this.options={...this.options,...Ye}}setThemeType(Ye){this.getOptionsWithDefaults().themeType!==Ye&&this.mergeOptions({themeType:Ye})}setLineAnnotations(Ye){this.additionAnnotations={},this.deletionAnnotations={};for(const rt of Ye){const it=(()=>{switch(rt.side){case"deletions":return this.deletionAnnotations;case"additions":return this.additionAnnotations}})(),lt=it[rt.lineNumber]??[];it[rt.lineNumber]=lt,lt.push(rt)}}getOptionsWithDefaults(){const{diffIndicators:Ye="bars",diffStyle:rt="split",disableBackground:it=!1,disableLineNumbers:lt=!1,expandUnchanged:ct=!1,expansionLineCount:ut=100,hunkSeparators:ht="line-info",lineDiffType:ft="word-alt",maxLineDiffLength:pt=1e3,maxLineLengthForHighlighting:mt=1e3,overflow:gt="scroll",theme:yt=DEFAULT_THEMES,themeType:xt="system",useCSSClasses:bt=!1}=this.options;return{diffIndicators:Ye,diffStyle:rt,disableBackground:it,disableLineNumbers:lt,expandUnchanged:ct,expansionLineCount:ut,hunkSeparators:ht,lineDiffType:ft,maxLineDiffLength:pt,maxLineLengthForHighlighting:mt,overflow:gt,theme:yt,themeType:xt,useCSSClasses:bt}}async initializeHighlighter(){return this.highlighter=await getSharedHighlighter(getHighlighterOptions(this.computedLang,this.options)),this.highlighter}async render(Ye){if(this.queuedDiff=Ye,this.queuedRender!=null)return this.queuedRender;this.queuedRender=(async()=>{if(this.computedLang=this.options.lang??getFiletypeFromFileName(Ye.name),(!hasLoadedLanguage(this.computedLang)||!hasLoadedThemes(getThemes(this.options.theme)))&&(this.highlighter=void 0),this.highlighter??=await this.initializeHighlighter(),this.queuedDiff!=null)return this.renderDiff(this.queuedDiff,this.highlighter)})();const rt=await this.queuedRender;return this.queuedDiff=void 0,this.queuedRender=void 0,rt}renderDiff(Ye,rt){const{disableLineNumbers:it,diffStyle:lt,overflow:ct,themeType:ut,disableBackground:ht,diffIndicators:ft,expandUnchanged:pt,useCSSClasses:mt,theme:gt}=this.getOptionsWithDefaults();this.diff=Ye;const yt=[],xt=[],bt=[],{state:_t,transformers:Ct,toClass:kt}=createTransformerWithState({disableLineNumbers:it,useCSSClasses:mt});let St=0;const Rt=[];let Tt;const Mt=(()=>{if(Ye.hunks.length>0)return Ye.hunks;if(pt&&this.diff?.newLines!=null&&this.diff.newLines.length>0){const It=this.diff.newLines.length+1;return[{collapsedBefore:0,additionCount:0,additionStart:It,additionLines:0,deletionCount:0,deletionStart:It,deletionLines:0,hunkContent:[],hunkContext:void 0,hunkSpecs:void 0,splitLineCount:0,splitLineStart:0,unifiedLineCount:0,unifiedLineStart:0}]}return[]})();for(const It of Mt)this.renderHunks({hunk:It,prevHunk:Tt,hunkIndex:St,highlighter:rt,state:_t,transformers:Ct,isFirstHunk:St===0,isLastHunk:St===Ye.hunks.length-1,additionsAST:yt,deletionsAST:xt,unifiedAST:bt,hunkData:Rt}),St++,Tt=It;const Pt=Math.max(getTotalLineCountFromHunks(Ye.hunks),Ye.newLines?.length??0,Ye.oldLines?.length??0);return{additionsAST:yt.length>0?yt:void 0,deletionsAST:xt.length>0?xt:void 0,unifiedAST:bt.length>0?bt:void 0,hunkData:Rt,css:kt.getCSS(),preNode:createHastElement({tagName:"pre",properties:createPreWrapperProperties({diffIndicators:ft,disableBackground:ht,highlighter:rt,overflow:ct,split:lt==="unified"?!1:xt.length>0&&yt.length>0,theme:gt,themeType:ut,totalLines:Pt})}),totalLines:Pt}}renderFullAST(Ye,rt=[]){return Ye.unifiedAST!=null&&rt.push(createHastElement({tagName:"code",children:Ye.unifiedAST,properties:{"data-code":"","data-unified":""}})),Ye.deletionsAST!=null&&rt.push(createHastElement({tagName:"code",children:Ye.deletionsAST,properties:{"data-code":"","data-deletions":""}})),Ye.additionsAST!=null&&rt.push(createHastElement({tagName:"code",children:Ye.additionsAST,properties:{"data-code":"","data-additions":""}})),{...Ye.preNode,children:rt}}renderFullHTML(Ye,rt=[]){return toHtml(this.renderFullAST(Ye,rt))}renderPartialHTML(Ye,rt){return rt==null?toHtml(Ye):toHtml(createHastElement({tagName:"code",children:Ye,properties:{"data-code":"",[`data-${rt}`]:""}}))}createHastOptions(Ye,rt,it=!1){const{theme:lt}=this.getOptionsWithDefaults();return typeof lt=="string"?{theme:lt,cssVariablePrefix:formatCSSVariablePrefix(),lang:it?"text":this.computedLang,defaultColor:!1,transformers:Ye,decorations:rt}:{themes:lt,cssVariablePrefix:formatCSSVariablePrefix(),lang:it?"text":this.computedLang,defaultColor:!1,transformers:Ye,decorations:rt}}renderHunks({hunk:Ye,hunkIndex:rt,highlighter:it,state:lt,transformers:ct,prevHunk:ut,isFirstHunk:ht,isLastHunk:ft,additionsAST:pt,deletionsAST:mt,unifiedAST:gt,hunkData:yt}){const{hunkSeparators:xt,expansionLineCount:bt,expandUnchanged:_t}=this.getOptionsWithDefaults(),{additions:Ct,deletions:kt,unified:St,hasLongLines:Rt}=this.processLines(Ye,rt,ut),Tt=this.diff?.newLines!=null,Mt=(Pt,It,Lt)=>{const Ot=It.content.join("").replace(/\n$/,"");lt.lineInfo=It.lineInfo;const Ft=it.codeToHast(Ot,this.createHastOptions(ct,It.decorations,Rt)),Ut=this.expandedHunks.get(rt),Wt=Ye.collapsedBefore-((Ut?.fromEnd??0)+(Ut?.fromStart??0));if(!_t&&(Ut==null||Wt>0))if(xt==="line-info"||xt==="custom"){if(Wt>0){const Kt=getHunkSeparatorSlotName(Pt,rt);Lt.push(createSeparator({type:xt,content:getModifiedLinesString(Wt),expandIndex:Tt?rt:void 0,isChunkedExpansion:Tt&&Ye.collapsedBefore>bt,slotName:Kt,isFirstHunk:ht,isLastHunk:!1})),yt.push({slotName:Kt,lines:Wt,type:Pt,expandable:Tt})}}else xt==="metadata"&&Ye.hunkSpecs!=null?Lt.push(createSeparator({type:"metadata",content:Ye.hunkSpecs,isFirstHunk:ht,isLastHunk:!1})):xt==="simple"&&rt>0&&Lt.push(createSeparator({type:"simple",isFirstHunk:ht,isLastHunk:!1}));for(const Kt of getLineNodes(Ft))Lt.push(Kt);if(ft&&!_t&&this.diff?.newLines!=null&&(xt==="line-info"||xt==="custom")){const Kt=this.diff?.hunks[rt+1],Qt=this.expandedHunks.get(rt+1)?.fromStart??0,Zt=Kt?.additionStart??this.diff.newLines.length,Vt=Ye.additionStart+Ye.additionCount,$t=Zt-(Vt+Qt);if($t>0){const zt=getHunkSeparatorSlotName(Pt,rt+1);Lt.push(createSeparator({type:xt,content:getModifiedLinesString($t),expandIndex:Tt?rt+1:void 0,isChunkedExpansion:Tt&&Zt-Vt>bt,slotName:zt,isFirstHunk:!1,isLastHunk:ft})),yt.push({slotName:zt,lines:$t,type:Pt,expandable:Tt})}}};St.content.length>0&&Mt("unified",St,gt),kt.content.length>0&&Mt("deletions",kt,mt),Ct.content.length>0&&Mt("additions",Ct,pt)}processLines(Ye,rt,it){const{maxLineLengthForHighlighting:lt,diffStyle:ct,expandUnchanged:ut,lineDiffType:ht,maxLineDiffLength:ft}=this.getOptionsWithDefaults(),{deletionAnnotations:pt,additionAnnotations:mt}=this,gt=ct==="unified";let yt=!1;const xt=[],bt={};let _t=Ye.additionStart-1;const Ct=[],kt={};let St=Ye.deletionStart-1;const Rt=[],Tt={},Mt=[],Pt=[];let It;function Lt(){if(It==null){Pt.length>0&&console.error("DiffHunksRenderer.processLines: resolveUnresolvedSpans: In a weird state...",Pt);return}for(const qt of Pt){const Gt=It.deletionStartIndex+qt.hunkIndex,Ht=It.additionStartIndex+qt.hunkIndex,Xt={type:"annotation",hunkIndex:rt,lineIndex:qt.span.lineIndex,annotations:[]};qt.type==="addition"?pushOrMergeSpan(Xt,Math.min(Gt,It.deletionStartIndex+It.deletionLines.length),kt):pushOrMergeSpan(Xt,Math.min(Ht,It.additionStartIndex+It.additionLines.length),bt)}Pt.length=0}function Ot(qt,Gt,Ht){return It==null&&(It={deletionStartIndex:gt?-1:Ct.length,additionStartIndex:gt?-1:xt.length,deletionLines:[],additionLines:[],diffGroupStartIndex:Kt},Mt.push(It)),gt&&(qt==="deletion"&&It.deletionStartIndex===-1&&(It.deletionStartIndex=Rt.length),qt==="addition"&&It.additionStartIndex===-1&&(It.additionStartIndex=Rt.length)),qt==="addition"?It.additionLines.push(Gt):It.deletionLines.push(Gt),Ht!=null&&!gt&&Pt.push({type:qt,hunkIndex:qt==="deletion"?It.deletionLines.length:It.additionLines.length,span:Ht}),It}function Ft(){if(!gt&&Qt!=="context"&&Qt!=null&&It!=null){const qt=It.additionLines.length,Gt=It.deletionLines.length;qt>Gt?pushOrMergeSpan({type:"gap",rows:qt-Gt},Ct.length,kt):Gt>qt&&pushOrMergeSpan({type:"gap",rows:Gt-qt},xt.length,bt)}Lt()}const Ut=(qt,Gt,Ht=!1)=>{if(Kt++,Gt==="context"&&Ft(),Gt==="context"){if(It!=null&&(Kt=It.diffGroupStartIndex+(gt?It.additionLines.length+It.deletionLines.length:Math.max(It.additionLines.length,It.deletionLines.length))),It=void 0,gt)Rt.push(qt),Tt[Rt.length]={type:Ht?"context-expanded":"context",lineNumber:_t+1,altLineNumber:St+1,lineIndex:Kt},pushOrMergeSpan(createMirroredAnnotationSpan({deletionLineNumber:St+1,additionLineNumber:_t+1,hunkIndex:rt,lineIndex:Rt.length,deletionAnnotations:pt,additionAnnotations:mt,unified:!0}),Rt.length,Tt);else{Ct.push(qt),xt.push(qt),kt[Ct.length]={type:Ht?"context-expanded":"context",lineNumber:St+1,altLineNumber:_t+1,lineIndex:Kt},bt[xt.length]={type:Ht?"context-expanded":"context",lineNumber:_t+1,altLineNumber:St+1,lineIndex:Kt};const[Xt,Bt]=createMirroredAnnotationSpan({deletionLineNumber:St+1,additionLineNumber:_t+1,hunkIndex:rt,lineIndex:Kt,deletionAnnotations:pt,additionAnnotations:mt,unified:!1});pushOrMergeSpan(Xt,Ct.length,kt),pushOrMergeSpan(Bt,xt.length,bt)}_t++,St++}else if(Gt==="metadata"){const Xt={type:Qt==="addition"?"change-addition":Qt==="deletion"?"change-deletion":"context",lineNumber:-1,lineIndex:-1,metadataContent:qt.trim()};gt?(Rt.push(`
`),Tt[Rt.length]=Xt):((Qt==="context"||Qt==="deletion")&&(Ct.push(`
`),kt[Ct.length]=Xt,Ot("deletion",`
`)),(Qt==="context"||Qt==="addition")&&(xt.push(`
`),bt[xt.length]=Xt,Ot("addition",`
`)))}else if(Gt==="deletion"){const{content:Xt,lineInfo:Bt}=gt?{content:Rt,lineInfo:Tt}:{content:Ct,lineInfo:kt},nr=createSingleAnnotationSpan({rowNumber:St+1,hunkIndex:rt,lineIndex:Kt,annotationMap:this.deletionAnnotations});Ot("deletion",qt,nr),Xt.push(qt),Bt[Xt.length]={type:"change-deletion",lineNumber:St+1,lineIndex:Kt},pushOrMergeSpan(nr,Xt.length,Bt),St++}else if(Gt==="addition"){Qt==="deletion"&&!gt&&(Kt=It?.diffGroupStartIndex??Kt);const{content:Xt,lineInfo:Bt}=gt?{content:Rt,lineInfo:Tt}:{content:xt,lineInfo:bt},nr=createSingleAnnotationSpan({rowNumber:_t+1,hunkIndex:rt,lineIndex:Kt,annotationMap:this.additionAnnotations});Ot("addition",qt,nr),Xt.push(qt),Bt[Xt.length]={type:"change-addition",lineNumber:_t+1,lineIndex:Kt},pushOrMergeSpan(nr,Xt.length,Bt),_t++}Qt=Gt};function Wt(qt){for(const Gt of qt){const{line:Ht,type:Xt,longLine:Bt}=parseLineType(Gt,lt);yt=yt||Bt,Ut(Ht,Xt)}}let Kt=-1,Qt;const Zt=ut?FULLY_EXPANDED:this.expandedHunks.get(rt);if(Zt!=null&&this.diff?.newLines!=null&&Zt.fromEnd>0){const{expandAdditionStart:qt,expandDeletionStart:Gt}=it!=null?{expandAdditionStart:Math.max(it.additionStart+it.additionCount-1,Ye.additionStart-Zt.fromEnd),expandDeletionStart:Math.max(it.deletionStart+it.deletionCount-1,Ye.deletionStart-Zt.fromEnd)}:{expandAdditionStart:0,expandDeletionStart:0};if(_t-qt>0){_t=qt,St=Gt;for(let Ht=_t;Ht<Ye.additionStart-1;Ht++){const Xt=this.diff.newLines[Ht];if(Xt==null)throw console.error({i:Ht,len:Ye.additionStart,lines:this.diff.newLines}),new Error("DiffHunksRenderer.processLines: Pre hunk expansion line count was invalid");yt=yt||Xt.length>lt,Ut(Xt,"context",!ut)}}}for(const qt of Ye.hunkContent)qt.type==="context"?Wt(qt.lines):(Wt(qt.deletions),Wt(qt.additions));Ft();const Vt=this.expandedHunks.get(rt+1);if(this.diff?.newLines!=null&&(ut||Vt!=null&&Vt.fromStart>0)){const qt=Math.min(Vt!=null?_t+Vt.fromStart:this.diff.newLines.length-1,this.diff.newLines.length-1);for(let Gt=_t;Gt<qt;Gt++){const Ht=this.diff.newLines[Gt];if(Ht==null)throw console.error({i:Gt,len:qt,lines:this.diff.newLines}),new Error("DiffHunksRenderer.processLines: Post hunk expansion line count was invalid");yt=yt||Ht.length>lt,Ut(Ht,"context",!ut)}}Lt();const{unifiedDecorations:$t,deletionDecorations:zt,additionDecorations:Nt}=parseDecorations({diffGroups:Mt,lineDiffType:ht,diffStyle:ct,maxLineDiffLength:ft});return{hasLongLines:yt,additions:{content:xt,lineInfo:bt,decorations:Nt},deletions:{content:Ct,lineInfo:kt,decorations:zt},unified:{content:Rt,lineInfo:Tt,decorations:$t}}}};function getLineNodes(Ye){let rt=Ye.children[0];for(;rt!=null;){if(rt.type==="element"&&rt.tagName==="code")return rt.children;"children"in rt?rt=rt.children[0]:rt=null}throw console.error(Ye),new Error("DiffHunksRenderer.getNodesToRender: Unable to find children")}function getModifiedLinesString(Ye){return`${Ye} unmodified line${Ye>1?"s":""}`}var FileHeaderRenderer=class{highlighter;constructor(Ye={theme:DEFAULT_THEMES}){this.options=Ye}cleanUp(){this.highlighter=void 0,this.queuedRenderFileOrDiff=void 0,this.queuedRender=void 0}mergeOptions(Ye){this.options={...this.options,...Ye}}setOptions(Ye){this.options=Ye}setThemeType(Ye){(this.options.themeType??"system")!==Ye&&this.mergeOptions({themeType:Ye})}async initializeHighlighter(){return this.highlighter=await getSharedHighlighter(getHighlighterOptions(void 0,this.options)),this.highlighter}fileOrDiff;queuedRenderFileOrDiff;queuedRender;async render(Ye){if(this.queuedRenderFileOrDiff=Ye,this.queuedRender!=null)return this.queuedRender;this.queuedRender=(async()=>{if(hasLoadedThemes(getThemes(this.options.theme))||(this.highlighter=void 0),this.highlighter??=await this.initializeHighlighter(),this.queuedRenderFileOrDiff!=null)return this.renderHeader(this.queuedRenderFileOrDiff,this.highlighter)})();const rt=await this.queuedRender;return this.queuedRenderFileOrDiff=void 0,this.queuedRender=void 0,rt}renderHeader(Ye,rt){return this.fileOrDiff=Ye,createFileHeaderElement({...this.options,fileOrDiff:Ye,highlighter:rt})}renderResultToHTML(Ye){return toHtml(Ye)}},fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function Ye(rt,it){if(rt===it)return!0;if(rt&&it&&typeof rt=="object"&&typeof it=="object"){if(rt.constructor!==it.constructor)return!1;var lt,ct,ut;if(Array.isArray(rt)){if(lt=rt.length,lt!=it.length)return!1;for(ct=lt;ct--!==0;)if(!Ye(rt[ct],it[ct]))return!1;return!0}if(rt.constructor===RegExp)return rt.source===it.source&&rt.flags===it.flags;if(rt.valueOf!==Object.prototype.valueOf)return rt.valueOf()===it.valueOf();if(rt.toString!==Object.prototype.toString)return rt.toString()===it.toString();if(ut=Object.keys(rt),lt=ut.length,lt!==Object.keys(it).length)return!1;for(ct=lt;ct--!==0;)if(!Object.prototype.hasOwnProperty.call(it,ut[ct]))return!1;for(ct=lt;ct--!==0;){var ht=ut[ct];if(!Ye(rt[ht],it[ht]))return!1}return!0}return rt!==rt&&it!==it}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual();const deepEquals=getDefaultExportFromCjs(fastDeepEqualExports);var LineSelectionManager=class{pre;selectedRange=null;renderedSelectionRange;anchor;_queuedRender;constructor(Ye={}){this.options=Ye}setOptions(Ye){this.options={...this.options,...Ye},this.removeEventListeners(),this.options.enableLineSelection===!0&&this.attachEventListeners()}cleanUp(){this.removeEventListeners(),this.selectedRange=null,this._queuedRender!=null&&(cancelAnimationFrame(this._queuedRender),this._queuedRender=void 0),this.pre!=null&&delete this.pre.dataset.interactiveLineNumbers,this.pre=void 0}setup(Ye){if(this.pre===Ye)return;this.cleanUp(),this.pre=Ye;const{enableLineSelection:rt=!1}=this.options;rt?(this.pre.dataset.interactiveLineNumbers="",this.attachEventListeners()):delete this.pre.dataset.interactiveLineNumbers,this.setDirty()}setDirty(){this.renderedSelectionRange=void 0}isDirty(){return this.renderedSelectionRange===void 0}setSelection(Ye){const rt=!(Ye===this.selectedRange||deepEquals(Ye,this.selectedRange));!this.isDirty()&&!rt||(this.selectedRange=Ye,this.renderSelection(),rt&&this.notifySelectionChange())}getSelection(){return this.selectedRange}attachEventListeners(){this.pre!=null&&(this.removeEventListeners(),this.pre.addEventListener("mousedown",this.handleMouseDown))}removeEventListeners(){this.pre!=null&&(this.pre.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp))}handleMouseDown=Ye=>{const rt=Ye.button===0?this.getMouseEventDataForPath(Ye.composedPath(),"click"):void 0;if(rt==null)return;Ye.preventDefault();const{lineNumber:it,eventSide:lt,lineIndex:ct}=rt;if(Ye.shiftKey&&this.selectedRange!=null){const ut=this.deriveRowRangeFromDOM(this.selectedRange);if(ut==null)return;const ht=ut.start<=ut.end?ct>=ut.start:ct<=ut.end;this.anchor={line:ht?this.selectedRange.start:this.selectedRange.end,side:(ht?this.selectedRange.side:this.selectedRange.endSide??this.selectedRange.side)??"additions"},this.updateSelection(it,lt),this.notifySelectionStart(this.selectedRange)}else{if(this.selectedRange?.start===it&&this.selectedRange?.end===it){this.updateSelection(null),this.notifySelectionEnd(null),this.notifySelectionChange();return}this.selectedRange=null,this.anchor={line:it,side:lt},this.updateSelection(it,lt),this.notifySelectionStart(this.selectedRange)}document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)};handleMouseMove=Ye=>{const rt=this.getMouseEventDataForPath(Ye.composedPath(),"move");if(rt==null||this.anchor==null)return;const{lineNumber:it,eventSide:lt}=rt;this.updateSelection(it,lt)};handleMouseUp=()=>{this.anchor=void 0,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.notifySelectionEnd(this.selectedRange),this.notifySelectionChange()};updateSelection(Ye,rt){if(Ye==null)this.selectedRange=null;else{const it=this.anchor?.side??rt;this.selectedRange={start:this.anchor?.line??Ye,end:Ye,side:it,endSide:it!==rt?rt:void 0}}this._queuedRender??=requestAnimationFrame(this.renderSelection)}renderSelection=()=>{if(this._queuedRender!=null&&(cancelAnimationFrame(this._queuedRender),this._queuedRender=void 0),this.pre==null||this.renderedSelectionRange===this.selectedRange)return;const Ye=this.pre.querySelectorAll("[data-selected-line]");for(const ht of Ye)ht.removeAttribute("data-selected-line");if(this.renderedSelectionRange=this.selectedRange,this.selectedRange==null)return;const rt=this.pre.querySelectorAll("[data-code]");if(rt.length===0)return;if(rt.length>2)throw console.error(rt),new Error("LineSelectionManager.applySelectionToDOM: Somehow there are more than 2 code elements...");const it=this.deriveRowRangeFromDOM(this.selectedRange);if(it==null)throw console.error({rowRange:it,selectedRange:this.selectedRange}),new Error("LineSelectionManager.renderSelection: No valid rowRange");const lt=it.start===it.end,ct=Math.min(it.start,it.end),ut=Math.max(it.start,it.end);for(const ht of rt)for(const ft of ht.children){if(!(ft instanceof HTMLElement))continue;const pt=this.getLineIndex(ft);if((pt??0)>ut)break;if(pt==null||pt<ct)continue;let mt=lt?"single":pt===ct?"first":pt===ut?"last":"";ft.setAttribute("data-selected-line",mt),ft.nextSibling instanceof HTMLElement&&ft.nextSibling.hasAttribute("data-line-annotation")&&(lt?(mt="last",ft.setAttribute("data-selected-line","first")):pt===ct?mt="":pt===ut&&ft.setAttribute("data-selected-line",""),ft.nextSibling.setAttribute("data-selected-line",mt))}};deriveRowRangeFromDOM(Ye){if(Ye==null)return;const rt=this.findRowIndexForLineNumber(Ye.start,Ye.side),it=Ye.end===Ye.start&&(Ye.endSide==null||Ye.endSide===Ye.side)?rt:this.findRowIndexForLineNumber(Ye.end,Ye.endSide??Ye.side);return rt!=null&&it!=null?{start:rt,end:it}:void 0}findRowIndexForLineNumber(Ye,rt="additions"){if(this.pre==null)return;const it=Array.from(this.pre.querySelectorAll(`[data-line="${Ye}"]`));if(it.push(...Array.from(this.pre.querySelectorAll(`[data-alt-line="${Ye}"]`))),it.length!==0){for(const lt of it)if(lt instanceof HTMLElement){if(this.getLineSideFromElement(lt)===rt)return this.getLineIndex(lt);if(parseInt(lt.dataset.altLine??"")===Ye)return this.getLineIndex(lt)}console.error("LineSelectionManager.findRowIndexForLineNumber: Invalid selection",Ye,rt)}}notifySelectionChange(){const{onLineSelected:Ye}=this.options;Ye?.(this.selectedRange??null)}notifySelectionStart(Ye){const{onLineSelectionStart:rt}=this.options;rt?.(Ye)}notifySelectionEnd(Ye){const{onLineSelectionEnd:rt}=this.options;rt?.(Ye)}getMouseEventDataForPath(Ye,rt){let it,lt,ct=!1,ut;for(const ht of Ye)if(ht instanceof HTMLElement){if(ht.hasAttribute("data-column-number")){ct=!0;continue}if(ht.hasAttribute("data-line")){if(it=parseInt(ht.dataset.line??"",10),lt=parseInt(ht.dataset.lineIndex??"",10),ht.dataset.lineType==="change-deletion"?ut="deletions":ht.dataset.lineType==="change-additions"&&(ut="additions"),Number.isNaN(lt)||Number.isNaN(it)){lt=void 0,it=void 0;break}if(ut!=null)break;continue}if(ht.hasAttribute("data-code")){ut??=ht.hasAttribute("data-deletions")?"deletions":"additions";break}}if(!(rt==="click"&&!ct||lt==null||it==null))return{lineIndex:lt,lineNumber:it,eventSide:ut??"additions"}}getLineIndex(Ye){const rt=parseInt(Ye.dataset.lineIndex??"",10);return Number.isNaN(rt)?void 0:rt}getLineSideFromElement(Ye){if(Ye.dataset.lineType==="change-deletion")return"deletions";if(Ye.dataset.lineType==="change-addition")return"additions";const rt=Ye.closest("[data-code]");return rt instanceof HTMLElement&&rt.hasAttribute("data-deletions")?"deletions":"additions"}};function pluckLineSelectionOptions({enableLineSelection:Ye,onLineSelected:rt,onLineSelectionStart:it,onLineSelectionEnd:lt}){return{enableLineSelection:Ye,onLineSelected:rt,onLineSelectionStart:it,onLineSelectionEnd:lt}}function isLineEventData(Ye,rt){return Ye==null?!1:rt==="file"?Ye.type==="line":Ye.type==="diff-line"}function isExpandoEventData(Ye){return Ye?.type==="line-info"}var MouseEventManager=class{hoveredRow;pre;constructor(Ye,rt){this.mode=Ye,this.options=rt}setOptions(Ye){this.options=Ye}cleanUp(){this.pre?.removeEventListener("click",this.handleMouseClick),this.pre?.removeEventListener("mousemove",this.handleMouseMove),this.pre?.removeEventListener("mouseout",this.handleMouseLeave),delete this.pre?.dataset.interactiveLines,delete this.pre?.dataset.interactiveLineNumbers,this.pre=void 0}setup(Ye){const{__debugMouseEvents:rt,onLineClick:it,onLineNumberClick:lt,onLineEnter:ct,onLineLeave:ut,onHunkExpand:ht}=this.options;this.cleanUp(),this.pre=Ye,(it!=null||lt!=null||ht!=null)&&(Ye.addEventListener("click",this.handleMouseClick),it!=null?Ye.dataset.interactiveLines="":lt!=null&&(Ye.dataset.interactiveLineNumbers=""),debugLogIfEnabled(rt,"click","FileDiff.DEBUG.attachEventListeners: Attaching click events for:",(()=>{const ft=[];return(rt==="both"||rt==="click")&&(it!=null&&ft.push("onLineClick"),lt!=null&&ft.push("onLineNumberClick"),ht!=null&&ft.push("expandable hunk separators")),ft})())),(ct!=null||ut!=null)&&(Ye.addEventListener("mousemove",this.handleMouseMove),debugLogIfEnabled(rt,"move","FileDiff.DEBUG.attachEventListeners: Attaching mouse move event"),Ye.addEventListener("mouseleave",this.handleMouseLeave),debugLogIfEnabled(rt,"move","FileDiff.DEBUG.attachEventListeners: Attaching mouse leave event"))}handleMouseClick=Ye=>{debugLogIfEnabled(this.options.__debugMouseEvents,"click","FileDiff.DEBUG.handleMouseClick:",Ye),this.handleMouseEvent({eventType:"click",event:Ye})};handleMouseMove=Ye=>{debugLogIfEnabled(this.options.__debugMouseEvents,"move","FileDiff.DEBUG.handleMouseMove:",Ye),this.handleMouseEvent({eventType:"move",event:Ye})};handleMouseLeave=Ye=>{const{__debugMouseEvents:rt}=this.options;if(debugLogIfEnabled(rt,"move","FileDiff.DEBUG.handleMouseLeave: no event"),this.hoveredRow==null){debugLogIfEnabled(rt,"move","FileDiff.DEBUG.handleMouseLeave: returned early, no .hoveredRow");return}this.options.onLineLeave?.({...this.hoveredRow,event:Ye}),this.hoveredRow=void 0};handleMouseEvent({eventType:Ye,event:rt}){const{__debugMouseEvents:it}=this.options,lt=rt.composedPath();debugLogIfEnabled(it,Ye,"FileDiff.DEBUG.handleMouseEvent:",{eventType:Ye,composedPath:lt});const ct=this.getLineData(lt);debugLogIfEnabled(it,Ye,"FileDiff.DEBUG.handleMouseEvent: getLineData result:",ct);const{onLineClick:ut,onLineNumberClick:ht,onLineEnter:ft,onLineLeave:pt,onHunkExpand:mt}=this.options;switch(Ye){case"move":if(isLineEventData(ct,this.mode)&&this.hoveredRow?.lineElement===ct.lineElement){debugLogIfEnabled(it,"move","FileDiff.DEBUG.handleMouseEvent: switch, 'move', returned early because same line");break}this.hoveredRow!=null&&(debugLogIfEnabled(it,"move","FileDiff.DEBUG.handleMouseEvent: switch, 'move', clearing an existing hovered row and firing onLineLeave"),pt?.({...this.hoveredRow,event:rt}),this.hoveredRow=void 0),isLineEventData(ct,this.mode)&&(debugLogIfEnabled(it,"move","FileDiff.DEBUG.handleMouseEvent: switch, 'move', setting up a new hoveredRow and firing onLineEnter"),this.hoveredRow=ct,ft?.({...this.hoveredRow,event:rt}));break;case"click":if(debugLogIfEnabled(it,"click","FileDiff.DEBUG.handleMouseEvent: switch, 'click', with data:",ct),ct==null)break;if(isExpandoEventData(ct)&&mt!=null){debugLogIfEnabled(it,"click","FileDiff.DEBUG.handleMouseEvent: switch, 'click', expanding a hunk"),mt(ct.hunkIndex,ct.direction);break}isLineEventData(ct,this.mode)&&(ht!=null&&ct.numberColumn?(debugLogIfEnabled(it,"click","FileDiff.DEBUG.handleMouseEvent: switch, 'click', firing 'onLineNumberClick'"),ht({...ct,event:rt})):ut!=null?(debugLogIfEnabled(it,"click","FileDiff.DEBUG.handleMouseEvent: switch, 'click', firing 'onLineClick'"),ut({...ct,event:rt})):debugLogIfEnabled(it,"click","FileDiff.DEBUG.handleMouseEvent: switch, 'click', fell through, no event to fire"));break}}getLineData(Ye){let rt=!1;const it=Ye.find(ut=>ut instanceof HTMLElement?(rt=rt||"columnNumber"in ut.dataset,"line"in ut.dataset||"expandIndex"in ut.dataset):!1);if(!(it instanceof HTMLElement))return;if(it.dataset.expandIndex!=null){const ut=parseInt(it.dataset.expandIndex);if(isNaN(ut))return;let ht;for(const ft of Ye)if(ft===it||ft instanceof HTMLElement&&(ht=ht??("expandUp"in ft.dataset?"up":void 0)??("expandDown"in ft.dataset?"down":void 0)??("expandBoth"in ft.dataset?"both":void 0),ht!=null))break;return ht!=null?{type:"line-info",hunkIndex:ut,direction:ht}:void 0}const lt=parseInt(it.dataset.line??"");if(isNaN(lt))return;const ct=it.dataset.lineType;if(!(ct!=="context"&&ct!=="context-expanded"&&ct!=="change-deletion"&&ct!=="change-addition"))return this.mode==="file"?{type:"line",lineElement:it,lineNumber:lt,numberColumn:rt}:{type:"diff-line",annotationSide:(()=>{if(ct==="change-deletion")return"deletions";if(ct==="change-addition")return"additions";const ut=it.closest("[data-code]");return ut instanceof HTMLElement&&"deletions"in ut.dataset?"deletions":"additions"})(),lineType:ct,lineElement:it,lineNumber:lt,numberColumn:rt}}};function debugLogIfEnabled(Ye="none",rt,...it){switch(Ye){case"none":return;case"both":break;case"click":if(rt!=="click")return;break;case"move":if(rt!=="move")return;break}console.log(...it)}function pluckMouseEventOptions({onLineClick:Ye,onLineNumberClick:rt,onLineEnter:it,onLineLeave:lt,__debugMouseEvents:ct},ut){return{onLineClick:Ye,onLineNumberClick:rt,onLineEnter:it,onLineLeave:lt,__debugMouseEvents:ct,onHunkExpand:ut}}var ResizeManager=class{observedNodes=new Map;cleanUp(){this.resizeObserver?.disconnect(),this.observedNodes.clear()}resizeObserver;setup(Ye){this.cleanUp();const rt=Ye.querySelectorAll('[data-line-annotation*=","]');this.resizeObserver??=new ResizeObserver(this.handleResizeObserver);const it=Ye.querySelectorAll("code");for(const ct of it){let ut=ct.querySelector("[data-column-number]");ut instanceof HTMLElement||(ut=null);const ht={type:"code",codeElement:ct,numberElement:ut,codeWidth:"auto",numberWidth:0};this.observedNodes.set(ct,ht),this.resizeObserver.observe(ct),ut!=null&&(this.observedNodes.set(ut,ht),this.resizeObserver.observe(ut))}if(it.length<=1)return;const lt=new Map;for(const ct of rt){if(!(ct instanceof HTMLElement))continue;const{lineAnnotation:ut=""}=ct.dataset;if(!/^\d+,\d+$/.test(ut)){console.error("DiffFileRenderer.setupResizeObserver: Invalid element or annotation",{lineAnnotation:ut,element:ct});continue}let ht=lt.get(ut);ht==null&&(ht=[],lt.set(ut,ht)),ht.push(ct)}for(const[ct,ut]of lt){if(ut.length!==2){console.error("DiffFileRenderer.setupResizeObserver: Bad Pair",ct,ut);continue}const[ht,ft]=ut,pt=ht.firstElementChild,mt=ft.firstElementChild;if(!(ht instanceof HTMLElement)||!(ft instanceof HTMLElement)||!(pt instanceof HTMLElement)||!(mt instanceof HTMLElement))continue;const gt={type:"annotations",column1:{container:ht,child:pt,childHeight:0},column2:{container:ft,child:mt,childHeight:0},currentHeight:"auto"};this.observedNodes.set(pt,gt),this.observedNodes.set(mt,gt),this.resizeObserver.observe(pt),this.resizeObserver.observe(mt)}}handleResizeObserver=Ye=>{for(const rt of Ye){const{target:it,borderBoxSize:lt}=rt;if(!(it instanceof HTMLElement)){console.error("FileDiff.handleResizeObserver: Invalid element for ResizeObserver",rt);continue}const ct=this.observedNodes.get(it);if(ct==null){console.error("FileDiff.handleResizeObserver: Not a valid observed node",rt);continue}const ut=lt[0];if(ct.type==="annotations"){const ht=(()=>{if(it===ct.column1.child)return ct.column1;if(it===ct.column2.child)return ct.column2})();if(ht==null){console.error("FileDiff.handleResizeObserver: Couldn't find a column for",{item:ct,target:it});continue}ht.childHeight=ut.blockSize;const ft=Math.max(ct.column1.childHeight,ct.column2.childHeight);ft!==ct.currentHeight&&(ct.currentHeight=Math.max(ft,0),ct.column1.container.style.setProperty("--pjs-annotation-min-height",`${ct.currentHeight}px`),ct.column2.container.style.setProperty("--pjs-annotation-min-height",`${ct.currentHeight}px`))}else ct.type==="code"&&(it===ct.codeElement?ut.inlineSize!==ct.codeWidth&&(ct.codeWidth=ut.inlineSize,ct.codeElement.style.setProperty("--pjs-column-content-width",`${Math.max(ct.codeWidth-ct.numberWidth,0)}px`),ct.codeElement.style.setProperty("--pjs-column-width",`${ct.codeWidth}px`)):it===ct.numberElement&&ut.inlineSize!==ct.numberWidth&&(ct.numberWidth=ut.inlineSize,ct.codeElement.style.setProperty("--pjs-column-number-width",`${ct.numberWidth}px`),ct.codeWidth!=="auto"&&ct.codeElement.style.setProperty("--pjs-column-content-width",`${Math.max(ct.codeWidth-ct.numberWidth,0)}px`)))}}};function createCodeNode({pre:Ye,columnType:rt}={}){const it=document.createElement("code");return it.dataset.code="",rt!=null&&(it.dataset[rt]=""),Ye?.appendChild(it),it}function setWrapperProps({pre:Ye,highlighter:rt,theme:it=DEFAULT_THEMES,split:lt,wrap:ct,themeType:ut,diffIndicators:ht,disableBackground:ft,totalLines:pt}){const mt=getHighlighterThemeStyles({theme:it,highlighter:rt});if(ut==="system"?delete Ye.dataset.themeType:Ye.dataset.themeType=ut,typeof it=="string"){const gt=rt.getTheme(it);Ye.dataset.themeType=gt.type}switch(ht){case"bars":case"classic":Ye.dataset.indicators=ht;break;case"none":delete Ye.dataset.indicators;break}return ft?delete Ye.dataset.background:Ye.dataset.background="",Ye.dataset.type=lt?"split":"file",Ye.dataset.overflow=ct?"wrap":"scroll",Ye.dataset.pjs="",Ye.tabIndex=0,Ye.style=mt,Ye.style.setProperty("--pjs-min-number-column-width-default",`${`${pt}`.length}ch`),Ye}var style_default=`:host {
  --pjs-bg: #fff;
  --pjs-fg: #000;
  --pjs-font-fallback:
    'SF Mono', Monaco, Consolas, 'Ubuntu Mono', 'Liberation Mono',
    'Courier New', monospace;
  --pjs-header-font-fallback:
    system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', 'Noto Sans',
    'Liberation Sans', Arial, sans-serif;

  --pjs-mixer: light-dark(black, white);
  --pjs-gap-fallback: 8px;

  /*
    // Available CSS Color Overrides
    --pjs-bg-buffer-override
    --pjs-bg-hover-override
    --pjs-bg-context-override
    --pjs-bg-separator-override

    --pjs-fg-number-override
    --pjs-fg-number-addition-override
    --pjs-fg-number-deletion-override

    --pjs-deletion-color-override
    --pjs-addition-color-override
    --pjs-modified-color-override

    --pjs-bg-deletion-override
    --pjs-bg-deletion-number-override
    --pjs-bg-deletion-hover-override
    --pjs-bg-deletion-emphasis-override

    --pjs-bg-addition-override
    --pjs-bg-addition-number-override
    --pjs-bg-addition-hover-override
    --pjs-bg-addition-emphasis-override

    // Line Selection Color Overrides (for enableLineSelection)
    --pjs-selection-color-override
    --pjs-bg-selection-override
    --pjs-bg-selection-number-override
    --pjs-bg-selection-background-override
    --pjs-bg-selection-number-background-override

    // Available CSS Layout Overrides
    --pjs-gap-inline
    --pjs-gap-block
    --pjs-gap-style
    --pjs-tab-size
  */

  color-scheme: light dark;
  display: block;
  font-family: var(--pjs-header-font-family, var(--pjs-header-font-fallback));
  font-size: var(--pjs-font-size, 13px);
  line-height: var(--pjs-line-height, 20px);
  font-feature-settings: var(--pjs-font-features);
}

/* NOTE(mdo): Some semantic HTML elements (e.g. \`pre\`, \`code\`) have default
 * user-agent styles. These must be overridden to use our custom styles. */
pre,
code {
  margin: 0;
  padding: 0;
  display: block;
  outline: none;
  font-family: var(--pjs-font-family, var(--pjs-font-fallback));
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

[data-icon-sprite] {
  display: none;
}

/* NOTE(mdo): Headers and separators are within pre/code, so we need to reset
 * their font-family explicitly. */
[data-pjs-header],
[data-separator] {
  font-family: var(--pjs-header-font-family, var(--pjs-header-font-fallback));
}

[data-file-info] {
  padding: 10px;
  font-weight: 700;
  color: var(--fg);
  /* NOTE(amadeus): we cannot use 'in oklch' because current versions of cursor
   * and vscode use an older build of chrome that appears to have a bug with
   * color-mix and 'in oklch', so use 'in lab' instead */
  background-color: color-mix(in lab, var(--bg) 98%, var(--fg));
  border-block: 1px solid color-mix(in lab, var(--bg) 95%, var(--fg));
}

[data-pjs-header],
[data-pjs] {
  --pjs-bg: light-dark(var(--pjs-light-bg), var(--pjs-dark-bg));
  /* NOTE(amadeus): we cannot use 'in oklch' because current versions of cursor
   * and vscode use an older build of chrome that appears to have a bug with
   * color-mix and 'in oklch', so use 'in lab' instead */
  --pjs-bg-buffer: var(
    --pjs-bg-buffer-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 92%, var(--pjs-mixer)),
      color-mix(in lab, var(--pjs-bg) 92%, var(--pjs-mixer))
    )
  );
  --pjs-bg-hover: var(
    --pjs-bg-hover-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 97%, var(--pjs-mixer)),
      color-mix(in lab, var(--pjs-bg) 91%, var(--pjs-mixer))
    )
  );
  --pjs-bg-context: var(
    --pjs-bg-context-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 98.5%, var(--pjs-mixer)),
      color-mix(in lab, var(--pjs-bg) 92.5%, var(--pjs-mixer))
    )
  );
  --pjs-bg-separator: var(
    --pjs-bg-separator-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 96%, var(--pjs-mixer)),
      color-mix(in lab, var(--pjs-bg) 85%, var(--pjs-mixer))
    )
  );

  --pjs-fg: light-dark(var(--pjs-light), var(--pjs-dark));
  --pjs-fg-number: var(
    --pjs-fg-number-override,
    light-dark(
      color-mix(in lab, var(--pjs-fg) 65%, var(--pjs-bg)),
      color-mix(in lab, var(--pjs-fg) 65%, var(--pjs-bg))
    )
  );

  --pjs-deletion-base: var(
    --pjs-deletion-color-override,
    light-dark(
      var(
        --pjs-light-deletion-color,
        var(--pjs-deletion-color, rgb(255, 0, 0))
      ),
      var(--pjs-dark-deletion-color, var(--pjs-deletion-color, rgb(255, 0, 0)))
    )
  );
  --pjs-addition-base: var(
    --pjs-addition-color-override,
    light-dark(
      var(
        --pjs-light-addition-color,
        var(--pjs-addition-color, rgb(0, 255, 0))
      ),
      var(--pjs-dark-addition-color, var(--pjs-addition-color, rgb(0, 255, 0)))
    )
  );
  --pjs-modified-base: var(
    --pjs-modified-color-override,
    light-dark(
      var(
        --pjs-light-modified-color,
        var(--pjs-modified-color, rgb(0, 0, 255))
      ),
      var(--pjs-dark-modified-color, var(--pjs-modified-color, rgb(0, 0, 255)))
    )
  );

  /* NOTE(amadeus): we cannot use 'in oklch' because current versions of cursor
   * and vscode use an older build of chrome that appears to have a bug with
   * color-mix and 'in oklch', so use 'in lab' instead */
  --pjs-bg-deletion: var(
    --pjs-bg-deletion-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 88%, var(--pjs-deletion-base)),
      color-mix(in lab, var(--pjs-bg) 80%, var(--pjs-deletion-base))
    )
  );
  --pjs-bg-deletion-number: var(
    --pjs-bg-deletion-number-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 91%, var(--pjs-deletion-base)),
      color-mix(in lab, var(--pjs-bg) 85%, var(--pjs-deletion-base))
    )
  );
  --pjs-bg-deletion-hover: var(
    --pjs-bg-deletion-hover-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 80%, var(--pjs-deletion-base)),
      color-mix(in lab, var(--pjs-bg) 75%, var(--pjs-deletion-base))
    )
  );
  --pjs-bg-deletion-emphasis: var(
    --pjs-bg-deletion-emphasis-override,
    light-dark(
      rgb(from var(--pjs-deletion-base) r g b / 0.15),
      rgb(from var(--pjs-deletion-base) r g b / 0.2)
    )
  );

  --pjs-bg-addition: var(
    --pjs-bg-addition-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 88%, var(--pjs-addition-base)),
      color-mix(in lab, var(--pjs-bg) 80%, var(--pjs-addition-base))
    )
  );
  --pjs-bg-addition-number: var(
    --pjs-bg-addition-number-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 91%, var(--pjs-addition-base)),
      color-mix(in lab, var(--pjs-bg) 85%, var(--pjs-addition-base))
    )
  );
  --pjs-bg-addition-hover: var(
    --pjs-bg-addition-hover-override,
    light-dark(
      color-mix(in lab, var(--pjs-bg) 80%, var(--pjs-addition-base)),
      color-mix(in lab, var(--pjs-bg) 70%, var(--pjs-addition-base))
    )
  );
  --pjs-bg-addition-emphasis: var(
    --pjs-bg-addition-emphasis-override,
    light-dark(
      rgb(from var(--pjs-addition-base) r g b / 0.15),
      rgb(from var(--pjs-addition-base) r g b / 0.2)
    )
  );

  --pjs-selection-base: var(--pjs-modified-base);
  --pjs-selection-number-fg: light-dark(
    color-mix(in lab, var(--pjs-selection-base) 65%, var(--pjs-mixer)),
    color-mix(in lab, var(--pjs-selection-base) 75%, var(--pjs-mixer))
  );
  --pjs-bg-selection: var(
    --pjs-bg-selection-override,
    light-dark(
      rgb(from var(--pjs-selection-base) r g b / 0.18),
      rgb(from var(--pjs-selection-base) r g b / 0.26)
    )
  );
  --pjs-bg-selection-number: var(
    --pjs-bg-selection-number-override,
    light-dark(
      rgb(from var(--pjs-selection-base) r g b / 0.25),
      rgb(from var(--pjs-selection-base) r g b / 0.4)
    )
  );

  background-color: var(--pjs-bg);
  color: var(--pjs-fg);
}

[data-pjs] {
  --pjs-code-grid: minmax(min-content, max-content) 1fr;

  [data-column-content] span {
    color: light-dark(var(--pjs-light), var(--pjs-dark));
    font-weight: var(--pjs-light-font-weight);
    font-style: var(--pjs-light-font-style);
  }
}

[data-column-content] {
  grid-column: 2 / 3;
}

[data-pjs][data-dehydrated] {
  --pjs-code-grid: minmax(min-content, max-content) minmax(0, 1fr);
}

@media (prefers-color-scheme: dark) {
  [data-pjs-header],
  [data-pjs] {
    color-scheme: dark;
  }

  [data-pjs] [data-column-content] span {
    font-weight: var(--pjs-dark-font-weight);
    font-style: var(--pjs-dark-font-style);
  }
}

[data-pjs-header][data-theme-type='light'],
[data-pjs][data-theme-type='light'] {
  color-scheme: light;
}

[data-pjs][data-theme-type='light'] [data-column-content] span {
  font-weight: var(--pjs-light-font-weight);
  font-style: var(--pjs-light-font-style);
}

[data-pjs-header][data-theme-type='dark'],
[data-pjs][data-theme-type='dark'] {
  color-scheme: dark;
}

[data-pjs][data-theme-type='dark'] [data-column-content] span {
  font-weight: var(--pjs-dark-font-weight);
  font-style: var(--pjs-dark-font-style);
}

[data-type='split'][data-overflow='wrap'] {
  display: grid;
  grid-auto-flow: dense;
  grid-template-columns: repeat(2, var(--pjs-code-grid));
}

[data-type='split'][data-overflow='scroll'] {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2px;
}

[data-code] {
  display: block;
  display: grid;
  grid-auto-flow: dense;
  grid-template-columns: var(--pjs-code-grid);
  overflow-x: auto;
  scrollbar-width: none;
  overscroll-behavior-x: contain;
  tab-size: var(--pjs-tab-size, 2);
  align-self: flex-start;
  padding-block: var(--pjs-gap-block, var(--pjs-gap-fallback));
}

[data-pjs][data-type='split'][data-overflow='wrap'] {
  padding-block: var(--pjs-gap-block, var(--pjs-gap-fallback));
}

[data-pjs-header] ~ [data-pjs] [data-code],
[data-pjs-header] ~ [data-pjs][data-overflow='wrap'] {
  padding-top: 0;
}

[data-type='split'][data-overflow='wrap'] [data-code] {
  display: contents;
}

[data-line-annotation],
[data-line] {
  position: relative;
  display: grid;
  grid-template-columns: subgrid;
  grid-column: 1 / 3;
}

[data-line-annotation][data-selected-line] {
  background-color: unset;

  &::before {
    content: '';
    display: block;
    border-right: var(--pjs-gap-style, 1px solid var(--pjs-bg));
    background-color: var(--pjs-bg-selection-number);
  }

  [data-annotation-content] {
    background-color: var(--pjs-bg-selection);
  }
}

[data-interactive-lines] [data-line] {
  cursor: pointer;
}

[data-type='split'][data-overflow='wrap'] [data-additions] [data-line],
[data-type='split'][data-overflow='wrap'] [data-additions] [data-separator],
[data-type='split'][data-overflow='wrap']
  [data-additions]
  [data-line-annotation] {
  border-left: 2px solid var(--pjs-bg);
}

[data-buffer] {
  position: sticky;
  left: 0;
  grid-column: 1 / 3;
  -webkit-user-select: none;
          user-select: none;
  /* We multiply by 1.414 (2) to better approximate the diagonal repeat distance */
  background-image: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent calc(3px * 1.414),
    var(--pjs-bg-buffer) calc(3px * 1.414),
    var(--pjs-bg-buffer) calc(4px * 1.414)
  );
  min-height: 1lh;
  width: var(--pjs-column-width, auto);
}

[data-separator] {
  grid-column: span 2;
}

[data-separator='metadata'],
[data-separator]:empty {
  min-height: 4px;
  background-color: var(--pjs-bg-separator);
  display: grid;
  grid-template-columns: subgrid;
}

[data-separator-wrapper] {
  -webkit-user-select: none;
          user-select: none;
  fill: currentColor;
  overflow: hidden;
}

[data-separator='metadata'] [data-separator-wrapper] {
  grid-column: 2 / 3;
  width: var(--pjs-column-content-width);
  position: sticky;
  left: var(--pjs-column-number-width);
  padding: 4px 1ch;
}

[data-separator='line-info'] {
  margin-block: var(--pjs-gap-block, var(--pjs-gap-fallback));
}

[data-separator='line-info'][data-separator-first] {
  margin-top: 0;
}

[data-separator='line-info'][data-separator-last] {
  margin-bottom: 0;
}

[data-separator='line-info'] [data-separator-wrapper] {
  position: sticky;
  display: flex;
  align-items: center;
  gap: 2px;
  width: auto;
  width: calc(var(--pjs-column-width) - var(--pjs-gap-fallback));
  border-radius: 6px;
}

@media (pointer: fine) {
  [data-separator-wrapper][data-separator-multi-button] {
    display: grid;
    grid-template-columns: auto minmax(0, 1fr);
    grid-template-rows: 15px 15px;

    [data-expand-button] {
      height: 15px;
    }
  }

  [data-type='split']
    [data-additions]
    [data-separator-wrapper][data-separator-multi-button] {
    grid-template-columns: minmax(0, 1fr) auto;
  }

  [data-type='split'] [data-additions] [data-expand-button] {
    grid-column: 2;
  }

  [data-type='split'] [data-additions] [data-separator-content] {
    grid-column: 1;
  }
}

[data-expand-button],
[data-separator-content] {
  display: flex;
  align-items: center;
  background-color: var(--pjs-bg-separator);
}

[data-expand-button] {
  justify-content: center;
  flex-shrink: 0;
  cursor: pointer;
  width: 32px;
  height: 32px;
  opacity: 0.65;
}

@media (pointer: fine) {
  [data-expand-button]:hover {
    opacity: 1;
  }
}

[data-expand-up] [data-icon] {
  transform: scaleY(-1);
}

[data-separator-content] {
  flex: 1 1 auto;
  padding: 0 1ch;
  height: 32px;
  opacity: 0.65;
  overflow: hidden;
  justify-content: flex-start;

  grid-column: 2;
  grid-row: 1 / -1;
}

[data-unmodified-lines] {
  display: block;
  overflow: hidden;
  min-width: 0;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 0 1 auto;
}

[data-type='split'] [data-additions] [data-separator-content] {
  justify-content: flex-end;
}

[data-type='file']
  [data-code]
  [data-separator='line-info']
  [data-separator-wrapper] {
  left: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  margin-left: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  margin-right: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  width: calc(
    var(--pjs-column-width) -
      (var(--pjs-gap-inline, var(--pjs-gap-fallback)) * 2)
  );
}

[data-type='split']
  [data-deletions]
  [data-separator='line-info']
  [data-separator-wrapper] {
  left: var(--pjs-gap-fallback);
  margin-left: var(--pjs-gap-fallback);
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}

[data-type='split']
  [data-additions]
  [data-separator='line-info']
  [data-separator-wrapper] {
  left: 0;
  margin-right: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  flex-direction: row-reverse;
}

[data-line] {
  background-color: var(--pjs-bg);
  color: var(--pjs-fg);
}

[data-type='split'][data-overflow='wrap'] [data-deletions] {
  [data-line-annotation],
  [data-buffer],
  [data-line],
  [data-separator] {
    grid-column: 1 / 3;
  }
}

[data-line-annotation] {
  min-height: var(--pjs-annotation-min-height, 0);
  background-color: var(--pjs-bg-context);
}

[data-type='split'][data-overflow='wrap'] [data-additions] {
  [data-line-annotation],
  [data-buffer],
  [data-line],
  [data-separator] {
    grid-column: 3 / 5;
  }
}

[data-separator='custom'] {
  display: grid;
  grid-template-columns: subgrid;
}

[data-column-content],
[data-column-number] {
  position: relative;
  padding-inline: 1ch;
}

[data-indicators='classic'] [data-column-content] {
  padding-inline-start: 2ch;
}

[data-indicators='classic'] {
  [data-line-type='change-addition'] [data-column-content]::before,
  [data-line-type='change-deletion'] [data-column-content]::before {
    display: inline-block;
    width: 1ch;
    height: 1lh;
    position: absolute;
    top: 0;
    left: 0;
    -webkit-user-select: none;
            user-select: none;
  }

  [data-line-type='change-addition'] [data-column-content]::before {
    content: '+';
    color: var(--pjs-addition-base);
  }

  [data-line-type='change-deletion'] [data-column-content]::before {
    content: '-';
    color: var(--pjs-deletion-base);
  }
}

[data-indicators='bars'] {
  [data-line-type='change-deletion'] [data-column-number]::before,
  [data-line-type='change-addition'] [data-column-number]::before {
    content: '';
    display: block;
    width: 4px;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    -webkit-user-select: none;
            user-select: none;
  }

  [data-line-type='change-deletion'] [data-column-number]::before {
    background-image: linear-gradient(
      0deg,
      var(--pjs-bg-deletion) 50%,
      var(--pjs-deletion-base) 50%
    );
    background-repeat: repeat;
    background-size: 2px 2px;
    background-size: calc(1lh / round(1lh / 2px)) calc(1lh / round(1lh / 2px));
  }

  [data-line-type='change-addition'] [data-column-number]::before {
    background-color: var(--pjs-addition-base);
  }
}

[data-overflow='wrap'] [data-column-content],
[data-overflow='wrap'] [data-annotation-content] {
  white-space: pre-wrap;
  word-break: break-word;
}

[data-overflow='scroll'] [data-column-content] {
  white-space: pre;
  min-height: 1lh;
}

[data-column-number] {
  grid-column: 1 / 2;
  box-sizing: content-box;
  text-align: right;
  position: sticky;
  left: 0;
  -webkit-user-select: none;
          user-select: none;
  background-color: var(--pjs-bg);
  color: var(--pjs-fg-number);
  z-index: 1;
  min-width: var(
    --pjs-min-number-column-width,
    var(--pjs-min-number-column-width-default, 3ch)
  );
  padding-left: 2ch;
  border-right: var(--pjs-gap-style, 1px solid var(--pjs-bg));
}

[data-interactive-line-numbers] [data-column-number] {
  cursor: pointer;
}

[data-diff-span] {
  border-radius: 3px;
  -webkit-box-decoration-break: clone;
          box-decoration-break: clone;
}

[data-line-type='change-addition'] {
  [data-column-number] {
    color: var(--pjs-fg-number-addition-override, var(--pjs-addition-base));
  }

  [data-diff-span] {
    background-color: var(--pjs-bg-addition-emphasis);
  }
}

[data-line-type='change-deletion'] {
  [data-column-number] {
    color: var(--pjs-fg-number-deletion-override, var(--pjs-deletion-base));
  }

  [data-diff-span] {
    background-color: var(--pjs-bg-deletion-emphasis);
  }
}

[data-background] [data-line-type='change-addition'] {
  background-color: var(--pjs-bg-addition);

  [data-column-number] {
    background-color: var(--pjs-bg-addition-number);
  }
}

[data-background] [data-line-type='change-deletion'] {
  background-color: var(--pjs-bg-deletion);

  [data-column-number] {
    background-color: var(--pjs-bg-deletion-number);
  }
}

[data-line-type='context-expanded'] {
  background-color: var(--pjs-bg-context);

  [data-column-number] {
    background-color: var(--pjs-bg-context);
  }
}

/* By wrapping hovers in a pointer: fine, we ensure that mobile devices don't
*  require a double click */
@media (pointer: fine) {
  [data-line]:hover:not([data-selected-line]) {
    [data-column-number],
    [data-column-content] {
      background-color: var(--pjs-bg-hover);
    }
  }

  [data-background] [data-line]:hover:not([data-selected-line]) {
    &[data-line-type='change-deletion'] [data-column-number],
    &[data-line-type='change-deletion'] [data-column-content] {
      background-color: var(--pjs-bg-deletion-hover);
    }

    &[data-line-type='change-addition'] [data-column-number],
    &[data-line-type='change-addition'] [data-column-content] {
      background-color: var(--pjs-bg-addition-hover);
    }
  }
}

[data-pjs-header] {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  gap: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  min-height: calc(1lh + (var(--pjs-gap-block, var(--pjs-gap-fallback)) * 3));
  padding-inline: 16px;
}

[data-header-content] {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--pjs-gap-inline, var(--pjs-gap-fallback));
  min-width: 0;
  white-space: nowrap;
}

[data-header-content] [data-prev-name],
[data-header-content] [data-title] {
  direction: rtl;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
  white-space: nowrap;
}

[data-prev-name] {
  opacity: 0.7;
}

[data-rename-icon] {
  fill: currentColor;
  flex-shrink: 0;
  flex-grow: 0;
}

[data-pjs-header] [data-metadata] {
  display: flex;
  align-items: center;
  gap: 1ch;
  white-space: nowrap;
}

[data-pjs-header] [data-additions-count] {
  font-family: var(--pjs-font-family, var(--pjs-font-fallback));
  color: var(--pjs-addition-base);
}

[data-pjs-header] [data-deletions-count] {
  font-family: var(--pjs-font-family, var(--pjs-font-fallback));
  color: var(--pjs-deletion-base);
}

[data-no-newline] {
  -webkit-user-select: none;
          user-select: none;
  opacity: 0.6;
}

[data-annotation-content] {
  position: sticky;
  left: var(--pjs-column-number-width, 0);
  grid-column: 2 / -1;
  width: var(--pjs-column-content-width, auto);
  align-self: flex-start;
  z-index: 2;
}

/* Undo some of the stuff that the 'pre' tag does */
[data-annotation-slot] {
  text-wrap-mode: wrap;
  word-break: normal;
  white-space-collapse: collapse;
}

[data-change-icon] {
  fill: currentColor;
  flex-shrink: 0;
}

[data-change-icon='change'],
[data-change-icon='rename-pure'],
[data-change-icon='rename-changed'] {
  color: var(--pjs-modified-base);
}

[data-change-icon='new'] {
  color: var(--pjs-addition-base);
}

[data-change-icon='deleted'] {
  color: var(--pjs-deletion-base);
}

[data-change-icon='file'] {
  opacity: 0.6;
}

/* Line selection highlighting */
[data-selected-line],
[data-background] [data-selected-line] {
  [data-column-number] {
    color: var(--pjs-selection-number-fg);
    background-color: var(--pjs-bg-selection-number);
  }

  [data-column-content] {
    background-color: var(--pjs-bg-selection);
  }
}
`;if(typeof HTMLElement<"u"&&customElements.get("file-diff")==null){let Ye;class rt extends HTMLElement{constructor(){if(super(),this.shadowRoot!=null)return;const lt=this.attachShadow({mode:"open"});Ye==null&&(Ye=new CSSStyleSheet,Ye.replaceSync(`@layer base, theme, unsafe;
@layer base {
${style_default}
}`)),lt.adoptedStyleSheets=[Ye]}}customElements.define("file-diff",rt)}const PJSContainerLoaded=!0,SVGSpriteSheet=`<svg data-icon-sprite aria-hidden="true" width="0" height="0">
  <symbol id="pjs-icon-arrow-right-short" viewBox="0 0 16 16">
    <path d="M8.47 4.22a.75.75 0 0 0 0 1.06l1.97 1.97H3.75a.75.75 0 0 0 0 1.5h6.69l-1.97 1.97a.75.75 0 1 0 1.06 1.06l3.25-3.25a.75.75 0 0 0 0-1.06L9.53 4.22a.75.75 0 0 0-1.06 0"/>
  </symbol>
  <symbol id="pjs-icon-brand-github" viewBox="0 0 16 16">
    <path d="M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"/>
  </symbol>
  <symbol id="pjs-icon-chevron" viewBox="0 0 16 16">
    <path d="M1.47 4.47a.75.75 0 0 1 1.06 0L8 9.94l5.47-5.47a.75.75 0 1 1 1.06 1.06l-6 6a.75.75 0 0 1-1.06 0l-6-6a.75.75 0 0 1 0-1.06"/>
  </symbol>
  <symbol id="pjs-icon-chevrons-narrow" viewBox="0 0 10 16">
    <path d="M4.47 2.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1-1.06 1.06L5 3.81 2.28 6.53a.75.75 0 0 1-1.06-1.06zM1.22 9.47a.75.75 0 0 1 1.06 0L5 12.19l2.72-2.72a.75.75 0 0 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0l-3.25-3.25a.75.75 0 0 1 0-1.06"/>
  </symbol>
  <symbol id="pjs-icon-diff-split" viewBox="0 0 16 16">
    <path d="M14 0H8.5v16H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2m-1.5 6.5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0"/><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h5.5V0zm.5 7.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1" opacity=".3"/>
  </symbol>
  <symbol id="pjs-icon-diff-unified" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8.5h16zm-8-4a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1A.5.5 0 0 0 8 10" clip-rule="evenodd"/><path fill-rule="evenodd" d="M14 0a2 2 0 0 1 2 2v5.5H0V2a2 2 0 0 1 2-2zM6.5 3.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z" clip-rule="evenodd" opacity=".4"/>
  </symbol>
  <symbol id="pjs-icon-expand" viewBox="0 0 16 16">
    <path d="M3.47 5.47a.75.75 0 0 1 1.06 0L8 8.94l3.47-3.47a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06"/>
  </symbol>
  <symbol id="pjs-icon-expand-all" viewBox="0 0 16 16">
    <path d="M11.47 9.47a.75.75 0 1 1 1.06 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06L8 12.94zM7.526 1.418a.75.75 0 0 1 1.004.052l4 4a.75.75 0 1 1-1.06 1.06L8 3.06 4.53 6.53a.75.75 0 1 1-1.06-1.06l4-4z"/>
  </symbol>
  <symbol id="pjs-icon-file-code" viewBox="0 0 16 16">
    <path d="M10.75 0c.199 0 .39.08.53.22l3.5 3.5c.14.14.22.331.22.53v9A2.75 2.75 0 0 1 12.25 16h-8.5A2.75 2.75 0 0 1 1 13.25V2.75A2.75 2.75 0 0 1 3.75 0zm-7 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h8.5c.69 0 1.25-.56 1.25-1.25V5h-1.25A2.25 2.25 0 0 1 10 2.75V1.5z"/><path d="M7.248 6.19a.75.75 0 0 1 .063 1.058L5.753 9l1.558 1.752a.75.75 0 0 1-1.122.996l-2-2.25a.75.75 0 0 1 0-.996l2-2.25a.75.75 0 0 1 1.06-.063M8.69 7.248a.75.75 0 1 1 1.12-.996l2 2.25a.75.75 0 0 1 0 .996l-2 2.25a.75.75 0 1 1-1.12-.996L10.245 9z"/>
  </symbol>
  <symbol id="pjs-icon-symbol-added" viewBox="0 0 16 16">
    <path d="M8 4a.75.75 0 0 1 .75.75v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5A.75.75 0 0 1 8 4"/><path d="M1.788 4.296c.196-.88.478-1.381.802-1.706s.826-.606 1.706-.802C5.194 1.588 6.387 1.5 8 1.5s2.806.088 3.704.288c.88.196 1.381.478 1.706.802s.607.826.802 1.706c.2.898.288 2.091.288 3.704s-.088 2.806-.288 3.704c-.195.88-.478 1.381-.802 1.706s-.826.607-1.706.802c-.898.2-2.091.288-3.704.288s-2.806-.088-3.704-.288c-.88-.195-1.381-.478-1.706-.802s-.606-.826-.802-1.706C1.588 10.806 1.5 9.613 1.5 8s.088-2.806.288-3.704M8 0C1.412 0 0 1.412 0 8s1.412 8 8 8 8-1.412 8-8-1.412-8-8-8"/>
  </symbol>
  <symbol id="pjs-icon-symbol-deleted" viewBox="0 0 16 16">
    <path d="M4 8a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 4 8"/><path d="M1.788 4.296c.196-.88.478-1.381.802-1.706s.826-.606 1.706-.802C5.194 1.588 6.387 1.5 8 1.5s2.806.088 3.704.288c.88.196 1.381.478 1.706.802s.607.826.802 1.706c.2.898.288 2.091.288 3.704s-.088 2.806-.288 3.704c-.195.88-.478 1.381-.802 1.706s-.826.607-1.706.802c-.898.2-2.091.288-3.704.288s-2.806-.088-3.704-.288c-.88-.195-1.381-.478-1.706-.802s-.606-.826-.802-1.706C1.588 10.806 1.5 9.613 1.5 8s.088-2.806.288-3.704M8 0C1.412 0 0 1.412 0 8s1.412 8 8 8 8-1.412 8-8-1.412-8-8-8"/>
  </symbol>
  <symbol id="pjs-icon-symbol-diffstat" viewBox="0 0 16 16">
    <path d="M1.788 4.296c.196-.88.478-1.381.802-1.706s.826-.606 1.706-.802C5.194 1.588 6.387 1.5 8 1.5s2.806.088 3.704.288c.88.196 1.381.478 1.706.802s.607.826.802 1.706c.2.898.288 2.091.288 3.704s-.088 2.806-.288 3.704c-.195.88-.478 1.381-.802 1.706s-.826.607-1.706.802c-.898.2-2.091.288-3.704.288s-2.806-.088-3.704-.288c-.88-.195-1.381-.478-1.706-.802s-.606-.826-.802-1.706C1.588 10.806 1.5 9.613 1.5 8s.088-2.806.288-3.704M8 0C1.412 0 0 1.412 0 8s1.412 8 8 8 8-1.412 8-8-1.412-8-8-8"/><path d="M8.75 4.296a.75.75 0 0 0-1.5 0V6.25h-2a.75.75 0 0 0 0 1.5h2v1.5h1.5v-1.5h2a.75.75 0 0 0 0-1.5h-2zM5.25 10a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5z"/>
  </symbol>
  <symbol id="pjs-icon-symbol-ignored" viewBox="0 0 16 16">
    <path d="M1.5 8c0 1.613.088 2.806.288 3.704.196.88.478 1.381.802 1.706s.826.607 1.706.802c.898.2 2.091.288 3.704.288s2.806-.088 3.704-.288c.88-.195 1.381-.478 1.706-.802s.607-.826.802-1.706c.2-.898.288-2.091.288-3.704s-.088-2.806-.288-3.704c-.195-.88-.478-1.381-.802-1.706s-.826-.606-1.706-.802C10.806 1.588 9.613 1.5 8 1.5s-2.806.088-3.704.288c-.88.196-1.381.478-1.706.802s-.606.826-.802 1.706C1.588 5.194 1.5 6.387 1.5 8M0 8c0-6.588 1.412-8 8-8s8 1.412 8 8-1.412 8-8 8-8-1.412-8-8m11.53-2.47a.75.75 0 0 0-1.06-1.06l-6 6a.75.75 0 1 0 1.06 1.06z"/>
  </symbol>
  <symbol id="pjs-icon-symbol-modified" viewBox="0 0 16 16">
    <path d="M1.5 8c0 1.613.088 2.806.288 3.704.196.88.478 1.381.802 1.706s.826.607 1.706.802c.898.2 2.091.288 3.704.288s2.806-.088 3.704-.288c.88-.195 1.381-.478 1.706-.802s.607-.826.802-1.706c.2-.898.288-2.091.288-3.704s-.088-2.806-.288-3.704c-.195-.88-.478-1.381-.802-1.706s-.826-.606-1.706-.802C10.806 1.588 9.613 1.5 8 1.5s-2.806.088-3.704.288c-.88.196-1.381.478-1.706.802s-.606.826-.802 1.706C1.588 5.194 1.5 6.387 1.5 8M0 8c0-6.588 1.412-8 8-8s8 1.412 8 8-1.412 8-8 8-8-1.412-8-8m8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
  </symbol>
  <symbol id="pjs-icon-symbol-moved" viewBox="0 0 16 16">
    <path d="M1.788 4.296c.196-.88.478-1.381.802-1.706s.826-.606 1.706-.802C5.194 1.588 6.387 1.5 8 1.5s2.806.088 3.704.288c.88.196 1.381.478 1.706.802s.607.826.802 1.706c.2.898.288 2.091.288 3.704s-.088 2.806-.288 3.704c-.195.88-.478 1.381-.802 1.706s-.826.607-1.706.802c-.898.2-2.091.288-3.704.288s-2.806-.088-3.704-.288c-.88-.195-1.381-.478-1.706-.802s-.606-.826-.802-1.706C1.588 10.806 1.5 9.613 1.5 8s.088-2.806.288-3.704M8 0C1.412 0 0 1.412 0 8s1.412 8 8 8 8-1.412 8-8-1.412-8-8-8"/><path d="M8.495 4.695a.75.75 0 0 0-.05 1.06L10.486 8l-2.041 2.246a.75.75 0 0 0 1.11 1.008l2.5-2.75a.75.75 0 0 0 0-1.008l-2.5-2.75a.75.75 0 0 0-1.06-.051m-4 0a.75.75 0 0 0-.05 1.06l2.044 2.248-1.796 1.995a.75.75 0 0 0 1.114 1.004l2.25-2.5a.75.75 0 0 0-.002-1.007l-2.5-2.75a.75.75 0 0 0-1.06-.05"/>
  </symbol>
  <symbol id="pjs-icon-symbol-ref" viewBox="0 0 16 16">
    <path d="M1.5 8c0 1.613.088 2.806.288 3.704.196.88.478 1.381.802 1.706.286.286.71.54 1.41.73V1.86c-.7.19-1.124.444-1.41.73-.324.325-.606.826-.802 1.706C1.588 5.194 1.5 6.387 1.5 8m4 6.397c.697.07 1.522.103 2.5.103 1.613 0 2.806-.088 3.704-.288.88-.195 1.381-.478 1.706-.802s.607-.826.802-1.706c.2-.898.288-2.091.288-3.704s-.088-2.806-.288-3.704c-.195-.88-.478-1.381-.802-1.706s-.826-.606-1.706-.802C10.806 1.588 9.613 1.5 8 1.5c-.978 0-1.803.033-2.5.103zM0 8c0-6.588 1.412-8 8-8s8 1.412 8 8-1.412 8-8 8-8-1.412-8-8m7-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z"/>
  </symbol>
</svg>`;var ScrollSyncManager=class{isDeletionsScrolling=!1;isAdditionsScrolling=!1;timeoutId=-1;codeDeletions;codeAdditions;cleanUp(){this.codeDeletions?.removeEventListener("scroll",this.handleDeletionsScroll),this.codeAdditions?.removeEventListener("scroll",this.handleAdditionsScroll),clearTimeout(this.timeoutId),this.codeDeletions=void 0,this.codeAdditions=void 0}setup(Ye,rt,it){if(rt==null||it==null)for(const lt of Ye.children??[])lt instanceof HTMLElement&&("deletions"in lt.dataset?rt=lt:"additions"in lt.dataset&&(it=lt));if(it==null||rt==null){this.cleanUp();return}this.codeDeletions?.removeEventListener("scroll",this.handleDeletionsScroll),this.codeAdditions?.removeEventListener("scroll",this.handleAdditionsScroll),this.codeDeletions=rt,this.codeAdditions=it,rt.addEventListener("scroll",this.handleDeletionsScroll,{passive:!0}),it.addEventListener("scroll",this.handleAdditionsScroll,{passive:!0})}handleDeletionsScroll=()=>{this.isAdditionsScrolling||(this.isDeletionsScrolling=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.isDeletionsScrolling=!1},300),this.codeAdditions?.scrollTo({left:this.codeDeletions?.scrollLeft}))};handleAdditionsScroll=()=>{this.isDeletionsScrolling||(this.isAdditionsScrolling=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.isAdditionsScrolling=!1},300),this.codeDeletions?.scrollTo({left:this.codeAdditions?.scrollLeft}))}};function processPatch(Ye){const rt=GIT_DIFF_FILE_BREAK_REGEX.test(Ye),it=Ye.split(rt?GIT_DIFF_FILE_BREAK_REGEX:UNIFIED_DIFF_FILE_BREAK_REGEX);let lt;const ct=[];let ut;for(const ht of it){if(rt&&!GIT_DIFF_FILE_BREAK_REGEX.test(ht)){lt==null?lt=ht:console.error("parsePatchContent: unknown file blob:",ht);continue}else if(!rt&&!UNIFIED_DIFF_FILE_BREAK_REGEX.test(ht)){lt==null?lt=ht:console.error("parsePatchContent: unknown file blob:",ht);continue}let ft=0;const pt=ht.split(FILE_CONTEXT_BLOB);ut=void 0;for(const mt of pt){const gt=mt.split(SPLIT_WITH_NEWLINES),yt=gt.shift();if(yt==null){console.error("parsePatchContent: invalid hunk",mt);continue}const xt=yt.match(HUNK_HEADER),bt=[];let _t=0,Ct=0;if(xt==null||ut==null){if(ut!=null){console.error("parsePatchContent: Invalid hunk",mt);continue}ut={name:"",prevName:void 0,type:"change",hunks:[],splitLineCount:0,unifiedLineCount:0},gt.unshift(yt);for(const St of gt){const Rt=St.match(rt?FILENAME_HEADER_REGEX_GIT:FILENAME_HEADER_REGEX);if(St.startsWith("diff --git")){const[,,Tt,,Mt]=St.trim().match(ALTERNATE_FILE_NAMES_GIT)??[];ut.name=Mt,Tt!==Mt&&(ut.prevName=Tt)}else if(Rt!=null){const[,Tt,Mt]=Rt;Tt==="---"&&Mt!=="/dev/null"?(ut.prevName=Mt,ut.name=Mt):Tt==="+++"&&Mt!=="/dev/null"&&(ut.name=Mt)}else if(rt){if(St.startsWith("new mode ")&&(ut.mode=St.replace("new mode","").trim()),St.startsWith("old mode ")&&(ut.oldMode=St.replace("old mode","").trim()),St.startsWith("new file mode")&&(ut.type="new",ut.mode=St.replace("new file mode","").trim()),St.startsWith("deleted file mode")&&(ut.type="deleted",ut.mode=St.replace("deleted file mode","").trim()),St.startsWith("similarity index")&&(St.startsWith("similarity index 100%")?ut.type="rename-pure":ut.type="rename-changed"),St.startsWith("index ")){const[,Tt]=St.trim().match(FILE_MODE_FROM_INDEX)??[];Tt!=null&&(ut.mode=Tt)}St.startsWith("rename from ")&&(ut.prevName=St.replace("rename from ","")),St.startsWith("rename to ")&&(ut.name=St.replace("rename to ",""))}}continue}else{let St;for(const Rt of gt)Rt[0]==="+"?((St==null||St.type!=="change")&&(St=createContentGroup("change"),bt.push(St)),St.additions.push(Rt),_t++):Rt[0]==="-"?((St==null||St.type!=="change")&&(St=createContentGroup("change"),bt.push(St)),St.deletions.push(Rt),Ct++):((St==null||St.type!=="context")&&(St=createContentGroup("context"),bt.push(St)),St.lines.push(Rt))}const kt={collapsedBefore:0,splitLineCount:0,splitLineStart:0,unifiedLineCount:gt.length,unifiedLineStart:0,additionCount:parseInt(xt[4]??"0"),additionStart:parseInt(xt[3]),additionLines:_t,deletionCount:parseInt(xt[2]??"0"),deletionStart:parseInt(xt[1]),deletionLines:Ct,hunkContent:bt,hunkContext:xt[5],hunkSpecs:yt};if(isNaN(kt.additionCount)||isNaN(kt.deletionCount)||isNaN(kt.additionStart)||isNaN(kt.deletionStart)){console.error("parsePatchContent: invalid hunk metadata",kt);continue}kt.collapsedBefore=kt.additionStart-1-ft,ut.hunks.push(kt),ft=kt.additionStart+kt.additionCount-1,kt.splitLineCount=Math.max(kt.additionCount,kt.deletionCount),kt.splitLineStart=ut.splitLineCount,kt.unifiedLineStart=ut.unifiedLineCount,ut.splitLineCount+=kt.splitLineCount,ut.unifiedLineCount+=kt.unifiedLineCount}ut!=null&&(!rt&&ut.prevName!=null&&ut.name!==ut.prevName&&(ut.hunks.length>0?ut.type="rename-changed":ut.type="rename-pure"),ut.type!=="rename-pure"&&ut.type!=="rename-changed"&&(ut.prevName=void 0),ct.push(ut))}return{patchMetadata:lt,files:ct}}function parsePatchFiles(Ye){const rt=[];for(const it of Ye.split(COMMIT_METADATA_SPLIT))try{rt.push(processPatch(it))}catch(lt){console.error(lt)}return rt}function createContentGroup(Ye){return Ye==="change"?{type:"change",additions:[],deletions:[]}:{type:"context",lines:[]}}function parseDiffFromFile(Ye,rt){const it=parsePatchFiles(createTwoFilesPatch(Ye.name,rt.name,Ye.contents,rt.contents,Ye.header,rt.header))[0]?.files[0];if(it==null)throw new Error("parseDiffFrom: FileInvalid diff -- probably need to fix something -- if the files are the same maybe?");return it.oldLines=Ye.contents.split(SPLIT_WITH_NEWLINES),it.newLines=rt.contents.split(SPLIT_WITH_NEWLINES),it}let instanceId=-1;var FileDiff$2=class{static LoadedCustomComponent=PJSContainerLoaded;__id=++instanceId;fileContainer;spriteSVG;pre;unsafeCSSStyle;headerElement;headerMetadata;customHunkElements=[];hunksRenderer;headerRenderer;resizeManager;scrollSyncManager;mouseEventManager;lineSelectionManager;annotationElements=[];lineAnnotations=[];oldFile;newFile;fileDiff;constructor(rt={theme:DEFAULT_THEMES},it=!1){this.options=rt,this.isContainerManaged=it,this.hunksRenderer=new DiffHunksRenderer({...rt,hunkSeparators:typeof rt.hunkSeparators=="function"?"custom":rt.hunkSeparators}),this.headerRenderer=new FileHeaderRenderer(rt),this.resizeManager=new ResizeManager,this.scrollSyncManager=new ScrollSyncManager,this.mouseEventManager=new MouseEventManager("diff",pluckMouseEventOptions(rt,typeof rt.hunkSeparators=="function"||(rt.hunkSeparators??"line-info")==="line-info"?this.handleExpandHunk:void 0)),this.lineSelectionManager=new LineSelectionManager(pluckLineSelectionOptions(rt))}setOptions(rt){rt!=null&&(this.options=rt,this.hunksRenderer.setOptions({...this.options,hunkSeparators:typeof rt.hunkSeparators=="function"?"custom":rt.hunkSeparators}),this.mouseEventManager.setOptions(pluckMouseEventOptions(rt,typeof rt.hunkSeparators=="function"||(rt.hunkSeparators??"line-info")==="line-info"?this.handleExpandHunk:void 0)),this.lineSelectionManager.setOptions(pluckLineSelectionOptions(rt)))}mergeOptions(rt){this.options={...this.options,...rt}}setThemeType(rt){if((this.options.themeType??"system")!==rt&&(this.mergeOptions({themeType:rt}),this.hunksRenderer.setThemeType(rt),this.headerRenderer.setThemeType(rt),this.headerElement!=null&&(rt==="system"?delete this.headerElement.dataset.themeType:this.headerElement.dataset.themeType=rt),this.pre!=null))switch(rt){case"system":delete this.pre.dataset.themeType;break;case"light":case"dark":this.pre.dataset.themeType=rt;break}}setLineAnnotations(rt){this.lineAnnotations=rt}setSelectedLines(rt){this.queuedRender!=null?this.queuedRender.then(()=>this.setSelectedLines(rt)):this.lineSelectionManager.setSelection(rt)}cleanUp(){this.hunksRenderer.cleanUp(),this.headerRenderer.cleanUp(),this.resizeManager.cleanUp(),this.mouseEventManager.cleanUp(),this.scrollSyncManager.cleanUp(),this.lineSelectionManager.cleanUp(),this.fileDiff=void 0,this.oldFile=void 0,this.newFile=void 0,this.isContainerManaged||this.fileContainer?.parentNode?.removeChild(this.fileContainer),this.fileContainer=void 0,this.pre=void 0,this.headerElement=void 0}async hydrate(rt){if(rt.fileContainer==null)throw new Error("FileDiff: you must provide a fileContainer on hydration");for(const it of Array.from(rt.fileContainer.shadowRoot?.children??[])){if(it instanceof SVGElement){this.spriteSVG=it;continue}if(it instanceof HTMLElement){if(it instanceof HTMLPreElement){this.pre=it;continue}if("pjsHeader"in it.dataset){this.headerElement=it;continue}if(it instanceof HTMLStyleElement){this.unsafeCSSStyle=it;continue}}}this.pre==null?await this.render(rt):(this.fileContainer=rt.fileContainer,delete this.pre.dataset.dehydrated,this.lineAnnotations=rt.lineAnnotations??this.lineAnnotations,this.newFile=rt.newFile,this.oldFile=rt.oldFile,this.fileDiff=rt.fileDiff,this.hunksRenderer.initializeHighlighter(),this.renderAnnotations(),this.injectUnsafeCSS(),this.mouseEventManager.setup(this.pre),this.lineSelectionManager.setup(this.pre),(this.options.overflow??"scroll")==="scroll"&&(this.resizeManager.setup(this.pre),this.scrollSyncManager.setup(this.pre)))}async rerender(){await this.render({oldFile:this.oldFile,newFile:this.newFile,fileDiff:this.fileDiff,forceRender:!0})}handleExpandHunk=(rt,it)=>{this.expandHunk(rt,it)};expandHunk(rt,it){this.hunksRenderer.expandHunk(rt,it),this.rerender()}queuedRender;async render(rt){const{oldFile:it,newFile:lt,fileDiff:ct,forceRender:ut=!1,lineAnnotations:ht}=rt,ft=ht!=null&&!deepEquals(ht,this.lineAnnotations);if(!ut&&!ft&&(ct!=null&&ct===this.fileDiff||it!=null&&lt!=null&&deepEquals(it,this.oldFile)&&deepEquals(lt,this.newFile)))return;const pt=this.queuedRender=this.queuedRender!=null?this.queuedRender.then(()=>this._render(rt)):this._render(rt);await pt,this.queuedRender===pt&&(this.queuedRender=void 0)}async _render({oldFile:rt,newFile:it,fileDiff:lt,fileContainer:ct,lineAnnotations:ut,containerWrapper:ht}){if(this.oldFile=rt,this.newFile=it,lt!=null?this.fileDiff=lt:rt!=null&&it!=null&&(this.fileDiff=parseDiffFromFile(rt,it)),ut!=null&&this.setLineAnnotations(ut),this.fileDiff==null)return;this.hunksRenderer.setOptions({...this.options,hunkSeparators:typeof this.options.hunkSeparators=="function"?"custom":this.options.hunkSeparators}),this.hunksRenderer.setLineAnnotations(this.lineAnnotations);const{disableFileHeader:ft=!1}=this.options;if(ft)this.headerRenderer.cleanUp(),this.headerElement!=null&&(this.headerElement.parentNode?.removeChild(this.headerElement),this.headerElement=void 0);else{const{theme:yt,themeType:xt}=this.options;this.headerRenderer.setOptions({theme:yt,themeType:xt})}const[pt,mt,gt]=await Promise.all([getSharedHighlighter({themes:getThemes(this.options.theme),langs:[]}),ft?void 0:this.headerRenderer.render(this.fileDiff),this.hunksRenderer.render(this.fileDiff)]);if(!(mt==null&&gt==null)&&(ct=this.getOrCreateFileContainer(ct),mt!=null&&this.applyHeaderToDOM(mt,ct),gt!=null)){ht?.appendChild(ct);const yt=this.getOrCreatePre(ct);this.applyHunksToDOM(gt,yt,pt),this.renderSeparators(gt.hunkData),this.renderAnnotations()}}renderSeparators(rt){const{hunkSeparators:it}=this.options;if(!(this.isContainerManaged||this.fileContainer==null||typeof it!="function")){for(const lt of this.customHunkElements)lt.parentNode?.removeChild(lt);this.customHunkElements.length=0;for(const lt of rt){const ct=document.createElement("div");ct.style.display="contents",ct.slot=lt.slotName,ct.appendChild(it(lt)),this.fileContainer.appendChild(ct),this.customHunkElements.push(ct)}}}renderAnnotations(){if(this.isContainerManaged||this.fileContainer==null)return;for(const it of this.annotationElements)it.parentNode?.removeChild(it);this.annotationElements.length=0;const{renderAnnotation:rt}=this.options;if(rt!=null&&this.lineAnnotations.length>0)for(const it of this.lineAnnotations){const lt=rt(it);if(lt==null)continue;const ct=document.createElement("div");ct.dataset.annotationSlot="",ct.slot=getLineAnnotationName(it),ct.appendChild(lt),this.annotationElements.push(ct),this.fileContainer.appendChild(ct)}}getOrCreateFileContainer(rt){if(this.fileContainer=rt??this.fileContainer??document.createElement("file-diff"),this.spriteSVG==null){const it=document.createElement("div");it.innerHTML=SVGSpriteSheet;const lt=it.firstChild;lt instanceof SVGElement&&(this.spriteSVG=lt,this.fileContainer.shadowRoot?.appendChild(this.spriteSVG))}return this.fileContainer}getFileContainer(){return this.fileContainer}getOrCreatePre(rt){return this.pre==null?(this.pre=document.createElement("pre"),rt.shadowRoot?.appendChild(this.pre)):this.pre.parentNode!==rt&&rt.shadowRoot?.appendChild(this.pre),this.pre}applyHeaderToDOM(rt,it){const lt=document.createElement("div");lt.innerHTML=this.headerRenderer.renderResultToHTML(rt);const ct=lt.firstElementChild;if(!(ct instanceof HTMLElement)||(this.headerElement!=null?it.shadowRoot?.replaceChild(ct,this.headerElement):it.shadowRoot?.prepend(ct),this.headerElement=ct,this.isContainerManaged))return;const{renderHeaderMetadata:ut}=this.options;this.headerMetadata!=null&&this.headerMetadata.parentNode?.removeChild(this.headerMetadata);const ht=ut?.({oldFile:this.oldFile,newFile:this.newFile,fileDiff:this.fileDiff})??void 0;ht!=null&&(this.headerMetadata=document.createElement("div"),this.headerMetadata.slot=HEADER_METADATA_SLOT_ID,ht instanceof Element?this.headerMetadata.appendChild(ht):this.headerMetadata.innerText=`${ht}`,it.appendChild(this.headerMetadata))}setPreAttributes(rt,it,lt){const{diffStyle:ct="split",overflow:ut="scroll",theme:ht,themeType:ft="system",diffIndicators:pt="bars",disableBackground:mt=!1}=this.options;setWrapperProps({pre:rt,theme:ht,highlighter:it,split:ct==="unified"?!1:lt.additionsAST!=null&&lt.deletionsAST!=null,wrap:ut==="wrap",themeType:ft,diffIndicators:pt,disableBackground:mt,totalLines:lt.totalLines})}injectUnsafeCSS(){if(this.fileContainer?.shadowRoot==null)return;const{unsafeCSS:rt}=this.options;rt==null||rt===""||(this.unsafeCSSStyle==null&&(this.unsafeCSSStyle=document.createElement("style"),this.fileContainer.shadowRoot.appendChild(this.unsafeCSSStyle)),this.unsafeCSSStyle.insertAdjacentText("beforeend",`@layer unsafe {
${rt}
}`))}applyHunksToDOM(rt,it,lt){this.setPreAttributes(it,lt,rt),it.innerHTML="";let ct,ut;if(rt.unifiedAST!=null){const ht=createCodeNode({columnType:"unified"});ht.innerHTML=this.hunksRenderer.renderPartialHTML(rt.unifiedAST),it.appendChild(ht)}else rt.deletionsAST!=null&&(ct=createCodeNode({columnType:"deletions"}),ct.innerHTML=this.hunksRenderer.renderPartialHTML(rt.deletionsAST),it.appendChild(ct)),rt.additionsAST!=null&&(ut=createCodeNode({columnType:"additions"}),ut.innerHTML=this.hunksRenderer.renderPartialHTML(rt.additionsAST),it.appendChild(ut));this.injectUnsafeCSS(),this.mouseEventManager.setup(it),this.lineSelectionManager.setup(it),this.lineSelectionManager.setDirty(),(this.options.overflow??"scroll")==="scroll"?(this.resizeManager.setup(it),this.scrollSyncManager.setup(it,ct,ut)):(this.resizeManager.cleanUp(),this.scrollSyncManager.cleanUp())}},_baseSum,hasRequired_baseSum;function require_baseSum(){if(hasRequired_baseSum)return _baseSum;hasRequired_baseSum=1;function Ye(rt,it){for(var lt,ct=-1,ut=rt.length;++ct<ut;){var ht=it(rt[ct]);ht!==void 0&&(lt=lt===void 0?ht:lt+ht)}return lt}return _baseSum=Ye,_baseSum}var sumBy_1,hasRequiredSumBy;function requireSumBy(){if(hasRequiredSumBy)return sumBy_1;hasRequiredSumBy=1;var Ye=require_baseIteratee(),rt=require_baseSum();function it(lt,ct){return lt&&lt.length?rt(lt,Ye(ct,2)):0}return sumBy_1=it,sumBy_1}var sumByExports=requireSumBy();const sumBy=getDefaultExportFromCjs(sumByExports);function parseDiff(Ye,rt){const it=parsePatchFiles(Ye),lt=[];for(const ct of it)for(const ut of ct.files)try{const{oldPath:ht,newPath:ft}=getPaths(ut),pt=ut.hunks,mt=sumBy(pt,_t=>_t.additionLines??0),gt=sumBy(pt,_t=>_t.deletedLines??_t.deletionLines??0),yt=pt.find(_t=>(_t.additionCount??0)>0)?.additionStart,xt=pt.find(_t=>(_t.deletedCount??_t.deletionCount??0)>0),bt=xt?.deletedStart??xt?.deletionStart;lt.push({metadata:ut,oldPath:ht,newPath:ft,additions:mt,deletions:gt,firstAdditionLine:yt,firstDeletionLine:bt,isBinary:pt.some(_t=>{const Ct=_t.hunkContent;return Ct?Ct.some(kt=>typeof kt=="string"&&kt.startsWith("GIT binary patch")):!1})})}catch(ht){logger.error(`Failed to parse diff for ${ut.name}: ${ht instanceof Error?ht.message:String(ht)}`)}return lt}function getPaths(Ye){const rt=Ye.prevName??Ye.name,it=Ye.name,lt=Ye.type==="new"?NULL_FILE:Ye.prevName??Ye.name,ct=Ye.type==="deleted"?NULL_FILE:Ye.name;return{oldPath:lt,newPath:ct,headerOldPath:rt,headerNewPath:it}}function getLocalConversationTitle(Ye){if(!Ye)return null;const it=(Ye.turns[0]?.params?.items??[]).filter(ct=>ct.type==="text"&&typeof ct.data?.text=="string").map(ct=>ct.data.text).join("");return extractPromptRequest(it)||null}function mapMcpToolCallResult(Ye){return Ye?"Err"in Ye?{type:"error",error:Ye.Err}:Ye.Ok.isError?{type:"error",error:extractTextFromContent(Ye.Ok.content)??""}:{type:"success",content:Ye.Ok.content.map(mapContentBlock),structuredContent:Ye.Ok.structuredContent,raw:Ye.Ok}:null}function mapContentBlock(Ye){const rt=getBlockType(Ye);switch(rt){case"text":return{...Ye,type:"text"};case"image":return{...Ye,type:"image"};case"audio":return{...Ye,type:"audio"};case"resource_link":return{...Ye,type:"resource_link"};case"embedded_resource":return{...Ye,type:"embedded_resource"};default:return{...Ye,type:rt}}}function getBlockType(Ye){const rt=Ye.type;return typeof rt=="string"?rt:""}function extractTextFromContent(Ye){const rt=Ye.map(it=>getBlockType(it)==="text"?it.text??"":"").map(it=>it.trim()).filter(it=>it.length>0);return rt.length===0?null:rt.join(`

`)}function addStatusToParsedCmd(Ye,rt){return{...Ye,isFinished:rt}}function $constructor(Ye,rt,it){function lt(ft,pt){var mt;Object.defineProperty(ft,"_zod",{value:ft._zod??{},enumerable:!1}),(mt=ft._zod).traits??(mt.traits=new Set),ft._zod.traits.add(Ye),rt(ft,pt);for(const gt in ht.prototype)gt in ft||Object.defineProperty(ft,gt,{value:ht.prototype[gt].bind(ft)});ft._zod.constr=ht,ft._zod.def=pt}const ct=it?.Parent??Object;class ut extends ct{}Object.defineProperty(ut,"name",{value:Ye});function ht(ft){var pt;const mt=it?.Parent?new ut:this;lt(mt,ft),(pt=mt._zod).deferred??(pt.deferred=[]);for(const gt of mt._zod.deferred)gt();return mt}return Object.defineProperty(ht,"init",{value:lt}),Object.defineProperty(ht,Symbol.hasInstance,{value:ft=>it?.Parent&&ft instanceof it.Parent?!0:ft?._zod?.traits?.has(Ye)}),Object.defineProperty(ht,"name",{value:Ye}),ht}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(rt){super(`Encountered unidirectional transform during encode: ${rt}`),this.name="ZodEncodeError"}}const globalConfig={};function config$1(Ye){return globalConfig}function getEnumValues(Ye){const rt=Object.values(Ye).filter(lt=>typeof lt=="number");return Object.entries(Ye).filter(([lt,ct])=>rt.indexOf(+lt)===-1).map(([lt,ct])=>ct)}function jsonStringifyReplacer(Ye,rt){return typeof rt=="bigint"?rt.toString():rt}function cached(Ye){return{get value(){{const rt=Ye();return Object.defineProperty(this,"value",{value:rt}),rt}}}}function nullish(Ye){return Ye==null}function cleanRegex(Ye){const rt=Ye.startsWith("^")?1:0,it=Ye.endsWith("$")?Ye.length-1:Ye.length;return Ye.slice(rt,it)}function floatSafeRemainder(Ye,rt){const it=(Ye.toString().split(".")[1]||"").length,lt=rt.toString();let ct=(lt.split(".")[1]||"").length;if(ct===0&&/\d?e-\d?/.test(lt)){const pt=lt.match(/\d?e-(\d?)/);pt?.[1]&&(ct=Number.parseInt(pt[1]))}const ut=it>ct?it:ct,ht=Number.parseInt(Ye.toFixed(ut).replace(".","")),ft=Number.parseInt(rt.toFixed(ut).replace(".",""));return ht%ft/10**ut}const EVALUATING=Symbol("evaluating");function defineLazy(Ye,rt,it){let lt;Object.defineProperty(Ye,rt,{get(){if(lt!==EVALUATING)return lt===void 0&&(lt=EVALUATING,lt=it()),lt},set(ct){Object.defineProperty(Ye,rt,{value:ct})},configurable:!0})}function assignProp(Ye,rt,it){Object.defineProperty(Ye,rt,{value:it,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...Ye){const rt={};for(const it of Ye){const lt=Object.getOwnPropertyDescriptors(it);Object.assign(rt,lt)}return Object.defineProperties({},rt)}function esc(Ye){return JSON.stringify(Ye)}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...Ye)=>{};function isObject$4(Ye){return typeof Ye=="object"&&Ye!==null&&!Array.isArray(Ye)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const Ye=Function;return new Ye(""),!0}catch{return!1}});function isPlainObject$2(Ye){if(isObject$4(Ye)===!1)return!1;const rt=Ye.constructor;if(rt===void 0)return!0;const it=rt.prototype;return!(isObject$4(it)===!1||Object.prototype.hasOwnProperty.call(it,"isPrototypeOf")===!1)}function shallowClone(Ye){return isPlainObject$2(Ye)?{...Ye}:Array.isArray(Ye)?[...Ye]:Ye}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(Ye){return Ye.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone$1(Ye,rt,it){const lt=new Ye._zod.constr(rt??Ye._zod.def);return(!rt||it?.parent)&&(lt._zod.parent=Ye),lt}function normalizeParams(Ye){const rt=Ye;if(!rt)return{};if(typeof rt=="string")return{error:()=>rt};if(rt?.message!==void 0){if(rt?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");rt.error=rt.message}return delete rt.message,typeof rt.error=="string"?{...rt,error:()=>rt.error}:rt}function optionalKeys(Ye){return Object.keys(Ye).filter(rt=>Ye[rt]._zod.optin==="optional"&&Ye[rt]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick$1(Ye,rt){const it=Ye._zod.def,lt=mergeDefs(Ye._zod.def,{get shape(){const ct={};for(const ut in rt){if(!(ut in it.shape))throw new Error(`Unrecognized key: "${ut}"`);rt[ut]&&(ct[ut]=it.shape[ut])}return assignProp(this,"shape",ct),ct},checks:[]});return clone$1(Ye,lt)}function omit(Ye,rt){const it=Ye._zod.def,lt=mergeDefs(Ye._zod.def,{get shape(){const ct={...Ye._zod.def.shape};for(const ut in rt){if(!(ut in it.shape))throw new Error(`Unrecognized key: "${ut}"`);rt[ut]&&delete ct[ut]}return assignProp(this,"shape",ct),ct},checks:[]});return clone$1(Ye,lt)}function extend$4(Ye,rt){if(!isPlainObject$2(rt))throw new Error("Invalid input to extend: expected a plain object");const it=Ye._zod.def.checks;if(it&&it.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const ct=mergeDefs(Ye._zod.def,{get shape(){const ut={...Ye._zod.def.shape,...rt};return assignProp(this,"shape",ut),ut},checks:[]});return clone$1(Ye,ct)}function safeExtend(Ye,rt){if(!isPlainObject$2(rt))throw new Error("Invalid input to safeExtend: expected a plain object");const it={...Ye._zod.def,get shape(){const lt={...Ye._zod.def.shape,...rt};return assignProp(this,"shape",lt),lt},checks:Ye._zod.def.checks};return clone$1(Ye,it)}function merge$3(Ye,rt){const it=mergeDefs(Ye._zod.def,{get shape(){const lt={...Ye._zod.def.shape,...rt._zod.def.shape};return assignProp(this,"shape",lt),lt},get catchall(){return rt._zod.def.catchall},checks:[]});return clone$1(Ye,it)}function partial(Ye,rt,it){const lt=mergeDefs(rt._zod.def,{get shape(){const ct=rt._zod.def.shape,ut={...ct};if(it)for(const ht in it){if(!(ht in ct))throw new Error(`Unrecognized key: "${ht}"`);it[ht]&&(ut[ht]=Ye?new Ye({type:"optional",innerType:ct[ht]}):ct[ht])}else for(const ht in ct)ut[ht]=Ye?new Ye({type:"optional",innerType:ct[ht]}):ct[ht];return assignProp(this,"shape",ut),ut},checks:[]});return clone$1(rt,lt)}function required(Ye,rt,it){const lt=mergeDefs(rt._zod.def,{get shape(){const ct=rt._zod.def.shape,ut={...ct};if(it)for(const ht in it){if(!(ht in ut))throw new Error(`Unrecognized key: "${ht}"`);it[ht]&&(ut[ht]=new Ye({type:"nonoptional",innerType:ct[ht]}))}else for(const ht in ct)ut[ht]=new Ye({type:"nonoptional",innerType:ct[ht]});return assignProp(this,"shape",ut),ut},checks:[]});return clone$1(rt,lt)}function aborted(Ye,rt=0){if(Ye.aborted===!0)return!0;for(let it=rt;it<Ye.issues.length;it++)if(Ye.issues[it]?.continue!==!0)return!0;return!1}function prefixIssues(Ye,rt){return rt.map(it=>{var lt;return(lt=it).path??(lt.path=[]),it.path.unshift(Ye),it})}function unwrapMessage(Ye){return typeof Ye=="string"?Ye:Ye?.message}function finalizeIssue(Ye,rt,it){const lt={...Ye,path:Ye.path??[]};if(!Ye.message){const ct=unwrapMessage(Ye.inst?._zod.def?.error?.(Ye))??unwrapMessage(rt?.error?.(Ye))??unwrapMessage(it.customError?.(Ye))??unwrapMessage(it.localeError?.(Ye))??"Invalid input";lt.message=ct}return delete lt.inst,delete lt.continue,rt?.reportInput||delete lt.input,lt}function getLengthableOrigin(Ye){return Array.isArray(Ye)?"array":typeof Ye=="string"?"string":"unknown"}function issue(...Ye){const[rt,it,lt]=Ye;return typeof rt=="string"?{message:rt,code:"custom",input:it,inst:lt}:{...rt}}const initializer$1=(Ye,rt)=>{Ye.name="$ZodError",Object.defineProperty(Ye,"_zod",{value:Ye._zod,enumerable:!1}),Object.defineProperty(Ye,"issues",{value:rt,enumerable:!1}),Ye.message=JSON.stringify(rt,jsonStringifyReplacer,2),Object.defineProperty(Ye,"toString",{value:()=>Ye.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$1),$ZodRealError=$constructor("$ZodError",initializer$1,{Parent:Error});function flattenError(Ye,rt=it=>it.message){const it={},lt=[];for(const ct of Ye.issues)ct.path.length>0?(it[ct.path[0]]=it[ct.path[0]]||[],it[ct.path[0]].push(rt(ct))):lt.push(rt(ct));return{formErrors:lt,fieldErrors:it}}function formatError$1(Ye,rt){const it=rt||function(ut){return ut.message},lt={_errors:[]},ct=ut=>{for(const ht of ut.issues)if(ht.code==="invalid_union"&&ht.errors.length)ht.errors.map(ft=>ct({issues:ft}));else if(ht.code==="invalid_key")ct({issues:ht.issues});else if(ht.code==="invalid_element")ct({issues:ht.issues});else if(ht.path.length===0)lt._errors.push(it(ht));else{let ft=lt,pt=0;for(;pt<ht.path.length;){const mt=ht.path[pt];pt===ht.path.length-1?(ft[mt]=ft[mt]||{_errors:[]},ft[mt]._errors.push(it(ht))):ft[mt]=ft[mt]||{_errors:[]},ft=ft[mt],pt++}}};return ct(Ye),lt}const _parse=Ye=>(rt,it,lt,ct)=>{const ut=lt?Object.assign(lt,{async:!1}):{async:!1},ht=rt._zod.run({value:it,issues:[]},ut);if(ht instanceof Promise)throw new $ZodAsyncError;if(ht.issues.length){const ft=new(ct?.Err??Ye)(ht.issues.map(pt=>finalizeIssue(pt,ut,config$1())));throw captureStackTrace(ft,ct?.callee),ft}return ht.value},_parseAsync=Ye=>async(rt,it,lt,ct)=>{const ut=lt?Object.assign(lt,{async:!0}):{async:!0};let ht=rt._zod.run({value:it,issues:[]},ut);if(ht instanceof Promise&&(ht=await ht),ht.issues.length){const ft=new(ct?.Err??Ye)(ht.issues.map(pt=>finalizeIssue(pt,ut,config$1())));throw captureStackTrace(ft,ct?.callee),ft}return ht.value},_safeParse=Ye=>(rt,it,lt)=>{const ct=lt?{...lt,async:!1}:{async:!1},ut=rt._zod.run({value:it,issues:[]},ct);if(ut instanceof Promise)throw new $ZodAsyncError;return ut.issues.length?{success:!1,error:new(Ye??$ZodError)(ut.issues.map(ht=>finalizeIssue(ht,ct,config$1())))}:{success:!0,data:ut.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=Ye=>async(rt,it,lt)=>{const ct=lt?Object.assign(lt,{async:!0}):{async:!0};let ut=rt._zod.run({value:it,issues:[]},ct);return ut instanceof Promise&&(ut=await ut),ut.issues.length?{success:!1,error:new Ye(ut.issues.map(ht=>finalizeIssue(ht,ct,config$1())))}:{success:!0,data:ut.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=Ye=>(rt,it,lt)=>{const ct=lt?Object.assign(lt,{direction:"backward"}):{direction:"backward"};return _parse(Ye)(rt,it,ct)},_decode=Ye=>(rt,it,lt)=>_parse(Ye)(rt,it,lt),_encodeAsync=Ye=>async(rt,it,lt)=>{const ct=lt?Object.assign(lt,{direction:"backward"}):{direction:"backward"};return _parseAsync(Ye)(rt,it,ct)},_decodeAsync=Ye=>async(rt,it,lt)=>_parseAsync(Ye)(rt,it,lt),_safeEncode=Ye=>(rt,it,lt)=>{const ct=lt?Object.assign(lt,{direction:"backward"}):{direction:"backward"};return _safeParse(Ye)(rt,it,ct)},_safeDecode=Ye=>(rt,it,lt)=>_safeParse(Ye)(rt,it,lt),_safeEncodeAsync=Ye=>async(rt,it,lt)=>{const ct=lt?Object.assign(lt,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(Ye)(rt,it,ct)},_safeDecodeAsync=Ye=>async(rt,it,lt)=>_safeParseAsync(Ye)(rt,it,lt),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=Ye=>Ye?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${Ye}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,hostname=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,e164=/^\+(?:[0-9]){6,14}[0-9]$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$1=new RegExp(`^${dateSource}$`);function timeSource(Ye){const rt="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof Ye.precision=="number"?Ye.precision===-1?`${rt}`:Ye.precision===0?`${rt}:[0-5]\\d`:`${rt}:[0-5]\\d\\.\\d{${Ye.precision}}`:`${rt}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$1(Ye){return new RegExp(`^${timeSource(Ye)}$`)}function datetime$1(Ye){const rt=timeSource({precision:Ye.precision}),it=["Z"];Ye.local&&it.push(""),Ye.offset&&it.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const lt=`${rt}(?:${it.join("|")})`;return new RegExp(`^${dateSource}T(?:${lt})$`)}const string$3=Ye=>{const rt=Ye?`[\\s\\S]{${Ye?.minimum??0},${Ye?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${rt}$`)},integer=/^-?\d+$/,number$1=/^-?\d+(?:\.\d+)?/,lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(Ye,rt)=>{var it;Ye._zod??(Ye._zod={}),Ye._zod.def=rt,(it=Ye._zod).onattach??(it.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(Ye,rt)=>{$ZodCheck.init(Ye,rt);const it=numericOriginMap[typeof rt.value];Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag,ut=(rt.inclusive?ct.maximum:ct.exclusiveMaximum)??Number.POSITIVE_INFINITY;rt.value<ut&&(rt.inclusive?ct.maximum=rt.value:ct.exclusiveMaximum=rt.value)}),Ye._zod.check=lt=>{(rt.inclusive?lt.value<=rt.value:lt.value<rt.value)||lt.issues.push({origin:it,code:"too_big",maximum:rt.value,input:lt.value,inclusive:rt.inclusive,inst:Ye,continue:!rt.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(Ye,rt)=>{$ZodCheck.init(Ye,rt);const it=numericOriginMap[typeof rt.value];Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag,ut=(rt.inclusive?ct.minimum:ct.exclusiveMinimum)??Number.NEGATIVE_INFINITY;rt.value>ut&&(rt.inclusive?ct.minimum=rt.value:ct.exclusiveMinimum=rt.value)}),Ye._zod.check=lt=>{(rt.inclusive?lt.value>=rt.value:lt.value>rt.value)||lt.issues.push({origin:it,code:"too_small",minimum:rt.value,input:lt.value,inclusive:rt.inclusive,inst:Ye,continue:!rt.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(Ye,rt)=>{$ZodCheck.init(Ye,rt),Ye._zod.onattach.push(it=>{var lt;(lt=it._zod.bag).multipleOf??(lt.multipleOf=rt.value)}),Ye._zod.check=it=>{if(typeof it.value!=typeof rt.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof it.value=="bigint"?it.value%rt.value===BigInt(0):floatSafeRemainder(it.value,rt.value)===0)||it.issues.push({origin:typeof it.value,code:"not_multiple_of",divisor:rt.value,input:it.value,inst:Ye,continue:!rt.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(Ye,rt)=>{$ZodCheck.init(Ye,rt),rt.format=rt.format||"float64";const it=rt.format?.includes("int"),lt=it?"int":"number",[ct,ut]=NUMBER_FORMAT_RANGES[rt.format];Ye._zod.onattach.push(ht=>{const ft=ht._zod.bag;ft.format=rt.format,ft.minimum=ct,ft.maximum=ut,it&&(ft.pattern=integer)}),Ye._zod.check=ht=>{const ft=ht.value;if(it){if(!Number.isInteger(ft)){ht.issues.push({expected:lt,format:rt.format,code:"invalid_type",continue:!1,input:ft,inst:Ye});return}if(!Number.isSafeInteger(ft)){ft>0?ht.issues.push({input:ft,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Ye,origin:lt,continue:!rt.abort}):ht.issues.push({input:ft,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Ye,origin:lt,continue:!rt.abort});return}}ft<ct&&ht.issues.push({origin:"number",input:ft,code:"too_small",minimum:ct,inclusive:!0,inst:Ye,continue:!rt.abort}),ft>ut&&ht.issues.push({origin:"number",input:ft,code:"too_big",maximum:ut,inst:Ye})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(Ye,rt)=>{var it;$ZodCheck.init(Ye,rt),(it=Ye._zod.def).when??(it.when=lt=>{const ct=lt.value;return!nullish(ct)&&ct.length!==void 0}),Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag.maximum??Number.POSITIVE_INFINITY;rt.maximum<ct&&(lt._zod.bag.maximum=rt.maximum)}),Ye._zod.check=lt=>{const ct=lt.value;if(ct.length<=rt.maximum)return;const ht=getLengthableOrigin(ct);lt.issues.push({origin:ht,code:"too_big",maximum:rt.maximum,inclusive:!0,input:ct,inst:Ye,continue:!rt.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(Ye,rt)=>{var it;$ZodCheck.init(Ye,rt),(it=Ye._zod.def).when??(it.when=lt=>{const ct=lt.value;return!nullish(ct)&&ct.length!==void 0}),Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag.minimum??Number.NEGATIVE_INFINITY;rt.minimum>ct&&(lt._zod.bag.minimum=rt.minimum)}),Ye._zod.check=lt=>{const ct=lt.value;if(ct.length>=rt.minimum)return;const ht=getLengthableOrigin(ct);lt.issues.push({origin:ht,code:"too_small",minimum:rt.minimum,inclusive:!0,input:ct,inst:Ye,continue:!rt.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(Ye,rt)=>{var it;$ZodCheck.init(Ye,rt),(it=Ye._zod.def).when??(it.when=lt=>{const ct=lt.value;return!nullish(ct)&&ct.length!==void 0}),Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag;ct.minimum=rt.length,ct.maximum=rt.length,ct.length=rt.length}),Ye._zod.check=lt=>{const ct=lt.value,ut=ct.length;if(ut===rt.length)return;const ht=getLengthableOrigin(ct),ft=ut>rt.length;lt.issues.push({origin:ht,...ft?{code:"too_big",maximum:rt.length}:{code:"too_small",minimum:rt.length},inclusive:!0,exact:!0,input:lt.value,inst:Ye,continue:!rt.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(Ye,rt)=>{var it,lt;$ZodCheck.init(Ye,rt),Ye._zod.onattach.push(ct=>{const ut=ct._zod.bag;ut.format=rt.format,rt.pattern&&(ut.patterns??(ut.patterns=new Set),ut.patterns.add(rt.pattern))}),rt.pattern?(it=Ye._zod).check??(it.check=ct=>{rt.pattern.lastIndex=0,!rt.pattern.test(ct.value)&&ct.issues.push({origin:"string",code:"invalid_format",format:rt.format,input:ct.value,...rt.pattern?{pattern:rt.pattern.toString()}:{},inst:Ye,continue:!rt.abort})}):(lt=Ye._zod).check??(lt.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(Ye,rt)=>{$ZodCheckStringFormat.init(Ye,rt),Ye._zod.check=it=>{rt.pattern.lastIndex=0,!rt.pattern.test(it.value)&&it.issues.push({origin:"string",code:"invalid_format",format:"regex",input:it.value,pattern:rt.pattern.toString(),inst:Ye,continue:!rt.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(Ye,rt)=>{rt.pattern??(rt.pattern=lowercase),$ZodCheckStringFormat.init(Ye,rt)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(Ye,rt)=>{rt.pattern??(rt.pattern=uppercase),$ZodCheckStringFormat.init(Ye,rt)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(Ye,rt)=>{$ZodCheck.init(Ye,rt);const it=escapeRegex(rt.includes),lt=new RegExp(typeof rt.position=="number"?`^.{${rt.position}}${it}`:it);rt.pattern=lt,Ye._zod.onattach.push(ct=>{const ut=ct._zod.bag;ut.patterns??(ut.patterns=new Set),ut.patterns.add(lt)}),Ye._zod.check=ct=>{ct.value.includes(rt.includes,rt.position)||ct.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:rt.includes,input:ct.value,inst:Ye,continue:!rt.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(Ye,rt)=>{$ZodCheck.init(Ye,rt);const it=new RegExp(`^${escapeRegex(rt.prefix)}.*`);rt.pattern??(rt.pattern=it),Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag;ct.patterns??(ct.patterns=new Set),ct.patterns.add(it)}),Ye._zod.check=lt=>{lt.value.startsWith(rt.prefix)||lt.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:rt.prefix,input:lt.value,inst:Ye,continue:!rt.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(Ye,rt)=>{$ZodCheck.init(Ye,rt);const it=new RegExp(`.*${escapeRegex(rt.suffix)}$`);rt.pattern??(rt.pattern=it),Ye._zod.onattach.push(lt=>{const ct=lt._zod.bag;ct.patterns??(ct.patterns=new Set),ct.patterns.add(it)}),Ye._zod.check=lt=>{lt.value.endsWith(rt.suffix)||lt.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:rt.suffix,input:lt.value,inst:Ye,continue:!rt.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(Ye,rt)=>{$ZodCheck.init(Ye,rt),Ye._zod.check=it=>{it.value=rt.tx(it.value)}});class Doc{constructor(rt=[]){this.content=[],this.indent=0,this&&(this.args=rt)}indented(rt){this.indent+=1,rt(this),this.indent-=1}write(rt){if(typeof rt=="function"){rt(this,{execution:"sync"}),rt(this,{execution:"async"});return}const lt=rt.split(`
`).filter(ht=>ht),ct=Math.min(...lt.map(ht=>ht.length-ht.trimStart().length)),ut=lt.map(ht=>ht.slice(ct)).map(ht=>" ".repeat(this.indent*2)+ht);for(const ht of ut)this.content.push(ht)}compile(){const rt=Function,it=this?.args,ct=[...(this?.content??[""]).map(ut=>`  ${ut}`)];return new rt(...it,ct.join(`
`))}}const version={major:4,minor:1,patch:11},$ZodType=$constructor("$ZodType",(Ye,rt)=>{var it;Ye??(Ye={}),Ye._zod.def=rt,Ye._zod.bag=Ye._zod.bag||{},Ye._zod.version=version;const lt=[...Ye._zod.def.checks??[]];Ye._zod.traits.has("$ZodCheck")&&lt.unshift(Ye);for(const ct of lt)for(const ut of ct._zod.onattach)ut(Ye);if(lt.length===0)(it=Ye._zod).deferred??(it.deferred=[]),Ye._zod.deferred?.push(()=>{Ye._zod.run=Ye._zod.parse});else{const ct=(ht,ft,pt)=>{let mt=aborted(ht),gt;for(const yt of ft){if(yt._zod.def.when){if(!yt._zod.def.when(ht))continue}else if(mt)continue;const xt=ht.issues.length,bt=yt._zod.check(ht);if(bt instanceof Promise&&pt?.async===!1)throw new $ZodAsyncError;if(gt||bt instanceof Promise)gt=(gt??Promise.resolve()).then(async()=>{await bt,ht.issues.length!==xt&&(mt||(mt=aborted(ht,xt)))});else{if(ht.issues.length===xt)continue;mt||(mt=aborted(ht,xt))}}return gt?gt.then(()=>ht):ht},ut=(ht,ft,pt)=>{if(aborted(ht))return ht.aborted=!0,ht;const mt=ct(ft,lt,pt);if(mt instanceof Promise){if(pt.async===!1)throw new $ZodAsyncError;return mt.then(gt=>Ye._zod.parse(gt,pt))}return Ye._zod.parse(mt,pt)};Ye._zod.run=(ht,ft)=>{if(ft.skipChecks)return Ye._zod.parse(ht,ft);if(ft.direction==="backward"){const mt=Ye._zod.parse({value:ht.value,issues:[]},{...ft,skipChecks:!0});return mt instanceof Promise?mt.then(gt=>ut(gt,ht,ft)):ut(mt,ht,ft)}const pt=Ye._zod.parse(ht,ft);if(pt instanceof Promise){if(ft.async===!1)throw new $ZodAsyncError;return pt.then(mt=>ct(mt,lt,ft))}return ct(pt,lt,ft)}}Ye["~standard"]={validate:ct=>{try{const ut=safeParse$1(Ye,ct);return ut.success?{value:ut.data}:{issues:ut.error?.issues}}catch{return safeParseAsync$1(Ye,ct).then(ht=>ht.success?{value:ht.data}:{issues:ht.error?.issues})}},vendor:"zod",version:1}}),$ZodString=$constructor("$ZodString",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.pattern=[...Ye?._zod.bag?.patterns??[]].pop()??string$3(Ye._zod.bag),Ye._zod.parse=(it,lt)=>{if(rt.coerce)try{it.value=String(it.value)}catch{}return typeof it.value=="string"||it.issues.push({expected:"string",code:"invalid_type",input:it.value,inst:Ye}),it}}),$ZodStringFormat=$constructor("$ZodStringFormat",(Ye,rt)=>{$ZodCheckStringFormat.init(Ye,rt),$ZodString.init(Ye,rt)}),$ZodGUID=$constructor("$ZodGUID",(Ye,rt)=>{rt.pattern??(rt.pattern=guid),$ZodStringFormat.init(Ye,rt)}),$ZodUUID=$constructor("$ZodUUID",(Ye,rt)=>{if(rt.version){const lt={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[rt.version];if(lt===void 0)throw new Error(`Invalid UUID version: "${rt.version}"`);rt.pattern??(rt.pattern=uuid(lt))}else rt.pattern??(rt.pattern=uuid());$ZodStringFormat.init(Ye,rt)}),$ZodEmail=$constructor("$ZodEmail",(Ye,rt)=>{rt.pattern??(rt.pattern=email),$ZodStringFormat.init(Ye,rt)}),$ZodURL=$constructor("$ZodURL",(Ye,rt)=>{$ZodStringFormat.init(Ye,rt),Ye._zod.check=it=>{try{const lt=it.value.trim(),ct=new URL(lt);rt.hostname&&(rt.hostname.lastIndex=0,rt.hostname.test(ct.hostname)||it.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:hostname.source,input:it.value,inst:Ye,continue:!rt.abort})),rt.protocol&&(rt.protocol.lastIndex=0,rt.protocol.test(ct.protocol.endsWith(":")?ct.protocol.slice(0,-1):ct.protocol)||it.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:rt.protocol.source,input:it.value,inst:Ye,continue:!rt.abort})),rt.normalize?it.value=ct.href:it.value=lt;return}catch{it.issues.push({code:"invalid_format",format:"url",input:it.value,inst:Ye,continue:!rt.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(Ye,rt)=>{rt.pattern??(rt.pattern=emoji()),$ZodStringFormat.init(Ye,rt)}),$ZodNanoID=$constructor("$ZodNanoID",(Ye,rt)=>{rt.pattern??(rt.pattern=nanoid),$ZodStringFormat.init(Ye,rt)}),$ZodCUID=$constructor("$ZodCUID",(Ye,rt)=>{rt.pattern??(rt.pattern=cuid),$ZodStringFormat.init(Ye,rt)}),$ZodCUID2=$constructor("$ZodCUID2",(Ye,rt)=>{rt.pattern??(rt.pattern=cuid2),$ZodStringFormat.init(Ye,rt)}),$ZodULID=$constructor("$ZodULID",(Ye,rt)=>{rt.pattern??(rt.pattern=ulid),$ZodStringFormat.init(Ye,rt)}),$ZodXID=$constructor("$ZodXID",(Ye,rt)=>{rt.pattern??(rt.pattern=xid),$ZodStringFormat.init(Ye,rt)}),$ZodKSUID=$constructor("$ZodKSUID",(Ye,rt)=>{rt.pattern??(rt.pattern=ksuid),$ZodStringFormat.init(Ye,rt)}),$ZodISODateTime=$constructor("$ZodISODateTime",(Ye,rt)=>{rt.pattern??(rt.pattern=datetime$1(rt)),$ZodStringFormat.init(Ye,rt)}),$ZodISODate=$constructor("$ZodISODate",(Ye,rt)=>{rt.pattern??(rt.pattern=date$1),$ZodStringFormat.init(Ye,rt)}),$ZodISOTime=$constructor("$ZodISOTime",(Ye,rt)=>{rt.pattern??(rt.pattern=time$1(rt)),$ZodStringFormat.init(Ye,rt)}),$ZodISODuration=$constructor("$ZodISODuration",(Ye,rt)=>{rt.pattern??(rt.pattern=duration$1),$ZodStringFormat.init(Ye,rt)}),$ZodIPv4=$constructor("$ZodIPv4",(Ye,rt)=>{rt.pattern??(rt.pattern=ipv4),$ZodStringFormat.init(Ye,rt),Ye._zod.onattach.push(it=>{const lt=it._zod.bag;lt.format="ipv4"})}),$ZodIPv6=$constructor("$ZodIPv6",(Ye,rt)=>{rt.pattern??(rt.pattern=ipv6),$ZodStringFormat.init(Ye,rt),Ye._zod.onattach.push(it=>{const lt=it._zod.bag;lt.format="ipv6"}),Ye._zod.check=it=>{try{new URL(`http://[${it.value}]`)}catch{it.issues.push({code:"invalid_format",format:"ipv6",input:it.value,inst:Ye,continue:!rt.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(Ye,rt)=>{rt.pattern??(rt.pattern=cidrv4),$ZodStringFormat.init(Ye,rt)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(Ye,rt)=>{rt.pattern??(rt.pattern=cidrv6),$ZodStringFormat.init(Ye,rt),Ye._zod.check=it=>{const lt=it.value.split("/");try{if(lt.length!==2)throw new Error;const[ct,ut]=lt;if(!ut)throw new Error;const ht=Number(ut);if(`${ht}`!==ut)throw new Error;if(ht<0||ht>128)throw new Error;new URL(`http://[${ct}]`)}catch{it.issues.push({code:"invalid_format",format:"cidrv6",input:it.value,inst:Ye,continue:!rt.abort})}}});function isValidBase64(Ye){if(Ye==="")return!0;if(Ye.length%4!==0)return!1;try{return atob(Ye),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(Ye,rt)=>{rt.pattern??(rt.pattern=base64),$ZodStringFormat.init(Ye,rt),Ye._zod.onattach.push(it=>{it._zod.bag.contentEncoding="base64"}),Ye._zod.check=it=>{isValidBase64(it.value)||it.issues.push({code:"invalid_format",format:"base64",input:it.value,inst:Ye,continue:!rt.abort})}});function isValidBase64URL(Ye){if(!base64url.test(Ye))return!1;const rt=Ye.replace(/[-_]/g,lt=>lt==="-"?"+":"/"),it=rt.padEnd(Math.ceil(rt.length/4)*4,"=");return isValidBase64(it)}const $ZodBase64URL=$constructor("$ZodBase64URL",(Ye,rt)=>{rt.pattern??(rt.pattern=base64url),$ZodStringFormat.init(Ye,rt),Ye._zod.onattach.push(it=>{it._zod.bag.contentEncoding="base64url"}),Ye._zod.check=it=>{isValidBase64URL(it.value)||it.issues.push({code:"invalid_format",format:"base64url",input:it.value,inst:Ye,continue:!rt.abort})}}),$ZodE164=$constructor("$ZodE164",(Ye,rt)=>{rt.pattern??(rt.pattern=e164),$ZodStringFormat.init(Ye,rt)});function isValidJWT(Ye,rt=null){try{const it=Ye.split(".");if(it.length!==3)return!1;const[lt]=it;if(!lt)return!1;const ct=JSON.parse(atob(lt));return!("typ"in ct&&ct?.typ!=="JWT"||!ct.alg||rt&&(!("alg"in ct)||ct.alg!==rt))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(Ye,rt)=>{$ZodStringFormat.init(Ye,rt),Ye._zod.check=it=>{isValidJWT(it.value,rt.alg)||it.issues.push({code:"invalid_format",format:"jwt",input:it.value,inst:Ye,continue:!rt.abort})}}),$ZodNumber=$constructor("$ZodNumber",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.pattern=Ye._zod.bag.pattern??number$1,Ye._zod.parse=(it,lt)=>{if(rt.coerce)try{it.value=Number(it.value)}catch{}const ct=it.value;if(typeof ct=="number"&&!Number.isNaN(ct)&&Number.isFinite(ct))return it;const ut=typeof ct=="number"?Number.isNaN(ct)?"NaN":Number.isFinite(ct)?void 0:"Infinity":void 0;return it.issues.push({expected:"number",code:"invalid_type",input:ct,inst:Ye,...ut?{received:ut}:{}}),it}}),$ZodNumberFormat=$constructor("$ZodNumber",(Ye,rt)=>{$ZodCheckNumberFormat.init(Ye,rt),$ZodNumber.init(Ye,rt)}),$ZodUnknown=$constructor("$ZodUnknown",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.parse=it=>it}),$ZodNever=$constructor("$ZodNever",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>(it.issues.push({expected:"never",code:"invalid_type",input:it.value,inst:Ye}),it)});function handleArrayResult(Ye,rt,it){Ye.issues.length&&rt.issues.push(...prefixIssues(it,Ye.issues)),rt.value[it]=Ye.value}const $ZodArray=$constructor("$ZodArray",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>{const ct=it.value;if(!Array.isArray(ct))return it.issues.push({expected:"array",code:"invalid_type",input:ct,inst:Ye}),it;it.value=Array(ct.length);const ut=[];for(let ht=0;ht<ct.length;ht++){const ft=ct[ht],pt=rt.element._zod.run({value:ft,issues:[]},lt);pt instanceof Promise?ut.push(pt.then(mt=>handleArrayResult(mt,it,ht))):handleArrayResult(pt,it,ht)}return ut.length?Promise.all(ut).then(()=>it):it}});function handlePropertyResult(Ye,rt,it,lt){Ye.issues.length&&rt.issues.push(...prefixIssues(it,Ye.issues)),Ye.value===void 0?it in lt&&(rt.value[it]=void 0):rt.value[it]=Ye.value}function normalizeDef(Ye){const rt=Object.keys(Ye.shape);for(const lt of rt)if(!Ye.shape?.[lt]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${lt}": expected a Zod schema`);const it=optionalKeys(Ye.shape);return{...Ye,keys:rt,keySet:new Set(rt),numKeys:rt.length,optionalKeys:new Set(it)}}function handleCatchall(Ye,rt,it,lt,ct,ut){const ht=[],ft=ct.keySet,pt=ct.catchall._zod,mt=pt.def.type;for(const gt of Object.keys(rt)){if(ft.has(gt))continue;if(mt==="never"){ht.push(gt);continue}const yt=pt.run({value:rt[gt],issues:[]},lt);yt instanceof Promise?Ye.push(yt.then(xt=>handlePropertyResult(xt,it,gt,rt))):handlePropertyResult(yt,it,gt,rt)}return ht.length&&it.issues.push({code:"unrecognized_keys",keys:ht,input:rt,inst:ut}),Ye.length?Promise.all(Ye).then(()=>it):it}const $ZodObject=$constructor("$ZodObject",(Ye,rt)=>{if($ZodType.init(Ye,rt),!Object.getOwnPropertyDescriptor(rt,"shape")?.get){const ft=rt.shape;Object.defineProperty(rt,"shape",{get:()=>{const pt={...ft};return Object.defineProperty(rt,"shape",{value:pt}),pt}})}const lt=cached(()=>normalizeDef(rt));defineLazy(Ye._zod,"propValues",()=>{const ft=rt.shape,pt={};for(const mt in ft){const gt=ft[mt]._zod;if(gt.values){pt[mt]??(pt[mt]=new Set);for(const yt of gt.values)pt[mt].add(yt)}}return pt});const ct=isObject$4,ut=rt.catchall;let ht;Ye._zod.parse=(ft,pt)=>{ht??(ht=lt.value);const mt=ft.value;if(!ct(mt))return ft.issues.push({expected:"object",code:"invalid_type",input:mt,inst:Ye}),ft;ft.value={};const gt=[],yt=ht.shape;for(const xt of ht.keys){const _t=yt[xt]._zod.run({value:mt[xt],issues:[]},pt);_t instanceof Promise?gt.push(_t.then(Ct=>handlePropertyResult(Ct,ft,xt,mt))):handlePropertyResult(_t,ft,xt,mt)}return ut?handleCatchall(gt,mt,ft,pt,lt.value,Ye):gt.length?Promise.all(gt).then(()=>ft):ft}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(Ye,rt)=>{$ZodObject.init(Ye,rt);const it=Ye._zod.parse,lt=cached(()=>normalizeDef(rt)),ct=xt=>{const bt=new Doc(["shape","payload","ctx"]),_t=lt.value,Ct=Tt=>{const Mt=esc(Tt);return`shape[${Mt}]._zod.run({ value: input[${Mt}], issues: [] }, ctx)`};bt.write("const input = payload.value;");const kt=Object.create(null);let St=0;for(const Tt of _t.keys)kt[Tt]=`key_${St++}`;bt.write("const newResult = {};");for(const Tt of _t.keys){const Mt=kt[Tt],Pt=esc(Tt);bt.write(`const ${Mt} = ${Ct(Tt)};`),bt.write(`
        if (${Mt}.issues.length) {
          payload.issues = payload.issues.concat(${Mt}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Pt}, ...iss.path] : [${Pt}]
          })));
        }
        
        
        if (${Mt}.value === undefined) {
          if (${Pt} in input) {
            newResult[${Pt}] = undefined;
          }
        } else {
          newResult[${Pt}] = ${Mt}.value;
        }
        
      `)}bt.write("payload.value = newResult;"),bt.write("return payload;");const Rt=bt.compile();return(Tt,Mt)=>Rt(xt,Tt,Mt)};let ut;const ht=isObject$4,ft=!globalConfig.jitless,mt=ft&&allowsEval.value,gt=rt.catchall;let yt;Ye._zod.parse=(xt,bt)=>{yt??(yt=lt.value);const _t=xt.value;return ht(_t)?ft&&mt&&bt?.async===!1&&bt.jitless!==!0?(ut||(ut=ct(rt.shape)),xt=ut(xt,bt),gt?handleCatchall([],_t,xt,bt,yt,Ye):xt):it(xt,bt):(xt.issues.push({expected:"object",code:"invalid_type",input:_t,inst:Ye}),xt)}});function handleUnionResults(Ye,rt,it,lt){for(const ut of Ye)if(ut.issues.length===0)return rt.value=ut.value,rt;const ct=Ye.filter(ut=>!aborted(ut));return ct.length===1?(rt.value=ct[0].value,ct[0]):(rt.issues.push({code:"invalid_union",input:rt.value,inst:it,errors:Ye.map(ut=>ut.issues.map(ht=>finalizeIssue(ht,lt,config$1())))}),rt)}const $ZodUnion=$constructor("$ZodUnion",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"optin",()=>rt.options.some(ct=>ct._zod.optin==="optional")?"optional":void 0),defineLazy(Ye._zod,"optout",()=>rt.options.some(ct=>ct._zod.optout==="optional")?"optional":void 0),defineLazy(Ye._zod,"values",()=>{if(rt.options.every(ct=>ct._zod.values))return new Set(rt.options.flatMap(ct=>Array.from(ct._zod.values)))}),defineLazy(Ye._zod,"pattern",()=>{if(rt.options.every(ct=>ct._zod.pattern)){const ct=rt.options.map(ut=>ut._zod.pattern);return new RegExp(`^(${ct.map(ut=>cleanRegex(ut.source)).join("|")})$`)}});const it=rt.options.length===1,lt=rt.options[0]._zod.run;Ye._zod.parse=(ct,ut)=>{if(it)return lt(ct,ut);let ht=!1;const ft=[];for(const pt of rt.options){const mt=pt._zod.run({value:ct.value,issues:[]},ut);if(mt instanceof Promise)ft.push(mt),ht=!0;else{if(mt.issues.length===0)return mt;ft.push(mt)}}return ht?Promise.all(ft).then(pt=>handleUnionResults(pt,ct,Ye,ut)):handleUnionResults(ft,ct,Ye,ut)}}),$ZodIntersection=$constructor("$ZodIntersection",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>{const ct=it.value,ut=rt.left._zod.run({value:ct,issues:[]},lt),ht=rt.right._zod.run({value:ct,issues:[]},lt);return ut instanceof Promise||ht instanceof Promise?Promise.all([ut,ht]).then(([pt,mt])=>handleIntersectionResults(it,pt,mt)):handleIntersectionResults(it,ut,ht)}});function mergeValues(Ye,rt){if(Ye===rt)return{valid:!0,data:Ye};if(Ye instanceof Date&&rt instanceof Date&&+Ye==+rt)return{valid:!0,data:Ye};if(isPlainObject$2(Ye)&&isPlainObject$2(rt)){const it=Object.keys(rt),lt=Object.keys(Ye).filter(ut=>it.indexOf(ut)!==-1),ct={...Ye,...rt};for(const ut of lt){const ht=mergeValues(Ye[ut],rt[ut]);if(!ht.valid)return{valid:!1,mergeErrorPath:[ut,...ht.mergeErrorPath]};ct[ut]=ht.data}return{valid:!0,data:ct}}if(Array.isArray(Ye)&&Array.isArray(rt)){if(Ye.length!==rt.length)return{valid:!1,mergeErrorPath:[]};const it=[];for(let lt=0;lt<Ye.length;lt++){const ct=Ye[lt],ut=rt[lt],ht=mergeValues(ct,ut);if(!ht.valid)return{valid:!1,mergeErrorPath:[lt,...ht.mergeErrorPath]};it.push(ht.data)}return{valid:!0,data:it}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(Ye,rt,it){if(rt.issues.length&&Ye.issues.push(...rt.issues),it.issues.length&&Ye.issues.push(...it.issues),aborted(Ye))return Ye;const lt=mergeValues(rt.value,it.value);if(!lt.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(lt.mergeErrorPath)}`);return Ye.value=lt.data,Ye}const $ZodEnum=$constructor("$ZodEnum",(Ye,rt)=>{$ZodType.init(Ye,rt);const it=getEnumValues(rt.entries),lt=new Set(it);Ye._zod.values=lt,Ye._zod.pattern=new RegExp(`^(${it.filter(ct=>propertyKeyTypes.has(typeof ct)).map(ct=>typeof ct=="string"?escapeRegex(ct):ct.toString()).join("|")})$`),Ye._zod.parse=(ct,ut)=>{const ht=ct.value;return lt.has(ht)||ct.issues.push({code:"invalid_value",values:it,input:ht,inst:Ye}),ct}}),$ZodTransform=$constructor("$ZodTransform",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward")throw new $ZodEncodeError(Ye.constructor.name);const ct=rt.transform(it.value,it);if(lt.async)return(ct instanceof Promise?ct:Promise.resolve(ct)).then(ht=>(it.value=ht,it));if(ct instanceof Promise)throw new $ZodAsyncError;return it.value=ct,it}});function handleOptionalResult(Ye,rt){return Ye.issues.length&&rt===void 0?{issues:[],value:void 0}:Ye}const $ZodOptional=$constructor("$ZodOptional",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.optin="optional",Ye._zod.optout="optional",defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values?new Set([...rt.innerType._zod.values,void 0]):void 0),defineLazy(Ye._zod,"pattern",()=>{const it=rt.innerType._zod.pattern;return it?new RegExp(`^(${cleanRegex(it.source)})?$`):void 0}),Ye._zod.parse=(it,lt)=>{if(rt.innerType._zod.optin==="optional"){const ct=rt.innerType._zod.run(it,lt);return ct instanceof Promise?ct.then(ut=>handleOptionalResult(ut,it.value)):handleOptionalResult(ct,it.value)}return it.value===void 0?it:rt.innerType._zod.run(it,lt)}}),$ZodNullable=$constructor("$ZodNullable",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"optin",()=>rt.innerType._zod.optin),defineLazy(Ye._zod,"optout",()=>rt.innerType._zod.optout),defineLazy(Ye._zod,"pattern",()=>{const it=rt.innerType._zod.pattern;return it?new RegExp(`^(${cleanRegex(it.source)}|null)$`):void 0}),defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values?new Set([...rt.innerType._zod.values,null]):void 0),Ye._zod.parse=(it,lt)=>it.value===null?it:rt.innerType._zod.run(it,lt)}),$ZodDefault=$constructor("$ZodDefault",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.optin="optional",defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward")return rt.innerType._zod.run(it,lt);if(it.value===void 0)return it.value=rt.defaultValue,it;const ct=rt.innerType._zod.run(it,lt);return ct instanceof Promise?ct.then(ut=>handleDefaultResult(ut,rt)):handleDefaultResult(ct,rt)}});function handleDefaultResult(Ye,rt){return Ye.value===void 0&&(Ye.value=rt.defaultValue),Ye}const $ZodPrefault=$constructor("$ZodPrefault",(Ye,rt)=>{$ZodType.init(Ye,rt),Ye._zod.optin="optional",defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values),Ye._zod.parse=(it,lt)=>(lt.direction==="backward"||it.value===void 0&&(it.value=rt.defaultValue),rt.innerType._zod.run(it,lt))}),$ZodNonOptional=$constructor("$ZodNonOptional",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"values",()=>{const it=rt.innerType._zod.values;return it?new Set([...it].filter(lt=>lt!==void 0)):void 0}),Ye._zod.parse=(it,lt)=>{const ct=rt.innerType._zod.run(it,lt);return ct instanceof Promise?ct.then(ut=>handleNonOptionalResult(ut,Ye)):handleNonOptionalResult(ct,Ye)}});function handleNonOptionalResult(Ye,rt){return!Ye.issues.length&&Ye.value===void 0&&Ye.issues.push({code:"invalid_type",expected:"nonoptional",input:Ye.value,inst:rt}),Ye}const $ZodCatch=$constructor("$ZodCatch",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"optin",()=>rt.innerType._zod.optin),defineLazy(Ye._zod,"optout",()=>rt.innerType._zod.optout),defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward")return rt.innerType._zod.run(it,lt);const ct=rt.innerType._zod.run(it,lt);return ct instanceof Promise?ct.then(ut=>(it.value=ut.value,ut.issues.length&&(it.value=rt.catchValue({...it,error:{issues:ut.issues.map(ht=>finalizeIssue(ht,lt,config$1()))},input:it.value}),it.issues=[]),it)):(it.value=ct.value,ct.issues.length&&(it.value=rt.catchValue({...it,error:{issues:ct.issues.map(ut=>finalizeIssue(ut,lt,config$1()))},input:it.value}),it.issues=[]),it)}}),$ZodPipe=$constructor("$ZodPipe",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"values",()=>rt.in._zod.values),defineLazy(Ye._zod,"optin",()=>rt.in._zod.optin),defineLazy(Ye._zod,"optout",()=>rt.out._zod.optout),defineLazy(Ye._zod,"propValues",()=>rt.in._zod.propValues),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward"){const ut=rt.out._zod.run(it,lt);return ut instanceof Promise?ut.then(ht=>handlePipeResult(ht,rt.in,lt)):handlePipeResult(ut,rt.in,lt)}const ct=rt.in._zod.run(it,lt);return ct instanceof Promise?ct.then(ut=>handlePipeResult(ut,rt.out,lt)):handlePipeResult(ct,rt.out,lt)}});function handlePipeResult(Ye,rt,it){return Ye.issues.length?(Ye.aborted=!0,Ye):rt._zod.run({value:Ye.value,issues:Ye.issues},it)}const $ZodReadonly=$constructor("$ZodReadonly",(Ye,rt)=>{$ZodType.init(Ye,rt),defineLazy(Ye._zod,"propValues",()=>rt.innerType._zod.propValues),defineLazy(Ye._zod,"values",()=>rt.innerType._zod.values),defineLazy(Ye._zod,"optin",()=>rt.innerType._zod.optin),defineLazy(Ye._zod,"optout",()=>rt.innerType._zod.optout),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward")return rt.innerType._zod.run(it,lt);const ct=rt.innerType._zod.run(it,lt);return ct instanceof Promise?ct.then(handleReadonlyResult):handleReadonlyResult(ct)}});function handleReadonlyResult(Ye){return Ye.value=Object.freeze(Ye.value),Ye}const $ZodCustom=$constructor("$ZodCustom",(Ye,rt)=>{$ZodCheck.init(Ye,rt),$ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>it,Ye._zod.check=it=>{const lt=it.value,ct=rt.fn(lt);if(ct instanceof Promise)return ct.then(ut=>handleRefineResult(ut,it,lt,Ye));handleRefineResult(ct,it,lt,Ye)}});function handleRefineResult(Ye,rt,it,lt){if(!Ye){const ct={code:"custom",input:it,inst:lt,path:[...lt._zod.def.path??[]],continue:!lt._zod.def.abort};lt._zod.def.params&&(ct.params=lt._zod.def.params),rt.issues.push(issue(ct))}}class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(rt,...it){const lt=it[0];if(this._map.set(rt,lt),lt&&typeof lt=="object"&&"id"in lt){if(this._idmap.has(lt.id))throw new Error(`ID ${lt.id} already exists in the registry`);this._idmap.set(lt.id,rt)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(rt){const it=this._map.get(rt);return it&&typeof it=="object"&&"id"in it&&this._idmap.delete(it.id),this._map.delete(rt),this}get(rt){const it=rt._zod.parent;if(it){const lt={...this.get(it)??{}};delete lt.id;const ct={...lt,...this._map.get(rt)};return Object.keys(ct).length?ct:void 0}return this._map.get(rt)}has(rt){return this._map.has(rt)}}function registry(){return new $ZodRegistry}const globalRegistry=registry();function _string(Ye,rt){return new Ye({type:"string",...normalizeParams(rt)})}function _email(Ye,rt){return new Ye({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(rt)})}function _guid(Ye,rt){return new Ye({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _uuid(Ye,rt){return new Ye({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _uuidv4(Ye,rt){return new Ye({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(rt)})}function _uuidv6(Ye,rt){return new Ye({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(rt)})}function _uuidv7(Ye,rt){return new Ye({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(rt)})}function _url(Ye,rt){return new Ye({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(rt)})}function _emoji(Ye,rt){return new Ye({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(rt)})}function _nanoid(Ye,rt){return new Ye({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _cuid(Ye,rt){return new Ye({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _cuid2(Ye,rt){return new Ye({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(rt)})}function _ulid(Ye,rt){return new Ye({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _xid(Ye,rt){return new Ye({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _ksuid(Ye,rt){return new Ye({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(rt)})}function _ipv4(Ye,rt){return new Ye({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(rt)})}function _ipv6(Ye,rt){return new Ye({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(rt)})}function _cidrv4(Ye,rt){return new Ye({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(rt)})}function _cidrv6(Ye,rt){return new Ye({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(rt)})}function _base64(Ye,rt){return new Ye({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(rt)})}function _base64url(Ye,rt){return new Ye({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(rt)})}function _e164(Ye,rt){return new Ye({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(rt)})}function _jwt(Ye,rt){return new Ye({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(rt)})}function _isoDateTime(Ye,rt){return new Ye({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(rt)})}function _isoDate(Ye,rt){return new Ye({type:"string",format:"date",check:"string_format",...normalizeParams(rt)})}function _isoTime(Ye,rt){return new Ye({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(rt)})}function _isoDuration(Ye,rt){return new Ye({type:"string",format:"duration",check:"string_format",...normalizeParams(rt)})}function _number(Ye,rt){return new Ye({type:"number",checks:[],...normalizeParams(rt)})}function _int(Ye,rt){return new Ye({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(rt)})}function _unknown(Ye){return new Ye({type:"unknown"})}function _never(Ye,rt){return new Ye({type:"never",...normalizeParams(rt)})}function _lt(Ye,rt){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(rt),value:Ye,inclusive:!1})}function _lte(Ye,rt){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(rt),value:Ye,inclusive:!0})}function _gt(Ye,rt){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(rt),value:Ye,inclusive:!1})}function _gte(Ye,rt){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(rt),value:Ye,inclusive:!0})}function _multipleOf(Ye,rt){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(rt),value:Ye})}function _maxLength(Ye,rt){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(rt),maximum:Ye})}function _minLength(Ye,rt){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(rt),minimum:Ye})}function _length(Ye,rt){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(rt),length:Ye})}function _regex(Ye,rt){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(rt),pattern:Ye})}function _lowercase(Ye){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(Ye)})}function _uppercase(Ye){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(Ye)})}function _includes(Ye,rt){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(rt),includes:Ye})}function _startsWith(Ye,rt){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(rt),prefix:Ye})}function _endsWith(Ye,rt){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(rt),suffix:Ye})}function _overwrite(Ye){return new $ZodCheckOverwrite({check:"overwrite",tx:Ye})}function _normalize(Ye){return _overwrite(rt=>rt.normalize(Ye))}function _trim(){return _overwrite(Ye=>Ye.trim())}function _toLowerCase(){return _overwrite(Ye=>Ye.toLowerCase())}function _toUpperCase(){return _overwrite(Ye=>Ye.toUpperCase())}function _array(Ye,rt,it){return new Ye({type:"array",element:rt,...normalizeParams(it)})}function _refine(Ye,rt,it){return new Ye({type:"custom",check:"custom",fn:rt,...normalizeParams(it)})}function _superRefine(Ye){const rt=_check(it=>(it.addIssue=lt=>{if(typeof lt=="string")it.issues.push(issue(lt,it.value,rt._zod.def));else{const ct=lt;ct.fatal&&(ct.continue=!1),ct.code??(ct.code="custom"),ct.input??(ct.input=it.value),ct.inst??(ct.inst=rt),ct.continue??(ct.continue=!rt._zod.def.abort),it.issues.push(issue(ct))}},Ye(it.value,it)));return rt}function _check(Ye,rt){const it=new $ZodCheck({check:"custom",...normalizeParams(rt)});return it._zod.check=Ye,it}const ZodISODateTime=$constructor("ZodISODateTime",(Ye,rt)=>{$ZodISODateTime.init(Ye,rt),ZodStringFormat.init(Ye,rt)});function datetime(Ye){return _isoDateTime(ZodISODateTime,Ye)}const ZodISODate=$constructor("ZodISODate",(Ye,rt)=>{$ZodISODate.init(Ye,rt),ZodStringFormat.init(Ye,rt)});function date(Ye){return _isoDate(ZodISODate,Ye)}const ZodISOTime=$constructor("ZodISOTime",(Ye,rt)=>{$ZodISOTime.init(Ye,rt),ZodStringFormat.init(Ye,rt)});function time(Ye){return _isoTime(ZodISOTime,Ye)}const ZodISODuration=$constructor("ZodISODuration",(Ye,rt)=>{$ZodISODuration.init(Ye,rt),ZodStringFormat.init(Ye,rt)});function duration(Ye){return _isoDuration(ZodISODuration,Ye)}const initializer=(Ye,rt)=>{$ZodError.init(Ye,rt),Ye.name="ZodError",Object.defineProperties(Ye,{format:{value:it=>formatError$1(Ye,it)},flatten:{value:it=>flattenError(Ye,it)},addIssue:{value:it=>{Ye.issues.push(it),Ye.message=JSON.stringify(Ye.issues,jsonStringifyReplacer,2)}},addIssues:{value:it=>{Ye.issues.push(...it),Ye.message=JSON.stringify(Ye.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return Ye.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer,{Parent:Error}),parse$4=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode$1=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(Ye,rt)=>($ZodType.init(Ye,rt),Ye.def=rt,Ye.type=rt.type,Object.defineProperty(Ye,"_def",{value:rt}),Ye.check=(...it)=>Ye.clone(mergeDefs(rt,{checks:[...rt.checks??[],...it.map(lt=>typeof lt=="function"?{_zod:{check:lt,def:{check:"custom"},onattach:[]}}:lt)]})),Ye.clone=(it,lt)=>clone$1(Ye,it,lt),Ye.brand=()=>Ye,Ye.register=((it,lt)=>(it.add(Ye,lt),Ye)),Ye.parse=(it,lt)=>parse$4(Ye,it,lt,{callee:Ye.parse}),Ye.safeParse=(it,lt)=>safeParse(Ye,it,lt),Ye.parseAsync=async(it,lt)=>parseAsync(Ye,it,lt,{callee:Ye.parseAsync}),Ye.safeParseAsync=async(it,lt)=>safeParseAsync(Ye,it,lt),Ye.spa=Ye.safeParseAsync,Ye.encode=(it,lt)=>encode(Ye,it,lt),Ye.decode=(it,lt)=>decode$1(Ye,it,lt),Ye.encodeAsync=async(it,lt)=>encodeAsync(Ye,it,lt),Ye.decodeAsync=async(it,lt)=>decodeAsync(Ye,it,lt),Ye.safeEncode=(it,lt)=>safeEncode(Ye,it,lt),Ye.safeDecode=(it,lt)=>safeDecode(Ye,it,lt),Ye.safeEncodeAsync=async(it,lt)=>safeEncodeAsync(Ye,it,lt),Ye.safeDecodeAsync=async(it,lt)=>safeDecodeAsync(Ye,it,lt),Ye.refine=(it,lt)=>Ye.check(refine(it,lt)),Ye.superRefine=it=>Ye.check(superRefine(it)),Ye.overwrite=it=>Ye.check(_overwrite(it)),Ye.optional=()=>optional(Ye),Ye.nullable=()=>nullable(Ye),Ye.nullish=()=>optional(nullable(Ye)),Ye.nonoptional=it=>nonoptional(Ye,it),Ye.array=()=>array$2(Ye),Ye.or=it=>union([Ye,it]),Ye.and=it=>intersection$1(Ye,it),Ye.transform=it=>pipe(Ye,transform(it)),Ye.default=it=>_default$1(Ye,it),Ye.prefault=it=>prefault(Ye,it),Ye.catch=it=>_catch(Ye,it),Ye.pipe=it=>pipe(Ye,it),Ye.readonly=()=>readonly(Ye),Ye.describe=it=>{const lt=Ye.clone();return globalRegistry.add(lt,{description:it}),lt},Object.defineProperty(Ye,"description",{get(){return globalRegistry.get(Ye)?.description},configurable:!0}),Ye.meta=(...it)=>{if(it.length===0)return globalRegistry.get(Ye);const lt=Ye.clone();return globalRegistry.add(lt,it[0]),lt},Ye.isOptional=()=>Ye.safeParse(void 0).success,Ye.isNullable=()=>Ye.safeParse(null).success,Ye)),_ZodString=$constructor("_ZodString",(Ye,rt)=>{$ZodString.init(Ye,rt),ZodType.init(Ye,rt);const it=Ye._zod.bag;Ye.format=it.format??null,Ye.minLength=it.minimum??null,Ye.maxLength=it.maximum??null,Ye.regex=(...lt)=>Ye.check(_regex(...lt)),Ye.includes=(...lt)=>Ye.check(_includes(...lt)),Ye.startsWith=(...lt)=>Ye.check(_startsWith(...lt)),Ye.endsWith=(...lt)=>Ye.check(_endsWith(...lt)),Ye.min=(...lt)=>Ye.check(_minLength(...lt)),Ye.max=(...lt)=>Ye.check(_maxLength(...lt)),Ye.length=(...lt)=>Ye.check(_length(...lt)),Ye.nonempty=(...lt)=>Ye.check(_minLength(1,...lt)),Ye.lowercase=lt=>Ye.check(_lowercase(lt)),Ye.uppercase=lt=>Ye.check(_uppercase(lt)),Ye.trim=()=>Ye.check(_trim()),Ye.normalize=(...lt)=>Ye.check(_normalize(...lt)),Ye.toLowerCase=()=>Ye.check(_toLowerCase()),Ye.toUpperCase=()=>Ye.check(_toUpperCase())}),ZodString=$constructor("ZodString",(Ye,rt)=>{$ZodString.init(Ye,rt),_ZodString.init(Ye,rt),Ye.email=it=>Ye.check(_email(ZodEmail,it)),Ye.url=it=>Ye.check(_url(ZodURL,it)),Ye.jwt=it=>Ye.check(_jwt(ZodJWT,it)),Ye.emoji=it=>Ye.check(_emoji(ZodEmoji,it)),Ye.guid=it=>Ye.check(_guid(ZodGUID,it)),Ye.uuid=it=>Ye.check(_uuid(ZodUUID,it)),Ye.uuidv4=it=>Ye.check(_uuidv4(ZodUUID,it)),Ye.uuidv6=it=>Ye.check(_uuidv6(ZodUUID,it)),Ye.uuidv7=it=>Ye.check(_uuidv7(ZodUUID,it)),Ye.nanoid=it=>Ye.check(_nanoid(ZodNanoID,it)),Ye.guid=it=>Ye.check(_guid(ZodGUID,it)),Ye.cuid=it=>Ye.check(_cuid(ZodCUID,it)),Ye.cuid2=it=>Ye.check(_cuid2(ZodCUID2,it)),Ye.ulid=it=>Ye.check(_ulid(ZodULID,it)),Ye.base64=it=>Ye.check(_base64(ZodBase64,it)),Ye.base64url=it=>Ye.check(_base64url(ZodBase64URL,it)),Ye.xid=it=>Ye.check(_xid(ZodXID,it)),Ye.ksuid=it=>Ye.check(_ksuid(ZodKSUID,it)),Ye.ipv4=it=>Ye.check(_ipv4(ZodIPv4,it)),Ye.ipv6=it=>Ye.check(_ipv6(ZodIPv6,it)),Ye.cidrv4=it=>Ye.check(_cidrv4(ZodCIDRv4,it)),Ye.cidrv6=it=>Ye.check(_cidrv6(ZodCIDRv6,it)),Ye.e164=it=>Ye.check(_e164(ZodE164,it)),Ye.datetime=it=>Ye.check(datetime(it)),Ye.date=it=>Ye.check(date(it)),Ye.time=it=>Ye.check(time(it)),Ye.duration=it=>Ye.check(duration(it))});function string$2(Ye){return _string(ZodString,Ye)}const ZodStringFormat=$constructor("ZodStringFormat",(Ye,rt)=>{$ZodStringFormat.init(Ye,rt),_ZodString.init(Ye,rt)}),ZodEmail=$constructor("ZodEmail",(Ye,rt)=>{$ZodEmail.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodGUID=$constructor("ZodGUID",(Ye,rt)=>{$ZodGUID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodUUID=$constructor("ZodUUID",(Ye,rt)=>{$ZodUUID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodURL=$constructor("ZodURL",(Ye,rt)=>{$ZodURL.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodEmoji=$constructor("ZodEmoji",(Ye,rt)=>{$ZodEmoji.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodNanoID=$constructor("ZodNanoID",(Ye,rt)=>{$ZodNanoID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodCUID=$constructor("ZodCUID",(Ye,rt)=>{$ZodCUID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodCUID2=$constructor("ZodCUID2",(Ye,rt)=>{$ZodCUID2.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodULID=$constructor("ZodULID",(Ye,rt)=>{$ZodULID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodXID=$constructor("ZodXID",(Ye,rt)=>{$ZodXID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodKSUID=$constructor("ZodKSUID",(Ye,rt)=>{$ZodKSUID.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodIPv4=$constructor("ZodIPv4",(Ye,rt)=>{$ZodIPv4.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodIPv6=$constructor("ZodIPv6",(Ye,rt)=>{$ZodIPv6.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodCIDRv4=$constructor("ZodCIDRv4",(Ye,rt)=>{$ZodCIDRv4.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodCIDRv6=$constructor("ZodCIDRv6",(Ye,rt)=>{$ZodCIDRv6.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodBase64=$constructor("ZodBase64",(Ye,rt)=>{$ZodBase64.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodBase64URL=$constructor("ZodBase64URL",(Ye,rt)=>{$ZodBase64URL.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodE164=$constructor("ZodE164",(Ye,rt)=>{$ZodE164.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodJWT=$constructor("ZodJWT",(Ye,rt)=>{$ZodJWT.init(Ye,rt),ZodStringFormat.init(Ye,rt)}),ZodNumber=$constructor("ZodNumber",(Ye,rt)=>{$ZodNumber.init(Ye,rt),ZodType.init(Ye,rt),Ye.gt=(lt,ct)=>Ye.check(_gt(lt,ct)),Ye.gte=(lt,ct)=>Ye.check(_gte(lt,ct)),Ye.min=(lt,ct)=>Ye.check(_gte(lt,ct)),Ye.lt=(lt,ct)=>Ye.check(_lt(lt,ct)),Ye.lte=(lt,ct)=>Ye.check(_lte(lt,ct)),Ye.max=(lt,ct)=>Ye.check(_lte(lt,ct)),Ye.int=lt=>Ye.check(int$1(lt)),Ye.safe=lt=>Ye.check(int$1(lt)),Ye.positive=lt=>Ye.check(_gt(0,lt)),Ye.nonnegative=lt=>Ye.check(_gte(0,lt)),Ye.negative=lt=>Ye.check(_lt(0,lt)),Ye.nonpositive=lt=>Ye.check(_lte(0,lt)),Ye.multipleOf=(lt,ct)=>Ye.check(_multipleOf(lt,ct)),Ye.step=(lt,ct)=>Ye.check(_multipleOf(lt,ct)),Ye.finite=()=>Ye;const it=Ye._zod.bag;Ye.minValue=Math.max(it.minimum??Number.NEGATIVE_INFINITY,it.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,Ye.maxValue=Math.min(it.maximum??Number.POSITIVE_INFINITY,it.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,Ye.isInt=(it.format??"").includes("int")||Number.isSafeInteger(it.multipleOf??.5),Ye.isFinite=!0,Ye.format=it.format??null});function number(Ye){return _number(ZodNumber,Ye)}const ZodNumberFormat=$constructor("ZodNumberFormat",(Ye,rt)=>{$ZodNumberFormat.init(Ye,rt),ZodNumber.init(Ye,rt)});function int$1(Ye){return _int(ZodNumberFormat,Ye)}const ZodUnknown=$constructor("ZodUnknown",(Ye,rt)=>{$ZodUnknown.init(Ye,rt),ZodType.init(Ye,rt)});function unknown$1(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(Ye,rt)=>{$ZodNever.init(Ye,rt),ZodType.init(Ye,rt)});function never(Ye){return _never(ZodNever,Ye)}const ZodArray=$constructor("ZodArray",(Ye,rt)=>{$ZodArray.init(Ye,rt),ZodType.init(Ye,rt),Ye.element=rt.element,Ye.min=(it,lt)=>Ye.check(_minLength(it,lt)),Ye.nonempty=it=>Ye.check(_minLength(1,it)),Ye.max=(it,lt)=>Ye.check(_maxLength(it,lt)),Ye.length=(it,lt)=>Ye.check(_length(it,lt)),Ye.unwrap=()=>Ye.element});function array$2(Ye,rt){return _array(ZodArray,Ye,rt)}const ZodObject=$constructor("ZodObject",(Ye,rt)=>{$ZodObjectJIT.init(Ye,rt),ZodType.init(Ye,rt),defineLazy(Ye,"shape",()=>rt.shape),Ye.keyof=()=>_enum(Object.keys(Ye._zod.def.shape)),Ye.catchall=it=>Ye.clone({...Ye._zod.def,catchall:it}),Ye.passthrough=()=>Ye.clone({...Ye._zod.def,catchall:unknown$1()}),Ye.loose=()=>Ye.clone({...Ye._zod.def,catchall:unknown$1()}),Ye.strict=()=>Ye.clone({...Ye._zod.def,catchall:never()}),Ye.strip=()=>Ye.clone({...Ye._zod.def,catchall:void 0}),Ye.extend=it=>extend$4(Ye,it),Ye.safeExtend=it=>safeExtend(Ye,it),Ye.merge=it=>merge$3(Ye,it),Ye.pick=it=>pick$1(Ye,it),Ye.omit=it=>omit(Ye,it),Ye.partial=(...it)=>partial(ZodOptional,Ye,it[0]),Ye.required=(...it)=>required(ZodNonOptional,Ye,it[0])});function object(Ye,rt){const it={type:"object",shape:Ye??{},...normalizeParams(rt)};return new ZodObject(it)}const ZodUnion=$constructor("ZodUnion",(Ye,rt)=>{$ZodUnion.init(Ye,rt),ZodType.init(Ye,rt),Ye.options=rt.options});function union(Ye,rt){return new ZodUnion({type:"union",options:Ye,...normalizeParams(rt)})}const ZodIntersection=$constructor("ZodIntersection",(Ye,rt)=>{$ZodIntersection.init(Ye,rt),ZodType.init(Ye,rt)});function intersection$1(Ye,rt){return new ZodIntersection({type:"intersection",left:Ye,right:rt})}const ZodEnum=$constructor("ZodEnum",(Ye,rt)=>{$ZodEnum.init(Ye,rt),ZodType.init(Ye,rt),Ye.enum=rt.entries,Ye.options=Object.values(rt.entries);const it=new Set(Object.keys(rt.entries));Ye.extract=(lt,ct)=>{const ut={};for(const ht of lt)if(it.has(ht))ut[ht]=rt.entries[ht];else throw new Error(`Key ${ht} not found in enum`);return new ZodEnum({...rt,checks:[],...normalizeParams(ct),entries:ut})},Ye.exclude=(lt,ct)=>{const ut={...rt.entries};for(const ht of lt)if(it.has(ht))delete ut[ht];else throw new Error(`Key ${ht} not found in enum`);return new ZodEnum({...rt,checks:[],...normalizeParams(ct),entries:ut})}});function _enum(Ye,rt){const it=Array.isArray(Ye)?Object.fromEntries(Ye.map(lt=>[lt,lt])):Ye;return new ZodEnum({type:"enum",entries:it,...normalizeParams(rt)})}const ZodTransform=$constructor("ZodTransform",(Ye,rt)=>{$ZodTransform.init(Ye,rt),ZodType.init(Ye,rt),Ye._zod.parse=(it,lt)=>{if(lt.direction==="backward")throw new $ZodEncodeError(Ye.constructor.name);it.addIssue=ut=>{if(typeof ut=="string")it.issues.push(issue(ut,it.value,rt));else{const ht=ut;ht.fatal&&(ht.continue=!1),ht.code??(ht.code="custom"),ht.input??(ht.input=it.value),ht.inst??(ht.inst=Ye),it.issues.push(issue(ht))}};const ct=rt.transform(it.value,it);return ct instanceof Promise?ct.then(ut=>(it.value=ut,it)):(it.value=ct,it)}});function transform(Ye){return new ZodTransform({type:"transform",transform:Ye})}const ZodOptional=$constructor("ZodOptional",(Ye,rt)=>{$ZodOptional.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType});function optional(Ye){return new ZodOptional({type:"optional",innerType:Ye})}const ZodNullable=$constructor("ZodNullable",(Ye,rt)=>{$ZodNullable.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType});function nullable(Ye){return new ZodNullable({type:"nullable",innerType:Ye})}const ZodDefault=$constructor("ZodDefault",(Ye,rt)=>{$ZodDefault.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType,Ye.removeDefault=Ye.unwrap});function _default$1(Ye,rt){return new ZodDefault({type:"default",innerType:Ye,get defaultValue(){return typeof rt=="function"?rt():shallowClone(rt)}})}const ZodPrefault=$constructor("ZodPrefault",(Ye,rt)=>{$ZodPrefault.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType});function prefault(Ye,rt){return new ZodPrefault({type:"prefault",innerType:Ye,get defaultValue(){return typeof rt=="function"?rt():shallowClone(rt)}})}const ZodNonOptional=$constructor("ZodNonOptional",(Ye,rt)=>{$ZodNonOptional.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType});function nonoptional(Ye,rt){return new ZodNonOptional({type:"nonoptional",innerType:Ye,...normalizeParams(rt)})}const ZodCatch=$constructor("ZodCatch",(Ye,rt)=>{$ZodCatch.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType,Ye.removeCatch=Ye.unwrap});function _catch(Ye,rt){return new ZodCatch({type:"catch",innerType:Ye,catchValue:typeof rt=="function"?rt:()=>rt})}const ZodPipe=$constructor("ZodPipe",(Ye,rt)=>{$ZodPipe.init(Ye,rt),ZodType.init(Ye,rt),Ye.in=rt.in,Ye.out=rt.out});function pipe(Ye,rt){return new ZodPipe({type:"pipe",in:Ye,out:rt})}const ZodReadonly=$constructor("ZodReadonly",(Ye,rt)=>{$ZodReadonly.init(Ye,rt),ZodType.init(Ye,rt),Ye.unwrap=()=>Ye._zod.def.innerType});function readonly(Ye){return new ZodReadonly({type:"readonly",innerType:Ye})}const ZodCustom=$constructor("ZodCustom",(Ye,rt)=>{$ZodCustom.init(Ye,rt),ZodType.init(Ye,rt)});function refine(Ye,rt={}){return _refine(ZodCustom,Ye,rt)}function superRefine(Ye){return _superRefine(Ye)}const codeReviewStructuredOutputchema=object({title:string$2(),body:string$2(),confidence_score:number().min(0).max(1),priority:number().int().min(0).max(3).nullable().optional(),code_location:object({absolute_file_path:string$2(),line_range:object({start:number().int(),end:number().int()})})}),codeReviewResponseSchema=object({findings:array$2(codeReviewStructuredOutputchema),overall_correctness:_enum(["patch is correct","patch is incorrect"]).nullable().optional(),overall_explanation:string$2().nullable().optional(),overall_confidence_score:number().min(0).max(1).nullable().optional()});function extractJsonObjectFromAssistantMessage(Ye){const rt=Ye.trim();if(rt.startsWith("{")&&rt.endsWith("}"))return rt;const it=rt.match(/```(?:json)?\s*\r?\n?([\s\S]*?)```/i);if(it){const ut=it[1].trim();if(ut.startsWith("{")&&ut.endsWith("}"))return ut}const lt=rt.indexOf("{");if(lt===-1)return null;let ct=rt.lastIndexOf("}");for(;ct>lt;){const ut=rt.slice(lt,ct+1).trim();if(ut.startsWith("{")&&ut.endsWith("}"))try{return JSON.parse(ut),ut}catch{}ct=rt.lastIndexOf("}",ct-1)}return null}function parseAssistantMessageJson(Ye,rt){const it=extractJsonObjectFromAssistantMessage(Ye);if(!it)return null;try{const lt=JSON.parse(it);return rt.safeParse(lt)}catch{return null}}function quote(Ye){return Ye===""?"''":/[^\w@%\-+=:,./]/.test(Ye)?("'"+Ye.replace(/('+)/g,`'"$1"'`)+"'").replace(/^''|''$/g,""):Ye}function join$3(Ye){if(!Array.isArray(Ye))throw new TypeError("args should be an array");return Ye.map(quote).join(" ")}function looksLikeJsonOutput(Ye){const rt=Ye.trim();if(rt.startsWith("{")&&rt.endsWith("}"))return!0;const it=rt.match(/```(?:json)?\s*\r?\n?([\s\S]*?)```/i);if(it){const lt=it[1].trim();if(lt.startsWith("{")&&lt.endsWith("}"))return!0}return rt.startsWith("{")&&rt.endsWith("}")}function mapStateToLocalConversationItems(Ye,rt){let it=[],lt=!1;if(Ye.params.items.length){const ht=Ye.params.items.filter(ft=>ft.type==="text");if(ht.length){const ft=ht.map(_t=>_t.data.text).join(`
`);lt=(ft.trim().split(`
`,1)[0]?.trim()??"")===CODE_REVIEW_BEGIN;const gt=!lt&&ft.includes(PRIOR_CONVERSATION_BEGIN),yt=extractPromptRequest(ft),xt=Ye.params.items.filter(_t=>_t.type==="image"&&!!_t.data?.image_url).map(_t=>_t.data.image_url),bt={type:"user-message",message:yt,referencesPriorConversation:gt,images:xt,...lt?{reviewMode:!0}:{}};it.push(bt)}}let ct=!1,ut=!1;for(const ht of Ye.notifications){const{method:ft}=ht;switch(ft){case"codex/event/agent_reasoning_delta":{const pt=findLast(it,mt=>mt.type==="reasoning");pt&&!pt.completed?pt.content+=ht.msg.delta:it.push({type:"reasoning",content:ht.msg.delta,completed:!1});break}case"codex/event/agent_reasoning":{const pt=findLast(it,mt=>mt.type==="reasoning");pt&&!pt.completed?(pt.content=ht.msg.text,pt.completed=!0):it.push({type:"reasoning",content:ht.msg.text,completed:!0});break}case"codex/event/agent_reasoning_section_break":{const pt=findLast(it,mt=>mt.type==="reasoning");pt&&!pt.completed&&(pt.completed=!0);break}case"codex/event/agent_message_delta":{handleAssistantMessageDelta(it,ht.msg.delta);break}case"codex/event/agent_message":{handleAssistantMessageFinal(it,ht.msg.message);break}case"codex/event/exec_command_begin":{const pt=ht.msg.call_id,mt=findLast(it,gt=>gt.type==="exec"&&gt.callId===pt);if(mt)mt.output=null;else{const gt=ht.msg.parsed_cmd?.[0];it.push({type:"exec",callId:pt,cwd:ht.msg.cwd,cmd:ht.msg.command,risk:null,parsedCmd:addStatusToParsedCmd(gt||{type:"unknown",cmd:ht.msg.command.join(" ")},!1),output:null,approvalRequestId:null})}break}case"codex/event/exec_command_output_delta":{const pt=ht.msg.call_id,mt=findLast(it,gt=>gt.type==="exec"&&gt.callId===pt);if(mt){mt.output||(mt.output={aggregatedOutput:""});const gt=atob(ht.msg.chunk);mt.output.aggregatedOutput+=gt}else logger.warn(`Unable to find local conversation item for exec command output delta: ${pt}`);break}case"codex/event/exec_command_end":{const pt=ht.msg.call_id,mt=findLast(it,_t=>_t.type==="exec"&&_t.callId===pt);if(!mt){logger.error(`Unable to find local conversation item for exec command end: ${pt}`);break}mt.parsedCmd.isFinished=!0;const{aggregated_output:gt,exit_code:yt}=ht.msg,xt=mt.output?.aggregatedOutput??"",bt=gt&&gt.length>0?gt:xt;mt.output={aggregatedOutput:bt,exitCode:yt};break}case"codex/event/mcp_tool_call_begin":{const pt=ht.msg.call_id,mt=ht.msg.invocation,gt=mt.server,yt=mt.tool,xt=`${gt}__${yt}`;it.push({type:"mcp-tool-call",callId:pt,functionName:xt,invocation:mt,result:null,duration:null,completed:!1});break}case"codex/event/mcp_tool_call_end":{const pt=ht.msg.call_id,mt=findLast(it,gt=>gt.type==="mcp-tool-call"&&gt.callId===pt);if(mt)ht.msg.invocation&&(mt.invocation=ht.msg.invocation,mt.functionName=`${ht.msg.invocation.server}__${ht.msg.invocation.tool}`),mt.result=mapMcpToolCallResult(ht.msg.result??null),mt.duration=ht.msg.duration,mt.completed=!0;else{const gt=ht.msg.invocation??{server:"unknown",tool:"unknown",arguments:void 0};it.push({type:"mcp-tool-call",callId:pt,functionName:`${gt.server}__${gt.tool}`,invocation:gt,result:mapMcpToolCallResult(ht.msg.result??null),duration:ht.msg.duration,completed:!0})}break}case"codex/event/patch_apply_begin":{const mt={type:"patch",callId:ht.msg.call_id,changes:removeEmptyFileChanges(ht.msg.changes),result:null,grantRoot:null,approvalRequestId:null};it.push(mt);break}case"codex/event/patch_apply_end":{const pt=ht.msg.call_id,mt=findLast(it,gt=>gt.type==="patch"&&gt.callId===pt);mt?mt.result={stdout:ht.msg.stdout,stderr:ht.msg.stderr,success:ht.msg.success}:logger.error(`Unable to find local conversation item for patch apply end: ${pt}`);break}case"codex/event/turn_diff":{it.push({type:"turn-diff",unifiedDiff:ht.msg.unified_diff,cwd:Ye.params.cwd});break}case"codex/event/plan_update":{it.push({type:"plan",explanation:ht.msg.explanation??null,plan:ht.msg.plan});break}case"codex/event/error":{it.push({type:"system-error",content:ht.msg.message});break}case"codex/event/stream_error":{it.push({type:"stream-error",content:ht.msg.message});break}case"codex/event/turn_aborted":{ut=!0;break}case"codex/event/task_complete":{ct=!0;break}case"codex/event/agent_mode_changed":{it.push({type:"agent-mode-change",mode:ht.msg.mode});break}case"codex/event/remote_task_created":{it.push({type:"remote-task-created",taskId:ht.msg.task_id});break}}}it=mergeReadingItems(it);for(const ht of rt)switch(ht.method){case"execCommandApproval":{const{id:ft,params:pt}=ht,mt=ft,gt=findLast(it,yt=>yt.type==="exec"&&yt.callId===pt.callId);if(gt)gt.approvalRequestId=mt,gt.risk=pt.risk??null;else{const{callId:yt,cwd:xt,command:bt,risk:_t}=pt,Ct={type:"exec",callId:yt,approvalRequestId:mt,cwd:xt,cmd:bt,parsedCmd:{type:"unknown",cmd:join$3(bt),isFinished:!1},output:null,risk:_t??null};it.push(Ct)}break}case"applyPatchApproval":{const{id:ft,params:pt}=ht,mt=ft,{callId:gt,grantRoot:yt,fileChanges:xt}=pt;it.push({type:"patch",callId:gt,approvalRequestId:mt,grantRoot:yt??null,changes:removeEmptyFileChanges(xt),result:null});break}}return{items:it,status:ct?"complete":ut?"cancelled":"in_progress"}}function removeEmptyFileChanges(Ye){const rt=Object.entries(Ye).filter(it=>it[1]!==void 0);return Object.fromEntries(rt)}function mergeReadingItems(Ye){const rt=[];for(const it of Ye){if(it.type!=="exec"||it.approvalRequestId){rt.push(it);continue}const lt=it.parsedCmd;if(lt.type!=="read"){rt.push(it);continue}const ct=last(rt);ct?.type==="reading-files"?ct.execItems.push({...it,parsedCmd:lt}):rt.push({type:"reading-files",execItems:[{...it,parsedCmd:lt}]})}return rt}function handleAssistantMessageDelta(Ye,rt){const it=findLast(Ye,isAssistantConversationItem);if(it&&!it.completed){it.content+=rt;return}Ye.push({type:"assistant-message",content:rt,completed:!1,structuredOutput:void 0})}function handleAssistantMessageFinal(Ye,rt){const it=looksLikeJsonOutput(rt),lt=findLast(Ye,isAssistantConversationItem);if(lt&&!lt.completed){if(it){const ct=findLast(Ye,isAssistantConversationItem),ut=finalizeJsonOutputAssistantMessage({message:rt});ct&&ut&&(ct.structuredOutput=ut)}lt.content=rt,lt.completed=!0;return}Ye.push({type:"assistant-message",content:rt,completed:!0,structuredOutput:it?finalizeJsonOutputAssistantMessage({message:rt}):void 0})}function finalizeJsonOutputAssistantMessage({message:Ye}){const rt=parseAssistantMessageJson(Ye,codeReviewResponseSchema);if(rt&&rt.success){const it=rt.data;return{type:"code-review",findings:it.findings,overallCorrectness:it.overall_correctness??null,overallExplanation:it.overall_explanation??null,overallConfidenceScore:it.overall_confidence_score??null}}}function isAssistantConversationItem(Ye){return Ye.type==="assistant-message"}function useNavigateToLocalConversation(){const Ye=useNavigate();return reactExports.useCallback(rt=>{const it=`/local/${rt}`;initialRoute?messageBus.dispatchMessage("navigate-in-new-editor-tab",{path:it}):Ye(it)},[Ye])}function LocalTaskRow({conversation:Ye,onClick:rt,isActive:it=!1,isGrouped:lt=!1,envIconLocation:ct,hideMeta:ut=!1,indicatorLocation:ht="end",diffStyle:ft="color"}){const pt=useNavigateToLocalConversation(),mt=Ye.turns[Ye.turns.length-1],gt=useAppServerManager(),yt=useToaster(),xt=useIntl(),[bt,_t]=reactExports.useState(!1),{data:Ct}=useFetchFromVSCode("codex-home"),kt=Ct?.codexHome,St=Ye.resumeState==="needs_resume",Rt=reactExports.useMemo(()=>St?{items:[],status:"complete"}:mt!=null?mapStateToLocalConversationItems(mt,Ye.requests):{items:[],status:"in_progress"},[mt,Ye.requests,St]),Tt=Rt.status==="in_progress",Mt=Rt.items.some(zt=>zt.type==="system-error"),Pt=Ye.requests.some(zt=>zt.method==="applyPatchApproval"||zt.method==="execCommandApproval"),It=Tt?"loading":Mt?"error":"idle",Lt=useTitle(Ye),Ot=[...Rt.items].reverse().find(zt=>zt.type==="turn-diff"),Ft=reactExports.useMemo(()=>Ot?parseDiff(Ot.unifiedDiff).reduce((zt,Nt)=>({linesAdded:zt.linesAdded+Nt.additions,linesRemoved:zt.linesRemoved+Nt.deletions}),{linesAdded:0,linesRemoved:0}):{linesAdded:0,linesRemoved:0},[Ot]),Ut=()=>{_t(!0),gt.archiveConversation(Ye.id).catch(()=>{_t(!1),yt.danger(xt.formatMessage({id:"localTaskRow.archiveError",defaultMessage:"Failed to archive conversation",description:"Error message when archiving a local Codex conversation"}))})},Wt=Tt&&Pt,Kt=!Tt&&(Ft.linesAdded>0||Ft.linesRemoved>0)?Ft:null,Qt=Wt?[{id:"awaiting-approval",label:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.localTaskRow.awaitingApproval",defaultMessage:"Awaiting approval",description:"Chip indicating a local task is waiting for user approval"})}]:[];if(bt)return null;const Zt=Ye.cwd??null,Vt=isWorktreePath(Zt,kt)?"worktree":lt?"localGrouped":void 0,$t=Zt?jsxRuntimeExports.jsx("div",{className:"max-w-64 break-all",children:Zt}):null;return jsxRuntimeExports.jsx(TaskRowLayout,{isActive:it,indicatorLocation:ht,onClick:()=>{pt(Ye.id),rt?.()},statusState:{type:It,unread:Ye.hasUnreadTurn},envType:Vt,envIconLocation:ct,envTooltip:$t,title:Lt,chips:Qt,diffStats:Kt,diffStyle:ft,metaContent:ut?null:jsxRuntimeExports.jsx(FormattedRelativeDateTime,{dateString:Ye.createdAt.toISOString()}),onArchive:Ut,archiveTooltip:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.localTaskRow.archiveTask",defaultMessage:"Archive task",description:"Tooltip for archive task button"})})}function useTitle(Ye){return reactExports.useMemo(()=>getLocalConversationTitle(Ye)||jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.taskRow.title",defaultMessage:"Codex task",description:"Default title for a Codex task that doesn't have a title"}),[Ye])}const aWorktrees=persistedAtom("worktrees",[]);function useWorktrees(){const[Ye,rt]=useAtom(aWorktrees);return reactExports.useEffect(()=>{Ye.length>0||fetchFromVSCode("worktrees").then(({worktrees:it})=>{rt(it)}).catch(()=>{})},[rt,Ye.length]),Ye}function useMergedTasks(Ye,rt,it){const lt=useWorktrees();return reactExports.useMemo(()=>{const ct=Ye.data??[],ut=rt??[],ht=lt??[],pt=(it?ct.filter(yt=>yt.task_status_display?.environment_label===it.label):ct).map(yt=>({kind:"remote",key:`remote:${yt.id}`,at:(yt.created_at??0)*1e3,task:yt})),mt=ut.map(yt=>({kind:"local",key:`local:${yt.id}`,at:yt.createdAt.getTime(),conversation:yt})),gt=ht.filter(yt=>yt.status!=="ready").map(yt=>({kind:"worktree-initialization",key:`worktree:${yt.path}`,at:yt.lastUpdated,task:yt}));return[...pt,...mt,...gt].sort((yt,xt)=>xt.at-yt.at)},[Ye.data,it,rt,lt])}const WORKTREE_STEP_MESSAGES={"creating-worktree":{id:"recentTasks.worktreeCreatingWorktree",defaultMessage:"Creating worktree",description:"Worktree row title when the worktree is being created"},"running-init-script":{id:"recentTasks.worktreeRunningInitScript",defaultMessage:"Running .codex/worktree_init.sh",description:"Worktree row title when the init script is running"},"creating-task":{id:"recentTasks.worktreeCreatingTask",defaultMessage:"Creating task",description:"Worktree row title when the task is being created"}};function getWorktreeStepDescriptor(Ye){return WORKTREE_STEP_MESSAGES[Ye]}function WorktreeInitRow({task:Ye,envIconLocation:rt="end",indicatorLocation:it="start"}){const lt=useNavigate(),ct=Ye.status==="init-failed",ut=Ye.step!=null?getWorktreeStepDescriptor(Ye.step):null,ht=typeof Ye.label=="string"&&Ye.label.length>0?Ye.label:null,ft=!ct&&ht!=null,pt=ct?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"recentTasks.worktreeInitFailedTitle",defaultMessage:"Worktree init failed",description:"Worktree row title when the init script fails"}):renderShimmerLabel(ut??ht),gt=ft&&ut?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"shrink-0 truncate",children:ht}),renderShimmerLabel(ut,"truncate")]}):ft?ht:pt,yt=Ye.status==="pending"?{type:"loading"}:ct?{type:"error"}:{type:"idle"};return jsxRuntimeExports.jsx(TaskRowLayout,{title:gt,envType:"worktree",envIconLocation:rt,indicatorLocation:it,statusState:yt,onClick:()=>lt(`/worktree-init/${encodeURIComponent(Ye.path)}`)})}function renderShimmerLabel(Ye,rt){const it=rt?`loading-shimmer-pure-text ${rt}`:"loading-shimmer-pure-text",lt=typeof Ye=="string"?Ye:Ye!=null?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...Ye}):null;return jsxRuntimeExports.jsx("span",{className:it,children:lt})}function useWindowType(){return document.documentElement.dataset.codexWindowType??"extension"}const SvgAddFolder=Ye=>reactExports.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M13.6835 15.7501V14.0986H12.0321C11.7015 14.0986 11.4335 13.8306 11.4335 13.5001C11.4335 13.1695 11.7015 12.9015 12.0321 12.9015H13.6835V11.2501C13.6835 10.9195 13.9515 10.6515 14.2821 10.6515C14.6124 10.6518 14.8797 10.9197 14.8797 11.2501V12.9015H16.5321C16.8624 12.9018 17.1297 13.1697 17.1297 13.5001C17.1297 13.8304 16.8624 14.0983 16.5321 14.0986H14.8797V15.7501C14.8797 16.0804 14.6124 16.3483 14.2821 16.3486C13.9515 16.3486 13.6835 16.0806 13.6835 15.7501ZM1.90796 11.4302V6.56988C1.90796 5.98128 1.90715 5.50346 1.93872 5.11704C1.97087 4.72385 2.03942 4.37253 2.20591 4.04566L2.31138 3.85669C2.57426 3.42813 2.95166 3.07898 3.4021 2.84946L3.52603 2.79146C3.81758 2.66646 4.12951 2.6104 4.47349 2.58228C4.85991 2.55071 5.33772 2.55152 5.92632 2.55152H6.5521C6.68097 2.55152 6.7706 2.55136 6.85884 2.55679L7.08736 2.58052C7.61505 2.65783 8.11055 2.88791 8.51118 3.24497L8.73179 3.4603C8.83268 3.56206 8.8658 3.59515 8.8979 3.62378L8.9981 3.70552C9.23801 3.88571 9.52644 3.99279 9.82779 4.01138L10.0616 4.01402H12.3221C12.8248 4.01402 13.2325 4.01367 13.564 4.03687C13.9011 4.06047 14.2044 4.1102 14.4921 4.23286L14.7294 4.348C15.2673 4.6414 15.6939 5.10866 15.9362 5.67691L16.0144 5.89488C16.0811 6.11589 16.1135 6.3479 16.1313 6.59888C16.1547 6.92815 16.155 7.33277 16.155 7.83023C16.155 7.98873 16.0921 8.14082 15.9801 8.25298C15.8679 8.36522 15.7152 8.42876 15.5565 8.42876H3.10503V11.4302C3.10503 12.0386 3.10561 12.4591 3.13228 12.7855C3.15838 13.1047 3.20659 13.2811 3.2729 13.4113L3.33179 13.5176C3.47964 13.7586 3.69197 13.9546 3.94527 14.0836L4.05337 14.1302C4.17281 14.1729 4.33182 14.2047 4.57105 14.2243C4.89742 14.2509 5.31798 14.2515 5.92632 14.2515H8.46812L8.58941 14.2638C8.86198 14.3197 9.06665 14.5609 9.06665 14.8501C9.06665 15.1392 8.86198 15.3804 8.58941 15.4363L8.46812 15.4486H5.92632C5.33772 15.4486 4.85991 15.4494 4.47349 15.4178C4.12951 15.3897 3.81758 15.3336 3.52603 15.2086L3.4021 15.1506C2.95166 14.9211 2.57426 14.572 2.31138 14.1434L2.20591 13.9544C2.03943 13.6276 1.97087 13.2763 1.93872 12.8831C1.90715 12.4966 1.90796 12.0188 1.90796 11.4302ZM3.10503 7.23169H14.9553C14.953 7.01598 14.9487 6.83804 14.9377 6.68413C14.9233 6.48053 14.8995 6.34366 14.8683 6.24029L14.8349 6.14624C14.6987 5.82675 14.4588 5.56421 14.1564 5.39917L14.0228 5.33413C13.9089 5.28556 13.755 5.25052 13.4805 5.2313C13.2005 5.2117 12.8416 5.21109 12.3221 5.21109H10.0616L9.75396 5.20581C9.21821 5.17277 8.70567 4.98302 8.27915 4.66265L8.10161 4.51763C8.03549 4.45868 7.97286 4.39405 7.88189 4.3023L7.71489 4.13882C7.48938 3.93777 7.21043 3.80782 6.91333 3.76441L6.78589 3.75122C6.74288 3.74857 6.69573 3.74859 6.5521 3.74859H5.92632C5.31798 3.74859 4.89742 3.74917 4.57105 3.77583C4.33182 3.79539 4.17281 3.82718 4.05337 3.86988L3.94527 3.91646C3.69197 4.04554 3.47964 4.24149 3.33179 4.48247L3.2729 4.58882C3.20659 4.71897 3.15838 4.89536 3.13228 5.2146C3.10561 5.54098 3.10503 5.96154 3.10503 6.56988V7.23169Z",fill:"currentColor"})),SvgFolder=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M16.6182 9.69568H3.38184V13.0638C3.38184 13.739 3.38238 14.2074 3.41211 14.5717C3.44124 14.9282 3.49494 15.1296 3.57129 15.2797L3.63867 15.3998C3.80618 15.673 4.04683 15.896 4.33399 16.0424L4.45703 16.0951C4.59362 16.144 4.77411 16.1797 5.04199 16.2015C5.40624 16.2313 5.87469 16.2318 6.54981 16.2318H13.4502C14.1253 16.2318 14.5938 16.2313 14.958 16.2015C15.3146 16.1724 15.516 16.1187 15.666 16.0424L15.7861 15.975C16.0594 15.8075 16.2824 15.5668 16.4287 15.2797L16.4814 15.1566C16.5303 15.02 16.566 14.8395 16.5879 14.5717C16.6176 14.2074 16.6182 13.739 16.6182 13.0638V9.69568ZM17.8818 13.0638C17.8818 13.7184 17.8826 14.2475 17.8477 14.6752C17.8165 15.0559 17.7543 15.3986 17.6172 15.7181L17.5537 15.8539C17.3015 16.3488 16.9182 16.7633 16.4473 17.0521L16.2402 17.1674C15.8824 17.3497 15.4966 17.4257 15.0615 17.4613C14.6338 17.4962 14.1047 17.4955 13.4502 17.4955H6.54981C5.89526 17.4955 5.36616 17.4962 4.93848 17.4613C4.55777 17.4302 4.21506 17.3679 3.89551 17.2308L3.75977 17.1674C3.26483 16.9151 2.85036 16.5319 2.56152 16.0609L2.44629 15.8539C2.26394 15.496 2.1879 15.1102 2.15235 14.6752C2.1174 14.2475 2.11817 13.7184 2.11817 13.0638V7.66345C2.11817 7.00891 2.1174 6.47981 2.15235 6.05213C2.1879 5.61708 2.26394 5.2313 2.44629 4.87341L2.56152 4.66638C2.85036 4.19544 3.26483 3.81219 3.75977 3.55994L3.89551 3.49646C4.21506 3.35936 4.55777 3.29711 4.93848 3.26599C5.36616 3.23105 5.89526 3.23181 6.54981 3.23181H7.24512C7.38876 3.23181 7.48717 3.23171 7.58399 3.23767L7.83496 3.26404C8.41501 3.34901 8.96006 3.60196 9.40039 3.99451L9.64356 4.23181C9.75546 4.34468 9.79343 4.38175 9.83008 4.41443L9.94238 4.5072C10.2142 4.71152 10.5413 4.83282 10.8828 4.85388L11.1445 4.85681H13.4502C14.1047 4.85681 14.6338 4.85605 15.0615 4.89099C15.4966 4.92655 15.8824 5.00259 16.2402 5.18494L16.4473 5.30017C16.9182 5.58901 17.3015 6.00347 17.5537 6.49841L17.6172 6.63416C17.7543 6.9537 17.8165 7.29641 17.8477 7.67713C17.8826 8.10481 17.8818 8.63391 17.8818 9.28845V13.0638ZM3.38184 8.43201H16.6143C16.6105 8.17881 16.603 7.9662 16.5879 7.78064C16.566 7.51275 16.5303 7.33227 16.4814 7.19568L16.4287 7.07263C16.2824 6.78548 16.0594 6.54483 15.7861 6.37732L15.666 6.30994C15.516 6.23359 15.3146 6.17989 14.958 6.15076C14.5938 6.12103 14.1253 6.12048 13.4502 6.12048H11.1445L10.8047 6.11463C10.2158 6.07831 9.65236 5.8701 9.1836 5.51795L8.98926 5.35779C8.91673 5.29313 8.84746 5.22273 8.7461 5.12048L8.55957 4.93787C8.30416 4.71018 7.98784 4.56324 7.65137 4.51404L7.50684 4.49841C7.45779 4.49539 7.4043 4.49549 7.24512 4.49548H6.54981C5.87469 4.49548 5.40624 4.49603 5.04199 4.52576C4.77411 4.54765 4.59362 4.58331 4.45703 4.6322L4.33399 4.68494C4.04683 4.83125 3.80618 5.05426 3.63867 5.32752L3.57129 5.44763C3.49494 5.5977 3.44124 5.79908 3.41211 6.15564C3.38238 6.51989 3.38184 6.98834 3.38184 7.66345V8.43201Z",fill:"currentColor"})),SvgPlus=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M9.83496 17V11.1651H4C3.63273 11.1651 3.33496 10.8673 3.33496 10.5C3.33496 10.1328 3.63273 9.83496 4 9.83496H9.83496V4C9.83496 3.63273 10.1327 3.33496 10.5 3.33496C10.8673 3.33496 11.1651 3.63273 11.1651 4V9.83496H17L17.1338 9.84866C17.4369 9.91056 17.6651 10.1786 17.6651 10.5C17.6651 10.8215 17.4369 11.0895 17.1338 11.1514L17 11.1651H11.1651V17C11.1651 17.3673 10.8673 17.6651 10.5 17.6651C10.1327 17.6651 9.83496 17.3673 9.83496 17Z",fill:"currentColor"})),SvgThreeDots=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M15.6981 9.04712C16.5255 9.04712 17.1959 9.71781 17.1961 10.5452C17.1961 11.3727 16.5256 12.0442 15.6981 12.0442C14.8706 12.0442 14.2 11.3727 14.2 10.5452C14.2002 9.71781 14.8707 9.04712 15.6981 9.04712Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M4.69806 9.04712C5.52546 9.04712 6.19691 9.71781 6.19708 10.5452C6.19708 11.3727 5.52557 12.0442 4.69806 12.0442C3.8707 12.044 3.20001 11.3726 3.20001 10.5452C3.20019 9.71792 3.87081 9.04729 4.69806 9.04712Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M10.2003 9.04712C11.0276 9.0473 11.6982 9.71792 11.6984 10.5452C11.6984 11.3726 11.0277 12.044 10.2003 12.0442C9.37284 12.0442 8.70132 11.3727 8.70132 10.5452C8.7015 9.71781 9.37295 9.04712 10.2003 9.04712Z",fill:"currentColor"})),aSidebarGroupOrder=persistedAtom("sidebar-group-order",[]);var src$2={},src$1={},$_StatsigGlobal={},Log={},hasRequiredLog;function requireLog(){return hasRequiredLog||(hasRequiredLog=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.Log=Ye.LogLevel=void 0;const rt=" DEBUG ",it="  INFO ",lt="  WARN ",ct=" ERROR ";function ut(ft){return ft.unshift("[Statsig]"),ft}Ye.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class ht{static info(...pt){ht.level>=Ye.LogLevel.Info&&console.info(it,...ut(pt))}static debug(...pt){ht.level>=Ye.LogLevel.Debug&&console.debug(rt,...ut(pt))}static warn(...pt){ht.level>=Ye.LogLevel.Warn&&console.warn(lt,...ut(pt))}static error(...pt){ht.level>=Ye.LogLevel.Error&&console.error(ct,...ut(pt))}}Ye.Log=ht,ht.level=Ye.LogLevel.Warn})(Log)),Log}var hasRequired$_StatsigGlobal;function require$_StatsigGlobal(){return hasRequired$_StatsigGlobal||(hasRequired$_StatsigGlobal=1,(function(Ye){var rt,it,lt;Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._getInstance=Ye._getStatsigGlobalFlag=Ye._getStatsigGlobal=void 0;const ct=requireLog(),ut=()=>{try{return typeof __STATSIG__<"u"?__STATSIG__:xt}catch{return xt}};Ye._getStatsigGlobal=ut;const ht=bt=>(0,Ye._getStatsigGlobal)()[bt];Ye._getStatsigGlobalFlag=ht;const ft=bt=>{const _t=(0,Ye._getStatsigGlobal)();return bt?_t.instances&&_t.instances[bt]:(_t.instances&&Object.keys(_t.instances).length>1&&ct.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),_t.firstInstance)};Ye._getInstance=ft;const pt="__STATSIG__",mt=typeof window<"u"?window:{},gt=typeof commonjsGlobal<"u"?commonjsGlobal:{},yt=typeof globalThis<"u"?globalThis:{},xt=(lt=(it=(rt=mt[pt])!==null&&rt!==void 0?rt:gt[pt])!==null&&it!==void 0?it:yt[pt])!==null&&lt!==void 0?lt:{instance:Ye._getInstance};mt[pt]=xt,gt[pt]=xt,yt[pt]=xt})($_StatsigGlobal)),$_StatsigGlobal}var Diagnostics={},hasRequiredDiagnostics;function requireDiagnostics(){return hasRequiredDiagnostics||(hasRequiredDiagnostics=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.Diagnostics=void 0;const rt=new Map,it="start",lt="end",ct="statsig::diagnostics";Ye.Diagnostics={_getMarkers:mt=>rt.get(mt),_markInitOverallStart:mt=>{ft(mt,ut({},it,"overall"))},_markInitOverallEnd:(mt,gt,yt)=>{ft(mt,ut({success:gt,error:gt?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:yt},lt,"overall"))},_markInitNetworkReqStart:(mt,gt)=>{ft(mt,ut(gt,it,"initialize","network_request"))},_markInitNetworkReqEnd:(mt,gt)=>{ft(mt,ut(gt,lt,"initialize","network_request"))},_markInitProcessStart:mt=>{ft(mt,ut({},it,"initialize","process"))},_markInitProcessEnd:(mt,gt)=>{ft(mt,ut(gt,lt,"initialize","process"))},_clearMarkers:mt=>{rt.delete(mt)},_formatError(mt){if(mt&&typeof mt=="object")return{code:pt(mt,"code"),name:pt(mt,"name"),message:pt(mt,"message")}},_getDiagnosticsData(mt,gt,yt,xt){var bt;return{success:mt?.ok===!0,statusCode:mt?.status,sdkRegion:(bt=mt?.headers)===null||bt===void 0?void 0:bt.get("x-statsig-region"),isDelta:yt.includes('"is_delta":true')===!0?!0:void 0,attempt:gt,error:Ye.Diagnostics._formatError(xt)}},_enqueueDiagnosticsEvent(mt,gt,yt,xt){const bt=Ye.Diagnostics._getMarkers(yt);if(bt==null||bt.length<=0)return-1;const _t=bt[bt.length-1].timestamp-bt[0].timestamp;Ye.Diagnostics._clearMarkers(yt);const Ct=ht(mt,{context:"initialize",markers:bt.slice(),statsigOptions:xt});return gt.enqueue(Ct),_t}};function ut(mt,gt,yt,xt){return Object.assign({key:yt,action:gt,step:xt,timestamp:Date.now()},mt)}function ht(mt,gt){return{eventName:ct,user:mt,value:null,metadata:gt,time:Date.now()}}function ft(mt,gt){var yt;const xt=(yt=rt.get(mt))!==null&&yt!==void 0?yt:[];xt.push(gt),rt.set(mt,xt)}function pt(mt,gt){if(gt in mt)return mt[gt]}})(Diagnostics)),Diagnostics}var EventLogger={},CacheKey={},Hashing={},TypingUtils={},hasRequiredTypingUtils;function requireTypingUtils(){if(hasRequiredTypingUtils)return TypingUtils;hasRequiredTypingUtils=1,Object.defineProperty(TypingUtils,"__esModule",{value:!0}),TypingUtils._isTypeMatch=TypingUtils._typeOf=void 0;function Ye(it){return Array.isArray(it)?"array":typeof it}TypingUtils._typeOf=Ye;function rt(it,lt){const ct=ut=>Array.isArray(ut)?"array":ut===null?"null":typeof ut;return ct(it)===ct(lt)}return TypingUtils._isTypeMatch=rt,TypingUtils}var hasRequiredHashing;function requireHashing(){return hasRequiredHashing||(hasRequiredHashing=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._getSortedObject=Ye._DJB2Object=Ye._DJB2=void 0;const rt=requireTypingUtils(),it=ut=>{let ht=0;for(let ft=0;ft<ut.length;ft++){const pt=ut.charCodeAt(ft);ht=(ht<<5)-ht+pt,ht=ht&ht}return String(ht>>>0)};Ye._DJB2=it;const lt=(ut,ht)=>(0,Ye._DJB2)(JSON.stringify((0,Ye._getSortedObject)(ut,ht)));Ye._DJB2Object=lt;const ct=(ut,ht)=>{if(ut==null)return null;const ft=Object.keys(ut).sort(),pt={};return ft.forEach(mt=>{const gt=ut[mt];if(ht===0||(0,rt._typeOf)(gt)!=="object"){pt[mt]=gt;return}pt[mt]=(0,Ye._getSortedObject)(gt,ht!=null?ht-1:ht)}),pt};Ye._getSortedObject=ct})(Hashing)),Hashing}var hasRequiredCacheKey;function requireCacheKey(){if(hasRequiredCacheKey)return CacheKey;hasRequiredCacheKey=1,Object.defineProperty(CacheKey,"__esModule",{value:!0}),CacheKey._getStorageKey=CacheKey._getUserStorageKey=void 0;const Ye=requireHashing();function rt(lt,ct,ut){var ht;if(ut)return ut(lt,ct);const ft=ct&&ct.customIDs?ct.customIDs:{},pt=[`uid:${(ht=ct?.userID)!==null&&ht!==void 0?ht:""}`,`cids:${Object.keys(ft).sort((mt,gt)=>mt.localeCompare(gt)).map(mt=>`${mt}-${ft[mt]}`).join(",")}`,`k:${lt}`];return(0,Ye._DJB2)(pt.join("|"))}CacheKey._getUserStorageKey=rt;function it(lt,ct,ut){return ct?rt(lt,ct,ut):(0,Ye._DJB2)(`k:${lt}`)}return CacheKey._getStorageKey=it,CacheKey}var NetworkConfig={},hasRequiredNetworkConfig;function requireNetworkConfig(){return hasRequiredNetworkConfig||(hasRequiredNetworkConfig=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.NetworkParam=Ye.NetworkDefault=Ye.Endpoint=void 0,Ye.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},Ye.NetworkDefault={[Ye.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[Ye.Endpoint._initialize]:"https://featureassets.org/v1",[Ye.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},Ye.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}})(NetworkConfig)),NetworkConfig}var SafeJs={},hasRequiredSafeJs;function requireSafeJs(){return hasRequiredSafeJs||(hasRequiredSafeJs=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._getUnloadEvent=Ye._getCurrentPageUrlSafe=Ye._addDocumentEventListenerSafe=Ye._addWindowEventListenerSafe=Ye._isServerEnv=Ye._getDocumentSafe=Ye._getWindowSafe=void 0;const rt=()=>typeof window<"u"?window:null;Ye._getWindowSafe=rt;const it=()=>{var pt;const mt=(0,Ye._getWindowSafe)();return(pt=mt?.document)!==null&&pt!==void 0?pt:null};Ye._getDocumentSafe=it;const lt=()=>{if((0,Ye._getDocumentSafe)()!==null)return!1;const pt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return typeof EdgeRuntime=="string"||pt};Ye._isServerEnv=lt;const ct=(pt,mt)=>{const gt=(0,Ye._getWindowSafe)();typeof gt?.addEventListener=="function"&&gt.addEventListener(pt,mt)};Ye._addWindowEventListenerSafe=ct;const ut=(pt,mt)=>{const gt=(0,Ye._getDocumentSafe)();typeof gt?.addEventListener=="function"&&gt.addEventListener(pt,mt)};Ye._addDocumentEventListenerSafe=ut;const ht=()=>{var pt;try{return(pt=(0,Ye._getWindowSafe)())===null||pt===void 0?void 0:pt.location.href.split(/[?#]/)[0]}catch{return}};Ye._getCurrentPageUrlSafe=ht;const ft=()=>{const pt=(0,Ye._getWindowSafe)();return pt&&"onpagehide"in pt?"pagehide":"beforeunload"};Ye._getUnloadEvent=ft})(SafeJs)),SafeJs}var StatsigEvent={},hasRequiredStatsigEvent;function requireStatsigEvent(){if(hasRequiredStatsigEvent)return StatsigEvent;hasRequiredStatsigEvent=1,Object.defineProperty(StatsigEvent,"__esModule",{value:!0}),StatsigEvent._createLayerParameterExposure=StatsigEvent._createConfigExposure=StatsigEvent._mapExposures=StatsigEvent._createGateExposure=StatsigEvent._isExposureEvent=void 0;const Ye="statsig::config_exposure",rt="statsig::gate_exposure",it="statsig::layer_exposure",lt=(gt,yt,xt,bt,_t)=>(xt.bootstrapMetadata&&(bt.bootstrapMetadata=xt.bootstrapMetadata),{eventName:gt,user:yt,value:null,metadata:mt(xt,bt),secondaryExposures:_t,time:Date.now()}),ct=({eventName:gt})=>gt===rt||gt===Ye||gt===it;StatsigEvent._isExposureEvent=ct;const ut=(gt,yt,xt)=>{var bt,_t,Ct;const kt={gate:yt.name,gateValue:String(yt.value),ruleID:yt.ruleID};return((bt=yt.__evaluation)===null||bt===void 0?void 0:bt.version)!=null&&(kt.configVersion=yt.__evaluation.version),lt(rt,gt,yt.details,kt,ht((Ct=(_t=yt.__evaluation)===null||_t===void 0?void 0:_t.secondary_exposures)!==null&&Ct!==void 0?Ct:[],xt))};StatsigEvent._createGateExposure=ut;function ht(gt,yt){return gt.map(xt=>typeof xt=="string"?(yt??{})[xt]:xt).filter(xt=>xt!=null)}StatsigEvent._mapExposures=ht;const ft=(gt,yt,xt)=>{var bt,_t,Ct,kt;const St={config:yt.name,ruleID:yt.ruleID};return((bt=yt.__evaluation)===null||bt===void 0?void 0:bt.version)!=null&&(St.configVersion=yt.__evaluation.version),((_t=yt.__evaluation)===null||_t===void 0?void 0:_t.passed)!=null&&(St.rulePassed=String(yt.__evaluation.passed)),lt(Ye,gt,yt.details,St,ht((kt=(Ct=yt.__evaluation)===null||Ct===void 0?void 0:Ct.secondary_exposures)!==null&&kt!==void 0?kt:[],xt))};StatsigEvent._createConfigExposure=ft;const pt=(gt,yt,xt,bt)=>{var _t,Ct,kt,St,Rt,Tt,Mt;const Pt=yt.__evaluation,It=((_t=Pt?.explicit_parameters)===null||_t===void 0?void 0:_t.includes(xt))===!0;let Lt="",Ot=(Ct=Pt?.undelegated_secondary_exposures)!==null&&Ct!==void 0?Ct:[];It&&(Lt=(kt=Pt.allocated_experiment_name)!==null&&kt!==void 0?kt:"",Ot=(St=Pt.secondary_exposures)!==null&&St!==void 0?St:[]);const Ft=(Rt=yt.__evaluation)===null||Rt===void 0?void 0:Rt.parameter_rule_ids,Ut={config:yt.name,parameterName:xt,ruleID:(Tt=Ft?.[xt])!==null&&Tt!==void 0?Tt:yt.ruleID,allocatedExperiment:Lt,isExplicitParameter:String(It)};return((Mt=yt.__evaluation)===null||Mt===void 0?void 0:Mt.version)!=null&&(Ut.configVersion=yt.__evaluation.version),lt(it,gt,yt.details,Ut,ht(Ot,bt))};StatsigEvent._createLayerParameterExposure=pt;const mt=(gt,yt)=>(yt.reason=gt.reason,gt.lcut&&(yt.lcut=String(gt.lcut)),gt.receivedAt&&(yt.receivedAt=String(gt.receivedAt)),yt);return StatsigEvent}var StatsigOptionsCommon={},hasRequiredStatsigOptionsCommon;function requireStatsigOptionsCommon(){return hasRequiredStatsigOptionsCommon||(hasRequiredStatsigOptionsCommon=1,Object.defineProperty(StatsigOptionsCommon,"__esModule",{value:!0}),StatsigOptionsCommon.LoggingEnabledOption=StatsigOptionsCommon.LogEventCompressionMode=void 0,StatsigOptionsCommon.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},StatsigOptionsCommon.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}),StatsigOptionsCommon}var StorageProvider={},hasRequiredStorageProvider;function requireStorageProvider(){return hasRequiredStorageProvider||(hasRequiredStorageProvider=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._setObjectInStorage=Ye._getObjectFromStorage=Ye.Storage=void 0;const rt=requireLog(),it=requireSafeJs(),lt={},ct={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:yt=>lt[yt]?lt[yt]:null,setItem:(yt,xt)=>{lt[yt]=xt},removeItem:yt=>{delete lt[yt]},getAllKeys:()=>Object.keys(lt)};let ut=null;try{const yt=(0,it._getWindowSafe)();yt&&yt.localStorage&&typeof yt.localStorage.getItem=="function"&&(ut={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:xt=>yt.localStorage.getItem(xt),setItem:(xt,bt)=>yt.localStorage.setItem(xt,bt),removeItem:xt=>yt.localStorage.removeItem(xt),getAllKeys:()=>Object.keys(yt.localStorage)})}catch{rt.Log.warn("Failed to setup localStorageProvider.")}let ht=ut??ct,ft=ht;function pt(yt){try{return yt()}catch(xt){if(xt instanceof Error&&xt.name==="SecurityError")return Ye.Storage._setProvider(ct),null;throw xt}}Ye.Storage={isReady:()=>ft.isReady(),isReadyResolver:()=>ft.isReadyResolver(),getProviderName:()=>ft.getProviderName(),getItem:yt=>pt(()=>ft.getItem(yt)),setItem:(yt,xt)=>pt(()=>ft.setItem(yt,xt)),removeItem:yt=>ft.removeItem(yt),getAllKeys:()=>ft.getAllKeys(),_setProvider:yt=>{ht=yt,ft=yt},_setDisabled:yt=>{yt?ft=ct:ft=ht}};function mt(yt){const xt=Ye.Storage.getItem(yt);return JSON.parse(xt??"null")}Ye._getObjectFromStorage=mt;function gt(yt,xt){Ye.Storage.setItem(yt,JSON.stringify(xt))}Ye._setObjectInStorage=gt})(StorageProvider)),StorageProvider}var UrlConfiguration={},hasRequiredUrlConfiguration;function requireUrlConfiguration(){if(hasRequiredUrlConfiguration)return UrlConfiguration;hasRequiredUrlConfiguration=1,Object.defineProperty(UrlConfiguration,"__esModule",{value:!0}),UrlConfiguration.UrlConfiguration=void 0;const Ye=requireHashing(),rt=requireNetworkConfig(),it={[rt.Endpoint._initialize]:"i",[rt.Endpoint._rgstr]:"e",[rt.Endpoint._download_config_specs]:"d"};let lt=class{constructor(ut,ht,ft,pt){this.customUrl=null,this.fallbackUrls=null,this.endpoint=ut,this.endpointDnsKey=it[ut],ht&&(this.customUrl=ht),!ht&&ft&&(this.customUrl=ft.endsWith("/")?`${ft}${ut}`:`${ft}/${ut}`),pt&&(this.fallbackUrls=pt);const mt=rt.NetworkDefault[ut];this.defaultUrl=`${mt}/${ut}`}getUrl(){var ut;return(ut=this.customUrl)!==null&&ut!==void 0?ut:this.defaultUrl}getChecksum(){var ut;const ht=((ut=this.fallbackUrls)!==null&&ut!==void 0?ut:[]).sort().join(",");return(0,Ye._DJB2)(this.customUrl+ht)}};return UrlConfiguration.UrlConfiguration=lt,UrlConfiguration}var VisibilityObserving={},hasRequiredVisibilityObserving;function requireVisibilityObserving(){return hasRequiredVisibilityObserving||(hasRequiredVisibilityObserving=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._notifyVisibilityChanged=Ye._subscribeToVisiblityChanged=Ye._isUnloading=Ye._isCurrentlyVisible=void 0;const rt=requireSafeJs(),it="foreground",lt="background",ct=[];let ut=it,ht=!1;const ft=()=>ut===it;Ye._isCurrentlyVisible=ft;const pt=()=>ht;Ye._isUnloading=pt;const mt=yt=>{ct.unshift(yt)};Ye._subscribeToVisiblityChanged=mt;const gt=yt=>{yt!==ut&&(ut=yt,ct.forEach(xt=>xt(yt)))};Ye._notifyVisibilityChanged=gt,(0,rt._addWindowEventListenerSafe)("focus",()=>{ht=!1,(0,Ye._notifyVisibilityChanged)(it)}),(0,rt._addWindowEventListenerSafe)("blur",()=>(0,Ye._notifyVisibilityChanged)(lt)),(0,rt._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,Ye._notifyVisibilityChanged)(document.visibilityState==="visible"?it:lt)}),(0,rt._addWindowEventListenerSafe)((0,rt._getUnloadEvent)(),()=>{ht=!0,(0,Ye._notifyVisibilityChanged)(lt)})})(VisibilityObserving)),VisibilityObserving}var hasRequiredEventLogger;function requireEventLogger(){if(hasRequiredEventLogger)return EventLogger;hasRequiredEventLogger=1;var Ye=EventLogger&&EventLogger.__awaiter||function(Mt,Pt,It,Lt){function Ot(Ft){return Ft instanceof It?Ft:new It(function(Ut){Ut(Ft)})}return new(It||(It=Promise))(function(Ft,Ut){function Wt(Zt){try{Qt(Lt.next(Zt))}catch(Vt){Ut(Vt)}}function Kt(Zt){try{Qt(Lt.throw(Zt))}catch(Vt){Ut(Vt)}}function Qt(Zt){Zt.done?Ft(Zt.value):Ot(Zt.value).then(Wt,Kt)}Qt((Lt=Lt.apply(Mt,Pt||[])).next())})};Object.defineProperty(EventLogger,"__esModule",{value:!0}),EventLogger.EventLogger=void 0;const rt=requireCacheKey(),it=requireHashing(),lt=requireLog(),ct=requireNetworkConfig(),ut=requireSafeJs(),ht=requireStatsigEvent(),ft=requireStatsigOptionsCommon(),pt=requireStorageProvider(),mt=requireUrlConfiguration(),gt=requireVisibilityObserving(),yt=100,xt=1e4,bt=1e3,_t=6e5,Ct=500,kt=200,St={},Rt={Startup:"startup",GainedFocus:"gained_focus"};let Tt=class Ha{static _safeFlushAndForget(Pt){var It;(It=St[Pt])===null||It===void 0||It.flush().catch(()=>{})}static _safeRetryFailedLogs(Pt){var It;(It=St[Pt])===null||It===void 0||It._retryFailedLogs(Rt.GainedFocus)}constructor(Pt,It,Lt,Ot){var Ft,Ut;this._sdkKey=Pt,this._emitter=It,this._network=Lt,this._options=Ot,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=(Ft=Ot?.loggingEnabled)!==null&&Ft!==void 0?Ft:Ot?.disableLogging===!0?ft.LoggingEnabledOption.disabled:ft.LoggingEnabledOption.browserOnly,Ot?.loggingEnabled&&Ot.disableLogging!==void 0&&lt.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=(Ut=Ot?.loggingBufferMaxSize)!==null&&Ut!==void 0?Ut:yt;const Wt=Ot?.networkConfig;this._logEventUrlConfig=new mt.UrlConfiguration(ct.Endpoint._rgstr,Wt?.logEventUrl,Wt?.api,Wt?.logEventFallbackUrls)}setLogEventCompressionMode(Pt){this._network.setLogEventCompressionMode(Pt)}setLoggingEnabled(Pt){if(this._loggingEnabled==="disabled"&&Pt!=="disabled"){const It=this._getStorageKey(),Lt=(0,pt._getObjectFromStorage)(It);Lt&&this._queue.push(...Lt),pt.Storage.removeItem(It)}this._loggingEnabled=Pt}enqueue(Pt){this._shouldLogEvent(Pt)&&(this._normalizeAndAppendEvent(Pt),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&Ha._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(Pt){var It;const Lt=(It=this._nonExposedChecks[Pt])!==null&&It!==void 0?It:0;this._nonExposedChecks[Pt]=Lt+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var Pt;const It=(0,ut._isServerEnv)();It&&((Pt=this._options)===null||Pt===void 0?void 0:Pt.loggingEnabled)!=="always"||(St[this._sdkKey]=this,It||(0,gt._subscribeToVisiblityChanged)(Lt=>{Lt==="background"?Ha._safeFlushAndForget(this._sdkKey):Lt==="foreground"&&Ha._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(Rt.Startup),this._startBackgroundFlushInterval())}stop(){return Ye(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete St[this._sdkKey],yield this.flush()})}flush(){return Ye(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),this._queue.length===0)return;const Pt=this._queue;this._queue=[],yield this._sendEvents(Pt)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>kt)&&setTimeout(()=>Ha._safeFlushAndForget(this._sdkKey),kt))}_shouldLogEvent(Pt){var It;if(((It=this._options)===null||It===void 0?void 0:It.loggingEnabled)!=="always"&&(0,ut._isServerEnv)())return!1;if(!(0,ht._isExposureEvent)(Pt))return!0;const Lt=Pt.user?Pt.user:{statsigEnvironment:void 0},Ot=(0,rt._getUserStorageKey)(this._sdkKey,Lt),Ft=Pt.metadata?Pt.metadata:{},Ut=[Pt.eventName,Ot,Ft.gate,Ft.config,Ft.ruleID,Ft.allocatedExperiment,Ft.parameterName,String(Ft.isExplicitParameter),Ft.reason].join("|"),Wt=this._lastExposureTimeMap[Ut],Kt=Date.now();return Wt&&Kt-Wt<_t?!1:(Object.keys(this._lastExposureTimeMap).length>bt&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[Ut]=Kt,!0)}_sendEvents(Pt){return Ye(this,void 0,void 0,function*(){var It,Lt;if(this._loggingEnabled==="disabled")return this._saveFailedLogsToStorage(Pt),!1;try{const Ft=(0,gt._isUnloading)()&&this._network.isBeaconSupported()&&((Lt=(It=this._options)===null||It===void 0?void 0:It.networkConfig)===null||Lt===void 0?void 0:Lt.networkOverrideFunc)==null;return this._emitter({name:"pre_logs_flushed",events:Pt}),(Ft?this._sendEventsViaBeacon(Pt):yield this._sendEventsViaPost(Pt)).success?(this._emitter({name:"logs_flushed",events:Pt}),!0):(lt.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(Pt),!1)}catch{return lt.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(Pt){return Ye(this,void 0,void 0,function*(){var It;const Lt=yield this._network.post(this._getRequestData(Pt)),Ot=(It=Lt?.code)!==null&&It!==void 0?It:-1;return{success:Ot>=200&&Ot<300}})}_sendEventsViaBeacon(Pt){return{success:this._network.beacon(this._getRequestData(Pt))}}_getRequestData(Pt){return{sdkKey:this._sdkKey,data:{events:Pt},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[ct.NetworkParam.EventCount]:String(Pt.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(Pt){for(;Pt.length>Ct;)Pt.shift();const It=this._getStorageKey();try{const Lt=this._getFailedLogsFromStorage(It);(0,pt._setObjectInStorage)(It,[...Lt,...Pt])}catch{lt.Log.warn("Unable to save failed logs to storage")}}_getFailedLogsFromStorage(Pt){let It=[];try{const Lt=(0,pt._getObjectFromStorage)(Pt);return Array.isArray(Lt)&&(It=Lt),It}catch{return[]}}_retryFailedLogs(Pt){const It=this._getStorageKey();Ye(this,void 0,void 0,function*(){pt.Storage.isReady()||(yield pt.Storage.isReadyResolver());const Lt=(0,pt._getObjectFromStorage)(It);if(!Lt)return;Pt===Rt.Startup&&pt.Storage.removeItem(It),(yield this._sendEvents(Lt))&&Pt===Rt.GainedFocus&&pt.Storage.removeItem(It)}).catch(()=>{lt.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,it._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(Pt){Pt.user&&(Pt.user=Object.assign({},Pt.user),delete Pt.user.privateAttributes);const It={},Lt=this._getCurrentPageUrl();Lt&&(It.statsigMetadata={currentPage:Lt});const Ot=Object.assign(Object.assign({},Pt),It);lt.Log.debug("Enqueued Event:",Ot),this._queue.push(Ot)}_appendAndResetNonExposedChecks(){Object.keys(this._nonExposedChecks).length!==0&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var Pt;if(((Pt=this._options)===null||Pt===void 0?void 0:Pt.includeCurrentPageUrlWithEvents)!==!1)return(0,ut._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var Pt,It;const Lt=(It=(Pt=this._options)===null||Pt===void 0?void 0:Pt.loggingIntervalMs)!==null&&It!==void 0?It:xt,Ot=setInterval(()=>{const Ft=St[this._sdkKey];!Ft||Ft._flushIntervalId!==Ot?clearInterval(Ot):Ha._safeFlushAndForget(this._sdkKey)},Lt);this._flushIntervalId=Ot}};return EventLogger.EventLogger=Tt,EventLogger}var StatsigMetadata={},hasRequiredStatsigMetadata;function requireStatsigMetadata(){return hasRequiredStatsigMetadata||(hasRequiredStatsigMetadata=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.StatsigMetadataProvider=Ye.SDK_VERSION=void 0,Ye.SDK_VERSION="3.27.0";let rt={sdkVersion:Ye.SDK_VERSION,sdkType:"js-mono"};Ye.StatsigMetadataProvider={get:()=>rt,add:it=>{rt=Object.assign(Object.assign({},rt),it)}}})(StatsigMetadata)),StatsigMetadata}var ClientInterfaces={},hasRequiredClientInterfaces;function requireClientInterfaces(){return hasRequiredClientInterfaces||(hasRequiredClientInterfaces=1,Object.defineProperty(ClientInterfaces,"__esModule",{value:!0})),ClientInterfaces}var DataAdapterCore={},StableID={},UUID={},hasRequiredUUID;function requireUUID(){if(hasRequiredUUID)return UUID;hasRequiredUUID=1,Object.defineProperty(UUID,"__esModule",{value:!0}),UUID.getUUID=void 0;function Ye(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let rt=new Date().getTime(),it=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(Math.random()*4)]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,ct=>{let ut=Math.random()*16;return rt>0?(ut=(rt+ut)%16|0,rt=Math.floor(rt/16)):(ut=(it+ut)%16|0,it=Math.floor(it/16)),(ct==="x"?ut:ut&7|8).toString(16)})}return UUID.getUUID=Ye,UUID}var hasRequiredStableID;function requireStableID(){if(hasRequiredStableID)return StableID;hasRequiredStableID=1,Object.defineProperty(StableID,"__esModule",{value:!0}),StableID.getCookieName=StableID.StableID=void 0;const Ye=requireCacheKey(),rt=requireLog(),it=requireSafeJs(),lt=requireStorageProvider(),ct=requireUUID(),ut={},ht={},ft={};StableID.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:_t=>{if(ft[_t])return null;if(ut[_t]!=null)return ut[_t];let Ct=null;return Ct=yt(_t),Ct!=null?(ut[_t]=Ct,mt(Ct,_t),Ct):(Ct=gt(_t),Ct==null&&(Ct=(0,ct.getUUID)()),mt(Ct,_t),xt(Ct,_t),ut[_t]=Ct,Ct)},setOverride:(_t,Ct)=>{ut[Ct]=_t,mt(_t,Ct),xt(_t,Ct)},_setCookiesEnabled:(_t,Ct)=>{ht[_t]=Ct},_setDisabled:(_t,Ct)=>{ft[_t]=Ct}};function pt(_t){return`statsig.stable_id.${(0,Ye._getStorageKey)(_t)}`}function mt(_t,Ct){const kt=pt(Ct);try{(0,lt._setObjectInStorage)(kt,_t)}catch{rt.Log.warn("Failed to save StableID to storage")}}function gt(_t){const Ct=pt(_t);return(0,lt._getObjectFromStorage)(Ct)}function yt(_t){if(!ht[_t]||(0,it._getDocumentSafe)()==null)return null;const Ct=document.cookie.split(";");for(const kt of Ct){const[St,Rt]=kt.trim().split("=");if(St===bt(_t))return decodeURIComponent(Rt)}return null}function xt(_t,Ct){if(!ht[Ct]||(0,it._getDocumentSafe)()==null)return;const kt=new Date;kt.setFullYear(kt.getFullYear()+1),document.cookie=`${bt(Ct)}=${encodeURIComponent(_t)}; expires=${kt.toUTCString()}; path=/`}function bt(_t){return`statsig.stable_id.${(0,Ye._getStorageKey)(_t)}`}return StableID.getCookieName=bt,StableID}var StatsigUser={},hasRequiredStatsigUser;function requireStatsigUser(){if(hasRequiredStatsigUser)return StatsigUser;hasRequiredStatsigUser=1,Object.defineProperty(StatsigUser,"__esModule",{value:!0}),StatsigUser._getFullUserHash=StatsigUser._normalizeUser=void 0;const Ye=requireHashing(),rt=requireLog();function it(ct,ut,ht){try{const ft=JSON.parse(JSON.stringify(ct));return ut!=null&&ut.environment!=null?ft.statsigEnvironment=ut.environment:ht!=null&&(ft.statsigEnvironment={tier:ht}),ft}catch{return rt.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}StatsigUser._normalizeUser=it;function lt(ct){return ct?(0,Ye._DJB2Object)(ct):null}return StatsigUser._getFullUserHash=lt,StatsigUser}var TypedJsonParse={},hasRequiredTypedJsonParse;function requireTypedJsonParse(){if(hasRequiredTypedJsonParse)return TypedJsonParse;hasRequiredTypedJsonParse=1,Object.defineProperty(TypedJsonParse,"__esModule",{value:!0}),TypedJsonParse._typedJsonParse=void 0;const Ye=requireLog();function rt(it,lt,ct){try{const ut=JSON.parse(it);if(ut&&typeof ut=="object"&&lt in ut)return ut}catch{}return Ye.Log.error(`Failed to parse ${ct}`),null}return TypedJsonParse._typedJsonParse=rt,TypedJsonParse}var hasRequiredDataAdapterCore;function requireDataAdapterCore(){if(hasRequiredDataAdapterCore)return DataAdapterCore;hasRequiredDataAdapterCore=1;var Ye=DataAdapterCore&&DataAdapterCore.__awaiter||function(xt,bt,_t,Ct){function kt(St){return St instanceof _t?St:new _t(function(Rt){Rt(St)})}return new(_t||(_t=Promise))(function(St,Rt){function Tt(It){try{Pt(Ct.next(It))}catch(Lt){Rt(Lt)}}function Mt(It){try{Pt(Ct.throw(It))}catch(Lt){Rt(Lt)}}function Pt(It){It.done?St(It.value):kt(It.value).then(Tt,Mt)}Pt((Ct=Ct.apply(xt,bt||[])).next())})};Object.defineProperty(DataAdapterCore,"__esModule",{value:!0}),DataAdapterCore._makeDataAdapterResult=DataAdapterCore.DataAdapterCore=void 0;const rt=requireLog(),it=requireStableID(),lt=requireStatsigUser(),ct=requireStorageProvider(),ut=requireTypedJsonParse(),ht=10,ft=8;let pt=class{constructor(bt,_t){this._adapterName=bt,this._cacheSuffix=_t,this._options=null,this._sdkKey=null,this._cacheLimit=ht,this._lastModifiedStoreKey=`statsig.last_modified_time.${_t}`,this._inMemoryCache=new gt}attach(bt,_t,Ct){this._sdkKey=bt,this._options=_t}getDataSync(bt){const _t=bt&&(0,lt._normalizeUser)(bt,this._options),Ct=this._getCacheKey(_t),kt=this._inMemoryCache.get(Ct,_t);if(kt&&this._getIsCacheValueValid(kt))return kt;const St=this._loadFromCache(Ct);return St&&this._getIsCacheValueValid(St)?(this._inMemoryCache.add(Ct,St,this._cacheLimit),this._inMemoryCache.get(Ct,_t)):null}setData(bt,_t){const Ct=_t&&(0,lt._normalizeUser)(_t,this._options),kt=this._getCacheKey(Ct);this._inMemoryCache.add(kt,mt("Bootstrap",bt,null,Ct),this._cacheLimit)}_getIsCacheValueValid(bt){return bt.stableID==null||bt.stableID===it.StableID.get(this._getSdkKey())}_getDataAsyncImpl(bt,_t,Ct){return Ye(this,void 0,void 0,function*(){ct.Storage.isReady()||(yield ct.Storage.isReadyResolver());const kt=bt??this.getDataSync(_t),St=[this._fetchAndPrepFromNetwork(kt,_t,Ct)];return Ct?.timeoutMs&&St.push(new Promise(Rt=>setTimeout(Rt,Ct.timeoutMs)).then(()=>(rt.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(St)})}_prefetchDataImpl(bt,_t){return Ye(this,void 0,void 0,function*(){const Ct=bt&&(0,lt._normalizeUser)(bt,this._options),kt=this._getCacheKey(Ct),St=yield this._getDataAsyncImpl(null,Ct,_t);St&&this._inMemoryCache.add(kt,Object.assign(Object.assign({},St),{source:"Prefetch"}),this._cacheLimit)})}_fetchAndPrepFromNetwork(bt,_t,Ct){return Ye(this,void 0,void 0,function*(){var kt;const St=(kt=bt?.data)!==null&&kt!==void 0?kt:null,Rt=bt!=null&&this._isCachedResultValidFor204(bt,_t),Tt=yield this._fetchFromNetwork(St,_t,Ct,Rt);if(!Tt)return rt.Log.debug("No response returned for latest value"),null;const Mt=(0,ut._typedJsonParse)(Tt,"has_updates","Response"),Pt=this._getSdkKey(),It=it.StableID.get(Pt);let Lt=null;if(Mt?.has_updates===!0)Lt=mt("Network",Tt,It,_t);else if(St&&Mt?.has_updates===!1)Lt=mt("NetworkNotModified",St,It,_t);else return null;const Ot=this._getCacheKey(_t);return this._inMemoryCache.add(Ot,Lt,this._cacheLimit),this._writeToCache(Ot,Lt),Lt})}_getSdkKey(){return this._sdkKey!=null?this._sdkKey:(rt.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(bt){var _t;const Ct=(_t=ct.Storage.getItem)===null||_t===void 0?void 0:_t.call(ct.Storage,bt);if(Ct==null)return null;const kt=(0,ut._typedJsonParse)(Ct,"source","Cached Result");return kt?Object.assign(Object.assign({},kt),{source:"Cache"}):null}_writeToCache(bt,_t){const Ct=JSON.stringify(_t);for(let kt=0;kt<ft;kt++)try{ct.Storage.setItem(bt,Ct);break}catch(St){if(!(St instanceof Error)||!(St.toString().includes("QuotaExceededError")||St.toString().includes("QUOTA_EXCEEDED_ERR"))||this._cacheLimit<=1)throw St;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(bt,this._cacheLimit-1)}this._runLocalStorageCacheEviction(bt)}_runLocalStorageCacheEviction(bt,_t=this._cacheLimit){var Ct;const kt=(Ct=(0,ct._getObjectFromStorage)(this._lastModifiedStoreKey))!==null&&Ct!==void 0?Ct:{};kt[bt]=Date.now();const St=yt(kt,_t);for(const Rt of St)delete kt[Rt],ct.Storage.removeItem(Rt);(0,ct._setObjectInStorage)(this._lastModifiedStoreKey,kt)}};DataAdapterCore.DataAdapterCore=pt;function mt(xt,bt,_t,Ct){return{source:xt,data:bt,receivedAt:Date.now(),stableID:_t,fullUserHash:(0,lt._getFullUserHash)(Ct)}}DataAdapterCore._makeDataAdapterResult=mt;class gt{constructor(){this._data={}}get(bt,_t){var Ct;const kt=this._data[bt],St=kt?.stableID,Rt=(Ct=_t?.customIDs)===null||Ct===void 0?void 0:Ct.stableID;return Rt&&St&&Rt!==St?(rt.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):kt}add(bt,_t,Ct){const kt=yt(this._data,Ct-1);for(const St of kt)delete this._data[St];this._data[bt]=_t}merge(bt){this._data=Object.assign(Object.assign({},this._data),bt)}}function yt(xt,bt){const _t=Object.keys(xt);return _t.length<=bt?[]:bt===0?_t:_t.sort((Ct,kt)=>{const St=xt[Ct],Rt=xt[kt];return typeof St=="object"&&typeof Rt=="object"?St.receivedAt-Rt.receivedAt:St-Rt}).slice(0,_t.length-bt)}return DataAdapterCore}var DownloadConfigSpecsResponse={},hasRequiredDownloadConfigSpecsResponse;function requireDownloadConfigSpecsResponse(){return hasRequiredDownloadConfigSpecsResponse||(hasRequiredDownloadConfigSpecsResponse=1,Object.defineProperty(DownloadConfigSpecsResponse,"__esModule",{value:!0})),DownloadConfigSpecsResponse}var ErrorBoundary$1={},SDKType={},hasRequiredSDKType;function requireSDKType(){if(hasRequiredSDKType)return SDKType;hasRequiredSDKType=1,Object.defineProperty(SDKType,"__esModule",{value:!0}),SDKType.SDKType=void 0;const Ye={};let rt;return SDKType.SDKType={_get:it=>{var lt;return((lt=Ye[it])!==null&&lt!==void 0?lt:"js-mono")+(rt??"")},_setClientType(it,lt){Ye[it]=lt},_setBindingType(it){(!rt||rt==="-react")&&(rt="-"+it)}},SDKType}var hasRequiredErrorBoundary;function requireErrorBoundary(){return hasRequiredErrorBoundary||(hasRequiredErrorBoundary=1,(function(Ye){var rt=ErrorBoundary$1&&ErrorBoundary$1.__awaiter||function(yt,xt,bt,_t){function Ct(kt){return kt instanceof bt?kt:new bt(function(St){St(kt)})}return new(bt||(bt=Promise))(function(kt,St){function Rt(Pt){try{Mt(_t.next(Pt))}catch(It){St(It)}}function Tt(Pt){try{Mt(_t.throw(Pt))}catch(It){St(It)}}function Mt(Pt){Pt.done?kt(Pt.value):Ct(Pt.value).then(Rt,Tt)}Mt((_t=_t.apply(yt,xt||[])).next())})};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.ErrorBoundary=Ye.EXCEPTION_ENDPOINT=void 0;const it=requireLog(),lt=requireSDKType(),ct=requireStatsigMetadata();Ye.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const ut="[Statsig] UnknownError";class ht{constructor(xt,bt,_t,Ct){this._sdkKey=xt,this._options=bt,this._emitter=_t,this._lastSeenError=Ct,this._seen=new Set}wrap(xt,bt){try{const _t=xt;mt(_t).forEach(Ct=>{const kt=_t[Ct];"$EB"in kt||(_t[Ct]=(...St)=>this._capture(bt?`${bt}:${Ct}`:Ct,()=>kt.apply(xt,St)),_t[Ct].$EB=!0)})}catch(_t){this._onError("eb:wrap",_t)}}logError(xt,bt){this._onError(xt,bt)}getLastSeenErrorAndReset(){const xt=this._lastSeenError;return this._lastSeenError=void 0,xt??null}attachErrorIfNoneExists(xt){this._lastSeenError||(this._lastSeenError=ft(xt))}_capture(xt,bt){try{const _t=bt();return _t&&_t instanceof Promise?_t.catch(Ct=>this._onError(xt,Ct)):_t}catch(_t){return this._onError(xt,_t),null}}_onError(xt,bt){try{it.Log.warn(`Caught error in ${xt}`,{error:bt}),rt(this,void 0,void 0,function*(){var Ct,kt,St,Rt,Tt,Mt,Pt;const It=bt||Error(ut),Lt=It instanceof Error,Ot=Lt?It.name:"No Name",Ft=ft(It);if(this._lastSeenError=Ft,this._seen.has(Ot))return;if(this._seen.add(Ot),!((kt=(Ct=this._options)===null||Ct===void 0?void 0:Ct.networkConfig)===null||kt===void 0)&&kt.preventAllNetworkTraffic){(St=this._emitter)===null||St===void 0||St.call(this,{name:"error",error:bt,tag:xt});return}const Ut=lt.SDKType._get(this._sdkKey),Wt=ct.StatsigMetadataProvider.get(),Kt=Lt?It.stack:pt(It),Qt=Object.assign({tag:xt,exception:Ot,info:Kt,statsigOptions:gt(this._options)},Object.assign(Object.assign({},Wt),{sdkType:Ut}));yield((Mt=(Tt=(Rt=this._options)===null||Rt===void 0?void 0:Rt.networkConfig)===null||Tt===void 0?void 0:Tt.networkOverrideFunc)!==null&&Mt!==void 0?Mt:fetch)(Ye.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(Ut),"STATSIG-SDK-VERSION":String(Wt.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(Qt)}),(Pt=this._emitter)===null||Pt===void 0||Pt.call(this,{name:"error",error:bt,tag:xt})}).then(()=>{}).catch(()=>{})}catch{}}}Ye.ErrorBoundary=ht;function ft(yt){return yt instanceof Error?yt:typeof yt=="string"?new Error(yt):new Error("An unknown error occurred.")}function pt(yt){try{return JSON.stringify(yt)}catch{return ut}}function mt(yt){const xt=new Set;let bt=Object.getPrototypeOf(yt);for(;bt&&bt!==Object.prototype;)Object.getOwnPropertyNames(bt).filter(_t=>typeof bt?.[_t]=="function").forEach(_t=>xt.add(_t)),bt=Object.getPrototypeOf(bt);return Array.from(xt)}function gt(yt){if(!yt)return{};const xt={};return Object.keys(yt).forEach(bt=>{const _t=bt,Ct=yt[_t];switch(typeof Ct){case"number":case"bigint":case"boolean":xt[String(_t)]=Ct;break;case"string":Ct.length<50?xt[String(_t)]=Ct:xt[String(_t)]="set";break;case"object":_t==="environment"?xt.environment=Ct:_t==="networkConfig"?xt.networkConfig=Ct:xt[String(_t)]=Ct!=null?"set":"unset";break}}),xt}})(ErrorBoundary$1)),ErrorBoundary$1}var EvaluationOptions={},hasRequiredEvaluationOptions;function requireEvaluationOptions(){return hasRequiredEvaluationOptions||(hasRequiredEvaluationOptions=1,Object.defineProperty(EvaluationOptions,"__esModule",{value:!0})),EvaluationOptions}var EvaluationTypes={},hasRequiredEvaluationTypes;function requireEvaluationTypes(){return hasRequiredEvaluationTypes||(hasRequiredEvaluationTypes=1,Object.defineProperty(EvaluationTypes,"__esModule",{value:!0})),EvaluationTypes}var InitializeResponse={},hasRequiredInitializeResponse;function requireInitializeResponse(){return hasRequiredInitializeResponse||(hasRequiredInitializeResponse=1,Object.defineProperty(InitializeResponse,"__esModule",{value:!0})),InitializeResponse}var MemoKey={},hasRequiredMemoKey;function requireMemoKey(){if(hasRequiredMemoKey)return MemoKey;hasRequiredMemoKey=1,Object.defineProperty(MemoKey,"__esModule",{value:!0}),MemoKey.createMemoKey=MemoKey.MemoPrefix=void 0,MemoKey.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const Ye=new Set([]),rt=new Set(["userPersistedValues"]);function it(lt,ct,ut){let ht=`${lt}|${ct}`;if(!ut)return ht;for(const ft of Object.keys(ut)){if(rt.has(ft))return;Ye.has(ft)?ht+=`|${ft}=true`:ht+=`|${ft}=${ut[ft]}`}return ht}return MemoKey.createMemoKey=it,MemoKey}var NetworkCore={},NetworkFallbackResolver={},DnsTxtQuery={},hasRequiredDnsTxtQuery;function requireDnsTxtQuery(){if(hasRequiredDnsTxtQuery)return DnsTxtQuery;hasRequiredDnsTxtQuery=1;var Ye=DnsTxtQuery&&DnsTxtQuery.__awaiter||function(ft,pt,mt,gt){function yt(xt){return xt instanceof mt?xt:new mt(function(bt){bt(xt)})}return new(mt||(mt=Promise))(function(xt,bt){function _t(St){try{kt(gt.next(St))}catch(Rt){bt(Rt)}}function Ct(St){try{kt(gt.throw(St))}catch(Rt){bt(Rt)}}function kt(St){St.done?xt(St.value):yt(St.value).then(_t,Ct)}kt((gt=gt.apply(ft,pt||[])).next())})};Object.defineProperty(DnsTxtQuery,"__esModule",{value:!0}),DnsTxtQuery._fetchTxtRecords=void 0;const rt=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),it="https://cloudflare-dns.com/dns-query",lt=["i","e","d"],ct=200;function ut(ft){return Ye(this,void 0,void 0,function*(){const pt=yield ft(it,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:rt});if(!pt.ok){const yt=new Error("Failed to fetch TXT records from DNS");throw yt.name="DnsTxtFetchError",yt}const mt=yield pt.arrayBuffer(),gt=new Uint8Array(mt);return ht(gt)})}DnsTxtQuery._fetchTxtRecords=ut;function ht(ft){const pt=ft.findIndex((gt,yt)=>yt<ct&&String.fromCharCode(gt)==="="&&lt.includes(String.fromCharCode(ft[yt-1])));if(pt===-1){const gt=new Error("Failed to parse TXT records from DNS");throw gt.name="DnsTxtParseError",gt}let mt="";for(let gt=pt-1;gt<ft.length;gt++)mt+=String.fromCharCode(ft[gt]);return mt.split(",")}return DnsTxtQuery}var hasRequiredNetworkFallbackResolver;function requireNetworkFallbackResolver(){if(hasRequiredNetworkFallbackResolver)return NetworkFallbackResolver;hasRequiredNetworkFallbackResolver=1;var Ye=NetworkFallbackResolver&&NetworkFallbackResolver.__awaiter||function(bt,_t,Ct,kt){function St(Rt){return Rt instanceof Ct?Rt:new Ct(function(Tt){Tt(Rt)})}return new(Ct||(Ct=Promise))(function(Rt,Tt){function Mt(Lt){try{It(kt.next(Lt))}catch(Ot){Tt(Ot)}}function Pt(Lt){try{It(kt.throw(Lt))}catch(Ot){Tt(Ot)}}function It(Lt){Lt.done?Rt(Lt.value):St(Lt.value).then(Mt,Pt)}It((kt=kt.apply(bt,_t||[])).next())})};Object.defineProperty(NetworkFallbackResolver,"__esModule",{value:!0}),NetworkFallbackResolver._isDomainFailure=NetworkFallbackResolver.NetworkFallbackResolver=void 0;const rt=requireDnsTxtQuery(),it=requireHashing(),lt=requireLog(),ct=requireStorageProvider(),ut=10080*60*1e3,ht=14400*1e3;let ft=class{constructor(_t){var Ct;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=(Ct=_t.networkConfig)===null||Ct===void 0?void 0:Ct.networkOverrideFunc}setErrorBoundary(_t){this._errorBoundary=_t}tryBumpExpiryTime(_t,Ct){var kt;const St=(kt=this._fallbackInfo)===null||kt===void 0?void 0:kt[Ct.endpoint];St&&(St.expiryTime=Date.now()+ut,gt(_t,Object.assign(Object.assign({},this._fallbackInfo),{[Ct.endpoint]:St})))}getActiveFallbackUrl(_t,Ct){var kt,St;if(Ct.customUrl!=null&&Ct.fallbackUrls!=null)return null;let Rt=this._fallbackInfo;Rt==null&&(Rt=(kt=yt(_t))!==null&&kt!==void 0?kt:{},this._fallbackInfo=Rt);const Tt=Rt[Ct.endpoint];return!Tt||Date.now()>((St=Tt.expiryTime)!==null&&St!==void 0?St:0)||Ct.getChecksum()!==Tt.urlConfigChecksum?(delete Rt[Ct.endpoint],this._fallbackInfo=Rt,gt(_t,this._fallbackInfo),null):Tt.url?Tt.url:null}tryFetchUpdatedFallbackInfo(_t,Ct,kt,St){return Ye(this,void 0,void 0,function*(){var Rt,Tt;try{if(!pt(kt,St))return!1;const Pt=Ct.customUrl==null&&Ct.fallbackUrls==null?yield this._tryFetchFallbackUrlsFromNetwork(Ct):Ct.fallbackUrls,It=this._pickNewFallbackUrl((Rt=this._fallbackInfo)===null||Rt===void 0?void 0:Rt[Ct.endpoint],Pt);return It?(this._updateFallbackInfoWithNewUrl(_t,Ct,It),!0):!1}catch(Mt){return(Tt=this._errorBoundary)===null||Tt===void 0||Tt.logError("tryFetchUpdatedFallbackInfo",Mt),!1}})}_updateFallbackInfoWithNewUrl(_t,Ct,kt){var St,Rt,Tt;const Mt={urlConfigChecksum:Ct.getChecksum(),url:kt,expiryTime:Date.now()+ut,previous:[]},Pt=Ct.endpoint,It=(St=this._fallbackInfo)===null||St===void 0?void 0:St[Pt];It&&Mt.previous.push(...It.previous),Mt.previous.length>10&&(Mt.previous=[]);const Lt=(Tt=(Rt=this._fallbackInfo)===null||Rt===void 0?void 0:Rt[Pt])===null||Tt===void 0?void 0:Tt.url;Lt!=null&&Mt.previous.push(Lt),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[Pt]:Mt}),gt(_t,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(_t){return Ye(this,void 0,void 0,function*(){var Ct;const kt=this._dnsQueryCooldowns[_t.endpoint];if(kt&&Date.now()<kt)return null;this._dnsQueryCooldowns[_t.endpoint]=Date.now()+ht;const St=[],Rt=yield(0,rt._fetchTxtRecords)((Ct=this._networkOverrideFunc)!==null&&Ct!==void 0?Ct:fetch),Tt=xt(_t.defaultUrl);for(const Mt of Rt){if(!Mt.startsWith(_t.endpointDnsKey+"="))continue;const Pt=Mt.split("=");if(Pt.length>1){let It=Pt[1];It.endsWith("/")&&(It=It.slice(0,-1)),St.push(`https://${It}${Tt}`)}}return St})}_pickNewFallbackUrl(_t,Ct){var kt;if(Ct==null)return null;const St=new Set((kt=_t?.previous)!==null&&kt!==void 0?kt:[]),Rt=_t?.url;let Tt=null;for(const Mt of Ct){const Pt=Mt.endsWith("/")?Mt.slice(0,-1):Mt;if(!St.has(Mt)&&Pt!==Rt){Tt=Pt;break}}return Tt}};NetworkFallbackResolver.NetworkFallbackResolver=ft;function pt(bt,_t){var Ct;const kt=(Ct=bt?.toLowerCase())!==null&&Ct!==void 0?Ct:"";return _t||kt.includes("uncaught exception")||kt.includes("failed to fetch")||kt.includes("networkerror when attempting to fetch resource")}NetworkFallbackResolver._isDomainFailure=pt;function mt(bt){return`statsig.network_fallback.${(0,it._DJB2)(bt)}`}function gt(bt,_t){const Ct=mt(bt);if(!_t||Object.keys(_t).length===0){ct.Storage.removeItem(Ct);return}ct.Storage.setItem(Ct,JSON.stringify(_t))}function yt(bt){const _t=mt(bt),Ct=ct.Storage.getItem(_t);if(!Ct)return null;try{return JSON.parse(Ct)}catch{return lt.Log.error("Failed to parse FallbackInfo"),null}}function xt(bt){try{return new URL(bt).pathname}catch{return null}}return NetworkFallbackResolver}var SDKFlags={},hasRequiredSDKFlags;function requireSDKFlags(){if(hasRequiredSDKFlags)return SDKFlags;hasRequiredSDKFlags=1,Object.defineProperty(SDKFlags,"__esModule",{value:!0}),SDKFlags.SDKFlags=void 0;const Ye={};return SDKFlags.SDKFlags={setFlags:(rt,it)=>{Ye[rt]=it},get:(rt,it)=>{var lt,ct;return(ct=(lt=Ye[rt])===null||lt===void 0?void 0:lt[it])!==null&&ct!==void 0?ct:!1}},SDKFlags}var SessionID={},hasRequiredSessionID;function requireSessionID(){return hasRequiredSessionID||(hasRequiredSessionID=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.StatsigSession=Ye.SessionID=void 0;const rt=require$_StatsigGlobal(),it=requireCacheKey(),lt=requireLog(),ct=requireStorageProvider(),ut=requireUUID(),ht=1800*1e3,ft=14400*1e3,pt={};Ye.SessionID={get:Rt=>Ye.StatsigSession.get(Rt).data.sessionID},Ye.StatsigSession={get:Rt=>{pt[Rt]==null&&(pt[Rt]=mt(Rt));const Tt=pt[Rt];return yt(Tt)},overrideInitialSessionID:(Rt,Tt)=>{pt[Tt]=gt(Rt,Tt)}};function mt(Rt){let Tt=St(Rt);const Mt=Date.now();return Tt||(Tt={sessionID:(0,ut.getUUID)(),startTime:Mt,lastUpdate:Mt}),{data:Tt,sdkKey:Rt}}function gt(Rt,Tt){const Mt=Date.now();return{data:{sessionID:Rt,startTime:Mt,lastUpdate:Mt},sdkKey:Tt}}function yt(Rt){const Tt=Date.now(),Mt=Rt.data,Pt=Rt.sdkKey;if(bt(Mt)||_t(Mt)){Mt.sessionID=(0,ut.getUUID)(),Mt.startTime=Tt;const Lt=__STATSIG__==null?void 0:__STATSIG__.instance(Pt);Lt&&Lt.$emt({name:"session_expired"})}Mt.lastUpdate=Tt,kt(Mt,Rt.sdkKey),clearTimeout(Rt.idleTimeoutID),clearTimeout(Rt.ageTimeoutID);const It=Tt-Mt.startTime;return Rt.idleTimeoutID=xt(Pt,ht),Rt.ageTimeoutID=xt(Pt,ft-It),Rt}function xt(Rt,Tt){return setTimeout(()=>{var Mt;const Pt=(Mt=(0,rt._getStatsigGlobal)())===null||Mt===void 0?void 0:Mt.instance(Rt);Pt&&Pt.$emt({name:"session_expired"})},Tt)}function bt({lastUpdate:Rt}){return Date.now()-Rt>ht}function _t({startTime:Rt}){return Date.now()-Rt>ft}function Ct(Rt){return`statsig.session_id.${(0,it._getStorageKey)(Rt)}`}function kt(Rt,Tt){const Mt=Ct(Tt);try{(0,ct._setObjectInStorage)(Mt,Rt)}catch{lt.Log.warn("Failed to save SessionID")}}function St(Rt){const Tt=Ct(Rt);return(0,ct._getObjectFromStorage)(Tt)}})(SessionID)),SessionID}var StatsigClientEventEmitter={},hasRequiredStatsigClientEventEmitter;function requireStatsigClientEventEmitter(){return hasRequiredStatsigClientEventEmitter||(hasRequiredStatsigClientEventEmitter=1,Object.defineProperty(StatsigClientEventEmitter,"__esModule",{value:!0}),StatsigClientEventEmitter.ErrorTag=void 0,StatsigClientEventEmitter.ErrorTag={NetworkError:"NetworkError"}),StatsigClientEventEmitter}var hasRequiredNetworkCore;function requireNetworkCore(){if(hasRequiredNetworkCore)return NetworkCore;hasRequiredNetworkCore=1;var Ye=NetworkCore&&NetworkCore.__awaiter||function(Vt,$t,zt,Nt){function qt(Gt){return Gt instanceof zt?Gt:new zt(function(Ht){Ht(Gt)})}return new(zt||(zt=Promise))(function(Gt,Ht){function Xt(rr){try{nr(Nt.next(rr))}catch(Jt){Ht(Jt)}}function Bt(rr){try{nr(Nt.throw(rr))}catch(Jt){Ht(Jt)}}function nr(rr){rr.done?Gt(rr.value):qt(rr.value).then(Xt,Bt)}nr((Nt=Nt.apply(Vt,$t||[])).next())})};Object.defineProperty(NetworkCore,"__esModule",{value:!0}),NetworkCore.NetworkCore=void 0,require$_StatsigGlobal();const rt=require$_StatsigGlobal(),it=requireDiagnostics(),lt=requireLog(),ct=requireNetworkConfig(),ut=requireNetworkFallbackResolver(),ht=requireSDKFlags(),ft=requireSDKType(),pt=requireSafeJs(),mt=requireSessionID(),gt=requireStableID(),yt=requireStatsigClientEventEmitter(),xt=requireStatsigMetadata(),bt=requireStatsigOptionsCommon(),_t=requireVisibilityObserving(),Ct=1e4,kt=500,St=3e4,Rt=1e3,Tt=50,Mt=Tt/Rt,Pt=new Set([408,500,502,503,504,522,524,599]);let It=class{constructor($t,zt){this._emitter=zt,this._errorBoundary=null,this._timeout=Ct,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,$t&&(this._options=$t),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new ut.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode($t))}setLogEventCompressionMode($t){this._options.logEventCompressionMode=$t}setErrorBoundary($t){this._errorBoundary=$t,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary($t)}isBeaconSupported(){return typeof navigator<"u"&&typeof navigator.sendBeacon=="function"}getLastUsedInitUrlAndReset(){const $t=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,$t}beacon($t){if(!Lt($t))return!1;const zt=this._getInternalRequestArgs("POST",$t),Nt=this._getPopulatedURL(zt),qt=navigator;return qt.sendBeacon.bind(qt)(Nt,zt.body)}post($t){return Ye(this,void 0,void 0,function*(){const zt=this._getInternalRequestArgs("POST",$t);return this._tryEncodeBody(zt),yield this._tryToCompressBody(zt),this._sendRequest(zt)})}get($t){const zt=this._getInternalRequestArgs("GET",$t);return this._sendRequest(zt)}_sendRequest($t){return Ye(this,void 0,void 0,function*(){var zt,Nt,qt,Gt;if(!Lt($t)||this._netConfig.preventAllNetworkTraffic)return null;const{method:Ht,body:Xt,retries:Bt,attempt:nr}=$t,rr=$t.urlConfig.endpoint;if(this._isRateLimited(rr))return lt.Log.warn(`Request to ${rr} was blocked because you are making requests too frequently.`),null;const Jt=nr??1;let ir=!1;const ar=this._getPopulatedURL($t);let cr=null;const dr=(0,_t._isUnloading)();try{const xr={method:Ht,body:Xt,headers:Object.assign({},$t.headers),priority:$t.priority,keepalive:dr};Kt($t,Jt);const br=this._leakyBucket[rr];br&&(br.lastRequestTime=Date.now(),this._leakyBucket[rr]=br);const _r=(zt=this._netConfig.networkOverrideFunc)!==null&&zt!==void 0?zt:fetch;let Er;if(cr=yield Promise.race([_r(ar,xr).finally(()=>clearTimeout(Er)),new Promise((Lr,Mr)=>{Er=setTimeout(()=>{ir=!0,Mr(new Error(`Timeout of ${this._timeout}ms expired.`))},this._timeout)})]),!cr.ok){const Lr=yield cr.text().catch(()=>"No Text"),Mr=new Error(`NetworkError: ${ar} ${Lr}`);throw Mr.name="NetworkError",Mr}const Rr=yield cr.text();return Qt($t,cr,Jt,Rr),this._fallbackResolver.tryBumpExpiryTime($t.sdkKey,$t.urlConfig),{body:Rr,code:cr.status}}catch(xr){const br=Ut(xr),_r=Wt(br??"",ir);if(Qt($t,cr,Jt,"",xr),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo($t.sdkKey,$t.urlConfig,br,_r))&&($t.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl($t.sdkKey,$t.urlConfig)),!Bt||Jt>Bt||!Pt.has((Nt=cr?.status)!==null&&Nt!==void 0?Nt:500)){(qt=this._emitter)===null||qt===void 0||qt.call(this,{name:"error",error:xr,tag:yt.ErrorTag.NetworkError,requestArgs:$t});const Rr=`A networking error occurred during ${Ht} request to ${ar}.`;return lt.Log.error(Rr,br,xr),(Gt=this._errorBoundary)===null||Gt===void 0||Gt.attachErrorIfNoneExists(Rr),null}return yield Zt(Jt),this._sendRequest(Object.assign(Object.assign({},$t),{retries:Bt,attempt:Jt+1}))}})}_getLogEventCompressionMode($t){let zt=$t?.logEventCompressionMode;return!zt&&$t?.disableCompression===!0&&(zt=bt.LogEventCompressionMode.Disabled),zt||(zt=bt.LogEventCompressionMode.Enabled),zt}_isRateLimited($t){var zt;const Nt=Date.now(),qt=(zt=this._leakyBucket[$t])!==null&&zt!==void 0?zt:{count:0,lastRequestTime:Nt},Gt=Nt-qt.lastRequestTime,Ht=Math.floor(Gt*Mt);return qt.count=Math.max(0,qt.count-Ht),qt.count>=Tt?!0:(qt.count+=1,qt.lastRequestTime=Nt,this._leakyBucket[$t]=qt,!1)}_getPopulatedURL($t){var zt;const Nt=(zt=$t.fallbackUrl)!==null&&zt!==void 0?zt:$t.urlConfig.getUrl();($t.urlConfig.endpoint===ct.Endpoint._initialize||$t.urlConfig.endpoint===ct.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=Nt);const qt=Object.assign({[ct.NetworkParam.SdkKey]:$t.sdkKey,[ct.NetworkParam.SdkType]:ft.SDKType._get($t.sdkKey),[ct.NetworkParam.SdkVersion]:xt.SDK_VERSION,[ct.NetworkParam.Time]:String(Date.now()),[ct.NetworkParam.SessionID]:mt.SessionID.get($t.sdkKey)},$t.params),Gt=Object.keys(qt).map(Ht=>`${encodeURIComponent(Ht)}=${encodeURIComponent(qt[Ht])}`).join("&");return`${Nt}${Gt?`?${Gt}`:""}`}_tryEncodeBody($t){var zt;const Nt=(0,pt._getWindowSafe)(),qt=$t.body;if(!(!$t.isStatsigEncodable||this._options.disableStatsigEncoding||typeof qt!="string"||(0,rt._getStatsigGlobalFlag)("no-encode")!=null||!Nt?.btoa))try{$t.body=Nt.btoa(qt).split("").reverse().join(""),$t.params=Object.assign(Object.assign({},(zt=$t.params)!==null&&zt!==void 0?zt:{}),{[ct.NetworkParam.StatsigEncoded]:"1"})}catch(Gt){lt.Log.warn(`Request encoding failed for ${$t.urlConfig.getUrl()}`,Gt)}}_tryToCompressBody($t){return Ye(this,void 0,void 0,function*(){var zt;const Nt=$t.body;if(!(typeof Nt!="string"||!Ft($t,this._options)))try{const qt=new TextEncoder().encode(Nt),Gt=new CompressionStream("gzip"),Ht=Gt.writable.getWriter();Ht.write(qt).catch(lt.Log.error),Ht.close().catch(lt.Log.error);const Xt=Gt.readable.getReader(),Bt=[];let nr;for(;!(nr=yield Xt.read()).done;)Bt.push(nr.value);const rr=Bt.reduce((ar,cr)=>ar+cr.length,0),Jt=new Uint8Array(rr);let ir=0;for(const ar of Bt)Jt.set(ar,ir),ir+=ar.length;$t.body=Jt,$t.params=Object.assign(Object.assign({},(zt=$t.params)!==null&&zt!==void 0?zt:{}),{[ct.NetworkParam.IsGzipped]:"1"})}catch(qt){lt.Log.warn(`Request compression failed for ${$t.urlConfig.getUrl()}`,qt)}})}_getInternalRequestArgs($t,zt){const Nt=this._fallbackResolver.getActiveFallbackUrl(zt.sdkKey,zt.urlConfig),qt=Object.assign(Object.assign({},zt),{method:$t,fallbackUrl:Nt});return"data"in zt&&Ot(qt,zt.data),qt}};NetworkCore.NetworkCore=It;const Lt=Vt=>Vt.sdkKey?!0:(lt.Log.warn("Unable to make request without an SDK key"),!1),Ot=(Vt,$t)=>{const{sdkKey:zt,fallbackUrl:Nt}=Vt,qt=gt.StableID.get(zt),Gt=mt.SessionID.get(zt),Ht=ft.SDKType._get(zt);Vt.body=JSON.stringify(Object.assign(Object.assign({},$t),{statsigMetadata:Object.assign(Object.assign({},xt.StatsigMetadataProvider.get()),{stableID:qt,sessionID:Gt,sdkType:Ht,fallbackUrl:Nt})}))};function Ft(Vt,$t){if(!Vt.isCompressable||(0,rt._getStatsigGlobalFlag)("no-compress")!=null||typeof CompressionStream>"u"||typeof TextEncoder>"u")return!1;const zt=Vt.urlConfig.customUrl!=null||Vt.urlConfig.fallbackUrls!=null,Nt=ht.SDKFlags.get(Vt.sdkKey,"enable_log_event_compression")===!0;switch($t.logEventCompressionMode){case bt.LogEventCompressionMode.Disabled:return!1;case bt.LogEventCompressionMode.Enabled:return!(zt&&!Nt);case bt.LogEventCompressionMode.Forced:return!0;default:return!1}}function Ut(Vt){return typeof Vt=="string"?Vt:Vt instanceof Error?`${Vt.name}: ${Vt.message}`:"Unknown Error"}function Wt(Vt,$t){return Vt.includes("Timeout")||$t}function Kt(Vt,$t){Vt.urlConfig.endpoint===ct.Endpoint._initialize&&it.Diagnostics._markInitNetworkReqStart(Vt.sdkKey,{attempt:$t})}function Qt(Vt,$t,zt,Nt,qt){Vt.urlConfig.endpoint===ct.Endpoint._initialize&&it.Diagnostics._markInitNetworkReqEnd(Vt.sdkKey,it.Diagnostics._getDiagnosticsData($t,zt,Nt,qt))}function Zt(Vt){return Ye(this,void 0,void 0,function*(){yield new Promise($t=>setTimeout($t,Math.min(kt*(Vt*Vt),St)))})}return NetworkCore}var OverrideAdapter={},hasRequiredOverrideAdapter;function requireOverrideAdapter(){return hasRequiredOverrideAdapter||(hasRequiredOverrideAdapter=1,Object.defineProperty(OverrideAdapter,"__esModule",{value:!0})),OverrideAdapter}var ParamStoreTypes={},hasRequiredParamStoreTypes;function requireParamStoreTypes(){return hasRequiredParamStoreTypes||(hasRequiredParamStoreTypes=1,Object.defineProperty(ParamStoreTypes,"__esModule",{value:!0})),ParamStoreTypes}var SizeOf={},hasRequiredSizeOf;function requireSizeOf(){return hasRequiredSizeOf||(hasRequiredSizeOf=1,(function(Ye){Object.defineProperty(Ye,"__esModule",{value:!0}),Ye._fastApproxSizeOf=void 0;const rt=2,it=1,lt=(ct,ut)=>{let ht=0;const ft=Object.keys(ct);for(let pt=0;pt<ft.length;pt++){const mt=ft[pt],gt=ct[mt];if(ht+=mt.length,typeof gt=="object"&&gt!==null?ht+=(0,Ye._fastApproxSizeOf)(gt,ut)+rt:ht+=String(gt).length+it,ht>=ut)return ht}return ht};Ye._fastApproxSizeOf=lt})(SizeOf)),SizeOf}var StatsigClientBase={},hasRequiredStatsigClientBase;function requireStatsigClientBase(){if(hasRequiredStatsigClientBase)return StatsigClientBase;hasRequiredStatsigClientBase=1;var Ye=StatsigClientBase&&StatsigClientBase.__awaiter||function(_t,Ct,kt,St){function Rt(Tt){return Tt instanceof kt?Tt:new kt(function(Mt){Mt(Tt)})}return new(kt||(kt=Promise))(function(Tt,Mt){function Pt(Ot){try{Lt(St.next(Ot))}catch(Ft){Mt(Ft)}}function It(Ot){try{Lt(St.throw(Ot))}catch(Ft){Mt(Ft)}}function Lt(Ot){Ot.done?Tt(Ot.value):Rt(Ot.value).then(Pt,It)}Lt((St=St.apply(_t,Ct||[])).next())})};Object.defineProperty(StatsigClientBase,"__esModule",{value:!0}),StatsigClientBase.StatsigClientBase=void 0,require$_StatsigGlobal();const rt=require$_StatsigGlobal(),it=requireErrorBoundary(),lt=requireEventLogger(),ct=requireLog(),ut=requireMemoKey(),ht=requireSafeJs(),ft=requireSessionID(),pt=requireStableID(),mt=requireStatsigOptionsCommon(),gt=requireStorageProvider(),yt=3e3;let xt=class{constructor(Ct,kt,St,Rt){var Tt,Mt,Pt,It;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const Lt=this.$emt.bind(this);Rt?.logLevel!=null&&(ct.Log.level=Rt.logLevel),Rt?.disableStorage&&gt.Storage._setDisabled(!0),Rt?.initialSessionID&&ft.StatsigSession.overrideInitialSessionID(Rt.initialSessionID,Ct),Rt?.storageProvider&&gt.Storage._setProvider(Rt.storageProvider),Rt?.enableCookies&&pt.StableID._setCookiesEnabled(Ct,Rt.enableCookies),Rt?.disableStableID&&pt.StableID._setDisabled(Ct,!0),this._sdkKey=Ct,this._options=Rt??{},this._memoCache={},this.overrideAdapter=(Tt=Rt?.overrideAdapter)!==null&&Tt!==void 0?Tt:null,this._logger=new lt.EventLogger(Ct,Lt,St,Rt),this._errorBoundary=new it.ErrorBoundary(Ct,Rt,Lt),this._errorBoundary.wrap(this),this._errorBoundary.wrap(kt),this._errorBoundary.wrap(this._logger),St.setErrorBoundary(this._errorBoundary),this.dataAdapter=kt,this.dataAdapter.attach(Ct,Rt,St),this.storageProvider=gt.Storage,(It=(Pt=(Mt=this.overrideAdapter)===null||Mt===void 0?void 0:Mt.loadFromStorage)===null||Pt===void 0?void 0:Pt.call(Mt))===null||It===void 0||It.catch(Ot=>this._errorBoundary.logError("OA::loadFromStorage",Ot)),this._primeReadyRipcord(),bt(Ct,this)}updateRuntimeOptions(Ct){Ct.loggingEnabled?(this._options.loggingEnabled=Ct.loggingEnabled,this._logger.setLoggingEnabled(Ct.loggingEnabled)):Ct.disableLogging!=null&&(this._options.disableLogging=Ct.disableLogging,this._logger.setLoggingEnabled(Ct.disableLogging?"disabled":"browser-only")),Ct.disableStorage!=null&&(this._options.disableStorage=Ct.disableStorage,gt.Storage._setDisabled(Ct.disableStorage)),Ct.enableCookies!=null&&(this._options.enableCookies=Ct.enableCookies,pt.StableID._setCookiesEnabled(this._sdkKey,Ct.enableCookies)),Ct.logEventCompressionMode?this._logger.setLogEventCompressionMode(Ct.logEventCompressionMode):Ct.disableCompression&&this._logger.setLogEventCompressionMode(mt.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return Ye(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(Ct,kt){this._listeners[Ct]||(this._listeners[Ct]=[]),this._listeners[Ct].push(kt)}off(Ct,kt){if(this._listeners[Ct]){const St=this._listeners[Ct].indexOf(kt);St!==-1&&this._listeners[Ct].splice(St,1)}}$on(Ct,kt){kt.__isInternal=!0,this.on(Ct,kt)}$emt(Ct){var kt;const St=Rt=>{try{Rt(Ct)}catch(Tt){if(Rt.__isInternal===!0){this._errorBoundary.logError(`__emit:${Ct.name}`,Tt);return}ct.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",Ct)}};this._listeners[Ct.name]&&this._listeners[Ct.name].forEach(Rt=>St(Rt)),(kt=this._listeners["*"])===null||kt===void 0||kt.forEach(St)}_setStatus(Ct,kt){this.loadingStatus=Ct,this._memoCache={},this.$emt({name:"values_updated",status:Ct,values:kt})}_enqueueExposure(Ct,kt,St){if(St?.disableExposureLog===!0){this._logger.incrementNonExposureCount(Ct);return}this._logger.enqueue(kt)}_memoize(Ct,kt){return(St,Rt)=>{if(this._options.disableEvaluationMemoization)return kt(St,Rt);const Tt=(0,ut.createMemoKey)(Ct,St,Rt);return Tt?(Tt in this._memoCache||(Object.keys(this._memoCache).length>=yt&&(this._memoCache={}),this._memoCache[Tt]=kt(St,Rt)),this._memoCache[Tt]):kt(St,Rt)}}};StatsigClientBase.StatsigClientBase=xt;function bt(_t,Ct){var kt;if((0,ht._isServerEnv)())return;const St=(0,rt._getStatsigGlobal)(),Rt=(kt=St.instances)!==null&&kt!==void 0?kt:{},Tt=Ct;Rt[_t]!=null&&ct.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),Rt[_t]=Tt,St.firstInstance||(St.firstInstance=Tt),St.instances=Rt,__STATSIG__=St}return StatsigClientBase}var StatsigDataAdapter={},hasRequiredStatsigDataAdapter;function requireStatsigDataAdapter(){return hasRequiredStatsigDataAdapter||(hasRequiredStatsigDataAdapter=1,Object.defineProperty(StatsigDataAdapter,"__esModule",{value:!0}),StatsigDataAdapter.DataAdapterCachePrefix=void 0,StatsigDataAdapter.DataAdapterCachePrefix="statsig.cached"),StatsigDataAdapter}var StatsigPlugin={},hasRequiredStatsigPlugin;function requireStatsigPlugin(){return hasRequiredStatsigPlugin||(hasRequiredStatsigPlugin=1,Object.defineProperty(StatsigPlugin,"__esModule",{value:!0})),StatsigPlugin}var StatsigTypeFactories={},hasRequiredStatsigTypeFactories;function requireStatsigTypeFactories(){if(hasRequiredStatsigTypeFactories)return StatsigTypeFactories;hasRequiredStatsigTypeFactories=1,Object.defineProperty(StatsigTypeFactories,"__esModule",{value:!0}),StatsigTypeFactories._makeTypedGet=StatsigTypeFactories._mergeOverride=StatsigTypeFactories._makeLayer=StatsigTypeFactories._makeExperiment=StatsigTypeFactories._makeDynamicConfig=StatsigTypeFactories._makeFeatureGate=void 0;const Ye=requireLog(),rt=requireTypingUtils();function it(mt,gt,yt,xt){var bt;return{name:mt,details:gt,ruleID:(bt=yt?.rule_id)!==null&&bt!==void 0?bt:"",__evaluation:yt,value:xt}}function lt(mt,gt,yt){var xt;return Object.assign(Object.assign({},it(mt,gt,yt,yt?.value===!0)),{idType:(xt=yt?.id_type)!==null&&xt!==void 0?xt:null})}StatsigTypeFactories._makeFeatureGate=lt;function ct(mt,gt,yt){var xt,bt;const _t=(xt=yt?.value)!==null&&xt!==void 0?xt:{};return Object.assign(Object.assign({},it(mt,gt,yt,_t)),{idType:(bt=yt?.id_type)!==null&&bt!==void 0?bt:null,get:pt(mt,yt?.value)})}StatsigTypeFactories._makeDynamicConfig=ct;function ut(mt,gt,yt){var xt;const bt=ct(mt,gt,yt);return Object.assign(Object.assign({},bt),{groupName:(xt=yt?.group_name)!==null&&xt!==void 0?xt:null})}StatsigTypeFactories._makeExperiment=ut;function ht(mt,gt,yt,xt){var bt,_t;return Object.assign(Object.assign({},it(mt,gt,yt,void 0)),{get:pt(mt,yt?.value,xt),groupName:(bt=yt?.group_name)!==null&&bt!==void 0?bt:null,__value:(_t=yt?.value)!==null&&_t!==void 0?_t:{}})}StatsigTypeFactories._makeLayer=ht;function ft(mt,gt,yt,xt){return Object.assign(Object.assign(Object.assign({},mt),gt),{get:pt(mt.name,yt,xt)})}StatsigTypeFactories._mergeOverride=ft;function pt(mt,gt,yt){return(xt,bt)=>{var _t;const Ct=(_t=gt?.[xt])!==null&&_t!==void 0?_t:null;return Ct==null?bt??null:bt!=null&&!(0,rt._isTypeMatch)(Ct,bt)?(Ye.Log.warn(`Parameter type mismatch. '${mt}.${xt}' was found to be type '${typeof Ct}' but fallback/return type is '${typeof bt}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),bt??null):(yt?.(xt),Ct)}}return StatsigTypeFactories._makeTypedGet=pt,StatsigTypeFactories}var StatsigTypes={},hasRequiredStatsigTypes;function requireStatsigTypes(){return hasRequiredStatsigTypes||(hasRequiredStatsigTypes=1,Object.defineProperty(StatsigTypes,"__esModule",{value:!0})),StatsigTypes}var StatsigUpdateDetails={},hasRequiredStatsigUpdateDetails;function requireStatsigUpdateDetails(){if(hasRequiredStatsigUpdateDetails)return StatsigUpdateDetails;hasRequiredStatsigUpdateDetails=1,Object.defineProperty(StatsigUpdateDetails,"__esModule",{value:!0}),StatsigUpdateDetails.UPDATE_DETAIL_ERROR_MESSAGES=StatsigUpdateDetails.createUpdateDetails=void 0;const Ye=(rt,it,lt,ct,ut,ht)=>({duration:lt,source:it,success:rt,error:ct,sourceUrl:ut,warnings:ht});return StatsigUpdateDetails.createUpdateDetails=Ye,StatsigUpdateDetails.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."},StatsigUpdateDetails}var hasRequiredSrc$2;function requireSrc$2(){return hasRequiredSrc$2||(hasRequiredSrc$2=1,(function(Ye){var rt=src$1&&src$1.__createBinding||(Object.create?(function(mt,gt,yt,xt){xt===void 0&&(xt=yt);var bt=Object.getOwnPropertyDescriptor(gt,yt);(!bt||("get"in bt?!gt.__esModule:bt.writable||bt.configurable))&&(bt={enumerable:!0,get:function(){return gt[yt]}}),Object.defineProperty(mt,xt,bt)}):(function(mt,gt,yt,xt){xt===void 0&&(xt=yt),mt[xt]=gt[yt]})),it=src$1&&src$1.__exportStar||function(mt,gt){for(var yt in mt)yt!=="default"&&!Object.prototype.hasOwnProperty.call(gt,yt)&&rt(gt,mt,yt)};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.Storage=Ye.Log=Ye.EventLogger=Ye.Diagnostics=void 0,require$_StatsigGlobal();const lt=require$_StatsigGlobal(),ct=requireDiagnostics();Object.defineProperty(Ye,"Diagnostics",{enumerable:!0,get:function(){return ct.Diagnostics}});const ut=requireEventLogger();Object.defineProperty(Ye,"EventLogger",{enumerable:!0,get:function(){return ut.EventLogger}});const ht=requireLog();Object.defineProperty(Ye,"Log",{enumerable:!0,get:function(){return ht.Log}});const ft=requireStatsigMetadata(),pt=requireStorageProvider();Object.defineProperty(Ye,"Storage",{enumerable:!0,get:function(){return pt.Storage}}),it(require$_StatsigGlobal(),Ye),it(requireCacheKey(),Ye),it(requireClientInterfaces(),Ye),it(requireDataAdapterCore(),Ye),it(requireDiagnostics(),Ye),it(requireDownloadConfigSpecsResponse(),Ye),it(requireErrorBoundary(),Ye),it(requireEvaluationOptions(),Ye),it(requireEvaluationTypes(),Ye),it(requireHashing(),Ye),it(requireInitializeResponse(),Ye),it(requireLog(),Ye),it(requireMemoKey(),Ye),it(requireNetworkConfig(),Ye),it(requireNetworkCore(),Ye),it(requireOverrideAdapter(),Ye),it(requireParamStoreTypes(),Ye),it(requireSafeJs(),Ye),it(requireSDKType(),Ye),it(requireSessionID(),Ye),it(requireSizeOf(),Ye),it(requireStableID(),Ye),it(requireStatsigClientBase(),Ye),it(requireStatsigClientEventEmitter(),Ye),it(requireStatsigDataAdapter(),Ye),it(requireStatsigEvent(),Ye),it(requireStatsigMetadata(),Ye),it(requireStatsigOptionsCommon(),Ye),it(requireStatsigPlugin(),Ye),it(requireStatsigTypeFactories(),Ye),it(requireStatsigTypes(),Ye),it(requireStatsigUser(),Ye),it(requireStorageProvider(),Ye),it(requireTypedJsonParse(),Ye),it(requireTypingUtils(),Ye),it(requireUrlConfiguration(),Ye),it(requireUUID(),Ye),it(requireVisibilityObserving(),Ye),it(requireStatsigUpdateDetails(),Ye),it(requireSDKFlags(),Ye),Object.assign((0,lt._getStatsigGlobal)(),{Log:ht.Log,SDK_VERSION:ft.SDK_VERSION})})(src$1)),src$1}var StatsigContext={},NoopEvaluationsClient={},hasRequiredNoopEvaluationsClient;function requireNoopEvaluationsClient(){if(hasRequiredNoopEvaluationsClient)return NoopEvaluationsClient;hasRequiredNoopEvaluationsClient=1,Object.defineProperty(NoopEvaluationsClient,"__esModule",{value:!0}),NoopEvaluationsClient.isNoopClient=NoopEvaluationsClient.NoopEvaluationsClient=void 0;const Ye=requireSrc$2(),rt={success:!1,error:Error("NoClient"),duration:0,source:"Uninitialized",sourceUrl:null},it=()=>{},lt=()=>rt,ct=()=>Promise.resolve(),ut=()=>Promise.resolve(rt),ht={reason:"Error:NoClient"},ft=xt=>(...bt)=>{const _t=typeof bt[0]=="string"?bt[0]:bt[1];switch(xt){case"gate":return(0,Ye._makeFeatureGate)(_t,ht,null);case"config":return(0,Ye._makeDynamicConfig)(_t,ht,null);case"layer":return(0,Ye._makeLayer)(_t,ht,null);case"param_store":return{name:_t}}},pt={attach:it,getDataSync:()=>null,getDataAsync:()=>Promise.resolve(null),setData:it,setDataLegacy:it,prefetchData:ct},mt={sdkKey:"",options:{},values:null,user:{userID:""},errorBoundary:{},session:{data:{sessionID:"",startTime:0,lastUpdate:0},sdkKey:""},stableID:"",storageProvider:Ye.Storage,sdkInstanceID:""},gt={isNoop:!0,loadingStatus:"Uninitialized",initializeSync:lt,initializeAsync:ut,shutdown:ct,flush:ct,updateRuntimeOptions:it,updateUserSync:lt,updateUserAsync:ut,getContext:()=>Object.assign({},mt),checkGate:()=>!1,getFeatureGate:ft("gate"),getDynamicConfig:ft("config"),getExperiment:ft("config"),getLayer:ft("layer"),getParameterStore:ft("param_store"),logEvent:it,on:it,off:it,$on:it,$emt:it,dataAdapter:pt};NoopEvaluationsClient.NoopEvaluationsClient=gt;function yt(xt){return"isNoop"in xt}return NoopEvaluationsClient.isNoopClient=yt,NoopEvaluationsClient}var hasRequiredStatsigContext;function requireStatsigContext(){if(hasRequiredStatsigContext)return StatsigContext;hasRequiredStatsigContext=1,Object.defineProperty(StatsigContext,"__esModule",{value:!0});const Ye=requireReact(),rt=requireNoopEvaluationsClient();return StatsigContext.default=(0,Ye.createContext)({renderVersion:0,client:rt.NoopEvaluationsClient,isLoading:!0}),StatsigContext}var StatsigProvider={},useClientAsyncInit={},src={},StatsigClient={},EvaluationStore={},V1InitializeContainer={},hasRequiredV1InitializeContainer;function requireV1InitializeContainer(){if(hasRequiredV1InitializeContainer)return V1InitializeContainer;hasRequiredV1InitializeContainer=1,Object.defineProperty(V1InitializeContainer,"__esModule",{value:!0}),V1InitializeContainer.V1InitializeContainer=void 0;const Ye=requireSrc$2();let rt=class{constructor(lt){this._values=lt}getGate(lt){return this._getResultFromLookup(this._values.feature_gates,lt)}getConfig(lt){return this._getResultFromLookup(this._values.dynamic_configs,lt)}getLayer(lt){return this._getResultFromLookup(this._values.layer_configs,lt)}getParamStore(lt){return this._getResultFromLookup(this._values.param_stores,lt)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(lt,ct){var ut,ht;return lt&&(ht=(ut=lt[ct])!==null&&ut!==void 0?ut:lt[(0,Ye._DJB2)(ct)])!==null&&ht!==void 0?ht:null}};return V1InitializeContainer.V1InitializeContainer=rt,V1InitializeContainer}var V2InitializeContainer={},hasRequiredV2InitializeContainer;function requireV2InitializeContainer(){if(hasRequiredV2InitializeContainer)return V2InitializeContainer;hasRequiredV2InitializeContainer=1,Object.defineProperty(V2InitializeContainer,"__esModule",{value:!0}),V2InitializeContainer.V2InitializeContainer=void 0;const Ye=requireSrc$2();let rt=class{constructor(lt){this._values=lt}getGate(lt){var ct,ut,ht;const ft=this._getResultFromLookup(this._values.feature_gates,lt);return ft?{name:lt,value:ft.v===!0,rule_id:(ct=ft.r)!==null&&ct!==void 0?ct:"default",secondary_exposures:(ut=ft.s)!==null&&ut!==void 0?ut:[],id_type:(ht=ft.i)!==null&&ht!==void 0?ht:""}:null}getConfig(lt){var ct,ut,ht,ft;const pt=this._getResultFromLookup(this._values.dynamic_configs,lt);return pt?{name:lt,value:(ct=this._values.values[pt.v])!==null&&ct!==void 0?ct:{},rule_id:pt.r,secondary_exposures:(ut=pt.s)!==null&&ut!==void 0?ut:[],id_type:(ht=pt.i)!==null&&ht!==void 0?ht:"",is_user_in_experiment:pt.ue===!0,passed:pt.p===!0,group_name:(ft=pt.gn)!==null&&ft!==void 0?ft:void 0,is_experiment_active:pt.ea===!0,group:pt.r,is_device_based:pt.i==="stableID"}:null}getLayer(lt){var ct,ut,ht,ft,pt,mt;const gt=this._getResultFromLookup(this._values.layer_configs,lt);return gt?{name:lt,value:(ct=this._values.values[gt.v])!==null&&ct!==void 0?ct:{},rule_id:gt.r,secondary_exposures:(ut=gt.s)!==null&&ut!==void 0?ut:[],is_user_in_experiment:gt.ue===!0,group_name:(ht=gt.gn)!==null&&ht!==void 0?ht:void 0,is_experiment_active:gt.ea===!0,group:gt.r,is_device_based:gt.i==="stableID",allocated_experiment_name:(ft=gt.ae)!==null&&ft!==void 0?ft:"",explicit_parameters:(pt=gt.ep)!==null&&pt!==void 0?pt:[],undelegated_secondary_exposures:(mt=gt.us)!==null&&mt!==void 0?mt:[],parameter_rule_ids:gt.pr}:null}getParamStore(lt){return this._getResultFromLookup(this._values.param_stores,lt)}getConfigList(){return Object.keys(this._values.dynamic_configs)}getExposureMapping(){return this._values.exposures}_getResultFromLookup(lt,ct){var ut,ht;return lt&&(ht=(ut=lt[ct])!==null&&ut!==void 0?ut:lt[(0,Ye._DJB2)(ct)])!==null&&ht!==void 0?ht:null}};return V2InitializeContainer.V2InitializeContainer=rt,V2InitializeContainer}var hasRequiredEvaluationStore;function requireEvaluationStore(){if(hasRequiredEvaluationStore)return EvaluationStore;hasRequiredEvaluationStore=1,Object.defineProperty(EvaluationStore,"__esModule",{value:!0});const Ye=requireSrc$2(),rt=requireV1InitializeContainer(),it=requireV2InitializeContainer();let lt=class{constructor(ut){this._sdkKey=ut,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,Ye._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(ut,ht){var ft,pt;if(!ut)return!1;const mt=(0,Ye._typedJsonParse)(ut.data,"has_updates","EvaluationResponse");return mt==null?!1:(this._source=ut.source,mt?.has_updates!==!0||((ft=mt.time)!==null&&ft!==void 0?ft:0)<this._lcut||(this._rawValues=ut.data,this._lcut=mt.time,this._receivedAt=ut.receivedAt,mt.response_format==="init-v2"?this._values=new it.V2InitializeContainer(mt):this._values=new rt.V1InitializeContainer(mt),this._bootstrapMetadata=this._extractBootstrapMetadata(ut.source,mt),ut.source&&mt.user&&this._setWarningState(ht,mt),Ye.SDKFlags.setFlags(this._sdkKey,(pt=mt.sdk_flags)!==null&&pt!==void 0?pt:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(ut){const ht=this._values?this._values.getGate(ut):null;return this._getDetailedStoreResult(ht)}getConfig(ut){const ht=this._values?this._values.getConfig(ut):null;return this._getDetailedStoreResult(ht)}getConfigList(){return this._values?this._values.getConfigList():[]}getLayer(ut){const ht=this._values?this._values.getLayer(ut):null;return this._getDetailedStoreResult(ht)}getParamStore(ut){const ht=this._values?this._values.getParamStore(ut):null;return this._getDetailedStoreResult(ht)}getSource(){return this._source}getExposureMapping(){var ut;return(ut=this._values)===null||ut===void 0?void 0:ut.getExposureMapping()}_extractBootstrapMetadata(ut,ht){if(ut!=="Bootstrap")return null;const ft={};return ht.user&&(ft.user=ht.user),ht.sdkInfo&&(ft.generatorSDKInfo=ht.sdkInfo),ft.lcut=ht.time,ft}_getDetailedStoreResult(ut){return{result:ut,details:this._getDetails(ut==null)}}_setWarningState(ut,ht){var ft,pt;const mt=Ye.StableID.get(this._sdkKey);if(((ft=ut.customIDs)===null||ft===void 0?void 0:ft.stableID)!==mt&&(!((pt=ut.customIDs)===null||pt===void 0)&&pt.stableID||mt)){this._warnings.add("StableIDMismatch");return}if("user"in ht){const gt=ht.user,yt=Object.assign(Object.assign({},ut),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,Ye._getFullUserHash)(yt)!==(0,Ye._getFullUserHash)(gt)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const ut={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(ut.warnings=Array.from(this._warnings)),ut}_getDetails(ut){var ht,ft;const pt=this.getCurrentSourceDetails();let mt=pt.reason;const gt=(ht=pt.warnings)!==null&&ht!==void 0?ht:[];this._source==="Bootstrap"&&gt.length>0&&(mt=mt+gt[0]),mt!=="Uninitialized"&&mt!=="NoValues"&&(mt=`${mt}:${ut?"Unrecognized":"Recognized"}`);const yt=this._source==="Bootstrap"&&(ft=this._bootstrapMetadata)!==null&&ft!==void 0?ft:void 0;return yt&&(pt.bootstrapMetadata=yt),Object.assign(Object.assign({},pt),{reason:mt})}};return EvaluationStore.default=lt,EvaluationStore}var Network={},EvaluationResponseDeltas={},hasRequiredEvaluationResponseDeltas;function requireEvaluationResponseDeltas(){if(hasRequiredEvaluationResponseDeltas)return EvaluationResponseDeltas;hasRequiredEvaluationResponseDeltas=1,Object.defineProperty(EvaluationResponseDeltas,"__esModule",{value:!0}),EvaluationResponseDeltas._resolveDeltasResponse=void 0;const Ye=requireSrc$2(),rt=2;function it(ht,ft){const pt=(0,Ye._typedJsonParse)(ft,"checksum","DeltasEvaluationResponse");if(!pt)return{hadBadDeltaChecksum:!0};const mt=lt(ht,pt),gt=ct(mt),yt=(0,Ye._DJB2Object)({feature_gates:gt.feature_gates,dynamic_configs:gt.dynamic_configs,layer_configs:gt.layer_configs},rt);return yt===pt.checksumV2?JSON.stringify(gt):{hadBadDeltaChecksum:!0,badChecksum:yt,badMergedConfigs:gt,badFullResponse:pt.deltas_full_response}}EvaluationResponseDeltas._resolveDeltasResponse=it;function lt(ht,ft){return Object.assign(Object.assign(Object.assign({},ht),ft),{feature_gates:Object.assign(Object.assign({},ht.feature_gates),ft.feature_gates),layer_configs:Object.assign(Object.assign({},ht.layer_configs),ft.layer_configs),dynamic_configs:Object.assign(Object.assign({},ht.dynamic_configs),ft.dynamic_configs)})}function ct(ht){const ft=ht;return ut(ht.deleted_gates,ft.feature_gates),delete ft.deleted_gates,ut(ht.deleted_configs,ft.dynamic_configs),delete ft.deleted_configs,ut(ht.deleted_layers,ft.layer_configs),delete ft.deleted_layers,ft}function ut(ht,ft){ht?.forEach(pt=>{delete ft[pt]})}return EvaluationResponseDeltas}var hasRequiredNetwork;function requireNetwork(){if(hasRequiredNetwork)return Network;hasRequiredNetwork=1;var Ye=Network&&Network.__awaiter||function(ct,ut,ht,ft){function pt(mt){return mt instanceof ht?mt:new ht(function(gt){gt(mt)})}return new(ht||(ht=Promise))(function(mt,gt){function yt(_t){try{bt(ft.next(_t))}catch(Ct){gt(Ct)}}function xt(_t){try{bt(ft.throw(_t))}catch(Ct){gt(Ct)}}function bt(_t){_t.done?mt(_t.value):pt(_t.value).then(yt,xt)}bt((ft=ft.apply(ct,ut||[])).next())})};Object.defineProperty(Network,"__esModule",{value:!0});const rt=requireSrc$2(),it=requireEvaluationResponseDeltas();class lt extends rt.NetworkCore{constructor(ut,ht){super(ut,ht);const ft=ut?.networkConfig;this._option=ut,this._initializeUrlConfig=new rt.UrlConfiguration(rt.Endpoint._initialize,ft?.initializeUrl,ft?.api,ft?.initializeFallbackUrls)}fetchEvaluations(ut,ht,ft,pt,mt){return Ye(this,void 0,void 0,function*(){var gt,yt,xt,bt,_t,Ct;const kt=ht?(0,rt._typedJsonParse)(ht,"has_updates","InitializeResponse"):null;let St={user:pt,hash:(xt=(yt=(gt=this._option)===null||gt===void 0?void 0:gt.networkConfig)===null||yt===void 0?void 0:yt.initializeHashAlgorithm)!==null&&xt!==void 0?xt:"djb2",deltasResponseRequested:!1,full_checksum:null};if(kt?.has_updates){const Rt=kt?.hash_used!==((Ct=(_t=(bt=this._option)===null||bt===void 0?void 0:bt.networkConfig)===null||_t===void 0?void 0:_t.initializeHashAlgorithm)!==null&&Ct!==void 0?Ct:"djb2");St=Object.assign(Object.assign({},St),{sinceTime:mt&&!Rt?kt.time:0,previousDerivedFields:"derived_fields"in kt&&mt?kt.derived_fields:{},deltasResponseRequested:!0,full_checksum:kt.full_checksum,partialUserMatchSinceTime:Rt?0:kt.time})}return this._fetchEvaluations(ut,kt,St,ft)})}_fetchEvaluations(ut,ht,ft,pt){return Ye(this,void 0,void 0,function*(){var mt,gt;const yt=yield this.post({sdkKey:ut,urlConfig:this._initializeUrlConfig,data:ft,retries:2,isStatsigEncodable:!0,priority:pt});if(yt?.code===204)return'{"has_updates": false}';if(yt?.code!==200)return(mt=yt?.body)!==null&&mt!==void 0?mt:null;if(ht?.has_updates!==!0||((gt=yt.body)===null||gt===void 0?void 0:gt.includes('"is_delta":true'))!==!0||ft.deltasResponseRequested!==!0)return yt.body;const xt=(0,it._resolveDeltasResponse)(ht,yt.body);return typeof xt=="string"?xt:this._fetchEvaluations(ut,ht,Object.assign(Object.assign(Object.assign({},ft),xt),{deltasResponseRequested:!1}),pt)})}}return Network.default=lt,Network}var ParamStoreGetterFactory={},hasRequiredParamStoreGetterFactory;function requireParamStoreGetterFactory(){if(hasRequiredParamStoreGetterFactory)return ParamStoreGetterFactory;hasRequiredParamStoreGetterFactory=1,Object.defineProperty(ParamStoreGetterFactory,"__esModule",{value:!0}),ParamStoreGetterFactory._makeParamStoreGetter=void 0;const Ye=requireSrc$2(),rt={disableExposureLog:!0};function it(gt){return gt==null||gt.disableExposureLog===!1}function lt(gt,yt){return yt!=null&&!(0,Ye._isTypeMatch)(gt,yt)}function ct(gt,yt){return gt.value}function ut(gt,yt,xt){return gt.getFeatureGate(yt.gate_name,it(xt)?void 0:rt).value?yt.pass_value:yt.fail_value}function ht(gt,yt,xt,bt){const Ct=gt.getDynamicConfig(yt.config_name,it(bt)?void 0:rt).get(yt.param_name);return lt(Ct,xt)?xt:Ct}function ft(gt,yt,xt,bt){const Ct=gt.getExperiment(yt.experiment_name,it(bt)?void 0:rt).get(yt.param_name);return lt(Ct,xt)?xt:Ct}function pt(gt,yt,xt,bt){const Ct=gt.getLayer(yt.layer_name,it(bt)?void 0:rt).get(yt.param_name);return lt(Ct,xt)?xt:Ct}function mt(gt,yt,xt){return(bt,_t)=>{if(yt==null)return _t;const Ct=yt[bt];if(Ct==null||_t!=null&&(0,Ye._typeOf)(_t)!==Ct.param_type)return _t;switch(Ct.ref_type){case"static":return ct(Ct);case"gate":return ut(gt,Ct,xt);case"dynamic_config":return ht(gt,Ct,_t,xt);case"experiment":return ft(gt,Ct,_t,xt);case"layer":return pt(gt,Ct,_t,xt);default:return _t}}}return ParamStoreGetterFactory._makeParamStoreGetter=mt,ParamStoreGetterFactory}var StatsigEvaluationsDataAdapter={},hasRequiredStatsigEvaluationsDataAdapter;function requireStatsigEvaluationsDataAdapter(){if(hasRequiredStatsigEvaluationsDataAdapter)return StatsigEvaluationsDataAdapter;hasRequiredStatsigEvaluationsDataAdapter=1;var Ye=StatsigEvaluationsDataAdapter&&StatsigEvaluationsDataAdapter.__awaiter||function(ct,ut,ht,ft){function pt(mt){return mt instanceof ht?mt:new ht(function(gt){gt(mt)})}return new(ht||(ht=Promise))(function(mt,gt){function yt(_t){try{bt(ft.next(_t))}catch(Ct){gt(Ct)}}function xt(_t){try{bt(ft.throw(_t))}catch(Ct){gt(Ct)}}function bt(_t){_t.done?mt(_t.value):pt(_t.value).then(yt,xt)}bt((ft=ft.apply(ct,ut||[])).next())})};Object.defineProperty(StatsigEvaluationsDataAdapter,"__esModule",{value:!0}),StatsigEvaluationsDataAdapter.StatsigEvaluationsDataAdapter=void 0;const rt=requireSrc$2(),it=requireNetwork();let lt=class extends rt.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(ut,ht,ft){super.attach(ut,ht,ft),ft!==null&&ft instanceof it.default?this._network=ft:this._network=new it.default(ht??{})}getDataAsync(ut,ht,ft){return this._getDataAsyncImpl(ut,(0,rt._normalizeUser)(ht,this._options),ft)}prefetchData(ut,ht){return this._prefetchDataImpl(ut,ht)}setData(ut){const ht=(0,rt._typedJsonParse)(ut,"has_updates","data");ht&&"user"in ht?super.setData(ut,ht.user):rt.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(ut,ht){super.setData(ut,ht)}_fetchFromNetwork(ut,ht,ft,pt){return Ye(this,void 0,void 0,function*(){var mt;const gt=yield(mt=this._network)===null||mt===void 0?void 0:mt.fetchEvaluations(this._getSdkKey(),ut,ft?.priority,ht,pt);return gt??null})}_getCacheKey(ut){var ht;const ft=(0,rt._getStorageKey)(this._getSdkKey(),ut,(ht=this._options)===null||ht===void 0?void 0:ht.customUserCacheKeyFunc);return`${rt.DataAdapterCachePrefix}.${this._cacheSuffix}.${ft}`}_isCachedResultValidFor204(ut,ht){return ut.fullUserHash!=null&&ut.fullUserHash===(0,rt._getFullUserHash)(ht)}};return StatsigEvaluationsDataAdapter.StatsigEvaluationsDataAdapter=lt,StatsigEvaluationsDataAdapter}var hasRequiredStatsigClient;function requireStatsigClient(){if(hasRequiredStatsigClient)return StatsigClient;hasRequiredStatsigClient=1;var Ye=StatsigClient&&StatsigClient.__awaiter||function(ft,pt,mt,gt){function yt(xt){return xt instanceof mt?xt:new mt(function(bt){bt(xt)})}return new(mt||(mt=Promise))(function(xt,bt){function _t(St){try{kt(gt.next(St))}catch(Rt){bt(Rt)}}function Ct(St){try{kt(gt.throw(St))}catch(Rt){bt(Rt)}}function kt(St){St.done?xt(St.value):yt(St.value).then(_t,Ct)}kt((gt=gt.apply(ft,pt||[])).next())})};Object.defineProperty(StatsigClient,"__esModule",{value:!0});const rt=requireSrc$2(),it=requireEvaluationStore(),lt=requireNetwork(),ct=requireParamStoreGetterFactory(),ut=requireStatsigEvaluationsDataAdapter();let ht=class ud extends rt.StatsigClientBase{static instance(pt){const mt=(0,rt._getStatsigGlobal)().instance(pt);return mt instanceof ud?mt:(rt.Log.warn((0,rt._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new ud(pt??"",{}))}constructor(pt,mt,gt=null){var yt,xt;rt.SDKType._setClientType(pt,"javascript-client");const bt=new lt.default(gt,Ct=>{this.$emt(Ct)});super(pt,(yt=gt?.dataAdapter)!==null&&yt!==void 0?yt:new ut.StatsigEvaluationsDataAdapter,bt,gt),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(rt.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(rt.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(rt.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(rt.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(rt.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(rt.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new it.default(pt),this._network=bt,this._user=this._configureUser(mt,gt),this._sdkInstanceID=(0,rt.getUUID)();const _t=(xt=gt?.plugins)!==null&&xt!==void 0?xt:[];for(const Ct of _t)Ct.bind(this)}initializeSync(pt){var mt;return this.loadingStatus!=="Uninitialized"?(0,rt.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(mt=this._store.getWarnings())!==null&&mt!==void 0?mt:[]]):(this._logger.start(),this.updateUserSync(this._user,pt))}initializeAsync(pt){return Ye(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(pt),this._initializePromise)})}updateUserSync(pt,mt){const gt=performance.now();try{return this._updateUserSyncImpl(pt,mt,gt)}catch(yt){const xt=yt instanceof Error?yt:new Error(String(yt));return this._createErrorUpdateDetails(xt,gt)}}_updateUserSyncImpl(pt,mt,gt){var yt;const xt=[...(yt=this._store.getWarnings())!==null&&yt!==void 0?yt:[]];this._resetForUser(pt);const bt=this.dataAdapter.getDataSync(this._user);bt==null&&xt.push("NoCachedValues"),this._store.setValues(bt,this._user),this._finalizeUpdate(bt);const _t=mt?.disableBackgroundCacheRefresh;return _t===!0||_t==null&&bt?.source==="Bootstrap"?(0,rt.createUpdateDetails)(!0,this._store.getSource(),performance.now()-gt,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),xt):(this._runPostUpdate(bt??null,this._user),(0,rt.createUpdateDetails)(!0,this._store.getSource(),performance.now()-gt,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),xt))}updateUserAsync(pt,mt){return Ye(this,void 0,void 0,function*(){const gt=performance.now();try{return yield this._updateUserAsyncImpl(pt,mt)}catch(yt){const xt=yt instanceof Error?yt:new Error(String(yt));return this._createErrorUpdateDetails(xt,gt)}})}_updateUserAsyncImpl(pt,mt){return Ye(this,void 0,void 0,function*(){this._resetForUser(pt);const gt=this._user;rt.Diagnostics._markInitOverallStart(this._sdkKey);let yt=this.dataAdapter.getDataSync(gt);if(this._store.setValues(yt,this._user),this._setStatus("Loading",yt),yt=yield this.dataAdapter.getDataAsync(yt,gt,mt),gt!==this._user)return(0,rt.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let xt=!1;yt!=null&&(rt.Diagnostics._markInitProcessStart(this._sdkKey),xt=this._store.setValues(yt,this._user),rt.Diagnostics._markInitProcessEnd(this._sdkKey,{success:xt})),this._finalizeUpdate(yt),xt||(this._errorBoundary.attachErrorIfNoneExists(rt.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),rt.Diagnostics._markInitOverallEnd(this._sdkKey,xt,this._store.getCurrentSourceDetails());const bt=rt.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,rt.createUpdateDetails)(xt,this._store.getSource(),bt,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:rt.StatsigSession.get(this._sdkKey),stableID:rt.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(pt,mt){return this.getFeatureGate(pt,mt).value}logEvent(pt,mt,gt){const yt=typeof pt=="string"?{eventName:pt,value:mt,metadata:gt}:pt;this.$emt({name:"log_event_called",event:yt}),this._logger.enqueue(Object.assign(Object.assign({},yt),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(pt){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:pt}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(pt){return Ye(this,void 0,void 0,function*(){return rt.Storage.isReady()||(yield rt.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,pt)})}_createErrorUpdateDetails(pt,mt){var gt;return(0,rt.createUpdateDetails)(!1,this._store.getSource(),performance.now()-mt,pt,null,[...(gt=this._store.getWarnings())!==null&&gt!==void 0?gt:[]])}_finalizeUpdate(pt){this._store.finalize(),this._setStatus("Ready",pt)}_runPostUpdate(pt,mt){this.dataAdapter.getDataAsync(pt,mt,{priority:"low"}).catch(gt=>{rt.Log.error("An error occurred after update.",gt)})}_resetForUser(pt){this._logger.reset(),this._store.reset(),this._user=this._configureUser(pt,this._options)}_configureUser(pt,mt){var gt,yt,xt;const bt=(0,rt._normalizeUser)(pt,mt),_t=(gt=bt.customIDs)===null||gt===void 0?void 0:gt.stableID;if(_t){const Ct=(xt=(yt=this.storageProvider).isReadyResolver)===null||xt===void 0?void 0:xt.call(yt);Ct?Ct.then(()=>rt.StableID.setOverride(_t,this._sdkKey),()=>rt.StableID.setOverride(_t,this._sdkKey)):rt.StableID.setOverride(_t,this._sdkKey)}return Object.keys(this._possibleFirstTouchMetadata).length>0&&(bt.analyticsOnlyMetadata=Object.assign(Object.assign({},bt.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),bt}_getFeatureGateImpl(pt,mt){var gt,yt;const{result:xt,details:bt}=this._store.getGate(pt),_t=(0,rt._makeFeatureGate)(pt,bt,xt),Ct=(yt=(gt=this.overrideAdapter)===null||gt===void 0?void 0:gt.getGateOverride)===null||yt===void 0?void 0:yt.call(gt,_t,this._user,mt),kt=Ct??_t;return this._enqueueExposure(pt,(0,rt._createGateExposure)(this._user,kt,this._store.getExposureMapping()),mt),this.$emt({name:"gate_evaluation",gate:kt}),kt}_getDynamicConfigImpl(pt,mt){var gt,yt;const{result:xt,details:bt}=this._store.getConfig(pt),_t=(0,rt._makeDynamicConfig)(pt,bt,xt),Ct=(yt=(gt=this.overrideAdapter)===null||gt===void 0?void 0:gt.getDynamicConfigOverride)===null||yt===void 0?void 0:yt.call(gt,_t,this._user,mt),kt=Ct??_t;return this._enqueueExposure(pt,(0,rt._createConfigExposure)(this._user,kt,this._store.getExposureMapping()),mt),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:kt}),kt}_getExperimentImpl(pt,mt){var gt,yt,xt,bt;const{result:_t,details:Ct}=this._store.getConfig(pt),kt=(0,rt._makeExperiment)(pt,Ct,_t);kt.__evaluation!=null&&(kt.__evaluation.secondary_exposures=(0,rt._mapExposures)((yt=(gt=kt.__evaluation)===null||gt===void 0?void 0:gt.secondary_exposures)!==null&&yt!==void 0?yt:[],this._store.getExposureMapping()));const St=(bt=(xt=this.overrideAdapter)===null||xt===void 0?void 0:xt.getExperimentOverride)===null||bt===void 0?void 0:bt.call(xt,kt,this._user,mt),Rt=St??kt;return this._enqueueExposure(pt,(0,rt._createConfigExposure)(this._user,Rt,this._store.getExposureMapping()),mt),this.$emt({name:"experiment_evaluation",experiment:Rt}),Rt}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(pt,mt){var gt,yt,xt;const{result:bt,details:_t}=this._store.getLayer(pt),Ct=(0,rt._makeLayer)(pt,_t,bt),kt=(yt=(gt=this.overrideAdapter)===null||gt===void 0?void 0:gt.getLayerOverride)===null||yt===void 0?void 0:yt.call(gt,Ct,this._user,mt);mt?.disableExposureLog&&this._logger.incrementNonExposureCount(pt);const St=(0,rt._mergeOverride)(Ct,kt,(xt=kt?.__value)!==null&&xt!==void 0?xt:Ct.__value,Rt=>{mt?.disableExposureLog||this._enqueueExposure(pt,(0,rt._createLayerParameterExposure)(this._user,St,Rt,this._store.getExposureMapping()),mt)});return this.$emt({name:"layer_evaluation",layer:St}),St}_getParameterStoreImpl(pt,mt){var gt,yt;const{result:xt,details:bt}=this._store.getParamStore(pt);this._logger.incrementNonExposureCount(pt);const _t={name:pt,details:bt,__configuration:xt,get:(0,ct._makeParamStoreGetter)(this,xt,mt)},Ct=(yt=(gt=this.overrideAdapter)===null||gt===void 0?void 0:gt.getParamStoreOverride)===null||yt===void 0?void 0:yt.call(gt,_t,mt);return Ct!=null&&(_t.__configuration=Ct.config,_t.details=Ct.details,_t.get=(0,ct._makeParamStoreGetter)(this,Ct.config,mt)),_t}};return StatsigClient.default=ht,StatsigClient}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,(function(Ye){var rt=src&&src.__createBinding||(Object.create?(function(ht,ft,pt,mt){mt===void 0&&(mt=pt);var gt=Object.getOwnPropertyDescriptor(ft,pt);(!gt||("get"in gt?!ft.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return ft[pt]}}),Object.defineProperty(ht,mt,gt)}):(function(ht,ft,pt,mt){mt===void 0&&(mt=pt),ht[mt]=ft[pt]})),it=src&&src.__exportStar||function(ht,ft){for(var pt in ht)pt!=="default"&&!Object.prototype.hasOwnProperty.call(ft,pt)&&rt(ft,ht,pt)};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.StatsigClient=void 0;const lt=requireSrc$2(),ct=requireStatsigClient();Ye.StatsigClient=ct.default,it(requireSrc$2(),Ye);const ut=Object.assign((0,lt._getStatsigGlobal)(),{StatsigClient:ct.default});Ye.default=ut})(src)),src}var useStatsigInternalClientFactoryAsync={},hasRequiredUseStatsigInternalClientFactoryAsync;function requireUseStatsigInternalClientFactoryAsync(){if(hasRequiredUseStatsigInternalClientFactoryAsync)return useStatsigInternalClientFactoryAsync;hasRequiredUseStatsigInternalClientFactoryAsync=1,Object.defineProperty(useStatsigInternalClientFactoryAsync,"__esModule",{value:!0}),useStatsigInternalClientFactoryAsync.useStatsigInternalClientFactoryAsync=void 0;const Ye=requireReact(),rt=requireSrc$2();function it(lt,ct){const ut=(0,Ye.useMemo)(()=>{var pt;return(pt=(0,rt._getInstance)(ct.sdkKey))!==null&&pt!==void 0?pt:lt(ct)},[]),[ht,ft]=(0,Ye.useState)(ut.loadingStatus!=="Ready");return(0,Ye.useMemo)(()=>{ut.loadingStatus!=="Ready"&&ut.initializeAsync().catch(rt.Log.error).finally(()=>ft(!1))},[]),{client:ut,isLoading:ht}}return useStatsigInternalClientFactoryAsync.useStatsigInternalClientFactoryAsync=it,useStatsigInternalClientFactoryAsync}var hasRequiredUseClientAsyncInit;function requireUseClientAsyncInit(){if(hasRequiredUseClientAsyncInit)return useClientAsyncInit;hasRequiredUseClientAsyncInit=1,Object.defineProperty(useClientAsyncInit,"__esModule",{value:!0}),useClientAsyncInit.useClientAsyncInit=void 0;const Ye=requireSrc$1(),rt=requireUseStatsigInternalClientFactoryAsync();function it(lt,ct,ut=null){return(0,rt.useStatsigInternalClientFactoryAsync)(ht=>new Ye.StatsigClient(ht.sdkKey,ht.initialUser,ht.statsigOptions),{sdkKey:lt,initialUser:ct,statsigOptions:ut})}return useClientAsyncInit.useClientAsyncInit=it,useClientAsyncInit}var hasRequiredStatsigProvider;function requireStatsigProvider(){if(hasRequiredStatsigProvider)return StatsigProvider;hasRequiredStatsigProvider=1,Object.defineProperty(StatsigProvider,"__esModule",{value:!0}),StatsigProvider.StatsigProvider=void 0;const Ye=requireJsxRuntime(),rt=requireReact(),it=requireSrc$2(),lt=requireStatsigContext(),ct=requireUseClientAsyncInit();function ut(gt){return"client"in gt?(("sdkKey"in gt||"user"in gt)&&it.Log.warn("Both client and configuration props (sdkKey, user) were provided to StatsigProvider. The client prop will be used and the configuration props will be ignored."),(0,Ye.jsx)(ft,Object.assign({},gt))):(0,Ye.jsx)(ht,Object.assign({},gt))}StatsigProvider.StatsigProvider=ut;function ht(gt){const[yt,xt]=(0,rt.useState)(0),bt=(0,ct.useClientAsyncInit)(gt.sdkKey,gt.user,gt.options).client,[_t,Ct]=(0,rt.useState)(!mt(bt));pt(bt,xt,Ct);const kt=(0,rt.useMemo)(()=>({renderVersion:yt,client:bt,isLoading:_t}),[yt,bt,_t]);return(0,Ye.jsx)(lt.default.Provider,{value:kt,children:gt.loadingComponent==null||!kt.isLoading?gt.children:gt.loadingComponent})}function ft(gt){const[yt,xt]=(0,rt.useState)(0),bt=gt.client,[_t,Ct]=(0,rt.useState)(!mt(bt));pt(bt,xt,Ct);const kt=(0,rt.useMemo)(()=>({renderVersion:yt,client:bt,isLoading:_t}),[yt,bt,_t]);return(0,Ye.jsx)(lt.default.Provider,{value:kt,children:gt.loadingComponent==null||!kt.isLoading?gt.children:gt.loadingComponent})}function pt(gt,yt,xt){(0,rt.useEffect)(()=>{const bt=()=>{yt(_t=>_t+1),xt(!mt(gt))};return it.SDKType._setBindingType("react"),gt.$on("values_updated",bt),()=>{gt.flush().catch(_t=>it.Log.error("An error occurred during flush",_t)),gt.off("values_updated",bt)}},[gt,yt])}function mt(gt){if("isNoop"in gt)return!0;switch(gt.loadingStatus){case"Ready":return!0;default:return!1}}return StatsigProvider}var useClientBootstrapInit={},useStatsigInternalClientFactoryBootstrap={},hasRequiredUseStatsigInternalClientFactoryBootstrap;function requireUseStatsigInternalClientFactoryBootstrap(){if(hasRequiredUseStatsigInternalClientFactoryBootstrap)return useStatsigInternalClientFactoryBootstrap;hasRequiredUseStatsigInternalClientFactoryBootstrap=1,Object.defineProperty(useStatsigInternalClientFactoryBootstrap,"__esModule",{value:!0}),useStatsigInternalClientFactoryBootstrap.useStatsigInternalClientFactoryBootstrap=void 0;const Ye=requireReact(),rt=requireSrc$2();function it(lt,ct){const ut=(0,Ye.useRef)((0,rt._getInstance)(ct.sdkKey));return(0,Ye.useMemo)(()=>{if(ut.current)return ut.current;const ht=lt(ct);return ut.current=ht,ct.useLegacyFormat?ht.dataAdapter.setDataLegacy(ct.initialValues,ct.initialUser):ht.dataAdapter.setData(ct.initialValues),ht.initializeSync(),ht},[])}return useStatsigInternalClientFactoryBootstrap.useStatsigInternalClientFactoryBootstrap=it,useStatsigInternalClientFactoryBootstrap}var hasRequiredUseClientBootstrapInit;function requireUseClientBootstrapInit(){if(hasRequiredUseClientBootstrapInit)return useClientBootstrapInit;hasRequiredUseClientBootstrapInit=1,Object.defineProperty(useClientBootstrapInit,"__esModule",{value:!0}),useClientBootstrapInit.useClientBootstrapInit=void 0;const Ye=requireSrc$1(),rt=requireUseStatsigInternalClientFactoryBootstrap();function it(lt,ct,ut,ht=null,ft){return(0,rt.useStatsigInternalClientFactoryBootstrap)(pt=>new Ye.StatsigClient(pt.sdkKey,pt.initialUser,pt.statsigOptions),{sdkKey:lt,initialUser:ct,initialValues:ut,statsigOptions:ht,useLegacyFormat:ft})}return useClientBootstrapInit.useClientBootstrapInit=it,useClientBootstrapInit}var useDynamicConfig={},hasRequiredUseDynamicConfig;function requireUseDynamicConfig(){if(hasRequiredUseDynamicConfig)return useDynamicConfig;hasRequiredUseDynamicConfig=1,Object.defineProperty(useDynamicConfig,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useDynamicConfig hook failed to find a valid StatsigClient for dynamic config '${ut}'.`),it.NoopEvaluationsClient.getDynamicConfig(ut,ht)):ft.getDynamicConfig(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useDynamicConfig.default=ct,useDynamicConfig}var useExperiment={},hasRequiredUseExperiment;function requireUseExperiment(){if(hasRequiredUseExperiment)return useExperiment;hasRequiredUseExperiment=1,Object.defineProperty(useExperiment,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useExperiment hook failed to find a valid Statsig client for experiment '${ut}'.`),it.NoopEvaluationsClient.getExperiment(ut,ht)):ft.getExperiment(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useExperiment.default=ct,useExperiment}var useFeatureGate={},hasRequiredUseFeatureGate;function requireUseFeatureGate(){if(hasRequiredUseFeatureGate)return useFeatureGate;hasRequiredUseFeatureGate=1,Object.defineProperty(useFeatureGate,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useFeatureGate hook failed to find a valid StatsigClient for gate '${ut}'.`),it.NoopEvaluationsClient.getFeatureGate(ut,ht)):ft.getFeatureGate(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useFeatureGate.default=ct,useFeatureGate}var useGateValue={},hasRequiredUseGateValue;function requireUseGateValue(){if(hasRequiredUseGateValue)return useGateValue;hasRequiredUseGateValue=1,Object.defineProperty(useGateValue,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useGateValue hook failed to find a valid StatsigClient for gate '${ut}'.`),it.NoopEvaluationsClient.checkGate(ut,ht)):ft.checkGate(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useGateValue.default=ct,useGateValue}var useLayer={},hasRequiredUseLayer;function requireUseLayer(){if(hasRequiredUseLayer)return useLayer;hasRequiredUseLayer=1,Object.defineProperty(useLayer,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useLayer hook failed to find a valid Statsig client for layer '${ut}'.`),it.NoopEvaluationsClient.getLayer(ut,ht)):ft.getLayer(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useLayer.default=ct,useLayer}var useParameterStore={},hasRequiredUseParameterStore;function requireUseParameterStore(){if(hasRequiredUseParameterStore)return useParameterStore;hasRequiredUseParameterStore=1,Object.defineProperty(useParameterStore,"__esModule",{value:!0});const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(ut,ht){const{client:ft,renderVersion:pt}=(0,Ye.useContext)(lt.default);return(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ft)?(rt.Log.warn(`useParameterStore hook failed to find a valid StatsigClient for parameter store '${ut}'.`),it.NoopEvaluationsClient.getParameterStore(ut,ht)):ft.getParameterStore(ut,ht),[ut,ft,pt,...ht?Object.values(ht):[]])}return useParameterStore.default=ct,useParameterStore}var useStatsigClient={},hasRequiredUseStatsigClient;function requireUseStatsigClient(){if(hasRequiredUseStatsigClient)return useStatsigClient;hasRequiredUseStatsigClient=1,Object.defineProperty(useStatsigClient,"__esModule",{value:!0}),useStatsigClient.useStatsigClient=void 0;const Ye=requireReact(),rt=requireSrc$2(),it=requireNoopEvaluationsClient(),lt=requireStatsigContext();function ct(){const{client:ut,renderVersion:ht,isLoading:ft}=(0,Ye.useContext)(lt.default),pt=(0,Ye.useMemo)(()=>(0,it.isNoopClient)(ut)?(rt.Log.warn("Attempting to retrieve a StatsigClient but none was set."),it.NoopEvaluationsClient):ut,[ut,ht]),mt=[pt,ht],gt=(0,Ye.useCallback)((St,Rt)=>pt.checkGate(St,Rt),mt),yt=(0,Ye.useCallback)((St,Rt)=>pt.getFeatureGate(St,Rt),mt),xt=(0,Ye.useCallback)((St,Rt)=>pt.getDynamicConfig(St,Rt),mt),bt=(0,Ye.useCallback)((St,Rt)=>pt.getExperiment(St,Rt),mt),_t=(0,Ye.useCallback)((St,Rt)=>pt.getLayer(St,Rt),mt),Ct=(0,Ye.useCallback)((St,Rt)=>pt.getParameterStore(St,Rt),mt),kt=(0,Ye.useCallback)((St,Rt,Tt)=>typeof St=="string"?pt.logEvent(St,Rt,Tt):pt.logEvent(St),mt);return(0,Ye.useMemo)(()=>({client:pt,checkGate:gt,getFeatureGate:yt,getDynamicConfig:xt,getExperiment:bt,getLayer:_t,getParameterStore:Ct,logEvent:kt,isLoading:ft}),[pt,gt,yt,xt,bt,_t,Ct,kt,ft])}return useStatsigClient.useStatsigClient=ct,useStatsigClient}var useStatsigUser={},hasRequiredUseStatsigUser;function requireUseStatsigUser(){if(hasRequiredUseStatsigUser)return useStatsigUser;hasRequiredUseStatsigUser=1,Object.defineProperty(useStatsigUser,"__esModule",{value:!0}),useStatsigUser.useStatsigUser=void 0;const Ye=requireReact(),rt=requireStatsigContext(),it=requireUseStatsigClient();function lt(ut){return ut.getContext().user}function ct(){const{client:ut}=(0,it.useStatsigClient)(),{renderVersion:ht}=(0,Ye.useContext)(rt.default);return{user:(0,Ye.useMemo)(()=>lt(ut),[ut,ht]),updateUserSync:(0,Ye.useCallback)(pt=>(typeof pt=="function"&&(pt=pt(lt(ut))),ut.updateUserSync(pt)),[ut]),updateUserAsync:(0,Ye.useCallback)(pt=>(typeof pt=="function"&&(pt=pt(lt(ut))),ut.updateUserAsync(pt)),[ut])}}return useStatsigUser.useStatsigUser=ct,useStatsigUser}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,(function(Ye){var rt=src$2&&src$2.__createBinding||(Object.create?(function(Rt,Tt,Mt,Pt){Pt===void 0&&(Pt=Mt);var It=Object.getOwnPropertyDescriptor(Tt,Mt);(!It||("get"in It?!Tt.__esModule:It.writable||It.configurable))&&(It={enumerable:!0,get:function(){return Tt[Mt]}}),Object.defineProperty(Rt,Pt,It)}):(function(Rt,Tt,Mt,Pt){Pt===void 0&&(Pt=Mt),Rt[Pt]=Tt[Mt]})),it=src$2&&src$2.__exportStar||function(Rt,Tt){for(var Mt in Rt)Mt!=="default"&&!Object.prototype.hasOwnProperty.call(Tt,Mt)&&rt(Tt,Rt,Mt)};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.useStatsigUser=Ye.useStatsigInternalClientFactoryBootstrap=Ye.useStatsigInternalClientFactoryAsync=Ye.useStatsigClient=Ye.useParameterStore=Ye.useLayer=Ye.useGateValue=Ye.useFeatureGate=Ye.useExperiment=Ye.useDynamicConfig=Ye.useClientBootstrapInit=Ye.useClientAsyncInit=Ye.StatsigProvider=Ye.StatsigContext=void 0;const lt=requireSrc$2(),ct=requireStatsigContext();Ye.StatsigContext=ct.default;const ut=requireStatsigProvider();Object.defineProperty(Ye,"StatsigProvider",{enumerable:!0,get:function(){return ut.StatsigProvider}});const ht=requireUseClientAsyncInit();Object.defineProperty(Ye,"useClientAsyncInit",{enumerable:!0,get:function(){return ht.useClientAsyncInit}});const ft=requireUseClientBootstrapInit();Object.defineProperty(Ye,"useClientBootstrapInit",{enumerable:!0,get:function(){return ft.useClientBootstrapInit}});const pt=requireUseDynamicConfig();Ye.useDynamicConfig=pt.default;const mt=requireUseExperiment();Ye.useExperiment=mt.default;const gt=requireUseFeatureGate();Ye.useFeatureGate=gt.default;const yt=requireUseGateValue();Ye.useGateValue=yt.default;const xt=requireUseLayer();Ye.useLayer=xt.default;const bt=requireUseParameterStore();Ye.useParameterStore=bt.default;const _t=requireUseStatsigClient();Object.defineProperty(Ye,"useStatsigClient",{enumerable:!0,get:function(){return _t.useStatsigClient}});const Ct=requireUseStatsigInternalClientFactoryAsync();Object.defineProperty(Ye,"useStatsigInternalClientFactoryAsync",{enumerable:!0,get:function(){return Ct.useStatsigInternalClientFactoryAsync}});const kt=requireUseStatsigInternalClientFactoryBootstrap();Object.defineProperty(Ye,"useStatsigInternalClientFactoryBootstrap",{enumerable:!0,get:function(){return kt.useStatsigInternalClientFactoryBootstrap}});const St=requireUseStatsigUser();Object.defineProperty(Ye,"useStatsigUser",{enumerable:!0,get:function(){return St.useStatsigUser}}),it(requireSrc$1(),Ye),Object.assign((0,lt._getStatsigGlobal)(),{StatsigContext:ct.default,StatsigProvider:ut.StatsigProvider,useClientAsyncInit:ht.useClientAsyncInit,useClientBootstrapInit:ft.useClientBootstrapInit,useDynamicConfig:pt.default,useExperiment:mt.default,useFeatureGate:gt.default,useGateValue:yt.default,useLayer:xt.default,useParameterStore:bt.default,useStatsigClient:_t.useStatsigClient,useStatsigInternalClientFactoryAsync:Ct.useStatsigInternalClientFactoryAsync,useStatsigInternalClientFactoryBootstrap:kt.useStatsigInternalClientFactoryBootstrap,useStatsigUser:St.useStatsigUser})})(src$2)),src$2}var srcExports=requireSrc();function useStatsigGate(Ye,rt){return srcExports.useStatsigClient().checkGate(Ye,rt)}function createStringCoercedProperties(Ye){const rt={};return Object.entries(Ye).forEach(([it,lt])=>{(typeof lt=="number"||typeof lt=="string"||typeof lt=="boolean")&&(rt[it]=String(lt))}),rt}function getBaseMetadata(Ye){const rt=Ye.getContext().user?.appVersion;return{origin:"codex_vscode",...rt?{app_version:rt}:{}}}function logValueEventWithStatsig(Ye,rt,{value:it,metadata:lt}={}){const ct={...getBaseMetadata(Ye),...lt??{}},ut=createStringCoercedProperties(ct);Ye.logEvent(rt,it,ut)}function logEventWithStatsig(Ye,rt,it){logValueEventWithStatsig(Ye,rt,{metadata:it})}function useStatsigEventLogger(){const{client:Ye}=srcExports.useStatsigClient(),rt=reactExports.useCallback((lt,ct)=>logEventWithStatsig(Ye,lt,ct),[Ye]),it=reactExports.useCallback((lt,ct)=>logValueEventWithStatsig(Ye,lt,ct),[Ye]);return{logEventWithStatsig:rt,logValueEventWithStatsig:it}}var AccountPlanType=(Ye=>(Ye.FREE="free",Ye.GO="go",Ye.PLUS="plus",Ye.PRO="pro",Ye.SELF_SERVE_BUSINESS="team",Ye.ENTERPRISE_CBP="business",Ye.EDUCATION_CBP="education",Ye.QUORUM="quorum",Ye.DEPRECATED_ENTERPRISE="enterprise",Ye.DEPRECATED_ENTERPRISE_2="deprecated_enterprise",Ye.DEPRECATED_EDU="edu",Ye.DEPRECATED_EDU_2="deprecated_edu",Ye))(AccountPlanType||{});function isEducationalPlan(Ye){return Ye==="education"||Ye==="deprecated_edu"}function isQuorumPlan(Ye){return Ye==="quorum"}function isEnterpriseyPlan(Ye){return Ye==="business"||Ye==="deprecated_enterprise"||isEducationalPlan(Ye)||isQuorumPlan(Ye)}const aCodexCloudAccessAtom=persistedAtom("codexCloudAccess",null);function useCodexCloudAccess(){const{authMethod:Ye}=useAuth(),[rt,it]=useAtom(aCodexCloudAccessAtom),{data:lt,isLoading:ct,isError:ut,refetch:ht}=useFetchFromVSCode("account-info",{queryConfig:{enabled:Ye==="chatgpt"}}),ft=lt?.plan??void 0,pt=isEnterpriseyPlan(ft),{data:mt,isLoading:gt,isError:yt,refetch:xt}=useQuery({queryKey:["accounts","settings",lt?.accountId],enabled:!!lt?.accountId&&pt&&Ye==="chatgpt",queryFn:async()=>CodexRequest.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:lt?.accountId??""}}})}),{data:bt,isLoading:_t,error:Ct,refetch:kt}=useEnvironments({enabled:Ye==="chatgpt"}),St=useStatsigGate("codex_worktree_snapshots"),Rt=reactExports.useCallback(async()=>{await Promise.all([ht(),pt&&xt(),kt()])},[ht,xt,kt,pt]),Tt=ct||gt||_t,Mt=Ct instanceof FetchError&&Ct.status===404,Pt=ut||pt&&yt||!!Ct&&!Mt,It=St?Mt:bt?.length===0||Mt,Lt=!pt||(mt?.beta_settings?.wham_access??!1),Ot=codexCloudAccess(ft,Ye,{isLoading:Tt,hasErrors:Pt,needsOnboarding:It,hasWorkspaceEnabledCodex:Lt});return reactExports.useEffect(()=>{Ot!=="loading"&&Ot!=="error"&&it(Ot)},[Ot,it]),(Ot==="loading"||Ot==="error")&&rt?{access:rt,refetch:Rt}:{access:Ot,refetch:Rt}}function codexCloudAccess(Ye,rt,{isLoading:it,hasErrors:lt,needsOnboarding:ct,hasWorkspaceEnabledCodex:ut,hasLoggedDisabledRef:ht}){const ft=isEnterpriseyPlan(Ye),pt=mt=>{ht&&!ht.current&&(logger.info(mt),ht.current=!0)};return rt!=="chatgpt"?(pt("Codex Cloud access disabled because user is not logged in via ChatGPT."),"disabled"):it?"loading":lt?"error":ft&&!ut?(pt("Codex Cloud access disabled because workspace has not enabled Codex."),"disabled"):ct?"enabled_needs_setup":"enabled"}var fromPairs_1,hasRequiredFromPairs;function requireFromPairs(){if(hasRequiredFromPairs)return fromPairs_1;hasRequiredFromPairs=1;function Ye(rt){for(var it=-1,lt=rt==null?0:rt.length,ct={};++it<lt;){var ut=rt[it];ct[ut[0]]=ut[1]}return ct}return fromPairs_1=Ye,fromPairs_1}var fromPairsExports=requireFromPairs();const fromPairs=getDefaultExportFromCjs(fromPairsExports);var _defineProperty$2,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$2;hasRequired_defineProperty=1;var Ye=require_getNative(),rt=(function(){try{var it=Ye(Object,"defineProperty");return it({},"",{}),it}catch{}})();return _defineProperty$2=rt,_defineProperty$2}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var Ye=require_defineProperty();function rt(it,lt,ct){lt=="__proto__"&&Ye?Ye(it,lt,{configurable:!0,enumerable:!0,value:ct,writable:!0}):it[lt]=ct}return _baseAssignValue=rt,_baseAssignValue}var _arrayAggregator,hasRequired_arrayAggregator;function require_arrayAggregator(){if(hasRequired_arrayAggregator)return _arrayAggregator;hasRequired_arrayAggregator=1;function Ye(rt,it,lt,ct){for(var ut=-1,ht=rt==null?0:rt.length;++ut<ht;){var ft=rt[ut];it(ct,ft,lt(ft),rt)}return ct}return _arrayAggregator=Ye,_arrayAggregator}var _baseAggregator,hasRequired_baseAggregator;function require_baseAggregator(){if(hasRequired_baseAggregator)return _baseAggregator;hasRequired_baseAggregator=1;var Ye=require_baseEach();function rt(it,lt,ct,ut){return Ye(it,function(ht,ft,pt){lt(ut,ht,ct(ht),pt)}),ut}return _baseAggregator=rt,_baseAggregator}var _createAggregator,hasRequired_createAggregator;function require_createAggregator(){if(hasRequired_createAggregator)return _createAggregator;hasRequired_createAggregator=1;var Ye=require_arrayAggregator(),rt=require_baseAggregator(),it=require_baseIteratee(),lt=requireIsArray$7();function ct(ut,ht){return function(ft,pt){var mt=lt(ft)?Ye:rt,gt=ht?ht():{};return mt(ft,ut,it(pt,2),gt)}}return _createAggregator=ct,_createAggregator}var groupBy_1,hasRequiredGroupBy;function requireGroupBy(){if(hasRequiredGroupBy)return groupBy_1;hasRequiredGroupBy=1;var Ye=require_baseAssignValue(),rt=require_createAggregator(),it=Object.prototype,lt=it.hasOwnProperty,ct=rt(function(ut,ht,ft){lt.call(ut,ft)?ut[ft].push(ht):Ye(ut,ft,[ht])});return groupBy_1=ct,groupBy_1}var groupByExports=requireGroupBy();const groupBy=getDefaultExportFromCjs(groupByExports);var uniq_1,hasRequiredUniq;function requireUniq(){if(hasRequiredUniq)return uniq_1;hasRequiredUniq=1;var Ye=require_baseUniq();function rt(it){return it&&it.length?Ye(it):[]}return uniq_1=rt,uniq_1}var uniqExports=requireUniq();const uniq=getDefaultExportFromCjs(uniqExports);function useRepositoryTaskGroups(Ye){const rt=useAtomValue(aSidebarGroupOrder),{access:it}=useCodexCloudAccess(),{data:lt}=useEnvironments({enabled:it==="enabled"}),{data:ct}=useFetchFromVSCode("codex-home"),{data:ut}=useFetchFromVSCode("workspace-root-options",{placeholderData:{roots:[]},select:xt=>xt.roots??[]}),ht=ct?.codexHome,ft=reactExports.useMemo(()=>(ut??[]).filter(xt=>!!xt&&!isWorktreePath(xt,ht)),[ut,ht]),pt=reactExports.useMemo(()=>(Ye??[]).map(xt=>xt.kind==="local"?xt.conversation.cwd:xt.kind==="worktree-initialization"?xt.task.originalCloneCwd??xt.task.path:"").filter(xt=>!!xt),[Ye]),mt=reactExports.useMemo(()=>uniq([...ft,...pt]),[ft,pt]),{data:gt}=useFetchFromVSCode("git-origins",{params:{dirs:mt},placeholderData:xt=>xt??{origins:[],homeDir:""}}),yt=gt?.origins;return reactExports.useMemo(()=>createRepositoryTaskGroups(Ye,lt,ft,yt??void 0,ht).map(xt=>({...xt,label:xt.label})).sort((xt,bt)=>{const _t=rt.indexOf(xt.label),Ct=_t===-1?Number.MAX_SAFE_INTEGER:_t,kt=rt.indexOf(bt.label),St=kt===-1?Number.MAX_SAFE_INTEGER:kt;return Ct-St}),[lt,yt,Ye,ft,rt,ht])}function createRepositoryTaskGroups(Ye,rt,it,lt,ct){const ut=[],ht=new Map,ft=fromPairs((lt??[]).flatMap(({dir:Tt,root:Mt,originUrl:Pt})=>{const It=Pt?parseOwnerRepo(Pt):null,Lt=isWorktreePath(Tt,ct);if(!Lt&&Pt&&(ut.push(Tt),Tt!==Mt&&ut.push(Mt)),It&&!Lt){const Ot=getRepoRelativeSegmentsWithOrigin(Tt,It,lt).join("/");ht.set(Tt,Ot)}return It?[[Tt,It]]:[]})),pt=groupBy(rt??[],Tt=>Tt.label),mt=Tt=>{const Mt=Tt.task.task_status_display?.environment_label;if(!Mt)return null;const Pt=pt[Mt]?.[0];if(!Pt)return null;const It=Pt.repos?.[0],Lt=It?Pt.repo_map?.[It]?.clone_url:null;return Lt?parseOwnerRepo(Lt)??null:null},gt=(it??[]).filter(Tt=>!!Tt&&!isWorktreePath(Tt,ct)),yt=Tt=>{const Mt=Tt.conversation.gitInfo?.origin_url;return Mt?parseOwnerRepo(Mt):null},xt=new Set,bt=Array(),_t=Tt=>{const Mt=mt(Tt),Pt="";if(!Mt){logger.warn(`No owner repo found for remote task ${Tt.task.id}`);return}const It=ownerLabel(Mt);getOrInsertIntoArray(bt,Ot=>sameOwnerRepo(Ot.ownerRepo,Mt)&&Ot.repoPath===Pt,()=>({label:It,path:Pt,repoPath:Pt,ownerRepo:Mt,tasks:[]})).tasks.push(Tt),xt.add(Pt)},Ct=Tt=>{if(!Tt||!isWorktreePath(Tt,ct))return null;let Mt=null,Pt=-1;const It=pathSegments(Tt),Lt=last(It)?.toLowerCase()??"";for(const Ot of ut){const Ft=pathSegments(Ot),Ut=last(Ft)?.toLowerCase()??"",Wt=sharedPrefixLength(It,Ft),Kt=Wt===Ft.length,Qt=Lt.length>0&&Ut.length>0&&Lt.startsWith(Ut),Zt=It.some($t=>$t.toLowerCase().includes(Ut)),Vt=Math.max(Wt,Qt?Ut.length:0,Zt?Ut.length-.1:0);((Kt||Qt||Zt)&&Vt>Pt||(Kt||Qt||Zt)&&Vt===Pt&&Mt&&Ot.length>Mt.length)&&(Mt=Ot,Pt=Vt)}return Mt},kt=Tt=>{const Mt=yt(Tt),Pt=Tt.conversation.cwd,It=Pt?pathSegments(Pt):[];if(!Pt||!It.length){logger.warn(`No cwd found for local task ${Tt.conversation.id}`);return}else if(!Mt){const Qt=last(pathSegments(Pt));if(!Qt){logger.warn(`No label found for local task ${Tt.conversation.id}`);return}getOrInsertIntoArray(bt,Vt=>Vt.path===Pt,()=>({label:Qt,path:Pt,repoPath:"",ownerRepo:null,tasks:[]})).tasks.push(Tt),xt.add(Pt);return}let Lt=Pt;if(isWorktreePath(Pt,ct)){const Qt=Ct(Pt);Qt&&(Lt=Qt)}const Ot=getRepoRelativeSegmentsWithOrigin(Lt,Mt,lt),Ft=Lt.split("/"),Ut=Ot.join("/"),Wt=last(Ft)??ownerLabel(Mt),Kt=getOrInsertIntoArray(bt,Qt=>sameOwnerRepo(Qt.ownerRepo,Mt)&&Qt.path===Lt,()=>({label:Wt,path:Lt,repoPath:Ut,ownerRepo:Mt,tasks:[]}));xt.add(Lt),Kt.tasks.push(Tt)},St=Tt=>{const Mt=Tt.task.originalCloneCwd;if(!Mt){logger.warn(`No original clone cwd found for worktree task ${Tt.task.path}`);return}const Pt=Tt.task?.originUrl,It=(Pt?parseOwnerRepo(Pt):null)??ft[Mt]??null,Lt=last(pathSegments(Mt))??ownerLabel(It);if(It){const Ut=getRepoRelativeSegmentsWithOrigin(Mt,It,lt).join("/"),Wt=getOrInsertIntoArray(bt,Kt=>sameOwnerRepo(Kt.ownerRepo,It)&&Kt.path===Mt,()=>({label:Lt,path:Mt,repoPath:Ut,ownerRepo:It,tasks:[]}));xt.add(Mt),Wt.tasks.push(Tt);return}const Ot=getOrInsertIntoArray(bt,Ft=>Ft.path===Mt,()=>({label:Lt,path:Mt,repoPath:"",ownerRepo:null,tasks:[]}));xt.add(Mt),Ot.tasks.push(Tt)};function Rt(Tt){const Mt=yt(Tt),Pt=Tt.conversation.cwd,It=Pt?pathSegments(Pt):[];if(Mt&&Pt&&It.length){const Lt=Ct(Pt),Ot=getRepoRelativeSegmentsWithOrigin(Lt??Pt,Mt,lt),Ft=Pt.split("/"),Ut=Ot.join("/"),Wt=last(Ft)??ownerLabel(Mt);getOrInsertIntoArray(bt,Kt=>sameOwnerRepo(Kt.ownerRepo,Mt)&&Kt.repoPath===Ut,()=>({label:Wt,path:Lt??Pt,repoPath:Ut,ownerRepo:Mt,tasks:[]}))}}return(Ye??[]).forEach(Tt=>{Tt.kind==="local"&&!isWorktreePath(Tt.conversation.cwd,ct)&&Rt(Tt)}),(Ye??[]).forEach(Tt=>{switch(Tt.kind){case"local":kt(Tt);break;case"remote":_t(Tt);break;case"worktree-initialization":St(Tt);break}}),gt.forEach(Tt=>{if(!Tt||xt.has(Tt))return;const Mt=ft[Tt];if(Mt){const Pt=lt?.find(Wt=>Wt.dir===Tt),It=Pt?pathSegments(Pt.root):void 0,Lt=pathSegments(Tt).slice((It?.length??0)-1).join("/"),Ot=pathSegments(Tt),Ut=getRepoRelativeSegments(Ot,Mt).join("/");getOrInsertIntoArray(bt,Wt=>sameOwnerRepo(Wt.ownerRepo,Mt)&&Wt.path===Tt,()=>({label:Lt,path:Tt,repoPath:Ut,ownerRepo:Mt,tasks:[]}))}else{const Pt=last(pathSegments(Tt))??"root";getOrInsertIntoArray(bt,It=>It.ownerRepo===Mt&&It.path===Tt,()=>({label:Pt,path:Tt,repoPath:"",ownerRepo:null,tasks:[]}))}}),Array.from(bt).sort((Tt,Mt)=>Tt.label.localeCompare(Mt.label))}function inferRepoRootIndex(Ye,rt){const it=Ye.lastIndexOf(rt);return it!==-1?it:Ye.length>0?Ye.length-1:-1}function ownerLabel(Ye){return`${Ye.owner}/${Ye.repoName}`}function sameOwnerRepo(Ye,rt){return!!(Ye&&rt&&Ye.owner===rt.owner&&Ye.repoName===rt.repoName)}function getRepoRelativeSegments(Ye,rt){return Ye.slice(inferRepoRootIndex(Ye,rt.repoName)+1)}function sharedPrefixLength(Ye,rt){const it=Math.min(Ye.length,rt.length);let lt=0;for(;lt<it&&Ye[lt]===rt[lt];)lt++;return lt}function getDeepestGitOrigin(Ye,rt){return rt.reduce((it,lt)=>Ye.startsWith(lt.root)&&(!it||lt.root.length>it.root.length)?lt:it,null)}function getRepoRelativeSegmentsWithOrigin(Ye,rt,it){const lt=pathSegments(Ye),ct=getDeepestGitOrigin(Ye,it??[]);if(ct?.root){const ut=pathSegments(ct.root);return lt.slice(ut.length)}return getRepoRelativeSegments(lt,rt)}function pathSegments(Ye){return Ye.split(/[/\\]+/).filter(Boolean)}function getOrInsertIntoArray(Ye,rt,it){const lt=Ye.findIndex(rt);if(lt!==-1)return Ye[lt];const ct=it();return Ye.push(ct),ct}const SvgProfile=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4 2.63049C14.7714 2.63049 18.3151 6.1742 18.3151 10.5455C18.3151 14.9169 14.7714 18.4606 10.4 18.4606C6.02869 18.4606 2.48499 14.9169 2.48499 10.5455C2.48499 6.1742 6.02869 2.63049 10.4 2.63049ZM10.4 13.0455C8.52826 13.0455 6.84344 13.846 5.66858 15.1227C6.86576 16.36 8.54237 17.1305 10.4 17.1305C12.2574 17.1305 13.9333 16.3597 15.1305 15.1227C13.9557 13.8461 12.2716 13.0457 10.4 13.0455ZM10.4 6.37854C9.01942 6.37854 7.9002 7.49798 7.90002 8.87854C7.90002 10.2593 9.01931 11.3785 10.4 11.3785C11.7807 11.3785 12.9 10.2592 12.9 8.87854C12.8998 7.49799 11.7806 6.37855 10.4 6.37854Z",fill:"currentColor"})),SvgWorkspace=Ye=>reactExports.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("circle",{cx:18,cy:18,r:16,stroke:"currentColor",strokeWidth:3}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"currentColor"}));function useConfiguration(Ye){const rt=useQueryClient(),it=reactExports.useMemo(()=>getQueryKey("get-configuration",{key:Ye}),[Ye]),{data:lt,isLoading:ct}=useFetchFromVSCode("get-configuration",{params:{key:Ye},select:ft=>ft.value}),{mutateAsync:ut}=useMutationFromVSCode("set-configuration"),ht=reactExports.useCallback(async ft=>{const pt=rt.getQueryData(it);rt.setQueryData(it,ft);try{await ut({key:Ye,value:ft})}catch(mt){throw rt.setQueryData(it,pt),mt}finally{await rt.invalidateQueries({queryKey:it})}},[Ye,rt,it,ut]);return{data:lt,setData:ht,isLoading:ct}}const SvgEdit=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M11.3312 4.20472C12.7488 2.92391 14.9377 2.96644 16.3039 4.33265L16.4318 4.46742C17.6713 5.8393 17.6713 7.93343 16.4318 9.30531L16.3039 9.44007L10.0119 15.7311C9.68839 16.0546 9.45384 16.2917 9.22185 16.4821L8.98748 16.6588C8.78233 16.799 8.56429 16.9196 8.33709 17.0192L8.10759 17.1119C7.92582 17.1785 7.73843 17.2266 7.52166 17.2711L6.75701 17.4069L4.36345 17.8053C4.22059 17.8291 4.06914 17.8552 3.9406 17.8649C3.84183 17.8723 3.70833 17.875 3.56267 17.8395L3.41423 17.7907C3.19121 17.695 3.00747 17.5271 2.89177 17.316L2.84588 17.2223C2.75958 17.0209 2.76174 16.8276 2.77166 16.6959C2.78136 16.5674 2.80742 16.4159 2.83123 16.2731L3.22966 13.8795L3.36443 13.1149C3.40899 12.898 3.45795 12.7108 3.52459 12.5289L3.61736 12.2985C3.71691 12.0715 3.83772 11.854 3.97771 11.6491L4.15349 11.4147C4.34392 11.1825 4.58171 10.9484 4.90545 10.6246L11.1965 4.33265L11.3312 4.20472ZM5.84588 11.5651C5.49671 11.9142 5.31258 12.0998 5.1867 12.2526L5.07537 12.3991C4.98194 12.5358 4.90157 12.6812 4.83513 12.8327L4.77361 12.9869C4.73328 13.0971 4.70248 13.2125 4.66814 13.3815L4.54119 14.0983L4.14275 16.4918L4.14177 16.4938H4.1447L6.53826 16.0944L7.25505 15.9684C7.42406 15.9341 7.53946 15.9033 7.64959 15.8629L7.80291 15.8014C7.95461 15.7349 8.09953 15.6538 8.2365 15.5602L8.38396 15.4498C8.53674 15.3239 8.72231 15.1398 9.07146 14.7907L14.0588 9.80238L10.8332 6.57679L5.84588 11.5651ZM15.3635 5.27308C14.5281 4.43776 13.2058 4.38573 12.3097 5.11683L12.1369 5.27308L11.7736 5.63636L15.0002 8.86195L15.3635 8.49964L15.5197 8.32581C16.2015 7.48961 16.2015 6.28311 15.5197 5.44691L15.3635 5.27308Z",fill:"currentColor"}));function OpenConfigTomlDropdownItem({onClick:Ye}){const{data:rt}=useOsInfo(),{data:it}=useConfiguration(ConfigurationKeys.RUN_CODEX_IN_WSL),ct=rt?.platform==="win32"&&rt?.hasWsl&&it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.openConfigToml",defaultMessage:"Open config.toml in WSL environment",description:"Menu item to open the MCP configuration file inside Windows Subsystem for Linux"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.openConfigToml",defaultMessage:"Open config.toml",description:"Menu item to open the MCP configuration file"});return jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgEdit,onClick:()=>{Ye(),messageBus.dispatchMessage("open-config-toml",{})},children:ct})}const SvgCheckMd=Ye=>reactExports.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M12.8961 3.64101C13.1297 3.41418 13.4984 3.37523 13.7779 3.56581C14.0571 3.75635 14.1554 4.11331 14.0299 4.41347L13.9615 4.53847L7.71151 13.7045C7.59411 13.8767 7.4063 13.9877 7.19881 14.0072C6.99136 14.0267 6.78564 13.9533 6.63826 13.806L2.88826 10.056L2.79842 9.9457C2.6192 9.67407 2.64927 9.30496 2.88826 9.06581C3.12738 8.82669 3.49647 8.79676 3.76815 8.97597L3.8785 9.06581L7.03084 12.2182L12.8053 3.74941L12.8961 3.64101Z",fill:"currentColor"}));function usePrevious(Ye){const rt=reactExports.useRef({value:Ye,previous:Ye});return reactExports.useMemo(()=>(rt.current.value!==Ye&&(rt.current.previous=rt.current.value,rt.current.value=Ye),rt.current.previous),[Ye])}var CHECKBOX_NAME="Checkbox",[createCheckboxContext]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(Ye){const{__scopeCheckbox:rt,checked:it,children:lt,defaultChecked:ct,disabled:ut,form:ht,name:ft,onCheckedChange:pt,required:mt,value:gt="on",internal_do_not_use_render:yt}=Ye,[xt,bt]=useControllableState({prop:it,defaultProp:ct??!1,onChange:pt,caller:CHECKBOX_NAME}),[_t,Ct]=reactExports.useState(null),[kt,St]=reactExports.useState(null),Rt=reactExports.useRef(!1),Tt=_t?!!ht||!!_t.closest("form"):!0,Mt={checked:xt,disabled:ut,setChecked:bt,control:_t,setControl:Ct,name:ft,form:ht,value:gt,hasConsumerStoppedPropagationRef:Rt,required:mt,defaultChecked:isIndeterminate(ct)?!1:ct,isFormControl:Tt,bubbleInput:kt,setBubbleInput:St};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:rt,...Mt,children:isFunction$1(yt)?yt(Mt):lt})}var TRIGGER_NAME$1="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:Ye,onKeyDown:rt,onClick:it,...lt},ct)=>{const{control:ut,value:ht,disabled:ft,checked:pt,required:mt,setControl:gt,setChecked:yt,hasConsumerStoppedPropagationRef:xt,isFormControl:bt,bubbleInput:_t}=useCheckboxContext(TRIGGER_NAME$1,Ye),Ct=useComposedRefs(ct,gt),kt=reactExports.useRef(pt);return reactExports.useEffect(()=>{const St=ut?.form;if(St){const Rt=()=>yt(kt.current);return St.addEventListener("reset",Rt),()=>St.removeEventListener("reset",Rt)}},[ut,yt]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(pt)?"mixed":pt,"aria-required":mt,"data-state":getState$1(pt),"data-disabled":ft?"":void 0,disabled:ft,value:ht,...lt,ref:Ct,onKeyDown:composeEventHandlers(rt,St=>{St.key==="Enter"&&St.preventDefault()}),onClick:composeEventHandlers(it,St=>{yt(Rt=>isIndeterminate(Rt)?!0:!Rt),_t&&bt&&(xt.current=St.isPropagationStopped(),xt.current||St.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$1;var Checkbox=reactExports.forwardRef((Ye,rt)=>{const{__scopeCheckbox:it,name:lt,checked:ct,defaultChecked:ut,required:ht,disabled:ft,value:pt,onCheckedChange:mt,form:gt,...yt}=Ye;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:it,checked:ct,defaultChecked:ut,disabled:ft,required:ht,onCheckedChange:mt,name:lt,form:gt,value:pt,internal_do_not_use_render:({isFormControl:xt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...yt,ref:rt,__scopeCheckbox:it}),xt&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:it})]})})});Checkbox.displayName=CHECKBOX_NAME;var INDICATOR_NAME="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((Ye,rt)=>{const{__scopeCheckbox:it,forceMount:lt,...ct}=Ye,ut=useCheckboxContext(INDICATOR_NAME,it);return jsxRuntimeExports.jsx(Presence,{present:lt||isIndeterminate(ut.checked)||ut.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(ut.checked),"data-disabled":ut.disabled?"":void 0,...ct,ref:rt,style:{pointerEvents:"none",...Ye.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:Ye,...rt},it)=>{const{control:lt,hasConsumerStoppedPropagationRef:ct,checked:ut,defaultChecked:ht,required:ft,disabled:pt,name:mt,value:gt,form:yt,bubbleInput:xt,setBubbleInput:bt}=useCheckboxContext(BUBBLE_INPUT_NAME,Ye),_t=useComposedRefs(it,bt),Ct=usePrevious(ut),kt=useSize(lt);reactExports.useEffect(()=>{const Rt=xt;if(!Rt)return;const Tt=window.HTMLInputElement.prototype,Pt=Object.getOwnPropertyDescriptor(Tt,"checked").set,It=!ct.current;if(Ct!==ut&&Pt){const Lt=new Event("click",{bubbles:It});Rt.indeterminate=isIndeterminate(ut),Pt.call(Rt,isIndeterminate(ut)?!1:ut),Rt.dispatchEvent(Lt)}},[xt,Ct,ut,ct]);const St=reactExports.useRef(isIndeterminate(ut)?!1:ut);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:ht??St.current,required:ft,disabled:pt,name:mt,value:gt,form:yt,...rt,tabIndex:-1,ref:_t,style:{...rt.style,...kt,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME;function isFunction$1(Ye){return typeof Ye=="function"}function isIndeterminate(Ye){return Ye==="indeterminate"}function getState$1(Ye){return isIndeterminate(Ye)?"indeterminate":Ye?"checked":"unchecked"}function CheckboxComponent({className:Ye,checked:rt,defaultChecked:it,onCheckedChange:lt,disabled:ct=!1,...ut}){return jsxRuntimeExports.jsx(Checkbox,{className:clsx("border-token-border peer","data-[state=checked]:bg-token-checkbox-background data-[state=checked]:text-token-checkbox-foreground","data-[state=checked]:border-token-border","focus-visible:border-token-border focus-visible:ring-token-checkbox-background/50 focus-visible:ring-1","aria-invalid:ring-2 aria-invalid:ring-token-error-foreground/20","aria-invalid:border-token-error-foreground","icon-2xs rounded-xs shrink-0 border shadow-sm outline-none transition-all","disabled:cursor-not-allowed",!ct&&"hover:bg-token-editor-background",Ye),checked:rt,defaultChecked:it,onCheckedChange:lt,disabled:ct,...ut,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:"flex h-full w-full items-center justify-center text-current",children:jsxRuntimeExports.jsx(SvgCheckMd,{className:"icon-xxs flex-shrink-0"})})})}function OpenOnStartupDropdown(){const Ye=useToaster(),rt=useIntl(),{data:it,setData:lt,isLoading:ct}=useConfiguration("openOnStartup");return jsxRuntimeExports.jsx(DropdownItem,{disabled:ct,LeftIcon:({className:ut})=>jsxRuntimeExports.jsx(CheckboxComponent,{className:clsx("pointer-events-none",ut),checked:!!it,disabled:ct}),onSelect:async ut=>{ut.preventDefault();try{await lt(!it)}catch{Ye.danger(rt.formatMessage({id:"codex.profileDropdown.openOnStartupError",defaultMessage:"Failed to update setting",description:"Error message when failed to update setting"}))}},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.openOnStartup",defaultMessage:"Open on startup",description:"Checkbox to control whether the Codex sidebar should focus when VS Code starts"})})}const aProfileDropdownOpen=atom(!1);function TodoCodeLensDropdown(){const Ye=useToaster(),rt=useIntl(),{data:it,setData:lt,isLoading:ct}=useConfiguration(ConfigurationKeys.COMMENT_CODELENS_ENABLED);return jsxRuntimeExports.jsx(DropdownItem,{disabled:ct,LeftIcon:({className:ut})=>jsxRuntimeExports.jsx(CheckboxComponent,{className:clsx("pointer-events-none",ut),checked:it??!0,disabled:ct}),onSelect:async ut=>{ut.preventDefault();try{await lt(!(it??!0))}catch{Ye.danger(rt.formatMessage({id:"codex.profileDropdown.todoCodelensError",defaultMessage:"Failed to update setting",description:"Error toast shown when enabling or disabling the TODO CodeLens fails"}))}},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.todoCodelens",defaultMessage:"Fix TODO comments",description:"Checkbox label that toggles whether the TODO CodeLens should be registered"})})}function RunInWslDropdown(){const Ye=useToaster(),rt=useIntl(),{data:it}=useOsInfo(),lt=reactExports.useMemo(()=>it?.platform==="win32"&&it?.hasWsl&&it?.isVsCodeRunningInsideWsl===!1,[it]),{data:ct,setData:ut,isLoading:ht}=useConfiguration(ConfigurationKeys.RUN_CODEX_IN_WSL);return!lt||ct===void 0?null:jsxRuntimeExports.jsx(DropdownItem,{disabled:ht,LeftIcon:({className:ft})=>jsxRuntimeExports.jsx(CheckboxComponent,{className:clsx("pointer-events-none",ft),checked:ct,disabled:ht}),onSelect:async ft=>{ft.preventDefault();try{await ut(!ct)}catch{Ye.danger(rt.formatMessage({id:"codex.profileDropdown.runInWslError",defaultMessage:"Failed to update setting",description:"Error toast shown when enabling or disabling the Run Codex in WSL fails"}))}},children:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.runInWslTooltip",defaultMessage:"Runs Codex inside WSL. Recommended for improved sandbox security and better performance.",description:"Tooltip content for the Run in WSL checkbox"}),side:"top",align:"center",sideOffset:6,delayOpen:!0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.runInWsl",defaultMessage:"Run in WSL",description:"Checkbox label that toggles whether the Codex app server should be run in WSL"})})})}const SvgDock=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M13.7 4.65906H6.70001C5.29988 4.65906 4.59982 4.65906 4.06504 4.93154C3.59463 5.17122 3.21218 5.55368 2.9725 6.02408C2.70001 6.55886 2.70001 7.25893 2.70001 8.65906V13.1591C2.70001 14.5592 2.70001 15.2593 2.9725 15.794C3.21218 16.2644 3.59463 16.6469 4.06504 16.8866C4.59982 17.1591 5.29988 17.1591 6.70001 17.1591H13.7C15.1001 17.1591 15.8002 17.1591 16.335 16.8866C16.8054 16.6469 17.1878 16.2644 17.4275 15.794C17.7 15.2593 17.7 14.5592 17.7 13.1591V8.65906C17.7 7.25893 17.7 6.55886 17.4275 6.02408C17.1878 5.55368 16.8054 5.17122 16.335 4.93154C15.8002 4.65906 15.1001 4.65906 13.7 4.65906Z",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M6.86676 14.5691H13.5334",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),SvgLinkExternal=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M4.30164 12.197V8.53003C4.30164 7.84109 4.30099 7.28391 4.33777 6.83374C4.3752 6.37598 4.45451 5.9701 4.64636 5.59351L4.76843 5.37573C5.07254 4.8798 5.50895 4.47626 6.03015 4.21069L6.17273 4.14331C6.50897 3.99911 6.86981 3.93484 7.27039 3.9021C7.72063 3.86531 8.27758 3.86499 8.96668 3.86499H9.13367L9.26746 3.87866C9.57036 3.94067 9.79855 4.20883 9.79871 4.53003C9.79871 4.85133 9.5704 5.11932 9.26746 5.1814L9.13367 5.19507H8.96668C8.25564 5.19507 7.7623 5.19596 7.37878 5.22729C7.09678 5.25034 6.90733 5.28812 6.76355 5.3396L6.63367 5.39526C6.33147 5.54924 6.07854 5.7835 5.90222 6.07104L5.83191 6.19702C5.75142 6.35498 5.69465 6.56664 5.66394 6.94214C5.63261 7.3256 5.63171 7.81917 5.63171 8.53003V12.197C5.63171 12.9081 5.63261 13.4014 5.66394 13.7849C5.69464 14.1606 5.7514 14.372 5.83191 14.53L5.90222 14.656C6.07854 14.9436 6.33141 15.1778 6.63367 15.3318L6.76355 15.3884C6.9073 15.4399 7.09693 15.4767 7.37878 15.4998C7.7623 15.5311 8.25564 15.532 8.96668 15.532H12.6337C13.3445 15.532 13.8381 15.5311 14.2216 15.4998C14.5971 15.469 14.8087 15.4123 14.9667 15.3318L15.0927 15.2615C15.3802 15.0852 15.6145 14.8322 15.7684 14.53L15.8241 14.4001C15.8756 14.2564 15.9134 14.0669 15.9364 13.7849C15.9677 13.4014 15.9686 12.9081 15.9686 12.197V12.03C15.9688 11.6629 16.2665 11.365 16.6337 11.365C17.0007 11.3652 17.2985 11.663 17.2987 12.03V12.197C17.2987 12.8861 17.2984 13.4431 17.2616 13.8933C17.2289 14.2939 17.1646 14.6547 17.0204 14.991L16.953 15.1335C16.6874 15.6547 16.2839 16.0912 15.788 16.3953L15.5702 16.5173C15.1936 16.7092 14.7877 16.7885 14.33 16.8259C13.8798 16.8627 13.3226 16.8621 12.6337 16.8621H8.96668C8.27758 16.8621 7.72063 16.8627 7.27039 16.8259C6.86974 16.7932 6.50902 16.728 6.17273 16.5837L6.03015 16.5173C5.50912 16.2519 5.07253 15.848 4.76843 15.3523L4.64636 15.1335C4.45456 14.7569 4.37518 14.3511 4.33777 13.8933C4.30098 13.4431 4.30164 12.8861 4.30164 12.197ZM12.1034 10.0007C11.8437 10.2603 11.4226 10.2604 11.163 10.0007C10.9033 9.74109 10.9034 9.32001 11.163 9.0603L12.1034 10.0007ZM18.1317 7.86401C18.1315 8.23113 17.8338 8.52905 17.4667 8.52905C17.0995 8.52905 16.8018 8.23113 16.8016 7.86401V5.30249L12.1034 10.0007L11.6337 9.53003L11.163 9.0603L15.8602 4.36206H13.2997C12.9326 4.36188 12.6346 4.06418 12.6346 3.69702C12.6346 3.32986 12.9326 3.03216 13.2997 3.03198H17.4667L17.6005 3.04565C17.9036 3.10759 18.1317 3.37559 18.1317 3.69702V7.86401Z",fill:"currentColor"}));function WindowsSubDropdown(){const{data:Ye}=useOsInfo(),{data:rt,setData:it,isLoading:lt}=useGlobalState(GlobalStateKey.WINDOWS_SANDBOX_ENABLED),{data:ct,setData:ut}=useConfiguration(ConfigurationKeys.RUN_CODEX_IN_WSL);return Ye?.platform!=="win32"?null:jsxRuntimeExports.jsxs(BasicSubDropdown,{trigger:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgDock,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsSubDropdown.windowsSandbox",defaultMessage:"Windows Settings",description:"Menu item to view list of Windows Settings"})}),children:[jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgInfo,RightIcon:SvgLinkExternal,href:"https://developers.openai.com/codex/windows",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.legal",defaultMessage:"Windows Documentation",description:"Menu item to open Codex Windows documentation"})}),jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:({className:ht})=>jsxRuntimeExports.jsx(CheckboxComponent,{className:clsx("pointer-events-none",ht),checked:rt}),disabled:lt,onSelect:ht=>{ht.preventDefault();const ft=!rt;it(ft),ft===!0&&ct===!0?ut(!1):setTimeout(()=>{messageBus.dispatchMessage("codex-app-server-restart",{})},500)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsSubDropdown.windowsSandbox",defaultMessage:"Windows Sandbox",description:"Menu item to enable Windows Sandbox"})}),jsxRuntimeExports.jsx(RunInWslDropdown,{})]})}function WithWindow({children:Ye,extension:rt=!1,electron:it=!1,browser:lt=!1}){const ct=useWindowType();return rt&&ct==="extension"||it&&ct==="electron"||lt&&ct==="browser"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye}):null}const SvgCodex=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM13.333 11.418L13.4678 11.4316C13.7705 11.4938 13.9979 11.7619 13.998 12.083C13.998 12.4042 13.7706 12.6722 13.4678 12.7344L13.333 12.748H10.833C10.4659 12.7479 10.168 12.4502 10.168 12.083C10.1681 11.716 10.466 11.4181 10.833 11.418H13.333ZM7.65332 12.4258C7.46427 12.7404 7.05603 12.8422 6.74121 12.6533C6.42642 12.4644 6.32391 12.0561 6.5127 11.7412L7.65332 12.4258ZM8.90332 9.6582C9.02956 9.86872 9.02956 10.1313 8.90332 10.3418L7.65332 12.4258L7.08301 12.083L6.5127 11.7412L7.55664 10L6.5127 8.25879L7.08301 7.91699L7.65332 7.57422L8.90332 9.6582ZM6.74121 7.34668C7.05603 7.15779 7.46427 7.25955 7.65332 7.57422L6.5127 8.25879C6.32391 7.94392 6.42642 7.53563 6.74121 7.34668ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),SvgHelp=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2 2.53955C12.146 2.53955 13.9271 3.24278 15.3055 4.40771L15.5633 4.15088L15.6678 4.06592C15.9258 3.89568 16.2765 3.92398 16.5037 4.15088C16.7631 4.4106 16.7633 4.83268 16.5037 5.09229L16.2459 5.34912C17.4111 6.72752 18.1151 8.50838 18.1151 10.4546C18.1151 12.4008 17.4111 14.1817 16.2459 15.5601L16.5037 15.8179L16.5887 15.9224C16.759 16.1805 16.7309 16.5311 16.5037 16.7583C16.2765 16.9855 15.9259 17.0136 15.6678 16.8433L15.5633 16.7583L15.3055 16.5005C13.9271 17.6657 12.1462 18.3696 10.2 18.3696C8.25381 18.3696 6.47294 17.6657 5.09454 16.5005L4.83771 16.7583L4.73322 16.8433C4.47516 17.0139 4.12367 16.9854 3.8963 16.7583C3.63699 16.4986 3.6369 16.0775 3.8963 15.8179L4.15314 15.5601C2.98821 14.1817 2.28497 12.4006 2.28497 10.4546C2.28497 8.50861 2.98821 6.72746 4.15314 5.34912L3.8963 5.09229L3.81134 4.98779C3.64084 4.72967 3.66906 4.37815 3.8963 4.15088C4.12357 3.92361 4.47508 3.89541 4.73322 4.06592L4.83771 4.15088L5.09454 4.40771C6.47288 3.24278 8.25403 2.53955 10.2 2.53955ZM12.5164 13.7114C11.8626 14.1774 11.0639 14.4536 10.2 14.4536C9.33609 14.4535 8.53638 14.1784 7.88263 13.7124L6.03888 15.5562C7.17327 16.4825 8.62118 17.0396 10.2 17.0396C11.7788 17.0396 13.2268 16.4825 14.3611 15.5562L12.5164 13.7114ZM5.09747 6.29248C4.17104 7.42689 3.61505 8.87571 3.61505 10.4546C3.61505 12.0332 4.17132 13.4814 5.09747 14.6157L6.9422 12.772C6.47633 12.1181 6.20203 11.3185 6.20197 10.4546C6.20203 9.59073 6.47635 8.79093 6.9422 8.13721L5.09747 6.29248ZM13.4578 8.13721C13.9238 8.79095 14.199 9.59067 14.199 10.4546C14.199 11.3185 13.9228 12.1171 13.4568 12.771L15.3016 14.6157C16.228 13.4813 16.785 12.0334 16.785 10.4546C16.785 8.87576 16.228 7.42785 15.3016 6.29346L13.4578 8.13721ZM10.2 7.78662C8.72659 7.7868 7.53222 8.98117 7.53204 10.4546C7.53221 11.928 8.72658 13.1234 10.2 13.1235C11.6735 13.1234 12.8688 11.928 12.869 10.4546C12.8688 8.98114 11.6735 7.78675 10.2 7.78662ZM10.2 3.86963C8.62113 3.86963 7.17231 4.42561 6.0379 5.35205L7.88263 7.19678C8.53637 6.7309 9.33612 6.45661 10.2 6.45654C11.0639 6.45659 11.8635 6.7309 12.5174 7.19678L14.3611 5.35205C13.2268 4.4259 11.7786 3.86963 10.2 3.86963Z",fill:"currentColor"})),SvgKeyboard=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("rect",{x:3.75,y:3.75,width:16.5,height:16.5,rx:3,stroke:"currentColor",strokeWidth:2}),reactExports.createElement("path",{d:"M8.5835 12.7043L12.0316 8.0023C12.3544 7.56216 13.0483 7.8838 12.9211 8.41456L12.4211 10.5H15.0133C15.4228 10.5 15.6587 10.9654 15.4165 11.2957L11.9684 15.9977C11.6456 16.4378 10.9517 16.1162 11.0789 15.5854L11.5789 13.5H8.9867C8.57715 13.5 8.34131 13.0346 8.5835 12.7043Z",fill:"currentColor"})),SvgLogOut=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.70166 13.03V7.69702C3.70166 7.00793 3.70101 6.45097 3.73779 6.00073C3.77521 5.54294 3.85458 5.13711 4.04639 4.7605L4.16846 4.54175C4.47255 4.04604 4.90914 3.64219 5.43018 3.37671L5.57275 3.3103C5.90905 3.16607 6.26976 3.10086 6.67041 3.06812C7.12065 3.03133 7.67761 3.03198 8.3667 3.03198H9.3667L9.50049 3.04566C9.80362 3.10759 10.0317 3.37559 10.0317 3.69702C10.0317 4.01845 9.80362 4.28646 9.50049 4.34839L9.3667 4.36206H8.3667C7.65566 4.36206 7.16233 4.36295 6.77881 4.39429C6.49695 4.41732 6.30733 4.45418 6.16357 4.50562L6.03369 4.56226C5.73143 4.71627 5.47856 4.9504 5.30225 5.23804L5.23193 5.36401C5.15143 5.52202 5.09467 5.73343 5.06397 6.10913C5.03263 6.49265 5.03174 6.98598 5.03174 7.69702V13.03C5.03174 13.7409 5.03265 14.2344 5.06397 14.6179C5.09465 14.9935 5.15148 15.205 5.23193 15.363L5.30225 15.49C5.47856 15.7774 5.73158 16.0118 6.03369 16.1658L6.16357 16.2214C6.30735 16.2729 6.49686 16.3107 6.77881 16.3337C7.16233 16.3651 7.65566 16.365 8.3667 16.365H9.3667L9.50049 16.3787C9.80355 16.4405 10.0316 16.7087 10.0317 17.03C10.0317 17.3514 9.80359 17.6194 9.50049 17.6814L9.3667 17.6951H8.3667C7.67761 17.6951 7.12065 17.6957 6.67041 17.6589C6.26973 17.6262 5.90907 17.561 5.57275 17.4167L5.43018 17.3503C4.90906 17.0848 4.47256 16.6811 4.16846 16.1853L4.04639 15.9675C3.85442 15.5908 3.77521 15.1843 3.73779 14.7263C3.70102 14.2761 3.70166 13.719 3.70166 13.03ZM14.0034 14.1677C13.7437 14.427 13.3226 14.4272 13.063 14.1677C12.8033 13.908 12.8033 13.486 13.063 13.2263L14.0034 14.1677ZM13.063 6.5603C13.2902 6.33308 13.6408 6.30495 13.8989 6.47534L14.0034 6.5603L17.3374 9.89331C17.5968 10.1529 17.5967 10.5741 17.3374 10.8337L14.0034 14.1677L13.5337 13.697L13.063 13.2263L15.2603 11.0291H9.3667C8.99954 11.0291 8.70184 10.7311 8.70166 10.364C8.70166 9.99675 8.99943 9.69898 9.3667 9.69898H15.2612L13.063 7.50073L12.978 7.39624C12.8076 7.13818 12.8359 6.78755 13.063 6.5603Z",fill:"currentColor"})),SvgOpenaiBlossom=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M11.6475 18.3409C11.0975 18.3409 10.575 18.2364 10.08 18.0274C9.58502 17.8184 9.14502 17.5269 8.76002 17.1529C8.34202 17.2959 7.90751 17.3674 7.45651 17.3674C6.71951 17.3674 6.03751 17.1859 5.41051 16.8229C4.78351 16.4599 4.27751 15.9649 3.89251 15.3379C3.51851 14.7109 3.33151 14.0124 3.33151 13.2424C3.33151 12.9234 3.37551 12.5769 3.46351 12.2029C3.02351 11.7959 2.68251 11.3284 2.44051 10.8004C2.19851 10.2614 2.07751 9.70044 2.07751 9.11744C2.07751 8.52344 2.20401 7.95144 2.45701 7.40144C2.71001 6.85144 3.06201 6.37844 3.51301 5.98244C3.97501 5.57544 4.50851 5.29494 5.11351 5.14094C5.23451 4.51394 5.48751 3.95294 5.87251 3.45794C6.26851 2.95194 6.75252 2.55594 7.32452 2.26994C7.89652 1.98394 8.50702 1.84094 9.15602 1.84094C9.70602 1.84094 10.2285 1.94544 10.7235 2.15444C11.2185 2.36344 11.6585 2.65494 12.0435 3.02894C12.4615 2.88594 12.896 2.81444 13.347 2.81444C14.084 2.81444 14.766 2.99594 15.393 3.35894C16.02 3.72194 16.5205 4.21694 16.8945 4.84394C17.2795 5.47094 17.472 6.16944 17.472 6.93944C17.472 7.25844 17.428 7.60494 17.34 7.97894C17.78 8.38594 18.121 8.85894 18.363 9.39794C18.605 9.92594 18.726 10.4814 18.726 11.0644C18.726 11.6584 18.5995 12.2304 18.3465 12.7804C18.0935 13.3304 17.736 13.8089 17.274 14.2159C16.823 14.6119 16.295 14.8869 15.69 15.0409C15.569 15.6679 15.3105 16.2289 14.9145 16.7239C14.5295 17.2299 14.051 17.6259 13.479 17.9119C12.907 18.1979 12.2965 18.3409 11.6475 18.3409ZM7.57201 16.2784C8.12201 16.2784 8.60051 16.1629 9.00751 15.9319L12.1095 14.1499C12.2195 14.0729 12.2745 13.9684 12.2745 13.8364V12.4174L8.28152 14.7109C8.03952 14.8539 7.79751 14.8539 7.55552 14.7109L4.43701 12.9124C4.43701 12.9454 4.43151 12.9839 4.42051 13.0279C4.42051 13.0719 4.42051 13.1379 4.42051 13.2259C4.42051 13.7869 4.55252 14.3039 4.81651 14.7769C5.09152 15.2389 5.47101 15.6019 5.95501 15.8659C6.43901 16.1409 6.97801 16.2784 7.57201 16.2784ZM7.73701 13.5889C7.80301 13.6219 7.86351 13.6384 7.91851 13.6384C7.97351 13.6384 8.02852 13.6219 8.08352 13.5889L9.32101 12.8794L5.34451 10.5694C5.10251 10.4264 4.98151 10.2119 4.98151 9.92594V6.34544C4.43151 6.58744 3.99151 6.96144 3.66151 7.46744C3.33151 7.96244 3.16651 8.51244 3.16651 9.11744C3.16651 9.65644 3.30401 10.1734 3.57901 10.6684C3.85401 11.1634 4.21151 11.5374 4.65151 11.7904L7.73701 13.5889ZM11.6475 17.2519C12.2305 17.2519 12.7585 17.1199 13.2315 16.8559C13.7045 16.5919 14.0785 16.2289 14.3535 15.7669C14.6285 15.3049 14.766 14.7879 14.766 14.2159V10.6519C14.766 10.5199 14.711 10.4209 14.601 10.3549L13.347 9.62894V14.2324C13.347 14.5184 13.226 14.7329 12.984 14.8759L9.86551 16.6744C10.4045 17.0594 10.9985 17.2519 11.6475 17.2519ZM12.2745 11.2129V8.96894L10.41 7.91294L8.52902 8.96894V11.2129L10.41 12.2689L12.2745 11.2129ZM7.45651 5.94944C7.45651 5.66344 7.57752 5.44894 7.81952 5.30594L10.938 3.50744C10.399 3.12244 9.80502 2.92994 9.15602 2.92994C8.57302 2.92994 8.04501 3.06194 7.57201 3.32594C7.09902 3.58994 6.72502 3.95294 6.45002 4.41494C6.18602 4.87694 6.05401 5.39394 6.05401 5.96594V9.51344C6.05401 9.64544 6.10901 9.74994 6.21902 9.82694L7.45651 10.5529V5.94944ZM15.8385 13.8364C16.3885 13.5944 16.823 13.2204 17.142 12.7144C17.472 12.2084 17.637 11.6584 17.637 11.0644C17.637 10.5254 17.4995 10.0084 17.2245 9.51344C16.9495 9.01844 16.592 8.64444 16.152 8.39144L13.0665 6.60944C13.0005 6.56544 12.94 6.54894 12.885 6.55994C12.83 6.55994 12.775 6.57644 12.72 6.60944L11.4825 7.30244L15.4755 9.62894C15.5965 9.69494 15.6845 9.78294 15.7395 9.89294C15.8055 9.99194 15.8385 10.1129 15.8385 10.2559V13.8364ZM12.522 5.45444C12.764 5.30044 13.006 5.30044 13.248 5.45444L16.383 7.28594C16.383 7.20894 16.383 7.10994 16.383 6.98894C16.383 6.46094 16.251 5.96044 15.987 5.48744C15.734 5.00344 15.3655 4.61844 14.8815 4.33244C14.4085 4.04644 13.8585 3.90344 13.2315 3.90344C12.6815 3.90344 12.203 4.01894 11.796 4.24994L8.69402 6.03194C8.58402 6.10894 8.52902 6.21344 8.52902 6.34544V7.76444L12.522 5.45444Z",fill:"currentColor"})),SvgSettingscog=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10.7228 2.53564C11.5515 2.53564 12.3183 2.97502 12.7374 3.68994L13.5587 5.09033L13.6124 5.15967C13.6736 5.22007 13.7566 5.2556 13.8448 5.25635L15.4601 5.26904L15.6144 5.27588C16.3826 5.33292 17.0775 5.76649 17.465 6.43994L17.7931 7.01123L17.8663 7.14697C18.1815 7.78943 18.1843 8.54208 17.8741 9.18701L17.8028 9.32275L17.0001 10.7446C16.9427 10.8467 16.9426 10.9717 17.0001 11.0737L17.8028 12.4946L17.8741 12.6313C18.1842 13.2763 18.1816 14.029 17.8663 14.6714L17.7931 14.8071L17.465 15.3784C17.0774 16.0517 16.3825 16.4855 15.6144 16.5425L15.4601 16.5483L13.8448 16.562C13.7565 16.5628 13.6736 16.5982 13.6124 16.6587L13.5587 16.7271L12.7374 18.1284C12.3183 18.8432 11.5514 19.2827 10.7228 19.2827H10.0763C9.29958 19.2826 8.57714 18.8964 8.14465 18.2593L8.06261 18.1284L7.24133 16.7271C7.1966 16.6509 7.12417 16.5966 7.04113 16.5737L6.95519 16.562L5.33996 16.5483C4.56297 16.542 3.84347 16.1503 3.41613 15.5093L3.33508 15.3784L3.00695 14.8071C2.59564 14.0921 2.59168 13.2129 2.99719 12.4946L3.79894 11.0737L3.83215 10.9937C3.84657 10.9383 3.84652 10.88 3.83215 10.8247L3.79894 10.7446L2.99719 9.32275C2.59184 8.60451 2.59571 7.72612 3.00695 7.01123L3.33508 6.43994L3.41613 6.30908C3.84345 5.66796 4.56288 5.27538 5.33996 5.26904L6.95519 5.25635L7.04113 5.24463C7.12427 5.22177 7.1966 5.16664 7.24133 5.09033L8.06261 3.68994L8.14465 3.55908C8.57712 2.92179 9.29949 2.5358 10.0763 2.53564H10.7228ZM10.0763 3.86572C9.76448 3.86587 9.47308 4.01039 9.28429 4.25244L9.21008 4.36279L8.38879 5.76318C8.12941 6.20571 7.68297 6.49995 7.18273 6.56982L6.96594 6.58643L5.3507 6.59912C5.03877 6.60167 4.74854 6.74903 4.56164 6.99268L4.48742 7.10303L4.15929 7.67432C3.98236 7.98202 3.98089 8.36033 4.15539 8.66943L4.95715 10.0903L5.05187 10.2856C5.21318 10.6851 5.21302 11.1323 5.05187 11.5317L4.95715 11.728L4.15539 13.1489C3.98092 13.4581 3.98228 13.8363 4.15929 14.144L4.48742 14.7144L4.56164 14.8247C4.74853 15.0686 5.03859 15.2157 5.3507 15.2183L6.96594 15.2319L7.18273 15.2476C7.68301 15.3174 8.12939 15.6126 8.38879 16.0552L9.21008 17.4556L9.28429 17.5649C9.47307 17.8072 9.76431 17.9525 10.0763 17.9526H10.7228C11.0794 17.9526 11.4096 17.7632 11.59 17.4556L12.4112 16.0552L12.5333 15.8745C12.8433 15.4758 13.3212 15.2361 13.8341 15.2319L15.4493 15.2183L15.5812 15.2085C15.8855 15.1657 16.1569 14.985 16.3126 14.7144L16.6407 14.144L16.6984 14.0259C16.7984 13.7835 16.8 13.5113 16.7023 13.2681L16.6446 13.1489L15.8419 11.728C15.5551 11.2201 15.5552 10.5983 15.8419 10.0903L16.6446 8.66943L16.7023 8.55029C16.8001 8.30708 16.7983 8.03486 16.6984 7.79248L16.6407 7.67432L16.3126 7.10303C16.1569 6.8324 15.8856 6.65166 15.5812 6.60889L15.4493 6.59912L13.8341 6.58643C13.3213 6.58224 12.8433 6.34243 12.5333 5.94385L12.4112 5.76318L11.59 4.36279C11.4096 4.05506 11.0795 3.86572 10.7228 3.86572H10.0763ZM11.9855 10.9087C11.9853 10.0336 11.2755 9.32399 10.4005 9.32373C9.52524 9.32373 8.81474 10.0335 8.81457 10.9087C8.81457 11.7841 9.52513 12.4937 10.4005 12.4937C11.2757 12.4934 11.9855 11.7839 11.9855 10.9087ZM13.3146 10.9087C13.3146 12.5184 12.0102 13.8235 10.4005 13.8237C8.7906 13.8237 7.48547 12.5186 7.48547 10.9087C7.48564 9.29893 8.7907 7.99365 10.4005 7.99365C12.0101 7.99391 13.3144 9.29909 13.3146 10.9087Z",fill:"currentColor"})),SvgStuff=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M12.1838 12.3409C12.4868 12.4028 12.7149 12.6709 12.715 12.9922C12.715 13.3136 12.4869 13.5817 12.1838 13.6436L12.05 13.6573H9.54999C9.18272 13.6573 8.88495 13.3595 8.88495 12.9922C8.88505 12.625 9.18278 12.3272 9.54999 12.3272H12.05L12.1838 12.3409Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.94257 3.57231C7.4068 2.6323 8.71358 2.43868 9.42304 3.27153L10.6623 4.7266L10.6887 4.752C10.7172 4.77361 10.7528 4.78584 10.7892 4.78618L12.1662 4.79594L12.2287 4.65922L12.4943 4.09184C12.5802 3.92492 12.6684 3.77942 12.7717 3.65336L12.8703 3.54106C13.3762 2.99833 14.1132 2.72653 14.8557 2.81645C15.1795 2.85573 15.5131 2.99446 15.9445 3.16703C16.4155 3.35542 16.7833 3.4956 17.0588 3.70805L17.1808 3.80961C17.7336 4.29937 18.022 5.02316 17.9572 5.75883L17.9377 5.91606C17.8972 6.17383 17.7917 6.43811 17.6516 6.74809L16.4221 9.41118C16.5346 9.41263 16.6398 9.41711 16.7346 9.42485C16.9146 9.43956 17.1152 9.47318 17.3137 9.57426L17.4162 9.63188C17.6175 9.75529 17.7869 9.92473 17.9103 10.126L17.968 10.2295L18.0324 10.378C18.0852 10.5262 18.1063 10.6728 18.1174 10.8077C18.1314 10.9798 18.131 11.1871 18.131 11.4092V14.4092C18.131 15.098 18.1317 15.6554 18.0949 16.1055C18.0621 16.5063 17.9971 16.8678 17.8527 17.2041L17.7863 17.3467C17.5208 17.8675 17.1168 18.3035 16.6213 18.6075L16.4035 18.7295C16.0269 18.9213 15.6201 19.0007 15.1623 19.0381C14.7122 19.0749 14.1548 19.0743 13.466 19.0743H8.133C7.44407 19.0743 6.88687 19.0749 6.43671 19.0381C6.03616 19.0054 5.67528 18.9402 5.33905 18.7959L5.19647 18.7295C4.67546 18.464 4.23883 18.0602 3.93475 17.5645L3.81268 17.3467C3.62077 16.9701 3.54152 16.5634 3.50409 16.1055C3.46733 15.6554 3.46796 15.098 3.46796 14.4092V11.4092C3.46796 11.1872 3.46759 10.9798 3.48163 10.8077C3.49634 10.6279 3.53028 10.4276 3.63104 10.2295L3.68866 10.126C3.83254 9.8914 4.03979 9.69998 4.28632 9.57426L4.43475 9.51078C4.51688 9.48151 4.59866 9.46103 4.67792 9.44731L4.07733 9.00493C3.13823 8.31217 3.31697 6.85919 4.39569 6.4141L6.16229 5.68559L6.19354 5.66801C6.22309 5.64755 6.24536 5.61771 6.25702 5.58305L6.86054 3.76957L6.94257 3.57231ZM5.466 10.7413C5.2221 10.7413 5.07834 10.7414 4.97284 10.75C4.9239 10.7541 4.89779 10.7592 4.8869 10.7618L4.84686 10.7901C4.8355 10.8016 4.82627 10.8157 4.81854 10.8301C4.81594 10.8413 4.8108 10.8676 4.80682 10.9161C4.79824 11.0216 4.79804 11.1654 4.79804 11.4092V14.4092C4.79804 15.1199 4.79895 15.6137 4.83026 15.9971C4.86096 16.3725 4.9178 16.5843 4.99823 16.7422L5.06854 16.8692C5.24483 17.1565 5.49798 17.3911 5.79999 17.545L5.92987 17.6006C6.07359 17.6521 6.26334 17.6899 6.54511 17.7129C6.92856 17.7443 7.42216 17.7442 8.133 17.7442H13.466C14.1766 17.7442 14.6705 17.7442 15.0539 17.7129C15.4289 17.6823 15.6411 17.6252 15.799 17.545L15.926 17.4737C16.2132 17.2975 16.4478 17.0441 16.6017 16.7422L16.6574 16.6123C16.7088 16.4687 16.7467 16.2786 16.7697 15.9971C16.801 15.6137 16.801 15.1199 16.801 14.4092V11.4092C16.801 11.1654 16.8008 11.0216 16.7922 10.9161C16.7882 10.8672 16.783 10.8412 16.7805 10.8301L16.7834 10.8331L16.7521 10.7901L16.7121 10.7618C16.7009 10.7592 16.6747 10.754 16.6262 10.75C16.5206 10.7414 16.377 10.7413 16.133 10.7413H5.466ZM8.41034 4.13383C8.33593 4.04677 8.2035 4.05963 8.14374 4.1475L8.12323 4.1895L7.51972 6.00297C7.3994 6.36429 7.1464 6.66423 6.81561 6.84477L6.66913 6.91508L4.90253 7.6436C4.78169 7.69372 4.76119 7.8568 4.86639 7.93461L6.40448 9.0684L6.52948 9.17192C6.60822 9.24434 6.67847 9.32473 6.73944 9.41118H11.7307L11.6799 9.25102C11.5485 8.83622 11.6034 8.38443 11.8312 8.01371L12.8332 6.38578L12.8517 6.34282C12.8765 6.25515 12.8249 6.16131 12.7375 6.13578L12.6906 6.12993L10.7795 6.11625C10.3985 6.11339 10.0348 5.96517 9.76093 5.7061L9.6496 5.58891L8.41034 4.13383ZM14.6955 4.13676C14.3981 4.10082 14.1026 4.19972 13.8879 4.40239L13.801 4.49614C13.7664 4.53831 13.7322 4.59185 13.6789 4.69731L13.5148 5.04594C14.0962 5.43142 14.3674 6.20479 14.0646 6.8936L13.966 7.08305L12.965 8.71C12.9395 8.75163 12.9327 8.80311 12.9474 8.84965L13.1262 9.41118H14.9572L16.2932 6.51762L16.5461 5.95219C16.595 5.83295 16.6152 5.76717 16.6242 5.71L16.6359 5.57426C16.6413 5.30461 16.5371 5.04372 16.3478 4.8516L16.2463 4.76078C16.1545 4.6901 16.0072 4.62472 15.4514 4.40239C14.9421 4.19868 14.8038 4.1499 14.6955 4.13676Z",fill:"currentColor"})),DEFAULT_SETTINGS_SECTION="environments",SETTINGS_SECTIONS=[{slug:DEFAULT_SETTINGS_SECTION},{slug:"code-review"},{slug:"connectors"},{slug:"usage"},{slug:"analytics"},{slug:"data-controls"},{slug:"codex-settings"},{slug:"ide-settings"},{slug:"mcp-settings"},{slug:"keyboard-shortcuts"},{slug:"help"},{slug:"log-out",fullWidth:!0}];function ProfileDropdown({triggerButton:Ye}){const[rt,it]=useAtom(aProfileDropdownOpen),lt=useNavigate(),ct=useAppServerManager(),{email:ut,authMethod:ht,requiresAuth:ft,isCopilotApiAvailable:pt,openAIAuth:mt,setAuthMethod:gt}=useAuth(),{data:yt,isError:xt}=useCurrentAccount(),{setData:bt}=useGlobalState("use-copilot-auth-if-available"),_t=ht==="chatgpt",Ct=ht==="copilot",kt=ht==="apikey",St=_t||kt,Rt=!St&&mt!=null,Tt=!Ct&&pt,Mt=!St&&mt==null,Pt=useStatsigGate("codex_app_full_settings_layout");function It(){return yt?.structure?.toLowerCase()==="personal"}const Lt=It()?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.personalAccountTitle",defaultMessage:"Personal account",description:"Label for a personal account"}):yt?.name??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.defaultAccountTitle",defaultMessage:"Default account",description:"Fallback label when a non-personal account has no display name"}),Ot=yt?.profile_picture_url??null;function Ft(Wt){return Ot?jsxRuntimeExports.jsx("img",{src:Ot,alt:"",className:`rounded-full ${Wt.className??""}`}):jsxRuntimeExports.jsx(SvgWorkspace,{className:Wt.className})}const Ut=[];return _t?(ut&&Ut.push(jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgProfile,disabled:!0,children:ut},"email")),xt||Ut.push(jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:Ft,disabled:!0,children:Lt}))):kt&&Ut.push(jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgProfile,disabled:!0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.apiKeyAuth",defaultMessage:"Logged in with API key",description:"Label indicating the user is authenticated with an API key"})})),Ct&&Ut.push(jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgProfile,disabled:!0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.copilotAuth",defaultMessage:"Logged in with Copilot",description:"Label indicating the user is authenticated with Copilot"})})),Rt?Ut.push(jsxRuntimeExports.jsx(DropdownItem,{onClick:()=>{it(!1),bt(!1),gt(mt)},LeftIcon:SvgLogOut,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.switchToOpenAIAccount",defaultMessage:"Use OpenAI account",description:"Label showing the option to switch to OpenAI authentication"})})):Tt&&Ut.push(jsxRuntimeExports.jsx(DropdownItem,{onClick:()=>{it(!1),bt(!0),gt("copilot")},LeftIcon:SvgLogOut,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.switchToCopilotAccount",defaultMessage:"Use Copilot account",description:"Label showing the option to switch to Copilot authentication"})})),Mt&&Ut.push(jsxRuntimeExports.jsx(DropdownItem,{onClick:()=>{it(!1),lt("/login")},LeftIcon:SvgOpenaiBlossom,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.signInWithOpenAI",defaultMessage:"Sign in with ChatGPT",description:"Profile menu item to sign in with ChatGPT"})})),jsxRuntimeExports.jsx(BasicDropdown,{open:rt,onOpenChange:it,triggerButton:Ye??jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.header.settingsTooltip",defaultMessage:"Settings",description:"Tooltip text for opening settings"}),children:jsxRuntimeExports.jsx(IconButton,{Icon:SvgSettingscog})}),children:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-[200px] flex-col gap-0 px-1",children:[Ut,Ut.length>0&&jsxRuntimeExports.jsx(Dropdown.Separator,{}),Pt&&jsxRuntimeExports.jsx(WithWindow,{electron:!0,browser:!0,children:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgSettingscog,onClick:()=>{it(!1),lt(`/settings/${DEFAULT_SETTINGS_SECTION}`)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.settingsPage",defaultMessage:"Settings",description:"Menu item to open Codex settings page"})})}),jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgHelp,RightIcon:SvgLinkExternal,href:"https://developers.openai.com/codex/ide",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.legal",defaultMessage:"Help",description:"Menu item to open help for codex"})}),jsxRuntimeExports.jsx(BasicSubDropdown,{trigger:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgCodex,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.codexSettings",defaultMessage:"Codex settings",description:"Menu item to view Codex settings"})}),children:jsxRuntimeExports.jsxs("div",{className:"flex min-w-[160px] flex-col gap-1 p-1",children:[jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgLinkExternal,href:"https://github.com/openai/codex/blob/main/docs/config.md",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.readDocs",defaultMessage:"Read docs",description:"Menu item to read MCP documentation"})}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(OpenConfigTomlDropdownItem,{onClick:()=>{it(!1)}})})]})}),jsxRuntimeExports.jsx(BasicSubDropdown,{trigger:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgSettingscog,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.settings",defaultMessage:"IDE settings",description:"Menu item to view IDE settings options"})}),children:jsxRuntimeExports.jsxs("div",{className:"flex min-w-[160px] flex-col gap-1 p-1",children:[jsxRuntimeExports.jsx(OpenOnStartupDropdown,{}),jsxRuntimeExports.jsx(TodoCodeLensDropdown,{}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgEdit,onClick:()=>{it(!1),messageBus.dispatchMessage("open-extension-settings",{})},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.openExtensionSettings",defaultMessage:"Open settings",description:"Menu item to open VS Code settings for this extension"})})})]})}),jsxRuntimeExports.jsx(WindowsSubDropdown,{}),jsxRuntimeExports.jsx(BasicSubDropdown,{trigger:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgStuff,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.mcp",defaultMessage:"MCP settings",description:"Menu item to view MCP options"})}),children:jsxRuntimeExports.jsxs("div",{className:"flex min-w-[160px] flex-col gap-1 p-1",children:[jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgLinkExternal,href:"https://github.com/openai/codex/blob/main/docs/advanced.md#model-context-protocol-mcp",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.readDocs",defaultMessage:"Read docs",description:"Menu item to read MCP documentation"})}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(OpenConfigTomlDropdownItem,{onClick:()=>{it(!1)}})})]})}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgKeyboard,onClick:()=>{it(!1),messageBus.dispatchMessage("open-keyboard-shortcuts",{})},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.keyboardShortcuts",defaultMessage:"Keyboard shortcuts",description:"Menu item to open keyboard shortcuts filtered to this extension"})})}),jsxRuntimeExports.jsx(DropdownItem,{onClick:async()=>{it(!1),await bt(!1),await ct.logout(),lt("/login")},LeftIcon:SvgLogOut,disabled:!ft,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileDropdown.logOut",defaultMessage:"Log out",description:"Menu item to log out of ChatGPT"})})]})})}function ProfileFooter(){const{email:Ye}=useAuth(),{data:rt}=useCurrentAccount(),it=rt?.profile_picture_url??null,lt=rt?.structure?.toLowerCase()==="personal",ct=rt?.name??(lt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileFooter.personalLabel",defaultMessage:"Personal",description:"Label for a personal account in the profile footer"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileFooter.workspaceLabel",defaultMessage:"Workspace",description:"Fallback label for a workspace account in the profile footer"})),ut=jsxRuntimeExports.jsxs(Button,{color:"ghost",className:"w-full justify-start gap-2 rounded-md",children:[it?jsxRuntimeExports.jsx("img",{src:it,alt:"",className:"icon-md rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"bg-token-bg-tertiary text-token-foreground icon-md flex items-center justify-center rounded-full",children:ct?jsxRuntimeExports.jsx(SvgWorkspace,{className:"icon-sm"}):jsxRuntimeExports.jsx(SvgProfile,{className:"icon-sm"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 text-left",children:[jsxRuntimeExports.jsx("div",{className:"text-token-foreground truncate text-base font-medium",children:Ye??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.profileFooter.signedInFallback",defaultMessage:"Signed in",description:"Fallback label shown when the current user's email is unavailable"})}),jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground truncate text-sm",children:ct})]})]});return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ProfileDropdown,{triggerButton:ut})})}const MAX_TASKS_PER_GROUP=7;function SidebarElectron(){const Ye=useNavigate(),rt=useConversations(),it=useTasks({taskFilter:"current",limit:20}),{data:lt}=useFetchFromVSCode("workspace-root-options",{placeholderData:{roots:[]},select:ht=>ht.roots}),ct=useMergedTasks(it,rt,null),ut=useRepositoryTaskGroups(ct);return useUnreadTaskCountBadge(ct),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AppHeader,{sidebar:jsxRuntimeExports.jsx(HeaderActions,{})}),jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col gap-2 pb-3 pl-3",children:[ut.length===0?jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground h-full pt-[32px] text-center text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"sidebarElectron.noTasks",defaultMessage:"Start your first task!",description:"Empty state label for electron sidebar tasks list"})}):jsxRuntimeExports.jsx("div",{className:"scrollbar-stable flex flex-1 flex-col overflow-y-auto overflow-x-hidden",children:ut.map((ht,ft)=>{const pt=`repo-group-${ft}`,mt=ht.path,gt=ht.tasks.length>0;return jsxRuntimeExports.jsx("div",{className:"group/repo flex flex-col gap-1",children:jsxRuntimeExports.jsx("div",{className:"b-1 flex flex-col",children:jsxRuntimeExports.jsxs("div",{className:"group/cwd pb-2 pt-1",children:[jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground mb-1 mr-0.5 flex items-center justify-between overflow-x-hidden text-sm",children:jsxRuntimeExports.jsxs("span",{className:"flex min-w-0 items-center gap-2 pl-2",children:[jsxRuntimeExports.jsx(SvgFolder,{className:"icon-xs shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-token-foreground truncate",title:mt||ht.label,children:ht.label}),!gt&&mt&&lt?.includes(mt)&&jsxRuntimeExports.jsx(BasicDropdown,{contentClassName:"px-1",triggerButton:jsxRuntimeExports.jsx(IconButton,{Icon:SvgThreeDots}),children:jsxRuntimeExports.jsx(Dropdown.Item,{onSelect:()=>{const yt=lt?.filter(xt=>xt!==mt)??[];messageBus.dispatchMessage("electron-update-workspace-root-options",{roots:yt})},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"sidebarElectron.removeWorkspaceRootOption",defaultMessage:"Remove",description:"Menu item to remove a workspace root option for an empty folder group in the electron sidebar"})})}),jsxRuntimeExports.jsx(IconButton,{Icon:SvgPlus,onClick:()=>{messageBus.dispatchMessage("electron-set-active-workspace-root",{root:mt});const yt={focusComposerNonce:Date.now()};Ye("/",{state:yt})}})]})}),jsxRuntimeExports.jsx(SingleRepoCloneTaskList,{tasks:ht.tasks,groupPath:mt})]})})},pt)})}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:jsxRuntimeExports.jsx(ProfileFooter,{})})]})]})}function SingleRepoCloneTaskList({tasks:Ye,groupPath:rt}){const{data:it}=useFetchFromVSCode("codex-home");return jsxRuntimeExports.jsxs("div",{className:"flex-col",children:[Ye.slice(0,MAX_TASKS_PER_GROUP).map(lt=>jsxRuntimeExports.jsx(MergedTaskRow$1,{item:lt,codexHome:it?.codexHome,groupPath:rt})),!Ye.length&&jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground px-8 py-1 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"sidebarElectron.noTasks",defaultMessage:"No tasks",description:"Shown when a folder group has no tasks"})})]})}function HeaderActions({className:Ye}){return jsxRuntimeExports.jsx("div",{className:clsx("h-toolbar flex items-center",Ye),children:jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex w-full items-center gap-1 pr-2",children:[jsxRuntimeExports.jsx("div",{className:"draggable flex-1"}),jsxRuntimeExports.jsx(IconButton,{Icon:SvgAddFolder,onClick:()=>{messageBus.dispatchMessage("electron-add-new-workspace-root-option",{})}})]})})}function useUnreadTaskCountBadge(Ye){const rt=useWindowType(),it=reactExports.useMemo(()=>(Ye??[]).filter(lt=>lt.kind==="remote"&&lt.task.has_unread_turn||lt.kind==="local"&&lt.conversation.hasUnreadTurn).length,[Ye]);reactExports.useEffect(()=>{rt==="electron"&&messageBus.dispatchMessage("electron-set-badge-count",{count:it})},[rt,it])}function MergedTaskRow$1({item:Ye,codexHome:rt,groupPath:it}){if(Ye.kind==="remote"){const lt=Ye.task;return jsxRuntimeExports.jsx(CloudTaskRow,{envIconLocation:"middle",isActive:location.pathname===`/remote/${lt.id}`,task:lt,onClose:()=>{},indicatorLocation:"start",diffStyle:"monochrome"},lt.id)}if(Ye.kind==="local"){const lt=isWorktreePath(Ye.conversation.cwd,rt);return jsxRuntimeExports.jsx(LocalTaskRow,{envIconLocation:lt?"middle":"none",isGrouped:!0,isActive:location.pathname===`/local/${Ye.conversation.id}`,conversation:Ye.conversation,indicatorLocation:"start",diffStyle:"monochrome",onClick:()=>{messageBus.dispatchMessage("electron-set-active-workspace-root",{root:it})}},Ye.key)}else return jsxRuntimeExports.jsx(WorktreeInitRow,{task:Ye.task},Ye.key)}const TRAFFIC_LIGHT_OFFSET_X=18,SAFE_AREAS=Object.freeze({default:Object.freeze({left:0,right:0}),mac:Object.freeze({legacy:Object.freeze({left:66+TRAFFIC_LIGHT_OFFSET_X,right:0}),modern:Object.freeze({left:76+TRAFFIC_LIGHT_OFFSET_X,right:0})}),windows:Object.freeze({v10:Object.freeze({left:0,right:96}),v11:Object.freeze({left:0,right:120})}),linux:Object.freeze({left:0,right:120})}),MAC_VERSION_PATTERN=/mac os x (\d+)[_.](\d+)/i;function getMacSafeArea(Ye){const rt=MAC_VERSION_PATTERN.exec(Ye);if(!rt)return SAFE_AREAS.mac.modern;const it=Number.parseInt(rt[1]??"",10),lt=Number.parseInt(rt[2]??"",10);return Number.isNaN(it)||Number.isNaN(lt)?SAFE_AREAS.mac.modern:it===10&&lt<=15?SAFE_AREAS.mac.legacy:SAFE_AREAS.mac.modern}function getWindowsSafeArea(Ye){const rt=Number.parseInt(Ye?.split(".")[0]??"",10);return Number.isNaN(rt)||rt>=13?SAFE_AREAS.windows.v11:SAFE_AREAS.windows.v10}function resolveSafeArea(Ye){if(Ye!=="electron"||typeof navigator>"u")return SAFE_AREAS.default;const rt=navigator,it=(rt.userAgent??"").toLowerCase(),lt=rt.userAgentData?.platform?.toLowerCase()??rt.platform?.toLowerCase()??it;return lt.includes("darwin")||lt.includes("mac")||it.includes("mac os x")||it.includes("macintosh")?getMacSafeArea(it):lt.includes("win")||it.includes("windows")?getWindowsSafeArea(rt.userAgentData?.platformVersion):lt.includes("linux")?SAFE_AREAS.linux:SAFE_AREAS.default}function getWindowControlsSafeArea(Ye){return resolveSafeArea(Ye)}function useWindowControlsSafeArea(){const Ye=useWindowType();return reactExports.useMemo(()=>getWindowControlsSafeArea(Ye),[Ye])}function AppSidebarShell({sidebar:Ye,children:rt,sidebarClassName:it,contentClassName:lt}){return jsxRuntimeExports.jsx(AppShellProvider,{children:jsxRuntimeExports.jsx(AppSidebarShellLayout,{sidebar:Ye,sidebarClassName:it,contentClassName:lt,children:rt})})}function AppSidebarShellLayout({sidebar:Ye,children:rt,sidebarClassName:it,contentClassName:lt}){const{isSidebarOpen:ct}=useAppShell(),ut=useWindowControlsSafeArea(),ht=`${ut.left??0}px`,ft=`${ut.right??0}px`;return jsxRuntimeExports.jsxs("div",{className:"relative h-full",style:{"--spacing-token-safe-header-left":ht,"--spacing-token-safe-header-right":ft},children:[jsxRuntimeExports.jsx(AppHeaderPortal,{}),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0",children:[jsxRuntimeExports.jsx("div",{className:clsx("w-token-sidebar duration-relaxed ease-basic absolute bottom-0 left-0 top-[var(--inset-toolbar)] transition-all",ct?"translate-x-0 opacity-100":"-translate-x-full opacity-0",it),children:Ye}),jsxRuntimeExports.jsx("div",{className:clsx("pt-toolbar main-surface duration-relaxed ease-basic fixed bottom-0 right-0 top-0 translate-x-0 transition-[left] will-change-[left]",ct?"left-token-sidebar":"left-0",lt),children:jsxRuntimeExports.jsx("div",{className:"top-toolbar absolute inset-0",children:rt})})]})]})}const SvgCompose=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.0686 11.5147V8.84871C3.0686 7.92626 3.06832 7.19377 3.11646 6.60457C3.16523 6.00783 3.2669 5.49903 3.50415 5.03328L3.65845 4.75789C4.04262 4.13147 4.59383 3.62167 5.2522 3.28621L5.42896 3.2032C5.84657 3.02405 6.30124 2.94021 6.82349 2.89754C7.41262 2.8494 8.14436 2.84969 9.06665 2.84969H9.56665C9.93383 2.84969 10.2316 3.14758 10.2317 3.51473C10.2317 3.882 9.93392 4.17977 9.56665 4.17977H9.06665C8.1225 4.17977 7.45429 4.18006 6.93188 4.22273C6.54601 4.25426 6.27267 4.3074 6.05591 4.38484L5.85571 4.47078C5.41635 4.69465 5.04862 5.03516 4.79224 5.4532L4.6897 5.6368C4.56378 5.88392 4.48371 6.19835 4.44165 6.71297C4.39896 7.23545 4.39868 7.90432 4.39868 8.84871V11.5147C4.39868 12.4591 4.39896 13.128 4.44165 13.6505C4.48371 14.165 4.56379 14.4795 4.6897 14.7266L4.79224 14.9102C5.04861 15.3282 5.41639 15.6688 5.85571 15.8927L6.05591 15.9786C6.27266 16.056 6.54604 16.1082 6.93188 16.1397C7.4543 16.1824 8.12246 16.1837 9.06665 16.1837H11.7336C12.6778 16.1837 13.346 16.1824 13.8684 16.1397C14.3828 16.0977 14.6975 16.0185 14.9446 15.8927L15.1292 15.7891C15.5469 15.5328 15.8878 15.1658 16.1116 14.7266L16.1975 14.5264C16.275 14.3097 16.3271 14.0363 16.3586 13.6505C16.4013 13.128 16.4016 12.4591 16.4016 11.5147V11.0147C16.4018 10.6477 16.6996 10.3499 17.0667 10.3497C17.4338 10.3497 17.7316 10.6476 17.7317 11.0147V11.5147C17.7317 12.4372 17.733 13.1697 17.6848 13.7589C17.6421 14.281 17.5583 14.7358 17.3792 15.1534L17.2961 15.3302C16.9608 15.9883 16.4506 16.5388 15.8245 16.9229L15.5491 17.0772C15.0832 17.3146 14.5738 17.4171 13.9768 17.4659C13.3877 17.514 12.6559 17.5137 11.7336 17.5137H9.06665C8.14436 17.5137 7.41262 17.514 6.82349 17.4659C6.30126 17.4232 5.84655 17.3394 5.42896 17.1602L5.2522 17.0772C4.59386 16.7418 4.04262 16.2319 3.65845 15.6055L3.50415 15.3302C3.26687 14.8644 3.16524 14.3556 3.11646 13.7589C3.06832 13.1697 3.0686 12.4372 3.0686 11.5147ZM13.8645 3.295C14.82 2.51572 16.2287 2.57141 17.1194 3.46199L17.2864 3.64656C18.014 4.53857 18.0142 5.82595 17.2864 6.71785L17.1194 6.90242L12.0725 11.9503C11.5372 12.4856 10.8623 12.8563 10.1282 13.0225L9.81079 13.0811L7.99341 13.3399C7.78627 13.3694 7.57691 13.3004 7.42896 13.1524C7.28102 13.0044 7.21189 12.7951 7.24146 12.588L7.50122 10.7716L7.55981 10.4532C7.7261 9.7192 8.09682 9.04413 8.63208 8.50887L13.679 3.46199L13.8645 3.295ZM16.179 4.40242C15.7752 3.99874 15.1365 3.97295 14.7034 4.32625L14.6194 4.40242L9.57251 9.45027C9.21531 9.8075 8.96764 10.2573 8.85669 10.7471L8.81763 10.9591L8.68286 11.8975L9.62231 11.7637L9.83423 11.7247C10.3242 11.6137 10.7748 11.3661 11.1321 11.0089L16.179 5.96199L16.2551 5.87801C16.585 5.47366 16.5851 4.88971 16.2551 4.48543L16.179 4.40242Z",fill:"currentColor"}));function NewChatButton(){const Ye=useNavigate(),rt=reactExports.useCallback(()=>{const lt={focusComposerNonce:Date.now()};Ye("/",{state:lt})},[Ye]),it=reactExports.useCallback(lt=>{lt.defaultPrevented||rt()},[rt]);return useMessage("new-chat",rt,[rt]),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationPage.newChat",defaultMessage:"New chat",description:"Tooltip text for starting a new chat"}),children:jsxRuntimeExports.jsx(IconButton,{Icon:SvgCompose,onClick:it})})}function mapMergedTask(Ye,rt){switch(Ye.kind){case"remote":return rt.remote(Ye);case"local":return rt.local(Ye);case"worktree-initialization":return rt["worktree-initialization"](Ye)}}function RecentTasksInline({mergedTasks:Ye,tasksQuery:rt}){const it=useNavigate(),lt=useLocation(),ct=useWindowType();if(rt.isLoading&&Ye.length===0)return null;const ut=rt.error instanceof FetchError&&rt.error.status===404;if(rt.isError&&Ye.length===0&&!ut)return jsxRuntimeExports.jsxs("div",{className:"text-token-input-placeholder-foreground mb-2 flex items-center gap-2 text-base",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.errorCloud.inline",defaultMessage:"Failed to load cloud tasks.",description:"Inline error indicator for cloud tasks in recent feed"}),jsxRuntimeExports.jsx(Button,{size:"default",color:"outline",onClick:()=>rt.refetch(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.common.retry",defaultMessage:"Retry",description:"Retry button"})})]});if(Ye.length===0)return null;const ht=Ye.filter(isPendingOrUnread),ft=ct==="extension"?uniqBy([...ht,...Ye],mt=>mt.key).slice(0,Math.max(3,ht.length)):Ye,pt=ct==="extension"?Ye.length>ft.length:!1;return jsxRuntimeExports.jsxs("div",{className:"group/inline -mx-[var(--padding-row-x)] flex flex-col gap-px rounded-xl pb-1 transition-colors",children:[ft.map(mt=>mapMergedTask(mt,{remote:gt=>jsxRuntimeExports.jsx(CloudTaskRow,{isActive:lt.pathname===`/remote/${gt.task.id}`,task:gt.task,onClose:()=>{}},gt.key),local:gt=>jsxRuntimeExports.jsx(LocalTaskRow,{isActive:lt.pathname===`/local/${gt.conversation.id}`,conversation:gt.conversation,onClick:()=>it(`/local/${gt.conversation.id}`)},gt.key),"worktree-initialization":gt=>jsxRuntimeExports.jsx(WorktreeInitRow,{task:gt.task},gt.key)})),pt&&jsxRuntimeExports.jsx("div",{className:"flex w-full cursor-pointer items-center gap-0 rounded-md px-[var(--padding-row-x)] py-1 text-sm opacity-40 hover:opacity-80",onClick:()=>{window.dispatchEvent(new CustomEvent("open-recent-tasks-menu"))},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"header.recentTasks.seeAll",defaultMessage:"View all ({total})",description:"See all recent tasks link with total count",values:{total:Ye.length}})})]})}function isPendingOrUnread(Ye){if(Ye.kind==="remote"){const rt=Ye.task.task_status_display?.latest_turn_status_display?.turn_status;return Ye.task.has_unread_turn===!0||rt==="in_progress"||rt==="pending"}if(Ye.kind==="local"&&Ye.conversation.hasUnreadTurn)return!0;if(Ye.kind==="local"&&Ye.conversation.resumeState==="needs_resume")return!1;if(Ye.kind==="local"){const rt=Ye.conversation.turns.at(-1);return!rt||mapStateToLocalConversationItems(rt,Ye.conversation.requests).status==="in_progress"}return Ye.kind==="worktree-initialization"}function SidebarBrowser(){const Ye=useTasks({taskFilter:"current",limit:20,enabled:!0}),rt=useMergedTasks(Ye,[],null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AppHeader,{sidebar:jsxRuntimeExports.jsx("div",{className:"h-toolbar draggable flex w-full items-center justify-end gap-1",children:jsxRuntimeExports.jsx(NewChatButton,{})})}),jsxRuntimeExports.jsxs("div",{className:"flex h-full min-h-0 flex-1 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"px-panel flex-1 overflow-y-auto",children:jsxRuntimeExports.jsx(RecentTasksInline,{mergedTasks:rt,tasksQuery:Ye})}),jsxRuntimeExports.jsx(ProfileFooter,{})]})]})}function AuthedLayout(){const Ye=useWindowType(),rt=useMatch("/settings/*")!=null;if(Ye==="extension")return jsxRuntimeExports.jsx(Outlet,{});if(rt)return jsxRuntimeExports.jsx(Outlet,{});let it;return Ye==="electron"?it=jsxRuntimeExports.jsx(SidebarElectron,{}):it=jsxRuntimeExports.jsx(SidebarBrowser,{}),jsxRuntimeExports.jsx(AppSidebarShell,{sidebar:it,children:jsxRuntimeExports.jsx(Outlet,{})})}function AuthedRoute(){const{authMethod:Ye,requiresAuth:rt,isLoading:it}=useAuth();return it?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):Ye||!rt?jsxRuntimeExports.jsx(AuthedLayout,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function LoadingPage(){return jsxRuntimeExports.jsx("div",{className:"flex size-full items-center justify-center",children:jsxRuntimeExports.jsx(Spinner,{})})}function maybeErrorToString(Ye){if(Ye instanceof Error)return Ye.message;if(typeof Ye=="string")return Ye;try{return JSON.stringify(Ye)}catch{return String(Ye)}}var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var Ye=require_baseIsEqual();function rt(it,lt){return Ye(it,lt)}return isEqual_1=rt,isEqual_1}var isEqualExports=requireIsEqual();const isEqual$1=getDefaultExportFromCjs(isEqualExports),STATSIG_CLIENT_KEY="client-sYWqzCYMRkUg4DqqiZcR5DGTNl2iD7zNJY0HoeDLzxR";function CodexStatsigProvider({children:Ye}){const rt=useAuth(),{data:it,isLoading:lt}=useFetchFromVSCode("extension-info",{queryConfig:{staleTime:1/0}}),ct=it?.version,{data:ut}=useCurrentAccount(),ht=ut?.plan_type??rt.planAtLogin;return rt.isLoading||lt?jsxRuntimeExports.jsx(LoadingPage,{}):jsxRuntimeExports.jsx(CodexStatsigProviderImpl,{auth:rt,appVersion:ct,plan:ht,children:Ye})}function CodexStatsigProviderImpl({auth:Ye,appVersion:rt,plan:it,children:lt}){const ct=useWindowType(),ut=reactExports.useMemo(()=>({email:Ye.email??void 0,userID:Ye.userId??void 0,customIDs:{account_id:Ye.accountId??void 0},appVersion:rt,custom:{auth_method:Ye.authMethod??void 0,account_id:Ye.accountId??void 0,plan_type:it??void 0,codex_window_type:ct}}),[rt,Ye.accountId,Ye.authMethod,Ye.email,Ye.userId,it,ct]),{client:ht,isLoading:ft}=srcExports.useClientAsyncInit(STATSIG_CLIENT_KEY,ut,{networkConfig:{api:"https://ab.chatgpt.com/v1",networkOverrideFunc:statsigNetworkOverride}});return reactExports.useEffect(()=>{if(ht!=null)try{const pt=ht.getContext().user;isEqual$1(pt,ut)||ht.updateUserAsync(ut)}catch(pt){logger.error(`Statsig: error while checking/updating user ${maybeErrorToString(pt)}`)}},[ht,ut]),ft?jsxRuntimeExports.jsx(LoadingPage,{}):jsxRuntimeExports.jsx(srcExports.StatsigProvider,{client:ht,children:lt})}async function statsigNetworkOverride(Ye,rt){const it=WebFetchWrapper.getInstance(),lt=rt.method??"GET",{body:ct,isBase64:ut}=await prepareRequestBody(rt.body),ht={"content-type":"application/json",...rt.headers??{},...ut?{"x-codex-base64":"1"}:{}};try{const ft=await it.sendRequest(lt,Ye,{body:ct,headers:Object.keys(ht).length>0?ht:void 0,signal:rt.signal??void 0});if(ft.status===204)return new Response(null,{status:ft.status});let pt;if(ft.headers?.length){pt=new Headers;for(const[yt,xt]of Object.entries(ft.headers))pt.set(yt,xt)}const mt=ft.body,gt=typeof mt=="string"?mt:mt==null?null:JSON.stringify(mt);return new Response(gt,{status:ft.status,headers:pt})}catch(ft){if(ft instanceof FetchError)return new Response(ft.message,{status:ft.status});throw ft}}async function prepareRequestBody(Ye){return Ye==null?{body:void 0,isBase64:!1}:typeof Ye=="string"?{body:Ye,isBase64:!1}:Ye instanceof URLSearchParams?{body:Ye.toString(),isBase64:!1}:typeof Blob<"u"&&Ye instanceof Blob?{body:await Ye.text(),isBase64:!1}:Ye instanceof ArrayBuffer?{body:arrayBufferToBase64(Ye),isBase64:!0}:ArrayBuffer.isView(Ye)?{body:arrayBufferToBase64(Ye),isBase64:!0}:{body:String(Ye),isBase64:!1}}function arrayBufferToBase64(Ye){const rt=Ye instanceof ArrayBuffer?new Uint8Array(Ye):new Uint8Array(Ye.buffer,Ye.byteOffset,Ye.byteLength);let it="";const lt=32768;for(let ct=0;ct<rt.length;ct+=lt){const ut=rt.subarray(ct,ct+lt);it+=String.fromCharCode(...ut)}return btoa(it)}const SvgCopy=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M13.468 11.1216C13.468 10.4107 13.468 9.91717 13.4367 9.53369C13.4137 9.25191 13.3758 9.0622 13.3244 8.91846L13.2687 8.78858C13.1148 8.48652 12.8803 8.23344 12.593 8.05713L12.466 7.98584C12.308 7.90546 12.0963 7.84854 11.7209 7.81787C11.3374 7.78656 10.8439 7.78662 10.133 7.78662H7.29999C6.58895 7.78662 6.09562 7.78654 5.7121 7.81787C5.43015 7.84091 5.24064 7.87872 5.09686 7.93018L4.96698 7.98584C4.66487 8.13977 4.41184 8.37419 4.23554 8.66162L4.16522 8.78858C4.08477 8.94657 4.02794 9.15811 3.99725 9.53369C3.96594 9.91718 3.96503 10.4107 3.96503 11.1216V13.9546C3.96503 14.6656 3.96592 15.159 3.99725 15.5425C4.02796 15.9182 4.08471 16.1296 4.16522 16.2876L4.23554 16.4136C4.41185 16.7012 4.66472 16.9353 4.96698 17.0894L5.09686 17.146C5.24061 17.1974 5.43024 17.2343 5.7121 17.2573C6.09562 17.2887 6.58895 17.2896 7.29999 17.2896H10.133C10.8439 17.2896 11.3374 17.2886 11.7209 17.2573C12.0965 17.2266 12.308 17.1698 12.466 17.0894L12.593 17.019C12.8804 16.8427 13.1148 16.5897 13.2687 16.2876L13.3244 16.1577C13.3759 16.0139 13.4137 15.8244 13.4367 15.5425C13.468 15.159 13.468 14.6656 13.468 13.9546V11.1216ZM14.798 13.1196C15.2528 13.118 15.6011 13.1147 15.8879 13.0913C16.2634 13.0606 16.475 13.0038 16.633 12.9233L16.759 12.8521C17.0466 12.6757 17.2808 12.4228 17.4348 12.1206L17.4914 11.9907C17.5428 11.847 17.5797 11.6572 17.6027 11.3755C17.634 10.992 17.6349 10.4985 17.6349 9.7876V6.95459C17.6349 6.24355 17.6341 5.75022 17.6027 5.3667C17.5797 5.08484 17.5428 4.89522 17.4914 4.75147L17.4348 4.62158C17.2807 4.31933 17.0466 4.06645 16.759 3.89014L16.633 3.81982C16.475 3.73932 16.2636 3.68256 15.8879 3.65186C15.5044 3.62052 15.011 3.61963 14.3 3.61963H11.467C10.7561 3.61963 10.2626 3.62054 9.87909 3.65186C9.59738 3.67487 9.40759 3.71179 9.26386 3.76318L9.13397 3.81982C8.83175 3.97382 8.57885 4.20802 8.40253 4.49561L8.33124 4.62158C8.25079 4.77957 8.19396 4.99114 8.16327 5.3667C8.13984 5.65352 8.13561 6.00178 8.13397 6.45654H10.133C10.822 6.45654 11.3791 6.4559 11.8293 6.49268C12.2873 6.5301 12.6937 6.6093 13.0705 6.80127L13.2883 6.92334C13.7839 7.22739 14.1878 7.66313 14.4533 8.18408L14.5197 8.32666C14.6642 8.66318 14.7291 9.02433 14.7619 9.42529C14.7987 9.8755 14.798 10.4326 14.798 11.1216V13.1196ZM18.965 9.7876C18.965 10.4766 18.9657 11.0337 18.9289 11.4839C18.8961 11.8848 18.8311 12.246 18.6867 12.5825L18.6203 12.7251C18.3548 13.246 17.9509 13.6818 17.4553 13.9858L17.2365 14.1079C16.8599 14.2998 16.4541 14.3791 15.9963 14.4165C15.6592 14.444 15.2624 14.4481 14.7951 14.4497C14.7935 14.917 14.7894 15.3138 14.7619 15.6509C14.7292 16.0516 14.664 16.4122 14.5197 16.7485L14.4533 16.8911C14.1878 17.4122 13.7841 17.8487 13.2883 18.1528L13.0705 18.2749C12.6937 18.4669 12.2873 18.5461 11.8293 18.5835C11.3791 18.6203 10.822 18.6196 10.133 18.6196H7.29999C6.6109 18.6196 6.05394 18.6203 5.6037 18.5835C5.20305 18.5508 4.84233 18.4855 4.50604 18.3413L4.36347 18.2749C3.84243 18.0094 3.40584 17.6056 3.10175 17.1099L2.97968 16.8911C2.78787 16.5145 2.70849 16.1087 2.67108 15.6509C2.6343 15.2006 2.63495 14.6437 2.63495 13.9546V11.1216C2.63495 10.4326 2.63431 9.8755 2.67108 9.42529C2.7085 8.96729 2.78771 8.56084 2.97968 8.18408L3.10175 7.96631C3.40585 7.47049 3.84235 7.06679 4.36347 6.80127L4.50604 6.73486C4.84236 6.59059 5.20302 6.52542 5.6037 6.49268C5.9405 6.46516 6.33707 6.4601 6.80389 6.4585C6.8055 5.99167 6.81056 5.5951 6.83807 5.2583C6.87549 4.80047 6.95482 4.39471 7.14667 4.01807L7.26874 3.79932C7.5728 3.30371 8.00855 2.89973 8.52948 2.63428L8.67206 2.56787C9.00854 2.42345 9.36978 2.35844 9.77069 2.32568C10.2209 2.28891 10.778 2.28955 11.467 2.28955H14.3C14.9891 2.28955 15.546 2.2889 15.9963 2.32568C16.4541 2.3631 16.8599 2.44247 17.2365 2.63428L17.4553 2.75635C17.951 3.06044 18.3548 3.49703 18.6203 4.01807L18.6867 4.16065C18.8309 4.49694 18.8962 4.85765 18.9289 5.2583C18.9657 5.70854 18.965 6.2655 18.965 6.95459V9.7876Z",fill:"currentColor"}));function useIsMounted(){const Ye=reactExports.useRef(!1);return reactExports.useEffect(()=>(Ye.current=!0,()=>{Ye.current=!1}),[]),reactExports.useCallback(()=>Ye.current,[])}function CopyButton({buttonText:Ye,shouldChangeText:rt=!0,iconClassName:it="icon-sm",onCopy:lt,className:ct,iconOnly:ut=!1,textPosition:ht="right"}){const ft=useIntl(),[pt,mt]=reactExports.useState(!1),gt=useIsMounted(),yt=reactExports.useCallback(bt=>{bt.stopPropagation(),lt(bt),mt(!0),setTimeout(()=>{gt()&&mt(!1)},2e3)},[gt,lt]);let xt=Ye;return rt&&pt?xt=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"copyButton.copied",defaultMessage:"Copied",description:"Text displayed when the content has been copied"}):Ye===!0&&(xt=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"copyButton.copy",defaultMessage:"Copy",description:"Text displayed when the content can be copied"})),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!pt&&jsxRuntimeExports.jsx(Tooltip,{tooltipContent:Ye??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"CopyButton.copyTooltip",defaultMessage:"Copy",description:"Tooltip on copy message icon button"}),disabled:!ut,children:jsxRuntimeExports.jsxs(Button,{color:"ghost",size:"icon",onClick:yt,className:ct,"aria-label":ft.formatMessage({id:"copyButton.copyAriaLabel",defaultMessage:"Copy",description:"Aria label for a button for content that can be copied"}),children:[ht==="left"&&!ut&&xt,jsxRuntimeExports.jsx(SvgCopy,{className:it}),ht==="right"&&!ut&&xt]})}),pt&&jsxRuntimeExports.jsxs(Button,{color:"ghost",size:"icon",className:clsx("text-token-foreground",ct),"aria-label":ft.formatMessage({id:"copyButton.copiedAriaLabel",defaultMessage:"Copied",description:"Aria label for a button state when text has been copied"}),children:[ht==="left"&&!ut&&xt,jsxRuntimeExports.jsx(SvgCheckMd,{className:it}),ht==="right"&&!ut&&xt]})]})}function dataUrlFromSvg(Ye){return`data:image/svg+xml;utf8,${encodeURIComponent(Ye)}`}function healHTML(Ye){if(typeof document>"u")throw new Error("not supported in SSR");const rt=document.createElement("template");return rt.innerHTML=Ye,rt.innerHTML}const PartialSVGImage=({svgString:Ye,...rt})=>{const it=reactExports.useMemo(()=>healHTML(Ye),[Ye]);return it?jsxRuntimeExports.jsx("img",{src:dataUrlFromSvg(it),...rt}):null};function handleError$1(){}function copyToClipboard(Ye,rt){const{navigator:it}=rt?.target?.ownerDocument?.defaultView??window;return new Promise((lt,ct)=>{if(!it?.clipboard){ct();return}try{if("write"in it.clipboard&&"supports"in ClipboardItem){const ut=new ClipboardItem(Object.fromEntries(Object.entries(typeof Ye=="string"?{"text/plain":Ye}:Ye).map(([ht,ft])=>[ht,typeof ft=="string"?new Blob([ft],{type:ht}):ft])));it.clipboard.write([ut]).then(()=>lt(!0),()=>{ct()})}else{const ut=typeof Ye=="string"?Ye:Ye["text/plain"]??"";it.clipboard.writeText(ut).then(()=>lt(!0),()=>{ct()})}}catch{ct()}})}const LUMINANCE_DARK_THRESHOLD=.5;function useIsDark(){const[Ye,rt]=reactExports.useState(null);return reactExports.useEffect(()=>{if(typeof window>"u")return;const it=()=>{rt(computeIsDark())};it();const lt=new MutationObserver(ut=>{for(const ht of ut)if(ht.type==="attributes"){it();break}});lt.observe(document.documentElement,{attributes:!0,attributeFilter:["class","style"]});const ct=window.setInterval(it,2e3);return()=>{lt.disconnect(),window.clearInterval(ct)}},[]),Ye}function relativeLuminance(Ye,rt,it){const lt=ft=>{const pt=ft/255;return pt<=.03928?pt/12.92:Math.pow((pt+.055)/1.055,2.4)},ct=lt(Ye),ut=lt(rt),ht=lt(it);return .2126*ct+.7152*ut+.0722*ht}function parseColor(Ye){const rt=Ye.trim().toLowerCase();if(!rt)return null;if(rt.startsWith("#")){const ct=rt.slice(1),ut=ht=>ht+ht;if(ct.length===3||ct.length===4){const ht=parseInt(ut(ct[0]),16),ft=parseInt(ut(ct[1]),16),pt=parseInt(ut(ct[2]),16);return{r:ht,g:ft,b:pt}}else if(ct.length===6||ct.length===8){const ht=parseInt(ct.slice(0,2),16),ft=parseInt(ct.slice(2,4),16),pt=parseInt(ct.slice(4,6),16);return{r:ht,g:ft,b:pt}}return null}const it=rt.match(/^rgba?\(([^)]+)\)$/);if(it){const ct=it[1].split(/\s*,\s*/).map(ut=>ut.trim());if(ct.length>=3){const ut=parseComponent(ct[0]),ht=parseComponent(ct[1]),ft=parseComponent(ct[2]);if(ut!=null&&ht!=null&&ft!=null)return{r:ut,g:ht,b:ft}}return null}const lt=rt.match(/^hsla?\(([^)]+)\)$/);if(lt){const ct=lt[1].split(/\s*,\s*/).map(ut=>ut.trim());if(ct.length>=3){const ut=parseFloat(ct[0]),ht=parsePercent(ct[1]),ft=parsePercent(ct[2]);if([ut,ht,ft].every(pt=>!Number.isNaN(pt))){const{r:pt,g:mt,b:gt}=hslToRgb(ut,ht,ft);return{r:pt,g:mt,b:gt}}}return null}return null}function parseComponent(Ye){if(Ye.endsWith("%")){const it=parseFloat(Ye.slice(0,-1));return Number.isNaN(it)?null:Math.round(it/100*255)}const rt=parseFloat(Ye);return Number.isNaN(rt)?null:Math.max(0,Math.min(255,rt))}function parsePercent(Ye){if(Ye.endsWith("%")){const it=parseFloat(Ye.slice(0,-1));return Number.isNaN(it)?0:it/100}const rt=parseFloat(Ye);return Number.isNaN(rt)?0:rt/100}function hslToRgb(Ye,rt,it){const lt=(1-Math.abs(2*it-1))*rt,ct=Ye%360/60,ut=lt*(1-Math.abs(ct%2-1));let ht=0,ft=0,pt=0;ct>=0&&ct<1?[ht,ft,pt]=[lt,ut,0]:ct>=1&&ct<2?[ht,ft,pt]=[ut,lt,0]:ct>=2&&ct<3?[ht,ft,pt]=[0,lt,ut]:ct>=3&&ct<4?[ht,ft,pt]=[0,ut,lt]:ct>=4&&ct<5?[ht,ft,pt]=[ut,0,lt]:ct>=5&&ct<6&&([ht,ft,pt]=[lt,0,ut]);const mt=it-lt/2;return{r:Math.round((ht+mt)*255),g:Math.round((ft+mt)*255),b:Math.round((pt+mt)*255)}}function resolveEditorBackgroundColor(){if(typeof window>"u")return null;try{const Ye=document.createElement("div");Ye.style.display="none",Ye.style.backgroundColor="var(--color-token-editor-background)",document.body.appendChild(Ye);const rt=getComputedStyle(Ye).backgroundColor||"";return Ye.remove(),rt}catch{return null}}function computeIsDark(){const Ye=resolveEditorBackgroundColor();if(!Ye)return null;const rt=parseColor(Ye);return rt?relativeLuminance(rt.r,rt.g,rt.b)<LUMINANCE_DARK_THRESHOLD:null}var safeIsNaN=Number.isNaN||function(rt){return typeof rt=="number"&&rt!==rt};function isEqual(Ye,rt){return!!(Ye===rt||safeIsNaN(Ye)&&safeIsNaN(rt))}function areInputsEqual(Ye,rt){if(Ye.length!==rt.length)return!1;for(var it=0;it<Ye.length;it++)if(!isEqual(Ye[it],rt[it]))return!1;return!0}function memoizeOne(Ye,rt){rt===void 0&&(rt=areInputsEqual);var it=null;function lt(){for(var ct=[],ut=0;ut<arguments.length;ut++)ct[ut]=arguments[ut];if(it&&it.lastThis===this&&rt(ct,it.lastArgs))return it.lastResult;var ht=Ye.apply(this,ct);return it={lastResult:ht,lastArgs:ct,lastThis:this},ht}return lt.clear=function(){it=null},lt}function twJoin(){for(var Ye=0,rt,it,lt="";Ye<arguments.length;)(rt=arguments[Ye++])&&(it=toValue(rt))&&(lt&&(lt+=" "),lt+=it);return lt}function toValue(Ye){if(typeof Ye=="string")return Ye;for(var rt,it="",lt=0;lt<Ye.length;lt++)Ye[lt]&&(rt=toValue(Ye[lt]))&&(it&&(it+=" "),it+=rt);return it}var CLASS_PART_SEPARATOR="-";function createClassUtils(Ye){var rt=createClassMap(Ye),it=Ye.conflictingClassGroups,lt=Ye.conflictingClassGroupModifiers,ct=lt===void 0?{}:lt;function ut(ft){var pt=ft.split(CLASS_PART_SEPARATOR);return pt[0]===""&&pt.length!==1&&pt.shift(),getGroupRecursive(pt,rt)||getGroupIdForArbitraryProperty(ft)}function ht(ft,pt){var mt=it[ft]||[];return pt&&ct[ft]?[].concat(mt,ct[ft]):mt}return{getClassGroupId:ut,getConflictingClassGroupIds:ht}}function getGroupRecursive(Ye,rt){if(Ye.length===0)return rt.classGroupId;var it=Ye[0],lt=rt.nextPart.get(it),ct=lt?getGroupRecursive(Ye.slice(1),lt):void 0;if(ct)return ct;if(rt.validators.length!==0){var ut=Ye.join(CLASS_PART_SEPARATOR);return rt.validators.find(function(ht){var ft=ht.validator;return ft(ut)})?.classGroupId}}var arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(Ye){if(arbitraryPropertyRegex.test(Ye)){var rt=arbitraryPropertyRegex.exec(Ye)[1],it=rt?.substring(0,rt.indexOf(":"));if(it)return"arbitrary.."+it}}function createClassMap(Ye){var rt=Ye.theme,it=Ye.prefix,lt={nextPart:new Map,validators:[]},ct=getPrefixedClassGroupEntries(Object.entries(Ye.classGroups),it);return ct.forEach(function(ut){var ht=ut[0],ft=ut[1];processClassesRecursively(ft,lt,ht,rt)}),lt}function processClassesRecursively(Ye,rt,it,lt){Ye.forEach(function(ct){if(typeof ct=="string"){var ut=ct===""?rt:getPart(rt,ct);ut.classGroupId=it;return}if(typeof ct=="function"){if(isThemeGetter(ct)){processClassesRecursively(ct(lt),rt,it,lt);return}rt.validators.push({validator:ct,classGroupId:it});return}Object.entries(ct).forEach(function(ht){var ft=ht[0],pt=ht[1];processClassesRecursively(pt,getPart(rt,ft),it,lt)})})}function getPart(Ye,rt){var it=Ye;return rt.split(CLASS_PART_SEPARATOR).forEach(function(lt){it.nextPart.has(lt)||it.nextPart.set(lt,{nextPart:new Map,validators:[]}),it=it.nextPart.get(lt)}),it}function isThemeGetter(Ye){return Ye.isThemeGetter}function getPrefixedClassGroupEntries(Ye,rt){return rt?Ye.map(function(it){var lt=it[0],ct=it[1],ut=ct.map(function(ht){return typeof ht=="string"?rt+ht:typeof ht=="object"?Object.fromEntries(Object.entries(ht).map(function(ft){var pt=ft[0],mt=ft[1];return[rt+pt,mt]})):ht});return[lt,ut]}):Ye}function createLruCache(Ye){if(Ye<1)return{get:function(){},set:function(){}};var rt=0,it=new Map,lt=new Map;function ct(ut,ht){it.set(ut,ht),rt++,rt>Ye&&(rt=0,lt=it,it=new Map)}return{get:function(ht){var ft=it.get(ht);if(ft!==void 0)return ft;if((ft=lt.get(ht))!==void 0)return ct(ht,ft),ft},set:function(ht,ft){it.has(ht)?it.set(ht,ft):ct(ht,ft)}}}var IMPORTANT_MODIFIER="!";function createSplitModifiers(Ye){var rt=Ye.separator||":",it=rt.length===1,lt=rt[0],ct=rt.length;return function(ht){for(var ft=[],pt=0,mt=0,gt,yt=0;yt<ht.length;yt++){var xt=ht[yt];if(pt===0){if(xt===lt&&(it||ht.slice(yt,yt+ct)===rt)){ft.push(ht.slice(mt,yt)),mt=yt+ct;continue}if(xt==="/"){gt=yt;continue}}xt==="["?pt++:xt==="]"&&pt--}var bt=ft.length===0?ht:ht.substring(mt),_t=bt.startsWith(IMPORTANT_MODIFIER),Ct=_t?bt.substring(1):bt,kt=gt&&gt>mt?gt-mt:void 0;return{modifiers:ft,hasImportantModifier:_t,baseClassName:Ct,maybePostfixModifierPosition:kt}}}function sortModifiers(Ye){if(Ye.length<=1)return Ye;var rt=[],it=[];return Ye.forEach(function(lt){var ct=lt[0]==="[";ct?(rt.push.apply(rt,it.sort().concat([lt])),it=[]):it.push(lt)}),rt.push.apply(rt,it.sort()),rt}function createConfigUtils(Ye){return{cache:createLruCache(Ye.cacheSize),splitModifiers:createSplitModifiers(Ye),...createClassUtils(Ye)}}var SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(Ye,rt){var it=rt.splitModifiers,lt=rt.getClassGroupId,ct=rt.getConflictingClassGroupIds,ut=new Set;return Ye.trim().split(SPLIT_CLASSES_REGEX).map(function(ht){var ft=it(ht),pt=ft.modifiers,mt=ft.hasImportantModifier,gt=ft.baseClassName,yt=ft.maybePostfixModifierPosition,xt=lt(yt?gt.substring(0,yt):gt),bt=!!yt;if(!xt){if(!yt)return{isTailwindClass:!1,originalClassName:ht};if(xt=lt(gt),!xt)return{isTailwindClass:!1,originalClassName:ht};bt=!1}var _t=sortModifiers(pt).join(":"),Ct=mt?_t+IMPORTANT_MODIFIER:_t;return{isTailwindClass:!0,modifierId:Ct,classGroupId:xt,originalClassName:ht,hasPostfixModifier:bt}}).reverse().filter(function(ht){if(!ht.isTailwindClass)return!0;var ft=ht.modifierId,pt=ht.classGroupId,mt=ht.hasPostfixModifier,gt=ft+pt;return ut.has(gt)?!1:(ut.add(gt),ct(pt,mt).forEach(function(yt){return ut.add(ft+yt)}),!0)}).reverse().map(function(ht){return ht.originalClassName}).join(" ")}function createTailwindMerge(){for(var Ye=arguments.length,rt=new Array(Ye),it=0;it<Ye;it++)rt[it]=arguments[it];var lt,ct,ut,ht=ft;function ft(mt){var gt=rt[0],yt=rt.slice(1),xt=yt.reduce(function(bt,_t){return _t(bt)},gt());return lt=createConfigUtils(xt),ct=lt.cache.get,ut=lt.cache.set,ht=pt,pt(mt)}function pt(mt){var gt=ct(mt);if(gt)return gt;var yt=mergeClassList(mt,lt);return ut(mt,yt),yt}return function(){return ht(twJoin.apply(null,arguments))}}function fromTheme(Ye){var rt=function(lt){return lt[Ye]||[]};return rt.isThemeGetter=!0,rt}var arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,shadowRegex=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength$1(Ye){return isNumber(Ye)||stringLengths.has(Ye)||fractionRegex.test(Ye)||isArbitraryLength(Ye)}function isArbitraryLength(Ye){return getIsArbitraryValue(Ye,"length",isLengthOnly)}function isArbitrarySize(Ye){return getIsArbitraryValue(Ye,"size",isNever)}function isArbitraryPosition(Ye){return getIsArbitraryValue(Ye,"position",isNever)}function isArbitraryUrl(Ye){return getIsArbitraryValue(Ye,"url",isUrl$1)}function isArbitraryNumber(Ye){return getIsArbitraryValue(Ye,"number",isNumber)}function isNumber(Ye){return!Number.isNaN(Number(Ye))}function isPercent(Ye){return Ye.endsWith("%")&&isNumber(Ye.slice(0,-1))}function isInteger$1(Ye){return isIntegerOnly(Ye)||getIsArbitraryValue(Ye,"number",isIntegerOnly)}function isArbitraryValue(Ye){return arbitraryValueRegex.test(Ye)}function isAny(){return!0}function isTshirtSize(Ye){return tshirtUnitRegex.test(Ye)}function isArbitraryShadow(Ye){return getIsArbitraryValue(Ye,"",isShadow)}function getIsArbitraryValue(Ye,rt,it){var lt=arbitraryValueRegex.exec(Ye);return lt?lt[1]?lt[1]===rt:it(lt[2]):!1}function isLengthOnly(Ye){return lengthUnitRegex.test(Ye)}function isNever(){return!1}function isUrl$1(Ye){return Ye.startsWith("url(")}function isIntegerOnly(Ye){return Number.isInteger(Number(Ye))}function isShadow(Ye){return shadowRegex.test(Ye)}function getDefaultConfig(){var Ye=fromTheme("colors"),rt=fromTheme("spacing"),it=fromTheme("blur"),lt=fromTheme("brightness"),ct=fromTheme("borderColor"),ut=fromTheme("borderRadius"),ht=fromTheme("borderSpacing"),ft=fromTheme("borderWidth"),pt=fromTheme("contrast"),mt=fromTheme("grayscale"),gt=fromTheme("hueRotate"),yt=fromTheme("invert"),xt=fromTheme("gap"),bt=fromTheme("gradientColorStops"),_t=fromTheme("gradientColorStopPositions"),Ct=fromTheme("inset"),kt=fromTheme("margin"),St=fromTheme("opacity"),Rt=fromTheme("padding"),Tt=fromTheme("saturate"),Mt=fromTheme("scale"),Pt=fromTheme("sepia"),It=fromTheme("skew"),Lt=fromTheme("space"),Ot=fromTheme("translate"),Ft=function(){return["auto","contain","none"]},Ut=function(){return["auto","hidden","clip","visible","scroll"]},Wt=function(){return["auto",isArbitraryValue,rt]},Kt=function(){return[isArbitraryValue,rt]},Qt=function(){return["",isLength$1]},Zt=function(){return["auto",isNumber,isArbitraryValue]},Vt=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},$t=function(){return["solid","dashed","dotted","double","none"]},zt=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Nt=function(){return["start","end","center","between","around","evenly","stretch"]},qt=function(){return["","0",isArbitraryValue]},Gt=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Ht=function(){return[isNumber,isArbitraryNumber]},Xt=function(){return[isNumber,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength$1],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Ht(),borderColor:[Ye],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Kt(),borderWidth:Qt(),contrast:Ht(),grayscale:qt(),hueRotate:Xt(),invert:qt(),gap:Kt(),gradientColorStops:[Ye],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Wt(),margin:Wt(),opacity:Ht(),padding:Kt(),saturate:Ht(),scale:Ht(),sepia:qt(),skew:Xt(),space:Kt(),translate:Kt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Gt()}],"break-before":[{"break-before":Gt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Vt(),[isArbitraryValue])}],overflow:[{overflow:Ut()}],"overflow-x":[{"overflow-x":Ut()}],"overflow-y":[{"overflow-y":Ut()}],overscroll:[{overscroll:Ft()}],"overscroll-x":[{"overscroll-x":Ft()}],"overscroll-y":[{"overscroll-y":Ft()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Ct]}],"inset-x":[{"inset-x":[Ct]}],"inset-y":[{"inset-y":[Ct]}],start:[{start:[Ct]}],end:[{end:[Ct]}],top:[{top:[Ct]}],right:[{right:[Ct]}],bottom:[{bottom:[Ct]}],left:[{left:[Ct]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger$1]}],basis:[{basis:Wt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:qt()}],shrink:[{shrink:qt()}],order:[{order:["first","last","none",isInteger$1]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger$1]},isArbitraryValue]}],"col-start":[{"col-start":Zt()}],"col-end":[{"col-end":Zt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger$1]},isArbitraryValue]}],"row-start":[{"row-start":Zt()}],"row-end":[{"row-end":Zt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[xt]}],"gap-x":[{"gap-x":[xt]}],"gap-y":[{"gap-y":[xt]}],"justify-content":[{justify:["normal"].concat(Nt())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Nt(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Nt(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[Rt]}],px:[{px:[Rt]}],py:[{py:[Rt]}],ps:[{ps:[Rt]}],pe:[{pe:[Rt]}],pt:[{pt:[Rt]}],pr:[{pr:[Rt]}],pb:[{pb:[Rt]}],pl:[{pl:[Rt]}],m:[{m:[kt]}],mx:[{mx:[kt]}],my:[{my:[kt]}],ms:[{ms:[kt]}],me:[{me:[kt]}],mt:[{mt:[kt]}],mr:[{mr:[kt]}],mb:[{mb:[kt]}],ml:[{ml:[kt]}],"space-x":[{"space-x":[Lt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Lt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",isArbitraryValue,rt]}],"min-w":[{"min-w":["min","max","fit",isArbitraryValue,isLength$1]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryValue]}],h:[{h:[isArbitraryValue,rt,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isArbitraryValue,isLength$1]}],"max-h":[{"max-h":[isArbitraryValue,rt,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isArbitraryValue,isLength$1]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[Ye]}],"placeholder-opacity":[{"placeholder-opacity":[St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[Ye]}],"text-opacity":[{"text-opacity":[St]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat($t(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$1]}],"underline-offset":[{"underline-offset":["auto",isArbitraryValue,isLength$1]}],"text-decoration-color":[{decoration:[Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Kt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[St]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Vt(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[Ye]}],"gradient-from-pos":[{from:[_t]}],"gradient-via-pos":[{via:[_t]}],"gradient-to-pos":[{to:[_t]}],"gradient-from":[{from:[bt]}],"gradient-via":[{via:[bt]}],"gradient-to":[{to:[bt]}],rounded:[{rounded:[ut]}],"rounded-s":[{"rounded-s":[ut]}],"rounded-e":[{"rounded-e":[ut]}],"rounded-t":[{"rounded-t":[ut]}],"rounded-r":[{"rounded-r":[ut]}],"rounded-b":[{"rounded-b":[ut]}],"rounded-l":[{"rounded-l":[ut]}],"rounded-ss":[{"rounded-ss":[ut]}],"rounded-se":[{"rounded-se":[ut]}],"rounded-ee":[{"rounded-ee":[ut]}],"rounded-es":[{"rounded-es":[ut]}],"rounded-tl":[{"rounded-tl":[ut]}],"rounded-tr":[{"rounded-tr":[ut]}],"rounded-br":[{"rounded-br":[ut]}],"rounded-bl":[{"rounded-bl":[ut]}],"border-w":[{border:[ft]}],"border-w-x":[{"border-x":[ft]}],"border-w-y":[{"border-y":[ft]}],"border-w-s":[{"border-s":[ft]}],"border-w-e":[{"border-e":[ft]}],"border-w-t":[{"border-t":[ft]}],"border-w-r":[{"border-r":[ft]}],"border-w-b":[{"border-b":[ft]}],"border-w-l":[{"border-l":[ft]}],"border-opacity":[{"border-opacity":[St]}],"border-style":[{border:[].concat($t(),["hidden"])}],"divide-x":[{"divide-x":[ft]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[ft]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[St]}],"divide-style":[{divide:$t()}],"border-color":[{border:[ct]}],"border-color-x":[{"border-x":[ct]}],"border-color-y":[{"border-y":[ct]}],"border-color-t":[{"border-t":[ct]}],"border-color-r":[{"border-r":[ct]}],"border-color-b":[{"border-b":[ct]}],"border-color-l":[{"border-l":[ct]}],"divide-color":[{divide:[ct]}],"outline-style":[{outline:[""].concat($t())}],"outline-offset":[{"outline-offset":[isArbitraryValue,isLength$1]}],"outline-w":[{outline:[isLength$1]}],"outline-color":[{outline:[Ye]}],"ring-w":[{ring:Qt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[Ye]}],"ring-opacity":[{"ring-opacity":[St]}],"ring-offset-w":[{"ring-offset":[isLength$1]}],"ring-offset-color":[{"ring-offset":[Ye]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[St]}],"mix-blend":[{"mix-blend":zt()}],"bg-blend":[{"bg-blend":zt()}],filter:[{filter:["","none"]}],blur:[{blur:[it]}],brightness:[{brightness:[lt]}],contrast:[{contrast:[pt]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[mt]}],"hue-rotate":[{"hue-rotate":[gt]}],invert:[{invert:[yt]}],saturate:[{saturate:[Tt]}],sepia:[{sepia:[Pt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[it]}],"backdrop-brightness":[{"backdrop-brightness":[lt]}],"backdrop-contrast":[{"backdrop-contrast":[pt]}],"backdrop-grayscale":[{"backdrop-grayscale":[mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt]}],"backdrop-invert":[{"backdrop-invert":[yt]}],"backdrop-opacity":[{"backdrop-opacity":[St]}],"backdrop-saturate":[{"backdrop-saturate":[Tt]}],"backdrop-sepia":[{"backdrop-sepia":[Pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[ht]}],"border-spacing-x":[{"border-spacing-x":[ht]}],"border-spacing-y":[{"border-spacing-y":[ht]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Xt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Xt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Mt]}],"scale-x":[{"scale-x":[Mt]}],"scale-y":[{"scale-y":[Mt]}],rotate:[{rotate:[isInteger$1,isArbitraryValue]}],"translate-x":[{"translate-x":[Ot]}],"translate-y":[{"translate-y":[Ot]}],"skew-x":[{"skew-x":[It]}],"skew-y":[{"skew-y":[It]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",Ye]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[Ye]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Kt()}],"scroll-mx":[{"scroll-mx":Kt()}],"scroll-my":[{"scroll-my":Kt()}],"scroll-ms":[{"scroll-ms":Kt()}],"scroll-me":[{"scroll-me":Kt()}],"scroll-mt":[{"scroll-mt":Kt()}],"scroll-mr":[{"scroll-mr":Kt()}],"scroll-mb":[{"scroll-mb":Kt()}],"scroll-ml":[{"scroll-ml":Kt()}],"scroll-p":[{"scroll-p":Kt()}],"scroll-px":[{"scroll-px":Kt()}],"scroll-py":[{"scroll-py":Kt()}],"scroll-ps":[{"scroll-ps":Kt()}],"scroll-pe":[{"scroll-pe":Kt()}],"scroll-pt":[{"scroll-pt":Kt()}],"scroll-pr":[{"scroll-pr":Kt()}],"scroll-pb":[{"scroll-pb":Kt()}],"scroll-pl":[{"scroll-pl":Kt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[Ye,"none"]}],"stroke-w":[{stroke:[isLength$1,isArbitraryNumber]}],stroke:[{stroke:[Ye,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var twMerge=createTailwindMerge(getDefaultConfig),g$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],y$3=g$1,P$3=Symbol("isTwElement?"),b$2=(Ye,rt)=>Ye.reduce((it,lt,ct)=>it.concat(lt||[],rt[ct]||[]),[]),S$2=(Ye,rt="")=>{let it=Ye.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(ct=>ct!==","),lt=rt?rt.split(" "):[];return twMerge(...it.concat(lt).filter(ct=>ct!==" "))},O$1=([Ye])=>Ye.charAt(0)!=="$",c$1=Ye=>Ye[P$3]===!0,C$2=Ye=>(rt,...it)=>{let lt=(ct=[])=>{let ut=React.forwardRef((ht,ft)=>{let{$as:pt=Ye,style:mt={},...gt}=ht,yt=c$1(Ye)?Ye:pt,xt=ct?ct.reduce((_t,Ct)=>Object.assign(_t,typeof Ct=="function"?Ct(ht):Ct),{}):{},bt=c$1(yt)?gt:Object.fromEntries(Object.entries(gt).filter(O$1));return React.createElement(yt,{...bt,style:{...xt,...mt},ref:ft,className:S$2(b$2(rt,it.map(_t=>_t({...gt,$as:pt}))),gt.className),...c$1(Ye)?{$as:pt}:{}})});return ut[P$3]=!0,typeof Ye!="string"?ut.displayName=Ye.displayName||Ye.name||"tw.Component":ut.displayName="tw."+Ye,ut.withStyle=ht=>lt(ct.concat(ht)),ut};return lt()},A$1=y$3.reduce((Ye,rt)=>({...Ye,[rt]:C$2(rt)}),{}),h$f=Object.assign(C$2,A$1),F$2=h$f;const getHighlighter=memoizeOne(()=>__vitePreload(()=>import("./highlight-code-oipxrWj7.js"),[],import.meta.url)),HighlightedSegment=React.memo(function({htmlSegment:rt}){return jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:rt}})});function CodeSnippet({wrapperClassName:Ye,codeClassName:rt,language:it,content:lt,shouldWrapCode:ct,removeTopBorderRadius:ut,showActionBar:ht=!0,showStickyRightContent:ft=!0,codeContainerClassName:pt,title:mt}){const gt=reactExports.useRef(null),yt=reactExports.useCallback(Tt=>{Tt.preventDefault(),Tt.stopPropagation();const Mt=window.getSelection()?.toString();Mt&&copyToClipboard(Mt,Tt)},[]),xt=reactExports.useCallback(Tt=>{copyToClipboard(lt,Tt)},[lt]),bt=useIntl(),[_t,Ct]=reactExports.useState(null);reactExports.useEffect(()=>{getHighlighter().then(Tt=>{if(Tt!=null)try{Ct(Tt.highlightCode(lt,it))}catch(Mt){if(!(Mt instanceof Error&&/Unknown language/i.test(Mt.message)))throw Mt}})},[lt,it]);const kt=it==="svg"||(it==="xml"||it==="html")&&isContentSvg(lt),St=reactExports.useMemo(()=>_t?.html.split(/(<span[^>]*>.*?<\/span>)/g).filter(Boolean),[_t?.html]),Rt=kt?jsxRuntimeExports.jsx(PartialSVGImage,{svgString:lt,className:"max-h-96 w-full"}):St&&St.length>0?jsxRuntimeExports.jsx("span",{children:St.map((Tt,Mt)=>jsxRuntimeExports.jsx(HighlightedSegment,{htmlSegment:Tt},Mt))}):_t?.html?jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:_t.html}}):jsxRuntimeExports.jsx("span",{children:lt});return jsxRuntimeExports.jsx(DisplayCodeSnippet,{ref:gt,title:mt??it,shouldWrapCode:ct,stickyTitleRightContent:ft&&jsxRuntimeExports.jsx(CopyButton,{iconClassName:"icon-2xs",iconOnly:!0,buttonText:bt.formatMessage({id:"copyButton.copy",defaultMessage:"Copy code",description:"Button to copy the contents of the code snippet to the clipboard"}),onCopy:xt}),codeClassName:rt,codeContainerClassName:pt,onCopy:yt,className:Ye,removeTopBorderRadius:ut,showActionBar:ht,children:Rt})}function DisplayCodeSnippet({children:Ye,title:rt,stickyTitleRightContent:it,shouldWrapCode:lt=!1,className:ct,codeContainerClassName:ut,codeClassName:ht,ref:ft,onCopy:pt,removeTopBorderRadius:mt,showActionBar:gt=!0}){const yt=useIsDark();return jsxRuntimeExports.jsxs("div",{className:clsx("bg-token-text-code-block-background/10 border-token-input-background relative overflow-clip rounded-lg border contain-inline-size",yt?"dark":"light",ct),"data-theme":yt?"dark":"light",children:[gt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(ActionBar,{$removeTopBorderRadius:mt,children:[jsxRuntimeExports.jsx("div",{className:"min-w-0 truncate",children:rt}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:it})]})}),jsxRuntimeExports.jsx(CodeContainer,{ref:ft,className:ut,children:jsxRuntimeExports.jsx(CodeContent,{$shouldWrap:lt,className:ht,onCopy:pt,children:Ye})})]})}const ActionBar=F$2.div`flex items-center text-token-description-background ps-2 pe-2 py-1 text-sm font-sans justify-between bg-token-side-bar-background select-none ${Ye=>Ye.$removeTopBorderRadius?"":"rounded-t-lg"}`,CodeContainer=function({children:rt,className:it,ref:lt}){return jsxRuntimeExports.jsx("div",{ref:lt,className:clsx("overflow-y-auto p-2 text-sm",it),dir:"ltr",children:rt})},CodeContent=F$2.code`${Ye=>Ye.$shouldWrap?"whitespace-pre-wrap!":"whitespace-pre!"}`;function isContentSvg(Ye){return Ye.trim().startsWith("<svg")}const objectToString$3=Object.prototype.toString;function isInstanceOf(Ye,rt){try{return Ye instanceof rt}catch{return!1}}function isError(Ye){switch(objectToString$3.call(Ye)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(Ye,Error)}}const INITIAL_STATE={componentStack:null,error:null};function setCause(Ye,rt){const it=new WeakMap;function lt(ct,ut){if(!it.has(ct)){if(ct.cause)return it.set(ct,!0),lt(ct.cause,ut);ct.cause=ut}}lt(Ye,rt)}function ProdFallback({resetError:Ye}){const rt=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4",children:[jsxRuntimeExports.jsx(SvgInfo,{className:"icon-lg text-token-error-foreground"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.errorBoundary.genericError",defaultMessage:"Oops, an error has occurred",description:"Generic error message shown when the extension webview fails"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{Ye(),rt("/")},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.errorBoundary.goHome",defaultMessage:"Try again",description:"Button label to navigate to the home page after an error"})})]})}class ErrorBoundary extends reactExports.Component{state;constructor(rt){super(rt),this.state=INITIAL_STATE}componentDidCatch(rt,{componentStack:it}){if(isError(rt)){const lt=new Error(rt.message);lt.name=`React ErrorBoundary ${lt.name}`,lt.stack=it??"",setCause(rt,lt)}this.props.onError&&this.props.onError(rt,it??""),this.setState({error:rt,componentStack:it})}resetErrorBoundary=()=>{const{onReset:rt}=this.props,{error:it,componentStack:lt}=this.state;rt&&rt(it,lt??""),this.setState(INITIAL_STATE)};render(){const{fallback:rt,children:it}=this.props,lt=this.state,ct=rt??(({error:ut,resetError:ht})=>jsxRuntimeExports.jsx(ProdFallback,{resetError:ht}));if(lt.error){let ut;return typeof ct=="function"?ut=ct({error:lt.error,componentStack:lt.componentStack??"",resetError:this.resetErrorBoundary}):ut=ct,reactExports.isValidElement(ut)?ut:null}return typeof it=="function"?it():it}}function computeHighlightChunks(Ye,rt){const it=[...Ye],lt=rt.trim();if(lt.length===0)return it.map(pt=>({text:pt,isMatch:!0}));const ct=Ye.toLowerCase(),ut=lt.toLowerCase(),ht=ct.indexOf(ut);if(ht>=0){const pt=ht,mt=ht+ut.length;return it.map((gt,yt)=>({text:gt,isMatch:yt>=pt&&yt<mt}))}let ft=0;return it.map(pt=>{const mt=ft<ut.length&&pt.toLowerCase()===ut[ft];return mt&&(ft+=1),{text:pt,isMatch:mt}})}var U$2=1,Y$2=.9,H$1=.8,J$2=.17,p$1=.1,u$1=.999,$$2=.9999,k$3=.99,m$2=/[\\\/_+.#"@\[\(\{&]/,B$3=/[\\\/_+.#"@\[\(\{&]/g,K$3=/[\s-]/,X$2=/[\s-]/g;function G$2(Ye,rt,it,lt,ct,ut,ht){if(ut===rt.length)return ct===Ye.length?U$2:k$3;var ft=`${ct},${ut}`;if(ht[ft]!==void 0)return ht[ft];for(var pt=lt.charAt(ut),mt=it.indexOf(pt,ct),gt=0,yt,xt,bt,_t;mt>=0;)yt=G$2(Ye,rt,it,lt,mt+1,ut+1,ht),yt>gt&&(mt===ct?yt*=U$2:m$2.test(Ye.charAt(mt-1))?(yt*=H$1,bt=Ye.slice(ct,mt-1).match(B$3),bt&&ct>0&&(yt*=Math.pow(u$1,bt.length))):K$3.test(Ye.charAt(mt-1))?(yt*=Y$2,_t=Ye.slice(ct,mt-1).match(X$2),_t&&ct>0&&(yt*=Math.pow(u$1,_t.length))):(yt*=J$2,ct>0&&(yt*=Math.pow(u$1,mt-ct))),Ye.charAt(mt)!==rt.charAt(ut)&&(yt*=$$2)),(yt<p$1&&it.charAt(mt-1)===lt.charAt(ut+1)||lt.charAt(ut+1)===lt.charAt(ut)&&it.charAt(mt-1)!==lt.charAt(ut))&&(xt=G$2(Ye,rt,it,lt,mt+1,ut+2,ht),xt*p$1>yt&&(yt=xt*p$1)),yt>gt&&(gt=yt),mt=it.indexOf(pt,mt+1);return ht[ft]=gt,gt}function D$2(Ye){return Ye.toLowerCase().replace(X$2," ")}function W$2(Ye,rt,it){return Ye=it&&it.length>0?`${Ye+" "+it.join(" ")}`:Ye,G$2(Ye,rt,D$2(Ye),D$2(rt),0,0,{})}var DIALOG_NAME="Dialog",[createDialogContext]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=Ye=>{const{__scopeDialog:rt,children:it,open:lt,defaultOpen:ct,onOpenChange:ut,modal:ht=!0}=Ye,ft=reactExports.useRef(null),pt=reactExports.useRef(null),[mt,gt]=useControllableState({prop:lt,defaultProp:ct??!1,onChange:ut,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:rt,triggerRef:ft,contentRef:pt,contentId:useId$1(),titleId:useId$1(),descriptionId:useId$1(),open:mt,onOpenChange:gt,onOpenToggle:reactExports.useCallback(()=>gt(yt=>!yt),[gt]),modal:ht,children:it})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,...lt}=Ye,ct=useDialogContext(TRIGGER_NAME,it),ut=useComposedRefs(rt,ct.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":ct.open,"aria-controls":ct.contentId,"data-state":getState(ct.open),...lt,ref:ut,onClick:composeEventHandlers(Ye.onClick,ct.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal=Ye=>{const{__scopeDialog:rt,forceMount:it,children:lt,container:ct}=Ye,ut=useDialogContext(PORTAL_NAME,rt);return jsxRuntimeExports.jsx(PortalProvider,{scope:rt,forceMount:it,children:reactExports.Children.map(lt,ht=>jsxRuntimeExports.jsx(Presence,{present:it||ut.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:ct,children:ht})}))})};DialogPortal.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay=reactExports.forwardRef((Ye,rt)=>{const it=usePortalContext(OVERLAY_NAME,Ye.__scopeDialog),{forceMount:lt=it.forceMount,...ct}=Ye,ut=useDialogContext(OVERLAY_NAME,Ye.__scopeDialog);return ut.modal?jsxRuntimeExports.jsx(Presence,{present:lt||ut.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...ct,ref:rt})}):null});DialogOverlay.displayName=OVERLAY_NAME;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,...lt}=Ye,ct=useDialogContext(OVERLAY_NAME,it);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[ct.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(ct.open),...lt,ref:rt,style:{pointerEvents:"auto",...lt.style}})})}),CONTENT_NAME="DialogContent",DialogContent$1=reactExports.forwardRef((Ye,rt)=>{const it=usePortalContext(CONTENT_NAME,Ye.__scopeDialog),{forceMount:lt=it.forceMount,...ct}=Ye,ut=useDialogContext(CONTENT_NAME,Ye.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:lt||ut.open,children:ut.modal?jsxRuntimeExports.jsx(DialogContentModal,{...ct,ref:rt}):jsxRuntimeExports.jsx(DialogContentNonModal,{...ct,ref:rt})})});DialogContent$1.displayName=CONTENT_NAME;var DialogContentModal=reactExports.forwardRef((Ye,rt)=>{const it=useDialogContext(CONTENT_NAME,Ye.__scopeDialog),lt=reactExports.useRef(null),ct=useComposedRefs(rt,it.contentRef,lt);return reactExports.useEffect(()=>{const ut=lt.current;if(ut)return hideOthers(ut)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...Ye,ref:ct,trapFocus:it.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(Ye.onCloseAutoFocus,ut=>{ut.preventDefault(),it.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(Ye.onPointerDownOutside,ut=>{const ht=ut.detail.originalEvent,ft=ht.button===0&&ht.ctrlKey===!0;(ht.button===2||ft)&&ut.preventDefault()}),onFocusOutside:composeEventHandlers(Ye.onFocusOutside,ut=>ut.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((Ye,rt)=>{const it=useDialogContext(CONTENT_NAME,Ye.__scopeDialog),lt=reactExports.useRef(!1),ct=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...Ye,ref:rt,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:ut=>{Ye.onCloseAutoFocus?.(ut),ut.defaultPrevented||(lt.current||it.triggerRef.current?.focus(),ut.preventDefault()),lt.current=!1,ct.current=!1},onInteractOutside:ut=>{Ye.onInteractOutside?.(ut),ut.defaultPrevented||(lt.current=!0,ut.detail.originalEvent.type==="pointerdown"&&(ct.current=!0));const ht=ut.target;it.triggerRef.current?.contains(ht)&&ut.preventDefault(),ut.detail.originalEvent.type==="focusin"&&ct.current&&ut.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,trapFocus:lt,onOpenAutoFocus:ct,onCloseAutoFocus:ut,...ht}=Ye,ft=useDialogContext(CONTENT_NAME,it),pt=reactExports.useRef(null),mt=useComposedRefs(rt,pt);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:lt,onMountAutoFocus:ct,onUnmountAutoFocus:ut,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:ft.contentId,"aria-describedby":ft.descriptionId,"aria-labelledby":ft.titleId,"data-state":getState(ft.open),...ht,ref:mt,onDismiss:()=>ft.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:ft.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:pt,descriptionId:ft.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,...lt}=Ye,ct=useDialogContext(TITLE_NAME,it);return jsxRuntimeExports.jsx(Primitive.h2,{id:ct.titleId,...lt,ref:rt})});DialogTitle.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,...lt}=Ye,ct=useDialogContext(DESCRIPTION_NAME,it);return jsxRuntimeExports.jsx(Primitive.p,{id:ct.descriptionId,...lt,ref:rt})});DialogDescription.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((Ye,rt)=>{const{__scopeDialog:it,...lt}=Ye,ct=useDialogContext(CLOSE_NAME,it);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...lt,ref:rt,onClick:composeEventHandlers(Ye.onClick,()=>ct.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(Ye){return Ye?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:Ye})=>{const rt=useWarningContext(TITLE_WARNING_NAME),it=`\`${rt.contentName}\` requires a \`${rt.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${rt.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${rt.docsSlug}`;return reactExports.useEffect(()=>{Ye&&(document.getElementById(Ye)||console.error(it))},[it,Ye]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:Ye,descriptionId:rt})=>{const lt=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const ct=Ye.current?.getAttribute("aria-describedby");rt&&ct&&(document.getElementById(rt)||console.warn(lt))},[lt,Ye,rt]),null},Root=Dialog$1,Trigger=DialogTrigger$1,Portal=DialogPortal,Overlay=DialogOverlay,Content=DialogContent$1,Close=DialogClose,N$2='[cmdk-group=""]',Y$1='[cmdk-group-items=""]',be$1='[cmdk-group-heading=""]',le$1='[cmdk-item=""]',ce$1=`${le$1}:not([aria-disabled="true"])`,Z$1="cmdk-item-select",T$2="data-value",Re$1=(Ye,rt,it)=>W$2(Ye,rt,it),ue$1=reactExports.createContext(void 0),K$2=()=>reactExports.useContext(ue$1),de$1=reactExports.createContext(void 0),ee=()=>reactExports.useContext(de$1),fe$1=reactExports.createContext(void 0),me$1=reactExports.forwardRef((Ye,rt)=>{let it=L$2(()=>{var Xt,Bt;return{search:"",value:(Bt=(Xt=Ye.value)!=null?Xt:Ye.defaultValue)!=null?Bt:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),lt=L$2(()=>new Set),ct=L$2(()=>new Map),ut=L$2(()=>new Map),ht=L$2(()=>new Set),ft=pe$1(Ye),{label:pt,children:mt,value:gt,onValueChange:yt,filter:xt,shouldFilter:bt,loop:_t,disablePointerSelection:Ct=!1,vimBindings:kt=!0,...St}=Ye,Rt=useId$1(),Tt=useId$1(),Mt=useId$1(),Pt=reactExports.useRef(null),It=ke$1();k$2(()=>{if(gt!==void 0){let Xt=gt.trim();it.current.value=Xt,Lt.emit()}},[gt]),k$2(()=>{It(6,Qt)},[]);let Lt=reactExports.useMemo(()=>({subscribe:Xt=>(ht.current.add(Xt),()=>ht.current.delete(Xt)),snapshot:()=>it.current,setState:(Xt,Bt,nr)=>{var rr,Jt,ir,ar;if(!Object.is(it.current[Xt],Bt)){if(it.current[Xt]=Bt,Xt==="search")Kt(),Ut(),It(1,Wt);else if(Xt==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let cr=document.getElementById(Mt);cr?cr.focus():(rr=document.getElementById(Rt))==null||rr.focus()}if(It(7,()=>{var cr;it.current.selectedItemId=(cr=Zt())==null?void 0:cr.id,Lt.emit()}),nr||It(5,Qt),((Jt=ft.current)==null?void 0:Jt.value)!==void 0){let cr=Bt??"";(ar=(ir=ft.current).onValueChange)==null||ar.call(ir,cr);return}}Lt.emit()}},emit:()=>{ht.current.forEach(Xt=>Xt())}}),[]),Ot=reactExports.useMemo(()=>({value:(Xt,Bt,nr)=>{var rr;Bt!==((rr=ut.current.get(Xt))==null?void 0:rr.value)&&(ut.current.set(Xt,{value:Bt,keywords:nr}),it.current.filtered.items.set(Xt,Ft(Bt,nr)),It(2,()=>{Ut(),Lt.emit()}))},item:(Xt,Bt)=>(lt.current.add(Xt),Bt&&(ct.current.has(Bt)?ct.current.get(Bt).add(Xt):ct.current.set(Bt,new Set([Xt]))),It(3,()=>{Kt(),Ut(),it.current.value||Wt(),Lt.emit()}),()=>{ut.current.delete(Xt),lt.current.delete(Xt),it.current.filtered.items.delete(Xt);let nr=Zt();It(4,()=>{Kt(),nr?.getAttribute("id")===Xt&&Wt(),Lt.emit()})}),group:Xt=>(ct.current.has(Xt)||ct.current.set(Xt,new Set),()=>{ut.current.delete(Xt),ct.current.delete(Xt)}),filter:()=>ft.current.shouldFilter,label:pt||Ye["aria-label"],getDisablePointerSelection:()=>ft.current.disablePointerSelection,listId:Rt,inputId:Mt,labelId:Tt,listInnerRef:Pt}),[]);function Ft(Xt,Bt){var nr,rr;let Jt=(rr=(nr=ft.current)==null?void 0:nr.filter)!=null?rr:Re$1;return Xt?Jt(Xt,it.current.search,Bt):0}function Ut(){if(!it.current.search||ft.current.shouldFilter===!1)return;let Xt=it.current.filtered.items,Bt=[];it.current.filtered.groups.forEach(rr=>{let Jt=ct.current.get(rr),ir=0;Jt.forEach(ar=>{let cr=Xt.get(ar);ir=Math.max(cr,ir)}),Bt.push([rr,ir])});let nr=Pt.current;Vt().sort((rr,Jt)=>{var ir,ar;let cr=rr.getAttribute("id"),dr=Jt.getAttribute("id");return((ir=Xt.get(dr))!=null?ir:0)-((ar=Xt.get(cr))!=null?ar:0)}).forEach(rr=>{let Jt=rr.closest(Y$1);Jt?Jt.appendChild(rr.parentElement===Jt?rr:rr.closest(`${Y$1} > *`)):nr.appendChild(rr.parentElement===nr?rr:rr.closest(`${Y$1} > *`))}),Bt.sort((rr,Jt)=>Jt[1]-rr[1]).forEach(rr=>{var Jt;let ir=(Jt=Pt.current)==null?void 0:Jt.querySelector(`${N$2}[${T$2}="${encodeURIComponent(rr[0])}"]`);ir?.parentElement.appendChild(ir)})}function Wt(){let Xt=Vt().find(nr=>nr.getAttribute("aria-disabled")!=="true"),Bt=Xt?.getAttribute(T$2);Lt.setState("value",Bt||void 0)}function Kt(){var Xt,Bt,nr,rr;if(!it.current.search||ft.current.shouldFilter===!1){it.current.filtered.count=lt.current.size;return}it.current.filtered.groups=new Set;let Jt=0;for(let ir of lt.current){let ar=(Bt=(Xt=ut.current.get(ir))==null?void 0:Xt.value)!=null?Bt:"",cr=(rr=(nr=ut.current.get(ir))==null?void 0:nr.keywords)!=null?rr:[],dr=Ft(ar,cr);it.current.filtered.items.set(ir,dr),dr>0&&Jt++}for(let[ir,ar]of ct.current)for(let cr of ar)if(it.current.filtered.items.get(cr)>0){it.current.filtered.groups.add(ir);break}it.current.filtered.count=Jt}function Qt(){var Xt,Bt,nr;let rr=Zt();rr&&(((Xt=rr.parentElement)==null?void 0:Xt.firstChild)===rr&&((nr=(Bt=rr.closest(N$2))==null?void 0:Bt.querySelector(be$1))==null||nr.scrollIntoView({block:"nearest"})),rr.scrollIntoView({block:"nearest"}))}function Zt(){var Xt;return(Xt=Pt.current)==null?void 0:Xt.querySelector(`${le$1}[aria-selected="true"]`)}function Vt(){var Xt;return Array.from(((Xt=Pt.current)==null?void 0:Xt.querySelectorAll(ce$1))||[])}function $t(Xt){let Bt=Vt()[Xt];Bt&&Lt.setState("value",Bt.getAttribute(T$2))}function zt(Xt){var Bt;let nr=Zt(),rr=Vt(),Jt=rr.findIndex(ar=>ar===nr),ir=rr[Jt+Xt];(Bt=ft.current)!=null&&Bt.loop&&(ir=Jt+Xt<0?rr[rr.length-1]:Jt+Xt===rr.length?rr[0]:rr[Jt+Xt]),ir&&Lt.setState("value",ir.getAttribute(T$2))}function Nt(Xt){let Bt=Zt(),nr=Bt?.closest(N$2),rr;for(;nr&&!rr;)nr=Xt>0?we$1(nr,N$2):De$1(nr,N$2),rr=nr?.querySelector(ce$1);rr?Lt.setState("value",rr.getAttribute(T$2)):zt(Xt)}let qt=()=>$t(Vt().length-1),Gt=Xt=>{Xt.preventDefault(),Xt.metaKey?qt():Xt.altKey?Nt(1):zt(1)},Ht=Xt=>{Xt.preventDefault(),Xt.metaKey?$t(0):Xt.altKey?Nt(-1):zt(-1)};return reactExports.createElement(Primitive.div,{ref:rt,tabIndex:-1,...St,"cmdk-root":"",onKeyDown:Xt=>{var Bt;(Bt=St.onKeyDown)==null||Bt.call(St,Xt);let nr=Xt.nativeEvent.isComposing||Xt.keyCode===229;if(!(Xt.defaultPrevented||nr))switch(Xt.key){case"n":case"j":{kt&&Xt.ctrlKey&&Gt(Xt);break}case"ArrowDown":{Gt(Xt);break}case"p":case"k":{kt&&Xt.ctrlKey&&Ht(Xt);break}case"ArrowUp":{Ht(Xt);break}case"Home":{Xt.preventDefault(),$t(0);break}case"End":{Xt.preventDefault(),qt();break}case"Enter":{Xt.preventDefault();let rr=Zt();if(rr){let Jt=new Event(Z$1);rr.dispatchEvent(Jt)}}}}},reactExports.createElement("label",{"cmdk-label":"",htmlFor:Ot.inputId,id:Ot.labelId,style:Te$1},pt),B$2(Ye,Xt=>reactExports.createElement(de$1.Provider,{value:Lt},reactExports.createElement(ue$1.Provider,{value:Ot},Xt))))}),he$1=reactExports.forwardRef((Ye,rt)=>{var it,lt;let ct=useId$1(),ut=reactExports.useRef(null),ht=reactExports.useContext(fe$1),ft=K$2(),pt=pe$1(Ye),mt=(lt=(it=pt.current)==null?void 0:it.forceMount)!=null?lt:ht?.forceMount;k$2(()=>{if(!mt)return ft.item(ct,ht?.id)},[mt]);let gt=ve$1(ct,ut,[Ye.value,Ye.children,ut],Ye.keywords),yt=ee(),xt=P$2(It=>It.value&&It.value===gt.current),bt=P$2(It=>mt||ft.filter()===!1?!0:It.search?It.filtered.items.get(ct)>0:!0);reactExports.useEffect(()=>{let It=ut.current;if(!(!It||Ye.disabled))return It.addEventListener(Z$1,_t),()=>It.removeEventListener(Z$1,_t)},[bt,Ye.onSelect,Ye.disabled]);function _t(){var It,Lt;Ct(),(Lt=(It=pt.current).onSelect)==null||Lt.call(It,gt.current)}function Ct(){yt.setState("value",gt.current,!0)}if(!bt)return null;let{disabled:kt,value:St,onSelect:Rt,forceMount:Tt,keywords:Mt,...Pt}=Ye;return reactExports.createElement(Primitive.div,{ref:composeRefs(ut,rt),...Pt,id:ct,"cmdk-item":"",role:"option","aria-disabled":!!kt,"aria-selected":!!xt,"data-disabled":!!kt,"data-selected":!!xt,onPointerMove:kt||ft.getDisablePointerSelection()?void 0:Ct,onClick:kt?void 0:_t},Ye.children)}),Ee$1=reactExports.forwardRef((Ye,rt)=>{let{heading:it,children:lt,forceMount:ct,...ut}=Ye,ht=useId$1(),ft=reactExports.useRef(null),pt=reactExports.useRef(null),mt=useId$1(),gt=K$2(),yt=P$2(bt=>ct||gt.filter()===!1?!0:bt.search?bt.filtered.groups.has(ht):!0);k$2(()=>gt.group(ht),[]),ve$1(ht,ft,[Ye.value,Ye.heading,pt]);let xt=reactExports.useMemo(()=>({id:ht,forceMount:ct}),[ct]);return reactExports.createElement(Primitive.div,{ref:composeRefs(ft,rt),...ut,"cmdk-group":"",role:"presentation",hidden:yt?void 0:!0},it&&reactExports.createElement("div",{ref:pt,"cmdk-group-heading":"","aria-hidden":!0,id:mt},it),B$2(Ye,bt=>reactExports.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":it?mt:void 0},reactExports.createElement(fe$1.Provider,{value:xt},bt))))}),ye$1=reactExports.forwardRef((Ye,rt)=>{let{alwaysRender:it,...lt}=Ye,ct=reactExports.useRef(null),ut=P$2(ht=>!ht.search);return!it&&!ut?null:reactExports.createElement(Primitive.div,{ref:composeRefs(ct,rt),...lt,"cmdk-separator":"",role:"separator"})}),Se$1=reactExports.forwardRef((Ye,rt)=>{let{onValueChange:it,...lt}=Ye,ct=Ye.value!=null,ut=ee(),ht=P$2(mt=>mt.search),ft=P$2(mt=>mt.selectedItemId),pt=K$2();return reactExports.useEffect(()=>{Ye.value!=null&&ut.setState("search",Ye.value)},[Ye.value]),reactExports.createElement(Primitive.input,{ref:rt,...lt,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":pt.listId,"aria-labelledby":pt.labelId,"aria-activedescendant":ft,id:pt.inputId,type:"text",value:ct?Ye.value:ht,onChange:mt=>{ct||ut.setState("search",mt.target.value),it?.(mt.target.value)}})}),Ce$1=reactExports.forwardRef((Ye,rt)=>{let{children:it,label:lt="Suggestions",...ct}=Ye,ut=reactExports.useRef(null),ht=reactExports.useRef(null),ft=P$2(mt=>mt.selectedItemId),pt=K$2();return reactExports.useEffect(()=>{if(ht.current&&ut.current){let mt=ht.current,gt=ut.current,yt,xt=new ResizeObserver(()=>{yt=requestAnimationFrame(()=>{let bt=mt.offsetHeight;gt.style.setProperty("--cmdk-list-height",bt.toFixed(1)+"px")})});return xt.observe(mt),()=>{cancelAnimationFrame(yt),xt.unobserve(mt)}}},[]),reactExports.createElement(Primitive.div,{ref:composeRefs(ut,rt),...ct,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":ft,"aria-label":lt,id:pt.listId},B$2(Ye,mt=>reactExports.createElement("div",{ref:composeRefs(ht,pt.listInnerRef),"cmdk-list-sizer":""},mt)))}),xe=reactExports.forwardRef((Ye,rt)=>{let{open:it,onOpenChange:lt,overlayClassName:ct,contentClassName:ut,container:ht,...ft}=Ye;return reactExports.createElement(Root,{open:it,onOpenChange:lt},reactExports.createElement(Portal,{container:ht},reactExports.createElement(Overlay,{"cmdk-overlay":"",className:ct}),reactExports.createElement(Content,{"aria-label":Ye.label,"cmdk-dialog":"",className:ut},reactExports.createElement(me$1,{ref:rt,...ft}))))}),Ie$1=reactExports.forwardRef((Ye,rt)=>P$2(it=>it.filtered.count===0)?reactExports.createElement(Primitive.div,{ref:rt,...Ye,"cmdk-empty":"",role:"presentation"}):null),Pe$1=reactExports.forwardRef((Ye,rt)=>{let{progress:it,children:lt,label:ct="Loading...",...ut}=Ye;return reactExports.createElement(Primitive.div,{ref:rt,...ut,"cmdk-loading":"",role:"progressbar","aria-valuenow":it,"aria-valuemin":0,"aria-valuemax":100,"aria-label":ct},B$2(Ye,ht=>reactExports.createElement("div",{"aria-hidden":!0},ht)))}),_e$1=Object.assign(me$1,{List:Ce$1,Item:he$1,Input:Se$1,Group:Ee$1,Separator:ye$1,Dialog:xe,Empty:Ie$1,Loading:Pe$1});function we$1(Ye,rt){let it=Ye.nextElementSibling;for(;it;){if(it.matches(rt))return it;it=it.nextElementSibling}}function De$1(Ye,rt){let it=Ye.previousElementSibling;for(;it;){if(it.matches(rt))return it;it=it.previousElementSibling}}function pe$1(Ye){let rt=reactExports.useRef(Ye);return k$2(()=>{rt.current=Ye}),rt}var k$2=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function L$2(Ye){let rt=reactExports.useRef();return rt.current===void 0&&(rt.current=Ye()),rt}function P$2(Ye){let rt=ee(),it=()=>Ye(rt.snapshot());return reactExports.useSyncExternalStore(rt.subscribe,it,it)}function ve$1(Ye,rt,it,lt=[]){let ct=reactExports.useRef(),ut=K$2();return k$2(()=>{var ht;let ft=(()=>{var mt;for(let gt of it){if(typeof gt=="string")return gt.trim();if(typeof gt=="object"&&"current"in gt)return gt.current?(mt=gt.current.textContent)==null?void 0:mt.trim():ct.current}})(),pt=lt.map(mt=>mt.trim());ut.value(Ye,ft,pt),(ht=rt.current)==null||ht.setAttribute(T$2,ft),ct.current=ft}),ct}var ke$1=()=>{let[Ye,rt]=reactExports.useState(),it=L$2(()=>new Map);return k$2(()=>{it.current.forEach(lt=>lt()),it.current=new Map},[Ye]),(lt,ct)=>{it.current.set(lt,ct),rt({})}};function Me$1(Ye){let rt=Ye.type;return typeof rt=="function"?rt(Ye.props):"render"in rt?rt.render(Ye.props):Ye}function B$2({asChild:Ye,children:rt},it){return Ye&&reactExports.isValidElement(rt)?reactExports.cloneElement(Me$1(rt),{ref:rt.ref},it(rt.props.children)):it(rt)}var Te$1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function SlashCommandItem({title:Ye,description:rt,LeftIcon:it,RightIcon:lt,...ct}){const ut=P$2(ft=>ft.search),ht=reactExports.useMemo(()=>computeHighlightChunks(Ye,ut),[ut,Ye]);return jsxRuntimeExports.jsx(_e$1.Item,{...ct,children:jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center gap-1",children:[it?jsxRuntimeExports.jsx(it,{className:"icon-2xs shrink-0"}):null,jsxRuntimeExports.jsx("div",{className:clsx("truncate",rt?"max-w-[60%] flex-none":"min-w-0 flex-1"),children:ht.map((ft,pt)=>jsxRuntimeExports.jsx("span",{className:clsx(!ft.isMatch&&"text-token-description-foreground"),children:ft.text},pt))}),rt?jsxRuntimeExports.jsx("span",{className:clsx("text-token-description-foreground min-w-0 flex-1 truncate text-sm"),children:rt}):null,lt?jsxRuntimeExports.jsx(lt,{className:"icon-2xs shrink-0"}):null]})})}function ReviewModePanel({onSelectUnstaged:Ye,onSelectBaseBranch:rt,isSubmitting:it}){const lt=useIntl();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SlashCommandItem,{value:"base-branch",title:lt.formatMessage({id:"composer.reviewMode.option.baseBranch.simple",defaultMessage:"Review against a base branch",description:"Button label for reviewing against a base branch"}),onSelect:rt}),jsxRuntimeExports.jsx(SlashCommandItem,{value:"unstaged",title:lt.formatMessage({id:"composer.reviewMode.option.unstaged.simple",defaultMessage:"Review uncommitted changes",description:"Button label for reviewing unstaged changes"}),onSelect:Ye,RightIcon:it?Spinner:void 0})]})}function ReviewBaseBranchPanel({onSelect:Ye,branchLines:rt,isLoading:it,isError:lt,refetchBranchOverview:ct,submittingBranchName:ut}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:it?jsxRuntimeExports.jsx("div",{className:"text-token-foreground/70 flex items-center justify-center gap-2 py-4 text-xs",children:jsxRuntimeExports.jsx(Spinner,{className:"size-3"})}):lt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 py-2",children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground/70 text-center text-xs",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.reviewMode.branches.error",defaultMessage:"Unable to load branches",description:"Error message when branch list could not be loaded"})}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-text-link-foreground text-xs font-medium",onClick:ct,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.reviewMode.branches.retry",defaultMessage:"Retry",description:"Retry button for branch list error"})})]}):rt.map(ht=>jsxRuntimeExports.jsx(SlashCommandItem,{value:ht.label,title:ht.label,onSelect:Ye,RightIcon:ut===ht.key?Spinner:void 0},ht.key))})}const codeReviewSystemPrompt=`# Review guidelines:

You are acting as a reviewer for a proposed code change made by another engineer.

Below are some default guidelines for determining whether the original author would appreciate the issue being flagged.

These are not the final word in determining whether an issue is a bug. In many cases, you will encounter other, more specific guidelines. These may be present elsewhere in a developer message, a user message, a file, or even elsewhere in this system message.
Those guidelines should be considered to override these general instructions.

Here are the general guidelines for determining whether something is a bug and should be flagged.

1. It meaningfully impacts the accuracy, performance, security, or maintainability of the code.
2. The bug is discrete and actionable (i.e. not a general issue with the codebase or a combination of multiple issues).
3. Fixing the bug does not demand a level of rigor that is not present in the rest of the codebase (e.g. one doesn't need very detailed comments and input validation in a repository of one-off scripts in personal projects)
4. The bug was introduced in the commit (pre-existing bugs should not be flagged).
5. The author of the original PR would likely fix the issue if they were made aware of it.
6. The bug does not rely on unstated assumptions about the codebase or author's intent.
7. It is not enough to speculate that a change may disrupt another part of the codebase, to be considered a bug, one must identify the other parts of the code that are provably affected.
8. The bug is clearly not just an intentional change by the original author.

When flagging a bug, you will also provide an accompanying comment. Once again, these guidelines are not the final word on how to construct a comment -- defer to any subsequent guidelines that you encounter.

1. The comment should be clear about why the issue is a bug.
2. The comment should appropriately communicate the severity of the issue. It should not claim that an issue is more severe than it actually is.
3. The comment should be brief. The body should be at most 1 paragraph. It should not introduce line breaks within the natural language flow unless it is necessary for the code fragment.
4. The comment should not include any chunks of code longer than 3 lines. Any code chunks should be wrapped in markdown inline code tags or a code block.
5. The comment should clearly and explicitly communicate the scenarios, environments, or inputs that are necessary for the bug to arise. The comment should immediately indicate that the issue's severity depends on these factors.
6. The comment's tone should be matter-of-fact and not accusatory or overly positive. It should read as a helpful AI assistant suggestion without sounding too much like a human reviewer.
7. The comment should be written such that the original author can immediately grasp the idea without close reading.
8. The comment should avoid excessive flattery and comments that are not helpful to the original author. The comment should avoid phrasing like "Great job ...", "Thanks for ...".

Below are some more detailed guidelines that you should apply to this specific review.

HOW MANY FINDINGS TO RETURN:

Output all findings that the original author would fix if they knew about it. If there is no finding that a person would definitely love to see and fix, prefer outputting no findings. Do not stop at the first qualifying finding. Continue until you've listed every qualifying finding.

GUIDELINES:

- Ignore trivial style unless it obscures meaning or violates documented standards.
- Use one comment per distinct issue (or a multi-line range if necessary).
- Use \`\`\`suggestion blocks ONLY for concrete replacement code (minimal lines; no commentary inside the block).
- In every \`\`\`suggestion block, preserve the exact leading whitespace of the replaced lines (spaces vs tabs, number of spaces).
- Do NOT introduce or remove outer indentation levels unless that is the actual fix.

The comments will be presented in the code review as inline comments. You should avoid providing unnecessary location details in the comment body. Always keep the line range as short as possible for interpreting the issue. Avoid ranges longer than 510 lines; instead, choose the most suitable subrange that pinpoints the problem.

At the beginning of the finding title, tag the bug with priority level. For example "[P1] Un-padding slices along wrong tensor dimensions". [P0]  Drop everything to fix. Blocking release, operations, or major usage. Only use for universal issues that do not depend on any assumptions about the inputs.  [P1]  Urgent. Should be addressed in the next cycle  [P2]  Normal. To be fixed eventually  [P3]  Low. Nice to have.

Additionally, include a numeric priority field in the JSON output for each finding: set "priority" to 0 for P0, 1 for P1, 2 for P2, or 3 for P3. If a priority cannot be determined, omit the field or use null.

At the end of your findings, output an "overall correctness" verdict of whether or not the patch should be considered "correct".
Correct implies that existing code and tests will not break, and the patch is free of bugs and other blocking issues.
Ignore non-blocking issues such as style, formatting, typos, documentation, and other nits.

FORMATTING GUIDELINES:
The finding description should be one paragraph.

OUTPUT FORMAT:

## Output schema  MUST MATCH _exactly_

\`\`\`json
{
  "findings": [
    {
      "title": "< 80 chars, imperative>",
      "body": "<valid Markdown explaining *why* this is a problem; cite files/lines/functions>",
      "confidence_score": <float 0.0-1.0>,
      "priority": <int 0-3, optional>,
      "code_location": {
        "absolute_file_path": "<file path>",
        "line_range": {"start": <int>, "end": <int>}
      }
    }
  ],
  "overall_correctness": "patch is correct" | "patch is incorrect",
  "overall_explanation": "<1-3 sentence explanation justifying the overall_correctness verdict>",
  "overall_confidence_score": <float 0.0-1.0>
}
\`\`\`

- **Do not** wrap the JSON in markdown fences or extra prose.
- The code_location field is required and must include absolute_file_path and line_range.
  \\*Line ranges must be as short as possible for interpreting the issue (avoid ranges over 510 lines; pick the most suitable subrange).
- The code_location should overlap with the diff.
- Do not generate a PR fix.
- Your **initial** response to the user must always use the JSON schema above.
- After the initial response, choose the format based on the user's request:
  - If they explicitly ask for another review ("re-review", "rerun the review", etc.), return the findings in the exact JSON schema again.
  - If they ask you to fix something, answer follow-up questions, or otherwise request non-review help, respond in plain text (no JSON or schema output).
- All review instructions apply to the overall code review conversation. Continue following the guidelines in every response, only switching between JSON and plain text as described above.
`,CODE_REVIEW_PROMPT_TEMPLATE_WITH_COMMIT="Review the code changes against the base branch '{baseBranch}'. The merge base commit for this comparison is {mergeBaseSha}. Run `git diff {mergeBaseSha}` to inspect the changes relative to {baseBranch}. Provide prioritized, actionable findings.",CODE_REVIEW_UNCOMMITTED_PROMPT="Review the current code changes (staged, unstaged, and untracked files) and provide prioritized findings.";function buildCodeReviewPrompt({baseBranch:Ye,mergeBaseSha:rt,requestMessage:it}){const lt=codeReviewSystemPrompt.trim(),ct=rt.trim(),ht=CODE_REVIEW_PROMPT_TEMPLATE_WITH_COMMIT.replaceAll("{baseBranch}",Ye).replaceAll("{mergeBaseSha}",ct).trim();return[CODE_REVIEW_BEGIN,lt,ht,PROMPT_REQUEST_BEGIN,it].join(`
`)}function buildInstructionsForUncommittedChanges({requestMessage:Ye}){const rt=codeReviewSystemPrompt.trim();return[CODE_REVIEW_BEGIN,rt,CODE_REVIEW_UNCOMMITTED_PROMPT,PROMPT_REQUEST_BEGIN,Ye].join(`
`)}function useStartCodeReviewConversation({onError:Ye,onSuccess:rt}){const it=useIntl(),lt=useAppServerManager();return useMutation({mutationFn:async({context:ct})=>{const ht=(await fetchFromVSCode("active-workspace-roots")).roots??[],ft=ct.gitRoot,pt=uniq([ft,...ht]);if(ct.mode==="uncommitted"){const bt=it.formatMessage({id:"quickAction.request.codeReview.uncommitted.new",defaultMessage:"Please review my uncommitted changes",description:"User message used when reviewing uncommitted changes (new conversation)"}),_t=buildInstructionsForUncommittedChanges({requestMessage:bt});return await lt.startConversation({input:[{type:"text",data:{text:_t}}],workspaceRoots:pt,model:DEFAULT_CODE_REVIEW_MODEL,reasoningEffort:DEFAULT_CODE_REVIEW_REASONING_EFFORT})}const mt=await fetchFromVSCode("git-merge-base",{params:{gitRoot:ft,baseBranch:ct.baseBranch}});if(!mt.mergeBaseSha)throw new Error(`Failed to resolve a merge base between HEAD and ${ct.baseBranch}.`);const gt=it.formatMessage({id:"quickAction.request.codeReview.branches.new",defaultMessage:"Please review changes on {from} against {to}",description:"User message used when reviewing against a base branch (new conversation)"},{from:ct.sourceBranch,to:ct.baseBranch}),yt=buildCodeReviewPrompt({baseBranch:ct.baseBranch,mergeBaseSha:mt.mergeBaseSha,requestMessage:gt});return await lt.startConversation({input:[{type:"text",data:{text:yt}}],workspaceRoots:pt,model:DEFAULT_CODE_REVIEW_MODEL,reasoningEffort:DEFAULT_CODE_REVIEW_REASONING_EFFORT})},onSuccess:ct=>{rt(ct)},onError:ct=>{logger.error(`Failed to start quick review conversation: ${maybeErrorToString(ct)}`),Ye(ct)}})}async function startFixConversation({finding:Ye,mcpManager:rt,modelSettings:it}){const ct=(await fetchFromVSCode("active-workspace-roots")).roots??[];if(!ct.length)throw new Error("Cannot start fix conversation without a workspace root");return rt.startConversation({input:[{type:"text",data:{text:["Please fix the following code review finding:",`# ${Ye.title}`,Ye.body,"### Location:",`${Ye.code_location.absolute_file_path}:${Ye.code_location.line_range.start}-${Ye.code_location.line_range.end}`].join(`
`)}}],workspaceRoots:ct,model:it.model,reasoningEffort:it.reasoningEffort})}function useProductEvents(){const{logEventWithStatsig:Ye}=useStatsigEventLogger();return reactExports.useCallback(rt=>{const it="metadata"in rt?rt.metadata:void 0;Ye(rt.eventName,it)},[Ye])}function ReviewModeContent({onItemsChanged:Ye,onClose:rt}){const it=useIntl(),[lt,ct]=reactExports.useState({status:"choose-target"}),ut=useToaster(),ht=useNavigateToLocalConversation(),[ft,pt]=reactExports.useState(null),mt=useProductEvents(),{data:gt}=useFetchFromVSCode("git-roots",{select:It=>It.roots[0]}),{data:yt}=useFetchFromVSCode("git-current-branch",{params:{gitRoot:gt??""},queryConfig:{enabled:gt!=null&&gt!=="",staleTime:3e4}}),{data:xt,isLoading:bt,isError:_t,refetch:Ct}=useFetchFromVSCode("git-branch-overview",{params:{gitRoot:gt??"",recentBranchesLimit:10},queryConfig:{enabled:gt!=null&&gt!=="",staleTime:3e4}}),kt=xt?.defaultBranch??"main",St=reactExports.useMemo(()=>{const It=[],Lt=new Set;return kt&&(It.push(kt),Lt.add(kt)),xt?.recentBranches.forEach(Ot=>{Ot&&!Lt.has(Ot)&&(It.push(Ot),Lt.add(Ot))}),It},[xt?.recentBranches,kt]),{mutateAsync:Rt,isPending:Tt}=useStartCodeReviewConversation({onError:It=>{logger.error(`Failed to start code review: ${maybeErrorToString(It)}`),ut.danger(it.formatMessage({id:"composer.reviewMode.quickReviewError",defaultMessage:"Failed to start code review.",description:"Toast shown when quick review action fails"}))},onSuccess:It=>{ht(It)}}),Mt=reactExports.useCallback(async It=>{if(!gt){ut.danger(it.formatMessage({id:"composer.reviewMode.gitRoot.error",defaultMessage:"Git root not found",description:"Toast shown when git root not found"}));return}if(It==="base-branch"){mt({eventName:"codex_review_target_selected",metadata:{target:"base_branch"}}),ct({status:"choose-base"}),Ye();return}mt({eventName:"codex_review_target_selected",metadata:{target:"unstaged"}}),await Rt({context:{mode:"uncommitted",sourceBranch:yt?.branch??"",gitRoot:gt??""}}),rt()},[gt,Rt,yt?.branch,rt,ut,it,Ye,mt]),Pt=reactExports.useCallback(async It=>{if(!yt?.branch){ut.danger(it.formatMessage({id:"composer.reviewMode.currentBranch.error",defaultMessage:"Current branch not found",description:"Toast shown when current branch not found"}));return}if(!gt){ut.danger(it.formatMessage({id:"composer.reviewMode.gitRoot.error",defaultMessage:"Git root not found",description:"Toast shown when git root not found"}));return}pt(It),await Rt({context:{mode:"base-branch",sourceBranch:yt.branch,baseBranch:It,gitRoot:gt??""}}),rt()},[rt,yt,gt,it,Rt,ut]);return lt.status==="choose-target"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(ReviewModePanel,{onSelectUnstaged:()=>Mt("unstaged"),onSelectBaseBranch:()=>Mt("base-branch"),isSubmitting:Tt})}):jsxRuntimeExports.jsx(ReviewBaseBranchPanel,{onSelect:Pt,branchLines:St.map(It=>({key:It,label:It})),isLoading:bt,isError:_t,refetchBranchOverview:Ct,submittingBranchName:ft})}var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var Ye=require_Symbol(),rt=requireIsArguments(),it=requireIsArray$7(),lt=Ye?Ye.isConcatSpreadable:void 0;function ct(ut){return it(ut)||rt(ut)||!!(lt&&ut&&ut[lt])}return _isFlattenable=ct,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var Ye=require_arrayPush(),rt=require_isFlattenable();function it(lt,ct,ut,ht,ft){var pt=-1,mt=lt.length;for(ut||(ut=rt),ft||(ft=[]);++pt<mt;){var gt=lt[pt];ct>0&&ut(gt)?ct>1?it(gt,ct-1,ut,ht,ft):Ye(ft,gt):ht||(ft[ft.length]=gt)}return ft}return _baseFlatten=it,_baseFlatten}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function Ye(rt,it,lt){switch(lt.length){case 0:return rt.call(it);case 1:return rt.call(it,lt[0]);case 2:return rt.call(it,lt[0],lt[1]);case 3:return rt.call(it,lt[0],lt[1],lt[2])}return rt.apply(it,lt)}return _apply=Ye,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var Ye=require_apply(),rt=Math.max;function it(lt,ct,ut){return ct=rt(ct===void 0?lt.length-1:ct,0),function(){for(var ht=arguments,ft=-1,pt=rt(ht.length-ct,0),mt=Array(pt);++ft<pt;)mt[ft]=ht[ct+ft];ft=-1;for(var gt=Array(ct+1);++ft<ct;)gt[ft]=ht[ft];return gt[ct]=ut(mt),Ye(lt,this,gt)}}return _overRest=it,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function Ye(rt){return function(){return rt}}return constant_1=Ye,constant_1}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var Ye=requireConstant(),rt=require_defineProperty(),it=requireIdentity(),lt=rt?function(ct,ut){return rt(ct,"toString",{configurable:!0,enumerable:!1,value:Ye(ut),writable:!0})}:it;return _baseSetToString=lt,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var Ye=800,rt=16,it=Date.now;function lt(ct){var ut=0,ht=0;return function(){var ft=it(),pt=rt-(ft-ht);if(ht=ft,pt>0){if(++ut>=Ye)return arguments[0]}else ut=0;return ct.apply(void 0,arguments)}}return _shortOut=lt,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var Ye=require_baseSetToString(),rt=require_shortOut(),it=rt(Ye);return _setToString=it,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var Ye=requireIdentity(),rt=require_overRest(),it=require_setToString();function lt(ct,ut){return it(rt(ct,ut,Ye),ct+"")}return _baseRest=lt,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var Ye=requireEq(),rt=requireIsArrayLike(),it=require_isIndex(),lt=requireIsObject$2();function ct(ut,ht,ft){if(!lt(ft))return!1;var pt=typeof ht;return(pt=="number"?rt(ft)&&it(ht,ft.length):pt=="string"&&ht in ft)?Ye(ft[ht],ut):!1}return _isIterateeCall=ct,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var Ye=require_baseFlatten(),rt=require_baseOrderBy(),it=require_baseRest(),lt=require_isIterateeCall(),ct=it(function(ut,ht){if(ut==null)return[];var ft=ht.length;return ft>1&&lt(ut,ht[0],ht[1])?ht=[]:ft>2&&lt(ht[0],ht[1],ht[2])&&(ht=[ht[0]]),rt(ut,Ye(ht,1),[])});return sortBy_1=ct,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports),aSlashCommands=atom([]);function useProvideSlashCommand({dependencies:Ye=[],...rt}){const it=useSetAtom(aSlashCommands),lt=reactExports.useEffectEvent(()=>{it(ct=>{let ut=!1;const ht=[...ct].map(ft=>ft.id===rt.id?(ut=!0,rt):ft);return ut||ht.push(rt),sortBy(ht.filter(ft=>ft.enabled!==!1),ft=>ft.title)})});reactExports.useEffect(()=>{lt()},[rt.id,rt.title,rt.description,rt.enabled,rt.onSelect,...Ye])}const SvgBug=Ye=>reactExports.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10.2 12.083C10.8904 12.083 11.45 12.8295 11.45 13.75C11.45 14.6705 10.8904 15.417 10.2 15.417C9.50966 15.417 8.95001 14.6705 8.95001 13.75C8.95003 12.8295 9.50967 12.083 10.2 12.083Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M8.117 9.16699C8.80708 9.16713 9.36678 9.63296 9.367 10.208C9.367 10.7832 8.80722 11.2499 8.117 11.25C7.42665 11.25 6.867 10.7833 6.867 10.208C6.86723 9.63287 7.42679 9.16699 8.117 9.16699Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M12.283 9.16699C12.9732 9.16699 13.5328 9.63287 13.533 10.208C13.533 10.7833 12.9734 11.25 12.283 11.25C11.5928 11.2499 11.033 10.7832 11.033 10.208C11.0332 9.63296 11.5929 9.16713 12.283 9.16699Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1356 1.83496C16.0895 1.83496 16.7003 2.36544 17.0438 2.83887C17.2139 3.07346 17.3281 3.30439 17.3992 3.47461C17.435 3.56037 17.4606 3.6336 17.4783 3.6875C17.4872 3.71448 17.4948 3.73684 17.4998 3.75391C17.5023 3.76229 17.5041 3.76965 17.5057 3.77539C17.5065 3.7782 17.5071 3.78106 17.5076 3.7832C17.5079 3.7842 17.5084 3.78528 17.5086 3.78613L17.5096 3.78809C17.5062 3.78919 17.461 3.8011 16.866 3.95801L16.617 4.02344L17.5096 3.78809C17.603 4.1431 17.391 4.50793 17.0359 4.60156C16.6809 4.695 16.3171 4.48291 16.2234 4.12793V4.12988L16.2244 4.13086V4.13281C16.2243 4.13251 16.2239 4.13143 16.2234 4.12988C16.2222 4.12556 16.2198 4.11621 16.2156 4.10352C16.2071 4.07776 16.1927 4.03673 16.1717 3.98633C16.1286 3.88318 16.0617 3.74891 15.9676 3.61914C15.7822 3.36365 15.5274 3.16504 15.1356 3.16504C14.3975 3.16516 13.8581 3.58082 13.4207 4.30273C13.3067 4.491 13.2038 4.69355 13.1111 4.9043C15.6971 5.96132 17.5311 8.38367 17.5311 11.25C17.5311 15.1087 14.208 18.1649 10.2 18.165C6.19206 18.1649 2.86798 15.1087 2.86798 11.25C2.86798 8.38418 4.70168 5.96162 7.28693 4.9043C7.19434 4.69371 7.0923 4.49087 6.97833 4.30273C6.54095 3.58089 6.00159 3.16504 5.26349 3.16504C4.87181 3.16524 4.61679 3.36363 4.43146 3.61914C4.33733 3.74896 4.27044 3.88319 4.22736 3.98633C4.20628 4.0368 4.1919 4.07779 4.18341 4.10352C4.17947 4.11549 4.17694 4.12438 4.1756 4.12891C4.17561 4.12887 4.17593 4.12831 4.17462 4.12793C4.08077 4.48278 3.71807 4.69518 3.3631 4.60156C3.00839 4.5077 2.79702 4.14392 2.89044 3.78906L3.74689 4.01465C3.68504 3.99833 3.61397 3.97936 3.53302 3.95801C2.936 3.80055 2.89338 3.79012 2.89044 3.78906V3.78613C2.89067 3.78527 2.89113 3.78423 2.89142 3.7832C2.892 3.78105 2.89258 3.77824 2.89337 3.77539C2.89498 3.76964 2.89772 3.76233 2.90021 3.75391C2.90523 3.73688 2.91185 3.71438 2.92072 3.6875C2.9385 3.63356 2.96494 3.56051 3.00079 3.47461C3.07186 3.30444 3.18519 3.07343 3.35529 2.83887C3.69862 2.36548 4.30975 1.83519 5.26349 1.83496C6.64054 1.83496 7.54382 2.66973 8.11603 3.61426C8.2881 3.89836 8.434 4.20218 8.56232 4.50977C9.08979 4.39594 9.6384 4.33498 10.2 4.33496C10.7611 4.33498 11.3088 4.39615 11.8358 4.50977C11.9641 4.20208 12.1109 3.89845 12.283 3.61426C12.8552 2.66975 13.7586 1.83509 15.1356 1.83496ZM10.2 5.66504C9.78619 5.66506 9.38256 5.70388 8.99396 5.77734C8.99966 5.79796 9.00597 5.8184 9.01154 5.83887L9.18146 6.51758L9.19806 6.65039C9.20595 6.95974 8.99569 7.24216 8.68243 7.31445C8.36933 7.38653 8.05697 7.22473 7.92853 6.94336L7.88458 6.81641L7.7254 6.17871C7.72389 6.17318 7.72204 6.16765 7.72052 6.16211C5.62919 7.0461 4.19806 9.01126 4.19806 11.25C4.19806 14.2946 6.84445 16.8348 10.2 16.835C13.5556 16.8348 16.201 14.2946 16.201 11.25C16.201 9.01078 14.7696 7.04582 12.6776 6.16211C12.6166 6.38459 12.5633 6.60491 12.5145 6.81641L12.4715 6.94336C12.343 7.22493 12.0299 7.38675 11.7166 7.31445C11.3592 7.23167 11.1363 6.87512 11.2186 6.51758L11.3875 5.83887C11.393 5.81848 11.3984 5.79788 11.4041 5.77734C11.016 5.70407 10.6133 5.66506 10.2 5.66504Z",fill:"currentColor"}));function ReviewSlashCommand(){const Ye=useIntl();return useProvideSlashCommand({id:"review-mode",title:Ye.formatMessage({id:"composer.reviewMode.title",defaultMessage:"Code review",description:"Title for the review mode slash command"}),Icon:SvgBug,Content:ReviewModeContent}),null}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ye){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt];for(var lt in it)({}).hasOwnProperty.call(it,lt)&&(Ye[lt]=it[lt])}return Ye},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose$1(Ye,rt){if(Ye==null)return{};var it={};for(var lt in Ye)if({}.hasOwnProperty.call(Ye,lt)){if(rt.indexOf(lt)!==-1)continue;it[lt]=Ye[lt]}return it}var index$2=reactExports.useLayoutEffect,useLatest=function(rt){var it=React.useRef(rt);return index$2(function(){it.current=rt}),it},updateRef=function(rt,it){if(typeof rt=="function"){rt(it);return}rt.current=it},useComposedRef=function(rt,it){var lt=React.useRef();return React.useCallback(function(ct){rt.current=ct,lt.current&&updateRef(lt.current,null),lt.current=it,it&&updateRef(it,ct)},[it])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},forceHiddenStyles=function(rt){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(it){rt.style.setProperty(it,HIDDEN_TEXTAREA_STYLE[it],"important")})},forceHiddenStyles$1=forceHiddenStyles,hiddenTextarea=null,getHeight=function(rt,it){var lt=rt.scrollHeight;return it.sizingStyle.boxSizing==="border-box"?lt+it.borderSize:lt-it.paddingSize};function calculateNodeHeight(Ye,rt,it,lt){it===void 0&&(it=1),lt===void 0&&(lt=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles$1(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var ct=Ye.paddingSize,ut=Ye.borderSize,ht=Ye.sizingStyle,ft=ht.boxSizing;Object.keys(ht).forEach(function(xt){var bt=xt;hiddenTextarea.style[bt]=ht[bt]}),forceHiddenStyles$1(hiddenTextarea),hiddenTextarea.value=rt;var pt=getHeight(hiddenTextarea,Ye);hiddenTextarea.value=rt,pt=getHeight(hiddenTextarea,Ye),hiddenTextarea.value="x";var mt=hiddenTextarea.scrollHeight-ct,gt=mt*it;ft==="border-box"&&(gt=gt+ct+ut),pt=Math.max(gt,pt);var yt=mt*lt;return ft==="border-box"&&(yt=yt+ct+ut),pt=Math.min(yt,pt),[pt,mt]}var noop$2=function(){},pick=function(rt,it){return rt.reduce(function(lt,ct){return lt[ct]=it[ct],lt},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],isIE=!!document.documentElement.currentStyle,getSizingData=function(rt){var it=window.getComputedStyle(rt);if(it===null)return null;var lt=pick(SIZING_STYLE,it),ct=lt.boxSizing;if(ct==="")return null;isIE&&ct==="border-box"&&(lt.width=parseFloat(lt.width)+parseFloat(lt.borderRightWidth)+parseFloat(lt.borderLeftWidth)+parseFloat(lt.paddingRight)+parseFloat(lt.paddingLeft)+"px");var ut=parseFloat(lt.paddingBottom)+parseFloat(lt.paddingTop),ht=parseFloat(lt.borderBottomWidth)+parseFloat(lt.borderTopWidth);return{sizingStyle:lt,paddingSize:ut,borderSize:ht}},getSizingData$1=getSizingData;function useListener(Ye,rt,it){var lt=useLatest(it);reactExports.useLayoutEffect(function(){var ct=function(ht){return lt.current(ht)};if(Ye)return Ye.addEventListener(rt,ct),function(){return Ye.removeEventListener(rt,ct)}},[])}var useFormResetListener=function(rt,it){useListener(document.body,"reset",function(lt){rt.current.form===lt.target&&it(lt)})},useWindowResizeListener=function(rt){useListener(window,"resize",rt)},useFontsLoadedListener=function(rt){useListener(document.fonts,"loadingdone",rt)},_excluded$2=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TextareaAutosize=function(rt,it){var lt=rt.cacheMeasurements,ct=rt.maxRows,ut=rt.minRows,ht=rt.onChange,ft=ht===void 0?noop$2:ht,pt=rt.onHeightChange,mt=pt===void 0?noop$2:pt,gt=_objectWithoutPropertiesLoose$1(rt,_excluded$2),yt=gt.value!==void 0,xt=reactExports.useRef(null),bt=useComposedRef(xt,it),_t=reactExports.useRef(0),Ct=reactExports.useRef(),kt=function(){var Tt=xt.current,Mt=lt&&Ct.current?Ct.current:getSizingData$1(Tt);if(Mt){Ct.current=Mt;var Pt=calculateNodeHeight(Mt,Tt.value||Tt.placeholder||"x",ut,ct),It=Pt[0],Lt=Pt[1];_t.current!==It&&(_t.current=It,Tt.style.setProperty("height",It+"px","important"),mt(It,{rowHeight:Lt}))}},St=function(Tt){yt||kt(),ft(Tt)};return reactExports.useLayoutEffect(kt),useFormResetListener(xt,function(){if(!yt){var Rt=xt.current.value;requestAnimationFrame(function(){var Tt=xt.current;Tt&&Rt!==Tt.value&&kt()})}}),useWindowResizeListener(kt),useFontsLoadedListener(kt),reactExports.createElement("textarea",_extends({},gt,{onChange:St,ref:bt}))},index$1=reactExports.forwardRef(TextareaAutosize);function CodeDiffComment({filePath:Ye,side:rt,lineNumber:it,onSubmit:lt,onDelete:ct,onClose:ut,initialComment:ht}){const ft=ht?getCommentText(ht):"",[pt,mt]=reactExports.useState(ht?getCommentText(ht):""),[gt,yt]=reactExports.useState(!ht),[xt,bt]=reactExports.useState(!1),_t=reactExports.useRef(null),Ct=useIntl(),kt=()=>{if(!pt)return;const St=ht?{...ht,content:[{content_type:"text",text:pt}]}:{type:"comment",content:[{content_type:"text",text:pt}],position:{side:rt==="deletions"?"left":"right",path:Ye,line:it}};lt?.(St),yt(!1),_t.current?.blur(),ut?.()};return reactExports.useEffect(()=>{!xt&&ht&&pt===ft&&setTimeout(()=>{yt(!1)},100),xt&&(yt(!0),_t.current?.focus())},[xt,ht,pt,ft]),jsxRuntimeExports.jsx("div",{className:"bg-token-side-bar-background gap-2 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx(index$1,{ref:_t,className:"bg-token-input-background text-token-text-primary border-1.5 focus:outline-hidden w-full resize-none rounded-lg p-4 text-sm ring-0 focus:border-black dark:focus:border-white",onFocus:()=>bt(!0),onBlur:()=>bt(!1),placeholder:Ct.formatMessage({id:"code.diff.addComment",defaultMessage:"Add a comment",description:"Placeholder for code diff comment"}),minRows:1,maxRows:10,autoFocus:!ht,onSubmit:()=>{},value:pt,onChange:St=>mt(St.target.value),onKeyDown:St=>{St.key==="Enter"&&St.metaKey&&(St.preventDefault(),kt()),St.key==="Escape"&&(St.preventDefault(),ut?.())}}),gt&&jsxRuntimeExports.jsxs("div",{className:clsx("mt-2 flex items-center justify-between gap-2",!ct&&"justify-end"),children:[ct&&jsxRuntimeExports.jsx(Button,{color:"danger",onClick:()=>ct?.(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"code.diffComment.delete",defaultMessage:"Delete",description:"Delete a comment"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{color:"outline",onClick:()=>{ut?.(),yt(!1),ht&&mt(getCommentText(ht))},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"code.diffComment.cancel",defaultMessage:"Cancel",description:"Cancel a comment"})}),jsxRuntimeExports.jsx(Button,{color:"primary",disabled:!pt,onClick:kt,children:ht?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"code.diffComment.save",defaultMessage:"Save",description:"Save a comment"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"code.diffComment.comment",defaultMessage:"Comment",description:"Comment on a code diff"})})]})]})]})})}const EVENT_NAME="wham-toggle-all-diffs";function useExpandAllCodeDiffs(Ye){return reactExports.useEffect(()=>{function rt(it){Ye(it.detail.open)}return window.addEventListener(EVENT_NAME,rt),()=>{window.removeEventListener(EVENT_NAME,rt)}},[Ye]),reactExports.useCallback(rt=>{window.dispatchEvent(new CustomEvent(EVENT_NAME,{detail:{open:rt}}))},[])}const SvgCollapse=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M7.93494 16.6364V13.3014H4.59998C4.23271 13.3014 3.93494 13.0036 3.93494 12.6364C3.93494 12.2691 4.23271 11.9713 4.59998 11.9713H8.59998C8.96725 11.9713 9.26501 12.2691 9.26501 12.6364V16.6364C9.26501 17.0036 8.96725 17.3014 8.59998 17.3014C8.23271 17.3014 7.93494 17.0036 7.93494 16.6364ZM11.9349 4.63635C11.9349 4.26908 12.2327 3.97131 12.6 3.97131C12.9672 3.97131 13.265 4.26908 13.265 4.63635V7.97131H16.6L16.7338 7.98499C17.0369 8.04692 17.265 8.31492 17.265 8.63635C17.265 8.95778 17.0369 9.22579 16.7338 9.28772L16.6 9.30139H12.6C12.2327 9.30139 11.9349 9.00362 11.9349 8.63635V4.63635Z",fill:"currentColor"})),SvgExpand=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M4.53497 11.6364C4.53497 11.2691 4.83274 10.9713 5.20001 10.9713C5.56728 10.9713 5.86505 11.2691 5.86505 11.6364V14.9713H9.20001L9.3338 14.985C9.63693 15.0469 9.86505 15.3149 9.86505 15.6364C9.86505 15.9578 9.63693 16.2258 9.3338 16.2877L9.20001 16.3014H5.20001C4.83274 16.3014 4.53497 16.0036 4.53497 15.6364V11.6364ZM14.535 9.63635V6.30139H11.2C10.8327 6.30139 10.535 6.00362 10.535 5.63635C10.535 5.26908 10.8327 4.97131 11.2 4.97131H15.2L15.3338 4.98499C15.6369 5.04692 15.8651 5.31492 15.8651 5.63635V9.63635C15.8651 10.0036 15.5673 10.3014 15.2 10.3014C14.8327 10.3014 14.535 10.0036 14.535 9.63635Z",fill:"currentColor"}));function useStableCallback(Ye){const rt=reactExports.useRef(Ye);return reactExports.useInsertionEffect(()=>void(rt.current=Ye)),reactExports.useCallback((...it)=>rt.current(...it),[])}function templateRender(Ye,rt){return typeof window>"u"&&rt!=null?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("template",{shadowrootmode:"open",dangerouslySetInnerHTML:{__html:rt}}),Ye]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye})}function renderAnnotationChildren({fileDiff:Ye,oldFile:rt,newFile:it,renderHeaderMetadata:lt,renderAnnotation:ct,lineAnnotations:ut}){const ht=lt?.({fileDiff:Ye,oldFile:rt,newFile:it});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ht!=null&&jsxRuntimeExports.jsx("div",{slot:HEADER_METADATA_SLOT_ID,children:ht}),ct!=null&&ut?.map((ft,pt)=>jsxRuntimeExports.jsx("div",{slot:getLineAnnotationName(ft),children:ct(ft)},pt))]})}const useIsometricEffect=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function useFileDiffInstance({oldFile:Ye,newFile:rt,fileDiff:it,options:lt,lineAnnotations:ct,selectedLines:ut}){const ht=reactExports.useRef(null),ft=useStableCallback(pt=>{if(pt!=null){if(ht.current!=null)throw new Error("useFileDiffInstance: An instance should not already exist when a node is created");ht.current=new FileDiff$2(lt,!0),ht.current.hydrate({fileDiff:it,oldFile:Ye,newFile:rt,fileContainer:pt,lineAnnotations:ct})}else{if(ht.current==null)throw new Error("useFileDiffInstance: A FileDiff instance should exist when unmounting");ht.current.cleanUp(),ht.current=null}});return useIsometricEffect(()=>{if(ht.current==null)return;const pt=ht.current,mt=!deepEquals(pt.options,lt);pt.setOptions(lt),pt.render({forceRender:mt,fileDiff:it,oldFile:Ye,newFile:rt,lineAnnotations:ct}),ut!==void 0&&pt.setSelectedLines(ut)}),ft}function FileDiff$1({fileDiff:Ye,options:rt,lineAnnotations:it,selectedLines:lt,className:ct,style:ut,prerenderedHTML:ht,renderAnnotation:ft,renderHeaderMetadata:pt}){return jsxRuntimeExports.jsx("file-diff",{ref:useFileDiffInstance({fileDiff:Ye,options:rt,lineAnnotations:it,selectedLines:lt}),className:ct,style:ut,children:templateRender(renderAnnotationChildren({fileDiff:Ye,renderHeaderMetadata:pt,renderAnnotation:ft,lineAnnotations:it}),ht)})}function FileDiff({fileDiff:Ye,className:rt,lineAnnotations:it,renderAnnotation:lt,overflow:ct="scroll",...ut}){const ft=useIsDark()?"dark":"light";return jsxRuntimeExports.jsx(FileDiff$1,{className:rt,fileDiff:Ye,lineAnnotations:it,renderAnnotation:lt,options:{themeType:ft,overflow:ct,theme:{dark:"github-dark-default",light:"github-light-default"},disableFileHeader:!0,...ut}})}function normalizeFsPath(Ye){return normalizePath(Ye).toLowerCase()}function normalizePath(Ye){return Ye.replace(/\\/g,"/")}function formatRelativeFilePath({root:Ye,relativePath:rt,includeWorkspaceRootLabel:it}){const lt=normalizePath(rt);if(!it)return lt;const ct=extractWorkspaceRootLabel(Ye);return ct?lt?`${ct}/${lt}`:ct:lt}function extractWorkspaceRootLabel(Ye){const rt=normalizePath(Ye).replace(/\/+$/,"");if(rt===""||rt==="/")return"";const it=rt.split("/").filter(Boolean);return it[it.length-1]??rt}function resolveFsPath(Ye,rt){const it=normalizePath(Ye),lt=normalizePath(rt);return isAbsolutePath(lt)||it===""?ensureDrivePathHasPrefix(lt):ensureDrivePathHasPrefix(joinRootAndPath(it,lt))}function joinRootAndPath(Ye,rt){if(!Ye)return rt;if(!rt)return Ye;const it=Ye.replace(/\/+$/,""),lt=rt.replace(/^\/+/,"");return`${it}/${lt}`}function isAbsolutePath(Ye){return Ye.startsWith("/")||Ye.startsWith("\\\\")||Ye.startsWith("//")||/^[a-zA-Z]:[\\/]/.test(Ye)}function ensureDrivePathHasPrefix(Ye){return Ye&&/^[a-zA-Z]:/.test(Ye)&&!Ye.startsWith("/")?`/${Ye}`:Ye}const annotationKey=(Ye,rt)=>`${Ye}:${rt}`;function CodeDiff({diffViewClassName:Ye,diff:rt,viewType:it,stickyHeader:lt,hunkSeparators:ct,enableComments:ut=!1,comments:ht,onCommentsChange:ft,defaultOpen:pt=!0,diffViewWrap:mt=!1,workspaceRoot:gt,roundedCorners:yt=!0,border:xt=!0}){const[bt,_t]=reactExports.useState(()=>pt&&rt.metadata.type!=="deleted"),[Ct,kt]=reactExports.useState({}),[St,Rt]=reactExports.useState(null),Tt=useExpandAllCodeDiffs(_t),Mt=useMutationFromVSCode("open-file"),Pt=reactExports.useRef(null),It=rt.metadata.type==="new",Lt=rt.metadata.type==="deleted",Ot=rt.metadata.name,Ft=Ot&&Ot!==NULL_FILE?getProjectRelativePath(Ot,gt):Ot,Ut=(normalizePath(Ot??"").split("/").pop()??Ot)||"",Wt=rt.additions===0&&rt.deletions===0,Kt=Lt?rt.firstDeletionLine??1:rt.firstAdditionLine??1,Qt=reactExports.useMemo(()=>!ut||!ht?.length?[]:ht.filter(rr=>rr.position.path===rt.metadata.name).map(rr=>({side:rr.position.side==="left"?"deletions":"additions",lineNumber:rr.position.line,metadata:{kind:"comment",comment:rr}})),[ht,ut,rt.metadata.name]),Zt=reactExports.useMemo(()=>{const rr=new Set;for(const Jt of Qt)rr.add(annotationKey(Jt.side,Jt.lineNumber));for(const[Jt]of Object.entries(Ct))rr.add(Jt);return rr},[Qt,Ct]),Vt=reactExports.useMemo(()=>Object.entries(Ct).map(([rr,Jt])=>({side:Jt.side,lineNumber:Jt.lineNumber,metadata:{kind:"draft-comment",key:rr,path:Jt.path}})),[Ct]),$t=reactExports.useMemo(()=>{if(!ut||St==null)return[];const rr=annotationKey(St.side,St.lineNumber);return Zt.has(rr)?[]:[{side:St.side,lineNumber:St.lineNumber,metadata:{kind:"add-button",key:rr,path:St.path}}]},[ut,St,Zt]),zt=reactExports.useMemo(()=>ut?[...Qt,...Vt,...$t]:[],[Qt,Vt,ut,$t]),Nt=reactExports.useCallback((rr,Jt)=>{const ir=annotationKey(rr,Jt);kt(ar=>{if(ar[ir])return ar;const cr=rt.metadata.name,dr=normalizePath(cr);return{...ar,[ir]:{side:rr,lineNumber:Jt,path:dr}}})},[rt]),qt=reactExports.useCallback(rr=>{kt(Jt=>{if(!(rr in Jt))return Jt;const ir={...Jt};return delete ir[rr],ir})},[]),Gt=reactExports.useCallback(rr=>{const Jt=rr.metadata;if(!Jt)return null;switch(Jt.kind){case"comment":return jsxRuntimeExports.jsx(CodeDiffComment,{filePath:Jt.comment.position.path,side:rr.side,lineNumber:rr.lineNumber,initialComment:Jt.comment,onSubmit:ir=>{const cr=(ht??[]).map(dr=>dr===Jt.comment?ir:dr);ft?.(cr)},onDelete:()=>ft?.(ht?.filter(ir=>ir!==Jt.comment)??[])});case"draft-comment":return jsxRuntimeExports.jsx(CodeDiffComment,{filePath:Jt.path,side:rr.side,lineNumber:rr.lineNumber,onSubmit:ir=>{ft?.([...ht??[],ir]),qt(Jt.key)},onClose:()=>qt(Jt.key)});case"add-button":return jsxRuntimeExports.jsx(IconButton,{ref:Pt,color:"primary",className:"pointer-events-none absolute left-0 top-0 -translate-x-full -translate-y-full",Icon:SvgPlus,onClick:ir=>{ir.preventDefault(),ir.stopPropagation(),Nt(rr.side,rr.lineNumber)}})}},[Nt,qt,ht,ft]),Ht=reactExports.useCallback(({lineNumber:rr,event:Jt})=>{ut&&Jt.defaultPrevented||Mt.mutate({path:Ft,line:rr,column:1})},[Ft,ut,Mt]),Xt=reactExports.useCallback(({lineNumber:rr,event:Jt})=>{if(ut&&Jt.defaultPrevented)return;const ir=Pt.current,ar=ir?.getBoundingClientRect();ar&&ar.top<=Jt.clientY&&Jt.clientY<=ar.bottom&&ar.left<=Jt.clientX&&Jt.clientX<=ar.right?ir?.click():Mt.mutate({path:Ft,line:rr,column:1})},[Ft,ut,Mt]),Bt=reactExports.useCallback(({annotationSide:rr,lineNumber:Jt})=>{if(!ut)return;const ir=rt.metadata.name;Rt({side:rr,lineNumber:Jt,path:ir})},[rt,ut]),nr=reactExports.useCallback(()=>{ut&&Rt(null)},[ut]);return jsxRuntimeExports.jsxs("div",{className:clsx("bg-token-editor-background flex flex-col overflow-clip",bt?"border-token-border":"border-token-border/50",yt&&"rounded-lg",xt&&"border"),children:[jsxRuntimeExports.jsx("div",{role:"button",onClick:rr=>{const Jt=!bt;rr.altKey?Tt(Jt):_t(Jt)},className:clsx("cursor-interaction focus-visible:outline-none",lt&&"z-100 sticky top-0"),children:jsxRuntimeExports.jsxs("div",{className:clsx("bg-token-side-bar-background hover:bg-token-editor-background/40 relative flex items-center gap-2 py-1 pl-2 text-sm"),children:[jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex min-w-0 flex-nowrap items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"font-mono",children:Ot}),children:jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-text-link-foreground cursor-interaction min-w-0 truncate text-start hover:underline",disabled:!Ft||Ft===NULL_FILE,onClick:rr=>{rr.stopPropagation(),Mt.mutate({path:Ft,line:Kt,column:1})},children:Ut})}),jsxRuntimeExports.jsx("span",{className:"shrink-0",children:jsxRuntimeExports.jsx(TaskDiffStats,{linesAdded:rt.additions,linesRemoved:rt.deletions})}),It&&jsxRuntimeExports.jsx("span",{className:"text-token-text-link-foreground mb-0.5",children:jsxRuntimeExports.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-current"})}),Lt&&jsxRuntimeExports.jsx("span",{className:"text-token-charts-red mb-0.5",children:jsxRuntimeExports.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-current"})})]}),jsxRuntimeExports.jsx("div",{className:"ms-auto flex items-center",children:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:bt?"Collapse diff":"Expand diff",children:jsxRuntimeExports.jsx(Button,{className:"hover:text-token-foreground me-1 hover:bg-transparent",color:"ghost",size:"icon",onClick:rr=>{rr.stopPropagation(),_t(Jt=>!Jt)},children:bt?jsxRuntimeExports.jsx(SvgCollapse,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgExpand,{className:"icon-2xs"})})})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:bt&&jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"relative overflow-hidden",children:Wt||rt.isBinary?jsxRuntimeExports.jsx("div",{className:"text-token-text-secondary bg-token-bg-secondary flex h-full justify-center py-4 text-sm empty:hidden",children:rt.isBinary?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.diff.binaryFile",defaultMessage:"Binary file not shown",description:"Text shown when a file is binary and we don't show the diff."}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.diff.noContent",defaultMessage:"No content",description:"Text shown when a file is empty."})}):jsxRuntimeExports.jsx(FileDiff,{className:clsx("relative overflow-clip transition-opacity duration-300",Ye),fileDiff:rt.metadata,diffStyle:it==="split"?"split":"unified",overflow:mt?"wrap":"scroll",hunkSeparators:ct??"simple",onLineClick:Ht,onLineNumberClick:Xt,onLineEnter:Bt,onLineLeave:nr,lineAnnotations:zt,renderAnnotation:ut?Gt:void 0})})})]})}const DIFF_VIEW_MODE_STORAGE_KEY="editorDiffViewMode",WRAP_CODE_DIFF_STORAGE_KEY="wrapCodeDiff",aDiffViewMode=persistedAtom(DIFF_VIEW_MODE_STORAGE_KEY,"unified"),aWrapCodeDiff=persistedAtom(WRAP_CODE_DIFF_STORAGE_KEY,!0);function useStableRef(Ye){const rt=reactExports.useRef(Ye);return reactExports.useLayoutEffect(()=>{rt.current=Ye}),rt}function useSharedObject(Ye){const[rt,it]=reactExports.useState(void 0);useMessage("shared-object-updated",ut=>{ut.key===Ye&&it(ut.value)}),reactExports.useEffect(()=>(messageBus.dispatchMessage("shared-object-subscribe",{key:Ye}),()=>{messageBus.dispatchMessage("shared-object-unsubscribe",{key:Ye})}),[Ye]);const lt=useStableRef(rt),ct=reactExports.useCallback(ut=>{const ht=typeof ut=="function"?ut(lt.current):ut;messageBus.dispatchMessage("shared-object-set",{key:Ye,value:ht}),it(ht)},[Ye,lt]);return[rt,ct]}function useConversationDiffComments(Ye){const[rt,it]=useSharedObject("diff_comments"),lt=reactExports.useMemo(()=>rt?.[Ye]??[],[rt,Ye]),ct=reactExports.useCallback(ut=>{it(ht=>{const ft={...ht??{}},pt=ft[Ye]??[],mt=typeof ut=="function"?ut(pt):ut;return mt.length===0?(ft[Ye]===void 0||delete ft[Ye],ft):(ft[Ye]=mt,ft)})},[Ye,it]);return{comments:lt,setComments:ct}}function SegmentedToggle({LeftIcon:Ye,RightIcon:rt,selected:it,onSelect:lt}){return jsxRuntimeExports.jsxs("div",{className:"relative inline-flex h-8 rounded-[12px] p-[2px]",children:[jsxRuntimeExports.jsx("div",{className:clsx("bg-token-foreground/20 absolute bottom-[2px] left-[2px] top-[2px] z-0 w-9 rounded-[10px] transition-transform duration-300",it==="left"?"translate-x-0":"translate-x-full")}),jsxRuntimeExports.jsx(SegmentedToggleItem,{Icon:Ye,onClick:()=>lt("left")}),jsxRuntimeExports.jsx(SegmentedToggleItem,{Icon:rt,onClick:()=>lt("right")})]})}function SegmentedToggleItem({Icon:Ye,onClick:rt}){return jsxRuntimeExports.jsx("div",{className:"text-token-dropdown-foreground z-1 cursor-interaction flex items-center justify-center px-2.5 py-2",onClick:rt,children:jsxRuntimeExports.jsx(Ye,{className:"icon-xs"})})}const SvgDiffSplit=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("rect",{x:3.5,y:4.5,width:17,height:15,rx:3,stroke:"currentColor",strokeWidth:2}),reactExports.createElement("path",{d:"M6 8C6 7.44772 6.44772 7 7 7H10.25C10.8023 7 11.25 7.44772 11.25 8V16C11.25 16.5523 10.8023 17 10.25 17H7C6.44772 17 6 16.5523 6 16V8Z",fill:"#F84E63",fillOpacity:.5}),reactExports.createElement("path",{d:"M12.75 8C12.75 7.44772 13.1977 7 13.75 7H17C17.5523 7 18 7.44772 18 8V16C18 16.5523 17.5523 17 17 17H13.75C13.1977 17 12.75 16.5523 12.75 16V8Z",fill:"#36D958",fillOpacity:.5})),SvgDiffUnified=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("rect",{x:3.5,y:4.5,width:17,height:15,rx:3,stroke:"currentColor",strokeWidth:2}),reactExports.createElement("path",{d:"M6 8C6 7.44772 6.44772 7 7 7H17C17.5523 7 18 7.44772 18 8V10.25C18 10.8023 17.5523 11.25 17 11.25H7C6.44772 11.25 6 10.8023 6 10.25V8Z",fill:"#F84E63",fillOpacity:.5}),reactExports.createElement("path",{d:"M6 13.75C6 13.1977 6.44772 12.75 7 12.75H17C17.5523 12.75 18 13.1977 18 13.75V16C18 16.5523 17.5523 17 17 17H7C6.44772 17 6 16.5523 6 16V13.75Z",fill:"#36D958",fillOpacity:.5}));function EditorDiffPage(){const Ye=useDiffContent();return"error"in Ye?jsxRuntimeExports.jsx("div",{className:"text-token-error-foreground p-4",children:Ye.error}):jsxRuntimeExports.jsx(EditorDiffPageContent,{diffContent:Ye.diffContent,conversationId:Ye.conversationId})}function EditorDiffPageContent({diffContent:Ye,conversationId:rt}){const it=useStatsigGate("codex-diff-comments"),{comments:lt,setComments:ct}=useConversationDiffComments(rt),ut=reactExports.useMemo(()=>parseDiff(Ye),[Ye]),[ht,ft]=useAtom(aDiffViewMode),{data:pt}=useFetchFromVSCode("active-workspace-roots"),mt=pt?.roots?.[0],gt=ut.length,yt=ut.reduce((bt,_t)=>bt+_t.additions,0),xt=ut.reduce((bt,_t)=>bt+_t.deletions,0);return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-panel flex items-center justify-between py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-token-input-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.filesChanged",defaultMessage:"{fileCount, plural, one {# file changed} other {# files changed}}",description:"Label for the number of files changed in DiffView",values:{fileCount:gt}})}),(yt>0||xt>0)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-token-charts-green",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.linesAdded",defaultMessage:"+{linesAdded}",description:"Label for lines added in DiffView",values:{linesAdded:yt}})}),jsxRuntimeExports.jsx("span",{className:"text-token-charts-red",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.linesDeleted",defaultMessage:"-{linesDeleted}",description:"Label for lines deleted in DiffView",values:{linesDeleted:xt}})})]})]}),jsxRuntimeExports.jsx(SegmentedToggle,{LeftIcon:UnifiedDiffIconWithTooltip$1,RightIcon:SplitDiffIconWithTooltip$1,selected:ht==="unified"?"left":"right",onSelect:bt=>ft(bt==="left"?"unified":"split")})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto p-[var(--padding-panel)] pt-0",children:ut.map((bt,_t)=>jsxRuntimeExports.jsx(CodeDiff,{diff:bt,enableComments:it,viewType:ht,stickyHeader:!0,diffViewWrap:!1,workspaceRoot:mt,comments:lt,onCommentsChange:ct},_t))})]})}function useDiffContent(){const Ye=useIntl(),rt=useLocation();return reactExports.useMemo(()=>{const it=rt.state;if(it?.unifiedDiff&&it.conversationId)try{return{diffContent:it.unifiedDiff,conversationId:it.conversationId??null}}catch{return{error:Ye.formatMessage({id:"codex.diffView.failedToDecodeBase64Diff",defaultMessage:"Failed to decode base64 diff",description:"Error message displayed when the diff cannot be decoded"})}}return{error:Ye.formatMessage({id:"codex.diffView.noDiffData",defaultMessage:"No diff data",description:"Error message displayed when there is no diff data"})}},[Ye,rt.state])}function UnifiedDiffIconWithTooltip$1({className:Ye}){return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.switchToInline",defaultMessage:"Switch to inline diff",description:"Tooltip to switch to inline/unified diff view"}),children:jsxRuntimeExports.jsx(SvgDiffUnified,{className:Ye})})}function SplitDiffIconWithTooltip$1({className:Ye}){return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.switchToUnified",defaultMessage:"Switch to unified diff",description:"Tooltip to switch to unified/side-by-side diff view"}),children:jsxRuntimeExports.jsx(SvgDiffSplit,{className:Ye})})}function Dialog({children:Ye,triggerContent:rt,triggerAsChild:it=!0,triggerRef:lt,contentClassName:ct,overlayClassName:ut,showDialogClose:ht=!0,...ft}){return jsxRuntimeExports.jsxs(Root,{...ft,children:[rt&&jsxRuntimeExports.jsx(DialogTrigger,{asChild:it,triggerRef:lt,children:rt}),jsxRuntimeExports.jsx(DialogContent,{contentClassName:ct,overlayClassName:ut,showDialogClose:ht,children:Ye})]})}function DialogTrigger({asChild:Ye=!0,triggerRef:rt,...it}){return jsxRuntimeExports.jsx(Trigger,{ref:rt,asChild:Ye,...it})}function DialogContent({children:Ye,contentClassName:rt,overlayClassName:it,showDialogClose:lt=!0,...ct}){const{className:ut,...ht}=ct;return jsxRuntimeExports.jsxs(Portal,{children:[jsxRuntimeExports.jsx(Overlay,{className:clsx("bg-token-editor-background/80 fixed inset-0 z-50",it)}),jsxRuntimeExports.jsxs(Content,{className:clsx("bg-token-editor-widget-background text-token-editor-widget-foreground border-token-editor-widget-border animate-dropdown-in fixed left-1/2 top-1/2 z-50 w-[520px] max-w-[92vw] -translate-x-1/2 -translate-y-1/2 rounded-2xl border p-4 shadow-lg outline-none",rt,ut),...ht,children:[Ye,lt&&jsxRuntimeExports.jsx(Close,{className:"text-token-editor-widget-foreground/80 hover:bg-token-toolbar-hover-background focus:ring-token-focus-border cursor-interaction absolute right-3 top-3 rounded p-1 leading-none focus:outline-none focus:ring-1",children:jsxRuntimeExports.jsx(SvgX,{className:"icon-xs"})})]})]})}const SvgComment=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M17.2379 7.69907C17.2379 6.95248 17.237 6.43448 17.2041 6.03179C17.1799 5.73568 17.1402 5.53676 17.0862 5.38579L17.0277 5.24941C16.866 4.93211 16.6201 4.66653 16.3181 4.4814L16.1859 4.40757C16.02 4.32306 15.7978 4.26345 15.4035 4.2312C15.0009 4.19831 14.4826 4.19736 13.7362 4.19736H7.26086C6.51427 4.19736 5.99627 4.1983 5.59357 4.2312C5.29763 4.25539 5.09852 4.29409 4.94758 4.3481L4.8112 4.40757C4.49383 4.56929 4.22831 4.81512 4.04318 5.11714L3.96936 5.24941C3.88482 5.41532 3.82523 5.6373 3.79299 6.03179C3.76009 6.43448 3.75915 6.95248 3.75915 7.69907V12.8732C3.75915 13.548 3.76318 13.7789 3.80017 13.956L3.834 14.0944C4.03021 14.777 4.58934 15.3012 5.29211 15.448L5.44079 15.4695C5.61188 15.4861 5.86792 15.4879 6.3739 15.4879C6.58107 15.4879 6.7238 15.4877 6.86506 15.4992L7.05373 15.5197C7.49382 15.5811 7.91814 15.7309 8.30061 15.9596L8.48518 16.0796C8.55028 16.1245 8.62134 16.1752 8.70564 16.2355L10.0909 17.225L10.3996 17.4382C10.4603 17.4756 10.4695 17.4737 10.455 17.47L10.498 17.4751C10.5127 17.4752 10.5278 17.4737 10.5421 17.47L10.5965 17.4382C10.6645 17.3964 10.7522 17.3349 10.9061 17.225L12.2914 16.2355L12.5109 16.0796C12.576 16.0346 12.6356 15.996 12.6965 15.9596L12.8626 15.8663C13.2563 15.6605 13.6879 15.5354 14.132 15.4992L14.3525 15.49C14.4315 15.4887 14.5187 15.4879 14.6221 15.4879C15.2969 15.4879 15.5279 15.4849 15.705 15.448L15.8434 15.4131C16.5259 15.217 17.05 14.6586 17.1969 13.956L17.2184 13.8063C17.2351 13.6352 17.2379 13.379 17.2379 12.8732V7.69907ZM10.6785 10.6758C11.0641 10.6758 11.3768 10.9884 11.3768 11.3741C11.3768 11.7597 11.0641 12.0724 10.6785 12.0724H7.69665C7.31102 12.0724 6.99836 11.7597 6.99836 11.3741C6.99836 10.9884 7.31102 10.6758 7.69665 10.6758H10.6785ZM13.3035 7.17612L13.444 7.19048C13.7623 7.2555 14.0018 7.5369 14.0018 7.87442C14.0016 8.21182 13.7622 8.49341 13.444 8.55835L13.3035 8.57271H7.69665C7.31113 8.57271 6.99854 8.25989 6.99836 7.87442C6.99836 7.48878 7.31102 7.17612 7.69665 7.17612H13.3035ZM18.6345 12.8732C18.6345 13.3267 18.6359 13.6704 18.6058 13.9632L18.5637 14.2411C18.3105 15.4535 17.4066 16.4171 16.2289 16.7553L15.99 16.8148C15.6362 16.8886 15.2264 16.8845 14.6221 16.8845L14.2458 16.8917C14.0252 16.9097 13.8098 16.9651 13.6091 17.0558L13.4132 17.1583L13.1025 17.3716L11.7182 18.3611C11.504 18.5141 11.2697 18.6916 11.0015 18.7876L10.8846 18.8235C10.6945 18.8717 10.4977 18.8845 10.3042 18.8605L10.1125 18.8235C9.87394 18.7631 9.66181 18.6313 9.4675 18.4954L9.27883 18.3611L7.89353 17.3716L7.58386 17.1583C7.39381 17.0447 7.18578 16.9643 6.96965 16.9214L6.75124 16.8917C6.67965 16.8859 6.60316 16.8845 6.3739 16.8845C5.92038 16.8845 5.57673 16.887 5.28391 16.8568L5.00603 16.8148C3.79382 16.5615 2.82999 15.6574 2.49177 14.48L2.43332 14.2411C2.3594 13.8871 2.36257 13.4777 2.36257 12.8732V7.69907C2.36257 6.97553 2.36188 6.39072 2.40051 5.91797C2.43979 5.43729 2.52314 5.01117 2.72453 4.61572L2.85271 4.38604C3.172 3.86554 3.63042 3.4415 4.17751 3.16274L4.32722 3.09302C4.68032 2.94157 5.05908 2.8731 5.47976 2.83872C5.95251 2.8001 6.53731 2.80078 7.26086 2.80078H13.7362C14.4596 2.80078 15.0446 2.8001 15.5173 2.83872C15.998 2.87802 16.4241 2.9613 16.8196 3.16274L17.0482 3.29092C17.5689 3.61023 17.9927 4.06846 18.2715 4.61572L18.3423 4.76543C18.4937 5.11849 18.5612 5.49736 18.5955 5.91797C18.6342 6.39072 18.6345 6.97553 18.6345 7.69907V12.8732Z",fill:"currentColor"})),categoryMessages={bug:{id:"feedback.dialog.category.bug",defaultMessage:"Bug",description:"Category label for reporting a bug"},badResult:{id:"feedback.dialog.category.badResult",defaultMessage:"Bad result",description:"Category label for reporting a bad result"},goodResult:{id:"feedback.dialog.category.goodResult",defaultMessage:"Good result",description:"Category label for reporting a good result"},other:{id:"feedback.dialog.category.other",defaultMessage:"Other",description:"Category label for reporting other types of feedback"}},CATEGORY_OPTIONS=[{key:"bug",message:categoryMessages.bug},{key:"bad-result",message:categoryMessages.badResult},{key:"good-result",message:categoryMessages.goodResult},{key:"other",message:categoryMessages.other}];function FeedbackDialog({open:Ye,onOpenChange:rt}){const it=useIntl(),lt=useToaster(),ct=useAppServerManager(),ht=useMatch("/local/:conversationId")?.params?.conversationId??null,[ft,pt]=reactExports.useState("bug"),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState(!0),[bt,_t]=reactExports.useState(!1),Ct=it.formatMessage({id:"feedback.dialog.descriptionPlaceholder",defaultMessage:"Describe the issue here",description:"Placeholder text for the feedback description textarea"}),kt=mt.trim(),St=reactExports.useEffectEvent(()=>{gt(""),xt(!0),pt("bug"),_t(!1)});reactExports.useEffect(()=>{Ye||St()},[Ye]);const Rt=async Tt=>{if(Tt.preventDefault(),kt.length!==0){_t(!0);try{await ct.submitFeedback({classification:ft,reason:kt,conversationId:ht,includeLogs:yt}),lt.success(it.formatMessage({id:"feedback.dialog.submitSuccess",defaultMessage:"Thanks for your feedback.",description:"Toast shown when feedback is submitted successfully"})),rt(!1)}catch(Mt){logger.error(`Failed to submit feedback: ${maybeErrorToString(Mt)}`),lt.danger(it.formatMessage({id:"feedback.dialog.submitError",defaultMessage:"We couldn't submit your feedback. Please try again in a moment.",description:"Toast shown when feedback submission fails"}))}finally{_t(!1)}}};return jsxRuntimeExports.jsx(Dialog,{open:Ye,onOpenChange:rt,children:jsxRuntimeExports.jsxs("form",{className:"flex flex-col gap-4",onSubmit:Rt,children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SvgComment,{className:"icon-sm text-token-foreground"}),jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"feedback.dialog.title",defaultMessage:"Feedback",description:"Title shown at the top of the feedback dialog"})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:CATEGORY_OPTIONS.map(Tt=>{const Mt=ft===Tt.key,Pt=Mt?SvgCheckMd:SvgPlus;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{pt(Tt.key)},className:clsx("border-token-border cursor-interaction flex items-center gap-1 rounded-full border px-3 py-1 text-sm transition","focus-visible:ring-token-focus-border focus-visible:outline-none focus-visible:ring-1",Mt?"bg-token-foreground text-token-dropdown-background":"text-token-foreground hover:bg-token-menu-background/60"),"aria-pressed":Mt,children:[jsxRuntimeExports.jsx(Pt,{className:"icon-xxs"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...Tt.message})]},Tt.key)})}),jsxRuntimeExports.jsx("textarea",{className:"text-token-input-foreground border-token-border focus:ring-token-focus-border min-h-[120px] w-full rounded-2xl border px-3 py-2 text-sm shadow-sm outline-none focus:ring-1",placeholder:Ct,"aria-label":Ct,value:mt,onChange:Tt=>{gt(Tt.target.value)}}),jsxRuntimeExports.jsxs("label",{className:"text-token-description-foreground flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(CheckboxComponent,{checked:yt,onCheckedChange:Tt=>{xt(!!Tt)}}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"feedback.dialog.includeLogsLabel",defaultMessage:"Include current Codex session logs",description:"Label for the checkbox that toggles including session logs"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button,{color:"primary",loading:bt,type:"submit",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"feedback.dialog.submit",defaultMessage:"Submit",description:"Label for the button that submits feedback"})})})]})})}function FeedbackSlashCommand(){const Ye=useIntl(),[rt,it]=reactExports.useState(!1);return useProvideSlashCommand({id:"feedback",title:Ye.formatMessage({id:"composer.feedbackSlashCommand.title",defaultMessage:"Feedback",description:"Title for the /feedback slash command"}),Icon:SvgComment,onSelect:reactExports.useCallback(async()=>{it(!0)},[])}),jsxRuntimeExports.jsx(FeedbackDialog,{open:rt,onOpenChange:it})}const filePreviewRouteStateSchema=object({filePath:string$2(),contents:string$2(),line:number().optional(),column:number().optional()});function isFilePreviewRouteState(Ye){return filePreviewRouteStateSchema.safeParse(Ye).success}function FilePreviewPage(){const Ye=useLocation(),rt=isFilePreviewRouteState(Ye.state)?Ye.state:null,it=rt?.contents??"",lt=reactExports.useMemo(()=>it.replace(/\r\n/g,`
`),[it]);return rt?jsxRuntimeExports.jsx("div",{className:"h-full overflow-auto",children:jsxRuntimeExports.jsx(CodeSnippet,{content:lt,shouldWrapCode:!0,showActionBar:!1,wrapperClassName:"border-0 shadow-none rounded-none",codeContainerClassName:"p-panel overflow-visible",codeClassName:"block"})}):jsxRuntimeExports.jsx("div",{className:"h-full"})}function Banner({title:Ye,content:rt,customCtas:it,onPrimaryCtaClick:lt,primaryCtaText:ct,primaryCtaColor:ut,secondaryCtaColor:ht,onSecondaryCtaClick:ft,onDangerCtaClick:pt,secondaryCtaText:mt,dangerCtaText:gt,Icon:yt,isPrimaryCtaDisabled:xt=!1,isSecondaryCtaDisabled:bt=!1,isDangerCtaDisabled:_t=!1,type:Ct="normal",className:kt,layout:St="horizontal"}){const Rt=St==="vertical",Tt=clsx("flex gap-2 pb-0",Rt?"w-full justify-end pt-0":"shrink-0"),Mt=it?jsxRuntimeExports.jsx("div",{className:Tt,children:it}):(ct||mt||gt)&&jsxRuntimeExports.jsxs("div",{className:Tt,children:[ct&&jsxRuntimeExports.jsx(Button,{onClick:lt,color:ut??"outline",className:"shrink-0",disabled:xt,children:ct}),mt&&jsxRuntimeExports.jsx(Button,{onClick:ft,color:ht??"ghost",className:"shrink-0",disabled:bt,children:mt}),gt&&jsxRuntimeExports.jsx(Button,{onClick:pt,color:"danger",className:"shrink-0",disabled:_t,children:gt})]}),Pt={error:"border-token-error-foreground/20 text-token-error-foreground bg-token-input-validation-error-background/20",info:"border-token-border bg-token-input-background text-token-foreground",normal:"border-token-border bg-token-input-background text-token-foreground"}[Ct],It=()=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[yt&&jsxRuntimeExports.jsx(yt,{className:"icon-sm shrink-0"}),Ye&&jsxRuntimeExports.jsx("h3",{className:"text-pretty text-sm font-bold",children:Ye})]}),Lt=Ot=>jsxRuntimeExports.jsx("div",{className:clsx("flex min-w-0 flex-1 flex-col",Ot),children:jsxRuntimeExports.jsx("div",{className:clsx("min-w-0 flex-1",Ye?Ct==="error"?"text-token-error-foreground":"text-token-description-foreground":""),children:rt})});return Rt?jsxRuntimeExports.jsx("div",{className:"bg-token-side-bar-background rounded-xl opacity-100",children:jsxRuntimeExports.jsxs("aside",{className:clsx("flex w-full flex-col gap-1.5 rounded-xl border py-2 pl-3 pr-2 text-sm [text-wrap:pretty] lg:mx-auto dark:border-transparent",Pt,kt),children:[(yt||Ye)&&It(),Lt("gap-1.5"),Mt]})}):jsxRuntimeExports.jsx("div",{className:"bg-token-side-bar-background rounded-xl opacity-100",children:jsxRuntimeExports.jsx("aside",{className:clsx("flex w-full items-center gap-4 rounded-xl border py-2 pl-3 pr-2 text-sm [text-wrap:pretty] lg:mx-auto dark:border-transparent",Pt,kt),children:jsxRuntimeExports.jsxs("div",{className:"flex h-full w-full items-center gap-2",children:[yt&&jsxRuntimeExports.jsx(yt,{className:"icon-sm shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 grow flex-row items-center justify-between gap-2",children:[Ye&&jsxRuntimeExports.jsx("h3",{className:"text-pretty text-sm font-bold",children:Ye}),Lt(),Mt]})]})})})}function ReasoningEffortLabelMessage({effort:Ye}){switch(Ye){case"none":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.none.label",defaultMessage:"None",description:"Reasoning effort label for a given model: none"});case"minimal":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.minimal.label",defaultMessage:"Minimal",description:"Reasoning effort label for a given model: minimal"});case"low":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.low.label",defaultMessage:"Low",description:"Reasoning effort label for a given model: low"});case"medium":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.medium.label",defaultMessage:"Medium",description:"Reasoning effort label for a given model: medium"});case"high":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.high.label",defaultMessage:"High",description:"Reasoning effort label for a given model: high"});case"xhigh":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.xhigh.label",defaultMessage:"Extra high",description:"Reasoning effort label for a given model: extra high"})}}function ReasoningModelNameMessage({model:Ye}){switch(Ye){case"codex-auto":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.codex_auto_reasoning.model",defaultMessage:"Codex auto",description:"Model name for gpt-5.1-codex"});case"gpt-5.1-codex":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_1_codex_reasoning.model",defaultMessage:"GPT-5.1-Codex",description:"Model name for gpt-5.1-codex"});case"gpt-5.1-codex-mini":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_1_codex_mini_reasoning.model",defaultMessage:"GPT-5.1-Codex-Mini",description:"Model name for gpt-5.1-codex-mini"});case"gpt-5.1-codex-max":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_1_codex_max_reasoning.model",defaultMessage:"GPT-5.1-Codex-Max",description:"Model name for gpt-5.1-codex-max"});case"gpt-5.1":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_1_reasoning.model",defaultMessage:"GPT-5.1",description:"Model name for gpt-5.1"});case"gpt-5-codex":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_codex_reasoning.model",defaultMessage:"GPT-5-Codex",description:"Model name for gpt-5-codex"});case"gpt-5-codex-mini":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_codex_mini_reasoning.model",defaultMessage:"GPT-5-Codex-Mini",description:"Model name for gpt-5-codex-mini"});case"gpt-5":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.gpt5_reasoning.model",defaultMessage:"GPT-5",description:"Model name for gpt-5"})}}const SvgSpeedometer=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10.8343 12.0693C10.0371 12.5295 9.01783 12.2564 8.55759 11.4592C8.09735 10.6621 8.37048 9.64276 9.16763 9.18253C10.1299 8.62697 14.0533 7.64478 14.3311 8.1259C14.6089 8.60703 11.7966 11.5137 10.8343 12.0693Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M16.585 10.25C16.585 6.6132 13.6368 3.66504 10 3.66504C6.3632 3.66504 3.41504 6.6132 3.41504 10.25C3.41504 12.4001 4.44494 14.31 6.04102 15.5127L6.36719 15.7432L6.47168 15.8291C6.68974 16.0482 6.73203 16.3973 6.55469 16.665C6.3772 16.9328 6.03875 17.0306 5.75195 16.915L5.63281 16.8516L5.24023 16.5752C3.32482 15.1316 2.08496 12.8355 2.08496 10.25C2.08496 5.87867 5.62867 2.33496 10 2.33496C14.3713 2.33496 17.915 5.87867 17.915 10.25C17.915 13.0079 16.5037 15.4356 14.3672 16.8516L14.248 16.915C13.9612 17.0306 13.6228 16.9328 13.4453 16.665C13.2425 16.3589 13.3267 15.946 13.6328 15.7432L13.959 15.5127C15.5551 14.31 16.585 12.4001 16.585 10.25Z",fill:"currentColor"})),aHasSeenModelBannerToggle=persistedAtom("has-seen-latest-model-banner",!1);function LatestModelBanner(){const Ye=useIntl(),{authMethod:rt}=useAuth(),it=rt==="copilot",lt=reactExports.useRef(!1),[ct,ut]=useAtom(aHasSeenModelBannerToggle),{modelSettings:ht,setModelAndReasoningEffort:ft}=useModelSettings(null,it),[pt,mt]=reactExports.useState(ct||rt==="chatgpt");return reactExports.useEffect(()=>{!ht.isLoading&&!AVAILABLE_MODELS.has(normalizeModel(ht.model))&&!lt.current&&!pt&&(ft(getModelUpgrade(normalizeModel(ht.model)),ht.reasoningEffort),lt.current=!0)},[ht,ht.isLoading,ft,pt]),reactExports.useEffect(()=>{ut(!0)},[ut]),ht.isLoading||pt?null:jsxRuntimeExports.jsx(Banner,{type:"info",layout:"horizontal",content:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex grow flex-row items-center gap-1 pb-1",children:[jsxRuntimeExports.jsx(SvgSpeedometer,{}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"latestModel.title",defaultMessage:"Codex just got better with {newModel}",description:"Headline for informing users that the latest GPT-5.1 related models are better",values:{newModel:ReasoningModelNameMessage({model:getModelUpgrade(normalizeModel(ht.model))})}})]}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"latestModel.subtitle",defaultMessage:"We've upgraded our family of models supported in Codex to GPT-5.1, GPT-5.1-Codex and GPT-5.1-Codex-Mini. You find the previous models under the legacy model dropdown. {learnMoreLink}",description:"Subtitle explaining Codex model upgrades and where to find legacy models",values:{learnMoreLink:jsxRuntimeExports.jsx("a",{href:"https://www.openai.com/index/gpt-5-1",target:"_blank",rel:"noopener noreferrer",className:"text-token-link",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"latestModel.learnMore",defaultMessage:"Learn more",description:"Link to learn more about the Codex model updates"})})}})})]}),customCtas:jsxRuntimeExports.jsx(IconButton,{onClick:()=>{mt(!0),ut(!0)},Icon:SvgX,"aria-label":Ye.formatMessage({id:"latestModel.dismiss",defaultMessage:"Dismiss",description:"A label for dismissing the latest model banner"}),className:"text-token-description-foreground hover:text-token-foreground focus-visible:outline-token-focus transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"})})}const aShowWindowsSandboxBanner=atom(!1);function useShowWindowsSandboxBanner(){const{data:Ye}=useOsInfo(),[rt,it]=useAtom(aShowWindowsSandboxBanner);return[reactExports.useMemo(()=>Ye?.platform==="win32"&&rt,[Ye,rt]),it]}const SvgRobot=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10 13.2135C11.7333 13.2136 13.331 13.7149 14.5117 14.5582C15.691 15.4006 16.4989 16.6247 16.499 18.0455C16.4988 18.4125 16.2009 18.7103 15.834 18.7106C15.4668 18.7106 15.1691 18.4127 15.1689 18.0455C15.1688 17.1656 14.6699 16.3057 13.7383 15.6403C12.8078 14.9757 11.488 14.5436 10 14.5436C8.51211 14.5436 7.19214 14.9758 6.26172 15.6403C5.33026 16.3057 4.83215 17.1657 4.83203 18.0455C4.83186 18.4126 4.53404 18.7104 4.16699 18.7106C3.79983 18.7106 3.50213 18.4127 3.50195 18.0455C3.50207 16.6246 4.3099 15.4006 5.48926 14.5582C6.66991 13.715 8.26685 13.2136 10 13.2135Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M7.91699 5.54553C8.60724 5.54566 9.16699 6.10526 9.16699 6.79553C9.16699 7.48581 8.60724 8.0454 7.91699 8.04553C7.22664 8.04553 6.66699 7.48589 6.66699 6.79553C6.66699 6.10518 7.22664 5.54553 7.91699 5.54553Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M12.083 5.54553C12.7734 5.54553 13.333 6.10518 13.333 6.79553C13.333 7.48589 12.7734 8.04553 12.083 8.04553C11.3928 8.0454 10.833 7.48581 10.833 6.79553C10.833 6.10526 11.3928 5.54566 12.083 5.54553Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.54749C10.3673 1.54749 10.665 1.84526 10.665 2.21252V2.79749H13.1113C13.554 2.79749 13.9248 2.7969 14.2275 2.82092C14.5377 2.84557 14.8331 2.89914 15.1143 3.03772C15.5745 3.26474 15.9478 3.63796 16.1748 4.09827C16.3133 4.37938 16.367 4.67495 16.3916 4.98499C16.4156 5.28762 16.415 5.65872 16.415 6.1012C16.415 6.99761 16.4157 7.70971 16.3701 8.28284C16.324 8.86308 16.2274 9.35876 16.0029 9.81409C15.6137 10.6032 14.9746 11.2422 14.1855 11.6315C13.73 11.8561 13.2339 11.9525 12.6533 11.9987C12.0802 12.0442 11.369 12.0446 10.4727 12.0446H9.52734C8.631 12.0446 7.91978 12.0442 7.34668 11.9987C6.76612 11.9525 6.26997 11.8561 5.81445 11.6315C5.02538 11.2422 4.38629 10.6032 3.99707 9.81409C3.77258 9.35876 3.67603 8.86308 3.62988 8.28284C3.58434 7.70971 3.58496 6.99761 3.58496 6.1012C3.58496 5.65872 3.5844 5.28762 3.6084 4.98499C3.63303 4.67495 3.6867 4.37938 3.8252 4.09827C4.05219 3.63796 4.42545 3.26474 4.88574 3.03772C5.16693 2.89914 5.46234 2.84557 5.77246 2.82092C6.07515 2.7969 6.44604 2.79749 6.88867 2.79749H9.33496V2.21252C9.33496 1.84526 9.63273 1.54749 10 1.54749ZM6.88867 4.12756C6.42452 4.12756 6.11484 4.12819 5.87695 4.14709C5.64679 4.16542 5.54082 4.19795 5.47363 4.23108C5.27602 4.3286 5.11605 4.48852 5.01855 4.68616C4.98547 4.75336 4.95287 4.85959 4.93457 5.08948C4.91569 5.32732 4.91504 5.63725 4.91504 6.1012C4.91504 7.01891 4.91567 7.66913 4.95605 8.17737C4.99587 8.67788 5.07138 8.98479 5.19043 9.2262C5.45025 9.75279 5.87667 10.1794 6.40332 10.4391C6.64477 10.5581 6.9515 10.6337 7.45215 10.6735C7.96034 10.7138 8.60976 10.7145 9.52734 10.7145H10.4727C11.3902 10.7145 12.0397 10.7138 12.5479 10.6735C13.0485 10.6337 13.3552 10.5581 13.5967 10.4391C14.1233 10.1794 14.5498 9.75279 14.8096 9.2262C14.9286 8.98479 15.0041 8.67788 15.0439 8.17737C15.0843 7.66913 15.085 7.01891 15.085 6.1012C15.085 5.63725 15.0843 5.32732 15.0654 5.08948C15.0471 4.85959 15.0145 4.75336 14.9814 4.68616C14.884 4.48852 14.724 4.3286 14.5264 4.23108C14.4592 4.19795 14.3532 4.16542 14.123 4.14709C13.8852 4.12819 13.5755 4.12756 13.1113 4.12756H6.88867Z",fill:"currentColor"}));function WindowsSandboxBannerContent({onEnableSandbox:Ye,onDismiss:rt}){return jsxRuntimeExports.jsx(Banner,{Icon:SvgRobot,type:"info",layout:"vertical",title:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsSandboxBanner.title",defaultMessage:"Enable sandbox for Agent mode",description:"Title for banner explaining that Codex Agent Mode has an experimental Windows sandbox environment"}),content:jsxRuntimeExports.jsx("div",{className:"mb-2 flex flex-col gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsSandboxBanner.content",defaultMessage:"Agent mode uses an experimental sandbox on Windows to limit filesystem and network access. {sandboxLink}",description:"Explains to Windows users that Codex can run in an experimental sandboxed environment",values:{sandboxLink:jsxRuntimeExports.jsx("a",{href:"https://developers.openai.com/codex/windows",target:"_blank",className:"text-token-text-link-foreground",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsInstallWslBanner.learnMore",defaultMessage:"Learn more",description:"Link to the Windows documentation"})})}})})}),onPrimaryCtaClick:Ye,primaryCtaColor:"primary",primaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsInstallWslBanner.installWslCta",defaultMessage:"Enable sandbox",description:"Primary button label shown when the user can enable the experimental Windows sandbox environment"}),secondaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsInstallWslBanner.dismiss",defaultMessage:"Dismiss",description:"Dismiss button text for the Windows sandbox banner"}),onSecondaryCtaClick:rt})}function WindowsSandboxBanner(){const[Ye,rt]=useShowWindowsSandboxBanner(),{setData:it,isLoading:lt}=useGlobalState(GlobalStateKey.WINDOWS_SANDBOX_ENABLED),{data:ct,setData:ut}=useConfiguration(ConfigurationKeys.RUN_CODEX_IN_WSL),[,ht]=useAtom(aAgentMode),[ft,pt]=reactExports.useState(!1);return reactExports.useEffect(()=>{ft&&setTimeout(()=>{messageBus.dispatchMessage("codex-app-server-restart",{})},500)},[ft]),!Ye||lt?null:jsxRuntimeExports.jsx(WindowsSandboxBannerContent,{onEnableSandbox:()=>{it(!0),ht("auto"),rt(!1),ct===!0?ut(!1):pt(!0)},onDismiss:()=>{rt(!1)}})}const aCloudTasksEnvFilterIdAtom=persistedAtom("cloudTasksEnvironmentFilterId",null),SvgSearch=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M14.6856 9.29553C14.6856 6.34909 12.2971 3.96057 9.35065 3.96057C6.40421 3.96057 4.01569 6.34909 4.01569 9.29553C4.01569 12.242 6.40421 14.6305 9.35065 14.6305C12.2971 14.6305 14.6856 12.242 14.6856 9.29553ZM16.0157 9.29553C16.0157 10.8995 15.4479 12.3701 14.504 13.5201L14.5704 13.5758L17.5704 16.5758L17.6563 16.6793C17.8268 16.9375 17.7976 17.289 17.5704 17.5162C17.3431 17.7431 16.9924 17.7716 16.7344 17.6012L16.6299 17.5162L13.6299 14.5162L13.5753 14.4489C12.4252 15.3928 10.9546 15.9606 9.35065 15.9606C5.66967 15.9606 2.68561 12.9765 2.68561 9.29553C2.68561 5.61455 5.66967 2.63049 9.35065 2.63049C13.0316 2.63049 16.0157 5.61455 16.0157 9.29553Z",fill:"currentColor"}));function RecentTaskSearch({searchQuery:Ye,onQueryChange:rt}){const it=useIntl();return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(SvgSearch,{className:"text-token-input-placeholder-foreground icon-2xs pointer-events-none absolute left-2 top-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsx("label",{className:"sr-only",htmlFor:"recent-tasks-search",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.search",defaultMessage:"Search recent tasks",description:"Label for the recent tasks menu search input"})}),jsxRuntimeExports.jsx("input",{id:"recent-tasks-search",className:"bg-token-input-background text-token-foreground placeholder:text-token-input-placeholder-foreground border-token-border w-full rounded-xl border py-1.5 pl-7 pr-8 text-sm focus:outline-none",type:"text",value:Ye,onChange:lt=>rt(lt.target.value),placeholder:it.formatMessage({id:"codex.recentTasksMenu.search",defaultMessage:"Search recent tasks",description:"Label for the recent tasks menu search input"})}),Ye.length>0?jsxRuntimeExports.jsx(Button,{className:"text-token-input-placeholder-foreground hover:text-token-foreground absolute right-2 top-1/2 -translate-y-1/2",size:"icon",color:"ghost",onClick:()=>rt(""),"aria-label":it.formatMessage({id:"codex.recentTasksMenu.clearSearch",defaultMessage:"Clear search",description:"Button label to clear the recent tasks menu search input"}),children:jsxRuntimeExports.jsx(SvgX,{className:"icon-2xs"})}):null]})}function RecentTasksMenuEmptyState(){return jsxRuntimeExports.jsx("div",{className:"text-token-input-placeholder-foreground flex h-48 items-center justify-center text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.empty",defaultMessage:"No tasks yet",description:"Empty state for recent tasks menu"})})}const aEnvironmentAtom=persistedAtom("environment",null),useEnvironment=()=>useAtomValue(aEnvironmentAtom);function RecentTasksMenuEnvironmentsFilterDropdown({className:Ye}){const rt=useIntl(),[it,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),[ht,ft]=useAtom(aCloudTasksEnvFilterIdAtom),pt=useEnvironment(),{data:mt,isLoading:gt,isError:yt,refetch:xt}=useWorkspaceEnvironments(),{data:bt,isLoading:_t,isError:Ct,refetch:kt}=useEnvironmentSearch(ct,{enabled:ct.trim().length>0}),St=reactExports.useMemo(()=>{const Tt=ct.trim(),Mt=Tt.length>0?bt??[]:mt??[];if(Tt.length===0&&pt){const Pt=Mt.find(Lt=>Lt.id===pt.id);if(!Pt)return Mt;const It=Mt.filter(Lt=>Lt.id!==pt.id);return[Pt,...It]}return Mt},[mt,bt,ct,pt]),Rt=reactExports.useMemo(()=>mt?.find(Tt=>Tt.id===ht)??null,[ht,mt]);return jsxRuntimeExports.jsx(BasicDropdown,{contentClassName:"w-60",side:"top",open:it,onOpenChange:lt,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.filterTooltip",defaultMessage:"Filter tasks by environment",description:"Tooltip explaining the environment filter button"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:ht?"default":"icon",className:clsx("mr-1",Ye),children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(SvgDock,{className:"icon-2xs"}),!!ht&&Rt?.label&&jsxRuntimeExports.jsx("span",{className:"text-sm",children:Rt.label})]})})}),children:jsxRuntimeExports.jsxs("div",{className:"flex max-w-full flex-col px-1 py-1",children:[jsxRuntimeExports.jsx("div",{className:"text-token-input-placeholder-foreground px-1 pb-1 text-xs uppercase tracking-wide",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.filterCloudTasks",defaultMessage:"Filter cloud tasks",description:"Title for environment filter menu in recent tasks"})}),jsxRuntimeExports.jsx(Dropdown.Item,{className:ht?void 0:"font-medium",RightIcon:ht?void 0:SvgCheckMd,onClick:()=>{ft(null),lt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.filterAll",defaultMessage:"All",description:"All environments filter option"})}),jsxRuntimeExports.jsx(Dropdown.Separator,{className:"px-1"}),jsxRuntimeExports.jsxs("div",{className:"my-1 grid w-full grid-cols-[auto_1fr] items-center px-2.5",children:[jsxRuntimeExports.jsx(SvgSearch,{className:"text-token-icon-foreground icon-2xs"}),jsxRuntimeExports.jsx(Dropdown.Input,{placeholder:rt.formatMessage({id:"composer.searchEnvironments",defaultMessage:"Search environments",description:"Search environments placeholder"}),value:ct,onChange:Tt=>ut(Tt.currentTarget.value)})]}),jsxRuntimeExports.jsx("div",{className:"flex max-h-[140px] flex-col overflow-y-auto px-1 pb-1",children:ct.trim().length>0&&Ct?jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex items-center justify-center gap-2 px-2 py-3 text-sm",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.searchError",defaultMessage:"Failed to search environments.",description:"Error shown when environment search fails"})}),jsxRuntimeExports.jsx(Button,{size:"default",color:"outline",onClick:()=>kt(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.common.retry",defaultMessage:"Retry",description:"Retry button"})})]}):ct.trim().length===0&&yt?jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex items-center justify-center gap-2 px-2 py-3 text-sm",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.listError",defaultMessage:"Failed to load environments.",description:"Error shown when listing environments fails"})}),jsxRuntimeExports.jsx(Button,{size:"default",color:"outline",onClick:()=>xt(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.common.retry",defaultMessage:"Retry",description:"Retry button"})})]}):St?.length>0?St.map(Tt=>{const Mt=Tt.id===ht;return jsxRuntimeExports.jsx(Dropdown.Item,{className:Mt?"font-medium":void 0,RightIcon:Mt?SvgCheckMd:void 0,onClick:()=>{ft(Tt.id),lt(!1)},children:Tt.label},Tt.id)}):_t||gt?jsxRuntimeExports.jsx(Spinner,{className:"text-token-description-foreground icon-xxs my-2 ms-2 self-center"}):jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground self-center px-2 py-3 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.noEnvironmentsFound",defaultMessage:"No environments found",description:"Message shown when no Codex environments were found"})})})]})})}const SvgChevron=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M15.2793 7.71101C15.539 7.45131 15.961 7.45131 16.2207 7.71101C16.4804 7.97071 16.4804 8.39272 16.2207 8.65242L10.4707 14.4024C10.211 14.6621 9.78902 14.6621 9.52932 14.4024L3.77932 8.65242L3.69436 8.54792C3.52385 8.28979 3.55205 7.93828 3.77932 7.71101C4.00659 7.48374 4.3581 7.45554 4.61623 7.62605L4.72073 7.71101L10 12.9903L15.2793 7.71101Z",fill:"currentColor"}));function RecentsMenuHeader({filter:Ye,onSelect:rt}){let it;switch(Ye){case"recent":it={id:"codex.recentTasksMenu.recent",defaultMessage:"All tasks",description:"Menu title for recent Codex tasks"};break;case"cloud":it={id:"codex.recentTasksMenu.cloud",defaultMessage:"Cloud tasks",description:"Menu title for cloud Codex tasks"};break;case"local":it={id:"codex.recentTasksMenu.local",defaultMessage:"Local tasks",description:"Menu title for local Codex tasks"};break}return jsxRuntimeExports.jsx(BasicDropdown,{triggerButton:jsxRuntimeExports.jsxs("button",{className:"text-token-input-placeholder-foreground hover:text-token-foreground flex items-center gap-1 px-2 pt-2 text-sm font-medium",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...it})}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs"})]}),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col px-1",children:[jsxRuntimeExports.jsx(Dropdown.Item,{onClick:()=>rt("recent"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.recent",defaultMessage:"All tasks",description:"Menu title for recent Codex tasks"})}),jsxRuntimeExports.jsx(Dropdown.Item,{onClick:()=>rt("cloud"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.cloud",defaultMessage:"Cloud tasks",description:"Menu title for cloud Codex tasks"})}),jsxRuntimeExports.jsx(Dropdown.Item,{onClick:()=>rt("local"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.local",defaultMessage:"Local tasks",description:"Menu title for local Codex tasks"})})]})})}function SearchTasksEmptyState(){return jsxRuntimeExports.jsx("div",{className:"text-token-input-placeholder-foreground flex h-48 items-center justify-center text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.searchEmpty",defaultMessage:"No result",description:"Empty state for recent tasks menu search results"})})}function containsQuery(Ye,rt){return typeof Ye=="string"&&Ye.toLowerCase().includes(rt)}const aFilterStateAtom=persistedAtom("recent-tasks-filter","recent");function RecentTasksMenu({cloudtasksQuery:Ye,localConversations:rt,onClose:it}){const lt=useIntl(),{authMethod:ct}=useAuth(),[ut,ht]=useAtom(aFilterStateAtom),[ft]=useAtom(aCloudTasksEnvFilterIdAtom),{data:pt}=useWorkspaceEnvironments(),mt=reactExports.useMemo(()=>pt?.find(Mt=>Mt.id===ft)??null,[ft,pt]),gt=useMergedTasks(Ye,rt,mt),[yt,xt]=reactExports.useState(""),_t=reactExports.useDeferredValue(yt).trim().toLowerCase(),Ct=_t.length>0,kt=reactExports.useMemo(()=>gt.filter(Mt=>Mt.kind==="remote"),[gt]),St=reactExports.useMemo(()=>Ct?kt.filter(({task:Mt})=>containsQuery(Mt.title,_t)):kt,[kt,Ct,_t]),Rt=reactExports.useMemo(()=>Ct?rt.filter(Mt=>containsQuery(getLocalConversationTitle(Mt),_t)):rt,[rt,Ct,_t]),Tt=reactExports.useMemo(()=>Ct?gt.filter(Mt=>Mt.kind==="remote"?containsQuery(Mt.task.title,_t):Mt.kind==="local"?containsQuery(getLocalConversationTitle(Mt.conversation),_t):containsQuery(getWorktreeTitle(Mt.task,lt),_t)):gt,[gt,Ct,lt,_t]);return jsxRuntimeExports.jsxs("div",{className:"flex max-h-[300px] w-[var(--radix-popper-available-width)] flex-col gap-2",children:[ct==="chatgpt"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-1",children:[jsxRuntimeExports.jsx(RecentsMenuHeader,{filter:ut,onSelect:ht}),ut!=="local"&&jsxRuntimeExports.jsx(RecentTasksMenuEnvironmentsFilterDropdown,{})]}),jsxRuntimeExports.jsx("div",{className:"px-1",children:jsxRuntimeExports.jsx(RecentTaskSearch,{searchQuery:yt,onQueryChange:xt})}),jsxRuntimeExports.jsxs("div",{className:"vertical-scroll-fade-mask flex max-h-[60vh] flex-col gap-0 overflow-y-auto px-1 pb-1",children:[ut==="cloud"&&(Ye.isError?jsxRuntimeExports.jsx(ErrorState,{onRetry:()=>Ye.refetch()}):Ye.isLoading?jsxRuntimeExports.jsx(LoadingState,{}):St.length===0?Ct?jsxRuntimeExports.jsx(SearchTasksEmptyState,{}):jsxRuntimeExports.jsx(RecentTasksMenuEmptyState,{}):St.map(Mt=>jsxRuntimeExports.jsx(CloudTaskRow,{task:Mt.task,onClose:it,showCloudIcon:!1},Mt.key))),ut==="local"&&(Rt.length?Rt.map(Mt=>jsxRuntimeExports.jsx(LocalTaskRow,{conversation:Mt,onClick:it},Mt.id)):Ct?jsxRuntimeExports.jsx(SearchTasksEmptyState,{}):jsxRuntimeExports.jsx(RecentTasksMenuEmptyState,{})),ut==="recent"&&(Ye.isError&&gt.length===0?jsxRuntimeExports.jsx(ErrorState,{onRetry:()=>Ye.refetch()}):Ye.isLoading&&gt.length===0?jsxRuntimeExports.jsx(LoadingState,{}):Tt.length===0?Ct?jsxRuntimeExports.jsx(SearchTasksEmptyState,{}):jsxRuntimeExports.jsx(RecentTasksMenuEmptyState,{}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ye.isError&&jsxRuntimeExports.jsxs("div",{className:"text-token-foreground mx-1 my-1 flex items-center justify-between gap-2 px-1 text-base",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.errorCloud.inline",defaultMessage:"Failed to load cloud tasks.",description:"Inline error indicator for cloud tasks in recent feed"}),jsxRuntimeExports.jsx(Button,{size:"default",color:"outline",onClick:()=>Ye.refetch(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.common.retry",defaultMessage:"Retry",description:"Retry button"})})]}),Ye.isPending&&!gt.length&&jsxRuntimeExports.jsx("div",{className:"text-token-input-placeholder-foreground mx-1 my-1 flex items-center gap-2 text-sm",children:jsxRuntimeExports.jsx(Spinner,{className:"icon-xs"})}),Tt.map(Mt=>jsxRuntimeExports.jsx(MergedTaskRow,{item:Mt,onClose:it},Mt.key))]}))]})]})}function MergedTaskRow({item:Ye,onClose:rt}){switch(Ye.kind){case"remote":return jsxRuntimeExports.jsx(CloudTaskRow,{task:Ye.task,onClose:rt});case"local":return jsxRuntimeExports.jsx(LocalTaskRow,{conversation:Ye.conversation,onClick:rt});case"worktree-initialization":return jsxRuntimeExports.jsx(WorktreeInitRow,{task:Ye.task})}}function getWorktreeTitle(Ye,rt){const it=Ye.label?.trim();if(it&&it.length>0)return it;if(Ye.status==="init-failed")return rt.formatMessage({id:"recentTasks.worktreeInitFailedTitle",defaultMessage:"Worktree init failed",description:"Worktree row title when the init script fails"});const lt=Ye.step!=null?getWorktreeStepDescriptor(Ye.step):null;return lt?rt.formatMessage(lt):rt.formatMessage({id:"recentTasks.worktreeSettingUpTitle",defaultMessage:"Setting up worktree",description:"Worktree row title while init is pending"})}function LoadingState(){return jsxRuntimeExports.jsx("div",{className:"text-token-input-placeholder-foreground flex h-48 items-center justify-center gap-2 text-sm",children:jsxRuntimeExports.jsx(Spinner,{className:"icon-xs"})})}function ErrorState({onRetry:Ye}){return jsxRuntimeExports.jsxs("div",{className:"text-token-input-placeholder-foreground flex h-48 items-center justify-center gap-3 text-sm",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.errorCloud",defaultMessage:"Failed to load tasks.",description:"Error state for cloud tasks in recent tasks menu"}),jsxRuntimeExports.jsx(Button,{size:"default",color:"outline",onClick:Ye,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.common.retry",defaultMessage:"Retry",description:"Retry button"})})]})}const SvgHistory=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M17.1348 10.5455C17.1348 7.04681 14.2986 4.21057 10.7998 4.21057C8.59509 4.21063 6.65256 5.33708 5.5176 7.04749H7.34963C7.7169 7.04749 8.01467 7.34525 8.01467 7.71252C8.01447 8.07963 7.71678 8.37756 7.34963 8.37756H4.09963C3.73265 8.37737 3.43479 8.07951 3.43459 7.71252V4.46252C3.43459 4.09537 3.73253 3.79768 4.09963 3.79749C4.4669 3.79749 4.76467 4.09526 4.76467 4.46252V5.81995C6.16735 4.03097 8.34882 2.88054 10.7998 2.88049C15.0331 2.88049 18.4649 6.31227 18.4649 10.5455C18.4649 14.7788 15.0331 18.2106 10.7998 18.2106C7.32665 18.2105 4.39432 15.9006 3.45217 12.735C3.34762 12.3831 3.54851 12.0126 3.90041 11.9078C4.25233 11.8033 4.62283 12.0042 4.72756 12.3561C5.50658 14.9731 7.93122 16.8804 10.7998 16.8805C14.2986 16.8805 17.1348 14.0443 17.1348 10.5455ZM10.1348 7.54553C10.1348 7.17832 10.4326 6.88058 10.7998 6.88049C11.1671 6.88049 11.4649 7.17826 11.4649 7.54553V10.5455C11.4649 10.7219 11.3952 10.8915 11.2705 11.0162L9.27053 13.0162C9.01096 13.2757 8.58981 13.2755 8.3301 13.0162C8.0704 12.7565 8.0704 12.3345 8.3301 12.0748L10.1348 10.2701V7.54553Z",fill:"currentColor"}));function RecentTasksMenuTrigger(){const{authMethod:Ye}=useAuth(),rt=useConversations(),[it,lt]=reactExports.useState(!1),ct=useTasks({taskFilter:"current",limit:20,enabled:it&&Ye==="chatgpt"}),ut=(ct.data??[]).filter(xt=>{const bt=xt.task_status_display?.latest_turn_status_display?.turn_status;return bt==="in_progress"||bt==="pending"}),ht=rt.filter(xt=>{if(xt.resumeState==="needs_resume")return!1;if(xt.resumeState==="resuming")return!0;const bt=xt.turns[xt.turns.length-1];return bt?!bt.notifications.some(Ct=>Ct.method==="codex/event/task_complete"||Ct.method==="codex/event/turn_aborted"):!1}),ft=ut.length+ht.length,pt=useMatch("/local/:conversationId"),mt=useMatch("/remote/:taskId"),gt=!!pt&&ht.some(xt=>xt.id===pt.params?.conversationId)||!!mt&&ut.some(xt=>xt.id===mt.params?.taskId),yt=ft>0&&!(ft===1&&gt);return reactExports.useEffect(()=>{it&&Ye==="chatgpt"&&ct.refetch()},[it]),reactExports.useEffect(()=>{const xt=bt=>lt(!0);return window.addEventListener("open-recent-tasks-menu",xt),()=>window.removeEventListener("open-recent-tasks-menu",xt)},[]),jsxRuntimeExports.jsx(BasicDropdown,{contentClassName:"!pb-0 mt-[9px]",triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.recentTasksMenu.tooltip",defaultMessage:"Task history",description:"Tooltip text for recent tasks menu"}),children:jsxRuntimeExports.jsx(IconButton,{children:yt?jsxRuntimeExports.jsxs("span",{className:"relative inline-flex size-4 justify-center",children:[jsxRuntimeExports.jsx(Spinner,{className:"icon-xs"}),jsxRuntimeExports.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium",children:ft})]}):jsxRuntimeExports.jsx(SvgHistory,{className:"icon-xs hover:opacity-80"})})}),open:it,onOpenChange:lt,children:jsxRuntimeExports.jsx(RecentTasksMenu,{cloudtasksQuery:ct,localConversations:rt,onClose:()=>lt(!1)})})}const SvgArrowLeft=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M8.8011 3.611C9.05912 3.44087 9.40989 3.46898 9.63703 3.69596C9.89673 3.95566 9.89673 4.37767 9.63703 4.63737L4.93977 9.33463H16.6663L16.8011 9.34831C17.1038 9.41043 17.3312 9.67859 17.3314 9.99967C17.3314 10.3209 17.1039 10.5888 16.8011 10.651L16.6663 10.6647H4.93879L9.63703 15.363L9.722 15.4674C9.89241 15.7255 9.86413 16.0761 9.63703 16.3034C9.40981 16.5306 9.05921 16.5587 8.8011 16.3883L8.69661 16.3034L2.86262 10.4704C2.60319 10.2108 2.6033 9.78962 2.86262 9.52995L8.69661 3.69596L8.8011 3.611Z",fill:"currentColor"}));function Header({className:Ye,title:rt,trailing:it}){const lt=useLocation(),ct=useNavigate(),ut=lt.pathname==="/",ht=reactExports.useCallback(()=>{const yt={focusComposerNonce:Date.now()};initialRoute?messageBus.dispatchMessage("open-vscode-command",{command:"chatgpt.newCodexPanel"}):ct("/",{state:yt})},[ct]),ft=useConversations(),pt=useTasks({taskFilter:"current",limit:20,enabled:ut}),mt=useMergedTasks(pt,ft,null),gt=initialRoute==null;return useMessage("new-chat",ht,[ht]),jsxRuntimeExports.jsx(AppHeader,{children:jsxRuntimeExports.jsxs("div",{className:clsx("draggable extension:px-panel",Ye),children:[jsxRuntimeExports.jsxs("div",{className:"extension:py-row-y electron:h-toolbar browser:h-toolbar flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"mr-3 line-clamp-1 flex min-w-0 flex-1 items-center gap-1 truncate",style:{viewTransitionName:"header-title"},children:rt?jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-1",children:[gt?jsxRuntimeExports.jsx(BackButton,{onClick:ht}):null,jsxRuntimeExports.jsx("span",{className:"text-token-foreground electron:font-medium min-w-0 flex-1 truncate text-base",children:rt})]}):jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(RecentTasksHeaderLabel,{mergedTasks:mt,onBack:ht,showBackButton:gt})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[it,jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx("div",{className:"mr-1 flex flex-shrink-0 items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(RecentTasksMenuTrigger,{}),jsxRuntimeExports.jsx(ProfileDropdown,{}),jsxRuntimeExports.jsx(NewChatButton,{})]})})})]})]}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:ut&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(RecentTasksInline,{tasksQuery:pt,mergedTasks:mt})})})]})})}function RecentTasksHeaderLabel({mergedTasks:Ye,onBack:rt,showBackButton:it}){const ct=useLocation().pathname==="/",ht=useMatch("/local/:conversationId")?.params?.conversationId??null,ft=useMatch("/remote/:taskId")?.params?.taskId??null,{data:pt}=useTaskDetails(ft),mt=useLocalConversation(ht);if(ft&&pt?.task?.title)return jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-1",children:[it?jsxRuntimeExports.jsx(BackButton,{onClick:rt}):null,jsxRuntimeExports.jsx("span",{className:"text-token-foreground min-w-0 flex-1 text-base",children:pt.task.title})]});if(ht&&mt){const gt=getLocalConversationTitle(mt);return jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-1",children:[it?jsxRuntimeExports.jsx(BackButton,{onClick:rt}):null,jsxRuntimeExports.jsx("span",{className:"text-token-foreground min-w-0 flex-1 text-base",children:gt||jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.taskRow.title",defaultMessage:"Codex task",description:"Default title for a Codex task that doesn't have a title"})})]})}return ct?Ye.length===0?null:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"header.recentChats",defaultMessage:"Tasks",description:"Header label for recent tasks"}):null}function BackButton({onClick:Ye}){return jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"header.back",defaultMessage:"Back",description:"Tooltip for back button to start a new chat"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon",onClick:Ye,className:"opacity-70 hover:bg-transparent hover:opacity-100 focus:bg-transparent active:bg-transparent",children:jsxRuntimeExports.jsx(SvgArrowLeft,{className:"size-3"})})})})}function useNux(){const{data:Ye,isLoading:rt}=useGlobalState(GlobalStateKey.NUX_2025_09_15),{data:it,isLoading:lt}=useGlobalState(GlobalStateKey.HAS_PROBABLY_SEEN_2025_08_27_NUX),{authMethod:ct}=useAuth();if(!(rt||lt)){if(Ye)return"none";switch(ct){case"chatgpt":return it?"none":"2025-09-15-full-chatgpt-auth";case"apikey":case"copilot":return it?"none":"2025-09-15-apikey-auth";case null:return"none"}}}function UpsellBannerInner({onConnect:Ye,onDismiss:rt,isDismissed:it,isDismissedLoading:lt}){const[ct,ut]=reactExports.useState(!1),ht=async()=>{if(!ct){ut(!0);try{await rt?.()}finally{ut(!1)}}};return lt||it?null:jsxRuntimeExports.jsx(Banner,{type:"info",layout:"vertical",primaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.home.upsellBanner.connectCta",defaultMessage:"Try it",description:"Primary CTA for trying Codex Cloud upsell"}),primaryCtaColor:"primary",onPrimaryCtaClick:Ye,secondaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.home.upsellBanner.laterCta",defaultMessage:"Later",description:"Secondary CTA to defer Codex upsell banner"}),onSecondaryCtaClick:ht,isSecondaryCtaDisabled:ct,secondaryCtaColor:"secondary",content:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 flex-col gap-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"flex items-center gap-2 text-base font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.home.upsellBanner.subhead",defaultMessage:"<highlight>New</highlight> Codex Cloud",description:"Subheading describing Codex Cloud with highlighted New badge",values:{highlight:ft=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center rounded-full bg-sky-500/20 px-2 py-0.5 text-sm font-semibold uppercase leading-none tracking-wide text-sky-500",children:ft})}})}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground leading-[18px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.home.upsellBanner.headline",defaultMessage:"Run tasks in parallel, track progress on web or phone, and review PRs with AI.",description:"Call to action highlighting Codex Cloud benefits"})})]})})}function UpsellBanner(){const Ye=useStatsigGate("codex_ide_upsell_banner_codex_remote"),{data:rt,error:it,isLoading:lt}=useTasks({taskFilter:"current",limit:20,enabled:Ye}),{data:ct,setData:ut,isLoading:ht}=useGlobalState(GlobalStateKey.UPSELL_BANNER_CODEX_REMOTE_DISMISSED_AT),ft=!lt&&it==null&&(rt?.length??0)===0,pt=ct!=null,mt=Ye&&ft,gt=async()=>{await ut(new Date().toISOString())},yt=()=>{messageBus.dispatchMessage("open-in-browser",{url:"https://www.chatgpt.com/codex"}),ut(new Date().toISOString())};return mt?jsxRuntimeExports.jsx(UpsellBannerInner,{onConnect:yt,onDismiss:gt,isDismissed:pt,isDismissedLoading:ht}):null}const SvgImages=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M9.78761 8.98867C10.4712 8.89259 11.1036 9.36948 11.1997 10.0531C11.2956 10.7365 10.8195 11.368 10.1362 11.4643C9.45261 11.5603 8.82022 11.0844 8.72413 10.4008C8.62807 9.71722 9.10409 9.08485 9.78761 8.98867Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7886 6.0414C11.2476 6.02273 11.6609 6.05214 12.0581 6.19668L12.2896 6.2914C12.8185 6.53277 13.2722 6.91616 13.5991 7.40078L13.6831 7.53457C13.8673 7.8508 13.9758 8.2014 14.0571 8.59511C14.1485 9.03737 14.2154 9.59027 14.2993 10.2738L14.645 13.0863L14.7554 14.017C14.7853 14.2969 14.8067 14.5482 14.8159 14.7738C14.8322 15.1756 14.8118 15.5425 14.7095 15.8939L14.6607 16.0434C14.4606 16.5927 14.1126 17.0748 13.6577 17.4369L13.4566 17.5844C13.1061 17.8206 12.712 17.9495 12.2622 18.0424C12.0411 18.088 11.792 18.1277 11.5132 18.1664L10.5835 18.2846L7.77101 18.6303C7.0875 18.7142 6.53468 18.7828 6.08351 18.8012C5.68178 18.8175 5.31482 18.797 4.96339 18.6947L4.81398 18.6459C4.26456 18.4459 3.7826 18.0979 3.42042 17.643L3.27296 17.4418C3.03657 17.0913 2.90791 16.6973 2.81495 16.2475C2.76929 16.0263 2.72967 15.7773 2.69093 15.4984L2.57277 14.5687L2.22706 11.7562C2.14314 11.0727 2.07457 10.52 2.05617 10.0687C2.0375 9.60981 2.06699 9.19639 2.21144 8.79922L2.30617 8.56777C2.54744 8.03904 2.93118 7.58514 3.41554 7.2582L3.54933 7.17422C3.86546 6.99009 4.21632 6.88152 4.60988 6.80019C5.05208 6.70887 5.60508 6.64193 6.28859 6.558L9.10109 6.2123L10.0318 6.10195C10.3116 6.07208 10.563 6.0506 10.7886 6.0414ZM7.15675 13.5141C6.79145 13.4326 6.40946 13.4653 6.063 13.6068C5.90382 13.6719 5.72865 13.7891 5.46925 14.0375C5.20405 14.2915 4.89153 14.6417 4.44093 15.1478L4.04835 15.5873C4.07074 15.7309 4.09328 15.8607 4.11769 15.9789C4.19391 16.3477 4.27639 16.5507 4.3755 16.6977L4.46144 16.8148C4.67137 17.0784 4.95072 17.28 5.26906 17.3959L5.4048 17.4359C5.55363 17.4695 5.74661 17.4835 6.02882 17.4721C6.41319 17.4564 6.90349 17.3966 7.6089 17.31L10.4214 16.9652L11.3306 16.849C11.4173 16.837 11.4997 16.8239 11.5776 16.8119L9.01515 14.7611C8.48585 14.3377 8.11809 14.0451 7.81398 13.8393C7.59115 13.6884 7.4273 13.6015 7.28859 13.5521L7.15675 13.5141ZM10.8433 7.3705C10.6511 7.37834 10.4319 7.39752 10.1734 7.42519L9.2632 7.53261L6.4507 7.87734C5.7453 7.96395 5.25516 8.02511 4.87843 8.10293C4.60177 8.16012 4.41806 8.2209 4.28175 8.28945L4.15968 8.36074C3.87873 8.55039 3.65599 8.81377 3.51613 9.1205L3.46144 9.25429C3.40095 9.42082 3.36999 9.63801 3.38527 10.0141C3.40093 10.3985 3.46076 10.8887 3.54738 11.5941L3.82277 13.8441L4.04445 13.598C4.22633 13.4 4.39308 13.2262 4.54933 13.0766C4.86771 12.7717 5.18302 12.5295 5.56007 12.3754L5.78663 12.2924C6.32151 12.1201 6.8945 12.0933 7.44581 12.2162L7.59327 12.2533C7.93153 12.3516 8.23993 12.5217 8.55909 12.7377C8.91739 12.9802 9.33253 13.3129 9.84523 13.723L12.9966 16.2436C13.1786 16.0578 13.3207 15.8353 13.4107 15.5883L13.4507 15.4525C13.4842 15.3037 13.4983 15.1107 13.4868 14.8285C13.479 14.6363 13.4598 14.4172 13.4321 14.1586L13.3247 13.2484L12.98 10.4359C12.8934 9.73047 12.8322 9.24045 12.7544 8.86367C12.6972 8.58683 12.6364 8.40337 12.5679 8.26699L12.4966 8.14492C12.3069 7.86372 12.0438 7.64132 11.7368 7.50136L11.603 7.44668C11.4365 7.38611 11.2195 7.35522 10.8433 7.3705Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M10.1284 2.04433C10.5797 2.06272 11.1322 2.13128 11.8159 2.21523L14.6284 2.56093L15.5581 2.6791C15.8371 2.71785 16.0859 2.75743 16.3071 2.80312C16.7572 2.89608 17.1509 3.02469 17.5015 3.26113L17.7026 3.40859C18.1576 3.77081 18.5056 4.25266 18.7056 4.80215L18.7544 4.95156C18.8567 5.30308 18.8772 5.66983 18.8609 6.07168C18.8517 6.29737 18.8292 6.54845 18.7993 6.82851L18.69 7.75918L18.3443 10.5717C18.2603 11.2553 18.1934 11.8081 18.1021 12.2504C18.0207 12.6441 17.9122 12.9947 17.728 13.3109L17.6441 13.4447C17.4958 13.6644 17.321 13.8633 17.1255 14.0375L17.0171 14.1166C16.7496 14.272 16.4009 14.2236 16.187 13.9838C15.9428 13.7096 15.9666 13.2887 16.2407 13.0443L16.4019 12.8822C16.4519 12.8249 16.4986 12.7642 16.5415 12.7006L16.6128 12.5785C16.6814 12.4421 16.7421 12.2587 16.7993 11.9818C16.8772 11.605 16.9383 11.1152 17.0249 10.4096L17.3696 7.59707L17.4771 6.68691C17.5048 6.4282 17.5239 6.20924 17.5318 6.01699C17.5432 5.73461 17.5291 5.54185 17.4956 5.39297L17.4556 5.25722C17.3397 4.93883 17.1381 4.65957 16.8745 4.44961L16.7573 4.36367C16.6104 4.26455 16.4075 4.18209 16.0386 4.10586C15.8502 4.06694 15.6332 4.0322 15.3755 3.99648L14.4663 3.88027L11.6538 3.53554C10.9481 3.44889 10.4582 3.38908 10.0737 3.37343C9.79132 3.36196 9.59863 3.37606 9.44972 3.40957L9.31398 3.44961C8.99538 3.56557 8.7154 3.76688 8.50538 4.03066L8.42042 4.14785C8.35296 4.24787 8.2929 4.37415 8.23781 4.55996L8.18702 4.68496C8.04156 4.95771 7.71958 5.10015 7.41163 5.00918C7.0595 4.90482 6.85806 4.53416 6.96242 4.18203L7.03077 3.975C7.10472 3.77224 7.19741 3.58233 7.31788 3.40371L7.46534 3.20254C7.82758 2.74758 8.30939 2.39961 8.8589 2.19961L9.00831 2.15078C9.35983 2.04849 9.72658 2.02799 10.1284 2.04433Z",fill:"currentColor"}));function wrapIndex(Ye,rt){if(rt<=0)return-1;const it=Ye%rt;return it<0?it+rt:it}function useListNavigation(Ye){const{items:rt,isActive:it,onSelect:lt,onHighlight:ct,onEscape:ut,autoHighlightFirst:ht=!0}=Ye,ft=reactExports.useEffectEvent(ct??(()=>{})),pt=reactExports.useRef(null),mt=reactExports.useRef(null),gt=rt.length,[yt,xt]=reactExports.useState(ht&&gt>0?0:-1);reactExports.useEffect(()=>{const Tt=mt.current,Mt=Tt!=null&&(Tt.length!==gt||Tt.some((Pt,It)=>Pt!==rt[It]));if(mt.current=rt,!it){xt(-1);return}if(gt===0){xt(-1);return}xt(Pt=>!Mt&&Pt>=0&&Pt<gt?Pt:ht?0:-1)},[ht,it,rt,gt]),reactExports.useEffect(()=>{if(ft){if(!it||yt<0||yt>=gt){ft(null,-1);return}ft(rt[yt]??null,yt)}},[yt,it,rt,gt]),reactExports.useEffect(()=>{if(!it||yt<0||yt>=gt)return;const Tt=pt.current;if(!Tt)return;Tt.children.item(yt)?.scrollIntoView({block:"nearest"})},[yt,it,gt]);const bt=reactExports.useCallback(Tt=>{const Mt=Tt>=0&&Tt<gt?rt[Tt]:void 0;Mt&&(xt(Tt),lt(Mt,Tt))},[rt,gt,lt]),_t=reactExports.useCallback(Tt=>{xt(Mt=>gt===0?-1:Mt<0?Tt>=0?0:gt-1:wrapIndex(Mt+Tt,gt))},[gt]),Ct=reactExports.useCallback(Tt=>{typeof Tt.preventDefault=="function"&&Tt.preventDefault(),typeof Tt.stopPropagation=="function"&&Tt.stopPropagation()},[]),kt=reactExports.useCallback(Tt=>{if(!it)return!1;const{key:Mt}=Tt;if(gt===0)return Mt==="Escape"&&ut?(ut(),Ct(Tt),!0):!1;if(Mt==="ArrowDown")return _t(1),Ct(Tt),!0;if(Mt==="ArrowUp")return _t(-1),Ct(Tt),!0;if(Mt==="Enter"){const Pt=yt>=0?yt:ht?0:-1;return Pt>=0&&Pt<gt?(bt(Pt),Ct(Tt),!0):!1}return Mt==="Escape"&&ut?(ut(),Ct(Tt),!0):!1},[ht,yt,it,gt,_t,ut,bt,Ct]),St=reactExports.useCallback((Tt={})=>({onKeyDown:Mt=>{kt(Mt)||Tt.onKeyDown?.(Mt)}}),[kt]),Rt=reactExports.useCallback((Tt,Mt={})=>({onClick:Pt=>{bt(Tt),Mt.onClick?.(Pt)},onMouseEnter:Pt=>{it&&Tt>=0&&Tt<gt&&xt(Tt),Mt.onMouseEnter?.(Pt)},"aria-selected":Tt===yt}),[yt,it,gt,bt]);return{highlightedIndex:yt,setHighlightedIndex:xt,listRef:pt,handleKeyDown:kt,getInputProps:St,getItemProps:Rt}}function AddContextButton({onAddImages:Ye,fileAttachments:rt,setFileAttachments:it,onAddContext:lt,workspaceRoot:ct}){const ut=useIntl(),[ht,ft]=reactExports.useState(!1),pt=reactExports.useRef(null),mt=Rt=>{const Tt=Rt.target.files;if(Tt&&Tt.length>0){const{images:Mt,others:Pt}=classifyFiles(Tt);if(Mt.length>0&&Ye(Mt),Pt.length>0){const It=Pt.map(Lt=>{const Ot=Lt.name,Ft=Ot.lastIndexOf(".");return{label:Ft>0?Ot.substring(0,Ft):Ot,path:Ot,fsPath:Ot}});it([...rt,...It])}}Rt.target&&(Rt.target.value=""),ft(!1)},[gt,yt]=reactExports.useState(""),{data:xt}=useFetchFromVSCode("find-files",{params:{query:gt,cwd:ct??void 0},queryConfig:{enabled:gt!==""}}),bt=reactExports.useMemo(()=>(xt?.files??[]).slice(0,5),[xt]),{highlightedIndex:_t,listRef:Ct,getInputProps:kt,getItemProps:St}=useListNavigation({items:bt,isActive:ht&&bt.length>0,onSelect:Rt=>{lt(Rt),ft(!1)},onEscape:()=>ft(!1)});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"file",ref:pt,onChange:mt,accept:"image/*",multiple:!0,className:"hidden"}),jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:ht,onOpenChange:ft,triggerButton:jsxRuntimeExports.jsx(Tooltip,{triggerAsChild:!0,tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.addContext",defaultMessage:"Add context",description:"Tooltip for add context button"}),sideOffset:4,children:jsxRuntimeExports.jsx(Button,{size:"composer",color:"secondary",uniform:!0,onClick:()=>{},children:jsxRuntimeExports.jsx(SvgPlus,{})})}),children:jsxRuntimeExports.jsxs("div",{className:"w-76 flex h-56 flex-col overflow-hidden px-1",children:[jsxRuntimeExports.jsxs("div",{className:"mb-1 grid w-full grid-cols-[auto_1fr] items-center px-1.5 pt-1",children:[jsxRuntimeExports.jsx(SvgSearch,{className:"text-token-icon-foreground icon-2xs"}),jsxRuntimeExports.jsx(DropdownInput,{placeholder:ut.formatMessage({id:"composer.searchFiles",defaultMessage:"Search for files",description:"Search workspace for files placeholder"}),value:gt,onChange:Rt=>yt(Rt.target.value),...kt()})]}),jsxRuntimeExports.jsx("div",{ref:Ct,className:"vertical-scroll-fade-mask w-full flex-1 gap-0.5 overflow-y-auto pt-0.5",children:bt.map((Rt,Tt)=>jsxRuntimeExports.jsx(DropdownItem,{...St(Tt),className:clsx("w-full rounded-lg px-1.5 py-1 text-sm",Tt===_t?"bg-token-menu-background":"hover:bg-token-menu-background/60"),children:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 truncate",children:Rt.label}),jsxRuntimeExports.jsx("span",{className:clsx("text-token-input-placeholder-foreground flex-1 truncate text-sm"),children:pathWithoutFilename(Rt)})]})},Rt.fsPath??Rt.path??Tt))}),jsxRuntimeExports.jsx("div",{className:"bg-token-menu-border mb-1 h-[1px] w-full"}),jsxRuntimeExports.jsx(DropdownItem,{onClick:()=>{ft(!1),pt.current?.click()},children:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 items-center gap-1",children:[jsxRuntimeExports.jsx(SvgImages,{className:"text-token-icon-foreground icon-3xs"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.addImage",defaultMessage:"Add image",description:"Add image to context"})]})})]})})]})}function classifyFiles(Ye){const rt=[],it=[];for(const lt of Array.from(Ye))isLikelyImage(lt)?rt.push(lt):it.push(lt);return{images:rt,others:it}}function isLikelyImage(Ye){if(Ye.type&&Ye.type.startsWith("image/"))return!0;const rt=Ye.name?.toLowerCase()??"";return/(\.png|\.jpg|\.jpeg|\.gif|\.webp|\.bmp|\.svg|\.heic|\.heif)$/.test(rt)}function pathWithoutFilename(Ye){const rt=Ye.path.lastIndexOf("/");return Ye.path.substring(0,rt)}function AtMentionList({query:Ye,onUpdateSelectedFile:rt,onAddContext:it}){const lt=useAppServerManager(),[ct,ut]=reactExports.useState(null),ht=reactExports.useRef([]),{data:ft}=useFetchFromVSCode("active-workspace-roots");reactExports.useEffect(()=>{if(ft?.roots?.length&&ft.roots.length>0){let xt=!1;ut(null);const bt=async()=>{try{const _t=await lt.fuzzyFileSearch({query:Ye,roots:ft.roots});if(xt)return;const Ct=_t.files.map(kt=>formatFuzzySearchFileResult(kt,ft.roots.length>1));ut(Ct),ht.current=[],Ct.length>0?rt(Ct[0]??null):rt(null)}catch(_t){if(xt)return;logger.error(`Error fetching fuzzy file search: ${_t}`)}};return ut(null),bt(),()=>{xt=!0}}},[Ye,lt,ft]);const{highlightedIndex:pt,listRef:mt,handleKeyDown:gt,getItemProps:yt}=useListNavigation({items:ct??[],isActive:(ct??[]).length>0,onSelect:xt=>{rt(xt),it(xt)},onHighlight:xt=>{rt(xt)}});return reactExports.useEffect(()=>{const xt=bt=>{gt(bt)};return window.addEventListener("keydown",xt,{capture:!0}),()=>window.removeEventListener("keydown",xt,{capture:!0})},[gt]),jsxRuntimeExports.jsx("div",{className:"bg-token-dropdown-background border-token-border flex max-h-[200px] w-full flex-col overflow-hidden rounded-xl border",children:jsxRuntimeExports.jsx("div",{ref:mt,className:"vertical-scroll-fade-mask w-full flex-1 overflow-y-auto px-1.5 py-1.5",children:Ye===""?jsxRuntimeExports.jsx("div",{className:"text-token-foreground px-1 py-1 text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.atMentionList.noResults",defaultMessage:"Type to search for files",description:"Shown when the query is empty"})}):ct?ct?.length===0?jsxRuntimeExports.jsx("div",{className:"text-token-foreground px-2 py-1 text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.atMentionList.noResults",defaultMessage:"No results",description:"Shown when there are no files matching the search query"})}):ct?.map((xt,bt)=>jsxRuntimeExports.jsx("button",{type:"button",...yt(bt),className:clsx("text-token-foreground outline-hidden focus:bg-token-list-hover-background cursor-interaction w-full overflow-hidden rounded-lg px-2 py-1.5 text-left text-base",bt===pt?"bg-token-list-hover-background":"hover:bg-token-list-hover-background"),children:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 truncate",children:xt.label}),jsxRuntimeExports.jsx("span",{className:clsx("text-token-foreground/60 flex-1 truncate text-sm"),children:xt.relativePathWithoutFileName})]})},xt.fsPath??`${xt.path}-${bt}`)):jsxRuntimeExports.jsx("div",{className:"text-token-foreground px-2 py-1.5 text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.atMentionList.loading",defaultMessage:"Searching...",description:"Shown when the query is empty"})})})})}function formatFuzzySearchFileResult({file_name:Ye,path:rt,root:it},lt){const ct=formatRelativeFilePath({root:it,relativePath:rt,includeWorkspaceRootLabel:lt}),ut=ct.lastIndexOf("/");return{label:Ye,path:lt?resolveFsPath(it,rt):ct,relativePathWithoutFileName:ct.substring(0,ut),fsPath:resolveFsPath(it,rt)}}function ComposerAttachmentPill({Icon:Ye,children:rt,onRemove:it,onRemoveAriaLabel:lt,onClick:ct}){return jsxRuntimeExports.jsxs("button",{type:"button",className:clsx("text-token-foreground bg-token-dropdown-background hover:bg-token-menu-background border-token-border group relative inline-flex max-w-[240px] items-center gap-1 rounded-full border px-2 py-1.5 text-sm",ct&&"cursor-interaction"),onClick:ct,children:[jsxRuntimeExports.jsx(Ye,{className:"icon-2xs text-token-input-placeholder-foreground flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"relative min-w-0 flex-1 truncate pr-1 text-sm font-medium",children:[rt,it&&jsxRuntimeExports.jsx("button",{type:"button",onClick:ut=>{ut.stopPropagation(),it()},className:"bg-token-dropdown-background/95 cursor-interaction pointer-events-none absolute inset-y-0 right-0 flex items-center justify-center rounded-full px-1 opacity-0 transition-opacity duration-200 focus-visible:pointer-events-auto focus-visible:opacity-100 group-hover:pointer-events-auto group-hover:opacity-100","aria-label":lt,children:jsxRuntimeExports.jsx(SvgX,{className:"icon-2xs text-token-foreground"})})]})]})}function CommentAttachments({numComments:Ye,onRemove:rt}){const it=useIntl();return jsxRuntimeExports.jsx(ComposerAttachmentPill,{Icon:SvgComment,onRemove:rt,onRemoveAriaLabel:rt?it.formatMessage({id:"commentAttachments.removeAriaLabel",defaultMessage:"Remove comments attachment",description:"Aria label for removing the comment attachment"}):void 0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"commentAttachments.numComments",defaultMessage:"{count, plural, one {# comment} other {# comments}}",description:"Number of comments in the comment attachment",values:{count:Ye}})})}const SvgDocument=Ye=>reactExports.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M1.4585 6.54161V3.45812C1.4585 3.115 1.45807 2.83254 1.47681 2.60322C1.49594 2.36903 1.53694 2.15357 1.63997 1.95136L1.70427 1.83662C1.86439 1.57557 2.09396 1.36282 2.36833 1.22301L2.44482 1.1872C2.62471 1.11004 2.81525 1.07659 3.02018 1.05984C3.24951 1.04111 3.53196 1.04153 3.87508 1.04153H5.63005C5.91595 1.04153 6.12695 1.03878 6.32992 1.08751L6.45606 1.12332C6.58043 1.16376 6.69992 1.21881 6.81169 1.2873L6.8772 1.33002C7.02732 1.43474 7.16218 1.57269 7.33903 1.74954L7.83382 2.24433L7.97624 2.38715C8.10903 2.52211 8.21429 2.63828 8.29606 2.77168L8.36035 2.88601C8.41974 3.00259 8.46523 3.12594 8.49585 3.25345L8.51172 3.33035C8.54382 3.51054 8.54183 3.70323 8.54183 3.95332V6.54161C8.54183 6.88473 8.54226 7.16719 8.52352 7.39651C8.50677 7.60145 8.47332 7.79198 8.39616 7.97187L8.36035 8.04837C8.22054 8.32273 8.00779 8.55231 7.74674 8.71243L7.632 8.77672C7.42979 8.87975 7.21433 8.92075 6.98014 8.93989C6.75082 8.95863 6.46837 8.9582 6.12524 8.9582H3.87508C3.53196 8.9582 3.24951 8.95863 3.02018 8.93989C2.81525 8.92314 2.62471 8.88969 2.44482 8.81253L2.36833 8.77672C2.09396 8.63691 1.86439 8.42416 1.70427 8.16311L1.63997 8.04837C1.53694 7.84616 1.49594 7.6307 1.47681 7.39651C1.45807 7.16719 1.4585 6.88473 1.4585 6.54161ZM5.41683 5.41653C5.64695 5.41653 5.8335 5.60308 5.8335 5.8332C5.8335 6.06332 5.64695 6.24987 5.41683 6.24987H3.75016C3.52004 6.24987 3.3335 6.06332 3.3335 5.8332C3.3335 5.60308 3.52004 5.41653 3.75016 5.41653H5.41683ZM6.25016 3.74987C6.48028 3.74987 6.66683 3.93641 6.66683 4.16653C6.66683 4.39665 6.48028 4.5832 6.25016 4.5832H3.75016C3.52004 4.5832 3.3335 4.39665 3.3335 4.16653C3.3335 3.93641 3.52004 3.74987 3.75016 3.74987H6.25016ZM2.29183 6.54161C2.29183 6.89844 2.29198 7.14104 2.30729 7.32856C2.32222 7.51123 2.34937 7.60478 2.38257 7.66995L2.41471 7.72732C2.49477 7.85785 2.60956 7.96422 2.74675 8.03413L2.80208 8.05773C2.8644 8.08002 2.95122 8.09822 3.08814 8.1094C3.27565 8.12472 3.51825 8.12487 3.87508 8.12487H6.12524C6.48207 8.12487 6.72468 8.12472 6.91219 8.1094C7.09486 8.09448 7.18841 8.06733 7.25358 8.03413L7.31095 8.00198C7.44148 7.92192 7.54785 7.80713 7.61776 7.66995L7.64136 7.61461C7.66365 7.55229 7.68185 7.46548 7.69303 7.32856C7.70835 7.14104 7.7085 6.89844 7.7085 6.54161V3.95332C7.7085 3.70924 7.70684 3.59482 7.69751 3.51712L7.6853 3.44794C7.67 3.38427 7.64741 3.32265 7.61776 3.26443L7.58561 3.20706C7.55147 3.15138 7.50616 3.09869 7.38867 2.97879L7.24463 2.83352L6.74984 2.33873C6.57722 2.16612 6.49521 2.08597 6.43368 2.03763L6.3763 1.99775C6.32043 1.96351 6.26066 1.93577 6.19849 1.91556L6.13542 1.89806C6.05066 1.87771 5.95562 1.87487 5.63005 1.87487H3.87508C3.51825 1.87487 3.27565 1.87501 3.08814 1.89033C2.95122 1.90151 2.8644 1.91971 2.80208 1.942L2.74675 1.9656C2.60956 2.03551 2.49477 2.14189 2.41471 2.27241L2.38257 2.32978C2.34937 2.39495 2.32222 2.4885 2.30729 2.67117C2.29198 2.85869 2.29183 3.10129 2.29183 3.45812V6.54161Z",fill:"currentColor"}));function FileAttachment({filename:Ye,onRemove:rt,onClick:it}){const lt=useIntl();return jsxRuntimeExports.jsx(ComposerAttachmentPill,{Icon:SvgDocument,onClick:it,onRemove:rt,onRemoveAriaLabel:rt?lt.formatMessage({id:"fileAttachment.removeAriaLabel",defaultMessage:"Remove {filename}",description:"Aria label for the remove file attachment button"},{filename:Ye}):void 0,children:Ye})}function ImageAttachment({src:Ye,filename:rt,alt:it="Attachment image",onRemove:lt,loading:ct=!1}){const ut=useIntl(),ht=rt??ut.formatMessage({id:"imageAttachment.defaultName",defaultMessage:"image",description:"Default filename label for image attachment"});return jsxRuntimeExports.jsxs("button",{type:"button",className:clsx("text-token-foreground bg-token-dropdown-background hover:bg-token-menu-background border-token-border group relative inline-flex max-w-[150px] items-center gap-1 rounded-full border px-2 py-1.5 text-sm"),children:[jsxRuntimeExports.jsxs("span",{className:"relative flex-shrink-0",children:[jsxRuntimeExports.jsx("img",{src:Ye,alt:it,className:"h-4 w-4 rounded-[4px] bg-white object-cover"}),ct&&jsxRuntimeExports.jsx("span",{className:"absolute inset-0 flex items-center justify-center rounded-[4px] bg-black/20",children:jsxRuntimeExports.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white/60 border-t-transparent"})})]}),jsxRuntimeExports.jsxs("span",{className:"relative min-w-0 flex-1",children:[jsxRuntimeExports.jsx(Tooltip,{tooltipContent:ht,children:jsxRuntimeExports.jsx("span",{className:clsx("block truncate pr-2 text-sm transition-[padding] duration-200",lt&&"group-focus-within:pr-4 group-hover:pr-4"),children:ht})}),lt&&jsxRuntimeExports.jsx("button",{onClick:ft=>{ft.stopPropagation(),lt()},className:clsx("cursor-interaction absolute bottom-0 right-0 top-0 flex items-center justify-center opacity-0 transition-opacity duration-200","pointer-events-none group-focus-within:pointer-events-auto group-focus-within:opacity-100 group-hover:pointer-events-auto group-hover:opacity-100"),"aria-label":ut.formatMessage({id:"imageAttachment.removeAriaLabel",defaultMessage:"Remove {filename}",description:"Aria label for the remove image attachment button"},{filename:ht}),children:jsxRuntimeExports.jsx(SvgX,{className:"icon-2xs text-token-foreground"})})]})]})}const SvgClick=Ye=>reactExports.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M2.84929 1.92825C1.90677 2.5882 1.67772 3.88725 2.33767 4.82976C2.47776 5.02983 2.64601 5.19715 2.83303 5.33072C3.02029 5.46446 3.06368 5.72468 2.92994 5.91195C2.79619 6.09921 2.53597 6.1426 2.3487 6.00886C2.08578 5.82108 1.85014 5.58638 1.65504 5.30774C0.731108 3.98823 1.05179 2.16955 2.3713 1.24562C3.69082 0.321684 5.5095 0.642366 6.43343 1.96188C6.62853 2.24052 6.76849 2.54221 6.85501 2.8535C6.91664 3.07522 6.78687 3.30491 6.56516 3.36654C6.34344 3.42817 6.11375 3.29839 6.05212 3.07668C5.99058 2.85527 5.89089 2.63993 5.7508 2.43986C5.09085 1.49735 3.7918 1.26829 2.84929 1.92825ZM3.92286 3.46547C4.05324 3.37303 4.22501 3.36331 4.36498 3.44046L8.63292 5.79291C8.7589 5.86235 8.84015 5.99187 8.84785 6.13551C8.85555 6.27916 8.78861 6.41662 8.67077 6.49913L7.9418 7.00956L8.41611 7.69894C8.54579 7.88742 8.49924 8.14521 8.31183 8.27643L6.94469 9.23371C6.75619 9.3657 6.49638 9.31989 6.36439 9.13139L5.88641 8.44876L5.20567 8.92542C5.08854 9.00744 4.93755 9.02366 4.80567 8.96841C4.67379 8.91316 4.57946 8.79415 4.55577 8.65314L3.75294 3.8744C3.72646 3.71678 3.79247 3.55791 3.92286 3.46547ZM4.71756 4.58634L5.26825 7.86429L5.74974 7.52715C5.93825 7.39516 6.19806 7.44097 6.33005 7.62947L6.80803 8.3121L7.49533 7.83084L7.02103 7.14146C6.89135 6.95298 6.93789 6.6952 7.1253 6.56397L7.64512 6.19999L4.71756 4.58634Z",fill:"currentColor"}));function AutoContextButton({isAutoContextOn:Ye,setIsAutoContextOn:rt}){const it=useIntl(),lt=useSetAtom(aDefaultComposerAutoContext);return useProvideSlashCommand({id:"auto-context",title:it.formatMessage(Ye?messages$4.disableAutoContext:messages$4.enableAutoContext),Icon:SvgClick,onSelect:reactExports.useCallback(async()=>{rt(!Ye),lt(!Ye)},[rt,lt,Ye])}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsxs("div",{className:"max-w-sm whitespace-pre-wrap",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.composer.autoContext",defaultMessage:"Include recent files",description:"Button to include IDE context"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.composer.autoContext.description",defaultMessage:"and other context",description:"Button to include IDE context"})]}),children:jsxRuntimeExports.jsxs(Button,{size:"composer",color:Ye?"secondary":"ghost",className:clsx("focus-visible:outline-token-foreground max-2xs:aspect-square max-2xs:justify-center max-2xs:!px-0 min-w-0 focus-visible:outline-1",Ye?"bg-token-text-link-foreground/15 hover:bg-token-text-link-foreground/20 text-token-text-link-foreground":" "),onClick:()=>{rt(!Ye),lt(!Ye)},children:[jsxRuntimeExports.jsx(SvgClick,{className:"icon-2xs"}),jsxRuntimeExports.jsx("span",{className:"max-2xs:hidden min-w-0 flex-1 truncate text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.composer.autoContext.pillText",defaultMessage:"Auto context",description:"Pill text for auto context"})})]})})}const messages$4={enableAutoContext:{id:"composer.slashCommands.autoContext.enable",defaultMessage:"Enable auto context",description:"Title for a composer slash command that enables auto context inclusion."},disableAutoContext:{id:"composer.slashCommands.autoContext.disable",defaultMessage:"Disable auto context",description:"Title for a composer slash command that disables auto context inclusion."}};function OrderedMap(Ye){this.content=Ye}OrderedMap.prototype={constructor:OrderedMap,find:function(Ye){for(var rt=0;rt<this.content.length;rt+=2)if(this.content[rt]===Ye)return rt;return-1},get:function(Ye){var rt=this.find(Ye);return rt==-1?void 0:this.content[rt+1]},update:function(Ye,rt,it){var lt=it&&it!=Ye?this.remove(it):this,ct=lt.find(Ye),ut=lt.content.slice();return ct==-1?ut.push(it||Ye,rt):(ut[ct+1]=rt,it&&(ut[ct]=it)),new OrderedMap(ut)},remove:function(Ye){var rt=this.find(Ye);if(rt==-1)return this;var it=this.content.slice();return it.splice(rt,2),new OrderedMap(it)},addToStart:function(Ye,rt){return new OrderedMap([Ye,rt].concat(this.remove(Ye).content))},addToEnd:function(Ye,rt){var it=this.remove(Ye).content.slice();return it.push(Ye,rt),new OrderedMap(it)},addBefore:function(Ye,rt,it){var lt=this.remove(rt),ct=lt.content.slice(),ut=lt.find(Ye);return ct.splice(ut==-1?ct.length:ut,0,rt,it),new OrderedMap(ct)},forEach:function(Ye){for(var rt=0;rt<this.content.length;rt+=2)Ye(this.content[rt],this.content[rt+1])},prepend:function(Ye){return Ye=OrderedMap.from(Ye),Ye.size?new OrderedMap(Ye.content.concat(this.subtract(Ye).content)):this},append:function(Ye){return Ye=OrderedMap.from(Ye),Ye.size?new OrderedMap(this.subtract(Ye).content.concat(Ye.content)):this},subtract:function(Ye){var rt=this;Ye=OrderedMap.from(Ye);for(var it=0;it<Ye.content.length;it+=2)rt=rt.remove(Ye.content[it]);return rt},toObject:function(){var Ye={};return this.forEach(function(rt,it){Ye[rt]=it}),Ye},get size(){return this.content.length>>1}};OrderedMap.from=function(Ye){if(Ye instanceof OrderedMap)return Ye;var rt=[];if(Ye)for(var it in Ye)rt.push(it,Ye[it]);return new OrderedMap(rt)};function findDiffStart(Ye,rt,it){for(let lt=0;;lt++){if(lt==Ye.childCount||lt==rt.childCount)return Ye.childCount==rt.childCount?null:it;let ct=Ye.child(lt),ut=rt.child(lt);if(ct==ut){it+=ct.nodeSize;continue}if(!ct.sameMarkup(ut))return it;if(ct.isText&&ct.text!=ut.text){for(let ht=0;ct.text[ht]==ut.text[ht];ht++)it++;return it}if(ct.content.size||ut.content.size){let ht=findDiffStart(ct.content,ut.content,it+1);if(ht!=null)return ht}it+=ct.nodeSize}}function findDiffEnd(Ye,rt,it,lt){for(let ct=Ye.childCount,ut=rt.childCount;;){if(ct==0||ut==0)return ct==ut?null:{a:it,b:lt};let ht=Ye.child(--ct),ft=rt.child(--ut),pt=ht.nodeSize;if(ht==ft){it-=pt,lt-=pt;continue}if(!ht.sameMarkup(ft))return{a:it,b:lt};if(ht.isText&&ht.text!=ft.text){let mt=0,gt=Math.min(ht.text.length,ft.text.length);for(;mt<gt&&ht.text[ht.text.length-mt-1]==ft.text[ft.text.length-mt-1];)mt++,it--,lt--;return{a:it,b:lt}}if(ht.content.size||ft.content.size){let mt=findDiffEnd(ht.content,ft.content,it-1,lt-1);if(mt)return mt}it-=pt,lt-=pt}}class Fragment{constructor(rt,it){if(this.content=rt,this.size=it||0,it==null)for(let lt=0;lt<rt.length;lt++)this.size+=rt[lt].nodeSize}nodesBetween(rt,it,lt,ct=0,ut){for(let ht=0,ft=0;ft<it;ht++){let pt=this.content[ht],mt=ft+pt.nodeSize;if(mt>rt&&lt(pt,ct+ft,ut||null,ht)!==!1&&pt.content.size){let gt=ft+1;pt.nodesBetween(Math.max(0,rt-gt),Math.min(pt.content.size,it-gt),lt,ct+gt)}ft=mt}}descendants(rt){this.nodesBetween(0,this.size,rt)}textBetween(rt,it,lt,ct){let ut="",ht=!0;return this.nodesBetween(rt,it,(ft,pt)=>{let mt=ft.isText?ft.text.slice(Math.max(rt,pt)-pt,it-pt):ft.isLeaf?ct?typeof ct=="function"?ct(ft):ct:ft.type.spec.leafText?ft.type.spec.leafText(ft):"":"";ft.isBlock&&(ft.isLeaf&&mt||ft.isTextblock)&&lt&&(ht?ht=!1:ut+=lt),ut+=mt},0),ut}append(rt){if(!rt.size)return this;if(!this.size)return rt;let it=this.lastChild,lt=rt.firstChild,ct=this.content.slice(),ut=0;for(it.isText&&it.sameMarkup(lt)&&(ct[ct.length-1]=it.withText(it.text+lt.text),ut=1);ut<rt.content.length;ut++)ct.push(rt.content[ut]);return new Fragment(ct,this.size+rt.size)}cut(rt,it=this.size){if(rt==0&&it==this.size)return this;let lt=[],ct=0;if(it>rt)for(let ut=0,ht=0;ht<it;ut++){let ft=this.content[ut],pt=ht+ft.nodeSize;pt>rt&&((ht<rt||pt>it)&&(ft.isText?ft=ft.cut(Math.max(0,rt-ht),Math.min(ft.text.length,it-ht)):ft=ft.cut(Math.max(0,rt-ht-1),Math.min(ft.content.size,it-ht-1))),lt.push(ft),ct+=ft.nodeSize),ht=pt}return new Fragment(lt,ct)}cutByIndex(rt,it){return rt==it?Fragment.empty:rt==0&&it==this.content.length?this:new Fragment(this.content.slice(rt,it))}replaceChild(rt,it){let lt=this.content[rt];if(lt==it)return this;let ct=this.content.slice(),ut=this.size+it.nodeSize-lt.nodeSize;return ct[rt]=it,new Fragment(ct,ut)}addToStart(rt){return new Fragment([rt].concat(this.content),this.size+rt.nodeSize)}addToEnd(rt){return new Fragment(this.content.concat(rt),this.size+rt.nodeSize)}eq(rt){if(this.content.length!=rt.content.length)return!1;for(let it=0;it<this.content.length;it++)if(!this.content[it].eq(rt.content[it]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(rt){let it=this.content[rt];if(!it)throw new RangeError("Index "+rt+" out of range for "+this);return it}maybeChild(rt){return this.content[rt]||null}forEach(rt){for(let it=0,lt=0;it<this.content.length;it++){let ct=this.content[it];rt(ct,lt,it),lt+=ct.nodeSize}}findDiffStart(rt,it=0){return findDiffStart(this,rt,it)}findDiffEnd(rt,it=this.size,lt=rt.size){return findDiffEnd(this,rt,it,lt)}findIndex(rt){if(rt==0)return retIndex(0,rt);if(rt==this.size)return retIndex(this.content.length,rt);if(rt>this.size||rt<0)throw new RangeError(`Position ${rt} outside of fragment (${this})`);for(let it=0,lt=0;;it++){let ct=this.child(it),ut=lt+ct.nodeSize;if(ut>=rt)return ut==rt?retIndex(it+1,ut):retIndex(it,lt);lt=ut}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(rt=>rt.toJSON()):null}static fromJSON(rt,it){if(!it)return Fragment.empty;if(!Array.isArray(it))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(it.map(rt.nodeFromJSON))}static fromArray(rt){if(!rt.length)return Fragment.empty;let it,lt=0;for(let ct=0;ct<rt.length;ct++){let ut=rt[ct];lt+=ut.nodeSize,ct&&ut.isText&&rt[ct-1].sameMarkup(ut)?(it||(it=rt.slice(0,ct)),it[it.length-1]=ut.withText(it[it.length-1].text+ut.text)):it&&it.push(ut)}return new Fragment(it||rt,lt)}static from(rt){if(!rt)return Fragment.empty;if(rt instanceof Fragment)return rt;if(Array.isArray(rt))return this.fromArray(rt);if(rt.attrs)return new Fragment([rt],rt.nodeSize);throw new RangeError("Can not convert "+rt+" to a Fragment"+(rt.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(Ye,rt){return found.index=Ye,found.offset=rt,found}function compareDeep(Ye,rt){if(Ye===rt)return!0;if(!(Ye&&typeof Ye=="object")||!(rt&&typeof rt=="object"))return!1;let it=Array.isArray(Ye);if(Array.isArray(rt)!=it)return!1;if(it){if(Ye.length!=rt.length)return!1;for(let lt=0;lt<Ye.length;lt++)if(!compareDeep(Ye[lt],rt[lt]))return!1}else{for(let lt in Ye)if(!(lt in rt)||!compareDeep(Ye[lt],rt[lt]))return!1;for(let lt in rt)if(!(lt in Ye))return!1}return!0}class Mark{constructor(rt,it){this.type=rt,this.attrs=it}addToSet(rt){let it,lt=!1;for(let ct=0;ct<rt.length;ct++){let ut=rt[ct];if(this.eq(ut))return rt;if(this.type.excludes(ut.type))it||(it=rt.slice(0,ct));else{if(ut.type.excludes(this.type))return rt;!lt&&ut.type.rank>this.type.rank&&(it||(it=rt.slice(0,ct)),it.push(this),lt=!0),it&&it.push(ut)}}return it||(it=rt.slice()),lt||it.push(this),it}removeFromSet(rt){for(let it=0;it<rt.length;it++)if(this.eq(rt[it]))return rt.slice(0,it).concat(rt.slice(it+1));return rt}isInSet(rt){for(let it=0;it<rt.length;it++)if(this.eq(rt[it]))return!0;return!1}eq(rt){return this==rt||this.type==rt.type&&compareDeep(this.attrs,rt.attrs)}toJSON(){let rt={type:this.type.name};for(let it in this.attrs){rt.attrs=this.attrs;break}return rt}static fromJSON(rt,it){if(!it)throw new RangeError("Invalid input for Mark.fromJSON");let lt=rt.marks[it.type];if(!lt)throw new RangeError(`There is no mark type ${it.type} in this schema`);let ct=lt.create(it.attrs);return lt.checkAttrs(ct.attrs),ct}static sameSet(rt,it){if(rt==it)return!0;if(rt.length!=it.length)return!1;for(let lt=0;lt<rt.length;lt++)if(!rt[lt].eq(it[lt]))return!1;return!0}static setFrom(rt){if(!rt||Array.isArray(rt)&&rt.length==0)return Mark.none;if(rt instanceof Mark)return[rt];let it=rt.slice();return it.sort((lt,ct)=>lt.type.rank-ct.type.rank),it}}Mark.none=[];class ReplaceError extends Error{}class Slice{constructor(rt,it,lt){this.content=rt,this.openStart=it,this.openEnd=lt}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(rt,it){let lt=insertInto(this.content,rt+this.openStart,it);return lt&&new Slice(lt,this.openStart,this.openEnd)}removeBetween(rt,it){return new Slice(removeRange(this.content,rt+this.openStart,it+this.openStart),this.openStart,this.openEnd)}eq(rt){return this.content.eq(rt.content)&&this.openStart==rt.openStart&&this.openEnd==rt.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let rt={content:this.content.toJSON()};return this.openStart>0&&(rt.openStart=this.openStart),this.openEnd>0&&(rt.openEnd=this.openEnd),rt}static fromJSON(rt,it){if(!it)return Slice.empty;let lt=it.openStart||0,ct=it.openEnd||0;if(typeof lt!="number"||typeof ct!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(rt,it.content),lt,ct)}static maxOpen(rt,it=!0){let lt=0,ct=0;for(let ut=rt.firstChild;ut&&!ut.isLeaf&&(it||!ut.type.spec.isolating);ut=ut.firstChild)lt++;for(let ut=rt.lastChild;ut&&!ut.isLeaf&&(it||!ut.type.spec.isolating);ut=ut.lastChild)ct++;return new Slice(rt,lt,ct)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(Ye,rt,it){let{index:lt,offset:ct}=Ye.findIndex(rt),ut=Ye.maybeChild(lt),{index:ht,offset:ft}=Ye.findIndex(it);if(ct==rt||ut.isText){if(ft!=it&&!Ye.child(ht).isText)throw new RangeError("Removing non-flat range");return Ye.cut(0,rt).append(Ye.cut(it))}if(lt!=ht)throw new RangeError("Removing non-flat range");return Ye.replaceChild(lt,ut.copy(removeRange(ut.content,rt-ct-1,it-ct-1)))}function insertInto(Ye,rt,it,lt){let{index:ct,offset:ut}=Ye.findIndex(rt),ht=Ye.maybeChild(ct);if(ut==rt||ht.isText)return lt&&!lt.canReplace(ct,ct,it)?null:Ye.cut(0,rt).append(it).append(Ye.cut(rt));let ft=insertInto(ht.content,rt-ut-1,it,ht);return ft&&Ye.replaceChild(ct,ht.copy(ft))}function replace$4(Ye,rt,it){if(it.openStart>Ye.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(Ye.depth-it.openStart!=rt.depth-it.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(Ye,rt,it,0)}function replaceOuter(Ye,rt,it,lt){let ct=Ye.index(lt),ut=Ye.node(lt);if(ct==rt.index(lt)&&lt<Ye.depth-it.openStart){let ht=replaceOuter(Ye,rt,it,lt+1);return ut.copy(ut.content.replaceChild(ct,ht))}else if(it.content.size)if(!it.openStart&&!it.openEnd&&Ye.depth==lt&&rt.depth==lt){let ht=Ye.parent,ft=ht.content;return close(ht,ft.cut(0,Ye.parentOffset).append(it.content).append(ft.cut(rt.parentOffset)))}else{let{start:ht,end:ft}=prepareSliceForReplace(it,Ye);return close(ut,replaceThreeWay(Ye,ht,ft,rt,lt))}else return close(ut,replaceTwoWay(Ye,rt,lt))}function checkJoin(Ye,rt){if(!rt.type.compatibleContent(Ye.type))throw new ReplaceError("Cannot join "+rt.type.name+" onto "+Ye.type.name)}function joinable$1(Ye,rt,it){let lt=Ye.node(it);return checkJoin(lt,rt.node(it)),lt}function addNode$1(Ye,rt){let it=rt.length-1;it>=0&&Ye.isText&&Ye.sameMarkup(rt[it])?rt[it]=Ye.withText(rt[it].text+Ye.text):rt.push(Ye)}function addRange(Ye,rt,it,lt){let ct=(rt||Ye).node(it),ut=0,ht=rt?rt.index(it):ct.childCount;Ye&&(ut=Ye.index(it),Ye.depth>it?ut++:Ye.textOffset&&(addNode$1(Ye.nodeAfter,lt),ut++));for(let ft=ut;ft<ht;ft++)addNode$1(ct.child(ft),lt);rt&&rt.depth==it&&rt.textOffset&&addNode$1(rt.nodeBefore,lt)}function close(Ye,rt){return Ye.type.checkContent(rt),Ye.copy(rt)}function replaceThreeWay(Ye,rt,it,lt,ct){let ut=Ye.depth>ct&&joinable$1(Ye,rt,ct+1),ht=lt.depth>ct&&joinable$1(it,lt,ct+1),ft=[];return addRange(null,Ye,ct,ft),ut&&ht&&rt.index(ct)==it.index(ct)?(checkJoin(ut,ht),addNode$1(close(ut,replaceThreeWay(Ye,rt,it,lt,ct+1)),ft)):(ut&&addNode$1(close(ut,replaceTwoWay(Ye,rt,ct+1)),ft),addRange(rt,it,ct,ft),ht&&addNode$1(close(ht,replaceTwoWay(it,lt,ct+1)),ft)),addRange(lt,null,ct,ft),new Fragment(ft)}function replaceTwoWay(Ye,rt,it){let lt=[];if(addRange(null,Ye,it,lt),Ye.depth>it){let ct=joinable$1(Ye,rt,it+1);addNode$1(close(ct,replaceTwoWay(Ye,rt,it+1)),lt)}return addRange(rt,null,it,lt),new Fragment(lt)}function prepareSliceForReplace(Ye,rt){let it=rt.depth-Ye.openStart,ct=rt.node(it).copy(Ye.content);for(let ut=it-1;ut>=0;ut--)ct=rt.node(ut).copy(Fragment.from(ct));return{start:ct.resolveNoCache(Ye.openStart+it),end:ct.resolveNoCache(ct.content.size-Ye.openEnd-it)}}class ResolvedPos{constructor(rt,it,lt){this.pos=rt,this.path=it,this.parentOffset=lt,this.depth=it.length/3-1}resolveDepth(rt){return rt==null?this.depth:rt<0?this.depth+rt:rt}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(rt){return this.path[this.resolveDepth(rt)*3]}index(rt){return this.path[this.resolveDepth(rt)*3+1]}indexAfter(rt){return rt=this.resolveDepth(rt),this.index(rt)+(rt==this.depth&&!this.textOffset?0:1)}start(rt){return rt=this.resolveDepth(rt),rt==0?0:this.path[rt*3-1]+1}end(rt){return rt=this.resolveDepth(rt),this.start(rt)+this.node(rt).content.size}before(rt){if(rt=this.resolveDepth(rt),!rt)throw new RangeError("There is no position before the top-level node");return rt==this.depth+1?this.pos:this.path[rt*3-1]}after(rt){if(rt=this.resolveDepth(rt),!rt)throw new RangeError("There is no position after the top-level node");return rt==this.depth+1?this.pos:this.path[rt*3-1]+this.path[rt*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let rt=this.parent,it=this.index(this.depth);if(it==rt.childCount)return null;let lt=this.pos-this.path[this.path.length-1],ct=rt.child(it);return lt?rt.child(it).cut(lt):ct}get nodeBefore(){let rt=this.index(this.depth),it=this.pos-this.path[this.path.length-1];return it?this.parent.child(rt).cut(0,it):rt==0?null:this.parent.child(rt-1)}posAtIndex(rt,it){it=this.resolveDepth(it);let lt=this.path[it*3],ct=it==0?0:this.path[it*3-1]+1;for(let ut=0;ut<rt;ut++)ct+=lt.child(ut).nodeSize;return ct}marks(){let rt=this.parent,it=this.index();if(rt.content.size==0)return Mark.none;if(this.textOffset)return rt.child(it).marks;let lt=rt.maybeChild(it-1),ct=rt.maybeChild(it);if(!lt){let ft=lt;lt=ct,ct=ft}let ut=lt.marks;for(var ht=0;ht<ut.length;ht++)ut[ht].type.spec.inclusive===!1&&(!ct||!ut[ht].isInSet(ct.marks))&&(ut=ut[ht--].removeFromSet(ut));return ut}marksAcross(rt){let it=this.parent.maybeChild(this.index());if(!it||!it.isInline)return null;let lt=it.marks,ct=rt.parent.maybeChild(rt.index());for(var ut=0;ut<lt.length;ut++)lt[ut].type.spec.inclusive===!1&&(!ct||!lt[ut].isInSet(ct.marks))&&(lt=lt[ut--].removeFromSet(lt));return lt}sharedDepth(rt){for(let it=this.depth;it>0;it--)if(this.start(it)<=rt&&this.end(it)>=rt)return it;return 0}blockRange(rt=this,it){if(rt.pos<this.pos)return rt.blockRange(this);for(let lt=this.depth-(this.parent.inlineContent||this.pos==rt.pos?1:0);lt>=0;lt--)if(rt.pos<=this.end(lt)&&(!it||it(this.node(lt))))return new NodeRange(this,rt,lt);return null}sameParent(rt){return this.pos-this.parentOffset==rt.pos-rt.parentOffset}max(rt){return rt.pos>this.pos?rt:this}min(rt){return rt.pos<this.pos?rt:this}toString(){let rt="";for(let it=1;it<=this.depth;it++)rt+=(rt?"/":"")+this.node(it).type.name+"_"+this.index(it-1);return rt+":"+this.parentOffset}static resolve(rt,it){if(!(it>=0&&it<=rt.content.size))throw new RangeError("Position "+it+" out of range");let lt=[],ct=0,ut=it;for(let ht=rt;;){let{index:ft,offset:pt}=ht.content.findIndex(ut),mt=ut-pt;if(lt.push(ht,ft,ct+pt),!mt||(ht=ht.child(ft),ht.isText))break;ut=mt-1,ct+=pt+1}return new ResolvedPos(it,lt,ut)}static resolveCached(rt,it){let lt=resolveCache.get(rt);if(lt)for(let ut=0;ut<lt.elts.length;ut++){let ht=lt.elts[ut];if(ht.pos==it)return ht}else resolveCache.set(rt,lt=new ResolveCache);let ct=lt.elts[lt.i]=ResolvedPos.resolve(rt,it);return lt.i=(lt.i+1)%resolveCacheSize,ct}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(rt,it,lt){this.$from=rt,this.$to=it,this.depth=lt}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class hd{constructor(rt,it,lt,ct=Mark.none){this.type=rt,this.attrs=it,this.marks=ct,this.content=lt||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(rt){return this.content.child(rt)}maybeChild(rt){return this.content.maybeChild(rt)}forEach(rt){this.content.forEach(rt)}nodesBetween(rt,it,lt,ct=0){this.content.nodesBetween(rt,it,lt,ct,this)}descendants(rt){this.nodesBetween(0,this.content.size,rt)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(rt,it,lt,ct){return this.content.textBetween(rt,it,lt,ct)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(rt){return this==rt||this.sameMarkup(rt)&&this.content.eq(rt.content)}sameMarkup(rt){return this.hasMarkup(rt.type,rt.attrs,rt.marks)}hasMarkup(rt,it,lt){return this.type==rt&&compareDeep(this.attrs,it||rt.defaultAttrs||emptyAttrs)&&Mark.sameSet(this.marks,lt||Mark.none)}copy(rt=null){return rt==this.content?this:new hd(this.type,this.attrs,rt,this.marks)}mark(rt){return rt==this.marks?this:new hd(this.type,this.attrs,this.content,rt)}cut(rt,it=this.content.size){return rt==0&&it==this.content.size?this:this.copy(this.content.cut(rt,it))}slice(rt,it=this.content.size,lt=!1){if(rt==it)return Slice.empty;let ct=this.resolve(rt),ut=this.resolve(it),ht=lt?0:ct.sharedDepth(it),ft=ct.start(ht),mt=ct.node(ht).content.cut(ct.pos-ft,ut.pos-ft);return new Slice(mt,ct.depth-ht,ut.depth-ht)}replace(rt,it,lt){return replace$4(this.resolve(rt),this.resolve(it),lt)}nodeAt(rt){for(let it=this;;){let{index:lt,offset:ct}=it.content.findIndex(rt);if(it=it.maybeChild(lt),!it)return null;if(ct==rt||it.isText)return it;rt-=ct+1}}childAfter(rt){let{index:it,offset:lt}=this.content.findIndex(rt);return{node:this.content.maybeChild(it),index:it,offset:lt}}childBefore(rt){if(rt==0)return{node:null,index:0,offset:0};let{index:it,offset:lt}=this.content.findIndex(rt);if(lt<rt)return{node:this.content.child(it),index:it,offset:lt};let ct=this.content.child(it-1);return{node:ct,index:it-1,offset:lt-ct.nodeSize}}resolve(rt){return ResolvedPos.resolveCached(this,rt)}resolveNoCache(rt){return ResolvedPos.resolve(this,rt)}rangeHasMark(rt,it,lt){let ct=!1;return it>rt&&this.nodesBetween(rt,it,ut=>(lt.isInSet(ut.marks)&&(ct=!0),!ct)),ct}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let rt=this.type.name;return this.content.size&&(rt+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,rt)}contentMatchAt(rt){let it=this.type.contentMatch.matchFragment(this.content,0,rt);if(!it)throw new Error("Called contentMatchAt on a node with invalid content");return it}canReplace(rt,it,lt=Fragment.empty,ct=0,ut=lt.childCount){let ht=this.contentMatchAt(rt).matchFragment(lt,ct,ut),ft=ht&&ht.matchFragment(this.content,it);if(!ft||!ft.validEnd)return!1;for(let pt=ct;pt<ut;pt++)if(!this.type.allowsMarks(lt.child(pt).marks))return!1;return!0}canReplaceWith(rt,it,lt,ct){if(ct&&!this.type.allowsMarks(ct))return!1;let ut=this.contentMatchAt(rt).matchType(lt),ht=ut&&ut.matchFragment(this.content,it);return ht?ht.validEnd:!1}canAppend(rt){return rt.content.size?this.canReplace(this.childCount,this.childCount,rt.content):this.type.compatibleContent(rt.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let rt=Mark.none;for(let it=0;it<this.marks.length;it++){let lt=this.marks[it];lt.type.checkAttrs(lt.attrs),rt=lt.addToSet(rt)}if(!Mark.sameSet(rt,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(it=>it.type.name)}`);this.content.forEach(it=>it.check())}toJSON(){let rt={type:this.type.name};for(let it in this.attrs){rt.attrs=this.attrs;break}return this.content.size&&(rt.content=this.content.toJSON()),this.marks.length&&(rt.marks=this.marks.map(it=>it.toJSON())),rt}static fromJSON(rt,it){if(!it)throw new RangeError("Invalid input for Node.fromJSON");let lt;if(it.marks){if(!Array.isArray(it.marks))throw new RangeError("Invalid mark data for Node.fromJSON");lt=it.marks.map(rt.markFromJSON)}if(it.type=="text"){if(typeof it.text!="string")throw new RangeError("Invalid text node in JSON");return rt.text(it.text,lt)}let ct=Fragment.fromJSON(rt,it.content),ut=rt.nodeType(it.type).create(it.attrs,ct,lt);return ut.type.checkAttrs(ut.attrs),ut}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(rt,it,lt,ct){if(super(rt,it,null,ct),!lt)throw new RangeError("Empty text nodes are not allowed");this.text=lt}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(rt,it){return this.text.slice(rt,it)}get nodeSize(){return this.text.length}mark(rt){return rt==this.marks?this:new TextNode(this.type,this.attrs,this.text,rt)}withText(rt){return rt==this.text?this:new TextNode(this.type,this.attrs,rt,this.marks)}cut(rt=0,it=this.text.length){return rt==0&&it==this.text.length?this:this.withText(this.text.slice(rt,it))}eq(rt){return this.sameMarkup(rt)&&this.text==rt.text}toJSON(){let rt=super.toJSON();return rt.text=this.text,rt}}function wrapMarks(Ye,rt){for(let it=Ye.length-1;it>=0;it--)rt=Ye[it].type.name+"("+rt+")";return rt}class ContentMatch{constructor(rt){this.validEnd=rt,this.next=[],this.wrapCache=[]}static parse(rt,it){let lt=new TokenStream(rt,it);if(lt.next==null)return ContentMatch.empty;let ct=parseExpr(lt);lt.next&&lt.err("Unexpected trailing text");let ut=dfa(nfa(ct));return checkForDeadEnds(ut,lt),ut}matchType(rt){for(let it=0;it<this.next.length;it++)if(this.next[it].type==rt)return this.next[it].next;return null}matchFragment(rt,it=0,lt=rt.childCount){let ct=this;for(let ut=it;ct&&ut<lt;ut++)ct=ct.matchType(rt.child(ut).type);return ct}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let rt=0;rt<this.next.length;rt++){let{type:it}=this.next[rt];if(!(it.isText||it.hasRequiredAttrs()))return it}return null}compatible(rt){for(let it=0;it<this.next.length;it++)for(let lt=0;lt<rt.next.length;lt++)if(this.next[it].type==rt.next[lt].type)return!0;return!1}fillBefore(rt,it=!1,lt=0){let ct=[this];function ut(ht,ft){let pt=ht.matchFragment(rt,lt);if(pt&&(!it||pt.validEnd))return Fragment.from(ft.map(mt=>mt.createAndFill()));for(let mt=0;mt<ht.next.length;mt++){let{type:gt,next:yt}=ht.next[mt];if(!(gt.isText||gt.hasRequiredAttrs())&&ct.indexOf(yt)==-1){ct.push(yt);let xt=ut(yt,ft.concat(gt));if(xt)return xt}}return null}return ut(this,[])}findWrapping(rt){for(let lt=0;lt<this.wrapCache.length;lt+=2)if(this.wrapCache[lt]==rt)return this.wrapCache[lt+1];let it=this.computeWrapping(rt);return this.wrapCache.push(rt,it),it}computeWrapping(rt){let it=Object.create(null),lt=[{match:this,type:null,via:null}];for(;lt.length;){let ct=lt.shift(),ut=ct.match;if(ut.matchType(rt)){let ht=[];for(let ft=ct;ft.type;ft=ft.via)ht.push(ft.type);return ht.reverse()}for(let ht=0;ht<ut.next.length;ht++){let{type:ft,next:pt}=ut.next[ht];!ft.isLeaf&&!ft.hasRequiredAttrs()&&!(ft.name in it)&&(!ct.type||pt.validEnd)&&(lt.push({match:ft.contentMatch,type:ft,via:ct}),it[ft.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(rt){if(rt>=this.next.length)throw new RangeError(`There's no ${rt}th edge in this content match`);return this.next[rt]}toString(){let rt=[];function it(lt){rt.push(lt);for(let ct=0;ct<lt.next.length;ct++)rt.indexOf(lt.next[ct].next)==-1&&it(lt.next[ct].next)}return it(this),rt.map((lt,ct)=>{let ut=ct+(lt.validEnd?"*":" ")+" ";for(let ht=0;ht<lt.next.length;ht++)ut+=(ht?", ":"")+lt.next[ht].type.name+"->"+rt.indexOf(lt.next[ht].next);return ut}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(rt,it){this.string=rt,this.nodeTypes=it,this.inline=null,this.pos=0,this.tokens=rt.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(rt){return this.next==rt&&(this.pos++||!0)}err(rt){throw new SyntaxError(rt+" (in content expression '"+this.string+"')")}}function parseExpr(Ye){let rt=[];do rt.push(parseExprSeq(Ye));while(Ye.eat("|"));return rt.length==1?rt[0]:{type:"choice",exprs:rt}}function parseExprSeq(Ye){let rt=[];do rt.push(parseExprSubscript(Ye));while(Ye.next&&Ye.next!=")"&&Ye.next!="|");return rt.length==1?rt[0]:{type:"seq",exprs:rt}}function parseExprSubscript(Ye){let rt=parseExprAtom(Ye);for(;;)if(Ye.eat("+"))rt={type:"plus",expr:rt};else if(Ye.eat("*"))rt={type:"star",expr:rt};else if(Ye.eat("?"))rt={type:"opt",expr:rt};else if(Ye.eat("{"))rt=parseExprRange(Ye,rt);else break;return rt}function parseNum(Ye){/\D/.test(Ye.next)&&Ye.err("Expected number, got '"+Ye.next+"'");let rt=Number(Ye.next);return Ye.pos++,rt}function parseExprRange(Ye,rt){let it=parseNum(Ye),lt=it;return Ye.eat(",")&&(Ye.next!="}"?lt=parseNum(Ye):lt=-1),Ye.eat("}")||Ye.err("Unclosed braced range"),{type:"range",min:it,max:lt,expr:rt}}function resolveName(Ye,rt){let it=Ye.nodeTypes,lt=it[rt];if(lt)return[lt];let ct=[];for(let ut in it){let ht=it[ut];ht.isInGroup(rt)&&ct.push(ht)}return ct.length==0&&Ye.err("No node type or group '"+rt+"' found"),ct}function parseExprAtom(Ye){if(Ye.eat("(")){let rt=parseExpr(Ye);return Ye.eat(")")||Ye.err("Missing closing paren"),rt}else if(/\W/.test(Ye.next))Ye.err("Unexpected token '"+Ye.next+"'");else{let rt=resolveName(Ye,Ye.next).map(it=>(Ye.inline==null?Ye.inline=it.isInline:Ye.inline!=it.isInline&&Ye.err("Mixing inline and block content"),{type:"name",value:it}));return Ye.pos++,rt.length==1?rt[0]:{type:"choice",exprs:rt}}}function nfa(Ye){let rt=[[]];return ct(ut(Ye,0),it()),rt;function it(){return rt.push([])-1}function lt(ht,ft,pt){let mt={term:pt,to:ft};return rt[ht].push(mt),mt}function ct(ht,ft){ht.forEach(pt=>pt.to=ft)}function ut(ht,ft){if(ht.type=="choice")return ht.exprs.reduce((pt,mt)=>pt.concat(ut(mt,ft)),[]);if(ht.type=="seq")for(let pt=0;;pt++){let mt=ut(ht.exprs[pt],ft);if(pt==ht.exprs.length-1)return mt;ct(mt,ft=it())}else if(ht.type=="star"){let pt=it();return lt(ft,pt),ct(ut(ht.expr,pt),pt),[lt(pt)]}else if(ht.type=="plus"){let pt=it();return ct(ut(ht.expr,ft),pt),ct(ut(ht.expr,pt),pt),[lt(pt)]}else{if(ht.type=="opt")return[lt(ft)].concat(ut(ht.expr,ft));if(ht.type=="range"){let pt=ft;for(let mt=0;mt<ht.min;mt++){let gt=it();ct(ut(ht.expr,pt),gt),pt=gt}if(ht.max==-1)ct(ut(ht.expr,pt),pt);else for(let mt=ht.min;mt<ht.max;mt++){let gt=it();lt(pt,gt),ct(ut(ht.expr,pt),gt),pt=gt}return[lt(pt)]}else{if(ht.type=="name")return[lt(ft,void 0,ht.value)];throw new Error("Unknown expr type")}}}}function cmp(Ye,rt){return rt-Ye}function nullFrom(Ye,rt){let it=[];return lt(rt),it.sort(cmp);function lt(ct){let ut=Ye[ct];if(ut.length==1&&!ut[0].term)return lt(ut[0].to);it.push(ct);for(let ht=0;ht<ut.length;ht++){let{term:ft,to:pt}=ut[ht];!ft&&it.indexOf(pt)==-1&&lt(pt)}}}function dfa(Ye){let rt=Object.create(null);return it(nullFrom(Ye,0));function it(lt){let ct=[];lt.forEach(ht=>{Ye[ht].forEach(({term:ft,to:pt})=>{if(!ft)return;let mt;for(let gt=0;gt<ct.length;gt++)ct[gt][0]==ft&&(mt=ct[gt][1]);nullFrom(Ye,pt).forEach(gt=>{mt||ct.push([ft,mt=[]]),mt.indexOf(gt)==-1&&mt.push(gt)})})});let ut=rt[lt.join(",")]=new ContentMatch(lt.indexOf(Ye.length-1)>-1);for(let ht=0;ht<ct.length;ht++){let ft=ct[ht][1].sort(cmp);ut.next.push({type:ct[ht][0],next:rt[ft.join(",")]||it(ft)})}return ut}}function checkForDeadEnds(Ye,rt){for(let it=0,lt=[Ye];it<lt.length;it++){let ct=lt[it],ut=!ct.validEnd,ht=[];for(let ft=0;ft<ct.next.length;ft++){let{type:pt,next:mt}=ct.next[ft];ht.push(pt.name),ut&&!(pt.isText||pt.hasRequiredAttrs())&&(ut=!1),lt.indexOf(mt)==-1&&lt.push(mt)}ut&&rt.err("Only non-generatable nodes ("+ht.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(Ye){let rt=Object.create(null);for(let it in Ye){let lt=Ye[it];if(!lt.hasDefault)return null;rt[it]=lt.default}return rt}function computeAttrs(Ye,rt){let it=Object.create(null);for(let lt in Ye){let ct=rt&&rt[lt];if(ct===void 0){let ut=Ye[lt];if(ut.hasDefault)ct=ut.default;else throw new RangeError("No value supplied for attribute "+lt)}it[lt]=ct}return it}function checkAttrs(Ye,rt,it,lt){for(let ct in rt)if(!(ct in Ye))throw new RangeError(`Unsupported attribute ${ct} for ${it} of type ${ct}`);for(let ct in Ye){let ut=Ye[ct];ut.validate&&ut.validate(rt[ct])}}function initAttrs(Ye,rt){let it=Object.create(null);if(rt)for(let lt in rt)it[lt]=new Attribute(Ye,lt,rt[lt]);return it}let NodeType$1=class cm{constructor(rt,it,lt){this.name=rt,this.schema=it,this.spec=lt,this.markSet=null,this.groups=lt.group?lt.group.split(" "):[],this.attrs=initAttrs(rt,lt.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(lt.inline||rt=="text"),this.isText=rt=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(rt){return this.groups.indexOf(rt)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let rt in this.attrs)if(this.attrs[rt].isRequired)return!0;return!1}compatibleContent(rt){return this==rt||this.contentMatch.compatible(rt.contentMatch)}computeAttrs(rt){return!rt&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,rt)}create(rt=null,it,lt){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(rt),Fragment.from(it),Mark.setFrom(lt))}createChecked(rt=null,it,lt){return it=Fragment.from(it),this.checkContent(it),new Node$1(this,this.computeAttrs(rt),it,Mark.setFrom(lt))}createAndFill(rt=null,it,lt){if(rt=this.computeAttrs(rt),it=Fragment.from(it),it.size){let ht=this.contentMatch.fillBefore(it);if(!ht)return null;it=ht.append(it)}let ct=this.contentMatch.matchFragment(it),ut=ct&&ct.fillBefore(Fragment.empty,!0);return ut?new Node$1(this,rt,it.append(ut),Mark.setFrom(lt)):null}validContent(rt){let it=this.contentMatch.matchFragment(rt);if(!it||!it.validEnd)return!1;for(let lt=0;lt<rt.childCount;lt++)if(!this.allowsMarks(rt.child(lt).marks))return!1;return!0}checkContent(rt){if(!this.validContent(rt))throw new RangeError(`Invalid content for node ${this.name}: ${rt.toString().slice(0,50)}`)}checkAttrs(rt){checkAttrs(this.attrs,rt,"node",this.name)}allowsMarkType(rt){return this.markSet==null||this.markSet.indexOf(rt)>-1}allowsMarks(rt){if(this.markSet==null)return!0;for(let it=0;it<rt.length;it++)if(!this.allowsMarkType(rt[it].type))return!1;return!0}allowedMarks(rt){if(this.markSet==null)return rt;let it;for(let lt=0;lt<rt.length;lt++)this.allowsMarkType(rt[lt].type)?it&&it.push(rt[lt]):it||(it=rt.slice(0,lt));return it?it.length?it:Mark.none:rt}static compile(rt,it){let lt=Object.create(null);rt.forEach((ut,ht)=>lt[ut]=new cm(ut,it,ht));let ct=it.spec.topNode||"doc";if(!lt[ct])throw new RangeError("Schema is missing its top node type ('"+ct+"')");if(!lt.text)throw new RangeError("Every schema needs a 'text' type");for(let ut in lt.text.attrs)throw new RangeError("The text node type should not have attributes");return lt}};function validateType(Ye,rt,it){let lt=it.split("|");return ct=>{let ut=ct===null?"null":typeof ct;if(lt.indexOf(ut)<0)throw new RangeError(`Expected value of type ${lt} for attribute ${rt} on type ${Ye}, got ${ut}`)}}class Attribute{constructor(rt,it,lt){this.hasDefault=Object.prototype.hasOwnProperty.call(lt,"default"),this.default=lt.default,this.validate=typeof lt.validate=="string"?validateType(rt,it,lt.validate):lt.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(rt,it,lt,ct){this.name=rt,this.rank=it,this.schema=lt,this.spec=ct,this.attrs=initAttrs(rt,ct.attrs),this.excluded=null;let ut=defaultAttrs(this.attrs);this.instance=ut?new Mark(this,ut):null}create(rt=null){return!rt&&this.instance?this.instance:new Mark(this,computeAttrs(this.attrs,rt))}static compile(rt,it){let lt=Object.create(null),ct=0;return rt.forEach((ut,ht)=>lt[ut]=new MarkType(ut,ct++,it,ht)),lt}removeFromSet(rt){for(var it=0;it<rt.length;it++)rt[it].type==this&&(rt=rt.slice(0,it).concat(rt.slice(it+1)),it--);return rt}isInSet(rt){for(let it=0;it<rt.length;it++)if(rt[it].type==this)return rt[it]}checkAttrs(rt){checkAttrs(this.attrs,rt,"mark",this.name)}excludes(rt){return this.excluded.indexOf(rt)>-1}}class Schema{constructor(rt){this.linebreakReplacement=null,this.cached=Object.create(null);let it=this.spec={};for(let ct in rt)it[ct]=rt[ct];it.nodes=OrderedMap.from(rt.nodes),it.marks=OrderedMap.from(rt.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let lt=Object.create(null);for(let ct in this.nodes){if(ct in this.marks)throw new RangeError(ct+" can not be both a node and a mark");let ut=this.nodes[ct],ht=ut.spec.content||"",ft=ut.spec.marks;if(ut.contentMatch=lt[ht]||(lt[ht]=ContentMatch.parse(ht,this.nodes)),ut.inlineContent=ut.contentMatch.inlineContent,ut.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ut.isInline||!ut.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ut}ut.markSet=ft=="_"?null:ft?gatherMarks(this,ft.split(" ")):ft==""||!ut.inlineContent?[]:null}for(let ct in this.marks){let ut=this.marks[ct],ht=ut.spec.excludes;ut.excluded=ht==null?[ut]:ht==""?[]:gatherMarks(this,ht.split(" "))}this.nodeFromJSON=ct=>Node$1.fromJSON(this,ct),this.markFromJSON=ct=>Mark.fromJSON(this,ct),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(rt,it=null,lt,ct){if(typeof rt=="string")rt=this.nodeType(rt);else if(rt instanceof NodeType$1){if(rt.schema!=this)throw new RangeError("Node type from different schema used ("+rt.name+")")}else throw new RangeError("Invalid node type: "+rt);return rt.createChecked(it,lt,ct)}text(rt,it){let lt=this.nodes.text;return new TextNode(lt,lt.defaultAttrs,rt,Mark.setFrom(it))}mark(rt,it){return typeof rt=="string"&&(rt=this.marks[rt]),rt.create(it)}nodeType(rt){let it=this.nodes[rt];if(!it)throw new RangeError("Unknown node type: "+rt);return it}}function gatherMarks(Ye,rt){let it=[];for(let lt=0;lt<rt.length;lt++){let ct=rt[lt],ut=Ye.marks[ct],ht=ut;if(ut)it.push(ut);else for(let ft in Ye.marks){let pt=Ye.marks[ft];(ct=="_"||pt.spec.group&&pt.spec.group.split(" ").indexOf(ct)>-1)&&it.push(ht=pt)}if(!ht)throw new SyntaxError("Unknown mark type: '"+rt[lt]+"'")}return it}function isTagRule(Ye){return Ye.tag!=null}function isStyleRule(Ye){return Ye.style!=null}class DOMParser{constructor(rt,it){this.schema=rt,this.rules=it,this.tags=[],this.styles=[];let lt=this.matchedStyles=[];it.forEach(ct=>{if(isTagRule(ct))this.tags.push(ct);else if(isStyleRule(ct)){let ut=/[^=]*/.exec(ct.style)[0];lt.indexOf(ut)<0&&lt.push(ut),this.styles.push(ct)}}),this.normalizeLists=!this.tags.some(ct=>{if(!/^(ul|ol)\b/.test(ct.tag)||!ct.node)return!1;let ut=rt.nodes[ct.node];return ut.contentMatch.matchType(ut)})}parse(rt,it={}){let lt=new ParseContext(this,it,!1);return lt.addAll(rt,Mark.none,it.from,it.to),lt.finish()}parseSlice(rt,it={}){let lt=new ParseContext(this,it,!0);return lt.addAll(rt,Mark.none,it.from,it.to),Slice.maxOpen(lt.finish())}matchTag(rt,it,lt){for(let ct=lt?this.tags.indexOf(lt)+1:0;ct<this.tags.length;ct++){let ut=this.tags[ct];if(matches(rt,ut.tag)&&(ut.namespace===void 0||rt.namespaceURI==ut.namespace)&&(!ut.context||it.matchesContext(ut.context))){if(ut.getAttrs){let ht=ut.getAttrs(rt);if(ht===!1)continue;ut.attrs=ht||void 0}return ut}}}matchStyle(rt,it,lt,ct){for(let ut=ct?this.styles.indexOf(ct)+1:0;ut<this.styles.length;ut++){let ht=this.styles[ut],ft=ht.style;if(!(ft.indexOf(rt)!=0||ht.context&&!lt.matchesContext(ht.context)||ft.length>rt.length&&(ft.charCodeAt(rt.length)!=61||ft.slice(rt.length+1)!=it))){if(ht.getAttrs){let pt=ht.getAttrs(it);if(pt===!1)continue;ht.attrs=pt||void 0}return ht}}}static schemaRules(rt){let it=[];function lt(ct){let ut=ct.priority==null?50:ct.priority,ht=0;for(;ht<it.length;ht++){let ft=it[ht];if((ft.priority==null?50:ft.priority)<ut)break}it.splice(ht,0,ct)}for(let ct in rt.marks){let ut=rt.marks[ct].spec.parseDOM;ut&&ut.forEach(ht=>{lt(ht=copy$1(ht)),ht.mark||ht.ignore||ht.clearMark||(ht.mark=ct)})}for(let ct in rt.nodes){let ut=rt.nodes[ct].spec.parseDOM;ut&&ut.forEach(ht=>{lt(ht=copy$1(ht)),ht.node||ht.ignore||ht.mark||(ht.node=ct)})}return it}static fromSchema(rt){return rt.cached.domParser||(rt.cached.domParser=new DOMParser(rt,DOMParser.schemaRules(rt)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(Ye,rt,it){return rt!=null?(rt?OPT_PRESERVE_WS:0)|(rt==="full"?OPT_PRESERVE_WS_FULL:0):Ye&&Ye.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:it&~OPT_OPEN_LEFT}class NodeContext{constructor(rt,it,lt,ct,ut,ht){this.type=rt,this.attrs=it,this.marks=lt,this.solid=ct,this.options=ht,this.content=[],this.activeMarks=Mark.none,this.match=ut||(ht&OPT_OPEN_LEFT?null:rt.contentMatch)}findWrapping(rt){if(!this.match){if(!this.type)return[];let it=this.type.contentMatch.fillBefore(Fragment.from(rt));if(it)this.match=this.type.contentMatch.matchFragment(it);else{let lt=this.type.contentMatch,ct;return(ct=lt.findWrapping(rt.type))?(this.match=lt,ct):null}}return this.match.findWrapping(rt.type)}finish(rt){if(!(this.options&OPT_PRESERVE_WS)){let lt=this.content[this.content.length-1],ct;if(lt&&lt.isText&&(ct=/[ \t\r\n\u000c]+$/.exec(lt.text))){let ut=lt;lt.text.length==ct[0].length?this.content.pop():this.content[this.content.length-1]=ut.withText(ut.text.slice(0,ut.text.length-ct[0].length))}}let it=Fragment.from(this.content);return!rt&&this.match&&(it=it.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,it,this.marks):it}inlineContext(rt){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:rt.parentNode&&!blockTags.hasOwnProperty(rt.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(rt,it,lt){this.parser=rt,this.options=it,this.isOpen=lt,this.open=0,this.localPreserveWS=!1;let ct=it.topNode,ut,ht=wsOptionsFor(null,it.preserveWhitespace,0)|(lt?OPT_OPEN_LEFT:0);ct?ut=new NodeContext(ct.type,ct.attrs,Mark.none,!0,it.topMatch||ct.type.contentMatch,ht):lt?ut=new NodeContext(null,null,Mark.none,!0,null,ht):ut=new NodeContext(rt.schema.topNodeType,null,Mark.none,!0,null,ht),this.nodes=[ut],this.find=it.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(rt,it){rt.nodeType==3?this.addTextNode(rt,it):rt.nodeType==1&&this.addElement(rt,it)}addTextNode(rt,it){let lt=rt.nodeValue,ct=this.top,ut=ct.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(ct.options&OPT_PRESERVE_WS)>0;if(ut==="full"||ct.inlineContext(rt)||/[^ \t\r\n\u000c]/.test(lt)){if(ut)ut!=="full"?lt=lt.replace(/\r?\n|\r/g," "):lt=lt.replace(/\r\n?/g,`
`);else if(lt=lt.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(lt)&&this.open==this.nodes.length-1){let ht=ct.content[ct.content.length-1],ft=rt.previousSibling;(!ht||ft&&ft.nodeName=="BR"||ht.isText&&/[ \t\r\n\u000c]$/.test(ht.text))&&(lt=lt.slice(1))}lt&&this.insertNode(this.parser.schema.text(lt),it,!/\S/.test(lt)),this.findInText(rt)}else this.findInside(rt)}addElement(rt,it,lt){let ct=this.localPreserveWS,ut=this.top;(rt.tagName=="PRE"||/pre/.test(rt.style&&rt.style.whiteSpace))&&(this.localPreserveWS=!0);let ht=rt.nodeName.toLowerCase(),ft;listTags.hasOwnProperty(ht)&&this.parser.normalizeLists&&normalizeList(rt);let pt=this.options.ruleFromNode&&this.options.ruleFromNode(rt)||(ft=this.parser.matchTag(rt,this,lt));e:if(pt?pt.ignore:ignoreTags.hasOwnProperty(ht))this.findInside(rt),this.ignoreFallback(rt,it);else if(!pt||pt.skip||pt.closeParent){pt&&pt.closeParent?this.open=Math.max(0,this.open-1):pt&&pt.skip.nodeType&&(rt=pt.skip);let mt,gt=this.needsBlock;if(blockTags.hasOwnProperty(ht))ut.content.length&&ut.content[0].isInline&&this.open&&(this.open--,ut=this.top),mt=!0,ut.type||(this.needsBlock=!0);else if(!rt.firstChild){this.leafFallback(rt,it);break e}let yt=pt&&pt.skip?it:this.readStyles(rt,it);yt&&this.addAll(rt,yt),mt&&this.sync(ut),this.needsBlock=gt}else{let mt=this.readStyles(rt,it);mt&&this.addElementByRule(rt,pt,mt,pt.consuming===!1?ft:void 0)}this.localPreserveWS=ct}leafFallback(rt,it){rt.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(rt.ownerDocument.createTextNode(`
`),it)}ignoreFallback(rt,it){rt.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),it,!0)}readStyles(rt,it){let lt=rt.style;if(lt&&lt.length)for(let ct=0;ct<this.parser.matchedStyles.length;ct++){let ut=this.parser.matchedStyles[ct],ht=lt.getPropertyValue(ut);if(ht)for(let ft=void 0;;){let pt=this.parser.matchStyle(ut,ht,this,ft);if(!pt)break;if(pt.ignore)return null;if(pt.clearMark?it=it.filter(mt=>!pt.clearMark(mt)):it=it.concat(this.parser.schema.marks[pt.mark].create(pt.attrs)),pt.consuming===!1)ft=pt;else break}}return it}addElementByRule(rt,it,lt,ct){let ut,ht;if(it.node)if(ht=this.parser.schema.nodes[it.node],ht.isLeaf)this.insertNode(ht.create(it.attrs),lt,rt.nodeName=="BR")||this.leafFallback(rt,lt);else{let pt=this.enter(ht,it.attrs||null,lt,it.preserveWhitespace);pt&&(ut=!0,lt=pt)}else{let pt=this.parser.schema.marks[it.mark];lt=lt.concat(pt.create(it.attrs))}let ft=this.top;if(ht&&ht.isLeaf)this.findInside(rt);else if(ct)this.addElement(rt,lt,ct);else if(it.getContent)this.findInside(rt),it.getContent(rt,this.parser.schema).forEach(pt=>this.insertNode(pt,lt,!1));else{let pt=rt;typeof it.contentElement=="string"?pt=rt.querySelector(it.contentElement):typeof it.contentElement=="function"?pt=it.contentElement(rt):it.contentElement&&(pt=it.contentElement),this.findAround(rt,pt,!0),this.addAll(pt,lt),this.findAround(rt,pt,!1)}ut&&this.sync(ft)&&this.open--}addAll(rt,it,lt,ct){let ut=lt||0;for(let ht=lt?rt.childNodes[lt]:rt.firstChild,ft=ct==null?null:rt.childNodes[ct];ht!=ft;ht=ht.nextSibling,++ut)this.findAtPoint(rt,ut),this.addDOM(ht,it);this.findAtPoint(rt,ut)}findPlace(rt,it,lt){let ct,ut;for(let ht=this.open,ft=0;ht>=0;ht--){let pt=this.nodes[ht],mt=pt.findWrapping(rt);if(mt&&(!ct||ct.length>mt.length+ft)&&(ct=mt,ut=pt,!mt.length))break;if(pt.solid){if(lt)break;ft+=2}}if(!ct)return null;this.sync(ut);for(let ht=0;ht<ct.length;ht++)it=this.enterInner(ct[ht],null,it,!1);return it}insertNode(rt,it,lt){if(rt.isInline&&this.needsBlock&&!this.top.type){let ut=this.textblockFromContext();ut&&(it=this.enterInner(ut,null,it))}let ct=this.findPlace(rt,it,lt);if(ct){this.closeExtra();let ut=this.top;ut.match&&(ut.match=ut.match.matchType(rt.type));let ht=Mark.none;for(let ft of ct.concat(rt.marks))(ut.type?ut.type.allowsMarkType(ft.type):markMayApply(ft.type,rt.type))&&(ht=ft.addToSet(ht));return ut.content.push(rt.mark(ht)),!0}return!1}enter(rt,it,lt,ct){let ut=this.findPlace(rt.create(it),lt,!1);return ut&&(ut=this.enterInner(rt,it,lt,!0,ct)),ut}enterInner(rt,it,lt,ct=!1,ut){this.closeExtra();let ht=this.top;ht.match=ht.match&&ht.match.matchType(rt);let ft=wsOptionsFor(rt,ut,ht.options);ht.options&OPT_OPEN_LEFT&&ht.content.length==0&&(ft|=OPT_OPEN_LEFT);let pt=Mark.none;return lt=lt.filter(mt=>(ht.type?ht.type.allowsMarkType(mt.type):markMayApply(mt.type,rt))?(pt=mt.addToSet(pt),!1):!0),this.nodes.push(new NodeContext(rt,it,pt,ct,null,ft)),this.open++,lt}closeExtra(rt=!1){let it=this.nodes.length-1;if(it>this.open){for(;it>this.open;it--)this.nodes[it-1].content.push(this.nodes[it].finish(rt));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(rt){for(let it=this.open;it>=0;it--){if(this.nodes[it]==rt)return this.open=it,!0;this.localPreserveWS&&(this.nodes[it].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let rt=0;for(let it=this.open;it>=0;it--){let lt=this.nodes[it].content;for(let ct=lt.length-1;ct>=0;ct--)rt+=lt[ct].nodeSize;it&&rt++}return rt}findAtPoint(rt,it){if(this.find)for(let lt=0;lt<this.find.length;lt++)this.find[lt].node==rt&&this.find[lt].offset==it&&(this.find[lt].pos=this.currentPos)}findInside(rt){if(this.find)for(let it=0;it<this.find.length;it++)this.find[it].pos==null&&rt.nodeType==1&&rt.contains(this.find[it].node)&&(this.find[it].pos=this.currentPos)}findAround(rt,it,lt){if(rt!=it&&this.find)for(let ct=0;ct<this.find.length;ct++)this.find[ct].pos==null&&rt.nodeType==1&&rt.contains(this.find[ct].node)&&it.compareDocumentPosition(this.find[ct].node)&(lt?2:4)&&(this.find[ct].pos=this.currentPos)}findInText(rt){if(this.find)for(let it=0;it<this.find.length;it++)this.find[it].node==rt&&(this.find[it].pos=this.currentPos-(rt.nodeValue.length-this.find[it].offset))}matchesContext(rt){if(rt.indexOf("|")>-1)return rt.split(/\s*\|\s*/).some(this.matchesContext,this);let it=rt.split("/"),lt=this.options.context,ct=!this.isOpen&&(!lt||lt.parent.type==this.nodes[0].type),ut=-(lt?lt.depth+1:0)+(ct?0:1),ht=(ft,pt)=>{for(;ft>=0;ft--){let mt=it[ft];if(mt==""){if(ft==it.length-1||ft==0)continue;for(;pt>=ut;pt--)if(ht(ft-1,pt))return!0;return!1}else{let gt=pt>0||pt==0&&ct?this.nodes[pt].type:lt&&pt>=ut?lt.node(pt-ut).type:null;if(!gt||gt.name!=mt&&!gt.isInGroup(mt))return!1;pt--}}return!0};return ht(it.length-1,this.open)}textblockFromContext(){let rt=this.options.context;if(rt)for(let it=rt.depth;it>=0;it--){let lt=rt.node(it).contentMatchAt(rt.indexAfter(it)).defaultType;if(lt&&lt.isTextblock&&lt.defaultAttrs)return lt}for(let it in this.parser.schema.nodes){let lt=this.parser.schema.nodes[it];if(lt.isTextblock&&lt.defaultAttrs)return lt}}}function normalizeList(Ye){for(let rt=Ye.firstChild,it=null;rt;rt=rt.nextSibling){let lt=rt.nodeType==1?rt.nodeName.toLowerCase():null;lt&&listTags.hasOwnProperty(lt)&&it?(it.appendChild(rt),rt=it):lt=="li"?it=rt:lt&&(it=null)}}function matches(Ye,rt){return(Ye.matches||Ye.msMatchesSelector||Ye.webkitMatchesSelector||Ye.mozMatchesSelector).call(Ye,rt)}function copy$1(Ye){let rt={};for(let it in Ye)rt[it]=Ye[it];return rt}function markMayApply(Ye,rt){let it=rt.schema.nodes;for(let lt in it){let ct=it[lt];if(!ct.allowsMarkType(Ye))continue;let ut=[],ht=ft=>{ut.push(ft);for(let pt=0;pt<ft.edgeCount;pt++){let{type:mt,next:gt}=ft.edge(pt);if(mt==rt||ut.indexOf(gt)<0&&ht(gt))return!0}};if(ht(ct.contentMatch))return!0}}class DOMSerializer{constructor(rt,it){this.nodes=rt,this.marks=it}serializeFragment(rt,it={},lt){lt||(lt=doc$1(it).createDocumentFragment());let ct=lt,ut=[];return rt.forEach(ht=>{if(ut.length||ht.marks.length){let ft=0,pt=0;for(;ft<ut.length&&pt<ht.marks.length;){let mt=ht.marks[pt];if(!this.marks[mt.type.name]){pt++;continue}if(!mt.eq(ut[ft][0])||mt.type.spec.spanning===!1)break;ft++,pt++}for(;ft<ut.length;)ct=ut.pop()[1];for(;pt<ht.marks.length;){let mt=ht.marks[pt++],gt=this.serializeMark(mt,ht.isInline,it);gt&&(ut.push([mt,ct]),ct.appendChild(gt.dom),ct=gt.contentDOM||gt.dom)}}ct.appendChild(this.serializeNodeInner(ht,it))}),lt}serializeNodeInner(rt,it){let{dom:lt,contentDOM:ct}=renderSpec(doc$1(it),this.nodes[rt.type.name](rt),null,rt.attrs);if(ct){if(rt.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(rt.content,it,ct)}return lt}serializeNode(rt,it={}){let lt=this.serializeNodeInner(rt,it);for(let ct=rt.marks.length-1;ct>=0;ct--){let ut=this.serializeMark(rt.marks[ct],rt.isInline,it);ut&&((ut.contentDOM||ut.dom).appendChild(lt),lt=ut.dom)}return lt}serializeMark(rt,it,lt={}){let ct=this.marks[rt.type.name];return ct&&renderSpec(doc$1(lt),ct(rt,it),null,rt.attrs)}static renderSpec(rt,it,lt=null,ct){return renderSpec(rt,it,lt,ct)}static fromSchema(rt){return rt.cached.domSerializer||(rt.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(rt),this.marksFromSchema(rt)))}static nodesFromSchema(rt){let it=gatherToDOM(rt.nodes);return it.text||(it.text=lt=>lt.text),it}static marksFromSchema(rt){return gatherToDOM(rt.marks)}}function gatherToDOM(Ye){let rt={};for(let it in Ye){let lt=Ye[it].spec.toDOM;lt&&(rt[it]=lt)}return rt}function doc$1(Ye){return Ye.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(Ye){let rt=suspiciousAttributeCache.get(Ye);return rt===void 0&&suspiciousAttributeCache.set(Ye,rt=suspiciousAttributesInner(Ye)),rt}function suspiciousAttributesInner(Ye){let rt=null;function it(lt){if(lt&&typeof lt=="object")if(Array.isArray(lt))if(typeof lt[0]=="string")rt||(rt=[]),rt.push(lt);else for(let ct=0;ct<lt.length;ct++)it(lt[ct]);else for(let ct in lt)it(lt[ct])}return it(Ye),rt}function renderSpec(Ye,rt,it,lt){if(typeof rt=="string")return{dom:Ye.createTextNode(rt)};if(rt.nodeType!=null)return{dom:rt};if(rt.dom&&rt.dom.nodeType!=null)return rt;let ct=rt[0],ut;if(typeof ct!="string")throw new RangeError("Invalid array passed to renderSpec");if(lt&&(ut=suspiciousAttributes(lt))&&ut.indexOf(rt)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let ht=ct.indexOf(" ");ht>0&&(it=ct.slice(0,ht),ct=ct.slice(ht+1));let ft,pt=it?Ye.createElementNS(it,ct):Ye.createElement(ct),mt=rt[1],gt=1;if(mt&&typeof mt=="object"&&mt.nodeType==null&&!Array.isArray(mt)){gt=2;for(let yt in mt)if(mt[yt]!=null){let xt=yt.indexOf(" ");xt>0?pt.setAttributeNS(yt.slice(0,xt),yt.slice(xt+1),mt[yt]):yt=="style"&&pt.style?pt.style.cssText=mt[yt]:pt.setAttribute(yt,mt[yt])}}for(let yt=gt;yt<rt.length;yt++){let xt=rt[yt];if(xt===0){if(yt<rt.length-1||yt>gt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:pt,contentDOM:pt}}else{let{dom:bt,contentDOM:_t}=renderSpec(Ye,xt,it,lt);if(pt.appendChild(bt),_t){if(ft)throw new RangeError("Multiple content holes");ft=_t}}}return{dom:pt,contentDOM:ft}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(Ye,rt){return Ye+rt*factor16}function recoverIndex(Ye){return Ye&lower16}function recoverOffset(Ye){return(Ye-(Ye&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(rt,it,lt){this.pos=rt,this.delInfo=it,this.recover=lt}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(rt,it=!1){if(this.ranges=rt,this.inverted=it,!rt.length&&StepMap.empty)return StepMap.empty}recover(rt){let it=0,lt=recoverIndex(rt);if(!this.inverted)for(let ct=0;ct<lt;ct++)it+=this.ranges[ct*3+2]-this.ranges[ct*3+1];return this.ranges[lt*3]+it+recoverOffset(rt)}mapResult(rt,it=1){return this._map(rt,it,!1)}map(rt,it=1){return this._map(rt,it,!0)}_map(rt,it,lt){let ct=0,ut=this.inverted?2:1,ht=this.inverted?1:2;for(let ft=0;ft<this.ranges.length;ft+=3){let pt=this.ranges[ft]-(this.inverted?ct:0);if(pt>rt)break;let mt=this.ranges[ft+ut],gt=this.ranges[ft+ht],yt=pt+mt;if(rt<=yt){let xt=mt?rt==pt?-1:rt==yt?1:it:it,bt=pt+ct+(xt<0?0:gt);if(lt)return bt;let _t=rt==(it<0?pt:yt)?null:makeRecover(ft/3,rt-pt),Ct=rt==pt?DEL_AFTER:rt==yt?DEL_BEFORE:DEL_ACROSS;return(it<0?rt!=pt:rt!=yt)&&(Ct|=DEL_SIDE),new MapResult(bt,Ct,_t)}ct+=gt-mt}return lt?rt+ct:new MapResult(rt+ct,0,null)}touches(rt,it){let lt=0,ct=recoverIndex(it),ut=this.inverted?2:1,ht=this.inverted?1:2;for(let ft=0;ft<this.ranges.length;ft+=3){let pt=this.ranges[ft]-(this.inverted?lt:0);if(pt>rt)break;let mt=this.ranges[ft+ut],gt=pt+mt;if(rt<=gt&&ft==ct*3)return!0;lt+=this.ranges[ft+ht]-mt}return!1}forEach(rt){let it=this.inverted?2:1,lt=this.inverted?1:2;for(let ct=0,ut=0;ct<this.ranges.length;ct+=3){let ht=this.ranges[ct],ft=ht-(this.inverted?ut:0),pt=ht+(this.inverted?0:ut),mt=this.ranges[ct+it],gt=this.ranges[ct+lt];rt(ft,ft+mt,pt,pt+gt),ut+=gt-mt}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(rt){return rt==0?StepMap.empty:new StepMap(rt<0?[0,-rt,0]:[0,0,rt])}}StepMap.empty=new StepMap([]);class Mapping{constructor(rt,it,lt=0,ct=rt?rt.length:0){this.mirror=it,this.from=lt,this.to=ct,this._maps=rt||[],this.ownData=!(rt||it)}get maps(){return this._maps}slice(rt=0,it=this.maps.length){return new Mapping(this._maps,this.mirror,rt,it)}appendMap(rt,it){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(rt),it!=null&&this.setMirror(this._maps.length-1,it)}appendMapping(rt){for(let it=0,lt=this._maps.length;it<rt._maps.length;it++){let ct=rt.getMirror(it);this.appendMap(rt._maps[it],ct!=null&&ct<it?lt+ct:void 0)}}getMirror(rt){if(this.mirror){for(let it=0;it<this.mirror.length;it++)if(this.mirror[it]==rt)return this.mirror[it+(it%2?-1:1)]}}setMirror(rt,it){this.mirror||(this.mirror=[]),this.mirror.push(rt,it)}appendMappingInverted(rt){for(let it=rt.maps.length-1,lt=this._maps.length+rt._maps.length;it>=0;it--){let ct=rt.getMirror(it);this.appendMap(rt._maps[it].invert(),ct!=null&&ct>it?lt-ct-1:void 0)}}invert(){let rt=new Mapping;return rt.appendMappingInverted(this),rt}map(rt,it=1){if(this.mirror)return this._map(rt,it,!0);for(let lt=this.from;lt<this.to;lt++)rt=this._maps[lt].map(rt,it);return rt}mapResult(rt,it=1){return this._map(rt,it,!1)}_map(rt,it,lt){let ct=0;for(let ut=this.from;ut<this.to;ut++){let ht=this._maps[ut],ft=ht.mapResult(rt,it);if(ft.recover!=null){let pt=this.getMirror(ut);if(pt!=null&&pt>ut&&pt<this.to){ut=pt,rt=this._maps[pt].recover(ft.recover);continue}}ct|=ft.delInfo,rt=ft.pos}return lt?rt:new MapResult(rt,ct,null)}}const stepsByID=Object.create(null);let Step$1=class{getMap(){return StepMap.empty}merge(rt){return null}static fromJSON(rt,it){if(!it||!it.stepType)throw new RangeError("Invalid input for Step.fromJSON");let lt=stepsByID[it.stepType];if(!lt)throw new RangeError(`No step type ${it.stepType} defined`);return lt.fromJSON(rt,it)}static jsonID(rt,it){if(rt in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+rt);return stepsByID[rt]=it,it.prototype.jsonID=rt,it}};class StepResult{constructor(rt,it){this.doc=rt,this.failed=it}static ok(rt){return new StepResult(rt,null)}static fail(rt){return new StepResult(null,rt)}static fromReplace(rt,it,lt,ct){try{return StepResult.ok(rt.replace(it,lt,ct))}catch(ut){if(ut instanceof ReplaceError)return StepResult.fail(ut.message);throw ut}}}function mapFragment(Ye,rt,it){let lt=[];for(let ct=0;ct<Ye.childCount;ct++){let ut=Ye.child(ct);ut.content.size&&(ut=ut.copy(mapFragment(ut.content,rt,ut))),ut.isInline&&(ut=rt(ut,it,ct)),lt.push(ut)}return Fragment.fromArray(lt)}class AddMarkStep extends Step$1{constructor(rt,it,lt){super(),this.from=rt,this.to=it,this.mark=lt}apply(rt){let it=rt.slice(this.from,this.to),lt=rt.resolve(this.from),ct=lt.node(lt.sharedDepth(this.to)),ut=new Slice(mapFragment(it.content,(ht,ft)=>!ht.isAtom||!ft.type.allowsMarkType(this.mark.type)?ht:ht.mark(this.mark.addToSet(ht.marks)),ct),it.openStart,it.openEnd);return StepResult.fromReplace(rt,this.from,this.to,ut)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(rt){let it=rt.mapResult(this.from,1),lt=rt.mapResult(this.to,-1);return it.deleted&&lt.deleted||it.pos>=lt.pos?null:new AddMarkStep(it.pos,lt.pos,this.mark)}merge(rt){return rt instanceof AddMarkStep&&rt.mark.eq(this.mark)&&this.from<=rt.to&&this.to>=rt.from?new AddMarkStep(Math.min(this.from,rt.from),Math.max(this.to,rt.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(rt,it){if(typeof it.from!="number"||typeof it.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(it.from,it.to,rt.markFromJSON(it.mark))}}Step$1.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step$1{constructor(rt,it,lt){super(),this.from=rt,this.to=it,this.mark=lt}apply(rt){let it=rt.slice(this.from,this.to),lt=new Slice(mapFragment(it.content,ct=>ct.mark(this.mark.removeFromSet(ct.marks)),rt),it.openStart,it.openEnd);return StepResult.fromReplace(rt,this.from,this.to,lt)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(rt){let it=rt.mapResult(this.from,1),lt=rt.mapResult(this.to,-1);return it.deleted&&lt.deleted||it.pos>=lt.pos?null:new RemoveMarkStep(it.pos,lt.pos,this.mark)}merge(rt){return rt instanceof RemoveMarkStep&&rt.mark.eq(this.mark)&&this.from<=rt.to&&this.to>=rt.from?new RemoveMarkStep(Math.min(this.from,rt.from),Math.max(this.to,rt.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(rt,it){if(typeof it.from!="number"||typeof it.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(it.from,it.to,rt.markFromJSON(it.mark))}}Step$1.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step$1{constructor(rt,it){super(),this.pos=rt,this.mark=it}apply(rt){let it=rt.nodeAt(this.pos);if(!it)return StepResult.fail("No node at mark step's position");let lt=it.type.create(it.attrs,null,this.mark.addToSet(it.marks));return StepResult.fromReplace(rt,this.pos,this.pos+1,new Slice(Fragment.from(lt),0,it.isLeaf?0:1))}invert(rt){let it=rt.nodeAt(this.pos);if(it){let lt=this.mark.addToSet(it.marks);if(lt.length==it.marks.length){for(let ct=0;ct<it.marks.length;ct++)if(!it.marks[ct].isInSet(lt))return new AddNodeMarkStep(this.pos,it.marks[ct]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(rt){let it=rt.mapResult(this.pos,1);return it.deletedAfter?null:new AddNodeMarkStep(it.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(rt,it){if(typeof it.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(it.pos,rt.markFromJSON(it.mark))}}Step$1.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step$1{constructor(rt,it){super(),this.pos=rt,this.mark=it}apply(rt){let it=rt.nodeAt(this.pos);if(!it)return StepResult.fail("No node at mark step's position");let lt=it.type.create(it.attrs,null,this.mark.removeFromSet(it.marks));return StepResult.fromReplace(rt,this.pos,this.pos+1,new Slice(Fragment.from(lt),0,it.isLeaf?0:1))}invert(rt){let it=rt.nodeAt(this.pos);return!it||!this.mark.isInSet(it.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(rt){let it=rt.mapResult(this.pos,1);return it.deletedAfter?null:new RemoveNodeMarkStep(it.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(rt,it){if(typeof it.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(it.pos,rt.markFromJSON(it.mark))}}Step$1.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step$1{constructor(rt,it,lt,ct=!1){super(),this.from=rt,this.to=it,this.slice=lt,this.structure=ct}apply(rt){return this.structure&&contentBetween(rt,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(rt,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(rt){return new ReplaceStep(this.from,this.from+this.slice.size,rt.slice(this.from,this.to))}map(rt){let it=rt.mapResult(this.from,1),lt=rt.mapResult(this.to,-1);return it.deletedAcross&&lt.deletedAcross?null:new ReplaceStep(it.pos,Math.max(it.pos,lt.pos),this.slice,this.structure)}merge(rt){if(!(rt instanceof ReplaceStep)||rt.structure||this.structure)return null;if(this.from+this.slice.size==rt.from&&!this.slice.openEnd&&!rt.slice.openStart){let it=this.slice.size+rt.slice.size==0?Slice.empty:new Slice(this.slice.content.append(rt.slice.content),this.slice.openStart,rt.slice.openEnd);return new ReplaceStep(this.from,this.to+(rt.to-rt.from),it,this.structure)}else if(rt.to==this.from&&!this.slice.openStart&&!rt.slice.openEnd){let it=this.slice.size+rt.slice.size==0?Slice.empty:new Slice(rt.slice.content.append(this.slice.content),rt.slice.openStart,this.slice.openEnd);return new ReplaceStep(rt.from,this.to,it,this.structure)}else return null}toJSON(){let rt={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(rt.slice=this.slice.toJSON()),this.structure&&(rt.structure=!0),rt}static fromJSON(rt,it){if(typeof it.from!="number"||typeof it.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(it.from,it.to,Slice.fromJSON(rt,it.slice),!!it.structure)}}Step$1.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step$1{constructor(rt,it,lt,ct,ut,ht,ft=!1){super(),this.from=rt,this.to=it,this.gapFrom=lt,this.gapTo=ct,this.slice=ut,this.insert=ht,this.structure=ft}apply(rt){if(this.structure&&(contentBetween(rt,this.from,this.gapFrom)||contentBetween(rt,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let it=rt.slice(this.gapFrom,this.gapTo);if(it.openStart||it.openEnd)return StepResult.fail("Gap is not a flat range");let lt=this.slice.insertAt(this.insert,it.content);return lt?StepResult.fromReplace(rt,this.from,this.to,lt):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(rt){let it=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+it,this.from+this.insert,this.from+this.insert+it,rt.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(rt){let it=rt.mapResult(this.from,1),lt=rt.mapResult(this.to,-1),ct=this.from==this.gapFrom?it.pos:rt.map(this.gapFrom,-1),ut=this.to==this.gapTo?lt.pos:rt.map(this.gapTo,1);return it.deletedAcross&&lt.deletedAcross||ct<it.pos||ut>lt.pos?null:new ReplaceAroundStep(it.pos,lt.pos,ct,ut,this.slice,this.insert,this.structure)}toJSON(){let rt={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(rt.slice=this.slice.toJSON()),this.structure&&(rt.structure=!0),rt}static fromJSON(rt,it){if(typeof it.from!="number"||typeof it.to!="number"||typeof it.gapFrom!="number"||typeof it.gapTo!="number"||typeof it.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(it.from,it.to,it.gapFrom,it.gapTo,Slice.fromJSON(rt,it.slice),it.insert,!!it.structure)}}Step$1.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(Ye,rt,it){let lt=Ye.resolve(rt),ct=it-rt,ut=lt.depth;for(;ct>0&&ut>0&&lt.indexAfter(ut)==lt.node(ut).childCount;)ut--,ct--;if(ct>0){let ht=lt.node(ut).maybeChild(lt.indexAfter(ut));for(;ct>0;){if(!ht||ht.isLeaf)return!0;ht=ht.firstChild,ct--}}return!1}function addMark(Ye,rt,it,lt){let ct=[],ut=[],ht,ft;Ye.doc.nodesBetween(rt,it,(pt,mt,gt)=>{if(!pt.isInline)return;let yt=pt.marks;if(!lt.isInSet(yt)&&gt.type.allowsMarkType(lt.type)){let xt=Math.max(mt,rt),bt=Math.min(mt+pt.nodeSize,it),_t=lt.addToSet(yt);for(let Ct=0;Ct<yt.length;Ct++)yt[Ct].isInSet(_t)||(ht&&ht.to==xt&&ht.mark.eq(yt[Ct])?ht.to=bt:ct.push(ht=new RemoveMarkStep(xt,bt,yt[Ct])));ft&&ft.to==xt?ft.to=bt:ut.push(ft=new AddMarkStep(xt,bt,lt))}}),ct.forEach(pt=>Ye.step(pt)),ut.forEach(pt=>Ye.step(pt))}function removeMark(Ye,rt,it,lt){let ct=[],ut=0;Ye.doc.nodesBetween(rt,it,(ht,ft)=>{if(!ht.isInline)return;ut++;let pt=null;if(lt instanceof MarkType){let mt=ht.marks,gt;for(;gt=lt.isInSet(mt);)(pt||(pt=[])).push(gt),mt=gt.removeFromSet(mt)}else lt?lt.isInSet(ht.marks)&&(pt=[lt]):pt=ht.marks;if(pt&&pt.length){let mt=Math.min(ft+ht.nodeSize,it);for(let gt=0;gt<pt.length;gt++){let yt=pt[gt],xt;for(let bt=0;bt<ct.length;bt++){let _t=ct[bt];_t.step==ut-1&&yt.eq(ct[bt].style)&&(xt=_t)}xt?(xt.to=mt,xt.step=ut):ct.push({style:yt,from:Math.max(ft,rt),to:mt,step:ut})}}}),ct.forEach(ht=>Ye.step(new RemoveMarkStep(ht.from,ht.to,ht.style)))}function clearIncompatible(Ye,rt,it,lt=it.contentMatch,ct=!0){let ut=Ye.doc.nodeAt(rt),ht=[],ft=rt+1;for(let pt=0;pt<ut.childCount;pt++){let mt=ut.child(pt),gt=ft+mt.nodeSize,yt=lt.matchType(mt.type);if(!yt)ht.push(new ReplaceStep(ft,gt,Slice.empty));else{lt=yt;for(let xt=0;xt<mt.marks.length;xt++)it.allowsMarkType(mt.marks[xt].type)||Ye.step(new RemoveMarkStep(ft,gt,mt.marks[xt]));if(ct&&mt.isText&&it.whitespace!="pre"){let xt,bt=/\r?\n|\r/g,_t;for(;xt=bt.exec(mt.text);)_t||(_t=new Slice(Fragment.from(it.schema.text(" ",it.allowedMarks(mt.marks))),0,0)),ht.push(new ReplaceStep(ft+xt.index,ft+xt.index+xt[0].length,_t))}}ft=gt}if(!lt.validEnd){let pt=lt.fillBefore(Fragment.empty,!0);Ye.replace(ft,ft,new Slice(pt,0,0))}for(let pt=ht.length-1;pt>=0;pt--)Ye.step(ht[pt])}function canCut(Ye,rt,it){return(rt==0||Ye.canReplace(rt,Ye.childCount))&&(it==Ye.childCount||Ye.canReplace(0,it))}function liftTarget(Ye){let it=Ye.parent.content.cutByIndex(Ye.startIndex,Ye.endIndex);for(let lt=Ye.depth;;--lt){let ct=Ye.$from.node(lt),ut=Ye.$from.index(lt),ht=Ye.$to.indexAfter(lt);if(lt<Ye.depth&&ct.canReplace(ut,ht,it))return lt;if(lt==0||ct.type.spec.isolating||!canCut(ct,ut,ht))break}return null}function lift(Ye,rt,it){let{$from:lt,$to:ct,depth:ut}=rt,ht=lt.before(ut+1),ft=ct.after(ut+1),pt=ht,mt=ft,gt=Fragment.empty,yt=0;for(let _t=ut,Ct=!1;_t>it;_t--)Ct||lt.index(_t)>0?(Ct=!0,gt=Fragment.from(lt.node(_t).copy(gt)),yt++):pt--;let xt=Fragment.empty,bt=0;for(let _t=ut,Ct=!1;_t>it;_t--)Ct||ct.after(_t+1)<ct.end(_t)?(Ct=!0,xt=Fragment.from(ct.node(_t).copy(xt)),bt++):mt++;Ye.step(new ReplaceAroundStep(pt,mt,ht,ft,new Slice(gt.append(xt),yt,bt),gt.size-yt,!0))}function wrap$2(Ye,rt,it){let lt=Fragment.empty;for(let ht=it.length-1;ht>=0;ht--){if(lt.size){let ft=it[ht].type.contentMatch.matchFragment(lt);if(!ft||!ft.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}lt=Fragment.from(it[ht].type.create(it[ht].attrs,lt))}let ct=rt.start,ut=rt.end;Ye.step(new ReplaceAroundStep(ct,ut,ct,ut,new Slice(lt,0,0),it.length,!0))}function setBlockType(Ye,rt,it,lt,ct){if(!lt.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let ut=Ye.steps.length;Ye.doc.nodesBetween(rt,it,(ht,ft)=>{let pt=typeof ct=="function"?ct(ht):ct;if(ht.isTextblock&&!ht.hasMarkup(lt,pt)&&canChangeType(Ye.doc,Ye.mapping.slice(ut).map(ft),lt)){let mt=null;if(lt.schema.linebreakReplacement){let bt=lt.whitespace=="pre",_t=!!lt.contentMatch.matchType(lt.schema.linebreakReplacement);bt&&!_t?mt=!1:!bt&&_t&&(mt=!0)}mt===!1&&replaceLinebreaks(Ye,ht,ft,ut),clearIncompatible(Ye,Ye.mapping.slice(ut).map(ft,1),lt,void 0,mt===null);let gt=Ye.mapping.slice(ut),yt=gt.map(ft,1),xt=gt.map(ft+ht.nodeSize,1);return Ye.step(new ReplaceAroundStep(yt,xt,yt+1,xt-1,new Slice(Fragment.from(lt.create(pt,null,ht.marks)),0,0),1,!0)),mt===!0&&replaceNewlines(Ye,ht,ft,ut),!1}})}function replaceNewlines(Ye,rt,it,lt){rt.forEach((ct,ut)=>{if(ct.isText){let ht,ft=/\r?\n|\r/g;for(;ht=ft.exec(ct.text);){let pt=Ye.mapping.slice(lt).map(it+1+ut+ht.index);Ye.replaceWith(pt,pt+1,rt.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(Ye,rt,it,lt){rt.forEach((ct,ut)=>{if(ct.type==ct.type.schema.linebreakReplacement){let ht=Ye.mapping.slice(lt).map(it+1+ut);Ye.replaceWith(ht,ht+1,rt.type.schema.text(`
`))}})}function canChangeType(Ye,rt,it){let lt=Ye.resolve(rt),ct=lt.index();return lt.parent.canReplaceWith(ct,ct+1,it)}function setNodeMarkup(Ye,rt,it,lt,ct){let ut=Ye.doc.nodeAt(rt);if(!ut)throw new RangeError("No node at given position");it||(it=ut.type);let ht=it.create(lt,null,ct||ut.marks);if(ut.isLeaf)return Ye.replaceWith(rt,rt+ut.nodeSize,ht);if(!it.validContent(ut.content))throw new RangeError("Invalid content for node type "+it.name);Ye.step(new ReplaceAroundStep(rt,rt+ut.nodeSize,rt+1,rt+ut.nodeSize-1,new Slice(Fragment.from(ht),0,0),1,!0))}function canSplit(Ye,rt,it=1,lt){let ct=Ye.resolve(rt),ut=ct.depth-it,ht=lt&&lt[lt.length-1]||ct.parent;if(ut<0||ct.parent.type.spec.isolating||!ct.parent.canReplace(ct.index(),ct.parent.childCount)||!ht.type.validContent(ct.parent.content.cutByIndex(ct.index(),ct.parent.childCount)))return!1;for(let mt=ct.depth-1,gt=it-2;mt>ut;mt--,gt--){let yt=ct.node(mt),xt=ct.index(mt);if(yt.type.spec.isolating)return!1;let bt=yt.content.cutByIndex(xt,yt.childCount),_t=lt&&lt[gt+1];_t&&(bt=bt.replaceChild(0,_t.type.create(_t.attrs)));let Ct=lt&&lt[gt]||yt;if(!yt.canReplace(xt+1,yt.childCount)||!Ct.type.validContent(bt))return!1}let ft=ct.indexAfter(ut),pt=lt&&lt[0];return ct.node(ut).canReplaceWith(ft,ft,pt?pt.type:ct.node(ut+1).type)}function split(Ye,rt,it=1,lt){let ct=Ye.doc.resolve(rt),ut=Fragment.empty,ht=Fragment.empty;for(let ft=ct.depth,pt=ct.depth-it,mt=it-1;ft>pt;ft--,mt--){ut=Fragment.from(ct.node(ft).copy(ut));let gt=lt&&lt[mt];ht=Fragment.from(gt?gt.type.create(gt.attrs,ht):ct.node(ft).copy(ht))}Ye.step(new ReplaceStep(rt,rt,new Slice(ut.append(ht),it,it),!0))}function canJoin(Ye,rt){let it=Ye.resolve(rt),lt=it.index();return joinable(it.nodeBefore,it.nodeAfter)&&it.parent.canReplace(lt,lt+1)}function canAppendWithSubstitutedLinebreaks(Ye,rt){rt.content.size||Ye.type.compatibleContent(rt.type);let it=Ye.contentMatchAt(Ye.childCount),{linebreakReplacement:lt}=Ye.type.schema;for(let ct=0;ct<rt.childCount;ct++){let ut=rt.child(ct),ht=ut.type==lt?Ye.type.schema.nodes.text:ut.type;if(it=it.matchType(ht),!it||!Ye.type.allowsMarks(ut.marks))return!1}return it.validEnd}function joinable(Ye,rt){return!!(Ye&&rt&&!Ye.isLeaf&&canAppendWithSubstitutedLinebreaks(Ye,rt))}function join$2(Ye,rt,it){let lt=null,{linebreakReplacement:ct}=Ye.doc.type.schema,ut=Ye.doc.resolve(rt-it),ht=ut.node().type;if(ct&&ht.inlineContent){let gt=ht.whitespace=="pre",yt=!!ht.contentMatch.matchType(ct);gt&&!yt?lt=!1:!gt&&yt&&(lt=!0)}let ft=Ye.steps.length;if(lt===!1){let gt=Ye.doc.resolve(rt+it);replaceLinebreaks(Ye,gt.node(),gt.before(),ft)}ht.inlineContent&&clearIncompatible(Ye,rt+it-1,ht,ut.node().contentMatchAt(ut.index()),lt==null);let pt=Ye.mapping.slice(ft),mt=pt.map(rt-it);if(Ye.step(new ReplaceStep(mt,pt.map(rt+it,-1),Slice.empty,!0)),lt===!0){let gt=Ye.doc.resolve(mt);replaceNewlines(Ye,gt.node(),gt.before(),Ye.steps.length)}return Ye}function insertPoint(Ye,rt,it){let lt=Ye.resolve(rt);if(lt.parent.canReplaceWith(lt.index(),lt.index(),it))return rt;if(lt.parentOffset==0)for(let ct=lt.depth-1;ct>=0;ct--){let ut=lt.index(ct);if(lt.node(ct).canReplaceWith(ut,ut,it))return lt.before(ct+1);if(ut>0)return null}if(lt.parentOffset==lt.parent.content.size)for(let ct=lt.depth-1;ct>=0;ct--){let ut=lt.indexAfter(ct);if(lt.node(ct).canReplaceWith(ut,ut,it))return lt.after(ct+1);if(ut<lt.node(ct).childCount)return null}return null}function dropPoint(Ye,rt,it){let lt=Ye.resolve(rt);if(!it.content.size)return rt;let ct=it.content;for(let ut=0;ut<it.openStart;ut++)ct=ct.firstChild.content;for(let ut=1;ut<=(it.openStart==0&&it.size?2:1);ut++)for(let ht=lt.depth;ht>=0;ht--){let ft=ht==lt.depth?0:lt.pos<=(lt.start(ht+1)+lt.end(ht+1))/2?-1:1,pt=lt.index(ht)+(ft>0?1:0),mt=lt.node(ht),gt=!1;if(ut==1)gt=mt.canReplace(pt,pt,ct);else{let yt=mt.contentMatchAt(pt).findWrapping(ct.firstChild.type);gt=yt&&mt.canReplaceWith(pt,pt,yt[0])}if(gt)return ft==0?lt.pos:ft<0?lt.before(ht+1):lt.after(ht+1)}return null}function replaceStep(Ye,rt,it=rt,lt=Slice.empty){if(rt==it&&!lt.size)return null;let ct=Ye.resolve(rt),ut=Ye.resolve(it);return fitsTrivially(ct,ut,lt)?new ReplaceStep(rt,it,lt):new Fitter(ct,ut,lt).fit()}function fitsTrivially(Ye,rt,it){return!it.openStart&&!it.openEnd&&Ye.start()==rt.start()&&Ye.parent.canReplace(Ye.index(),rt.index(),it.content)}class Fitter{constructor(rt,it,lt){this.$from=rt,this.$to=it,this.unplaced=lt,this.frontier=[],this.placed=Fragment.empty;for(let ct=0;ct<=rt.depth;ct++){let ut=rt.node(ct);this.frontier.push({type:ut.type,match:ut.contentMatchAt(rt.indexAfter(ct))})}for(let ct=rt.depth;ct>0;ct--)this.placed=Fragment.from(rt.node(ct).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let mt=this.findFittable();mt?this.placeNodes(mt):this.openMore()||this.dropNode()}let rt=this.mustMoveInline(),it=this.placed.size-this.depth-this.$from.depth,lt=this.$from,ct=this.close(rt<0?this.$to:lt.doc.resolve(rt));if(!ct)return null;let ut=this.placed,ht=lt.depth,ft=ct.depth;for(;ht&&ft&&ut.childCount==1;)ut=ut.firstChild.content,ht--,ft--;let pt=new Slice(ut,ht,ft);return rt>-1?new ReplaceAroundStep(lt.pos,rt,this.$to.pos,this.$to.end(),pt,it):pt.size||lt.pos!=this.$to.pos?new ReplaceStep(lt.pos,ct.pos,pt):null}findFittable(){let rt=this.unplaced.openStart;for(let it=this.unplaced.content,lt=0,ct=this.unplaced.openEnd;lt<rt;lt++){let ut=it.firstChild;if(it.childCount>1&&(ct=0),ut.type.spec.isolating&&ct<=lt){rt=lt;break}it=ut.content}for(let it=1;it<=2;it++)for(let lt=it==1?rt:this.unplaced.openStart;lt>=0;lt--){let ct,ut=null;lt?(ut=contentAt(this.unplaced.content,lt-1).firstChild,ct=ut.content):ct=this.unplaced.content;let ht=ct.firstChild;for(let ft=this.depth;ft>=0;ft--){let{type:pt,match:mt}=this.frontier[ft],gt,yt=null;if(it==1&&(ht?mt.matchType(ht.type)||(yt=mt.fillBefore(Fragment.from(ht),!1)):ut&&pt.compatibleContent(ut.type)))return{sliceDepth:lt,frontierDepth:ft,parent:ut,inject:yt};if(it==2&&ht&&(gt=mt.findWrapping(ht.type)))return{sliceDepth:lt,frontierDepth:ft,parent:ut,wrap:gt};if(ut&&mt.matchType(ut.type))break}}}openMore(){let{content:rt,openStart:it,openEnd:lt}=this.unplaced,ct=contentAt(rt,it);return!ct.childCount||ct.firstChild.isLeaf?!1:(this.unplaced=new Slice(rt,it+1,Math.max(lt,ct.size+it>=rt.size-lt?it+1:0)),!0)}dropNode(){let{content:rt,openStart:it,openEnd:lt}=this.unplaced,ct=contentAt(rt,it);if(ct.childCount<=1&&it>0){let ut=rt.size-it<=it+ct.size;this.unplaced=new Slice(dropFromFragment(rt,it-1,1),it-1,ut?it-1:lt)}else this.unplaced=new Slice(dropFromFragment(rt,it,1),it,lt)}placeNodes({sliceDepth:rt,frontierDepth:it,parent:lt,inject:ct,wrap:ut}){for(;this.depth>it;)this.closeFrontierNode();if(ut)for(let Ct=0;Ct<ut.length;Ct++)this.openFrontierNode(ut[Ct]);let ht=this.unplaced,ft=lt?lt.content:ht.content,pt=ht.openStart-rt,mt=0,gt=[],{match:yt,type:xt}=this.frontier[it];if(ct){for(let Ct=0;Ct<ct.childCount;Ct++)gt.push(ct.child(Ct));yt=yt.matchFragment(ct)}let bt=ft.size+rt-(ht.content.size-ht.openEnd);for(;mt<ft.childCount;){let Ct=ft.child(mt),kt=yt.matchType(Ct.type);if(!kt)break;mt++,(mt>1||pt==0||Ct.content.size)&&(yt=kt,gt.push(closeNodeStart(Ct.mark(xt.allowedMarks(Ct.marks)),mt==1?pt:0,mt==ft.childCount?bt:-1)))}let _t=mt==ft.childCount;_t||(bt=-1),this.placed=addToFragment(this.placed,it,Fragment.from(gt)),this.frontier[it].match=yt,_t&&bt<0&&lt&&lt.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Ct=0,kt=ft;Ct<bt;Ct++){let St=kt.lastChild;this.frontier.push({type:St.type,match:St.contentMatchAt(St.childCount)}),kt=St.content}this.unplaced=_t?rt==0?Slice.empty:new Slice(dropFromFragment(ht.content,rt-1,1),rt-1,bt<0?ht.openEnd:rt-1):new Slice(dropFromFragment(ht.content,rt,mt),ht.openStart,ht.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let rt=this.frontier[this.depth],it;if(!rt.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,rt.type,rt.match,!1)||this.$to.depth==this.depth&&(it=this.findCloseLevel(this.$to))&&it.depth==this.depth)return-1;let{depth:lt}=this.$to,ct=this.$to.after(lt);for(;lt>1&&ct==this.$to.end(--lt);)++ct;return ct}findCloseLevel(rt){e:for(let it=Math.min(this.depth,rt.depth);it>=0;it--){let{match:lt,type:ct}=this.frontier[it],ut=it<rt.depth&&rt.end(it+1)==rt.pos+(rt.depth-(it+1)),ht=contentAfterFits(rt,it,ct,lt,ut);if(ht){for(let ft=it-1;ft>=0;ft--){let{match:pt,type:mt}=this.frontier[ft],gt=contentAfterFits(rt,ft,mt,pt,!0);if(!gt||gt.childCount)continue e}return{depth:it,fit:ht,move:ut?rt.doc.resolve(rt.after(it+1)):rt}}}}close(rt){let it=this.findCloseLevel(rt);if(!it)return null;for(;this.depth>it.depth;)this.closeFrontierNode();it.fit.childCount&&(this.placed=addToFragment(this.placed,it.depth,it.fit)),rt=it.move;for(let lt=it.depth+1;lt<=rt.depth;lt++){let ct=rt.node(lt),ut=ct.type.contentMatch.fillBefore(ct.content,!0,rt.index(lt));this.openFrontierNode(ct.type,ct.attrs,ut)}return rt}openFrontierNode(rt,it=null,lt){let ct=this.frontier[this.depth];ct.match=ct.match.matchType(rt),this.placed=addToFragment(this.placed,this.depth,Fragment.from(rt.create(it,lt))),this.frontier.push({type:rt,match:rt.contentMatch})}closeFrontierNode(){let it=this.frontier.pop().match.fillBefore(Fragment.empty,!0);it.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,it))}}function dropFromFragment(Ye,rt,it){return rt==0?Ye.cutByIndex(it,Ye.childCount):Ye.replaceChild(0,Ye.firstChild.copy(dropFromFragment(Ye.firstChild.content,rt-1,it)))}function addToFragment(Ye,rt,it){return rt==0?Ye.append(it):Ye.replaceChild(Ye.childCount-1,Ye.lastChild.copy(addToFragment(Ye.lastChild.content,rt-1,it)))}function contentAt(Ye,rt){for(let it=0;it<rt;it++)Ye=Ye.firstChild.content;return Ye}function closeNodeStart(Ye,rt,it){if(rt<=0)return Ye;let lt=Ye.content;return rt>1&&(lt=lt.replaceChild(0,closeNodeStart(lt.firstChild,rt-1,lt.childCount==1?it-1:0))),rt>0&&(lt=Ye.type.contentMatch.fillBefore(lt).append(lt),it<=0&&(lt=lt.append(Ye.type.contentMatch.matchFragment(lt).fillBefore(Fragment.empty,!0)))),Ye.copy(lt)}function contentAfterFits(Ye,rt,it,lt,ct){let ut=Ye.node(rt),ht=ct?Ye.indexAfter(rt):Ye.index(rt);if(ht==ut.childCount&&!it.compatibleContent(ut.type))return null;let ft=lt.fillBefore(ut.content,!0,ht);return ft&&!invalidMarks(it,ut.content,ht)?ft:null}function invalidMarks(Ye,rt,it){for(let lt=it;lt<rt.childCount;lt++)if(!Ye.allowsMarks(rt.child(lt).marks))return!0;return!1}function definesContent(Ye){return Ye.spec.defining||Ye.spec.definingForContent}function replaceRange(Ye,rt,it,lt){if(!lt.size)return Ye.deleteRange(rt,it);let ct=Ye.doc.resolve(rt),ut=Ye.doc.resolve(it);if(fitsTrivially(ct,ut,lt))return Ye.step(new ReplaceStep(rt,it,lt));let ht=coveredDepths(ct,Ye.doc.resolve(it));ht[ht.length-1]==0&&ht.pop();let ft=-(ct.depth+1);ht.unshift(ft);for(let xt=ct.depth,bt=ct.pos-1;xt>0;xt--,bt--){let _t=ct.node(xt).type.spec;if(_t.defining||_t.definingAsContext||_t.isolating)break;ht.indexOf(xt)>-1?ft=xt:ct.before(xt)==bt&&ht.splice(1,0,-xt)}let pt=ht.indexOf(ft),mt=[],gt=lt.openStart;for(let xt=lt.content,bt=0;;bt++){let _t=xt.firstChild;if(mt.push(_t),bt==lt.openStart)break;xt=_t.content}for(let xt=gt-1;xt>=0;xt--){let bt=mt[xt],_t=definesContent(bt.type);if(_t&&!bt.sameMarkup(ct.node(Math.abs(ft)-1)))gt=xt;else if(_t||!bt.type.isTextblock)break}for(let xt=lt.openStart;xt>=0;xt--){let bt=(xt+gt+1)%(lt.openStart+1),_t=mt[bt];if(_t)for(let Ct=0;Ct<ht.length;Ct++){let kt=ht[(Ct+pt)%ht.length],St=!0;kt<0&&(St=!1,kt=-kt);let Rt=ct.node(kt-1),Tt=ct.index(kt-1);if(Rt.canReplaceWith(Tt,Tt,_t.type,_t.marks))return Ye.replace(ct.before(kt),St?ut.after(kt):it,new Slice(closeFragment(lt.content,0,lt.openStart,bt),bt,lt.openEnd))}}let yt=Ye.steps.length;for(let xt=ht.length-1;xt>=0&&(Ye.replace(rt,it,lt),!(Ye.steps.length>yt));xt--){let bt=ht[xt];bt<0||(rt=ct.before(bt),it=ut.after(bt))}}function closeFragment(Ye,rt,it,lt,ct){if(rt<it){let ut=Ye.firstChild;Ye=Ye.replaceChild(0,ut.copy(closeFragment(ut.content,rt+1,it,lt,ut)))}if(rt>lt){let ut=ct.contentMatchAt(0),ht=ut.fillBefore(Ye).append(Ye);Ye=ht.append(ut.matchFragment(ht).fillBefore(Fragment.empty,!0))}return Ye}function replaceRangeWith(Ye,rt,it,lt){if(!lt.isInline&&rt==it&&Ye.doc.resolve(rt).parent.content.size){let ct=insertPoint(Ye.doc,rt,lt.type);ct!=null&&(rt=it=ct)}Ye.replaceRange(rt,it,new Slice(Fragment.from(lt),0,0))}function deleteRange(Ye,rt,it){let lt=Ye.doc.resolve(rt),ct=Ye.doc.resolve(it),ut=coveredDepths(lt,ct);for(let ht=0;ht<ut.length;ht++){let ft=ut[ht],pt=ht==ut.length-1;if(pt&&ft==0||lt.node(ft).type.contentMatch.validEnd)return Ye.delete(lt.start(ft),ct.end(ft));if(ft>0&&(pt||lt.node(ft-1).canReplace(lt.index(ft-1),ct.indexAfter(ft-1))))return Ye.delete(lt.before(ft),ct.after(ft))}for(let ht=1;ht<=lt.depth&&ht<=ct.depth;ht++)if(rt-lt.start(ht)==lt.depth-ht&&it>lt.end(ht)&&ct.end(ht)-it!=ct.depth-ht&&lt.start(ht-1)==ct.start(ht-1)&&lt.node(ht-1).canReplace(lt.index(ht-1),ct.index(ht-1)))return Ye.delete(lt.before(ht),it);Ye.delete(rt,it)}function coveredDepths(Ye,rt){let it=[],lt=Math.min(Ye.depth,rt.depth);for(let ct=lt;ct>=0;ct--){let ut=Ye.start(ct);if(ut<Ye.pos-(Ye.depth-ct)||rt.end(ct)>rt.pos+(rt.depth-ct)||Ye.node(ct).type.spec.isolating||rt.node(ct).type.spec.isolating)break;(ut==rt.start(ct)||ct==Ye.depth&&ct==rt.depth&&Ye.parent.inlineContent&&rt.parent.inlineContent&&ct&&rt.start(ct-1)==ut-1)&&it.push(ct)}return it}class AttrStep extends Step$1{constructor(rt,it,lt){super(),this.pos=rt,this.attr=it,this.value=lt}apply(rt){let it=rt.nodeAt(this.pos);if(!it)return StepResult.fail("No node at attribute step's position");let lt=Object.create(null);for(let ut in it.attrs)lt[ut]=it.attrs[ut];lt[this.attr]=this.value;let ct=it.type.create(lt,null,it.marks);return StepResult.fromReplace(rt,this.pos,this.pos+1,new Slice(Fragment.from(ct),0,it.isLeaf?0:1))}getMap(){return StepMap.empty}invert(rt){return new AttrStep(this.pos,this.attr,rt.nodeAt(this.pos).attrs[this.attr])}map(rt){let it=rt.mapResult(this.pos,1);return it.deletedAfter?null:new AttrStep(it.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(rt,it){if(typeof it.pos!="number"||typeof it.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(it.pos,it.attr,it.value)}}Step$1.jsonID("attr",AttrStep);class DocAttrStep extends Step$1{constructor(rt,it){super(),this.attr=rt,this.value=it}apply(rt){let it=Object.create(null);for(let ct in rt.attrs)it[ct]=rt.attrs[ct];it[this.attr]=this.value;let lt=rt.type.create(it,rt.content,rt.marks);return StepResult.ok(lt)}getMap(){return StepMap.empty}invert(rt){return new DocAttrStep(this.attr,rt.attrs[this.attr])}map(rt){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(rt,it){if(typeof it.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(it.attr,it.value)}}Step$1.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function Ye(rt){let it=Error.call(this,rt);return it.__proto__=Ye.prototype,it};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";let Transform$1=class{constructor(rt){this.doc=rt,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(rt){let it=this.maybeStep(rt);if(it.failed)throw new TransformError(it.failed);return this}maybeStep(rt){let it=rt.apply(this.doc);return it.failed||this.addStep(rt,it.doc),it}get docChanged(){return this.steps.length>0}addStep(rt,it){this.docs.push(this.doc),this.steps.push(rt),this.mapping.appendMap(rt.getMap()),this.doc=it}replace(rt,it=rt,lt=Slice.empty){let ct=replaceStep(this.doc,rt,it,lt);return ct&&this.step(ct),this}replaceWith(rt,it,lt){return this.replace(rt,it,new Slice(Fragment.from(lt),0,0))}delete(rt,it){return this.replace(rt,it,Slice.empty)}insert(rt,it){return this.replaceWith(rt,rt,it)}replaceRange(rt,it,lt){return replaceRange(this,rt,it,lt),this}replaceRangeWith(rt,it,lt){return replaceRangeWith(this,rt,it,lt),this}deleteRange(rt,it){return deleteRange(this,rt,it),this}lift(rt,it){return lift(this,rt,it),this}join(rt,it=1){return join$2(this,rt,it),this}wrap(rt,it){return wrap$2(this,rt,it),this}setBlockType(rt,it=rt,lt,ct=null){return setBlockType(this,rt,it,lt,ct),this}setNodeMarkup(rt,it,lt=null,ct){return setNodeMarkup(this,rt,it,lt,ct),this}setNodeAttribute(rt,it,lt){return this.step(new AttrStep(rt,it,lt)),this}setDocAttribute(rt,it){return this.step(new DocAttrStep(rt,it)),this}addNodeMark(rt,it){return this.step(new AddNodeMarkStep(rt,it)),this}removeNodeMark(rt,it){let lt=this.doc.nodeAt(rt);if(!lt)throw new RangeError("No node at position "+rt);if(it instanceof Mark)it.isInSet(lt.marks)&&this.step(new RemoveNodeMarkStep(rt,it));else{let ct=lt.marks,ut,ht=[];for(;ut=it.isInSet(ct);)ht.push(new RemoveNodeMarkStep(rt,ut)),ct=ut.removeFromSet(ct);for(let ft=ht.length-1;ft>=0;ft--)this.step(ht[ft])}return this}split(rt,it=1,lt){return split(this,rt,it,lt),this}addMark(rt,it,lt){return addMark(this,rt,it,lt),this}removeMark(rt,it,lt){return removeMark(this,rt,it,lt),this}clearIncompatible(rt,it,lt){return clearIncompatible(this,rt,it,lt),this}};const classesById=Object.create(null);let Selection$2=class{constructor(rt,it,lt){this.$anchor=rt,this.$head=it,this.ranges=lt||[new SelectionRange(rt.min(it),rt.max(it))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let rt=this.ranges;for(let it=0;it<rt.length;it++)if(rt[it].$from.pos!=rt[it].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(rt,it=Slice.empty){let lt=it.content.lastChild,ct=null;for(let ft=0;ft<it.openEnd;ft++)ct=lt,lt=lt.lastChild;let ut=rt.steps.length,ht=this.ranges;for(let ft=0;ft<ht.length;ft++){let{$from:pt,$to:mt}=ht[ft],gt=rt.mapping.slice(ut);rt.replaceRange(gt.map(pt.pos),gt.map(mt.pos),ft?Slice.empty:it),ft==0&&selectionToInsertionEnd(rt,ut,(lt?lt.isInline:ct&&ct.isTextblock)?-1:1)}}replaceWith(rt,it){let lt=rt.steps.length,ct=this.ranges;for(let ut=0;ut<ct.length;ut++){let{$from:ht,$to:ft}=ct[ut],pt=rt.mapping.slice(lt),mt=pt.map(ht.pos),gt=pt.map(ft.pos);ut?rt.deleteRange(mt,gt):(rt.replaceRangeWith(mt,gt,it),selectionToInsertionEnd(rt,lt,it.isInline?-1:1))}}static findFrom(rt,it,lt=!1){let ct=rt.parent.inlineContent?new TextSelection(rt):findSelectionIn(rt.node(0),rt.parent,rt.pos,rt.index(),it,lt);if(ct)return ct;for(let ut=rt.depth-1;ut>=0;ut--){let ht=it<0?findSelectionIn(rt.node(0),rt.node(ut),rt.before(ut+1),rt.index(ut),it,lt):findSelectionIn(rt.node(0),rt.node(ut),rt.after(ut+1),rt.index(ut)+1,it,lt);if(ht)return ht}return null}static near(rt,it=1){return this.findFrom(rt,it)||this.findFrom(rt,-it)||new AllSelection(rt.node(0))}static atStart(rt){return findSelectionIn(rt,rt,0,0,1)||new AllSelection(rt)}static atEnd(rt){return findSelectionIn(rt,rt,rt.content.size,rt.childCount,-1)||new AllSelection(rt)}static fromJSON(rt,it){if(!it||!it.type)throw new RangeError("Invalid input for Selection.fromJSON");let lt=classesById[it.type];if(!lt)throw new RangeError(`No selection type ${it.type} defined`);return lt.fromJSON(rt,it)}static jsonID(rt,it){if(rt in classesById)throw new RangeError("Duplicate use of selection JSON ID "+rt);return classesById[rt]=it,it.prototype.jsonID=rt,it}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}};Selection$2.prototype.visible=!0;class SelectionRange{constructor(rt,it){this.$from=rt,this.$to=it}}let warnedAboutTextSelection=!1;function checkTextSelection(Ye){!warnedAboutTextSelection&&!Ye.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Ye.parent.type.name+")"))}class TextSelection extends Selection$2{constructor(rt,it=rt){checkTextSelection(rt),checkTextSelection(it),super(rt,it)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(rt,it){let lt=rt.resolve(it.map(this.head));if(!lt.parent.inlineContent)return Selection$2.near(lt);let ct=rt.resolve(it.map(this.anchor));return new TextSelection(ct.parent.inlineContent?ct:lt,lt)}replace(rt,it=Slice.empty){if(super.replace(rt,it),it==Slice.empty){let lt=this.$from.marksAcross(this.$to);lt&&rt.ensureMarks(lt)}}eq(rt){return rt instanceof TextSelection&&rt.anchor==this.anchor&&rt.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(rt,it){if(typeof it.anchor!="number"||typeof it.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(rt.resolve(it.anchor),rt.resolve(it.head))}static create(rt,it,lt=it){let ct=rt.resolve(it);return new this(ct,lt==it?ct:rt.resolve(lt))}static between(rt,it,lt){let ct=rt.pos-it.pos;if((!lt||ct)&&(lt=ct>=0?1:-1),!it.parent.inlineContent){let ut=Selection$2.findFrom(it,lt,!0)||Selection$2.findFrom(it,-lt,!0);if(ut)it=ut.$head;else return Selection$2.near(it,lt)}return rt.parent.inlineContent||(ct==0?rt=it:(rt=(Selection$2.findFrom(rt,-lt,!0)||Selection$2.findFrom(rt,lt,!0)).$anchor,rt.pos<it.pos!=ct<0&&(rt=it))),new TextSelection(rt,it)}}Selection$2.jsonID("text",TextSelection);class TextBookmark{constructor(rt,it){this.anchor=rt,this.head=it}map(rt){return new TextBookmark(rt.map(this.anchor),rt.map(this.head))}resolve(rt){return TextSelection.between(rt.resolve(this.anchor),rt.resolve(this.head))}}class NodeSelection extends Selection$2{constructor(rt){let it=rt.nodeAfter,lt=rt.node(0).resolve(rt.pos+it.nodeSize);super(rt,lt),this.node=it}map(rt,it){let{deleted:lt,pos:ct}=it.mapResult(this.anchor),ut=rt.resolve(ct);return lt?Selection$2.near(ut):new NodeSelection(ut)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(rt){return rt instanceof NodeSelection&&rt.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(rt,it){if(typeof it.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(rt.resolve(it.anchor))}static create(rt,it){return new NodeSelection(rt.resolve(it))}static isSelectable(rt){return!rt.isText&&rt.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection$2.jsonID("node",NodeSelection);class NodeBookmark{constructor(rt){this.anchor=rt}map(rt){let{deleted:it,pos:lt}=rt.mapResult(this.anchor);return it?new TextBookmark(lt,lt):new NodeBookmark(lt)}resolve(rt){let it=rt.resolve(this.anchor),lt=it.nodeAfter;return lt&&NodeSelection.isSelectable(lt)?new NodeSelection(it):Selection$2.near(it)}}class AllSelection extends Selection$2{constructor(rt){super(rt.resolve(0),rt.resolve(rt.content.size))}replace(rt,it=Slice.empty){if(it==Slice.empty){rt.delete(0,rt.doc.content.size);let lt=Selection$2.atStart(rt.doc);lt.eq(rt.selection)||rt.setSelection(lt)}else super.replace(rt,it)}toJSON(){return{type:"all"}}static fromJSON(rt){return new AllSelection(rt)}map(rt){return new AllSelection(rt)}eq(rt){return rt instanceof AllSelection}getBookmark(){return AllBookmark}}Selection$2.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(Ye){return new AllSelection(Ye)}};function findSelectionIn(Ye,rt,it,lt,ct,ut=!1){if(rt.inlineContent)return TextSelection.create(Ye,it);for(let ht=lt-(ct>0?0:1);ct>0?ht<rt.childCount:ht>=0;ht+=ct){let ft=rt.child(ht);if(ft.isAtom){if(!ut&&NodeSelection.isSelectable(ft))return NodeSelection.create(Ye,it-(ct<0?ft.nodeSize:0))}else{let pt=findSelectionIn(Ye,ft,it+ct,ct<0?ft.childCount:0,ct,ut);if(pt)return pt}it+=ft.nodeSize*ct}return null}function selectionToInsertionEnd(Ye,rt,it){let lt=Ye.steps.length-1;if(lt<rt)return;let ct=Ye.steps[lt];if(!(ct instanceof ReplaceStep||ct instanceof ReplaceAroundStep))return;let ut=Ye.mapping.maps[lt],ht;ut.forEach((ft,pt,mt,gt)=>{ht==null&&(ht=gt)}),Ye.setSelection(Selection$2.near(Ye.doc.resolve(ht),it))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform$1{constructor(rt){super(rt.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=rt.selection,this.storedMarks=rt.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(rt){if(rt.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=rt,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(rt){return this.storedMarks=rt,this.updated|=UPDATED_MARKS,this}ensureMarks(rt){return Mark.sameSet(this.storedMarks||this.selection.$from.marks(),rt)||this.setStoredMarks(rt),this}addStoredMark(rt){return this.ensureMarks(rt.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(rt){return this.ensureMarks(rt.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(rt,it){super.addStep(rt,it),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(rt){return this.time=rt,this}replaceSelection(rt){return this.selection.replace(this,rt),this}replaceSelectionWith(rt,it=!0){let lt=this.selection;return it&&(rt=rt.mark(this.storedMarks||(lt.empty?lt.$from.marks():lt.$from.marksAcross(lt.$to)||Mark.none))),lt.replaceWith(this,rt),this}deleteSelection(){return this.selection.replace(this),this}insertText(rt,it,lt){let ct=this.doc.type.schema;if(it==null)return rt?this.replaceSelectionWith(ct.text(rt),!0):this.deleteSelection();{if(lt==null&&(lt=it),lt=lt??it,!rt)return this.deleteRange(it,lt);let ut=this.storedMarks;if(!ut){let ht=this.doc.resolve(it);ut=lt==it?ht.marks():ht.marksAcross(this.doc.resolve(lt))}return this.replaceRangeWith(it,lt,ct.text(rt,ut)),this.selection.empty||this.setSelection(Selection$2.near(this.selection.$to)),this}}setMeta(rt,it){return this.meta[typeof rt=="string"?rt:rt.key]=it,this}getMeta(rt){return this.meta[typeof rt=="string"?rt:rt.key]}get isGeneric(){for(let rt in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(Ye,rt){return!rt||!Ye?Ye:Ye.bind(rt)}class FieldDesc{constructor(rt,it,lt){this.name=rt,this.init=bind(it.init,lt),this.apply=bind(it.apply,lt)}}const baseFields=[new FieldDesc("doc",{init(Ye){return Ye.doc||Ye.schema.topNodeType.createAndFill()},apply(Ye){return Ye.doc}}),new FieldDesc("selection",{init(Ye,rt){return Ye.selection||Selection$2.atStart(rt.doc)},apply(Ye){return Ye.selection}}),new FieldDesc("storedMarks",{init(Ye){return Ye.storedMarks||null},apply(Ye,rt,it,lt){return lt.selection.$cursor?Ye.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(Ye,rt){return Ye.scrolledIntoView?rt+1:rt}})];class Configuration{constructor(rt,it){this.schema=rt,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),it&&it.forEach(lt=>{if(this.pluginsByKey[lt.key])throw new RangeError("Adding different instances of a keyed plugin ("+lt.key+")");this.plugins.push(lt),this.pluginsByKey[lt.key]=lt,lt.spec.state&&this.fields.push(new FieldDesc(lt.key,lt.spec.state,lt))})}}class EditorState{constructor(rt){this.config=rt}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(rt){return this.applyTransaction(rt).state}filterTransaction(rt,it=-1){for(let lt=0;lt<this.config.plugins.length;lt++)if(lt!=it){let ct=this.config.plugins[lt];if(ct.spec.filterTransaction&&!ct.spec.filterTransaction.call(ct,rt,this))return!1}return!0}applyTransaction(rt){if(!this.filterTransaction(rt))return{state:this,transactions:[]};let it=[rt],lt=this.applyInner(rt),ct=null;for(;;){let ut=!1;for(let ht=0;ht<this.config.plugins.length;ht++){let ft=this.config.plugins[ht];if(ft.spec.appendTransaction){let pt=ct?ct[ht].n:0,mt=ct?ct[ht].state:this,gt=pt<it.length&&ft.spec.appendTransaction.call(ft,pt?it.slice(pt):it,mt,lt);if(gt&&lt.filterTransaction(gt,ht)){if(gt.setMeta("appendedTransaction",rt),!ct){ct=[];for(let yt=0;yt<this.config.plugins.length;yt++)ct.push(yt<ht?{state:lt,n:it.length}:{state:this,n:0})}it.push(gt),lt=lt.applyInner(gt),ut=!0}ct&&(ct[ht]={state:lt,n:it.length})}}if(!ut)return{state:lt,transactions:it}}}applyInner(rt){if(!rt.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let it=new EditorState(this.config),lt=this.config.fields;for(let ct=0;ct<lt.length;ct++){let ut=lt[ct];it[ut.name]=ut.apply(rt,this[ut.name],this,it)}return it}get tr(){return new Transaction(this)}static create(rt){let it=new Configuration(rt.doc?rt.doc.type.schema:rt.schema,rt.plugins),lt=new EditorState(it);for(let ct=0;ct<it.fields.length;ct++)lt[it.fields[ct].name]=it.fields[ct].init(rt,lt);return lt}reconfigure(rt){let it=new Configuration(this.schema,rt.plugins),lt=it.fields,ct=new EditorState(it);for(let ut=0;ut<lt.length;ut++){let ht=lt[ut].name;ct[ht]=this.hasOwnProperty(ht)?this[ht]:lt[ut].init(rt,ct)}return ct}toJSON(rt){let it={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(it.storedMarks=this.storedMarks.map(lt=>lt.toJSON())),rt&&typeof rt=="object")for(let lt in rt){if(lt=="doc"||lt=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let ct=rt[lt],ut=ct.spec.state;ut&&ut.toJSON&&(it[lt]=ut.toJSON.call(ct,this[ct.key]))}return it}static fromJSON(rt,it,lt){if(!it)throw new RangeError("Invalid input for EditorState.fromJSON");if(!rt.schema)throw new RangeError("Required config field 'schema' missing");let ct=new Configuration(rt.schema,rt.plugins),ut=new EditorState(ct);return ct.fields.forEach(ht=>{if(ht.name=="doc")ut.doc=Node$1.fromJSON(rt.schema,it.doc);else if(ht.name=="selection")ut.selection=Selection$2.fromJSON(ut.doc,it.selection);else if(ht.name=="storedMarks")it.storedMarks&&(ut.storedMarks=it.storedMarks.map(rt.schema.markFromJSON));else{if(lt)for(let ft in lt){let pt=lt[ft],mt=pt.spec.state;if(pt.key==ht.name&&mt&&mt.fromJSON&&Object.prototype.hasOwnProperty.call(it,ft)){ut[ht.name]=mt.fromJSON.call(pt,rt,it[ft],ut);return}}ut[ht.name]=ht.init(rt,ut)}}),ut}}function bindProps(Ye,rt,it){for(let lt in Ye){let ct=Ye[lt];ct instanceof Function?ct=ct.bind(rt):lt=="handleDOMEvents"&&(ct=bindProps(ct,rt,{})),it[lt]=ct}return it}class Plugin{constructor(rt){this.spec=rt,this.props={},rt.props&&bindProps(rt.props,this,this.props),this.key=rt.key?rt.key.key:createKey("plugin")}getState(rt){return rt[this.key]}}const keys$4=Object.create(null);function createKey(Ye){return Ye in keys$4?Ye+"$"+ ++keys$4[Ye]:(keys$4[Ye]=0,Ye+"$")}class PluginKey{constructor(rt="key"){this.key=createKey(rt)}get(rt){return rt.config.pluginsByKey[this.key]}getState(rt){return rt[this.key]}}const customKeymapPluginKey=new PluginKey("customKeymapPlugin");let nextCustomKeymapSubscriptionId=0;function buildHandlers(Ye){const rt={};for(const it of Object.values(Ye))if(it)for(const[lt,ct]of Object.entries(it))ct&&(rt[lt]=ct);return rt}function setCustomKeymapHandlers(Ye,rt){const it=`custom-keymap-subscription-${nextCustomKeymapSubscriptionId}`;nextCustomKeymapSubscriptionId+=1,Ye.dispatch(Ye.state.tr.setMeta(customKeymapPluginKey,{handlers:rt,subscriptionId:it,type:"addHandlers"}));let lt=!0;return()=>{!lt||(lt=!1,!customKeymapPluginKey.getState(Ye.state)?.handlerSubscriptions[it])||Ye.dispatch(Ye.state.tr.setMeta(customKeymapPluginKey,{subscriptionId:it,type:"removeHandlers"}))}}function customKeymapPlugin(Ye={}){return new Plugin({key:customKeymapPluginKey,state:{init(){return{handlerSubscriptions:{},handlers:{},...Ye}},apply(rt,it){const lt=rt.getMeta(customKeymapPluginKey);if(lt?.type==="addHandlers"){const ct={...it.handlerSubscriptions,[lt.subscriptionId]:lt.handlers};return{handlerSubscriptions:ct,handlers:buildHandlers(ct)}}if(lt?.type==="removeHandlers"){if(!it.handlerSubscriptions[lt.subscriptionId])return it;const{[lt.subscriptionId]:ct,...ut}=it.handlerSubscriptions;return{handlerSubscriptions:ut,handlers:buildHandlers(ut)}}return it}},props:{handleKeyDown(rt,it){const ct=customKeymapPluginKey.getState(rt.state).handlers[it.key];return ct?ct(it):!1}}})}const PROMPT_HISTORY_LIMIT=20;function useComposerPromptHistory(Ye){const[rt,it]=useAtom(aPromptHistory),lt=reactExports.useRef(null),ct=Ye.useState(ft=>ft.getText());reactExports.useEffect(()=>{if(lt.current==null)return;(rt[lt.current]??null)!==ct&&(lt.current=null)},[rt,ct]),reactExports.useEffect(()=>{const ft=gt=>{const yt=rt[gt];yt!=null&&(lt.current=gt,Ye.setText(yt),Ye.focus())},pt=gt=>{if(rt.length===0)return!1;const yt=lt.current;if(yt==null)return Ye.getText().trim().length>0||gt==="down"?!1:(ft(rt.length-1),!0);const xt=(yt+(gt==="up"?-1:1)+rt.length)%rt.length;return ft(xt),!0},mt=setCustomKeymapHandlers(Ye.view,{ArrowUp:gt=>{const yt=pt("up");return yt&&(gt.preventDefault(),gt.stopPropagation()),yt},ArrowDown:gt=>{const yt=pt("down");return yt&&(gt.preventDefault(),gt.stopPropagation()),yt}});return()=>{mt()}},[Ye,rt]);const ut=reactExports.useCallback(ft=>{if(ft.trim().length===0)return;const pt=[...rt,ft],mt=pt.length<=PROMPT_HISTORY_LIMIT?pt:pt.slice(pt.length-PROMPT_HISTORY_LIMIT);it(mt)},[rt,it]),ht=reactExports.useCallback(()=>{lt.current=null},[]);return{appendPromptToHistory:ut,resetHistorySelection:ht}}const aDefaultComposerViewState=atom(Ye=>()=>{const rt=Ye(aDefaultComposerAutoContext),it=Ye(aEnvironmentAtom),ct=(it?(it.repo_map??{})[it.repos[0]]:null)?.default_branch??"main";return{prompt:"",composerMode:"local",isAutoContextOn:rt,imageAttachments:[],fileAttachments:[],addedFiles:[],commentAttachments:[],newTaskStartingState:{type:ct?"remote-branch":"working-tree",branchName:ct??"main"},followUpCloudStartingState:"direct-follow-up"}}),aComposerViewStates=atom({}),useComposerViewState=Ye=>{const rt=getComposerStateId(Ye),it=useAtomValue(aDefaultComposerViewState),[lt,ct]=useAtom(aComposerViewStates),ut=reactExports.useCallback(()=>{const ft=it();return Ye?.type==="cloud"&&!Ye.hasAppliedCodeLocally?{...ft,composerMode:"cloud"}:ft},[it,Ye]),ht=reactExports.useCallback(ft=>{ct(pt=>{const mt=pt[rt]??ut(),gt=ft(mt);return gt===mt&&pt[rt]!=null?pt:{...pt,[rt]:gt}})},[rt,ct,ut]);return[lt[rt]??ut(),ht]};function getComposerStateId(Ye){return Ye?Ye.type==="local"?`local:${Ye.localConversationId}`:`cloud:${Ye.taskDetails.task.id}`:"new-conversation"}function createImageLocalInputItem(Ye){if(/^data:image\//i.test(Ye))return{type:"image",data:{image_url:Ye}};let it=Ye;if(Ye.startsWith("file://"))try{const lt=Ye.replace(/^file:\/\//i,"");it=decodeURIComponent(lt)}catch{it=Ye}return{type:"localImage",data:{path:it}}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$3=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$2=0;i$2<10;i$2++)base[48+i$2]=base[96+i$2]=String(i$2);for(var i$2=1;i$2<=24;i$2++)base[i$2+111]="F"+i$2;for(var i$2=65;i$2<=90;i$2++)base[i$2]=String.fromCharCode(i$2+32),shift[i$2]=String.fromCharCode(i$2);for(var code$3 in base)shift.hasOwnProperty(code$3)||(shift[code$3]=base[code$3]);function keyName(Ye){var rt=mac$3&&Ye.metaKey&&Ye.shiftKey&&!Ye.ctrlKey&&!Ye.altKey||ie$2&&Ye.shiftKey&&Ye.key&&Ye.key.length==1||Ye.key=="Unidentified",it=!rt&&Ye.key||(Ye.shiftKey?shift:base)[Ye.keyCode]||Ye.key||"Unidentified";return it=="Esc"&&(it="Escape"),it=="Del"&&(it="Delete"),it=="Left"&&(it="ArrowLeft"),it=="Up"&&(it="ArrowUp"),it=="Right"&&(it="ArrowRight"),it=="Down"&&(it="ArrowDown"),it}const mac$2=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows$1=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName(Ye){let rt=Ye.split(/-(?!$)/),it=rt[rt.length-1];it=="Space"&&(it=" ");let lt,ct,ut,ht;for(let ft=0;ft<rt.length-1;ft++){let pt=rt[ft];if(/^(cmd|meta|m)$/i.test(pt))ht=!0;else if(/^a(lt)?$/i.test(pt))lt=!0;else if(/^(c|ctrl|control)$/i.test(pt))ct=!0;else if(/^s(hift)?$/i.test(pt))ut=!0;else if(/^mod$/i.test(pt))mac$2?ht=!0:ct=!0;else throw new Error("Unrecognized modifier name: "+pt)}return lt&&(it="Alt-"+it),ct&&(it="Ctrl-"+it),ht&&(it="Meta-"+it),ut&&(it="Shift-"+it),it}function normalize$1(Ye){let rt=Object.create(null);for(let it in Ye)rt[normalizeKeyName(it)]=Ye[it];return rt}function modifiers(Ye,rt,it=!0){return rt.altKey&&(Ye="Alt-"+Ye),rt.ctrlKey&&(Ye="Ctrl-"+Ye),rt.metaKey&&(Ye="Meta-"+Ye),it&&rt.shiftKey&&(Ye="Shift-"+Ye),Ye}function keymap(Ye){return new Plugin({props:{handleKeyDown:keydownHandler(Ye)}})}function keydownHandler(Ye){let rt=normalize$1(Ye);return function(it,lt){let ct=keyName(lt),ut,ht=rt[modifiers(ct,lt)];if(ht&&ht(it.state,it.dispatch,it))return!0;if(ct.length==1&&ct!=" "){if(lt.shiftKey){let ft=rt[modifiers(ct,lt,!1)];if(ft&&ft(it.state,it.dispatch,it))return!0}if((lt.altKey||lt.metaKey||lt.ctrlKey)&&!(windows$1&&lt.ctrlKey&&lt.altKey)&&(ut=base[lt.keyCode])&&ut!=ct){let ft=rt[modifiers(ut,lt)];if(ft&&ft(it.state,it.dispatch,it))return!0}}return!1}}const mentionUiKey=new PluginKey("mention-ui"),initial={active:!1,anchorPos:null,query:""},atMentionSpec={attrs:{label:{validate:"string"},path:{validate:"string"},fsPath:{validate:"string"}},inline:!0,group:"inline",draggable:!1,selectable:!1,toDOM:Ye=>["span",{"at-mention-label":Ye.attrs.label,"at-mention-path":Ye.attrs.path,"at-mention-fs-path":Ye.attrs.fsPath,title:Ye.attrs.label,class:"font-medium ring-0 outline-hidden focus:outline-hidden focus:ring-0 active:outline-hidden active:ring-0 border-transparent active:border-transparent focus:border-transparent"},`@${Ye.attrs.label}`],parseDOM:[{tag:"span[at-mention-label][at-mention-path][at-mention-fs-path]",getAttrs:Ye=>{const rt=Ye.getAttribute("at-mention-label"),it=Ye.getAttribute("at-mention-path"),lt=Ye.getAttribute("at-mention-fs-path");return{label:rt,path:it,fsPath:lt}}}]};function wordBefore(Ye){const{$from:rt}=Ye.selection,it=rt.parent,lt=rt.parentOffset,ct=it.textBetween(Math.max(0,lt-50),lt,void 0,""),ut=/(^|\s)(@[^\s@]*)$/.exec(ct);if(!ut)return null;const ht=lt-ut[2].length,ft=rt.start()+ht;return{text:ut[2],startPos:ft}}function atMentionsPlugin(Ye={}){const rt={onSubmit:()=>{},onClose:()=>{},...Ye},it=new Plugin({key:mentionUiKey,state:{init:()=>initial,apply(ut,ht,ft,pt){let mt=ht;const gt=ut.getMeta(mentionUiKey);if(gt&&(mt={...mt,...gt}),ut.selectionSet||ut.docChanged){const yt=wordBefore(pt);if(yt&&yt.text.startsWith("@")){const xt=yt.text.slice(1);mt={active:!0,anchorPos:yt.startPos+1,query:xt}}else mt.active&&(rt.onClose?.(),mt=initial)}return mt}},props:{handleTextInput(ut,ht,ft,pt){return!1},handleKeyDown(ut,ht){return!mentionUiKey.getState(ut.state)?.active||ht.key.length===1&&/\w/.test(ht.key)||ht.key==="Backspace",!1}}}),lt=keymap({Escape:(ut,ht,ft)=>mentionUiKey.getState(ut)?.active&&ht!==void 0?(ht(ut.tr.setMeta(mentionUiKey,initial)),rt.onClose(),!0):!1}),ct=keymap({Tab:(ut,ht,ft)=>mentionUiKey.getState(ut)?.active&&ht!==void 0?(ht(ut.tr.setMeta(mentionUiKey,initial)),rt.onSubmit(),!0):!1,Enter:(ut,ht,ft)=>mentionUiKey.getState(ut)?.active&&ht!==void 0?(ht(ut.tr.setMeta(mentionUiKey,initial)),rt.onSubmit(),!0):!1});return[it,lt,ct]}const ComposerControllerContext=reactExports.createContext(null),deleteSelection=(Ye,rt)=>Ye.selection.empty?!1:(rt&&rt(Ye.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(Ye,rt){let{$cursor:it}=Ye.selection;return!it||(rt?!rt.endOfTextblock("backward",Ye):it.parentOffset>0)?null:it}const joinBackward=(Ye,rt,it)=>{let lt=atBlockStart(Ye,it);if(!lt)return!1;let ct=findCutBefore(lt);if(!ct){let ht=lt.blockRange(),ft=ht&&liftTarget(ht);return ft==null?!1:(rt&&rt(Ye.tr.lift(ht,ft).scrollIntoView()),!0)}let ut=ct.nodeBefore;if(deleteBarrier(Ye,ct,rt,-1))return!0;if(lt.parent.content.size==0&&(textblockAt(ut,"end")||NodeSelection.isSelectable(ut)))for(let ht=lt.depth;;ht--){let ft=replaceStep(Ye.doc,lt.before(ht),lt.after(ht),Slice.empty);if(ft&&ft.slice.size<ft.to-ft.from){if(rt){let pt=Ye.tr.step(ft);pt.setSelection(textblockAt(ut,"end")?Selection$2.findFrom(pt.doc.resolve(pt.mapping.map(ct.pos,-1)),-1):NodeSelection.create(pt.doc,ct.pos-ut.nodeSize)),rt(pt.scrollIntoView())}return!0}if(ht==1||lt.node(ht-1).childCount>1)break}return ut.isAtom&&ct.depth==lt.depth-1?(rt&&rt(Ye.tr.delete(ct.pos-ut.nodeSize,ct.pos).scrollIntoView()),!0):!1};function textblockAt(Ye,rt,it=!1){for(let lt=Ye;lt;lt=rt=="start"?lt.firstChild:lt.lastChild){if(lt.isTextblock)return!0;if(it&&lt.childCount!=1)return!1}return!1}const selectNodeBackward=(Ye,rt,it)=>{let{$head:lt,empty:ct}=Ye.selection,ut=lt;if(!ct)return!1;if(lt.parent.isTextblock){if(it?!it.endOfTextblock("backward",Ye):lt.parentOffset>0)return!1;ut=findCutBefore(lt)}let ht=ut&&ut.nodeBefore;return!ht||!NodeSelection.isSelectable(ht)?!1:(rt&&rt(Ye.tr.setSelection(NodeSelection.create(Ye.doc,ut.pos-ht.nodeSize)).scrollIntoView()),!0)};function findCutBefore(Ye){if(!Ye.parent.type.spec.isolating)for(let rt=Ye.depth-1;rt>=0;rt--){if(Ye.index(rt)>0)return Ye.doc.resolve(Ye.before(rt+1));if(Ye.node(rt).type.spec.isolating)break}return null}function atBlockEnd(Ye,rt){let{$cursor:it}=Ye.selection;return!it||(rt?!rt.endOfTextblock("forward",Ye):it.parentOffset<it.parent.content.size)?null:it}const joinForward=(Ye,rt,it)=>{let lt=atBlockEnd(Ye,it);if(!lt)return!1;let ct=findCutAfter(lt);if(!ct)return!1;let ut=ct.nodeAfter;if(deleteBarrier(Ye,ct,rt,1))return!0;if(lt.parent.content.size==0&&(textblockAt(ut,"start")||NodeSelection.isSelectable(ut))){let ht=replaceStep(Ye.doc,lt.before(),lt.after(),Slice.empty);if(ht&&ht.slice.size<ht.to-ht.from){if(rt){let ft=Ye.tr.step(ht);ft.setSelection(textblockAt(ut,"start")?Selection$2.findFrom(ft.doc.resolve(ft.mapping.map(ct.pos)),1):NodeSelection.create(ft.doc,ft.mapping.map(ct.pos))),rt(ft.scrollIntoView())}return!0}}return ut.isAtom&&ct.depth==lt.depth-1?(rt&&rt(Ye.tr.delete(ct.pos,ct.pos+ut.nodeSize).scrollIntoView()),!0):!1},selectNodeForward=(Ye,rt,it)=>{let{$head:lt,empty:ct}=Ye.selection,ut=lt;if(!ct)return!1;if(lt.parent.isTextblock){if(it?!it.endOfTextblock("forward",Ye):lt.parentOffset<lt.parent.content.size)return!1;ut=findCutAfter(lt)}let ht=ut&&ut.nodeAfter;return!ht||!NodeSelection.isSelectable(ht)?!1:(rt&&rt(Ye.tr.setSelection(NodeSelection.create(Ye.doc,ut.pos)).scrollIntoView()),!0)};function findCutAfter(Ye){if(!Ye.parent.type.spec.isolating)for(let rt=Ye.depth-1;rt>=0;rt--){let it=Ye.node(rt);if(Ye.index(rt)+1<it.childCount)return Ye.doc.resolve(Ye.after(rt+1));if(it.type.spec.isolating)break}return null}const newlineInCode=(Ye,rt)=>{let{$head:it,$anchor:lt}=Ye.selection;return!it.parent.type.spec.code||!it.sameParent(lt)?!1:(rt&&rt(Ye.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt(Ye){for(let rt=0;rt<Ye.edgeCount;rt++){let{type:it}=Ye.edge(rt);if(it.isTextblock&&!it.hasRequiredAttrs())return it}return null}const exitCode=(Ye,rt)=>{let{$head:it,$anchor:lt}=Ye.selection;if(!it.parent.type.spec.code||!it.sameParent(lt))return!1;let ct=it.node(-1),ut=it.indexAfter(-1),ht=defaultBlockAt(ct.contentMatchAt(ut));if(!ht||!ct.canReplaceWith(ut,ut,ht))return!1;if(rt){let ft=it.after(),pt=Ye.tr.replaceWith(ft,ft,ht.createAndFill());pt.setSelection(Selection$2.near(pt.doc.resolve(ft),1)),rt(pt.scrollIntoView())}return!0},createParagraphNear=(Ye,rt)=>{let it=Ye.selection,{$from:lt,$to:ct}=it;if(it instanceof AllSelection||lt.parent.inlineContent||ct.parent.inlineContent)return!1;let ut=defaultBlockAt(ct.parent.contentMatchAt(ct.indexAfter()));if(!ut||!ut.isTextblock)return!1;if(rt){let ht=(!lt.parentOffset&&ct.index()<ct.parent.childCount?lt:ct).pos,ft=Ye.tr.insert(ht,ut.createAndFill());ft.setSelection(TextSelection.create(ft.doc,ht+1)),rt(ft.scrollIntoView())}return!0},liftEmptyBlock=(Ye,rt)=>{let{$cursor:it}=Ye.selection;if(!it||it.parent.content.size)return!1;if(it.depth>1&&it.after()!=it.end(-1)){let ut=it.before();if(canSplit(Ye.doc,ut))return rt&&rt(Ye.tr.split(ut).scrollIntoView()),!0}let lt=it.blockRange(),ct=lt&&liftTarget(lt);return ct==null?!1:(rt&&rt(Ye.tr.lift(lt,ct).scrollIntoView()),!0)};function splitBlockAs(Ye){return(rt,it)=>{let{$from:lt,$to:ct}=rt.selection;if(rt.selection instanceof NodeSelection&&rt.selection.node.isBlock)return!lt.parentOffset||!canSplit(rt.doc,lt.pos)?!1:(it&&it(rt.tr.split(lt.pos).scrollIntoView()),!0);if(!lt.depth)return!1;let ut=[],ht,ft,pt=!1,mt=!1;for(let bt=lt.depth;;bt--)if(lt.node(bt).isBlock){pt=lt.end(bt)==lt.pos+(lt.depth-bt),mt=lt.start(bt)==lt.pos-(lt.depth-bt),ft=defaultBlockAt(lt.node(bt-1).contentMatchAt(lt.indexAfter(bt-1))),ut.unshift(pt&&ft?{type:ft}:null),ht=bt;break}else{if(bt==1)return!1;ut.unshift(null)}let gt=rt.tr;(rt.selection instanceof TextSelection||rt.selection instanceof AllSelection)&&gt.deleteSelection();let yt=gt.mapping.map(lt.pos),xt=canSplit(gt.doc,yt,ut.length,ut);if(xt||(ut[0]=ft?{type:ft}:null,xt=canSplit(gt.doc,yt,ut.length,ut)),!xt)return!1;if(gt.split(yt,ut.length,ut),!pt&&mt&&lt.node(ht).type!=ft){let bt=gt.mapping.map(lt.before(ht)),_t=gt.doc.resolve(bt);ft&&lt.node(ht-1).canReplaceWith(_t.index(),_t.index()+1,ft)&&gt.setNodeMarkup(gt.mapping.map(lt.before(ht)),ft)}return it&&it(gt.scrollIntoView()),!0}}const splitBlock=splitBlockAs(),selectAll=(Ye,rt)=>(rt&&rt(Ye.tr.setSelection(new AllSelection(Ye.doc))),!0);function joinMaybeClear(Ye,rt,it){let lt=rt.nodeBefore,ct=rt.nodeAfter,ut=rt.index();return!lt||!ct||!lt.type.compatibleContent(ct.type)?!1:!lt.content.size&&rt.parent.canReplace(ut-1,ut)?(it&&it(Ye.tr.delete(rt.pos-lt.nodeSize,rt.pos).scrollIntoView()),!0):!rt.parent.canReplace(ut,ut+1)||!(ct.isTextblock||canJoin(Ye.doc,rt.pos))?!1:(it&&it(Ye.tr.join(rt.pos).scrollIntoView()),!0)}function deleteBarrier(Ye,rt,it,lt){let ct=rt.nodeBefore,ut=rt.nodeAfter,ht,ft,pt=ct.type.spec.isolating||ut.type.spec.isolating;if(!pt&&joinMaybeClear(Ye,rt,it))return!0;let mt=!pt&&rt.parent.canReplace(rt.index(),rt.index()+1);if(mt&&(ht=(ft=ct.contentMatchAt(ct.childCount)).findWrapping(ut.type))&&ft.matchType(ht[0]||ut.type).validEnd){if(it){let bt=rt.pos+ut.nodeSize,_t=Fragment.empty;for(let St=ht.length-1;St>=0;St--)_t=Fragment.from(ht[St].create(null,_t));_t=Fragment.from(ct.copy(_t));let Ct=Ye.tr.step(new ReplaceAroundStep(rt.pos-1,bt,rt.pos,bt,new Slice(_t,1,0),ht.length,!0)),kt=Ct.doc.resolve(bt+2*ht.length);kt.nodeAfter&&kt.nodeAfter.type==ct.type&&canJoin(Ct.doc,kt.pos)&&Ct.join(kt.pos),it(Ct.scrollIntoView())}return!0}let gt=ut.type.spec.isolating||lt>0&&pt?null:Selection$2.findFrom(rt,1),yt=gt&&gt.$from.blockRange(gt.$to),xt=yt&&liftTarget(yt);if(xt!=null&&xt>=rt.depth)return it&&it(Ye.tr.lift(yt,xt).scrollIntoView()),!0;if(mt&&textblockAt(ut,"start",!0)&&textblockAt(ct,"end")){let bt=ct,_t=[];for(;_t.push(bt),!bt.isTextblock;)bt=bt.lastChild;let Ct=ut,kt=1;for(;!Ct.isTextblock;Ct=Ct.firstChild)kt++;if(bt.canReplace(bt.childCount,bt.childCount,Ct.content)){if(it){let St=Fragment.empty;for(let Tt=_t.length-1;Tt>=0;Tt--)St=Fragment.from(_t[Tt].copy(St));let Rt=Ye.tr.step(new ReplaceAroundStep(rt.pos-_t.length,rt.pos+ut.nodeSize,rt.pos+kt,rt.pos+ut.nodeSize-kt,new Slice(St,_t.length,0),0,!0));it(Rt.scrollIntoView())}return!0}}return!1}function selectTextblockSide(Ye){return function(rt,it){let lt=rt.selection,ct=Ye<0?lt.$from:lt.$to,ut=ct.depth;for(;ct.node(ut).isInline;){if(!ut)return!1;ut--}return ct.node(ut).isTextblock?(it&&it(rt.tr.setSelection(TextSelection.create(rt.doc,Ye<0?ct.start(ut):ct.end(ut)))),!0):!1}}const selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function chainCommands(...Ye){return function(rt,it,lt){for(let ct=0;ct<Ye.length;ct++)if(Ye[ct](rt,it,lt))return!0;return!1}}let backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward);const pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":selectAll},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(let Ye in pcBaseKeymap)macBaseKeymap[Ye]=pcBaseKeymap[Ye];const mac$1=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,baseKeymap=mac$1?macBaseKeymap:pcBaseKeymap;function nodeToPlainText(Ye){let rt="",it=!1;function lt(ct){if(it=!1,ct.type.name==="paragraph")return ct.descendants(ut=>lt(ut)),rt+=`
`,it=!0,!1;ct.isText&&ct.text!==void 0?rt+=ct.text:ct.type.name==="atMention"&&(rt+=`[${ct.attrs.label}](${ct.attrs.path})`)}return Ye.descendants(ct=>lt(ct)),it&&rt.endsWith(`
`)&&(rt=rt.slice(0,-1)),{content:rt,metadata:{}}}function prosemirrorToPlainText(Ye){return nodeToPlainText(Ye.state.doc)}const createLineBreak=chainCommands(createParagraphNear,liftEmptyBlock,splitBlock);async function insertMultiLineText(Ye,rt){const{schema:it}=Ye.state,lt=rt.split(`
`);if(Ye.dispatch(Ye.state.tr.deleteSelection()),Ye.dispatch(Ye.state.tr.insertText(lt[0])),lt.length>1){createLineBreak(Ye.state,Ye.dispatch);const ct=lt.slice(1),ut=Fragment.fromArray(ct.map(ft=>it.nodes.paragraph.create(null,ft===""?null:it.text(ft)))),ht=new Slice(ut,0,0);Ye.dispatch(Ye.state.tr.replaceSelection(ht)),joinBackward(Ye.state,Ye.dispatch,Ye)}}const domIndex=function(Ye){for(var rt=0;;rt++)if(Ye=Ye.previousSibling,!Ye)return rt},parentNode=function(Ye){let rt=Ye.assignedSlot||Ye.parentNode;return rt&&rt.nodeType==11?rt.host:rt};let reusedRange=null;const textRange=function(Ye,rt,it){let lt=reusedRange||(reusedRange=document.createRange());return lt.setEnd(Ye,it??Ye.nodeValue.length),lt.setStart(Ye,rt||0),lt},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(Ye,rt,it,lt){return it&&(scanFor(Ye,rt,it,lt,-1)||scanFor(Ye,rt,it,lt,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(Ye,rt,it,lt,ct){for(var ut;;){if(Ye==it&&rt==lt)return!0;if(rt==(ct<0?0:nodeSize(Ye))){let ht=Ye.parentNode;if(!ht||ht.nodeType!=1||hasBlockDesc(Ye)||atomElements.test(Ye.nodeName)||Ye.contentEditable=="false")return!1;rt=domIndex(Ye)+(ct<0?0:1),Ye=ht}else if(Ye.nodeType==1){let ht=Ye.childNodes[rt+(ct<0?-1:0)];if(ht.nodeType==1&&ht.contentEditable=="false")if(!((ut=ht.pmViewDesc)===null||ut===void 0)&&ut.ignoreForSelection)rt+=ct;else return!1;else Ye=ht,rt=ct<0?nodeSize(Ye):0}else return!1}}function nodeSize(Ye){return Ye.nodeType==3?Ye.nodeValue.length:Ye.childNodes.length}function textNodeBefore$1(Ye,rt){for(;;){if(Ye.nodeType==3&&rt)return Ye;if(Ye.nodeType==1&&rt>0){if(Ye.contentEditable=="false")return null;Ye=Ye.childNodes[rt-1],rt=nodeSize(Ye)}else if(Ye.parentNode&&!hasBlockDesc(Ye))rt=domIndex(Ye),Ye=Ye.parentNode;else return null}}function textNodeAfter$1(Ye,rt){for(;;){if(Ye.nodeType==3&&rt<Ye.nodeValue.length)return Ye;if(Ye.nodeType==1&&rt<Ye.childNodes.length){if(Ye.contentEditable=="false")return null;Ye=Ye.childNodes[rt],rt=0}else if(Ye.parentNode&&!hasBlockDesc(Ye))rt=domIndex(Ye)+1,Ye=Ye.parentNode;else return null}}function isOnEdge(Ye,rt,it){for(let lt=rt==0,ct=rt==nodeSize(Ye);lt||ct;){if(Ye==it)return!0;let ut=domIndex(Ye);if(Ye=Ye.parentNode,!Ye)return!1;lt=lt&&ut==0,ct=ct&&ut==nodeSize(Ye)}}function hasBlockDesc(Ye){let rt;for(let it=Ye;it&&!(rt=it.pmViewDesc);it=it.parentNode);return rt&&rt.node&&rt.node.isBlock&&(rt.dom==Ye||rt.contentDOM==Ye)}const selectionCollapsed=function(Ye){return Ye.focusNode&&isEquivalentPosition(Ye.focusNode,Ye.focusOffset,Ye.anchorNode,Ye.anchorOffset)};function keyEvent(Ye,rt){let it=document.createEvent("Event");return it.initEvent("keydown",!0,!0),it.keyCode=Ye,it.key=it.code=rt,it}function deepActiveElement(Ye){let rt=Ye.activeElement;for(;rt&&rt.shadowRoot;)rt=rt.shadowRoot.activeElement;return rt}function caretFromPoint(Ye,rt,it){if(Ye.caretPositionFromPoint)try{let lt=Ye.caretPositionFromPoint(rt,it);if(lt)return{node:lt.offsetNode,offset:Math.min(nodeSize(lt.offsetNode),lt.offset)}}catch{}if(Ye.caretRangeFromPoint){let lt=Ye.caretRangeFromPoint(rt,it);if(lt)return{node:lt.startContainer,offset:Math.min(nodeSize(lt.startContainer),lt.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$1=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$1&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$1&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$1&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac=ios||(nav?/Mac/.test(nav.platform):!1),windows=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(Ye){let rt=Ye.defaultView&&Ye.defaultView.visualViewport;return rt?{left:0,right:rt.width,top:0,bottom:rt.height}:{left:0,right:Ye.documentElement.clientWidth,top:0,bottom:Ye.documentElement.clientHeight}}function getSide(Ye,rt){return typeof Ye=="number"?Ye:Ye[rt]}function clientRect(Ye){let rt=Ye.getBoundingClientRect(),it=rt.width/Ye.offsetWidth||1,lt=rt.height/Ye.offsetHeight||1;return{left:rt.left,right:rt.left+Ye.clientWidth*it,top:rt.top,bottom:rt.top+Ye.clientHeight*lt}}function scrollRectIntoView(Ye,rt,it){let lt=Ye.someProp("scrollThreshold")||0,ct=Ye.someProp("scrollMargin")||5,ut=Ye.dom.ownerDocument;for(let ht=it||Ye.dom;ht;){if(ht.nodeType!=1){ht=parentNode(ht);continue}let ft=ht,pt=ft==ut.body,mt=pt?windowRect(ut):clientRect(ft),gt=0,yt=0;if(rt.top<mt.top+getSide(lt,"top")?yt=-(mt.top-rt.top+getSide(ct,"top")):rt.bottom>mt.bottom-getSide(lt,"bottom")&&(yt=rt.bottom-rt.top>mt.bottom-mt.top?rt.top+getSide(ct,"top")-mt.top:rt.bottom-mt.bottom+getSide(ct,"bottom")),rt.left<mt.left+getSide(lt,"left")?gt=-(mt.left-rt.left+getSide(ct,"left")):rt.right>mt.right-getSide(lt,"right")&&(gt=rt.right-mt.right+getSide(ct,"right")),gt||yt)if(pt)ut.defaultView.scrollBy(gt,yt);else{let bt=ft.scrollLeft,_t=ft.scrollTop;yt&&(ft.scrollTop+=yt),gt&&(ft.scrollLeft+=gt);let Ct=ft.scrollLeft-bt,kt=ft.scrollTop-_t;rt={left:rt.left-Ct,top:rt.top-kt,right:rt.right-Ct,bottom:rt.bottom-kt}}let xt=pt?"fixed":getComputedStyle(ht).position;if(/^(fixed|sticky)$/.test(xt))break;ht=xt=="absolute"?ht.offsetParent:parentNode(ht)}}function storeScrollPos(Ye){let rt=Ye.dom.getBoundingClientRect(),it=Math.max(0,rt.top),lt,ct;for(let ut=(rt.left+rt.right)/2,ht=it+1;ht<Math.min(innerHeight,rt.bottom);ht+=5){let ft=Ye.root.elementFromPoint(ut,ht);if(!ft||ft==Ye.dom||!Ye.dom.contains(ft))continue;let pt=ft.getBoundingClientRect();if(pt.top>=it-20){lt=ft,ct=pt.top;break}}return{refDOM:lt,refTop:ct,stack:scrollStack(Ye.dom)}}function scrollStack(Ye){let rt=[],it=Ye.ownerDocument;for(let lt=Ye;lt&&(rt.push({dom:lt,top:lt.scrollTop,left:lt.scrollLeft}),Ye!=it);lt=parentNode(lt));return rt}function resetScrollPos({refDOM:Ye,refTop:rt,stack:it}){let lt=Ye?Ye.getBoundingClientRect().top:0;restoreScrollStack(it,lt==0?0:lt-rt)}function restoreScrollStack(Ye,rt){for(let it=0;it<Ye.length;it++){let{dom:lt,top:ct,left:ut}=Ye[it];lt.scrollTop!=ct+rt&&(lt.scrollTop=ct+rt),lt.scrollLeft!=ut&&(lt.scrollLeft=ut)}}let preventScrollSupported=null;function focusPreventScroll(Ye){if(Ye.setActive)return Ye.setActive();if(preventScrollSupported)return Ye.focus(preventScrollSupported);let rt=scrollStack(Ye);Ye.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(rt,0))}function findOffsetInNode(Ye,rt){let it,lt=2e8,ct,ut=0,ht=rt.top,ft=rt.top,pt,mt;for(let gt=Ye.firstChild,yt=0;gt;gt=gt.nextSibling,yt++){let xt;if(gt.nodeType==1)xt=gt.getClientRects();else if(gt.nodeType==3)xt=textRange(gt).getClientRects();else continue;for(let bt=0;bt<xt.length;bt++){let _t=xt[bt];if(_t.top<=ht&&_t.bottom>=ft){ht=Math.max(_t.bottom,ht),ft=Math.min(_t.top,ft);let Ct=_t.left>rt.left?_t.left-rt.left:_t.right<rt.left?rt.left-_t.right:0;if(Ct<lt){it=gt,lt=Ct,ct=Ct&&it.nodeType==3?{left:_t.right<rt.left?_t.right:_t.left,top:rt.top}:rt,gt.nodeType==1&&Ct&&(ut=yt+(rt.left>=(_t.left+_t.right)/2?1:0));continue}}else _t.top>rt.top&&!pt&&_t.left<=rt.left&&_t.right>=rt.left&&(pt=gt,mt={left:Math.max(_t.left,Math.min(_t.right,rt.left)),top:_t.top});!it&&(rt.left>=_t.right&&rt.top>=_t.top||rt.left>=_t.left&&rt.top>=_t.bottom)&&(ut=yt+1)}}return!it&&pt&&(it=pt,ct=mt,lt=0),it&&it.nodeType==3?findOffsetInText(it,ct):!it||lt&&it.nodeType==1?{node:Ye,offset:ut}:findOffsetInNode(it,ct)}function findOffsetInText(Ye,rt){let it=Ye.nodeValue.length,lt=document.createRange();for(let ct=0;ct<it;ct++){lt.setEnd(Ye,ct+1),lt.setStart(Ye,ct);let ut=singleRect(lt,1);if(ut.top!=ut.bottom&&inRect(rt,ut))return{node:Ye,offset:ct+(rt.left>=(ut.left+ut.right)/2?1:0)}}return{node:Ye,offset:0}}function inRect(Ye,rt){return Ye.left>=rt.left-1&&Ye.left<=rt.right+1&&Ye.top>=rt.top-1&&Ye.top<=rt.bottom+1}function targetKludge(Ye,rt){let it=Ye.parentNode;return it&&/^li$/i.test(it.nodeName)&&rt.left<Ye.getBoundingClientRect().left?it:Ye}function posFromElement(Ye,rt,it){let{node:lt,offset:ct}=findOffsetInNode(rt,it),ut=-1;if(lt.nodeType==1&&!lt.firstChild){let ht=lt.getBoundingClientRect();ut=ht.left!=ht.right&&it.left>(ht.left+ht.right)/2?1:-1}return Ye.docView.posFromDOM(lt,ct,ut)}function posFromCaret(Ye,rt,it,lt){let ct=-1;for(let ut=rt,ht=!1;ut!=Ye.dom;){let ft=Ye.docView.nearestDesc(ut,!0),pt;if(!ft)return null;if(ft.dom.nodeType==1&&(ft.node.isBlock&&ft.parent||!ft.contentDOM)&&((pt=ft.dom.getBoundingClientRect()).width||pt.height)&&(ft.node.isBlock&&ft.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(ft.dom.nodeName)&&(!ht&&pt.left>lt.left||pt.top>lt.top?ct=ft.posBefore:(!ht&&pt.right<lt.left||pt.bottom<lt.top)&&(ct=ft.posAfter),ht=!0),!ft.contentDOM&&ct<0&&!ft.node.isText))return(ft.node.isBlock?lt.top<(pt.top+pt.bottom)/2:lt.left<(pt.left+pt.right)/2)?ft.posBefore:ft.posAfter;ut=ft.dom.parentNode}return ct>-1?ct:Ye.docView.posFromDOM(rt,it,-1)}function elementFromPoint(Ye,rt,it){let lt=Ye.childNodes.length;if(lt&&it.top<it.bottom)for(let ct=Math.max(0,Math.min(lt-1,Math.floor(lt*(rt.top-it.top)/(it.bottom-it.top))-2)),ut=ct;;){let ht=Ye.childNodes[ut];if(ht.nodeType==1){let ft=ht.getClientRects();for(let pt=0;pt<ft.length;pt++){let mt=ft[pt];if(inRect(rt,mt))return elementFromPoint(ht,rt,mt)}}if((ut=(ut+1)%lt)==ct)break}return Ye}function posAtCoords(Ye,rt){let it=Ye.dom.ownerDocument,lt,ct=0,ut=caretFromPoint(it,rt.left,rt.top);ut&&({node:lt,offset:ct}=ut);let ht=(Ye.root.elementFromPoint?Ye.root:it).elementFromPoint(rt.left,rt.top),ft;if(!ht||!Ye.dom.contains(ht.nodeType!=1?ht.parentNode:ht)){let mt=Ye.dom.getBoundingClientRect();if(!inRect(rt,mt)||(ht=elementFromPoint(Ye.dom,rt,mt),!ht))return null}if(safari)for(let mt=ht;lt&&mt;mt=parentNode(mt))mt.draggable&&(lt=void 0);if(ht=targetKludge(ht,rt),lt){if(gecko&&lt.nodeType==1&&(ct=Math.min(ct,lt.childNodes.length),ct<lt.childNodes.length)){let gt=lt.childNodes[ct],yt;gt.nodeName=="IMG"&&(yt=gt.getBoundingClientRect()).right<=rt.left&&yt.bottom>rt.top&&ct++}let mt;webkit&&ct&&lt.nodeType==1&&(mt=lt.childNodes[ct-1]).nodeType==1&&mt.contentEditable=="false"&&mt.getBoundingClientRect().top>=rt.top&&ct--,lt==Ye.dom&&ct==lt.childNodes.length-1&&lt.lastChild.nodeType==1&&rt.top>lt.lastChild.getBoundingClientRect().bottom?ft=Ye.state.doc.content.size:(ct==0||lt.nodeType!=1||lt.childNodes[ct-1].nodeName!="BR")&&(ft=posFromCaret(Ye,lt,ct,rt))}ft==null&&(ft=posFromElement(Ye,ht,rt));let pt=Ye.docView.nearestDesc(ht,!0);return{pos:ft,inside:pt?pt.posAtStart-pt.border:-1}}function nonZero(Ye){return Ye.top<Ye.bottom||Ye.left<Ye.right}function singleRect(Ye,rt){let it=Ye.getClientRects();if(it.length){let lt=it[rt<0?0:it.length-1];if(nonZero(lt))return lt}return Array.prototype.find.call(it,nonZero)||Ye.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(Ye,rt,it){let{node:lt,offset:ct,atom:ut}=Ye.docView.domFromPos(rt,it<0?-1:1),ht=webkit||gecko;if(lt.nodeType==3)if(ht&&(BIDI.test(lt.nodeValue)||(it<0?!ct:ct==lt.nodeValue.length))){let pt=singleRect(textRange(lt,ct,ct),it);if(gecko&&ct&&/\s/.test(lt.nodeValue[ct-1])&&ct<lt.nodeValue.length){let mt=singleRect(textRange(lt,ct-1,ct-1),-1);if(mt.top==pt.top){let gt=singleRect(textRange(lt,ct,ct+1),-1);if(gt.top!=pt.top)return flattenV(gt,gt.left<mt.left)}}return pt}else{let pt=ct,mt=ct,gt=it<0?1:-1;return it<0&&!ct?(mt++,gt=-1):it>=0&&ct==lt.nodeValue.length?(pt--,gt=1):it<0?pt--:mt++,flattenV(singleRect(textRange(lt,pt,mt),gt),gt<0)}if(!Ye.state.doc.resolve(rt-(ut||0)).parent.inlineContent){if(ut==null&&ct&&(it<0||ct==nodeSize(lt))){let pt=lt.childNodes[ct-1];if(pt.nodeType==1)return flattenH(pt.getBoundingClientRect(),!1)}if(ut==null&&ct<nodeSize(lt)){let pt=lt.childNodes[ct];if(pt.nodeType==1)return flattenH(pt.getBoundingClientRect(),!0)}return flattenH(lt.getBoundingClientRect(),it>=0)}if(ut==null&&ct&&(it<0||ct==nodeSize(lt))){let pt=lt.childNodes[ct-1],mt=pt.nodeType==3?textRange(pt,nodeSize(pt)-(ht?0:1)):pt.nodeType==1&&(pt.nodeName!="BR"||!pt.nextSibling)?pt:null;if(mt)return flattenV(singleRect(mt,1),!1)}if(ut==null&&ct<nodeSize(lt)){let pt=lt.childNodes[ct];for(;pt.pmViewDesc&&pt.pmViewDesc.ignoreForCoords;)pt=pt.nextSibling;let mt=pt?pt.nodeType==3?textRange(pt,0,ht?0:1):pt.nodeType==1?pt:null:null;if(mt)return flattenV(singleRect(mt,-1),!0)}return flattenV(singleRect(lt.nodeType==3?textRange(lt):lt,-it),it>=0)}function flattenV(Ye,rt){if(Ye.width==0)return Ye;let it=rt?Ye.left:Ye.right;return{top:Ye.top,bottom:Ye.bottom,left:it,right:it}}function flattenH(Ye,rt){if(Ye.height==0)return Ye;let it=rt?Ye.top:Ye.bottom;return{top:it,bottom:it,left:Ye.left,right:Ye.right}}function withFlushedState(Ye,rt,it){let lt=Ye.state,ct=Ye.root.activeElement;lt!=rt&&Ye.updateState(rt),ct!=Ye.dom&&Ye.focus();try{return it()}finally{lt!=rt&&Ye.updateState(lt),ct!=Ye.dom&&ct&&ct.focus()}}function endOfTextblockVertical(Ye,rt,it){let lt=rt.selection,ct=it=="up"?lt.$from:lt.$to;return withFlushedState(Ye,rt,()=>{let{node:ut}=Ye.docView.domFromPos(ct.pos,it=="up"?-1:1);for(;;){let ft=Ye.docView.nearestDesc(ut,!0);if(!ft)break;if(ft.node.isBlock){ut=ft.contentDOM||ft.dom;break}ut=ft.dom.parentNode}let ht=coordsAtPos(Ye,ct.pos,1);for(let ft=ut.firstChild;ft;ft=ft.nextSibling){let pt;if(ft.nodeType==1)pt=ft.getClientRects();else if(ft.nodeType==3)pt=textRange(ft,0,ft.nodeValue.length).getClientRects();else continue;for(let mt=0;mt<pt.length;mt++){let gt=pt[mt];if(gt.bottom>gt.top+1&&(it=="up"?ht.top-gt.top>(gt.bottom-ht.top)*2:gt.bottom-ht.bottom>(ht.bottom-gt.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(Ye,rt,it){let{$head:lt}=rt.selection;if(!lt.parent.isTextblock)return!1;let ct=lt.parentOffset,ut=!ct,ht=ct==lt.parent.content.size,ft=Ye.domSelection();return ft?!maybeRTL.test(lt.parent.textContent)||!ft.modify?it=="left"||it=="backward"?ut:ht:withFlushedState(Ye,rt,()=>{let{focusNode:pt,focusOffset:mt,anchorNode:gt,anchorOffset:yt}=Ye.domSelectionRange(),xt=ft.caretBidiLevel;ft.modify("move",it,"character");let bt=lt.depth?Ye.docView.domAfterPos(lt.before()):Ye.dom,{focusNode:_t,focusOffset:Ct}=Ye.domSelectionRange(),kt=_t&&!bt.contains(_t.nodeType==1?_t:_t.parentNode)||pt==_t&&mt==Ct;try{ft.collapse(gt,yt),pt&&(pt!=gt||mt!=yt)&&ft.extend&&ft.extend(pt,mt)}catch{}return xt!=null&&(ft.caretBidiLevel=xt),kt}):lt.pos==lt.start()||lt.pos==lt.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(Ye,rt,it){return cachedState==rt&&cachedDir==it?cachedResult:(cachedState=rt,cachedDir=it,cachedResult=it=="up"||it=="down"?endOfTextblockVertical(Ye,rt,it):endOfTextblockHorizontal(Ye,rt,it))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(rt,it,lt,ct){this.parent=rt,this.children=it,this.dom=lt,this.contentDOM=ct,this.dirty=NOT_DIRTY,lt.pmViewDesc=this}matchesWidget(rt){return!1}matchesMark(rt){return!1}matchesNode(rt,it,lt){return!1}matchesHack(rt){return!1}parseRule(){return null}stopEvent(rt){return!1}get size(){let rt=0;for(let it=0;it<this.children.length;it++)rt+=this.children[it].size;return rt}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let rt=0;rt<this.children.length;rt++)this.children[rt].destroy()}posBeforeChild(rt){for(let it=0,lt=this.posAtStart;;it++){let ct=this.children[it];if(ct==rt)return lt;lt+=ct.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(rt,it,lt){if(this.contentDOM&&this.contentDOM.contains(rt.nodeType==1?rt:rt.parentNode))if(lt<0){let ut,ht;if(rt==this.contentDOM)ut=rt.childNodes[it-1];else{for(;rt.parentNode!=this.contentDOM;)rt=rt.parentNode;ut=rt.previousSibling}for(;ut&&!((ht=ut.pmViewDesc)&&ht.parent==this);)ut=ut.previousSibling;return ut?this.posBeforeChild(ht)+ht.size:this.posAtStart}else{let ut,ht;if(rt==this.contentDOM)ut=rt.childNodes[it];else{for(;rt.parentNode!=this.contentDOM;)rt=rt.parentNode;ut=rt.nextSibling}for(;ut&&!((ht=ut.pmViewDesc)&&ht.parent==this);)ut=ut.nextSibling;return ut?this.posBeforeChild(ht):this.posAtEnd}let ct;if(rt==this.dom&&this.contentDOM)ct=it>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))ct=rt.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(it==0)for(let ut=rt;;ut=ut.parentNode){if(ut==this.dom){ct=!1;break}if(ut.previousSibling)break}if(ct==null&&it==rt.childNodes.length)for(let ut=rt;;ut=ut.parentNode){if(ut==this.dom){ct=!0;break}if(ut.nextSibling)break}}return ct??lt>0?this.posAtEnd:this.posAtStart}nearestDesc(rt,it=!1){for(let lt=!0,ct=rt;ct;ct=ct.parentNode){let ut=this.getDesc(ct),ht;if(ut&&(!it||ut.node))if(lt&&(ht=ut.nodeDOM)&&!(ht.nodeType==1?ht.contains(rt.nodeType==1?rt:rt.parentNode):ht==rt))lt=!1;else return ut}}getDesc(rt){let it=rt.pmViewDesc;for(let lt=it;lt;lt=lt.parent)if(lt==this)return it}posFromDOM(rt,it,lt){for(let ct=rt;ct;ct=ct.parentNode){let ut=this.getDesc(ct);if(ut)return ut.localPosFromDOM(rt,it,lt)}return-1}descAt(rt){for(let it=0,lt=0;it<this.children.length;it++){let ct=this.children[it],ut=lt+ct.size;if(lt==rt&&ut!=lt){for(;!ct.border&&ct.children.length;)for(let ht=0;ht<ct.children.length;ht++){let ft=ct.children[ht];if(ft.size){ct=ft;break}}return ct}if(rt<ut)return ct.descAt(rt-lt-ct.border);lt=ut}}domFromPos(rt,it){if(!this.contentDOM)return{node:this.dom,offset:0,atom:rt+1};let lt=0,ct=0;for(let ut=0;lt<this.children.length;lt++){let ht=this.children[lt],ft=ut+ht.size;if(ft>rt||ht instanceof TrailingHackViewDesc){ct=rt-ut;break}ut=ft}if(ct)return this.children[lt].domFromPos(ct-this.children[lt].border,it);for(let ut;lt&&!(ut=this.children[lt-1]).size&&ut instanceof WidgetViewDesc&&ut.side>=0;lt--);if(it<=0){let ut,ht=!0;for(;ut=lt?this.children[lt-1]:null,!(!ut||ut.dom.parentNode==this.contentDOM);lt--,ht=!1);return ut&&it&&ht&&!ut.border&&!ut.domAtom?ut.domFromPos(ut.size,it):{node:this.contentDOM,offset:ut?domIndex(ut.dom)+1:0}}else{let ut,ht=!0;for(;ut=lt<this.children.length?this.children[lt]:null,!(!ut||ut.dom.parentNode==this.contentDOM);lt++,ht=!1);return ut&&ht&&!ut.border&&!ut.domAtom?ut.domFromPos(0,it):{node:this.contentDOM,offset:ut?domIndex(ut.dom):this.contentDOM.childNodes.length}}}parseRange(rt,it,lt=0){if(this.children.length==0)return{node:this.contentDOM,from:rt,to:it,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let ct=-1,ut=-1;for(let ht=lt,ft=0;;ft++){let pt=this.children[ft],mt=ht+pt.size;if(ct==-1&&rt<=mt){let gt=ht+pt.border;if(rt>=gt&&it<=mt-pt.border&&pt.node&&pt.contentDOM&&this.contentDOM.contains(pt.contentDOM))return pt.parseRange(rt,it,gt);rt=ht;for(let yt=ft;yt>0;yt--){let xt=this.children[yt-1];if(xt.size&&xt.dom.parentNode==this.contentDOM&&!xt.emptyChildAt(1)){ct=domIndex(xt.dom)+1;break}rt-=xt.size}ct==-1&&(ct=0)}if(ct>-1&&(mt>it||ft==this.children.length-1)){it=mt;for(let gt=ft+1;gt<this.children.length;gt++){let yt=this.children[gt];if(yt.size&&yt.dom.parentNode==this.contentDOM&&!yt.emptyChildAt(-1)){ut=domIndex(yt.dom);break}it+=yt.size}ut==-1&&(ut=this.contentDOM.childNodes.length);break}ht=mt}return{node:this.contentDOM,from:rt,to:it,fromOffset:ct,toOffset:ut}}emptyChildAt(rt){if(this.border||!this.contentDOM||!this.children.length)return!1;let it=this.children[rt<0?0:this.children.length-1];return it.size==0||it.emptyChildAt(rt)}domAfterPos(rt){let{node:it,offset:lt}=this.domFromPos(rt,0);if(it.nodeType!=1||lt==it.childNodes.length)throw new RangeError("No node after pos "+rt);return it.childNodes[lt]}setSelection(rt,it,lt,ct=!1){let ut=Math.min(rt,it),ht=Math.max(rt,it);for(let bt=0,_t=0;bt<this.children.length;bt++){let Ct=this.children[bt],kt=_t+Ct.size;if(ut>_t&&ht<kt)return Ct.setSelection(rt-_t-Ct.border,it-_t-Ct.border,lt,ct);_t=kt}let ft=this.domFromPos(rt,rt?-1:1),pt=it==rt?ft:this.domFromPos(it,it?-1:1),mt=lt.root.getSelection(),gt=lt.domSelectionRange(),yt=!1;if((gecko||safari)&&rt==it){let{node:bt,offset:_t}=ft;if(bt.nodeType==3){if(yt=!!(_t&&bt.nodeValue[_t-1]==`
`),yt&&_t==bt.nodeValue.length)for(let Ct=bt,kt;Ct;Ct=Ct.parentNode){if(kt=Ct.nextSibling){kt.nodeName=="BR"&&(ft=pt={node:kt.parentNode,offset:domIndex(kt)+1});break}let St=Ct.pmViewDesc;if(St&&St.node&&St.node.isBlock)break}}else{let Ct=bt.childNodes[_t-1];yt=Ct&&(Ct.nodeName=="BR"||Ct.contentEditable=="false")}}if(gecko&&gt.focusNode&&gt.focusNode!=pt.node&&gt.focusNode.nodeType==1){let bt=gt.focusNode.childNodes[gt.focusOffset];bt&&bt.contentEditable=="false"&&(ct=!0)}if(!(ct||yt&&safari)&&isEquivalentPosition(ft.node,ft.offset,gt.anchorNode,gt.anchorOffset)&&isEquivalentPosition(pt.node,pt.offset,gt.focusNode,gt.focusOffset))return;let xt=!1;if((mt.extend||rt==it)&&!(yt&&gecko)){mt.collapse(ft.node,ft.offset);try{rt!=it&&mt.extend(pt.node,pt.offset),xt=!0}catch{}}if(!xt){if(rt>it){let _t=ft;ft=pt,pt=_t}let bt=document.createRange();bt.setEnd(pt.node,pt.offset),bt.setStart(ft.node,ft.offset),mt.removeAllRanges(),mt.addRange(bt)}}ignoreMutation(rt){return!this.contentDOM&&rt.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(rt,it){for(let lt=0,ct=0;ct<this.children.length;ct++){let ut=this.children[ct],ht=lt+ut.size;if(lt==ht?rt<=ht&&it>=lt:rt<ht&&it>lt){let ft=lt+ut.border,pt=ht-ut.border;if(rt>=ft&&it<=pt){this.dirty=rt==lt||it==ht?CONTENT_DIRTY:CHILD_DIRTY,rt==ft&&it==pt&&(ut.contentLost||ut.dom.parentNode!=this.contentDOM)?ut.dirty=NODE_DIRTY:ut.markDirty(rt-ft,it-ft);return}else ut.dirty=ut.dom==ut.contentDOM&&ut.dom.parentNode==this.contentDOM&&!ut.children.length?CONTENT_DIRTY:NODE_DIRTY}lt=ht}this.dirty=CONTENT_DIRTY}markParentsDirty(){let rt=1;for(let it=this.parent;it;it=it.parent,rt++){let lt=rt==1?CONTENT_DIRTY:CHILD_DIRTY;it.dirty<lt&&(it.dirty=lt)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(rt){return!1}}class WidgetViewDesc extends ViewDesc{constructor(rt,it,lt,ct){let ut,ht=it.type.toDOM;if(typeof ht=="function"&&(ht=ht(lt,()=>{if(!ut)return ct;if(ut.parent)return ut.parent.posBeforeChild(ut)})),!it.type.spec.raw){if(ht.nodeType!=1){let ft=document.createElement("span");ft.appendChild(ht),ht=ft}ht.contentEditable="false",ht.classList.add("ProseMirror-widget")}super(rt,[],ht,null),this.widget=it,this.widget=it,ut=this}matchesWidget(rt){return this.dirty==NOT_DIRTY&&rt.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(rt){let it=this.widget.spec.stopEvent;return it?it(rt):!1}ignoreMutation(rt){return rt.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(rt,it,lt,ct){super(rt,[],it,null),this.textDOM=lt,this.text=ct}get size(){return this.text.length}localPosFromDOM(rt,it){return rt!=this.textDOM?this.posAtStart+(it?this.size:0):this.posAtStart+it}domFromPos(rt){return{node:this.textDOM,offset:rt}}ignoreMutation(rt){return rt.type==="characterData"&&rt.target.nodeValue==rt.oldValue}}class MarkViewDesc extends ViewDesc{constructor(rt,it,lt,ct,ut){super(rt,[],lt,ct),this.mark=it,this.spec=ut}static create(rt,it,lt,ct){let ut=ct.nodeViews[it.type.name],ht=ut&&ut(it,ct,lt);return(!ht||!ht.dom)&&(ht=DOMSerializer.renderSpec(document,it.type.spec.toDOM(it,lt),null,it.attrs)),new MarkViewDesc(rt,it,ht.dom,ht.contentDOM||ht.dom,ht)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(rt){return this.dirty!=NODE_DIRTY&&this.mark.eq(rt)}markDirty(rt,it){if(super.markDirty(rt,it),this.dirty!=NOT_DIRTY){let lt=this.parent;for(;!lt.node;)lt=lt.parent;lt.dirty<this.dirty&&(lt.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(rt,it,lt){let ct=MarkViewDesc.create(this.parent,this.mark,!0,lt),ut=this.children,ht=this.size;it<ht&&(ut=replaceNodes(ut,it,ht,lt)),rt>0&&(ut=replaceNodes(ut,0,rt,lt));for(let ft=0;ft<ut.length;ft++)ut[ft].parent=ct;return ct.children=ut,ct}ignoreMutation(rt){return this.spec.ignoreMutation?this.spec.ignoreMutation(rt):super.ignoreMutation(rt)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(rt,it,lt,ct,ut,ht,ft,pt,mt){super(rt,[],ut,ht),this.node=it,this.outerDeco=lt,this.innerDeco=ct,this.nodeDOM=ft}static create(rt,it,lt,ct,ut,ht){let ft=ut.nodeViews[it.type.name],pt,mt=ft&&ft(it,ut,()=>{if(!pt)return ht;if(pt.parent)return pt.parent.posBeforeChild(pt)},lt,ct),gt=mt&&mt.dom,yt=mt&&mt.contentDOM;if(it.isText){if(!gt)gt=document.createTextNode(it.text);else if(gt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else gt||({dom:gt,contentDOM:yt}=DOMSerializer.renderSpec(document,it.type.spec.toDOM(it),null,it.attrs));!yt&&!it.isText&&gt.nodeName!="BR"&&(gt.hasAttribute("contenteditable")||(gt.contentEditable="false"),it.type.spec.draggable&&(gt.draggable=!0));let xt=gt;return gt=applyOuterDeco(gt,lt,it),mt?pt=new CustomNodeViewDesc(rt,it,lt,ct,gt,yt||null,xt,mt,ut,ht+1):it.isText?new TextViewDesc(rt,it,lt,ct,gt,xt,ut):new NodeViewDesc(rt,it,lt,ct,gt,yt||null,xt,ut,ht+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let rt={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(rt.preserveWhitespace="full"),!this.contentDOM)rt.getContent=()=>this.node.content;else if(!this.contentLost)rt.contentElement=this.contentDOM;else{for(let it=this.children.length-1;it>=0;it--){let lt=this.children[it];if(this.dom.contains(lt.dom.parentNode)){rt.contentElement=lt.dom.parentNode;break}}rt.contentElement||(rt.getContent=()=>Fragment.empty)}return rt}matchesNode(rt,it,lt){return this.dirty==NOT_DIRTY&&rt.eq(this.node)&&sameOuterDeco(it,this.outerDeco)&&lt.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(rt,it){let lt=this.node.inlineContent,ct=it,ut=rt.composing?this.localCompositionInfo(rt,it):null,ht=ut&&ut.pos>-1?ut:null,ft=ut&&ut.pos<0,pt=new ViewTreeUpdater(this,ht&&ht.node,rt);iterDeco(this.node,this.innerDeco,(mt,gt,yt)=>{mt.spec.marks?pt.syncToMarks(mt.spec.marks,lt,rt):mt.type.side>=0&&!yt&&pt.syncToMarks(gt==this.node.childCount?Mark.none:this.node.child(gt).marks,lt,rt),pt.placeWidget(mt,rt,ct)},(mt,gt,yt,xt)=>{pt.syncToMarks(mt.marks,lt,rt);let bt;pt.findNodeMatch(mt,gt,yt,xt)||ft&&rt.state.selection.from>ct&&rt.state.selection.to<ct+mt.nodeSize&&(bt=pt.findIndexWithChild(ut.node))>-1&&pt.updateNodeAt(mt,gt,yt,bt,rt)||pt.updateNextNode(mt,gt,yt,rt,xt,ct)||pt.addNode(mt,gt,yt,rt,ct),ct+=mt.nodeSize}),pt.syncToMarks([],lt,rt),this.node.isTextblock&&pt.addTextblockHacks(),pt.destroyRest(),(pt.changed||this.dirty==CONTENT_DIRTY)&&(ht&&this.protectLocalComposition(rt,ht),renderDescs(this.contentDOM,this.children,rt),ios&&iosHacks(this.dom))}localCompositionInfo(rt,it){let{from:lt,to:ct}=rt.state.selection;if(!(rt.state.selection instanceof TextSelection)||lt<it||ct>it+this.node.content.size)return null;let ut=rt.input.compositionNode;if(!ut||!this.dom.contains(ut.parentNode))return null;if(this.node.inlineContent){let ht=ut.nodeValue,ft=findTextInFragment(this.node.content,ht,lt-it,ct-it);return ft<0?null:{node:ut,pos:ft,text:ht}}else return{node:ut,pos:-1,text:""}}protectLocalComposition(rt,{node:it,pos:lt,text:ct}){if(this.getDesc(it))return;let ut=it;for(;ut.parentNode!=this.contentDOM;ut=ut.parentNode){for(;ut.previousSibling;)ut.parentNode.removeChild(ut.previousSibling);for(;ut.nextSibling;)ut.parentNode.removeChild(ut.nextSibling);ut.pmViewDesc&&(ut.pmViewDesc=void 0)}let ht=new CompositionViewDesc(this,ut,it,ct);rt.input.compositionNodes.push(ht),this.children=replaceNodes(this.children,lt,lt+ct.length,rt,ht)}update(rt,it,lt,ct){return this.dirty==NODE_DIRTY||!rt.sameMarkup(this.node)?!1:(this.updateInner(rt,it,lt,ct),!0)}updateInner(rt,it,lt,ct){this.updateOuterDeco(it),this.node=rt,this.innerDeco=lt,this.contentDOM&&this.updateChildren(ct,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(rt){if(sameOuterDeco(rt,this.outerDeco))return;let it=this.nodeDOM.nodeType!=1,lt=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,it),computeOuterDeco(rt,this.node,it)),this.dom!=lt&&(lt.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=rt}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(Ye,rt,it,lt,ct){applyOuterDeco(lt,rt,Ye);let ut=new NodeViewDesc(void 0,Ye,rt,it,lt,lt,lt,ct,0);return ut.contentDOM&&ut.updateChildren(ct,0),ut}class TextViewDesc extends NodeViewDesc{constructor(rt,it,lt,ct,ut,ht,ft){super(rt,it,lt,ct,ut,null,ht,ft,0)}parseRule(){let rt=this.nodeDOM.parentNode;for(;rt&&rt!=this.dom&&!rt.pmIsDeco;)rt=rt.parentNode;return{skip:rt||!0}}update(rt,it,lt,ct){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!rt.sameMarkup(this.node)?!1:(this.updateOuterDeco(it),(this.dirty!=NOT_DIRTY||rt.text!=this.node.text)&&rt.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=rt.text,ct.trackWrites==this.nodeDOM&&(ct.trackWrites=null)),this.node=rt,this.dirty=NOT_DIRTY,!0)}inParent(){let rt=this.parent.contentDOM;for(let it=this.nodeDOM;it;it=it.parentNode)if(it==rt)return!0;return!1}domFromPos(rt){return{node:this.nodeDOM,offset:rt}}localPosFromDOM(rt,it,lt){return rt==this.nodeDOM?this.posAtStart+Math.min(it,this.node.text.length):super.localPosFromDOM(rt,it,lt)}ignoreMutation(rt){return rt.type!="characterData"&&rt.type!="selection"}slice(rt,it,lt){let ct=this.node.cut(rt,it),ut=document.createTextNode(ct.text);return new TextViewDesc(this.parent,ct,this.outerDeco,this.innerDeco,ut,ut,lt)}markDirty(rt,it){super.markDirty(rt,it),this.dom!=this.nodeDOM&&(rt==0||it==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(rt){return this.node.text==rt}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(rt){return this.dirty==NOT_DIRTY&&this.dom.nodeName==rt}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(rt,it,lt,ct,ut,ht,ft,pt,mt,gt){super(rt,it,lt,ct,ut,ht,ft,mt,gt),this.spec=pt}update(rt,it,lt,ct){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==rt.type||this.spec.multiType)){let ut=this.spec.update(rt,it,lt);return ut&&this.updateInner(rt,it,lt,ct),ut}else return!this.contentDOM&&!rt.isLeaf?!1:super.update(rt,it,lt,ct)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(rt,it,lt,ct){this.spec.setSelection?this.spec.setSelection(rt,it,lt.root):super.setSelection(rt,it,lt,ct)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(rt){return this.spec.stopEvent?this.spec.stopEvent(rt):!1}ignoreMutation(rt){return this.spec.ignoreMutation?this.spec.ignoreMutation(rt):super.ignoreMutation(rt)}}function renderDescs(Ye,rt,it){let lt=Ye.firstChild,ct=!1;for(let ut=0;ut<rt.length;ut++){let ht=rt[ut],ft=ht.dom;if(ft.parentNode==Ye){for(;ft!=lt;)lt=rm(lt),ct=!0;lt=lt.nextSibling}else ct=!0,Ye.insertBefore(ft,lt);if(ht instanceof MarkViewDesc){let pt=lt?lt.previousSibling:Ye.lastChild;renderDescs(ht.contentDOM,ht.children,it),lt=pt?pt.nextSibling:Ye.firstChild}}for(;lt;)lt=rm(lt),ct=!0;ct&&it.trackWrites==Ye&&(it.trackWrites=null)}const OuterDecoLevel=function(Ye){Ye&&(this.nodeName=Ye)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(Ye,rt,it){if(Ye.length==0)return noDeco;let lt=it?noDeco[0]:new OuterDecoLevel,ct=[lt];for(let ut=0;ut<Ye.length;ut++){let ht=Ye[ut].type.attrs;if(ht){ht.nodeName&&ct.push(lt=new OuterDecoLevel(ht.nodeName));for(let ft in ht){let pt=ht[ft];pt!=null&&(it&&ct.length==1&&ct.push(lt=new OuterDecoLevel(rt.isInline?"span":"div")),ft=="class"?lt.class=(lt.class?lt.class+" ":"")+pt:ft=="style"?lt.style=(lt.style?lt.style+";":"")+pt:ft!="nodeName"&&(lt[ft]=pt))}}}return ct}function patchOuterDeco(Ye,rt,it,lt){if(it==noDeco&&lt==noDeco)return rt;let ct=rt;for(let ut=0;ut<lt.length;ut++){let ht=lt[ut],ft=it[ut];if(ut){let pt;ft&&ft.nodeName==ht.nodeName&&ct!=Ye&&(pt=ct.parentNode)&&pt.nodeName.toLowerCase()==ht.nodeName||(pt=document.createElement(ht.nodeName),pt.pmIsDeco=!0,pt.appendChild(ct),ft=noDeco[0]),ct=pt}patchAttributes(ct,ft||noDeco[0],ht)}return ct}function patchAttributes(Ye,rt,it){for(let lt in rt)lt!="class"&&lt!="style"&&lt!="nodeName"&&!(lt in it)&&Ye.removeAttribute(lt);for(let lt in it)lt!="class"&&lt!="style"&&lt!="nodeName"&&it[lt]!=rt[lt]&&Ye.setAttribute(lt,it[lt]);if(rt.class!=it.class){let lt=rt.class?rt.class.split(" ").filter(Boolean):[],ct=it.class?it.class.split(" ").filter(Boolean):[];for(let ut=0;ut<lt.length;ut++)ct.indexOf(lt[ut])==-1&&Ye.classList.remove(lt[ut]);for(let ut=0;ut<ct.length;ut++)lt.indexOf(ct[ut])==-1&&Ye.classList.add(ct[ut]);Ye.classList.length==0&&Ye.removeAttribute("class")}if(rt.style!=it.style){if(rt.style){let lt=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,ct;for(;ct=lt.exec(rt.style);)Ye.style.removeProperty(ct[1])}it.style&&(Ye.style.cssText+=it.style)}}function applyOuterDeco(Ye,rt,it){return patchOuterDeco(Ye,Ye,noDeco,computeOuterDeco(rt,it,Ye.nodeType!=1))}function sameOuterDeco(Ye,rt){if(Ye.length!=rt.length)return!1;for(let it=0;it<Ye.length;it++)if(!Ye[it].type.eq(rt[it].type))return!1;return!0}function rm(Ye){let rt=Ye.nextSibling;return Ye.parentNode.removeChild(Ye),rt}class ViewTreeUpdater{constructor(rt,it,lt){this.lock=it,this.view=lt,this.index=0,this.stack=[],this.changed=!1,this.top=rt,this.preMatch=preMatch(rt.node.content,rt)}destroyBetween(rt,it){if(rt!=it){for(let lt=rt;lt<it;lt++)this.top.children[lt].destroy();this.top.children.splice(rt,it-rt),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(rt,it,lt){let ct=0,ut=this.stack.length>>1,ht=Math.min(ut,rt.length);for(;ct<ht&&(ct==ut-1?this.top:this.stack[ct+1<<1]).matchesMark(rt[ct])&&rt[ct].type.spec.spanning!==!1;)ct++;for(;ct<ut;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),ut--;for(;ut<rt.length;){this.stack.push(this.top,this.index+1);let ft=-1;for(let pt=this.index;pt<Math.min(this.index+3,this.top.children.length);pt++){let mt=this.top.children[pt];if(mt.matchesMark(rt[ut])&&!this.isLocked(mt.dom)){ft=pt;break}}if(ft>-1)ft>this.index&&(this.changed=!0,this.destroyBetween(this.index,ft)),this.top=this.top.children[this.index];else{let pt=MarkViewDesc.create(this.top,rt[ut],it,lt);this.top.children.splice(this.index,0,pt),this.top=pt,this.changed=!0}this.index=0,ut++}}findNodeMatch(rt,it,lt,ct){let ut=-1,ht;if(ct>=this.preMatch.index&&(ht=this.preMatch.matches[ct-this.preMatch.index]).parent==this.top&&ht.matchesNode(rt,it,lt))ut=this.top.children.indexOf(ht,this.index);else for(let ft=this.index,pt=Math.min(this.top.children.length,ft+5);ft<pt;ft++){let mt=this.top.children[ft];if(mt.matchesNode(rt,it,lt)&&!this.preMatch.matched.has(mt)){ut=ft;break}}return ut<0?!1:(this.destroyBetween(this.index,ut),this.index++,!0)}updateNodeAt(rt,it,lt,ct,ut){let ht=this.top.children[ct];return ht.dirty==NODE_DIRTY&&ht.dom==ht.contentDOM&&(ht.dirty=CONTENT_DIRTY),ht.update(rt,it,lt,ut)?(this.destroyBetween(this.index,ct),this.index++,!0):!1}findIndexWithChild(rt){for(;;){let it=rt.parentNode;if(!it)return-1;if(it==this.top.contentDOM){let lt=rt.pmViewDesc;if(lt){for(let ct=this.index;ct<this.top.children.length;ct++)if(this.top.children[ct]==lt)return ct}return-1}rt=it}}updateNextNode(rt,it,lt,ct,ut,ht){for(let ft=this.index;ft<this.top.children.length;ft++){let pt=this.top.children[ft];if(pt instanceof NodeViewDesc){let mt=this.preMatch.matched.get(pt);if(mt!=null&&mt!=ut)return!1;let gt=pt.dom,yt,xt=this.isLocked(gt)&&!(rt.isText&&pt.node&&pt.node.isText&&pt.nodeDOM.nodeValue==rt.text&&pt.dirty!=NODE_DIRTY&&sameOuterDeco(it,pt.outerDeco));if(!xt&&pt.update(rt,it,lt,ct))return this.destroyBetween(this.index,ft),pt.dom!=gt&&(this.changed=!0),this.index++,!0;if(!xt&&(yt=this.recreateWrapper(pt,rt,it,lt,ct,ht)))return this.destroyBetween(this.index,ft),this.top.children[this.index]=yt,yt.contentDOM&&(yt.dirty=CONTENT_DIRTY,yt.updateChildren(ct,ht+1),yt.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(rt,it,lt,ct,ut,ht){if(rt.dirty||it.isAtom||!rt.children.length||!rt.node.content.eq(it.content)||!sameOuterDeco(lt,rt.outerDeco)||!ct.eq(rt.innerDeco))return null;let ft=NodeViewDesc.create(this.top,it,lt,ct,ut,ht);if(ft.contentDOM){ft.children=rt.children,rt.children=[];for(let pt of ft.children)pt.parent=ft}return rt.destroy(),ft}addNode(rt,it,lt,ct,ut){let ht=NodeViewDesc.create(this.top,rt,it,lt,ct,ut);ht.contentDOM&&ht.updateChildren(ct,ut+1),this.top.children.splice(this.index++,0,ht),this.changed=!0}placeWidget(rt,it,lt){let ct=this.index<this.top.children.length?this.top.children[this.index]:null;if(ct&&ct.matchesWidget(rt)&&(rt==ct.widget||!ct.widget.type.toDOM.parentNode))this.index++;else{let ut=new WidgetViewDesc(this.top,rt,it,lt);this.top.children.splice(this.index++,0,ut),this.changed=!0}}addTextblockHacks(){let rt=this.top.children[this.index-1],it=this.top;for(;rt instanceof MarkViewDesc;)it=rt,rt=it.children[it.children.length-1];(!rt||!(rt instanceof TextViewDesc)||/\n$/.test(rt.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(rt.node.text))&&((safari||chrome)&&rt&&rt.dom.contentEditable=="false"&&this.addHackNode("IMG",it),this.addHackNode("BR",this.top))}addHackNode(rt,it){if(it==this.top&&this.index<it.children.length&&it.children[this.index].matchesHack(rt))this.index++;else{let lt=document.createElement(rt);rt=="IMG"&&(lt.className="ProseMirror-separator",lt.alt=""),rt=="BR"&&(lt.className="ProseMirror-trailingBreak");let ct=new TrailingHackViewDesc(this.top,[],lt,null);it!=this.top?it.children.push(ct):it.children.splice(this.index++,0,ct),this.changed=!0}}isLocked(rt){return this.lock&&(rt==this.lock||rt.nodeType==1&&rt.contains(this.lock.parentNode))}}function preMatch(Ye,rt){let it=rt,lt=it.children.length,ct=Ye.childCount,ut=new Map,ht=[];e:for(;ct>0;){let ft;for(;;)if(lt){let mt=it.children[lt-1];if(mt instanceof MarkViewDesc)it=mt,lt=mt.children.length;else{ft=mt,lt--;break}}else{if(it==rt)break e;lt=it.parent.children.indexOf(it),it=it.parent}let pt=ft.node;if(pt){if(pt!=Ye.child(ct-1))break;--ct,ut.set(ft,ct),ht.push(ft)}}return{index:ct,matched:ut,matches:ht.reverse()}}function compareSide(Ye,rt){return Ye.type.side-rt.type.side}function iterDeco(Ye,rt,it,lt){let ct=rt.locals(Ye),ut=0;if(ct.length==0){for(let mt=0;mt<Ye.childCount;mt++){let gt=Ye.child(mt);lt(gt,ct,rt.forChild(ut,gt),mt),ut+=gt.nodeSize}return}let ht=0,ft=[],pt=null;for(let mt=0;;){let gt,yt;for(;ht<ct.length&&ct[ht].to==ut;){let kt=ct[ht++];kt.widget&&(gt?(yt||(yt=[gt])).push(kt):gt=kt)}if(gt)if(yt){yt.sort(compareSide);for(let kt=0;kt<yt.length;kt++)it(yt[kt],mt,!!pt)}else it(gt,mt,!!pt);let xt,bt;if(pt)bt=-1,xt=pt,pt=null;else if(mt<Ye.childCount)bt=mt,xt=Ye.child(mt++);else break;for(let kt=0;kt<ft.length;kt++)ft[kt].to<=ut&&ft.splice(kt--,1);for(;ht<ct.length&&ct[ht].from<=ut&&ct[ht].to>ut;)ft.push(ct[ht++]);let _t=ut+xt.nodeSize;if(xt.isText){let kt=_t;ht<ct.length&&ct[ht].from<kt&&(kt=ct[ht].from);for(let St=0;St<ft.length;St++)ft[St].to<kt&&(kt=ft[St].to);kt<_t&&(pt=xt.cut(kt-ut),xt=xt.cut(0,kt-ut),_t=kt,bt=-1)}else for(;ht<ct.length&&ct[ht].to<_t;)ht++;let Ct=xt.isInline&&!xt.isLeaf?ft.filter(kt=>!kt.inline):ft.slice();lt(xt,Ct,rt.forChild(ut,xt),bt),ut=_t}}function iosHacks(Ye){if(Ye.nodeName=="UL"||Ye.nodeName=="OL"){let rt=Ye.style.cssText;Ye.style.cssText=rt+"; list-style: square !important",window.getComputedStyle(Ye).listStyle,Ye.style.cssText=rt}}function findTextInFragment(Ye,rt,it,lt){for(let ct=0,ut=0;ct<Ye.childCount&&ut<=lt;){let ht=Ye.child(ct++),ft=ut;if(ut+=ht.nodeSize,!ht.isText)continue;let pt=ht.text;for(;ct<Ye.childCount;){let mt=Ye.child(ct++);if(ut+=mt.nodeSize,!mt.isText)break;pt+=mt.text}if(ut>=it){if(ut>=lt&&pt.slice(lt-rt.length-ft,lt-ft)==rt)return lt-rt.length;let mt=ft<lt?pt.lastIndexOf(rt,lt-ft-1):-1;if(mt>=0&&mt+rt.length+ft>=it)return ft+mt;if(it==lt&&pt.length>=lt+rt.length-ft&&pt.slice(lt-ft,lt-ft+rt.length)==rt)return lt}}return-1}function replaceNodes(Ye,rt,it,lt,ct){let ut=[];for(let ht=0,ft=0;ht<Ye.length;ht++){let pt=Ye[ht],mt=ft,gt=ft+=pt.size;mt>=it||gt<=rt?ut.push(pt):(mt<rt&&ut.push(pt.slice(0,rt-mt,lt)),ct&&(ut.push(ct),ct=void 0),gt>it&&ut.push(pt.slice(it-mt,pt.size,lt)))}return ut}function selectionFromDOM(Ye,rt=null){let it=Ye.domSelectionRange(),lt=Ye.state.doc;if(!it.focusNode)return null;let ct=Ye.docView.nearestDesc(it.focusNode),ut=ct&&ct.size==0,ht=Ye.docView.posFromDOM(it.focusNode,it.focusOffset,1);if(ht<0)return null;let ft=lt.resolve(ht),pt,mt;if(selectionCollapsed(it)){for(pt=ht;ct&&!ct.node;)ct=ct.parent;let yt=ct.node;if(ct&&yt.isAtom&&NodeSelection.isSelectable(yt)&&ct.parent&&!(yt.isInline&&isOnEdge(it.focusNode,it.focusOffset,ct.dom))){let xt=ct.posBefore;mt=new NodeSelection(ht==xt?ft:lt.resolve(xt))}}else{if(it instanceof Ye.dom.ownerDocument.defaultView.Selection&&it.rangeCount>1){let yt=ht,xt=ht;for(let bt=0;bt<it.rangeCount;bt++){let _t=it.getRangeAt(bt);yt=Math.min(yt,Ye.docView.posFromDOM(_t.startContainer,_t.startOffset,1)),xt=Math.max(xt,Ye.docView.posFromDOM(_t.endContainer,_t.endOffset,-1))}if(yt<0)return null;[pt,ht]=xt==Ye.state.selection.anchor?[xt,yt]:[yt,xt],ft=lt.resolve(ht)}else pt=Ye.docView.posFromDOM(it.anchorNode,it.anchorOffset,1);if(pt<0)return null}let gt=lt.resolve(pt);if(!mt){let yt=rt=="pointer"||Ye.state.selection.head<ft.pos&&!ut?1:-1;mt=selectionBetween(Ye,gt,ft,yt)}return mt}function editorOwnsSelection(Ye){return Ye.editable?Ye.hasFocus():hasSelection(Ye)&&document.activeElement&&document.activeElement.contains(Ye.dom)}function selectionToDOM(Ye,rt=!1){let it=Ye.state.selection;if(syncNodeSelection(Ye,it),!!editorOwnsSelection(Ye)){if(!rt&&Ye.input.mouseDown&&Ye.input.mouseDown.allowDefault&&chrome){let lt=Ye.domSelectionRange(),ct=Ye.domObserver.currentSelection;if(lt.anchorNode&&ct.anchorNode&&isEquivalentPosition(lt.anchorNode,lt.anchorOffset,ct.anchorNode,ct.anchorOffset)){Ye.input.mouseDown.delayedSelectionSync=!0,Ye.domObserver.setCurSelection();return}}if(Ye.domObserver.disconnectSelection(),Ye.cursorWrapper)selectCursorWrapper(Ye);else{let{anchor:lt,head:ct}=it,ut,ht;brokenSelectBetweenUneditable&&!(it instanceof TextSelection)&&(it.$from.parent.inlineContent||(ut=temporarilyEditableNear(Ye,it.from)),!it.empty&&!it.$from.parent.inlineContent&&(ht=temporarilyEditableNear(Ye,it.to))),Ye.docView.setSelection(lt,ct,Ye,rt),brokenSelectBetweenUneditable&&(ut&&resetEditable(ut),ht&&resetEditable(ht)),it.visible?Ye.dom.classList.remove("ProseMirror-hideselection"):(Ye.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(Ye))}Ye.domObserver.setCurSelection(),Ye.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(Ye,rt){let{node:it,offset:lt}=Ye.docView.domFromPos(rt,0),ct=lt<it.childNodes.length?it.childNodes[lt]:null,ut=lt?it.childNodes[lt-1]:null;if(safari&&ct&&ct.contentEditable=="false")return setEditable(ct);if((!ct||ct.contentEditable=="false")&&(!ut||ut.contentEditable=="false")){if(ct)return setEditable(ct);if(ut)return setEditable(ut)}}function setEditable(Ye){return Ye.contentEditable="true",safari&&Ye.draggable&&(Ye.draggable=!1,Ye.wasDraggable=!0),Ye}function resetEditable(Ye){Ye.contentEditable="false",Ye.wasDraggable&&(Ye.draggable=!0,Ye.wasDraggable=null)}function removeClassOnSelectionChange(Ye){let rt=Ye.dom.ownerDocument;rt.removeEventListener("selectionchange",Ye.input.hideSelectionGuard);let it=Ye.domSelectionRange(),lt=it.anchorNode,ct=it.anchorOffset;rt.addEventListener("selectionchange",Ye.input.hideSelectionGuard=()=>{(it.anchorNode!=lt||it.anchorOffset!=ct)&&(rt.removeEventListener("selectionchange",Ye.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(Ye)||Ye.state.selection.visible)&&Ye.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(Ye){let rt=Ye.domSelection();if(!rt)return;let it=Ye.cursorWrapper.dom,lt=it.nodeName=="IMG";lt?rt.collapse(it.parentNode,domIndex(it)+1):rt.collapse(it,0),!lt&&!Ye.state.selection.visible&&ie$1&&ie_version<=11&&(it.disabled=!0,it.disabled=!1)}function syncNodeSelection(Ye,rt){if(rt instanceof NodeSelection){let it=Ye.docView.descAt(rt.from);it!=Ye.lastSelectedViewDesc&&(clearNodeSelection(Ye),it&&it.selectNode(),Ye.lastSelectedViewDesc=it)}else clearNodeSelection(Ye)}function clearNodeSelection(Ye){Ye.lastSelectedViewDesc&&(Ye.lastSelectedViewDesc.parent&&Ye.lastSelectedViewDesc.deselectNode(),Ye.lastSelectedViewDesc=void 0)}function selectionBetween(Ye,rt,it,lt){return Ye.someProp("createSelectionBetween",ct=>ct(Ye,rt,it))||TextSelection.between(rt,it,lt)}function hasFocusAndSelection(Ye){return Ye.editable&&!Ye.hasFocus()?!1:hasSelection(Ye)}function hasSelection(Ye){let rt=Ye.domSelectionRange();if(!rt.anchorNode)return!1;try{return Ye.dom.contains(rt.anchorNode.nodeType==3?rt.anchorNode.parentNode:rt.anchorNode)&&(Ye.editable||Ye.dom.contains(rt.focusNode.nodeType==3?rt.focusNode.parentNode:rt.focusNode))}catch{return!1}}function anchorInRightPlace(Ye){let rt=Ye.docView.domFromPos(Ye.state.selection.anchor,0),it=Ye.domSelectionRange();return isEquivalentPosition(rt.node,rt.offset,it.anchorNode,it.anchorOffset)}function moveSelectionBlock(Ye,rt){let{$anchor:it,$head:lt}=Ye.selection,ct=rt>0?it.max(lt):it.min(lt),ut=ct.parent.inlineContent?ct.depth?Ye.doc.resolve(rt>0?ct.after():ct.before()):null:ct;return ut&&Selection$2.findFrom(ut,rt)}function apply$2(Ye,rt){return Ye.dispatch(Ye.state.tr.setSelection(rt).scrollIntoView()),!0}function selectHorizontally(Ye,rt,it){let lt=Ye.state.selection;if(lt instanceof TextSelection)if(it.indexOf("s")>-1){let{$head:ct}=lt,ut=ct.textOffset?null:rt<0?ct.nodeBefore:ct.nodeAfter;if(!ut||ut.isText||!ut.isLeaf)return!1;let ht=Ye.state.doc.resolve(ct.pos+ut.nodeSize*(rt<0?-1:1));return apply$2(Ye,new TextSelection(lt.$anchor,ht))}else if(lt.empty){if(Ye.endOfTextblock(rt>0?"forward":"backward")){let ct=moveSelectionBlock(Ye.state,rt);return ct&&ct instanceof NodeSelection?apply$2(Ye,ct):!1}else if(!(mac&&it.indexOf("m")>-1)){let ct=lt.$head,ut=ct.textOffset?null:rt<0?ct.nodeBefore:ct.nodeAfter,ht;if(!ut||ut.isText)return!1;let ft=rt<0?ct.pos-ut.nodeSize:ct.pos;return ut.isAtom||(ht=Ye.docView.descAt(ft))&&!ht.contentDOM?NodeSelection.isSelectable(ut)?apply$2(Ye,new NodeSelection(rt<0?Ye.state.doc.resolve(ct.pos-ut.nodeSize):ct)):webkit?apply$2(Ye,new TextSelection(Ye.state.doc.resolve(rt<0?ft:ft+ut.nodeSize))):!1:!1}}else return!1;else{if(lt instanceof NodeSelection&&lt.node.isInline)return apply$2(Ye,new TextSelection(rt>0?lt.$to:lt.$from));{let ct=moveSelectionBlock(Ye.state,rt);return ct?apply$2(Ye,ct):!1}}}function nodeLen(Ye){return Ye.nodeType==3?Ye.nodeValue.length:Ye.childNodes.length}function isIgnorable(Ye,rt){let it=Ye.pmViewDesc;return it&&it.size==0&&(rt<0||Ye.nextSibling||Ye.nodeName!="BR")}function skipIgnoredNodes(Ye,rt){return rt<0?skipIgnoredNodesBefore(Ye):skipIgnoredNodesAfter(Ye)}function skipIgnoredNodesBefore(Ye){let rt=Ye.domSelectionRange(),it=rt.focusNode,lt=rt.focusOffset;if(!it)return;let ct,ut,ht=!1;for(gecko&&it.nodeType==1&&lt<nodeLen(it)&&isIgnorable(it.childNodes[lt],-1)&&(ht=!0);;)if(lt>0){if(it.nodeType!=1)break;{let ft=it.childNodes[lt-1];if(isIgnorable(ft,-1))ct=it,ut=--lt;else if(ft.nodeType==3)it=ft,lt=it.nodeValue.length;else break}}else{if(isBlockNode(it))break;{let ft=it.previousSibling;for(;ft&&isIgnorable(ft,-1);)ct=it.parentNode,ut=domIndex(ft),ft=ft.previousSibling;if(ft)it=ft,lt=nodeLen(it);else{if(it=it.parentNode,it==Ye.dom)break;lt=0}}}ht?setSelFocus(Ye,it,lt):ct&&setSelFocus(Ye,ct,ut)}function skipIgnoredNodesAfter(Ye){let rt=Ye.domSelectionRange(),it=rt.focusNode,lt=rt.focusOffset;if(!it)return;let ct=nodeLen(it),ut,ht;for(;;)if(lt<ct){if(it.nodeType!=1)break;let ft=it.childNodes[lt];if(isIgnorable(ft,1))ut=it,ht=++lt;else break}else{if(isBlockNode(it))break;{let ft=it.nextSibling;for(;ft&&isIgnorable(ft,1);)ut=ft.parentNode,ht=domIndex(ft)+1,ft=ft.nextSibling;if(ft)it=ft,lt=0,ct=nodeLen(it);else{if(it=it.parentNode,it==Ye.dom)break;lt=ct=0}}}ut&&setSelFocus(Ye,ut,ht)}function isBlockNode(Ye){let rt=Ye.pmViewDesc;return rt&&rt.node&&rt.node.isBlock}function textNodeAfter(Ye,rt){for(;Ye&&rt==Ye.childNodes.length&&!hasBlockDesc(Ye);)rt=domIndex(Ye)+1,Ye=Ye.parentNode;for(;Ye&&rt<Ye.childNodes.length;){let it=Ye.childNodes[rt];if(it.nodeType==3)return it;if(it.nodeType==1&&it.contentEditable=="false")break;Ye=it,rt=0}}function textNodeBefore(Ye,rt){for(;Ye&&!rt&&!hasBlockDesc(Ye);)rt=domIndex(Ye),Ye=Ye.parentNode;for(;Ye&&rt;){let it=Ye.childNodes[rt-1];if(it.nodeType==3)return it;if(it.nodeType==1&&it.contentEditable=="false")break;Ye=it,rt=Ye.childNodes.length}}function setSelFocus(Ye,rt,it){if(rt.nodeType!=3){let ut,ht;(ht=textNodeAfter(rt,it))?(rt=ht,it=0):(ut=textNodeBefore(rt,it))&&(rt=ut,it=ut.nodeValue.length)}let lt=Ye.domSelection();if(!lt)return;if(selectionCollapsed(lt)){let ut=document.createRange();ut.setEnd(rt,it),ut.setStart(rt,it),lt.removeAllRanges(),lt.addRange(ut)}else lt.extend&&lt.extend(rt,it);Ye.domObserver.setCurSelection();let{state:ct}=Ye;setTimeout(()=>{Ye.state==ct&&selectionToDOM(Ye)},50)}function findDirection(Ye,rt){let it=Ye.state.doc.resolve(rt);if(!(chrome||windows)&&it.parent.inlineContent){let ct=Ye.coordsAtPos(rt);if(rt>it.start()){let ut=Ye.coordsAtPos(rt-1),ht=(ut.top+ut.bottom)/2;if(ht>ct.top&&ht<ct.bottom&&Math.abs(ut.left-ct.left)>1)return ut.left<ct.left?"ltr":"rtl"}if(rt<it.end()){let ut=Ye.coordsAtPos(rt+1),ht=(ut.top+ut.bottom)/2;if(ht>ct.top&&ht<ct.bottom&&Math.abs(ut.left-ct.left)>1)return ut.left>ct.left?"ltr":"rtl"}}return getComputedStyle(Ye.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(Ye,rt,it){let lt=Ye.state.selection;if(lt instanceof TextSelection&&!lt.empty||it.indexOf("s")>-1||mac&&it.indexOf("m")>-1)return!1;let{$from:ct,$to:ut}=lt;if(!ct.parent.inlineContent||Ye.endOfTextblock(rt<0?"up":"down")){let ht=moveSelectionBlock(Ye.state,rt);if(ht&&ht instanceof NodeSelection)return apply$2(Ye,ht)}if(!ct.parent.inlineContent){let ht=rt<0?ct:ut,ft=lt instanceof AllSelection?Selection$2.near(ht,rt):Selection$2.findFrom(ht,rt);return ft?apply$2(Ye,ft):!1}return!1}function stopNativeHorizontalDelete(Ye,rt){if(!(Ye.state.selection instanceof TextSelection))return!0;let{$head:it,$anchor:lt,empty:ct}=Ye.state.selection;if(!it.sameParent(lt))return!0;if(!ct)return!1;if(Ye.endOfTextblock(rt>0?"forward":"backward"))return!0;let ut=!it.textOffset&&(rt<0?it.nodeBefore:it.nodeAfter);if(ut&&!ut.isText){let ht=Ye.state.tr;return rt<0?ht.delete(it.pos-ut.nodeSize,it.pos):ht.delete(it.pos,it.pos+ut.nodeSize),Ye.dispatch(ht),!0}return!1}function switchEditable(Ye,rt,it){Ye.domObserver.stop(),rt.contentEditable=it,Ye.domObserver.start()}function safariDownArrowBug(Ye){if(!safari||Ye.state.selection.$head.parentOffset>0)return!1;let{focusNode:rt,focusOffset:it}=Ye.domSelectionRange();if(rt&&rt.nodeType==1&&it==0&&rt.firstChild&&rt.firstChild.contentEditable=="false"){let lt=rt.firstChild;switchEditable(Ye,lt,"true"),setTimeout(()=>switchEditable(Ye,lt,"false"),20)}return!1}function getMods(Ye){let rt="";return Ye.ctrlKey&&(rt+="c"),Ye.metaKey&&(rt+="m"),Ye.altKey&&(rt+="a"),Ye.shiftKey&&(rt+="s"),rt}function captureKeyDown(Ye,rt){let it=rt.keyCode,lt=getMods(rt);if(it==8||mac&&it==72&&lt=="c")return stopNativeHorizontalDelete(Ye,-1)||skipIgnoredNodes(Ye,-1);if(it==46&&!rt.shiftKey||mac&&it==68&&lt=="c")return stopNativeHorizontalDelete(Ye,1)||skipIgnoredNodes(Ye,1);if(it==13||it==27)return!0;if(it==37||mac&&it==66&&lt=="c"){let ct=it==37?findDirection(Ye,Ye.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(Ye,ct,lt)||skipIgnoredNodes(Ye,ct)}else if(it==39||mac&&it==70&&lt=="c"){let ct=it==39?findDirection(Ye,Ye.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(Ye,ct,lt)||skipIgnoredNodes(Ye,ct)}else{if(it==38||mac&&it==80&&lt=="c")return selectVertically(Ye,-1,lt)||skipIgnoredNodes(Ye,-1);if(it==40||mac&&it==78&&lt=="c")return safariDownArrowBug(Ye)||selectVertically(Ye,1,lt)||skipIgnoredNodes(Ye,1);if(lt==(mac?"m":"c")&&(it==66||it==73||it==89||it==90))return!0}return!1}function serializeForClipboard(Ye,rt){Ye.someProp("transformCopied",bt=>{rt=bt(rt,Ye)});let it=[],{content:lt,openStart:ct,openEnd:ut}=rt;for(;ct>1&&ut>1&&lt.childCount==1&&lt.firstChild.childCount==1;){ct--,ut--;let bt=lt.firstChild;it.push(bt.type.name,bt.attrs!=bt.type.defaultAttrs?bt.attrs:null),lt=bt.content}let ht=Ye.someProp("clipboardSerializer")||DOMSerializer.fromSchema(Ye.state.schema),ft=detachedDoc(),pt=ft.createElement("div");pt.appendChild(ht.serializeFragment(lt,{document:ft}));let mt=pt.firstChild,gt,yt=0;for(;mt&&mt.nodeType==1&&(gt=wrapMap[mt.nodeName.toLowerCase()]);){for(let bt=gt.length-1;bt>=0;bt--){let _t=ft.createElement(gt[bt]);for(;pt.firstChild;)_t.appendChild(pt.firstChild);pt.appendChild(_t),yt++}mt=pt.firstChild}mt&&mt.nodeType==1&&mt.setAttribute("data-pm-slice",`${ct} ${ut}${yt?` -${yt}`:""} ${JSON.stringify(it)}`);let xt=Ye.someProp("clipboardTextSerializer",bt=>bt(rt,Ye))||rt.content.textBetween(0,rt.content.size,`

`);return{dom:pt,text:xt,slice:rt}}function parseFromClipboard(Ye,rt,it,lt,ct){let ut=ct.parent.type.spec.code,ht,ft;if(!it&&!rt)return null;let pt=!!rt&&(lt||ut||!it);if(pt){if(Ye.someProp("transformPastedText",xt=>{rt=xt(rt,ut||lt,Ye)}),ut)return ft=new Slice(Fragment.from(Ye.state.schema.text(rt.replace(/\r\n?/g,`
`))),0,0),Ye.someProp("transformPasted",xt=>{ft=xt(ft,Ye,!0)}),ft;let yt=Ye.someProp("clipboardTextParser",xt=>xt(rt,ct,lt,Ye));if(yt)ft=yt;else{let xt=ct.marks(),{schema:bt}=Ye.state,_t=DOMSerializer.fromSchema(bt);ht=document.createElement("div"),rt.split(/(?:\r\n?|\n)+/).forEach(Ct=>{let kt=ht.appendChild(document.createElement("p"));Ct&&kt.appendChild(_t.serializeNode(bt.text(Ct,xt)))})}}else Ye.someProp("transformPastedHTML",yt=>{it=yt(it,Ye)}),ht=readHTML(it),webkit&&restoreReplacedSpaces(ht);let mt=ht&&ht.querySelector("[data-pm-slice]"),gt=mt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(mt.getAttribute("data-pm-slice")||"");if(gt&&gt[3])for(let yt=+gt[3];yt>0;yt--){let xt=ht.firstChild;for(;xt&&xt.nodeType!=1;)xt=xt.nextSibling;if(!xt)break;ht=xt}if(ft||(ft=(Ye.someProp("clipboardParser")||Ye.someProp("domParser")||DOMParser.fromSchema(Ye.state.schema)).parseSlice(ht,{preserveWhitespace:!!(pt||gt),context:ct,ruleFromNode(xt){return xt.nodeName=="BR"&&!xt.nextSibling&&xt.parentNode&&!inlineParents.test(xt.parentNode.nodeName)?{ignore:!0}:null}})),gt)ft=addContext(closeSlice(ft,+gt[1],+gt[2]),gt[4]);else if(ft=Slice.maxOpen(normalizeSiblings(ft.content,ct),!0),ft.openStart||ft.openEnd){let yt=0,xt=0;for(let bt=ft.content.firstChild;yt<ft.openStart&&!bt.type.spec.isolating;yt++,bt=bt.firstChild);for(let bt=ft.content.lastChild;xt<ft.openEnd&&!bt.type.spec.isolating;xt++,bt=bt.lastChild);ft=closeSlice(ft,yt,xt)}return Ye.someProp("transformPasted",yt=>{ft=yt(ft,Ye,pt)}),ft}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(Ye,rt){if(Ye.childCount<2)return Ye;for(let it=rt.depth;it>=0;it--){let ct=rt.node(it).contentMatchAt(rt.index(it)),ut,ht=[];if(Ye.forEach(ft=>{if(!ht)return;let pt=ct.findWrapping(ft.type),mt;if(!pt)return ht=null;if(mt=ht.length&&ut.length&&addToSibling(pt,ut,ft,ht[ht.length-1],0))ht[ht.length-1]=mt;else{ht.length&&(ht[ht.length-1]=closeRight(ht[ht.length-1],ut.length));let gt=withWrappers(ft,pt);ht.push(gt),ct=ct.matchType(gt.type),ut=pt}}),ht)return Fragment.from(ht)}return Ye}function withWrappers(Ye,rt,it=0){for(let lt=rt.length-1;lt>=it;lt--)Ye=rt[lt].create(null,Fragment.from(Ye));return Ye}function addToSibling(Ye,rt,it,lt,ct){if(ct<Ye.length&&ct<rt.length&&Ye[ct]==rt[ct]){let ut=addToSibling(Ye,rt,it,lt.lastChild,ct+1);if(ut)return lt.copy(lt.content.replaceChild(lt.childCount-1,ut));if(lt.contentMatchAt(lt.childCount).matchType(ct==Ye.length-1?it.type:Ye[ct+1]))return lt.copy(lt.content.append(Fragment.from(withWrappers(it,Ye,ct+1))))}}function closeRight(Ye,rt){if(rt==0)return Ye;let it=Ye.content.replaceChild(Ye.childCount-1,closeRight(Ye.lastChild,rt-1)),lt=Ye.contentMatchAt(Ye.childCount).fillBefore(Fragment.empty,!0);return Ye.copy(it.append(lt))}function closeRange(Ye,rt,it,lt,ct,ut){let ht=rt<0?Ye.firstChild:Ye.lastChild,ft=ht.content;return Ye.childCount>1&&(ut=0),ct<lt-1&&(ft=closeRange(ft,rt,it,lt,ct+1,ut)),ct>=it&&(ft=rt<0?ht.contentMatchAt(0).fillBefore(ft,ut<=ct).append(ft):ft.append(ht.contentMatchAt(ht.childCount).fillBefore(Fragment.empty,!0))),Ye.replaceChild(rt<0?0:Ye.childCount-1,ht.copy(ft))}function closeSlice(Ye,rt,it){return rt<Ye.openStart&&(Ye=new Slice(closeRange(Ye.content,-1,rt,Ye.openStart,0,Ye.openEnd),rt,Ye.openEnd)),it<Ye.openEnd&&(Ye=new Slice(closeRange(Ye.content,1,it,Ye.openEnd,0,0),Ye.openStart,it)),Ye}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(Ye){let rt=window.trustedTypes;return rt?(_policy||(_policy=rt.defaultPolicy||rt.createPolicy("ProseMirrorClipboard",{createHTML:it=>it})),_policy.createHTML(Ye)):Ye}function readHTML(Ye){let rt=/^(\s*<meta [^>]*>)*/.exec(Ye);rt&&(Ye=Ye.slice(rt[0].length));let it=detachedDoc().createElement("div"),lt=/<([a-z][^>\s]+)/i.exec(Ye),ct;if((ct=lt&&wrapMap[lt[1].toLowerCase()])&&(Ye=ct.map(ut=>"<"+ut+">").join("")+Ye+ct.map(ut=>"</"+ut+">").reverse().join("")),it.innerHTML=maybeWrapTrusted(Ye),ct)for(let ut=0;ut<ct.length;ut++)it=it.querySelector(ct[ut])||it;return it}function restoreReplacedSpaces(Ye){let rt=Ye.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let it=0;it<rt.length;it++){let lt=rt[it];lt.childNodes.length==1&&lt.textContent==""&&lt.parentNode&&lt.parentNode.replaceChild(Ye.ownerDocument.createTextNode(" "),lt)}}function addContext(Ye,rt){if(!Ye.size)return Ye;let it=Ye.content.firstChild.type.schema,lt;try{lt=JSON.parse(rt)}catch{return Ye}let{content:ct,openStart:ut,openEnd:ht}=Ye;for(let ft=lt.length-2;ft>=0;ft-=2){let pt=it.nodes[lt[ft]];if(!pt||pt.hasRequiredAttrs())break;ct=Fragment.from(pt.create(lt[ft+1],ct)),ut++,ht++}return new Slice(ct,ut,ht)}const handlers$1={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(Ye){for(let rt in handlers$1){let it=handlers$1[rt];Ye.dom.addEventListener(rt,Ye.input.eventHandlers[rt]=lt=>{eventBelongsToView(Ye,lt)&&!runCustomHandler(Ye,lt)&&(Ye.editable||!(lt.type in editHandlers))&&it(Ye,lt)},passiveHandlers[rt]?{passive:!0}:void 0)}safari&&Ye.dom.addEventListener("input",()=>null),ensureListeners(Ye)}function setSelectionOrigin(Ye,rt){Ye.input.lastSelectionOrigin=rt,Ye.input.lastSelectionTime=Date.now()}function destroyInput(Ye){Ye.domObserver.stop();for(let rt in Ye.input.eventHandlers)Ye.dom.removeEventListener(rt,Ye.input.eventHandlers[rt]);clearTimeout(Ye.input.composingTimeout),clearTimeout(Ye.input.lastIOSEnterFallbackTimeout)}function ensureListeners(Ye){Ye.someProp("handleDOMEvents",rt=>{for(let it in rt)Ye.input.eventHandlers[it]||Ye.dom.addEventListener(it,Ye.input.eventHandlers[it]=lt=>runCustomHandler(Ye,lt))})}function runCustomHandler(Ye,rt){return Ye.someProp("handleDOMEvents",it=>{let lt=it[rt.type];return lt?lt(Ye,rt)||rt.defaultPrevented:!1})}function eventBelongsToView(Ye,rt){if(!rt.bubbles)return!0;if(rt.defaultPrevented)return!1;for(let it=rt.target;it!=Ye.dom;it=it.parentNode)if(!it||it.nodeType==11||it.pmViewDesc&&it.pmViewDesc.stopEvent(rt))return!1;return!0}function dispatchEvent$1(Ye,rt){!runCustomHandler(Ye,rt)&&handlers$1[rt.type]&&(Ye.editable||!(rt.type in editHandlers))&&handlers$1[rt.type](Ye,rt)}editHandlers.keydown=(Ye,rt)=>{let it=rt;if(Ye.input.shiftKey=it.keyCode==16||it.shiftKey,!inOrNearComposition(Ye,it)&&(Ye.input.lastKeyCode=it.keyCode,Ye.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&it.keyCode==13)))if(it.keyCode!=229&&Ye.domObserver.forceFlush(),ios&&it.keyCode==13&&!it.ctrlKey&&!it.altKey&&!it.metaKey){let lt=Date.now();Ye.input.lastIOSEnter=lt,Ye.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{Ye.input.lastIOSEnter==lt&&(Ye.someProp("handleKeyDown",ct=>ct(Ye,keyEvent(13,"Enter"))),Ye.input.lastIOSEnter=0)},200)}else Ye.someProp("handleKeyDown",lt=>lt(Ye,it))||captureKeyDown(Ye,it)?it.preventDefault():setSelectionOrigin(Ye,"key")};editHandlers.keyup=(Ye,rt)=>{rt.keyCode==16&&(Ye.input.shiftKey=!1)};editHandlers.keypress=(Ye,rt)=>{let it=rt;if(inOrNearComposition(Ye,it)||!it.charCode||it.ctrlKey&&!it.altKey||mac&&it.metaKey)return;if(Ye.someProp("handleKeyPress",ct=>ct(Ye,it))){it.preventDefault();return}let lt=Ye.state.selection;if(!(lt instanceof TextSelection)||!lt.$from.sameParent(lt.$to)){let ct=String.fromCharCode(it.charCode),ut=()=>Ye.state.tr.insertText(ct).scrollIntoView();!/[\r\n]/.test(ct)&&!Ye.someProp("handleTextInput",ht=>ht(Ye,lt.$from.pos,lt.$to.pos,ct,ut))&&Ye.dispatch(ut()),it.preventDefault()}};function eventCoords(Ye){return{left:Ye.clientX,top:Ye.clientY}}function isNear(Ye,rt){let it=rt.x-Ye.clientX,lt=rt.y-Ye.clientY;return it*it+lt*lt<100}function runHandlerOnContext(Ye,rt,it,lt,ct){if(lt==-1)return!1;let ut=Ye.state.doc.resolve(lt);for(let ht=ut.depth+1;ht>0;ht--)if(Ye.someProp(rt,ft=>ht>ut.depth?ft(Ye,it,ut.nodeAfter,ut.before(ht),ct,!0):ft(Ye,it,ut.node(ht),ut.before(ht),ct,!1)))return!0;return!1}function updateSelection(Ye,rt,it){if(Ye.focused||Ye.focus(),Ye.state.selection.eq(rt))return;let lt=Ye.state.tr.setSelection(rt);lt.setMeta("pointer",!0),Ye.dispatch(lt)}function selectClickedLeaf(Ye,rt){if(rt==-1)return!1;let it=Ye.state.doc.resolve(rt),lt=it.nodeAfter;return lt&&lt.isAtom&&NodeSelection.isSelectable(lt)?(updateSelection(Ye,new NodeSelection(it)),!0):!1}function selectClickedNode(Ye,rt){if(rt==-1)return!1;let it=Ye.state.selection,lt,ct;it instanceof NodeSelection&&(lt=it.node);let ut=Ye.state.doc.resolve(rt);for(let ht=ut.depth+1;ht>0;ht--){let ft=ht>ut.depth?ut.nodeAfter:ut.node(ht);if(NodeSelection.isSelectable(ft)){lt&&it.$from.depth>0&&ht>=it.$from.depth&&ut.before(it.$from.depth+1)==it.$from.pos?ct=ut.before(it.$from.depth):ct=ut.before(ht);break}}return ct!=null?(updateSelection(Ye,NodeSelection.create(Ye.state.doc,ct)),!0):!1}function handleSingleClick(Ye,rt,it,lt,ct){return runHandlerOnContext(Ye,"handleClickOn",rt,it,lt)||Ye.someProp("handleClick",ut=>ut(Ye,rt,lt))||(ct?selectClickedNode(Ye,it):selectClickedLeaf(Ye,it))}function handleDoubleClick(Ye,rt,it,lt){return runHandlerOnContext(Ye,"handleDoubleClickOn",rt,it,lt)||Ye.someProp("handleDoubleClick",ct=>ct(Ye,rt,lt))}function handleTripleClick(Ye,rt,it,lt){return runHandlerOnContext(Ye,"handleTripleClickOn",rt,it,lt)||Ye.someProp("handleTripleClick",ct=>ct(Ye,rt,lt))||defaultTripleClick(Ye,it,lt)}function defaultTripleClick(Ye,rt,it){if(it.button!=0)return!1;let lt=Ye.state.doc;if(rt==-1)return lt.inlineContent?(updateSelection(Ye,TextSelection.create(lt,0,lt.content.size)),!0):!1;let ct=lt.resolve(rt);for(let ut=ct.depth+1;ut>0;ut--){let ht=ut>ct.depth?ct.nodeAfter:ct.node(ut),ft=ct.before(ut);if(ht.inlineContent)updateSelection(Ye,TextSelection.create(lt,ft+1,ft+1+ht.content.size));else if(NodeSelection.isSelectable(ht))updateSelection(Ye,NodeSelection.create(lt,ft));else continue;return!0}}function forceDOMFlush(Ye){return endComposition(Ye)}const selectNodeModifier=mac?"metaKey":"ctrlKey";handlers$1.mousedown=(Ye,rt)=>{let it=rt;Ye.input.shiftKey=it.shiftKey;let lt=forceDOMFlush(Ye),ct=Date.now(),ut="singleClick";ct-Ye.input.lastClick.time<500&&isNear(it,Ye.input.lastClick)&&!it[selectNodeModifier]&&Ye.input.lastClick.button==it.button&&(Ye.input.lastClick.type=="singleClick"?ut="doubleClick":Ye.input.lastClick.type=="doubleClick"&&(ut="tripleClick")),Ye.input.lastClick={time:ct,x:it.clientX,y:it.clientY,type:ut,button:it.button};let ht=Ye.posAtCoords(eventCoords(it));ht&&(ut=="singleClick"?(Ye.input.mouseDown&&Ye.input.mouseDown.done(),Ye.input.mouseDown=new MouseDown(Ye,ht,it,!!lt)):(ut=="doubleClick"?handleDoubleClick:handleTripleClick)(Ye,ht.pos,ht.inside,it)?it.preventDefault():setSelectionOrigin(Ye,"pointer"))};class MouseDown{constructor(rt,it,lt,ct){this.view=rt,this.pos=it,this.event=lt,this.flushed=ct,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=rt.state.doc,this.selectNode=!!lt[selectNodeModifier],this.allowDefault=lt.shiftKey;let ut,ht;if(it.inside>-1)ut=rt.state.doc.nodeAt(it.inside),ht=it.inside;else{let gt=rt.state.doc.resolve(it.pos);ut=gt.parent,ht=gt.depth?gt.before():0}const ft=ct?null:lt.target,pt=ft?rt.docView.nearestDesc(ft,!0):null;this.target=pt&&pt.nodeDOM.nodeType==1?pt.nodeDOM:null;let{selection:mt}=rt.state;(lt.button==0&&ut.type.spec.draggable&&ut.type.spec.selectable!==!1||mt instanceof NodeSelection&&mt.from<=ht&&mt.to>ht)&&(this.mightDrag={node:ut,pos:ht,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),rt.root.addEventListener("mouseup",this.up=this.up.bind(this)),rt.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(rt,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(rt){if(this.done(),!this.view.dom.contains(rt.target))return;let it=this.pos;this.view.state.doc!=this.startDoc&&(it=this.view.posAtCoords(eventCoords(rt))),this.updateAllowDefault(rt),this.allowDefault||!it?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,it.pos,it.inside,rt,this.selectNode)?rt.preventDefault():rt.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(it.pos-this.view.state.selection.from),Math.abs(it.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection$2.near(this.view.state.doc.resolve(it.pos))),rt.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(rt){this.updateAllowDefault(rt),setSelectionOrigin(this.view,"pointer"),rt.buttons==0&&this.done()}updateAllowDefault(rt){!this.allowDefault&&(Math.abs(this.event.x-rt.clientX)>4||Math.abs(this.event.y-rt.clientY)>4)&&(this.allowDefault=!0)}}handlers$1.touchstart=Ye=>{Ye.input.lastTouch=Date.now(),forceDOMFlush(Ye),setSelectionOrigin(Ye,"pointer")};handlers$1.touchmove=Ye=>{Ye.input.lastTouch=Date.now(),setSelectionOrigin(Ye,"pointer")};handlers$1.contextmenu=Ye=>forceDOMFlush(Ye);function inOrNearComposition(Ye,rt){return Ye.composing?!0:safari&&Math.abs(rt.timeStamp-Ye.input.compositionEndedAt)<500?(Ye.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=Ye=>{if(!Ye.composing){Ye.domObserver.flush();let{state:rt}=Ye,it=rt.selection.$to;if(rt.selection instanceof TextSelection&&(rt.storedMarks||!it.textOffset&&it.parentOffset&&it.nodeBefore.marks.some(lt=>lt.type.spec.inclusive===!1)))Ye.markCursor=Ye.state.storedMarks||it.marks(),endComposition(Ye,!0),Ye.markCursor=null;else if(endComposition(Ye,!rt.selection.empty),gecko&&rt.selection.empty&&it.parentOffset&&!it.textOffset&&it.nodeBefore.marks.length){let lt=Ye.domSelectionRange();for(let ct=lt.focusNode,ut=lt.focusOffset;ct&&ct.nodeType==1&&ut!=0;){let ht=ut<0?ct.lastChild:ct.childNodes[ut-1];if(!ht)break;if(ht.nodeType==3){let ft=Ye.domSelection();ft&&ft.collapse(ht,ht.nodeValue.length);break}else ct=ht,ut=-1}}Ye.input.composing=!0}scheduleComposeEnd(Ye,timeoutComposition)};editHandlers.compositionend=(Ye,rt)=>{Ye.composing&&(Ye.input.composing=!1,Ye.input.compositionEndedAt=rt.timeStamp,Ye.input.compositionPendingChanges=Ye.domObserver.pendingRecords().length?Ye.input.compositionID:0,Ye.input.compositionNode=null,Ye.input.compositionPendingChanges&&Promise.resolve().then(()=>Ye.domObserver.flush()),Ye.input.compositionID++,scheduleComposeEnd(Ye,20))};function scheduleComposeEnd(Ye,rt){clearTimeout(Ye.input.composingTimeout),rt>-1&&(Ye.input.composingTimeout=setTimeout(()=>endComposition(Ye),rt))}function clearComposition(Ye){for(Ye.composing&&(Ye.input.composing=!1,Ye.input.compositionEndedAt=timestampFromCustomEvent());Ye.input.compositionNodes.length>0;)Ye.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(Ye){let rt=Ye.domSelectionRange();if(!rt.focusNode)return null;let it=textNodeBefore$1(rt.focusNode,rt.focusOffset),lt=textNodeAfter$1(rt.focusNode,rt.focusOffset);if(it&&lt&&it!=lt){let ct=lt.pmViewDesc,ut=Ye.domObserver.lastChangedTextNode;if(it==ut||lt==ut)return ut;if(!ct||!ct.isText(lt.nodeValue))return lt;if(Ye.input.compositionNode==lt){let ht=it.pmViewDesc;if(!(!ht||!ht.isText(it.nodeValue)))return lt}}return it||lt}function timestampFromCustomEvent(){let Ye=document.createEvent("Event");return Ye.initEvent("event",!0,!0),Ye.timeStamp}function endComposition(Ye,rt=!1){if(!(android&&Ye.domObserver.flushingSoon>=0)){if(Ye.domObserver.forceFlush(),clearComposition(Ye),rt||Ye.docView&&Ye.docView.dirty){let it=selectionFromDOM(Ye),lt=Ye.state.selection;return it&&!it.eq(lt)?Ye.dispatch(Ye.state.tr.setSelection(it)):(Ye.markCursor||rt)&&!lt.$from.node(lt.$from.sharedDepth(lt.to)).inlineContent?Ye.dispatch(Ye.state.tr.deleteSelection()):Ye.updateState(Ye.state),!0}return!1}}function captureCopy(Ye,rt){if(!Ye.dom.parentNode)return;let it=Ye.dom.parentNode.appendChild(document.createElement("div"));it.appendChild(rt),it.style.cssText="position: fixed; left: -10000px; top: 10px";let lt=getSelection(),ct=document.createRange();ct.selectNodeContents(rt),Ye.dom.blur(),lt.removeAllRanges(),lt.addRange(ct),setTimeout(()=>{it.parentNode&&it.parentNode.removeChild(it),Ye.focus()},50)}const brokenClipboardAPI=ie$1&&ie_version<15||ios&&webkit_version<604;handlers$1.copy=editHandlers.cut=(Ye,rt)=>{let it=rt,lt=Ye.state.selection,ct=it.type=="cut";if(lt.empty)return;let ut=brokenClipboardAPI?null:it.clipboardData,ht=lt.content(),{dom:ft,text:pt}=serializeForClipboard(Ye,ht);ut?(it.preventDefault(),ut.clearData(),ut.setData("text/html",ft.innerHTML),ut.setData("text/plain",pt)):captureCopy(Ye,ft),ct&&Ye.dispatch(Ye.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(Ye){return Ye.openStart==0&&Ye.openEnd==0&&Ye.content.childCount==1?Ye.content.firstChild:null}function capturePaste(Ye,rt){if(!Ye.dom.parentNode)return;let it=Ye.input.shiftKey||Ye.state.selection.$from.parent.type.spec.code,lt=Ye.dom.parentNode.appendChild(document.createElement(it?"textarea":"div"));it||(lt.contentEditable="true"),lt.style.cssText="position: fixed; left: -10000px; top: 10px",lt.focus();let ct=Ye.input.shiftKey&&Ye.input.lastKeyCode!=45;setTimeout(()=>{Ye.focus(),lt.parentNode&&lt.parentNode.removeChild(lt),it?doPaste(Ye,lt.value,null,ct,rt):doPaste(Ye,lt.textContent,lt.innerHTML,ct,rt)},50)}function doPaste(Ye,rt,it,lt,ct){let ut=parseFromClipboard(Ye,rt,it,lt,Ye.state.selection.$from);if(Ye.someProp("handlePaste",pt=>pt(Ye,ct,ut||Slice.empty)))return!0;if(!ut)return!1;let ht=sliceSingleNode(ut),ft=ht?Ye.state.tr.replaceSelectionWith(ht,lt):Ye.state.tr.replaceSelection(ut);return Ye.dispatch(ft.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText(Ye){let rt=Ye.getData("text/plain")||Ye.getData("Text");if(rt)return rt;let it=Ye.getData("text/uri-list");return it?it.replace(/\r?\n/g," "):""}editHandlers.paste=(Ye,rt)=>{let it=rt;if(Ye.composing&&!android)return;let lt=brokenClipboardAPI?null:it.clipboardData,ct=Ye.input.shiftKey&&Ye.input.lastKeyCode!=45;lt&&doPaste(Ye,getText(lt),lt.getData("text/html"),ct,it)?it.preventDefault():capturePaste(Ye,it)};class Dragging{constructor(rt,it,lt){this.slice=rt,this.move=it,this.node=lt}}const dragCopyModifier=mac?"altKey":"ctrlKey";function dragMoves(Ye,rt){let it=Ye.someProp("dragCopies",lt=>!lt(rt));return it??!rt[dragCopyModifier]}handlers$1.dragstart=(Ye,rt)=>{let it=rt,lt=Ye.input.mouseDown;if(lt&&lt.done(),!it.dataTransfer)return;let ct=Ye.state.selection,ut=ct.empty?null:Ye.posAtCoords(eventCoords(it)),ht;if(!(ut&&ut.pos>=ct.from&&ut.pos<=(ct instanceof NodeSelection?ct.to-1:ct.to))){if(lt&&lt.mightDrag)ht=NodeSelection.create(Ye.state.doc,lt.mightDrag.pos);else if(it.target&&it.target.nodeType==1){let yt=Ye.docView.nearestDesc(it.target,!0);yt&&yt.node.type.spec.draggable&&yt!=Ye.docView&&(ht=NodeSelection.create(Ye.state.doc,yt.posBefore))}}let ft=(ht||Ye.state.selection).content(),{dom:pt,text:mt,slice:gt}=serializeForClipboard(Ye,ft);(!it.dataTransfer.files.length||!chrome||chrome_version>120)&&it.dataTransfer.clearData(),it.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",pt.innerHTML),it.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||it.dataTransfer.setData("text/plain",mt),Ye.dragging=new Dragging(gt,dragMoves(Ye,it),ht)};handlers$1.dragend=Ye=>{let rt=Ye.dragging;window.setTimeout(()=>{Ye.dragging==rt&&(Ye.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(Ye,rt)=>rt.preventDefault();editHandlers.drop=(Ye,rt)=>{let it=rt,lt=Ye.dragging;if(Ye.dragging=null,!it.dataTransfer)return;let ct=Ye.posAtCoords(eventCoords(it));if(!ct)return;let ut=Ye.state.doc.resolve(ct.pos),ht=lt&&lt.slice;ht?Ye.someProp("transformPasted",_t=>{ht=_t(ht,Ye,!1)}):ht=parseFromClipboard(Ye,getText(it.dataTransfer),brokenClipboardAPI?null:it.dataTransfer.getData("text/html"),!1,ut);let ft=!!(lt&&dragMoves(Ye,it));if(Ye.someProp("handleDrop",_t=>_t(Ye,it,ht||Slice.empty,ft))){it.preventDefault();return}if(!ht)return;it.preventDefault();let pt=ht?dropPoint(Ye.state.doc,ut.pos,ht):ut.pos;pt==null&&(pt=ut.pos);let mt=Ye.state.tr;if(ft){let{node:_t}=lt;_t?_t.replace(mt):mt.deleteSelection()}let gt=mt.mapping.map(pt),yt=ht.openStart==0&&ht.openEnd==0&&ht.content.childCount==1,xt=mt.doc;if(yt?mt.replaceRangeWith(gt,gt,ht.content.firstChild):mt.replaceRange(gt,gt,ht),mt.doc.eq(xt))return;let bt=mt.doc.resolve(gt);if(yt&&NodeSelection.isSelectable(ht.content.firstChild)&&bt.nodeAfter&&bt.nodeAfter.sameMarkup(ht.content.firstChild))mt.setSelection(new NodeSelection(bt));else{let _t=mt.mapping.map(pt);mt.mapping.maps[mt.mapping.maps.length-1].forEach((Ct,kt,St,Rt)=>_t=Rt),mt.setSelection(selectionBetween(Ye,bt,mt.doc.resolve(_t)))}Ye.focus(),Ye.dispatch(mt.setMeta("uiEvent","drop"))};handlers$1.focus=Ye=>{Ye.input.lastFocus=Date.now(),Ye.focused||(Ye.domObserver.stop(),Ye.dom.classList.add("ProseMirror-focused"),Ye.domObserver.start(),Ye.focused=!0,setTimeout(()=>{Ye.docView&&Ye.hasFocus()&&!Ye.domObserver.currentSelection.eq(Ye.domSelectionRange())&&selectionToDOM(Ye)},20))};handlers$1.blur=(Ye,rt)=>{let it=rt;Ye.focused&&(Ye.domObserver.stop(),Ye.dom.classList.remove("ProseMirror-focused"),Ye.domObserver.start(),it.relatedTarget&&Ye.dom.contains(it.relatedTarget)&&Ye.domObserver.currentSelection.clear(),Ye.focused=!1)};handlers$1.beforeinput=(Ye,rt)=>{if(chrome&&android&&rt.inputType=="deleteContentBackward"){Ye.domObserver.flushSoon();let{domChangeCount:lt}=Ye.input;setTimeout(()=>{if(Ye.input.domChangeCount!=lt||(Ye.dom.blur(),Ye.focus(),Ye.someProp("handleKeyDown",ut=>ut(Ye,keyEvent(8,"Backspace")))))return;let{$cursor:ct}=Ye.state.selection;ct&&ct.pos>0&&Ye.dispatch(Ye.state.tr.delete(ct.pos-1,ct.pos).scrollIntoView())},50)}};for(let Ye in editHandlers)handlers$1[Ye]=editHandlers[Ye];function compareObjs(Ye,rt){if(Ye==rt)return!0;for(let it in Ye)if(Ye[it]!==rt[it])return!1;for(let it in rt)if(!(it in Ye))return!1;return!0}class WidgetType{constructor(rt,it){this.toDOM=rt,this.spec=it||noSpec,this.side=this.spec.side||0}map(rt,it,lt,ct){let{pos:ut,deleted:ht}=rt.mapResult(it.from+ct,this.side<0?-1:1);return ht?null:new Decoration(ut-lt,ut-lt,this)}valid(){return!0}eq(rt){return this==rt||rt instanceof WidgetType&&(this.spec.key&&this.spec.key==rt.spec.key||this.toDOM==rt.toDOM&&compareObjs(this.spec,rt.spec))}destroy(rt){this.spec.destroy&&this.spec.destroy(rt)}}class InlineType{constructor(rt,it){this.attrs=rt,this.spec=it||noSpec}map(rt,it,lt,ct){let ut=rt.map(it.from+ct,this.spec.inclusiveStart?-1:1)-lt,ht=rt.map(it.to+ct,this.spec.inclusiveEnd?1:-1)-lt;return ut>=ht?null:new Decoration(ut,ht,this)}valid(rt,it){return it.from<it.to}eq(rt){return this==rt||rt instanceof InlineType&&compareObjs(this.attrs,rt.attrs)&&compareObjs(this.spec,rt.spec)}static is(rt){return rt.type instanceof InlineType}destroy(){}}class NodeType{constructor(rt,it){this.attrs=rt,this.spec=it||noSpec}map(rt,it,lt,ct){let ut=rt.mapResult(it.from+ct,1);if(ut.deleted)return null;let ht=rt.mapResult(it.to+ct,-1);return ht.deleted||ht.pos<=ut.pos?null:new Decoration(ut.pos-lt,ht.pos-lt,this)}valid(rt,it){let{index:lt,offset:ct}=rt.content.findIndex(it.from),ut;return ct==it.from&&!(ut=rt.child(lt)).isText&&ct+ut.nodeSize==it.to}eq(rt){return this==rt||rt instanceof NodeType&&compareObjs(this.attrs,rt.attrs)&&compareObjs(this.spec,rt.spec)}destroy(){}}class Decoration{constructor(rt,it,lt){this.from=rt,this.to=it,this.type=lt}copy(rt,it){return new Decoration(rt,it,this.type)}eq(rt,it=0){return this.type.eq(rt.type)&&this.from+it==rt.from&&this.to+it==rt.to}map(rt,it,lt){return this.type.map(rt,this,it,lt)}static widget(rt,it,lt){return new Decoration(rt,rt,new WidgetType(it,lt))}static inline(rt,it,lt,ct){return new Decoration(rt,it,new InlineType(lt,ct))}static node(rt,it,lt,ct){return new Decoration(rt,it,new NodeType(lt,ct))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none$1=[],noSpec={};class DecorationSet{constructor(rt,it){this.local=rt.length?rt:none$1,this.children=it.length?it:none$1}static create(rt,it){return it.length?buildTree(it,rt,0,noSpec):empty$2}find(rt,it,lt){let ct=[];return this.findInner(rt??0,it??1e9,ct,0,lt),ct}findInner(rt,it,lt,ct,ut){for(let ht=0;ht<this.local.length;ht++){let ft=this.local[ht];ft.from<=it&&ft.to>=rt&&(!ut||ut(ft.spec))&&lt.push(ft.copy(ft.from+ct,ft.to+ct))}for(let ht=0;ht<this.children.length;ht+=3)if(this.children[ht]<it&&this.children[ht+1]>rt){let ft=this.children[ht]+1;this.children[ht+2].findInner(rt-ft,it-ft,lt,ct+ft,ut)}}map(rt,it,lt){return this==empty$2||rt.maps.length==0?this:this.mapInner(rt,it,0,0,lt||noSpec)}mapInner(rt,it,lt,ct,ut){let ht;for(let ft=0;ft<this.local.length;ft++){let pt=this.local[ft].map(rt,lt,ct);pt&&pt.type.valid(it,pt)?(ht||(ht=[])).push(pt):ut.onRemove&&ut.onRemove(this.local[ft].spec)}return this.children.length?mapChildren(this.children,ht||[],rt,it,lt,ct,ut):ht?new DecorationSet(ht.sort(byPos),none$1):empty$2}add(rt,it){return it.length?this==empty$2?DecorationSet.create(rt,it):this.addInner(rt,it,0):this}addInner(rt,it,lt){let ct,ut=0;rt.forEach((ft,pt)=>{let mt=pt+lt,gt;if(gt=takeSpansForNode(it,ft,mt)){for(ct||(ct=this.children.slice());ut<ct.length&&ct[ut]<pt;)ut+=3;ct[ut]==pt?ct[ut+2]=ct[ut+2].addInner(ft,gt,mt+1):ct.splice(ut,0,pt,pt+ft.nodeSize,buildTree(gt,ft,mt+1,noSpec)),ut+=3}});let ht=moveSpans(ut?withoutNulls(it):it,-lt);for(let ft=0;ft<ht.length;ft++)ht[ft].type.valid(rt,ht[ft])||ht.splice(ft--,1);return new DecorationSet(ht.length?this.local.concat(ht).sort(byPos):this.local,ct||this.children)}remove(rt){return rt.length==0||this==empty$2?this:this.removeInner(rt,0)}removeInner(rt,it){let lt=this.children,ct=this.local;for(let ut=0;ut<lt.length;ut+=3){let ht,ft=lt[ut]+it,pt=lt[ut+1]+it;for(let gt=0,yt;gt<rt.length;gt++)(yt=rt[gt])&&yt.from>ft&&yt.to<pt&&(rt[gt]=null,(ht||(ht=[])).push(yt));if(!ht)continue;lt==this.children&&(lt=this.children.slice());let mt=lt[ut+2].removeInner(ht,ft+1);mt!=empty$2?lt[ut+2]=mt:(lt.splice(ut,3),ut-=3)}if(ct.length){for(let ut=0,ht;ut<rt.length;ut++)if(ht=rt[ut])for(let ft=0;ft<ct.length;ft++)ct[ft].eq(ht,it)&&(ct==this.local&&(ct=this.local.slice()),ct.splice(ft--,1))}return lt==this.children&&ct==this.local?this:ct.length||lt.length?new DecorationSet(ct,lt):empty$2}forChild(rt,it){if(this==empty$2)return this;if(it.isLeaf)return DecorationSet.empty;let lt,ct;for(let ft=0;ft<this.children.length;ft+=3)if(this.children[ft]>=rt){this.children[ft]==rt&&(lt=this.children[ft+2]);break}let ut=rt+1,ht=ut+it.content.size;for(let ft=0;ft<this.local.length;ft++){let pt=this.local[ft];if(pt.from<ht&&pt.to>ut&&pt.type instanceof InlineType){let mt=Math.max(ut,pt.from)-ut,gt=Math.min(ht,pt.to)-ut;mt<gt&&(ct||(ct=[])).push(pt.copy(mt,gt))}}if(ct){let ft=new DecorationSet(ct.sort(byPos),none$1);return lt?new DecorationGroup([ft,lt]):ft}return lt||empty$2}eq(rt){if(this==rt)return!0;if(!(rt instanceof DecorationSet)||this.local.length!=rt.local.length||this.children.length!=rt.children.length)return!1;for(let it=0;it<this.local.length;it++)if(!this.local[it].eq(rt.local[it]))return!1;for(let it=0;it<this.children.length;it+=3)if(this.children[it]!=rt.children[it]||this.children[it+1]!=rt.children[it+1]||!this.children[it+2].eq(rt.children[it+2]))return!1;return!0}locals(rt){return removeOverlap(this.localsInner(rt))}localsInner(rt){if(this==empty$2)return none$1;if(rt.inlineContent||!this.local.some(InlineType.is))return this.local;let it=[];for(let lt=0;lt<this.local.length;lt++)this.local[lt].type instanceof InlineType||it.push(this.local[lt]);return it}forEachSet(rt){rt(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty$2=DecorationSet.empty;class DecorationGroup{constructor(rt){this.members=rt}map(rt,it){const lt=this.members.map(ct=>ct.map(rt,it,noSpec));return DecorationGroup.from(lt)}forChild(rt,it){if(it.isLeaf)return DecorationSet.empty;let lt=[];for(let ct=0;ct<this.members.length;ct++){let ut=this.members[ct].forChild(rt,it);ut!=empty$2&&(ut instanceof DecorationGroup?lt=lt.concat(ut.members):lt.push(ut))}return DecorationGroup.from(lt)}eq(rt){if(!(rt instanceof DecorationGroup)||rt.members.length!=this.members.length)return!1;for(let it=0;it<this.members.length;it++)if(!this.members[it].eq(rt.members[it]))return!1;return!0}locals(rt){let it,lt=!0;for(let ct=0;ct<this.members.length;ct++){let ut=this.members[ct].localsInner(rt);if(ut.length)if(!it)it=ut;else{lt&&(it=it.slice(),lt=!1);for(let ht=0;ht<ut.length;ht++)it.push(ut[ht])}}return it?removeOverlap(lt?it:it.sort(byPos)):none$1}static from(rt){switch(rt.length){case 0:return empty$2;case 1:return rt[0];default:return new DecorationGroup(rt.every(it=>it instanceof DecorationSet)?rt:rt.reduce((it,lt)=>it.concat(lt instanceof DecorationSet?lt:lt.members),[]))}}forEachSet(rt){for(let it=0;it<this.members.length;it++)this.members[it].forEachSet(rt)}}function mapChildren(Ye,rt,it,lt,ct,ut,ht){let ft=Ye.slice();for(let mt=0,gt=ut;mt<it.maps.length;mt++){let yt=0;it.maps[mt].forEach((xt,bt,_t,Ct)=>{let kt=Ct-_t-(bt-xt);for(let St=0;St<ft.length;St+=3){let Rt=ft[St+1];if(Rt<0||xt>Rt+gt-yt)continue;let Tt=ft[St]+gt-yt;bt>=Tt?ft[St+1]=xt<=Tt?-2:-1:xt>=gt&&kt&&(ft[St]+=kt,ft[St+1]+=kt)}yt+=kt}),gt=it.maps[mt].map(gt,-1)}let pt=!1;for(let mt=0;mt<ft.length;mt+=3)if(ft[mt+1]<0){if(ft[mt+1]==-2){pt=!0,ft[mt+1]=-1;continue}let gt=it.map(Ye[mt]+ut),yt=gt-ct;if(yt<0||yt>=lt.content.size){pt=!0;continue}let xt=it.map(Ye[mt+1]+ut,-1),bt=xt-ct,{index:_t,offset:Ct}=lt.content.findIndex(yt),kt=lt.maybeChild(_t);if(kt&&Ct==yt&&Ct+kt.nodeSize==bt){let St=ft[mt+2].mapInner(it,kt,gt+1,Ye[mt]+ut+1,ht);St!=empty$2?(ft[mt]=yt,ft[mt+1]=bt,ft[mt+2]=St):(ft[mt+1]=-2,pt=!0)}else pt=!0}if(pt){let mt=mapAndGatherRemainingDecorations(ft,Ye,rt,it,ct,ut,ht),gt=buildTree(mt,lt,0,ht);rt=gt.local;for(let yt=0;yt<ft.length;yt+=3)ft[yt+1]<0&&(ft.splice(yt,3),yt-=3);for(let yt=0,xt=0;yt<gt.children.length;yt+=3){let bt=gt.children[yt];for(;xt<ft.length&&ft[xt]<bt;)xt+=3;ft.splice(xt,0,gt.children[yt],gt.children[yt+1],gt.children[yt+2])}}return new DecorationSet(rt.sort(byPos),ft)}function moveSpans(Ye,rt){if(!rt||!Ye.length)return Ye;let it=[];for(let lt=0;lt<Ye.length;lt++){let ct=Ye[lt];it.push(new Decoration(ct.from+rt,ct.to+rt,ct.type))}return it}function mapAndGatherRemainingDecorations(Ye,rt,it,lt,ct,ut,ht){function ft(pt,mt){for(let gt=0;gt<pt.local.length;gt++){let yt=pt.local[gt].map(lt,ct,mt);yt?it.push(yt):ht.onRemove&&ht.onRemove(pt.local[gt].spec)}for(let gt=0;gt<pt.children.length;gt+=3)ft(pt.children[gt+2],pt.children[gt]+mt+1)}for(let pt=0;pt<Ye.length;pt+=3)Ye[pt+1]==-1&&ft(Ye[pt+2],rt[pt]+ut+1);return it}function takeSpansForNode(Ye,rt,it){if(rt.isLeaf)return null;let lt=it+rt.nodeSize,ct=null;for(let ut=0,ht;ut<Ye.length;ut++)(ht=Ye[ut])&&ht.from>it&&ht.to<lt&&((ct||(ct=[])).push(ht),Ye[ut]=null);return ct}function withoutNulls(Ye){let rt=[];for(let it=0;it<Ye.length;it++)Ye[it]!=null&&rt.push(Ye[it]);return rt}function buildTree(Ye,rt,it,lt){let ct=[],ut=!1;rt.forEach((ft,pt)=>{let mt=takeSpansForNode(Ye,ft,pt+it);if(mt){ut=!0;let gt=buildTree(mt,ft,it+pt+1,lt);gt!=empty$2&&ct.push(pt,pt+ft.nodeSize,gt)}});let ht=moveSpans(ut?withoutNulls(Ye):Ye,-it).sort(byPos);for(let ft=0;ft<ht.length;ft++)ht[ft].type.valid(rt,ht[ft])||(lt.onRemove&&lt.onRemove(ht[ft].spec),ht.splice(ft--,1));return ht.length||ct.length?new DecorationSet(ht,ct):empty$2}function byPos(Ye,rt){return Ye.from-rt.from||Ye.to-rt.to}function removeOverlap(Ye){let rt=Ye;for(let it=0;it<rt.length-1;it++){let lt=rt[it];if(lt.from!=lt.to)for(let ct=it+1;ct<rt.length;ct++){let ut=rt[ct];if(ut.from==lt.from){ut.to!=lt.to&&(rt==Ye&&(rt=Ye.slice()),rt[ct]=ut.copy(ut.from,lt.to),insertAhead(rt,ct+1,ut.copy(lt.to,ut.to)));continue}else{ut.from<lt.to&&(rt==Ye&&(rt=Ye.slice()),rt[it]=lt.copy(lt.from,ut.from),insertAhead(rt,ct,lt.copy(ut.from,lt.to)));break}}}return rt}function insertAhead(Ye,rt,it){for(;rt<Ye.length&&byPos(it,Ye[rt])>0;)rt++;Ye.splice(rt,0,it)}function viewDecorations(Ye){let rt=[];return Ye.someProp("decorations",it=>{let lt=it(Ye.state);lt&&lt!=empty$2&&rt.push(lt)}),Ye.cursorWrapper&&rt.push(DecorationSet.create(Ye.state.doc,[Ye.cursorWrapper.deco])),DecorationGroup.from(rt)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$1&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(rt){this.anchorNode=rt.anchorNode,this.anchorOffset=rt.anchorOffset,this.focusNode=rt.focusNode,this.focusOffset=rt.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(rt){return rt.anchorNode==this.anchorNode&&rt.anchorOffset==this.anchorOffset&&rt.focusNode==this.focusNode&&rt.focusOffset==this.focusOffset}}class DOMObserver{constructor(rt,it){this.view=rt,this.handleDOMChange=it,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(lt=>{for(let ct=0;ct<lt.length;ct++)this.queue.push(lt[ct]);ie$1&&ie_version<=11&&lt.some(ct=>ct.type=="childList"&&ct.removedNodes.length||ct.type=="characterData"&&ct.oldValue.length>ct.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=lt=>{this.queue.push({target:lt.target,type:"characterData",oldValue:lt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let rt=this.observer.takeRecords();if(rt.length){for(let it=0;it<rt.length;it++)this.queue.push(rt[it]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$1&&ie_version<=11&&!this.view.state.selection.empty){let rt=this.view.domSelectionRange();if(rt.focusNode&&isEquivalentPosition(rt.focusNode,rt.focusOffset,rt.anchorNode,rt.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(rt){if(!rt.focusNode)return!0;let it=new Set,lt;for(let ut=rt.focusNode;ut;ut=parentNode(ut))it.add(ut);for(let ut=rt.anchorNode;ut;ut=parentNode(ut))if(it.has(ut)){lt=ut;break}let ct=lt&&this.view.docView.nearestDesc(lt);if(ct&&ct.ignoreMutation({type:"selection",target:lt.nodeType==3?lt.parentNode:lt}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let rt of this.observer.takeRecords())this.queue.push(rt);return this.queue}flush(){let{view:rt}=this;if(!rt.docView||this.flushingSoon>-1)return;let it=this.pendingRecords();it.length&&(this.queue=[]);let lt=rt.domSelectionRange(),ct=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(lt)&&hasFocusAndSelection(rt)&&!this.ignoreSelectionChange(lt),ut=-1,ht=-1,ft=!1,pt=[];if(rt.editable)for(let gt=0;gt<it.length;gt++){let yt=this.registerMutation(it[gt],pt);yt&&(ut=ut<0?yt.from:Math.min(yt.from,ut),ht=ht<0?yt.to:Math.max(yt.to,ht),yt.typeOver&&(ft=!0))}if(gecko&&pt.length){let gt=pt.filter(yt=>yt.nodeName=="BR");if(gt.length==2){let[yt,xt]=gt;yt.parentNode&&yt.parentNode.parentNode==xt.parentNode?xt.remove():yt.remove()}else{let{focusNode:yt}=this.currentSelection;for(let xt of gt){let bt=xt.parentNode;bt&&bt.nodeName=="LI"&&(!yt||blockParent(rt,yt)!=bt)&&xt.remove()}}}let mt=null;ut<0&&ct&&rt.input.lastFocus>Date.now()-200&&Math.max(rt.input.lastTouch,rt.input.lastClick.time)<Date.now()-300&&selectionCollapsed(lt)&&(mt=selectionFromDOM(rt))&&mt.eq(Selection$2.near(rt.state.doc.resolve(0),1))?(rt.input.lastFocus=0,selectionToDOM(rt),this.currentSelection.set(lt),rt.scrollToSelection()):(ut>-1||ct)&&(ut>-1&&(rt.docView.markDirty(ut,ht),checkCSS(rt)),this.handleDOMChange(ut,ht,ft,pt),rt.docView&&rt.docView.dirty?rt.updateState(rt.state):this.currentSelection.eq(lt)||selectionToDOM(rt),this.currentSelection.set(lt))}registerMutation(rt,it){if(it.indexOf(rt.target)>-1)return null;let lt=this.view.docView.nearestDesc(rt.target);if(rt.type=="attributes"&&(lt==this.view.docView||rt.attributeName=="contenteditable"||rt.attributeName=="style"&&!rt.oldValue&&!rt.target.getAttribute("style"))||!lt||lt.ignoreMutation(rt))return null;if(rt.type=="childList"){for(let gt=0;gt<rt.addedNodes.length;gt++){let yt=rt.addedNodes[gt];it.push(yt),yt.nodeType==3&&(this.lastChangedTextNode=yt)}if(lt.contentDOM&&lt.contentDOM!=lt.dom&&!lt.contentDOM.contains(rt.target))return{from:lt.posBefore,to:lt.posAfter};let ct=rt.previousSibling,ut=rt.nextSibling;if(ie$1&&ie_version<=11&&rt.addedNodes.length)for(let gt=0;gt<rt.addedNodes.length;gt++){let{previousSibling:yt,nextSibling:xt}=rt.addedNodes[gt];(!yt||Array.prototype.indexOf.call(rt.addedNodes,yt)<0)&&(ct=yt),(!xt||Array.prototype.indexOf.call(rt.addedNodes,xt)<0)&&(ut=xt)}let ht=ct&&ct.parentNode==rt.target?domIndex(ct)+1:0,ft=lt.localPosFromDOM(rt.target,ht,-1),pt=ut&&ut.parentNode==rt.target?domIndex(ut):rt.target.childNodes.length,mt=lt.localPosFromDOM(rt.target,pt,1);return{from:ft,to:mt}}else return rt.type=="attributes"?{from:lt.posAtStart-lt.border,to:lt.posAtEnd+lt.border}:(this.lastChangedTextNode=rt.target,{from:lt.posAtStart,to:lt.posAtEnd,typeOver:rt.target.nodeValue==rt.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(Ye){if(!cssChecked.has(Ye)&&(cssChecked.set(Ye,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(Ye.dom).whiteSpace)!==-1)){if(Ye.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(Ye,rt){let it=rt.startContainer,lt=rt.startOffset,ct=rt.endContainer,ut=rt.endOffset,ht=Ye.domAtPos(Ye.state.selection.anchor);return isEquivalentPosition(ht.node,ht.offset,ct,ut)&&([it,lt,ct,ut]=[ct,ut,it,lt]),{anchorNode:it,anchorOffset:lt,focusNode:ct,focusOffset:ut}}function safariShadowSelectionRange(Ye,rt){if(rt.getComposedRanges){let ct=rt.getComposedRanges(Ye.root)[0];if(ct)return rangeToSelectionRange(Ye,ct)}let it;function lt(ct){ct.preventDefault(),ct.stopImmediatePropagation(),it=ct.getTargetRanges()[0]}return Ye.dom.addEventListener("beforeinput",lt,!0),document.execCommand("indent"),Ye.dom.removeEventListener("beforeinput",lt,!0),it?rangeToSelectionRange(Ye,it):null}function blockParent(Ye,rt){for(let it=rt.parentNode;it&&it!=Ye.dom;it=it.parentNode){let lt=Ye.docView.nearestDesc(it,!0);if(lt&&lt.node.isBlock)return it}return null}function parseBetween(Ye,rt,it){let{node:lt,fromOffset:ct,toOffset:ut,from:ht,to:ft}=Ye.docView.parseRange(rt,it),pt=Ye.domSelectionRange(),mt,gt=pt.anchorNode;if(gt&&Ye.dom.contains(gt.nodeType==1?gt:gt.parentNode)&&(mt=[{node:gt,offset:pt.anchorOffset}],selectionCollapsed(pt)||mt.push({node:pt.focusNode,offset:pt.focusOffset})),chrome&&Ye.input.lastKeyCode===8)for(let kt=ut;kt>ct;kt--){let St=lt.childNodes[kt-1],Rt=St.pmViewDesc;if(St.nodeName=="BR"&&!Rt){ut=kt;break}if(!Rt||Rt.size)break}let yt=Ye.state.doc,xt=Ye.someProp("domParser")||DOMParser.fromSchema(Ye.state.schema),bt=yt.resolve(ht),_t=null,Ct=xt.parse(lt,{topNode:bt.parent,topMatch:bt.parent.contentMatchAt(bt.index()),topOpen:!0,from:ct,to:ut,preserveWhitespace:bt.parent.type.whitespace=="pre"?"full":!0,findPositions:mt,ruleFromNode,context:bt});if(mt&&mt[0].pos!=null){let kt=mt[0].pos,St=mt[1]&&mt[1].pos;St==null&&(St=kt),_t={anchor:kt+ht,head:St+ht}}return{doc:Ct,sel:_t,from:ht,to:ft}}function ruleFromNode(Ye){let rt=Ye.pmViewDesc;if(rt)return rt.parseRule();if(Ye.nodeName=="BR"&&Ye.parentNode){if(safari&&/^(ul|ol)$/i.test(Ye.parentNode.nodeName)){let it=document.createElement("div");return it.appendChild(document.createElement("li")),{skip:it}}else if(Ye.parentNode.lastChild==Ye||safari&&/^(tr|table)$/i.test(Ye.parentNode.nodeName))return{ignore:!0}}else if(Ye.nodeName=="IMG"&&Ye.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(Ye,rt,it,lt,ct){let ut=Ye.input.compositionPendingChanges||(Ye.composing?Ye.input.compositionID:0);if(Ye.input.compositionPendingChanges=0,rt<0){let Lt=Ye.input.lastSelectionTime>Date.now()-50?Ye.input.lastSelectionOrigin:null,Ot=selectionFromDOM(Ye,Lt);if(Ot&&!Ye.state.selection.eq(Ot)){if(chrome&&android&&Ye.input.lastKeyCode===13&&Date.now()-100<Ye.input.lastKeyCodeTime&&Ye.someProp("handleKeyDown",Ut=>Ut(Ye,keyEvent(13,"Enter"))))return;let Ft=Ye.state.tr.setSelection(Ot);Lt=="pointer"?Ft.setMeta("pointer",!0):Lt=="key"&&Ft.scrollIntoView(),ut&&Ft.setMeta("composition",ut),Ye.dispatch(Ft)}return}let ht=Ye.state.doc.resolve(rt),ft=ht.sharedDepth(it);rt=ht.before(ft+1),it=Ye.state.doc.resolve(it).after(ft+1);let pt=Ye.state.selection,mt=parseBetween(Ye,rt,it),gt=Ye.state.doc,yt=gt.slice(mt.from,mt.to),xt,bt;Ye.input.lastKeyCode===8&&Date.now()-100<Ye.input.lastKeyCodeTime?(xt=Ye.state.selection.to,bt="end"):(xt=Ye.state.selection.from,bt="start"),Ye.input.lastKeyCode=null;let _t=findDiff(yt.content,mt.doc.content,mt.from,xt,bt);if(_t&&Ye.input.domChangeCount++,(ios&&Ye.input.lastIOSEnter>Date.now()-225||android)&&ct.some(Lt=>Lt.nodeType==1&&!isInline.test(Lt.nodeName))&&(!_t||_t.endA>=_t.endB)&&Ye.someProp("handleKeyDown",Lt=>Lt(Ye,keyEvent(13,"Enter")))){Ye.input.lastIOSEnter=0;return}if(!_t)if(lt&&pt instanceof TextSelection&&!pt.empty&&pt.$head.sameParent(pt.$anchor)&&!Ye.composing&&!(mt.sel&&mt.sel.anchor!=mt.sel.head))_t={start:pt.from,endA:pt.to,endB:pt.to};else{if(mt.sel){let Lt=resolveSelection(Ye,Ye.state.doc,mt.sel);if(Lt&&!Lt.eq(Ye.state.selection)){let Ot=Ye.state.tr.setSelection(Lt);ut&&Ot.setMeta("composition",ut),Ye.dispatch(Ot)}}return}Ye.state.selection.from<Ye.state.selection.to&&_t.start==_t.endB&&Ye.state.selection instanceof TextSelection&&(_t.start>Ye.state.selection.from&&_t.start<=Ye.state.selection.from+2&&Ye.state.selection.from>=mt.from?_t.start=Ye.state.selection.from:_t.endA<Ye.state.selection.to&&_t.endA>=Ye.state.selection.to-2&&Ye.state.selection.to<=mt.to&&(_t.endB+=Ye.state.selection.to-_t.endA,_t.endA=Ye.state.selection.to)),ie$1&&ie_version<=11&&_t.endB==_t.start+1&&_t.endA==_t.start&&_t.start>mt.from&&mt.doc.textBetween(_t.start-mt.from-1,_t.start-mt.from+1)==" "&&(_t.start--,_t.endA--,_t.endB--);let Ct=mt.doc.resolveNoCache(_t.start-mt.from),kt=mt.doc.resolveNoCache(_t.endB-mt.from),St=gt.resolve(_t.start),Rt=Ct.sameParent(kt)&&Ct.parent.inlineContent&&St.end()>=_t.endA;if((ios&&Ye.input.lastIOSEnter>Date.now()-225&&(!Rt||ct.some(Lt=>Lt.nodeName=="DIV"||Lt.nodeName=="P"))||!Rt&&Ct.pos<mt.doc.content.size&&(!Ct.sameParent(kt)||!Ct.parent.inlineContent)&&Ct.pos<kt.pos&&!/\S/.test(mt.doc.textBetween(Ct.pos,kt.pos,"","")))&&Ye.someProp("handleKeyDown",Lt=>Lt(Ye,keyEvent(13,"Enter")))){Ye.input.lastIOSEnter=0;return}if(Ye.state.selection.anchor>_t.start&&looksLikeBackspace(gt,_t.start,_t.endA,Ct,kt)&&Ye.someProp("handleKeyDown",Lt=>Lt(Ye,keyEvent(8,"Backspace")))){android&&chrome&&Ye.domObserver.suppressSelectionUpdates();return}chrome&&_t.endB==_t.start&&(Ye.input.lastChromeDelete=Date.now()),android&&!Rt&&Ct.start()!=kt.start()&&kt.parentOffset==0&&Ct.depth==kt.depth&&mt.sel&&mt.sel.anchor==mt.sel.head&&mt.sel.head==_t.endA&&(_t.endB-=2,kt=mt.doc.resolveNoCache(_t.endB-mt.from),setTimeout(()=>{Ye.someProp("handleKeyDown",function(Lt){return Lt(Ye,keyEvent(13,"Enter"))})},20));let Tt=_t.start,Mt=_t.endA,Pt=Lt=>{let Ot=Lt||Ye.state.tr.replace(Tt,Mt,mt.doc.slice(_t.start-mt.from,_t.endB-mt.from));if(mt.sel){let Ft=resolveSelection(Ye,Ot.doc,mt.sel);Ft&&!(chrome&&Ye.composing&&Ft.empty&&(_t.start!=_t.endB||Ye.input.lastChromeDelete<Date.now()-100)&&(Ft.head==Tt||Ft.head==Ot.mapping.map(Mt)-1)||ie$1&&Ft.empty&&Ft.head==Tt)&&Ot.setSelection(Ft)}return ut&&Ot.setMeta("composition",ut),Ot.scrollIntoView()},It;if(Rt)if(Ct.pos==kt.pos){ie$1&&ie_version<=11&&Ct.parentOffset==0&&(Ye.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(Ye),20));let Lt=Pt(Ye.state.tr.delete(Tt,Mt)),Ot=gt.resolve(_t.start).marksAcross(gt.resolve(_t.endA));Ot&&Lt.ensureMarks(Ot),Ye.dispatch(Lt)}else if(_t.endA==_t.endB&&(It=isMarkChange(Ct.parent.content.cut(Ct.parentOffset,kt.parentOffset),St.parent.content.cut(St.parentOffset,_t.endA-St.start())))){let Lt=Pt(Ye.state.tr);It.type=="add"?Lt.addMark(Tt,Mt,It.mark):Lt.removeMark(Tt,Mt,It.mark),Ye.dispatch(Lt)}else if(Ct.parent.child(Ct.index()).isText&&Ct.index()==kt.index()-(kt.textOffset?0:1)){let Lt=Ct.parent.textBetween(Ct.parentOffset,kt.parentOffset),Ot=()=>Pt(Ye.state.tr.insertText(Lt,Tt,Mt));Ye.someProp("handleTextInput",Ft=>Ft(Ye,Tt,Mt,Lt,Ot))||Ye.dispatch(Ot())}else Ye.dispatch(Pt());else Ye.dispatch(Pt())}function resolveSelection(Ye,rt,it){return Math.max(it.anchor,it.head)>rt.content.size?null:selectionBetween(Ye,rt.resolve(it.anchor),rt.resolve(it.head))}function isMarkChange(Ye,rt){let it=Ye.firstChild.marks,lt=rt.firstChild.marks,ct=it,ut=lt,ht,ft,pt;for(let gt=0;gt<lt.length;gt++)ct=lt[gt].removeFromSet(ct);for(let gt=0;gt<it.length;gt++)ut=it[gt].removeFromSet(ut);if(ct.length==1&&ut.length==0)ft=ct[0],ht="add",pt=gt=>gt.mark(ft.addToSet(gt.marks));else if(ct.length==0&&ut.length==1)ft=ut[0],ht="remove",pt=gt=>gt.mark(ft.removeFromSet(gt.marks));else return null;let mt=[];for(let gt=0;gt<rt.childCount;gt++)mt.push(pt(rt.child(gt)));if(Fragment.from(mt).eq(Ye))return{mark:ft,type:ht}}function looksLikeBackspace(Ye,rt,it,lt,ct){if(it-rt<=ct.pos-lt.pos||skipClosingAndOpening(lt,!0,!1)<ct.pos)return!1;let ut=Ye.resolve(rt);if(!lt.parent.isTextblock){let ft=ut.nodeAfter;return ft!=null&&it==rt+ft.nodeSize}if(ut.parentOffset<ut.parent.content.size||!ut.parent.isTextblock)return!1;let ht=Ye.resolve(skipClosingAndOpening(ut,!0,!0));return!ht.parent.isTextblock||ht.pos>it||skipClosingAndOpening(ht,!0,!1)<it?!1:lt.parent.content.cut(lt.parentOffset).eq(ht.parent.content)}function skipClosingAndOpening(Ye,rt,it){let lt=Ye.depth,ct=rt?Ye.end():Ye.pos;for(;lt>0&&(rt||Ye.indexAfter(lt)==Ye.node(lt).childCount);)lt--,ct++,rt=!1;if(it){let ut=Ye.node(lt).maybeChild(Ye.indexAfter(lt));for(;ut&&!ut.isLeaf;)ut=ut.firstChild,ct++}return ct}function findDiff(Ye,rt,it,lt,ct){let ut=Ye.findDiffStart(rt,it);if(ut==null)return null;let{a:ht,b:ft}=Ye.findDiffEnd(rt,it+Ye.size,it+rt.size);if(ct=="end"){let pt=Math.max(0,ut-Math.min(ht,ft));lt-=ht+pt-ut}if(ht<ut&&Ye.size<rt.size){let pt=lt<=ut&&lt>=ht?ut-lt:0;ut-=pt,ut&&ut<rt.size&&isSurrogatePair(rt.textBetween(ut-1,ut+1))&&(ut+=pt?1:-1),ft=ut+(ft-ht),ht=ut}else if(ft<ut){let pt=lt<=ut&&lt>=ft?ut-lt:0;ut-=pt,ut&&ut<Ye.size&&isSurrogatePair(Ye.textBetween(ut-1,ut+1))&&(ut+=pt?1:-1),ht=ut+(ht-ft),ft=ut}return{start:ut,endA:ht,endB:ft}}function isSurrogatePair(Ye){if(Ye.length!=2)return!1;let rt=Ye.charCodeAt(0),it=Ye.charCodeAt(1);return rt>=56320&&rt<=57343&&it>=55296&&it<=56319}class EditorView{constructor(rt,it){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=it,this.state=it.state,this.directPlugins=it.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=rt&&rt.mount||document.createElement("div"),rt&&(rt.appendChild?rt.appendChild(this.dom):typeof rt=="function"?rt(this.dom):rt.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(lt,ct,ut,ht)=>readDOMChange(this,lt,ct,ut,ht)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let rt=this._props;this._props={};for(let it in rt)this._props[it]=rt[it];this._props.state=this.state}return this._props}update(rt){rt.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let it=this._props;this._props=rt,rt.plugins&&(rt.plugins.forEach(checkStateComponent),this.directPlugins=rt.plugins),this.updateStateInner(rt.state,it)}setProps(rt){let it={};for(let lt in this._props)it[lt]=this._props[lt];it.state=this.state;for(let lt in rt)it[lt]=rt[lt];this.update(it)}updateState(rt){this.updateStateInner(rt,this._props)}updateStateInner(rt,it){var lt;let ct=this.state,ut=!1,ht=!1;rt.storedMarks&&this.composing&&(clearComposition(this),ht=!0),this.state=rt;let ft=ct.plugins!=rt.plugins||this._props.plugins!=it.plugins;if(ft||this._props.plugins!=it.plugins||this._props.nodeViews!=it.nodeViews){let bt=buildNodeViews(this);changedNodeViews(bt,this.nodeViews)&&(this.nodeViews=bt,ut=!0)}(ft||it.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let pt=viewDecorations(this),mt=computeDocDeco(this),gt=ct.plugins!=rt.plugins&&!ct.doc.eq(rt.doc)?"reset":rt.scrollToSelection>ct.scrollToSelection?"to selection":"preserve",yt=ut||!this.docView.matchesNode(rt.doc,mt,pt);(yt||!rt.selection.eq(ct.selection))&&(ht=!0);let xt=gt=="preserve"&&ht&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(ht){this.domObserver.stop();let bt=yt&&(ie$1||chrome)&&!this.composing&&!ct.selection.empty&&!rt.selection.empty&&selectionContextChanged(ct.selection,rt.selection);if(yt){let _t=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(ut||!this.docView.update(rt.doc,mt,pt,this))&&(this.docView.updateOuterDeco(mt),this.docView.destroy(),this.docView=docViewDesc(rt.doc,mt,pt,this.dom,this)),_t&&!this.trackWrites&&(bt=!0)}bt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,bt):(syncNodeSelection(this,rt.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(ct),!((lt=this.dragging)===null||lt===void 0)&&lt.node&&!ct.doc.eq(rt.doc)&&this.updateDraggedNode(this.dragging,ct),gt=="reset"?this.dom.scrollTop=0:gt=="to selection"?this.scrollToSelection():xt&&resetScrollPos(xt)}scrollToSelection(){let rt=this.domSelectionRange().focusNode;if(!(!rt||!this.dom.contains(rt.nodeType==1?rt:rt.parentNode))){if(!this.someProp("handleScrollToSelection",it=>it(this)))if(this.state.selection instanceof NodeSelection){let it=this.docView.domAfterPos(this.state.selection.from);it.nodeType==1&&scrollRectIntoView(this,it.getBoundingClientRect(),rt)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),rt)}}destroyPluginViews(){let rt;for(;rt=this.pluginViews.pop();)rt.destroy&&rt.destroy()}updatePluginViews(rt){if(!rt||rt.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let it=0;it<this.directPlugins.length;it++){let lt=this.directPlugins[it];lt.spec.view&&this.pluginViews.push(lt.spec.view(this))}for(let it=0;it<this.state.plugins.length;it++){let lt=this.state.plugins[it];lt.spec.view&&this.pluginViews.push(lt.spec.view(this))}}else for(let it=0;it<this.pluginViews.length;it++){let lt=this.pluginViews[it];lt.update&&lt.update(this,rt)}}updateDraggedNode(rt,it){let lt=rt.node,ct=-1;if(this.state.doc.nodeAt(lt.from)==lt.node)ct=lt.from;else{let ut=lt.from+(this.state.doc.content.size-it.doc.content.size);(ut>0&&this.state.doc.nodeAt(ut))==lt.node&&(ct=ut)}this.dragging=new Dragging(rt.slice,rt.move,ct<0?void 0:NodeSelection.create(this.state.doc,ct))}someProp(rt,it){let lt=this._props&&this._props[rt],ct;if(lt!=null&&(ct=it?it(lt):lt))return ct;for(let ht=0;ht<this.directPlugins.length;ht++){let ft=this.directPlugins[ht].props[rt];if(ft!=null&&(ct=it?it(ft):ft))return ct}let ut=this.state.plugins;if(ut)for(let ht=0;ht<ut.length;ht++){let ft=ut[ht].props[rt];if(ft!=null&&(ct=it?it(ft):ft))return ct}}hasFocus(){if(ie$1){let rt=this.root.activeElement;if(rt==this.dom)return!0;if(!rt||!this.dom.contains(rt))return!1;for(;rt&&this.dom!=rt&&this.dom.contains(rt);){if(rt.contentEditable=="false")return!1;rt=rt.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let rt=this._root;if(rt==null){for(let it=this.dom.parentNode;it;it=it.parentNode)if(it.nodeType==9||it.nodeType==11&&it.host)return it.getSelection||(Object.getPrototypeOf(it).getSelection=()=>it.ownerDocument.getSelection()),this._root=it}return rt||document}updateRoot(){this._root=null}posAtCoords(rt){return posAtCoords(this,rt)}coordsAtPos(rt,it=1){return coordsAtPos(this,rt,it)}domAtPos(rt,it=0){return this.docView.domFromPos(rt,it)}nodeDOM(rt){let it=this.docView.descAt(rt);return it?it.nodeDOM:null}posAtDOM(rt,it,lt=-1){let ct=this.docView.posFromDOM(rt,it,lt);if(ct==null)throw new RangeError("DOM position not inside the editor");return ct}endOfTextblock(rt,it){return endOfTextblock(this,it||this.state,rt)}pasteHTML(rt,it){return doPaste(this,"",rt,!1,it||new ClipboardEvent("paste"))}pasteText(rt,it){return doPaste(this,rt,null,!0,it||new ClipboardEvent("paste"))}serializeForClipboard(rt){return serializeForClipboard(this,rt)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(rt){return dispatchEvent$1(this,rt)}domSelectionRange(){let rt=this.domSelection();return rt?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,rt)||rt:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(Ye){let rt=this._props.dispatchTransaction;rt?rt.call(this,Ye):this.updateState(this.state.apply(Ye))};function computeDocDeco(Ye){let rt=Object.create(null);return rt.class="ProseMirror",rt.contenteditable=String(Ye.editable),Ye.someProp("attributes",it=>{if(typeof it=="function"&&(it=it(Ye.state)),it)for(let lt in it)lt=="class"?rt.class+=" "+it[lt]:lt=="style"?rt.style=(rt.style?rt.style+";":"")+it[lt]:!rt[lt]&&lt!="contenteditable"&&lt!="nodeName"&&(rt[lt]=String(it[lt]))}),rt.translate||(rt.translate="no"),[Decoration.node(0,Ye.state.doc.content.size,rt)]}function updateCursorWrapper(Ye){if(Ye.markCursor){let rt=document.createElement("img");rt.className="ProseMirror-separator",rt.setAttribute("mark-placeholder","true"),rt.setAttribute("alt",""),Ye.cursorWrapper={dom:rt,deco:Decoration.widget(Ye.state.selection.from,rt,{raw:!0,marks:Ye.markCursor})}}else Ye.cursorWrapper=null}function getEditable(Ye){return!Ye.someProp("editable",rt=>rt(Ye.state)===!1)}function selectionContextChanged(Ye,rt){let it=Math.min(Ye.$anchor.sharedDepth(Ye.head),rt.$anchor.sharedDepth(rt.head));return Ye.$anchor.start(it)!=rt.$anchor.start(it)}function buildNodeViews(Ye){let rt=Object.create(null);function it(lt){for(let ct in lt)Object.prototype.hasOwnProperty.call(rt,ct)||(rt[ct]=lt[ct])}return Ye.someProp("nodeViews",it),Ye.someProp("markViews",it),rt}function changedNodeViews(Ye,rt){let it=0,lt=0;for(let ct in Ye){if(Ye[ct]!=rt[ct])return!0;it++}for(let ct in rt)lt++;return it!=lt}function checkStateComponent(Ye){if(Ye.spec.state||Ye.spec.filterTransaction||Ye.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const placeholderKey=new PluginKey("placeholderPlugin");function placeholderPlugin(Ye){return new Plugin({key:placeholderKey,state:{init(){return{placeholder:Ye}},apply(rt,it){return rt.getMeta(placeholderKey)?{placeholder:rt.getMeta(placeholderKey).placeholder}:it}},props:{decorations(rt){const{doc:it}=rt;if(it.childCount===1&&it.firstChild?.isTextblock===!0&&it.firstChild.content.size===0){const ct=[],{placeholder:ut}=placeholderKey.getState(rt);return it.descendants((ht,ft)=>{ct.push(Decoration.node(ft,ft+ht.nodeSize,{class:"placeholder","data-placeholder":ut}))}),DecorationSet.create(it,ct)}return null}}})}const plainTextSchema=new Schema({nodes:{doc:{content:"paragraph+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},text:{group:"inline"},atMention:atMentionSpec},marks:{}}),transactionEventKey=new PluginKey("transactionEventPlugin"),transactionEventName="prosemirrorDispatchTransaction";function addTransactionListener(Ye,rt){const{eventTarget:it}=transactionEventKey.getState(Ye.state);return it.addEventListener(transactionEventName,rt),()=>{it.removeEventListener(transactionEventName,rt)}}function transactionEventPlugin(Ye){return new Plugin({key:transactionEventKey,state:{init(){return{eventTarget:Ye}},apply(rt,it){return it}}})}class GapCursor extends Selection$2{constructor(rt){super(rt,rt)}map(rt,it){let lt=rt.resolve(it.map(this.head));return GapCursor.valid(lt)?new GapCursor(lt):Selection$2.near(lt)}content(){return Slice.empty}eq(rt){return rt instanceof GapCursor&&rt.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(rt,it){if(typeof it.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(rt.resolve(it.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(rt){let it=rt.parent;if(it.isTextblock||!closedBefore(rt)||!closedAfter(rt))return!1;let lt=it.type.spec.allowGapCursor;if(lt!=null)return lt;let ct=it.contentMatchAt(rt.index()).defaultType;return ct&&ct.isTextblock}static findGapCursorFrom(rt,it,lt=!1){e:for(;;){if(!lt&&GapCursor.valid(rt))return rt;let ct=rt.pos,ut=null;for(let ht=rt.depth;;ht--){let ft=rt.node(ht);if(it>0?rt.indexAfter(ht)<ft.childCount:rt.index(ht)>0){ut=ft.child(it>0?rt.indexAfter(ht):rt.index(ht)-1);break}else if(ht==0)return null;ct+=it;let pt=rt.doc.resolve(ct);if(GapCursor.valid(pt))return pt}for(;;){let ht=it>0?ut.firstChild:ut.lastChild;if(!ht){if(ut.isAtom&&!ut.isText&&!NodeSelection.isSelectable(ut)){rt=rt.doc.resolve(ct+ut.nodeSize*it),lt=!1;continue e}break}ut=ht,ct+=it;let ft=rt.doc.resolve(ct);if(GapCursor.valid(ft))return ft}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection$2.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(rt){this.pos=rt}map(rt){return new GapBookmark(rt.map(this.pos))}resolve(rt){let it=rt.resolve(this.pos);return GapCursor.valid(it)?new GapCursor(it):Selection$2.near(it)}}function needsGap(Ye){return Ye.isAtom||Ye.spec.isolating||Ye.spec.createGapCursor}function closedBefore(Ye){for(let rt=Ye.depth;rt>=0;rt--){let it=Ye.index(rt),lt=Ye.node(rt);if(it==0){if(lt.type.spec.isolating)return!0;continue}for(let ct=lt.child(it-1);;ct=ct.lastChild){if(ct.childCount==0&&!ct.inlineContent||needsGap(ct.type))return!0;if(ct.inlineContent)return!1}}return!0}function closedAfter(Ye){for(let rt=Ye.depth;rt>=0;rt--){let it=Ye.indexAfter(rt),lt=Ye.node(rt);if(it==lt.childCount){if(lt.type.spec.isolating)return!0;continue}for(let ct=lt.child(it);;ct=ct.firstChild){if(ct.childCount==0&&!ct.inlineContent||needsGap(ct.type))return!0;if(ct.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(Ye,rt,it){return rt.pos==it.pos&&GapCursor.valid(it)?new GapCursor(it):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(Ye,rt){const it=Ye=="vert"?rt>0?"down":"up":rt>0?"right":"left";return function(lt,ct,ut){let ht=lt.selection,ft=rt>0?ht.$to:ht.$from,pt=ht.empty;if(ht instanceof TextSelection){if(!ut.endOfTextblock(it)||ft.depth==0)return!1;pt=!1,ft=lt.doc.resolve(rt>0?ft.after():ft.before())}let mt=GapCursor.findGapCursorFrom(ft,rt,pt);return mt?(ct&&ct(lt.tr.setSelection(new GapCursor(mt))),!0):!1}}function handleClick(Ye,rt,it){if(!Ye||!Ye.editable)return!1;let lt=Ye.state.doc.resolve(rt);if(!GapCursor.valid(lt))return!1;let ct=Ye.posAtCoords({left:it.clientX,top:it.clientY});return ct&&ct.inside>-1&&NodeSelection.isSelectable(Ye.state.doc.nodeAt(ct.inside))?!1:(Ye.dispatch(Ye.state.tr.setSelection(new GapCursor(lt))),!0)}function beforeinput(Ye,rt){if(rt.inputType!="insertCompositionText"||!(Ye.state.selection instanceof GapCursor))return!1;let{$from:it}=Ye.state.selection,lt=it.parent.contentMatchAt(it.index()).findWrapping(Ye.state.schema.nodes.text);if(!lt)return!1;let ct=Fragment.empty;for(let ht=lt.length-1;ht>=0;ht--)ct=Fragment.from(lt[ht].createAndFill(null,ct));let ut=Ye.state.tr.replace(it.pos,it.pos,new Slice(ct,0,0));return ut.setSelection(TextSelection.near(ut.doc.resolve(it.pos+1))),Ye.dispatch(ut),!1}function drawGapCursor(Ye){if(!(Ye.selection instanceof GapCursor))return null;let rt=document.createElement("div");return rt.className="ProseMirror-gapcursor",DecorationSet.create(Ye.doc,[Decoration.widget(Ye.selection.head,rt,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(rt){return rt.length?(rt=RopeSequence.from(rt),!this.length&&rt||rt.length<GOOD_LEAF_SIZE&&this.leafAppend(rt)||this.length<GOOD_LEAF_SIZE&&rt.leafPrepend(this)||this.appendInner(rt)):this};RopeSequence.prototype.prepend=function(rt){return rt.length?RopeSequence.from(rt).append(this):this};RopeSequence.prototype.appendInner=function(rt){return new Append(this,rt)};RopeSequence.prototype.slice=function(rt,it){return rt===void 0&&(rt=0),it===void 0&&(it=this.length),rt>=it?RopeSequence.empty:this.sliceInner(Math.max(0,rt),Math.min(this.length,it))};RopeSequence.prototype.get=function(rt){if(!(rt<0||rt>=this.length))return this.getInner(rt)};RopeSequence.prototype.forEach=function(rt,it,lt){it===void 0&&(it=0),lt===void 0&&(lt=this.length),it<=lt?this.forEachInner(rt,it,lt,0):this.forEachInvertedInner(rt,it,lt,0)};RopeSequence.prototype.map=function(rt,it,lt){it===void 0&&(it=0),lt===void 0&&(lt=this.length);var ct=[];return this.forEach(function(ut,ht){return ct.push(rt(ut,ht))},it,lt),ct};RopeSequence.from=function(rt){return rt instanceof RopeSequence?rt:rt&&rt.length?new Leaf(rt):RopeSequence.empty};var Leaf=(function(Ye){function rt(lt){Ye.call(this),this.values=lt}Ye&&(rt.__proto__=Ye),rt.prototype=Object.create(Ye&&Ye.prototype),rt.prototype.constructor=rt;var it={length:{configurable:!0},depth:{configurable:!0}};return rt.prototype.flatten=function(){return this.values},rt.prototype.sliceInner=function(ct,ut){return ct==0&&ut==this.length?this:new rt(this.values.slice(ct,ut))},rt.prototype.getInner=function(ct){return this.values[ct]},rt.prototype.forEachInner=function(ct,ut,ht,ft){for(var pt=ut;pt<ht;pt++)if(ct(this.values[pt],ft+pt)===!1)return!1},rt.prototype.forEachInvertedInner=function(ct,ut,ht,ft){for(var pt=ut-1;pt>=ht;pt--)if(ct(this.values[pt],ft+pt)===!1)return!1},rt.prototype.leafAppend=function(ct){if(this.length+ct.length<=GOOD_LEAF_SIZE)return new rt(this.values.concat(ct.flatten()))},rt.prototype.leafPrepend=function(ct){if(this.length+ct.length<=GOOD_LEAF_SIZE)return new rt(ct.flatten().concat(this.values))},it.length.get=function(){return this.values.length},it.depth.get=function(){return 0},Object.defineProperties(rt.prototype,it),rt})(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=(function(Ye){function rt(it,lt){Ye.call(this),this.left=it,this.right=lt,this.length=it.length+lt.length,this.depth=Math.max(it.depth,lt.depth)+1}return Ye&&(rt.__proto__=Ye),rt.prototype=Object.create(Ye&&Ye.prototype),rt.prototype.constructor=rt,rt.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},rt.prototype.getInner=function(lt){return lt<this.left.length?this.left.get(lt):this.right.get(lt-this.left.length)},rt.prototype.forEachInner=function(lt,ct,ut,ht){var ft=this.left.length;if(ct<ft&&this.left.forEachInner(lt,ct,Math.min(ut,ft),ht)===!1||ut>ft&&this.right.forEachInner(lt,Math.max(ct-ft,0),Math.min(this.length,ut)-ft,ht+ft)===!1)return!1},rt.prototype.forEachInvertedInner=function(lt,ct,ut,ht){var ft=this.left.length;if(ct>ft&&this.right.forEachInvertedInner(lt,ct-ft,Math.max(ut,ft)-ft,ht+ft)===!1||ut<ft&&this.left.forEachInvertedInner(lt,Math.min(ct,ft),ut,ht)===!1)return!1},rt.prototype.sliceInner=function(lt,ct){if(lt==0&&ct==this.length)return this;var ut=this.left.length;return ct<=ut?this.left.slice(lt,ct):lt>=ut?this.right.slice(lt-ut,ct-ut):this.left.slice(lt,ut).append(this.right.slice(0,ct-ut))},rt.prototype.leafAppend=function(lt){var ct=this.right.leafAppend(lt);if(ct)return new rt(this.left,ct)},rt.prototype.leafPrepend=function(lt){var ct=this.left.leafPrepend(lt);if(ct)return new rt(ct,this.right)},rt.prototype.appendInner=function(lt){return this.left.depth>=Math.max(this.right.depth,lt.depth)+1?new rt(this.left,new rt(this.right,lt)):new rt(this,lt)},rt})(RopeSequence);const max_empty_items=500;class Branch{constructor(rt,it){this.items=rt,this.eventCount=it}popEvent(rt,it){if(this.eventCount==0)return null;let lt=this.items.length;for(;;lt--)if(this.items.get(lt-1).selection){--lt;break}let ct,ut;it&&(ct=this.remapping(lt,this.items.length),ut=ct.maps.length);let ht=rt.tr,ft,pt,mt=[],gt=[];return this.items.forEach((yt,xt)=>{if(!yt.step){ct||(ct=this.remapping(lt,xt+1),ut=ct.maps.length),ut--,gt.push(yt);return}if(ct){gt.push(new Item(yt.map));let bt=yt.step.map(ct.slice(ut)),_t;bt&&ht.maybeStep(bt).doc&&(_t=ht.mapping.maps[ht.mapping.maps.length-1],mt.push(new Item(_t,void 0,void 0,mt.length+gt.length))),ut--,_t&&ct.appendMap(_t,ut)}else ht.maybeStep(yt.step);if(yt.selection)return ft=ct?yt.selection.map(ct.slice(ut)):yt.selection,pt=new Branch(this.items.slice(0,lt).append(gt.reverse().concat(mt)),this.eventCount-1),!1},this.items.length,0),{remaining:pt,transform:ht,selection:ft}}addTransform(rt,it,lt,ct){let ut=[],ht=this.eventCount,ft=this.items,pt=!ct&&ft.length?ft.get(ft.length-1):null;for(let gt=0;gt<rt.steps.length;gt++){let yt=rt.steps[gt].invert(rt.docs[gt]),xt=new Item(rt.mapping.maps[gt],yt,it),bt;(bt=pt&&pt.merge(xt))&&(xt=bt,gt?ut.pop():ft=ft.slice(0,ft.length-1)),ut.push(xt),it&&(ht++,it=void 0),ct||(pt=xt)}let mt=ht-lt.depth;return mt>DEPTH_OVERFLOW&&(ft=cutOffEvents(ft,mt),ht-=mt),new Branch(ft.append(ut),ht)}remapping(rt,it){let lt=new Mapping;return this.items.forEach((ct,ut)=>{let ht=ct.mirrorOffset!=null&&ut-ct.mirrorOffset>=rt?lt.maps.length-ct.mirrorOffset:void 0;lt.appendMap(ct.map,ht)},rt,it),lt}addMaps(rt){return this.eventCount==0?this:new Branch(this.items.append(rt.map(it=>new Item(it))),this.eventCount)}rebased(rt,it){if(!this.eventCount)return this;let lt=[],ct=Math.max(0,this.items.length-it),ut=rt.mapping,ht=rt.steps.length,ft=this.eventCount;this.items.forEach(xt=>{xt.selection&&ft--},ct);let pt=it;this.items.forEach(xt=>{let bt=ut.getMirror(--pt);if(bt==null)return;ht=Math.min(ht,bt);let _t=ut.maps[bt];if(xt.step){let Ct=rt.steps[bt].invert(rt.docs[bt]),kt=xt.selection&&xt.selection.map(ut.slice(pt+1,bt));kt&&ft++,lt.push(new Item(_t,Ct,kt))}else lt.push(new Item(_t))},ct);let mt=[];for(let xt=it;xt<ht;xt++)mt.push(new Item(ut.maps[xt]));let gt=this.items.slice(0,ct).append(mt).append(lt),yt=new Branch(gt,ft);return yt.emptyItemCount()>max_empty_items&&(yt=yt.compress(this.items.length-lt.length)),yt}emptyItemCount(){let rt=0;return this.items.forEach(it=>{it.step||rt++}),rt}compress(rt=this.items.length){let it=this.remapping(0,rt),lt=it.maps.length,ct=[],ut=0;return this.items.forEach((ht,ft)=>{if(ft>=rt)ct.push(ht),ht.selection&&ut++;else if(ht.step){let pt=ht.step.map(it.slice(lt)),mt=pt&&pt.getMap();if(lt--,mt&&it.appendMap(mt,lt),pt){let gt=ht.selection&&ht.selection.map(it.slice(lt));gt&&ut++;let yt=new Item(mt.invert(),pt,gt),xt,bt=ct.length-1;(xt=ct.length&&ct[bt].merge(yt))?ct[bt]=xt:ct.push(yt)}}else ht.map&&lt--},this.items.length,0),new Branch(RopeSequence.from(ct.reverse()),ut)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(Ye,rt){let it;return Ye.forEach((lt,ct)=>{if(lt.selection&&rt--==0)return it=ct,!1}),Ye.slice(it)}class Item{constructor(rt,it,lt,ct){this.map=rt,this.step=it,this.selection=lt,this.mirrorOffset=ct}merge(rt){if(this.step&&rt.step&&!rt.selection){let it=rt.step.merge(this.step);if(it)return new Item(it.getMap().invert(),it,this.selection)}}}class HistoryState{constructor(rt,it,lt,ct,ut){this.done=rt,this.undone=it,this.prevRanges=lt,this.prevTime=ct,this.prevComposition=ut}}const DEPTH_OVERFLOW=20;function applyTransaction(Ye,rt,it,lt){let ct=it.getMeta(historyKey),ut;if(ct)return ct.historyState;it.getMeta(closeHistoryKey)&&(Ye=new HistoryState(Ye.done,Ye.undone,null,0,-1));let ht=it.getMeta("appendedTransaction");if(it.steps.length==0)return Ye;if(ht&&ht.getMeta(historyKey))return ht.getMeta(historyKey).redo?new HistoryState(Ye.done.addTransform(it,void 0,lt,mustPreserveItems(rt)),Ye.undone,rangesFor(it.mapping.maps),Ye.prevTime,Ye.prevComposition):new HistoryState(Ye.done,Ye.undone.addTransform(it,void 0,lt,mustPreserveItems(rt)),null,Ye.prevTime,Ye.prevComposition);if(it.getMeta("addToHistory")!==!1&&!(ht&&ht.getMeta("addToHistory")===!1)){let ft=it.getMeta("composition"),pt=Ye.prevTime==0||!ht&&Ye.prevComposition!=ft&&(Ye.prevTime<(it.time||0)-lt.newGroupDelay||!isAdjacentTo(it,Ye.prevRanges)),mt=ht?mapRanges(Ye.prevRanges,it.mapping):rangesFor(it.mapping.maps);return new HistoryState(Ye.done.addTransform(it,pt?rt.selection.getBookmark():void 0,lt,mustPreserveItems(rt)),Branch.empty,mt,it.time,ft??Ye.prevComposition)}else return(ut=it.getMeta("rebased"))?new HistoryState(Ye.done.rebased(it,ut),Ye.undone.rebased(it,ut),mapRanges(Ye.prevRanges,it.mapping),Ye.prevTime,Ye.prevComposition):new HistoryState(Ye.done.addMaps(it.mapping.maps),Ye.undone.addMaps(it.mapping.maps),mapRanges(Ye.prevRanges,it.mapping),Ye.prevTime,Ye.prevComposition)}function isAdjacentTo(Ye,rt){if(!rt)return!1;if(!Ye.docChanged)return!0;let it=!1;return Ye.mapping.maps[0].forEach((lt,ct)=>{for(let ut=0;ut<rt.length;ut+=2)lt<=rt[ut+1]&&ct>=rt[ut]&&(it=!0)}),it}function rangesFor(Ye){let rt=[];for(let it=Ye.length-1;it>=0&&rt.length==0;it--)Ye[it].forEach((lt,ct,ut,ht)=>rt.push(ut,ht));return rt}function mapRanges(Ye,rt){if(!Ye)return null;let it=[];for(let lt=0;lt<Ye.length;lt+=2){let ct=rt.map(Ye[lt],1),ut=rt.map(Ye[lt+1],-1);ct<=ut&&it.push(ct,ut)}return it}function histTransaction(Ye,rt,it){let lt=mustPreserveItems(rt),ct=historyKey.get(rt).spec.config,ut=(it?Ye.undone:Ye.done).popEvent(rt,lt);if(!ut)return null;let ht=ut.selection.resolve(ut.transform.doc),ft=(it?Ye.done:Ye.undone).addTransform(ut.transform,rt.selection.getBookmark(),ct,lt),pt=new HistoryState(it?ft:ut.remaining,it?ut.remaining:ft,null,0,-1);return ut.transform.setSelection(ht).setMeta(historyKey,{redo:it,historyState:pt})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(Ye){let rt=Ye.plugins;if(cachedPreserveItemsPlugins!=rt){cachedPreserveItems=!1,cachedPreserveItemsPlugins=rt;for(let it=0;it<rt.length;it++)if(rt[it].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(Ye={}){return Ye={depth:Ye.depth||100,newGroupDelay:Ye.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(rt,it,lt){return applyTransaction(it,lt,rt,Ye)}},config:Ye,props:{handleDOMEvents:{beforeinput(rt,it){let lt=it.inputType,ct=lt=="historyUndo"?undo:lt=="historyRedo"?redo:null;return ct?(it.preventDefault(),ct(rt.state,rt.dispatch)):!1}}}})}function buildCommand(Ye,rt){return(it,lt)=>{let ct=historyKey.getState(it);if(!ct||(Ye?ct.undone:ct.done).eventCount==0)return!1;if(lt){let ut=histTransaction(ct,it,Ye);ut&&lt(rt?ut.scrollIntoView():ut)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);class PromptEventEmitter{listeners=new Map;emit(rt,it){this.listeners.get(rt)?.forEach(lt=>lt(it))}addListener(rt,it){const lt=this.listeners.get(rt)??new Set;lt.add(it),this.listeners.set(rt,lt)}removeListener(rt,it){const lt=this.listeners.get(rt)??new Set;lt.delete(it),this.listeners.set(rt,lt)}}function buildProsemirrorForComposer(Ye=null){const rt=new EventTarget,it=new PromptEventEmitter,lt=new EditorView(null,{state:EditorState.create({schema:plainTextSchema,plugins:[history(),customKeymapPlugin(),...atMentionsPlugin({onSubmit(){it.emit("mention-ui-submit")},onClose(){it.emit("mention-ui-close")}}),keymap({...baseKeymap,ArrowDown:ct=>{const ut=ct.doc,ht=ut.firstChild;return ut.childCount===1&&ht!=null&&ht.isTextblock&&ht.content.size===0},"Shift-Enter":(ct,ut)=>createLineBreak(ct,ut),"Alt-Enter":(ct,ut)=>createLineBreak(ct,ut),Enter:(ct,ut)=>ct.doc.childCount>1?createLineBreak(ct,ut):(it.emit("submit"),!0),"Mod-Enter":()=>(it.emit("submit"),!0),"Mod-a":selectAll,"Mod-z":undo,"Mod-y":redo,"Mod-Shift-z":redo}),transactionEventPlugin(rt),placeholderPlugin(""),gapCursor()]}),dispatchTransaction(ct){const ut=lt.state.apply(ct);lt.updateState(ut),rt.dispatchEvent(new Event(transactionEventName))},handlePaste(ct,ut){const ht=ut.clipboardData?.getData("text/plain");return ht===void 0?!1:(ut.defaultPrevented||insertMultiLineText(ct,ht),!0)},clipboardTextSerializer(ct){return nodeToPlainText(ct.content).content}});if(Ye!=null&&lt.state.doc.textContent.trim().length===0){const ct=lt.state.tr.insertText(Ye);ct.setSelection(TextSelection.create(ct.doc,Ye.length+1)),lt.dispatch(ct)}return{view:lt,eventEmitter:it}}class ProseMirrorComposerController{constructor(rt,it){this.view=rt,this.eventEmitter=it}getText(){return prosemirrorToPlainText(this.view).content}hasText(){return this.getText().trim()!==""}setText(rt){const it=this.view.state.tr;it.deleteRange(0,this.view.state.doc.content.size),it.insertText(rt),it.setSelection(TextSelection.create(it.doc,rt.length+1)),this.view.dispatch(it)}setPlaceholder(rt){this.view.dispatch(this.view.state.tr.setMeta(placeholderKey,{placeholder:rt}))}insertAtMention(rt,it){const lt=it??mentionUiKey.getState(this.view.state);if(!lt||lt.anchorPos==null)return;const{state:ct,dispatch:ut}=this.view,ht=lt.anchorPos-1,ft=lt.anchorPos+lt.query.length,pt=plainTextSchema.nodes.atMention.create(rt);let mt=ct.tr.replaceRangeWith(ht,ft,pt);const gt=mt.mapping.map(ht)+pt.nodeSize,yt=mt.doc.resolve(gt);let xt=!0;if(yt.parentOffset<yt.parent.content.size){const _t=yt.parent.childAfter(yt.parentOffset),Ct=_t.node&&_t.node.isText?_t.node.text?.[0]:void 0;Ct&&/\s/.test(Ct)&&(xt=!1)}xt&&(mt=mt.insertText(" ",gt));const bt=gt+(xt?1:0);mt=mt.setSelection(TextSelection.create(mt.doc,bt)),mt=mt.setMeta(mentionUiKey,{active:!1,anchorPos:null,query:""}),ut(mt),this.view.focus()}addSubmitHandler(rt){this.eventEmitter.addListener("submit",rt)}removeSubmitHandler(rt){this.eventEmitter.removeListener("submit",rt)}focus(){this.view.focus()}destroy(){this.view.destroy()}useState(rt){return reactExports.useSyncExternalStore(it=>addTransactionListener(this.view,it),()=>rt(this),()=>rt(this))}}function createComposerController(Ye){const{view:rt,eventEmitter:it}=buildProsemirrorForComposer(Ye??null);return new ProseMirrorComposerController(rt,it)}function ComposerControllerScope({children:Ye,defaultText:rt}){const it=reactExports.useMemo(()=>createComposerController(rt),[rt]);return jsxRuntimeExports.jsx(ComposerControllerContext.Provider,{value:it,children:Ye})}function RichTextInput({composerController:Ye,placeholder:rt,disableAutoFocus:it=!1,onSubmit:lt,onMentionHandler:ct,className:ut}){const ht=reactExports.useRef(null),ft=reactExports.useRef(!1);reactExports.useEffect(()=>{const mt=ht.current;if(ft.current)return;if(mt==null)throw new Error("RichTextInput rootRef is not mounted");ft.current=!0,mt.appendChild(Ye.view.dom),Ye.view.dom.dataset.virtualkeyboard="true";const gt=Ye.view.dom;gt.style.minHeight="2.5rem",gt.style.height="auto",gt.style.resize="none",it||Ye.view.dom.focus()},[Ye,it]),reactExports.useEffect(()=>{Ye.setPlaceholder(rt)},[rt,Ye]),reactExports.useEffect(()=>{const mt=()=>ct("submit"),gt=()=>ct("close");return Ye.addSubmitHandler(lt),Ye.eventEmitter.addListener("mention-ui-submit",mt),Ye.eventEmitter.addListener("mention-ui-close",gt),()=>{Ye.removeSubmitHandler(lt),Ye.eventEmitter.removeListener("mention-ui-submit",mt),Ye.eventEmitter.removeListener("mention-ui-close",gt)}},[lt,Ye,ct]);const pt=mt=>{const gt=Ye.view.dom;mt.target instanceof Node&&(gt.contains(mt.target)||(mt.preventDefault(),gt.focus()))};return jsxRuntimeExports.jsx("div",{ref:ht,onMouseDown:pt,className:clsx("[&_.ProseMirror]:focus-visible:outline-none","text-token-foreground h-auto max-h-[25dvh] min-h-[4dvh]","[&_.ProseMirror]:min-h-[2rem]","[&_.ProseMirror]:h-auto","[&_.ProseMirror]:resize-none","[&_.ProseMirror_p]:m-0",ut)})}const useComposerController=()=>{const Ye=reactExports.useContext(ComposerControllerContext);if(!Ye)throw new Error("useComposerController must be used within a ComposerControllerScope");return Ye};function SubmitBlockedDialog({open:Ye,onOpenChange:rt,message:it}){return it?jsxRuntimeExports.jsx(Dialog,{open:Ye,onOpenChange:rt,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.submit.blockedDialogTitle",defaultMessage:"Unable to send message",description:"Title shown when the composer cannot submit"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-sm",children:it}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button,{color:"primary",onClick:()=>{rt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.submit.blockedDialogOk",defaultMessage:"OK",description:"Button label to close the submit blocked dialog"})})})]})}):null}const NUDGE_MODEL="gpt-5.1-codex-mini",NUDGE_DEFAULT_EFFORT="medium";function useModelNudge({rateLimit:Ye,defaultModel:rt,conversationId:it,thresholdPct:lt=90}){const ct=useAppServerManager(),ut=useRefreshDefaultModelSettings(),[ht,ft]=reactExports.useState(!1),pt=Ye?.rate_limit?.primary_window?.used_percent??0,mt=Ye?.rate_limit?.secondary_window?.used_percent??0,gt=Math.max(pt,mt),yt=!ht&&gt>=lt&&rt!==NUDGE_MODEL,xt=reactExports.useCallback(async()=>{it!=null&&ct.setModelAndReasoningForNextTurn(it,NUDGE_MODEL,NUDGE_DEFAULT_EFFORT);try{await ct.setDefaultModel(NUDGE_MODEL,NUDGE_DEFAULT_EFFORT),ut()}catch(_t){logger.error(`failed to set default model for nudge: ${_t}`);return}ft(!0)},[it,ct,ut]),bt=reactExports.useCallback(()=>{ft(!0)},[]);return{showModelNudge:yt,handleTryNudge:xt,dismissModelNudge:bt}}function useDiffComments(Ye){const[rt,it]=useSharedObject("diff_comments"),lt=reactExports.useMemo(()=>extractComments(rt,Ye),[Ye,rt]),ct=reactExports.useCallback(ut=>{Ye&&it(ht=>{const ft={...ht??{}},pt=ft[Ye]??[],mt=typeof ut=="function"?ut(pt):ut;return mt.length===0?(delete ft[Ye],ft):(ft[Ye]=mt,ft)})},[Ye,it]);return[lt,ct]}function extractComments(Ye,rt){return rt?Ye?.[rt]??[]:[]}function useSyncCommentsToComposerViewState(Ye,rt){const it=localOrRemoteConversationId(Ye),[lt,ct]=useDiffComments(it),ut=reactExports.useEffectEvent(rt);return reactExports.useEffect(()=>{ut(lt??[])},[lt]),ct}function localOrRemoteConversationId(Ye){switch(Ye?.type){case"local":return Ye.localConversationId;case"cloud":return Ye.taskDetails.task.id;case void 0:return null}}const DEFAULT_IDE_CONTEXT={activeFile:void 0,openTabs:[]};function useRefetchIdeContext(){const Ye=useQueryClient();return()=>{Ye.invalidateQueries({queryKey:getQueryKey("ide-context")})}}function useIdeContext(){const Ye=useWindowType(),{data:rt}=useFetchFromVSCode("ide-context",{queryConfig:{enabled:Ye==="extension"}});return rt?.ideContext??DEFAULT_IDE_CONTEXT}function getRateLimitDetails(Ye){return Ye?.rate_limit??null}function getCreditDetails(Ye){return Ye?.credits??null}function getWindows(Ye){const rt=getRateLimitDetails(Ye),it=[];return rt?.primary_window&&it.push(rt.primary_window),rt?.secondary_window&&it.push(rt.secondary_window),it}function getMostConstrainedWindow(Ye){const rt=getWindows(Ye);return rt.length===0?null:rt.reduce((it,lt)=>!it||lt.used_percent>it.used_percent?lt:lt.used_percent<it.used_percent?it:lt.reset_at>it.reset_at?lt:(lt.reset_at<it.reset_at,it))}function getRateLimitResetAt(Ye){return getMostConstrainedWindow(Ye)?.reset_at??null}function isRateLimitReached(Ye){const rt=getRateLimitDetails(Ye),it=getCreditDetails(Ye),lt=!it?.unlimited&&!(Number(it?.balance??0)>=20||it?.has_credits);return(rt?.limit_reached===!0||rt?.allowed===!1)&&lt}function formatResetDateTime(Ye,rt){const it=new Date,lt=new Date(rt*1e3);return lt.getFullYear()===it.getFullYear()&&lt.getMonth()===it.getMonth()&&lt.getDate()===it.getDate()?lt.toLocaleTimeString(Ye.locale):lt.toLocaleString(Ye.locale)}function getCtaBasedOnPlanType(Ye,rt){const it=Ye===AccountPlanType.SELF_SERVE_BUSINESS,lt=Ye===AccountPlanType.PRO,ct=Ye===AccountPlanType.PLUS,ut=ht=>jsxRuntimeExports.jsx("a",{className:"text-token-foreground",href:`${CODEX_HOME_URL}/settings/usage?purchase_modal=true`,children:ht});return it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.creditUpsellBanner.business.headline",defaultMessage:"You're out of Codex messages. To get more access now, send a request to your admin, or wait until {resetDate}.",description:"Credit upsell banner message for when the user runs out of credits to use Codex",values:{resetDate:rt}}):lt||ct?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.creditUpsellBanner.headline",defaultMessage:"Youre out of Codex messages. Buy more to continue, or wait until {resetDate}. <u>Buy more</u>",description:"Credit upsell banner message for when the user runs out of credits to use Codex",values:{u:ut,resetDate:rt}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.creditUpsellBanner.headline",defaultMessage:"Youre out of Codex messages. Your rate limit resets on {resetDate}. View your usage <u>here</u>",description:"Credit upsell banner message for when the user runs out of credits to use Codex",values:{u:ut,resetDate:rt}})}function CreditUpsellBanner({rateLimitStatus:Ye}){const rt=useIntl(),it=formatResetDateTime(rt,getRateLimitResetAt(Ye)??0),lt=getCtaBasedOnPlanType(Ye.plan_type,it);return jsxRuntimeExports.jsx(Banner,{type:"info",layout:"vertical",primaryCtaColor:"primary",content:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsx(SvgInfo,{className:"icon-sm"})}),jsxRuntimeExports.jsx("div",{className:"flex w-full min-w-0 flex-col gap-1 text-sm",children:jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground leading-[18px]",children:lt})})]})})}function useResizeObserver(Ye){const rt=reactExports.useEffectEvent(Ye),[it,lt]=reactExports.useState(null),ct=reactExports.useCallback(ut=>{lt(ut)},[]);return reactExports.useLayoutEffect(()=>{const ut=new ResizeObserver(ht=>{for(const ft of ht)rt(ft)});return it&&ut.observe(it),()=>{ut.disconnect()}},[it]),ct}function ModelNudgeBanner({onTry:Ye,onDismiss:rt}){const[it,lt]=reactExports.useState(null),ct=useResizeObserver(pt=>{lt(pt.contentRect.width)}),ut=it!=null&&it<320,ht=it!=null&&it<260,ft=jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Button,{color:"primary",onClick:Ye,className:"shrink-0",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"modelNudge.tryCta",defaultMessage:"Try now",description:"CTA to switch to gpt-5.1-codex mini"})}),!ht&&rt&&jsxRuntimeExports.jsx(Button,{color:"ghost",onClick:rt,className:"shrink-0",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"modelNudge.dismissCta",defaultMessage:"Dismiss",description:"Dismiss model nudge banner"})})]});return jsxRuntimeExports.jsx("div",{ref:ct,children:jsxRuntimeExports.jsx(Banner,{type:"info",layout:ut?"vertical":"horizontal",customCtas:ft,content:jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"modelNudge.title",defaultMessage:"Introducing gpt-5.1-codex mini",description:"Headline for model nudge banner"})}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"modelNudge.subtitle",defaultMessage:"Our new model optimized for speed",description:"Subtitle for model nudge banner"})})]})})})}const ABOVE_COMPOSER_PORTAL_ID="above-composer-portal",SvgChat=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M17.235 10.7269C17.2348 7.21763 14.2111 4.30896 10.4 4.30896C6.58895 4.30896 3.56525 7.21763 3.56506 10.7269C3.56506 12.1807 4.07946 13.5237 4.95276 14.6039C5.07527 14.7554 5.12536 14.9534 5.08948 15.1449C4.99393 15.6527 4.85929 16.147 4.70471 16.6312C5.33201 16.5475 5.93682 16.4231 6.52795 16.2552L6.65393 16.2328C6.78091 16.2221 6.90912 16.248 7.02307 16.309C8.01733 16.8407 9.1692 17.1459 10.4 17.1459C14.2112 17.1459 17.235 14.2364 17.235 10.7269ZM18.5651 10.7269C18.5651 15.0415 14.8731 18.476 10.4 18.476C9.04398 18.476 7.76291 18.1604 6.6344 17.6029C5.71488 17.8452 4.76922 17.9966 3.77405 18.058C3.54829 18.0718 3.33069 17.9698 3.1969 17.7875C3.06306 17.605 3.03179 17.3669 3.11292 17.1556L3.31995 16.5902C3.48241 16.1225 3.61911 15.657 3.72229 15.1879C2.78721 13.9292 2.23499 12.3898 2.23499 10.7269C2.23517 6.41249 5.92706 2.97888 10.4 2.97888C14.873 2.97888 18.5649 6.41249 18.5651 10.7269Z",fill:"currentColor"})),SvgNotebook=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M15.5847 6.59094C15.5847 5.8799 15.5847 5.38657 15.5534 5.00305C15.5304 4.7211 15.4926 4.53159 15.4411 4.38782L15.3854 4.25794C15.2315 3.95582 14.9971 3.7028 14.7097 3.52649L14.5827 3.45618C14.4247 3.37572 14.2132 3.3189 13.8376 3.28821C13.4541 3.25689 12.9606 3.25598 12.2497 3.25598H7.74969C7.03883 3.25598 6.54527 3.25688 6.1618 3.28821C5.8805 3.31121 5.69117 3.34822 5.54755 3.39954L5.41669 3.45618C5.11465 3.61015 4.86247 3.84453 4.68622 4.13196L4.61493 4.25794C4.53444 4.41594 4.47766 4.6274 4.44696 5.00305C4.42353 5.28987 4.4193 5.63813 4.41766 6.0929H4.58368C4.9508 6.09307 5.24872 6.39077 5.24872 6.75794C5.24854 7.12495 4.95069 7.4228 4.58368 7.42297H4.41473V9.4259H4.58368L4.71747 9.43958C5.02044 9.50163 5.24872 9.76962 5.24872 10.0909C5.24872 10.4123 5.02044 10.6803 4.71747 10.7423L4.58368 10.756H4.41473V12.7589H4.58368C4.95069 12.7591 5.24854 13.0569 5.24872 13.424C5.24872 13.7911 4.9508 14.0888 4.58368 14.089H4.41766C4.4193 14.5438 4.42353 14.892 4.44696 15.1788C4.47766 15.5545 4.53444 15.766 4.61493 15.924L4.68622 16.0499C4.86247 16.3374 5.11465 16.5717 5.41669 16.7257L5.54755 16.7823C5.69117 16.8337 5.8805 16.8707 6.1618 16.8937C6.54526 16.925 7.03883 16.9259 7.74969 16.9259H12.2497C12.9606 16.9259 13.4541 16.925 13.8376 16.8937C14.2132 16.863 14.4247 16.8062 14.5827 16.7257L14.7097 16.6554C14.9971 16.4791 15.2315 16.2261 15.3854 15.924L15.4411 15.7941C15.4926 15.6503 15.5304 15.4608 15.5534 15.1788C15.5847 14.7953 15.5847 14.302 15.5847 13.5909V6.59094ZM10.4997 9.1759C10.867 9.1759 11.1647 9.47368 11.1647 9.84094C11.1647 10.2082 10.867 10.506 10.4997 10.506H7.99969C7.63254 10.5058 7.33466 10.2081 7.33466 9.84094C7.33466 9.47376 7.63254 9.17604 7.99969 9.1759H10.4997ZM11.9997 6.0929L12.1335 6.10657C12.4367 6.16843 12.6647 6.43644 12.6647 6.75794C12.6646 7.07933 12.4367 7.34751 12.1335 7.4093L11.9997 7.42297H7.99969C7.63265 7.42284 7.33483 7.12497 7.33466 6.75794C7.33466 6.39075 7.63254 6.09303 7.99969 6.0929H11.9997ZM16.9147 13.5909C16.9147 14.28 16.9154 14.837 16.8786 15.2872C16.8459 15.6879 16.7807 16.0486 16.6364 16.3849L16.57 16.5275C16.3045 17.0486 15.9008 17.4851 15.405 17.7892L15.1872 17.9113C14.8104 18.1032 14.404 18.1824 13.946 18.2198C13.4958 18.2566 12.9387 18.256 12.2497 18.256H7.74969C7.06075 18.256 6.50358 18.2566 6.05341 18.2198C5.65278 18.1871 5.29203 18.1219 4.95575 17.9777L4.81317 17.9113C4.29224 17.6458 3.85652 17.2418 3.55243 16.7462L3.43036 16.5275C3.23846 16.1508 3.15919 15.7451 3.12177 15.2872C3.09429 14.9509 3.0892 14.555 3.08759 14.089H2.91669C2.54942 14.089 2.25165 13.7912 2.25165 13.424C2.25182 13.0568 2.54953 12.7589 2.91669 12.7589H3.08466V10.756H2.91669C2.54942 10.756 2.25165 10.4582 2.25165 10.0909C2.25165 9.72367 2.54942 9.4259 2.91669 9.4259H3.08466V7.42297H2.91669C2.54953 7.42297 2.25182 7.12506 2.25165 6.75794C2.25165 6.39067 2.54942 6.0929 2.91669 6.0929H3.08759C3.0892 5.62692 3.09429 5.23098 3.12177 4.89465C3.15919 4.43678 3.23846 4.03109 3.43036 3.65442L3.55243 3.43567C3.85652 2.94009 4.29224 2.53606 4.81317 2.27063L4.95575 2.20422C5.29203 2.05994 5.65278 1.9948 6.05341 1.96204C6.50358 1.92526 7.06075 1.9259 7.74969 1.9259H12.2497C12.9387 1.9259 13.4958 1.92527 13.946 1.96204C14.404 1.99946 14.8104 2.07866 15.1872 2.27063L15.405 2.3927C15.9008 2.6968 16.3045 3.1333 16.57 3.65442L16.6364 3.797C16.7807 4.13332 16.8459 4.49397 16.8786 4.89465C16.9154 5.3449 16.9147 5.90185 16.9147 6.59094V13.5909Z",fill:"currentColor"})),SvgSkip=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M9.98167 8.15209V6.04584C9.98167 4.99369 11.2654 4.38168 12.1896 4.99323L18.1653 8.94742C18.9449 9.46332 18.9449 10.5368 18.1653 11.0526L12.1896 15.0068C11.2654 15.6183 9.98167 15.0063 9.98167 13.9542V11.848L5.20793 15.0068C4.28374 15.6183 3 15.0063 3 13.9542V6.04584C3 4.99369 4.28375 4.38168 5.20794 4.99323L9.98167 8.15209Z",fill:"currentColor"}));function AgentModeIcon({mode:Ye,className:rt}){const it=clsx("inline-block",rt);switch(Ye){case"read-only":return jsxRuntimeExports.jsx(SvgChat,{className:it});case"auto":return jsxRuntimeExports.jsx(SvgRobot,{className:it});case"full-access":return jsxRuntimeExports.jsx(SvgSkip,{className:it});case"custom":return jsxRuntimeExports.jsx(SvgNotebook,{className:it})}}const useSavedUserconfig=(Ye,rt)=>useQuery({queryKey:["user-saved-config"],queryFn:()=>{try{return Ye.getUserSavedConfiguration()}catch{return null}},enabled:rt,select:it=>it?.config??null});function AgentModeDropdown({composerMode:Ye,setComposerMode:rt,conversationId:it}){const[lt,ct]=reactExports.useState(!1),[ut,ht]=useAtom(aAgentMode),[ft,pt]=useAtom(aSkipFullAccessConfirm),mt=useAppServerManager(),[gt,yt]=reactExports.useState(!1),[xt,bt]=reactExports.useState(!1),{data:_t}=useSavedUserconfig(mt,lt),Ct=!!_t?.approvalPolicy||!!_t?.sandboxMode,kt=reactExports.useMemo(()=>Ct?["read-only","auto","full-access","custom"]:["read-only","auto","full-access"],[Ct]),St=()=>{rt("local"),ht("custom"),mt.addAgentModeChangedSyntheticNotification("custom",it),bt(!1)},{data:Rt}=useOsInfo(),{data:Tt}=useConfiguration(ConfigurationKeys.RUN_CODEX_IN_WSL),[,Mt]=useShowWindowsSandboxBanner(),{data:Pt,isLoading:It}=useGlobalState(GlobalStateKey.WINDOWS_SANDBOX_ENABLED),Lt=reactExports.useMemo(()=>!Rt||Rt.platform!=="win32"||Rt.isVsCodeRunningInsideWsl||Tt?!1:!It&&!Pt,[Pt,Rt,Tt,It]);if(reactExports.useEffect(()=>{Lt&&ut==="auto"&&!It&&ht("read-only")},[Lt,ut,ht,It]),Ye!=="local")return null;let Ot;switch(ut){case"auto":Ot=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.auto",defaultMessage:"Agent",description:"Dropdown label for when Codex's permissions are set to auto"});break;case"read-only":Ot=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.readOnly",defaultMessage:"Chat",description:"Dropdown label for when Codex's permissions are set to read-only"});break;case"full-access":Ot=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccess",defaultMessage:"Agent (full access)",description:"Dropdown label for when Codex's permissions are set to full-access"});break;case"custom":Ot=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.custom",defaultMessage:"Custom",description:"Dropdown label for when Codex's permissions are set by config.toml"});break}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:lt,onOpenChange:ct,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip",defaultMessage:"Switch mode",description:"Tooltip content for agent mode dropdown trigger"})}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",children:[jsxRuntimeExports.jsx(AgentModeIcon,{mode:ut,className:"icon-2xs shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate max-[440px]:hidden",children:Ot}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"w-55 flex flex-col px-1 pt-1",children:[jsxRuntimeExports.jsx(Dropdown.Title,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.changePermission",defaultMessage:"Switch mode",description:"Header label above agent mode options"})}),kt.map(Ft=>{const Ut=Ft==="custom"&&!Ct,Wt=Ft==="read-only"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip.readOnly",defaultMessage:"Requires approval to edit files and run commands.",description:"Tooltip describing the Codex agent permissions when in read-only mode"}):Ft==="auto"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip.auto",defaultMessage:"Read and edit files, and run commands.",description:"Tooltip describing the Codex agent permissions when in auto mode"}):Ft==="full-access"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip.fullAccess",defaultMessage:"Codex can edit files outside this workspace and run commands with network access. Exercise caution when using.",description:"Tooltip describing the Codex agent permissions when in full-access mode"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip.custom",defaultMessage:"Use the latest approval and sandbox policies defined in config.toml.",description:"Tooltip describing the Codex agent permissions when sourced from config.toml"}),!Ct&&jsxRuntimeExports.jsx("span",{className:"mt-1 block",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.tooltip.custom.noPolicies",defaultMessage:"No custom policies detected.",description:"Message shown when custom agent mode has no config policies available"})})]});return jsxRuntimeExports.jsx(AgentModeItem,{option:Ft,isCurrent:ut===Ft,disabled:Ut,label:Ft==="read-only"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.readOnly",defaultMessage:"Chat",description:"Agent mode option label: read-only"}):Ft==="auto"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.auto",defaultMessage:"Agent",description:"Agent mode option label: auto"}):Ft==="full-access"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccess",defaultMessage:"Agent (full access)",description:"Agent mode option label: full-access"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.custom",defaultMessage:"Custom (config.toml)",description:"Agent mode option label: custom config"}),tooltip:Wt,onSelect:Kt=>{if(Kt===ut){ct(!1);return}if(Kt==="auto"&&Lt){Mt(!0);return}if(Kt==="full-access"&&!ft){yt(!0),ct(!1);return}if(Kt==="custom"){ct(!1),bt(!0);return}rt("local"),ht(Kt),mt.addAgentModeChangedSyntheticNotification(Kt,it),ct(!1)}},Ft)})]})}),jsxRuntimeExports.jsx(FullAccessConfirmDialog,{open:gt,onOpenChange:Ft=>yt(Ft),onConfirm:()=>{rt("local"),ht("full-access"),mt.addAgentModeChangedSyntheticNotification("full-access",it),pt(!0),yt(!1)}}),jsxRuntimeExports.jsx(CustomModeInfoDialog,{open:xt,onOpenChange:Ft=>{bt(Ft)},onCancel:()=>bt(!1),onConfirm:St})]})}function AgentModeItem({option:Ye,isCurrent:rt,disabled:it,label:lt,tooltip:ct,onSelect:ut}){return jsxRuntimeExports.jsx(Dropdown.Item,{onClick:()=>ut(Ye),children:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"block max-w-36",children:ct}),side:"top",align:"center",sideOffset:6,delayOpen:!0,children:jsxRuntimeExports.jsxs("span",{className:clsx("flex items-center gap-2",it?"opacity-60":""),children:[jsxRuntimeExports.jsx("span",{className:"icon-2xs flex items-center justify-center",children:jsxRuntimeExports.jsx(AgentModeIcon,{mode:Ye,className:"icon-2xs"})}),jsxRuntimeExports.jsx("span",{className:"truncate",children:lt}),jsxRuntimeExports.jsx("span",{className:"icon-2xs ms-auto flex items-center justify-center",children:rt&&jsxRuntimeExports.jsx(SvgCheckMd,{className:"icon-2xs"})})]})})})}function CustomModeInfoDialog({open:Ye,onOpenChange:rt,onCancel:it,onConfirm:lt}){return jsxRuntimeExports.jsx(Dialog,{open:Ye,showDialogClose:!1,onOpenChange:rt,contentClassName:"top-auto bottom-0 -translate-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.title",defaultMessage:"How custom mode works",description:"Title for dialog explaining custom agent mode"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-xs",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.description",defaultMessage:"Custom mode applies the approval and sandbox policies defined in your <link>config.toml</link> file.",description:"Description of how custom agent mode reads settings from config.toml",values:{link:ct=>jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-text-link-foreground cursor-pointer underline-offset-2 focus:outline-none",onClick:()=>{messageBus.dispatchMessage("open-config-toml",{})},children:ct})}})}),jsxRuntimeExports.jsxs("ul",{className:"text-token-description-foreground list-disc ps-5 text-xs",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.cli",defaultMessage:"You can adjust those settings from the CLI or by editing the file directly.",description:"Explains how to update custom agent mode configuration"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.refresh",defaultMessage:"Any changes take effect the next time agent runs.",description:"Explains when custom agent mode changes are applied"})})]}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-xs",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.docs",defaultMessage:"Learn more about configuring approval and sandbox polices in the <link>execution environment docs</link>.",description:"Link to documentation about configuring custom agent mode",values:{link:ct=>jsxRuntimeExports.jsx("a",{className:"text-token-text-link-foreground",href:"https://github.com/openai/codex/blob/main/docs/config.md#execution-environment",target:"_blank",rel:"noreferrer",children:ct})}})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{color:"outline",onClick:()=>{it()},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.cancel",defaultMessage:"Cancel",description:"Button label to cancel custom mode dialog"})}),jsxRuntimeExports.jsx(Button,{color:"primary",onClick:()=>{lt()},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.customInfo.confirm",defaultMessage:"Use custom mode",description:"Button label to confirm custom mode selection"})})]})]})})}function FullAccessConfirmDialog({open:Ye,onOpenChange:rt,onConfirm:it}){return jsxRuntimeExports.jsx(Dialog,{open:Ye,showDialogClose:!1,onOpenChange:rt,contentClassName:"top-auto bottom-0 -translate-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccessConfirm.title",defaultMessage:"Enable full access?",description:"Title for confirmation dialog when switching to full-access"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccessConfirm.description",defaultMessage:"When Codex runs with full access, it can edit any file on your computer and run commands with network, without your approval.",description:"Description of implications when confirming full-access mode"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccessConfirm.caution",defaultMessage:"Exercise caution when enabling full access. This significantly increases the risk of data loss, leaks, or unexpected behavior.",description:"Warning of dangers when confirming full-access mode"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{color:"primary",onClick:()=>{rt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccessConfirm.goBack",defaultMessage:"Cancel",description:"Button to cancel enabling full-access"})}),jsxRuntimeExports.jsx(Button,{color:"danger",onClick:()=>{it()},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccessConfirm.confirm",defaultMessage:"Yes, continue anyway",description:"Button to confirm enabling full-access and that the user understands the implications of full-access mode"})})]})]})})}const DEFAULT_MAX_ATTEMPTS=4;function AttemptsSelector(){const[Ye,rt]=useAtom(aComposerBestOfN),[it,lt]=reactExports.useState(!1);return jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:it,onOpenChange:lt,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.attemptsSelector.tooltip",defaultMessage:"Number of parallel attempts for Codex to make",description:"Tooltip explaining a dropdown explaining that the user can set the number of parallel attempts for Codex to make"}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",children:[jsxRuntimeExports.jsx(BestOfNIcon,{className:"icon-2xs",attempts:Ye}),jsxRuntimeExports.jsx("span",{className:"tabular-nums",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.attemptsSelector.trigger",defaultMessage:"{count}x",description:"Button label showing selected number of versions",values:{count:Ye}})})]})}),children:jsxRuntimeExports.jsx("div",{className:"flex w-44 flex-col px-1",children:Array.from({length:DEFAULT_MAX_ATTEMPTS},(ct,ut)=>ut+1).map(ct=>{const ut=({className:ht})=>jsxRuntimeExports.jsx(BestOfNIcon,{className:ht,attempts:ct});return jsxRuntimeExports.jsx(Dropdown.Item,{className:"w-full",LeftIcon:ut,RightIcon:Ye===ct?SvgCheckMd:void 0,onClick:()=>{rt(ct),lt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.attemptsSelector.option",defaultMessage:"{count, plural, one {# version} other {# versions}}",description:"Option label to select number of versions",values:{count:ct}})},ct)})})})}function CloudFollowUpLocalRemoteDropdown({composerMode:Ye,setComposerMode:rt,followUp:it}){const[lt,ct]=reactExports.useState(!1),ut=it.type==="cloud"&&it.hasAppliedCodeLocally;reactExports.useEffect(()=>{ut&&rt("local")},[ut,rt]);const ht=Ye==="local"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$3.local}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$3.cloud});return jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:lt,onOpenChange:ct,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$3.tooltip}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",children:[Ye==="cloud"?jsxRuntimeExports.jsx(SvgCloud,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgMacbook,{className:"icon-2xs"}),jsxRuntimeExports.jsx("span",{className:"max-[440px]:hidden",children:ht}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex w-44 flex-col px-1",children:[jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgMacbook,RightIcon:Ye==="local"?SvgCheckMd:void 0,onClick:()=>{rt("local"),ct(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$3.local})}),jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgCloud,RightIcon:Ye==="cloud"?SvgCheckMd:void 0,onClick:()=>{rt("cloud"),ct(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$3.cloud})})]})})}const messages$3={local:{id:"composer.cloudFollowUp.local",defaultMessage:"Local",description:"Local follow-up option"},cloud:{id:"composer.cloudFollowUp.cloud",defaultMessage:"Cloud",description:"Cloud follow-up option"},tooltip:{id:"composer.cloudFollowUp.whereRun",defaultMessage:"Where should this follow-up run?",description:"Tooltip for choosing between local and cloud follow-ups"}};function Badged({children:Ye,borderColor:rt,badgeEnabled:it=!0}){return it?jsxRuntimeExports.jsxs("div",{className:"relative",children:[Ye,jsxRuntimeExports.jsx("div",{className:clsx("bg-token-text-link-active-foreground absolute right-0 top-0 size-[7px] translate-x-[2px] translate-y-[-2px] rounded-full border-[1px]",rt,!it&&"hidden")})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye})}function CloudFollowUpStartingStateDropdown({startingState:Ye,setStartingState:rt}){const[it,lt]=reactExports.useState(!1),ct=Ye==="working-tree"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$2.workingTree}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$2.directFollowUp});return jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:it,onOpenChange:lt,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.startingPoint",defaultMessage:"What code should the cloud task start from?",description:"Section label for remote starting point selector"})}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",children:[jsxRuntimeExports.jsx(Badged,{borderColor:"border-token-side-bar-background",badgeEnabled:Ye==="working-tree",children:jsxRuntimeExports.jsx(SvgBranch,{className:"icon-2xs"})}),jsxRuntimeExports.jsx("span",{className:"max-xs:hidden truncate",children:ct}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 px-1 pt-1",children:[jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.currentEditsSuffix",defaultMessage:"Create a new task that references this cloud task.",description:"Suffix text indicating the selection includes current edits"}),children:jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:BadgedBranchIcon$1,RightIcon:Ye==="working-tree"?SvgCheckMd:void 0,onClick:()=>{rt("working-tree"),lt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$2.workingTree})})}),jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgBranch,RightIcon:Ye==="direct-follow-up"?SvgCheckMd:void 0,onClick:()=>{rt("direct-follow-up"),lt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$2.directFollowUp})})]})})}function BadgedBranchIcon$1({className:Ye}){return jsxRuntimeExports.jsx(Badged,{borderColor:"border-token-dropdown-background",children:jsxRuntimeExports.jsx(SvgBranch,{className:Ye})})}const messages$2={workingTree:{id:"composer.remote.localWorkingTree",defaultMessage:"Use local changes",description:"Label for local working tree selection in remote composer"},directFollowUp:{id:"composer.remote.directFollowUp",defaultMessage:"Don't use local changes",description:"Label for direct follow-up selection in remote composer"}},SvgTerminal=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M6.3963 7.95325C6.62358 7.72629 6.97521 7.69786 7.23322 7.86829L7.33771 7.95325L9.00373 9.62024C9.26331 9.87983 9.26309 10.3009 9.00373 10.5607L7.33771 12.2277C7.07801 12.4874 6.656 12.4874 6.3963 12.2277C6.13687 11.9681 6.13698 11.5469 6.3963 11.2872L7.59259 10.09L6.3963 8.89466L6.31134 8.79016C6.14089 8.53204 6.16906 8.1805 6.3963 7.95325Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M13.6668 11.1066C13.9699 11.1685 14.1981 11.4365 14.1981 11.7579C14.1979 12.0792 13.9698 12.3474 13.6668 12.4093L13.533 12.423H11.033C10.666 12.4228 10.3682 12.125 10.368 11.7579C10.368 11.3908 10.6659 11.0931 11.033 11.0929H13.533L13.6668 11.1066Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8602 2.75598C13.5492 2.75598 14.1062 2.75533 14.5565 2.79212C15.0142 2.82953 15.4201 2.9089 15.7967 3.10071C16.3922 3.40415 16.8771 3.88899 17.1805 4.4845C17.3723 4.86109 17.4517 5.26698 17.4891 5.72473C17.5259 6.17496 17.5252 6.73196 17.5252 7.42102V12.7511C17.5252 13.4401 17.5259 13.9972 17.4891 14.4474C17.4517 14.9051 17.3723 15.311 17.1805 15.6876C16.877 16.2831 16.3922 16.768 15.7967 17.0714C15.4201 17.2632 15.0142 17.3426 14.5565 17.38C14.1062 17.4168 13.5492 17.4161 12.8602 17.4161H7.53009C6.84103 17.4161 6.28403 17.4168 5.8338 17.38C5.37605 17.3426 4.97016 17.2632 4.59357 17.0714C3.99806 16.768 3.51322 16.2831 3.20978 15.6876C3.01797 15.311 2.9386 14.9051 2.90118 14.4474C2.8644 13.9972 2.86505 13.4401 2.86505 12.7511V7.42102C2.86505 6.73196 2.8644 6.17496 2.90118 5.72473C2.9386 5.26695 3.01798 4.86111 3.20978 4.4845C3.51322 3.88896 3.99803 3.40415 4.59357 3.10071C4.97018 2.90891 5.37602 2.82953 5.8338 2.79212C6.28403 2.75533 6.84103 2.75598 7.53009 2.75598H12.8602ZM7.53009 4.08606C6.81909 4.08606 6.32571 4.08696 5.9422 4.11829C5.56651 4.14899 5.35509 4.20575 5.19708 4.28626C4.85184 4.46218 4.57125 4.74277 4.39533 5.08801C4.31482 5.24602 4.25806 5.45744 4.22736 5.83313C4.19603 6.21664 4.19513 6.71002 4.19513 7.42102V12.7511C4.19513 13.4621 4.19602 13.9555 4.22736 14.339C4.25806 14.7146 4.31483 14.9261 4.39533 15.0841C4.57126 15.4293 4.85187 15.71 5.19708 15.8859C5.35508 15.9664 5.56655 16.0231 5.9422 16.0538C6.32571 16.0852 6.81909 16.0861 7.53009 16.0861H12.8602C13.5711 16.0861 14.0646 16.0852 14.4481 16.0538C14.8237 16.0231 15.0352 15.9664 15.1932 15.8859C15.5384 15.71 15.819 15.4293 15.9949 15.0841C16.0754 14.9261 16.1322 14.7146 16.1629 14.339C16.1942 13.9555 16.1951 13.4621 16.1951 12.7511V7.42102C16.1951 6.71002 16.1942 6.21664 16.1629 5.83313C16.1322 5.45748 16.0754 5.24601 15.9949 5.08801C15.819 4.7428 15.5384 4.46219 15.1932 4.28626C15.0352 4.20576 14.8237 4.14899 14.4481 4.11829C14.0646 4.08695 13.5711 4.08606 12.8602 4.08606H7.53009Z",fill:"currentColor"}));function CustomCliIcon(){const{data:Ye}=useFetchFromVSCode("has-custom-cli-executable");return Ye?.hasCustomCliExecutable??!1?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.customCliTooltip",defaultMessage:"You have aset a custom CLI executable in settings.",description:"Tooltip text shown when the user has set a custom Codex CLI executable in their VS Code settings."}),children:jsxRuntimeExports.jsx(SvgTerminal,{className:"text-token-editor-warning-foreground icon-xs"})}):null}function LocalActiveWorkspaceRootDropdown({disabled:Ye=!1}){const rt=useConversations(),it=useTasks({taskFilter:"current",limit:20}),lt=useMergedTasks(it,rt,null),ct=useRepositoryTaskGroups(lt),{data:ut,isLoading:ht}=useFetchFromVSCode("active-workspace-roots"),{data:ft}=useFetchFromVSCode("workspace-root-options",{select:bt=>bt.roots??[]}),pt=ut?.roots?.[0]??ft?.[0],[mt,gt]=reactExports.useState(!1),yt=reactExports.useCallback(bt=>{MessageBus.getInstance().dispatchMessage("electron-set-active-workspace-root",{root:bt})},[]);if(!ft?.length)return null;const xt=labelForRoot(pt??"",ct);return jsxRuntimeExports.jsxs(BasicDropdown,{open:mt,onOpenChange:gt,side:"top",disabled:Ye,triggerButton:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",className:"min-w-0",children:[ht?jsxRuntimeExports.jsx(Spinner,{className:"icon-xs shrink-0"}):jsxRuntimeExports.jsx(SvgFolder,{className:"icon-xs shrink-0"}),jsxRuntimeExports.jsx("span",{className:"max-w-[180px] truncate text-left",children:xt??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.localCwdDropdown.noActiveRoot",defaultMessage:"Select a folder",description:"Shown when no active root is selected"})}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground shrink-0"})]}),contentClassName:"min-w-[260px] max-h-[320px] gap-2 pt-2",children:[jsxRuntimeExports.jsx(Dropdown.Title,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.localCwdDropdown.title",defaultMessage:"Select a folder",description:"Label for local working directory dropdown"})}),jsxRuntimeExports.jsxs("div",{className:"flex max-h-[250px] flex-col overflow-y-auto px-1 [--edge-fade-distance:1.5rem]",children:[ct.map(bt=>jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx(DropdownItem,{LeftIcon:SvgFolder,RightIcon:bt.path===pt?SvgCheckMd:void 0,onSelect:()=>{yt(bt.path),gt(!1)},children:bt.label},bt.path)})),ct.length===0?jsxRuntimeExports.jsx("div",{className:"text-token-muted-foreground px-3 py-2 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.localCwdDropdown.noResults",defaultMessage:"No folders found",description:"Shown when searching for workspace roots returns no results"})}):null]})]})}function labelForRoot(Ye,rt){for(const it of rt)if(it.path===Ye)return it.label;return Ye}function EnvironmentSelectorDropdownItem({selectedEnvironment:Ye,zeroEnvironments:rt,onClick:it}){return rt?jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgCodex,RightIcon:SvgLinkExternal,href:CODEX_HOME_URL,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.connectToCloud",defaultMessage:"Setup an environment via Codex web",description:"Menu item to setup an environment via Codex web"})}):jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgDock,RightIcon:SvgChevronRight,onClick:lt=>{lt.stopPropagation(),lt.preventDefault(),it()},children:Ye?.label??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environmentSelector.noEnvironment",defaultMessage:"No environment",description:"No environment selected message"})})}function EnvironmentSelector({selectedEnvironment:Ye,envQuery:rt,setEnvQuery:it,envListState:lt,listToShow:ct,setComposerMode:ut,setSelectedEnvironment:ht,setOpen:ft,onClosePanel:pt}){const mt=useIntl();return jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col",children:jsxRuntimeExports.jsxs("div",{className:"flex w-56 flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"my-1 grid w-full grid-cols-[auto_1fr] items-center px-2",children:[jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon",onClick:gt=>{gt.stopPropagation(),gt.preventDefault(),pt()},children:jsxRuntimeExports.jsx(SvgArrowLeft,{className:"icon-xxs"})}),jsxRuntimeExports.jsx(Dropdown.Input,{placeholder:mt.formatMessage({id:"composer.searchEnvironments",defaultMessage:"Search environments",description:"Search environments placeholder"}),value:rt,onChange:gt=>it(gt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex h-[150px] flex-col overflow-y-auto px-1 pb-1",children:[lt==="list"&&ct?.map(gt=>jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:gt.id===Ye?.id?SvgCheckMd:void 0,onClick:()=>{ut("cloud"),ht(gt),ft(!1)},children:gt.label},gt.id)),lt==="none-found"&&jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground self-center px-2 py-3 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.noEnvironmentsFound",defaultMessage:"No environments found",description:"Message shown when no Codex environments were found"})}),lt==="loading"&&jsxRuntimeExports.jsx(Spinner,{className:"text-token-description-foreground icon-xxs my-4 ms-2 self-center"}),lt==="error"&&jsxRuntimeExports.jsx("div",{className:"w-full rounded-lg py-1.5 text-sm",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(SvgDock,{className:"icon-xs"}),jsxRuntimeExports.jsx("span",{className:"flex-1 truncate",children:Ye?.label??jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environmentSelector.noEnvironment",defaultMessage:"No environment",description:"No environment selected message"})}),jsxRuntimeExports.jsx(SvgChevronRight,{className:"icon-xs"})]})})]}),jsxRuntimeExports.jsx(Dropdown.Separator,{className:"px-1"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col px-1",children:[jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgSettingscog,RightIcon:SvgLinkExternal,href:`${CODEX_HOME_URL}/settings/environments`,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.environmentSettings",defaultMessage:"Environment settings",description:"Codex code environment settings link"})}),jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgNotebook,RightIcon:SvgLinkExternal,href:"https://platform.openai.com/docs/codex/overview#environment-configuration",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.environments.learnMore",defaultMessage:"Learn more",description:"Codex code environment learn more link"})})]})]})})}const MINUTES_IN_HOUR=60,MINUTES_IN_DAY=24*MINUTES_IN_HOUR,MINUTES_IN_WEEK=7*MINUTES_IN_DAY,SECONDS_IN_DAY=60*MINUTES_IN_DAY,WARNING_THRESHOLD=90;function getSecondsUntilReset(Ye,rt=new Date){const it=toResetDate(Ye);return it?Math.floor((it.getTime()-rt.getTime())/1e3):null}function getRateLimitAlertData(Ye){const{primary:rt,secondary:it}=Ye??{primary:null,secondary:null},lt=rt?.used_percent??0,ct=it?.used_percent??0,ut=rt?.window_minutes??0,ht=it?.window_minutes??0,ft=Math.max(lt,ct);return ft<WARNING_THRESHOLD?null:ct>lt||lt===ct&&ht>ut?{severity:ft>=100?"blocked":"warning",usedPercent:ct,remainingPercent:getRemainingPercent(ct),windowMinutes:ht,resetsAt:it?.resets_at??null}:ft===lt?{severity:ft>=100?"blocked":"warning",usedPercent:lt,remainingPercent:getRemainingPercent(lt),windowMinutes:ut,resetsAt:rt?.resets_at??null}:null}function getRemainingPercent(Ye){return Number.isFinite(Ye)?Math.min(Math.max(100-Ye,0),100):100}function formatResetLocalTime(Ye,rt=new Date){const it=toResetDate(Ye);if(!it)return null;const lt=Math.floor((it.getTime()-rt.getTime())/1e3);return lt<=0?new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}).format(0,"second"):lt<SECONDS_IN_DAY?new Intl.DateTimeFormat(void 0,{timeStyle:"short"}).format(it):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(it)}function toResetDate(Ye){if(Ye==null||!Number.isFinite(Ye))return null;const rt=Ye*1e3;return Number.isFinite(rt)?new Date(rt):null}function RateLimitWindowLabel({minutes:Ye,variant:rt="summary"}){const it=Ye??0;if(it>=MINUTES_IN_WEEK-1){const lt=Math.ceil(it/MINUTES_IN_WEEK);return rt==="summary"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.weeklyDynamicTitle",defaultMessage:"{weeks, plural, one {Weekly} other {{weeks} Week}}",description:"Dynamic weekly rate limit label (title case)",values:{weeks:lt}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.weeklyDynamicSentence",defaultMessage:"{weeks, plural, one {weekly limit} other {{weeks} week limit}}",description:"Dynamic weekly rate limit label (sentence case)",values:{weeks:lt}})}if(it>=MINUTES_IN_DAY-1){const lt=Math.ceil(it/MINUTES_IN_DAY);return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.day",defaultMessage:"{days}d",description:"Daily rate limit label",values:{days:lt}})}if(it>=MINUTES_IN_HOUR){const lt=Math.ceil(it/MINUTES_IN_HOUR);return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.hour",defaultMessage:"{hours}h",description:"Hourly rate limit label",values:{hours:lt}})}if(it>0){const lt=Math.ceil(it);return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.minute",defaultMessage:"{minutes}m",description:"Minute rate limit label",values:{minutes:lt}})}return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.heading",defaultMessage:"Rate limits remaining",description:"Rate limit summary heading"})}function BulletSeparator(){return jsxRuntimeExports.jsx("span",{"aria-hidden":!0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.ui.bulletSeparator",defaultMessage:"",description:"Middle dot separator used between inline items"})})}const SvgDiamond=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M7.50069 5.83301C7.67768 5.83333 7.82646 5.96668 7.84639 6.14258C7.96907 7.22552 8.58299 7.88863 9.68233 7.98633C9.86225 8.00231 9.99991 8.15335 9.99971 8.33398C9.99937 8.5145 9.86123 8.66509 9.68135 8.68066C8.59777 8.77458 7.94128 9.43107 7.84737 10.5146C7.83179 10.6945 7.68121 10.8327 7.50069 10.833C7.32005 10.8332 7.16901 10.6956 7.15303 10.5156C7.05534 9.41628 6.39223 8.80236 5.30928 8.67969C5.13338 8.65976 5.00004 8.51098 4.99971 8.33398C4.99953 8.15695 5.13247 8.00771 5.3083 7.9873C6.40689 7.8606 7.0273 7.24018 7.15401 6.1416C7.17441 5.96577 7.32365 5.83283 7.50069 5.83301Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.571 3.23242C13.3086 3.23252 14.0192 3.51047 14.5612 4.01074L17.736 6.94043L17.8952 7.10352C18.589 7.89226 18.6127 9.07383 17.9509 9.88965L17.7985 10.0586L10.9821 16.875C10.4396 17.4171 9.55974 17.4172 9.01729 16.875L2.20088 10.0586C1.33274 9.19035 1.36133 7.77335 2.26338 6.94043L5.43819 4.01074L5.64912 3.83301C6.15822 3.44477 6.78316 3.23258 7.42842 3.23242H12.571ZM7.42842 4.46484C7.05452 4.465 6.69221 4.58856 6.39717 4.81348L6.2751 4.91699L3.1003 7.84668C2.71294 8.2045 2.70011 8.81357 3.07295 9.18652L9.88936 16.0029C9.95019 16.0636 10.0491 16.0634 10.1101 16.0029L16.9265 9.18652L16.9919 9.11426C17.2764 8.76372 17.2658 8.2559 16.9675 7.91699L16.8991 7.84668L13.7243 4.91699C13.4101 4.62701 12.9986 4.46494 12.571 4.46484H7.42842Z",fill:"currentColor"}));function RateLimitSummary({rateLimit:Ye}){const rt=!!Ye?.primary?.window_minutes,it=!!Ye?.secondary?.window_minutes,lt=getRateLimitAlertData(Ye);return jsxRuntimeExports.jsx(BasicSubDropdown,{trigger:jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgSpeedometer,RightIcon:SvgChevronRight,children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.rateLimit.heading",defaultMessage:"Rate limits remaining",description:"Rate limit summary heading"}),lt&&jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground whitespace-nowrap opacity-60",children:formatPercent(lt.remainingPercent,{clamp:!0})})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-x-16 gap-y-1.5 py-1 pl-2",children:[rt&&jsxRuntimeExports.jsx(RateLimitRow,{bucket:Ye.primary??null}),it&&jsxRuntimeExports.jsx(RateLimitRow,{bucket:Ye.secondary??null})]}),jsxRuntimeExports.jsx(PlanUpgradeRow,{}),jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgNotebook,RightIcon:SvgLinkExternal,href:"https://help.openai.com/en/articles/11369540-using-codex-with-your-chatgpt-plan#h_8dd84c836b",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local",defaultMessage:"Learn more",description:"Learn more about rate limits"})})]})})}function RateLimitRow({bucket:Ye}){if(!Ye||(Ye.window_minutes??0)<0)return null;const rt=formatResetLocalTime(Ye.resets_at??null),it=100-(Ye.used_percent??0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground font-medium",children:jsxRuntimeExports.jsx(RateLimitWindowLabel,{minutes:Ye.window_minutes??null,variant:"summary"})}),jsxRuntimeExports.jsxs("span",{className:"text-token-description-foreground flex w-full gap-1 text-end",children:[formatPercent(it,{clamp:!0}),rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BulletSeparator,{}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground flex items-center gap-1",children:rt})]})]})]})}function clampPercentage(Ye){return Math.min(Math.max(Ye,0),100)}function formatPercent(Ye,rt){if(!Number.isFinite(Ye))return"";const it=rt?.clamp?clampPercentage(Ye):Ye;return`${Math.round(it)}%`}function PlanUpgradeRow(){const{planAtLogin:Ye,authMethod:rt}=useAuth(),{data:it}=useFetchFromVSCode("account-info",{queryConfig:{enabled:rt==="chatgpt"}});switch(it?.plan??Ye){case AccountPlanType.FREE:case AccountPlanType.GO:return jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgDiamond,RightIcon:SvgLinkExternal,href:"https://openai.com/chatgpt/pricing",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.upgradeToPlus",defaultMessage:"Upgrade to Plus",description:"Upgrade to Plus message for free plan"})});case AccountPlanType.PLUS:return jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgDiamond,RightIcon:SvgLinkExternal,href:"https://openai.com/chatgpt/pricing",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.upgradeToPro",defaultMessage:"Upgrade to Pro",description:"Upgrade to Pro"})});case AccountPlanType.PRO:return null;case AccountPlanType.SELF_SERVE_BUSINESS:case AccountPlanType.ENTERPRISE_CBP:case AccountPlanType.EDUCATION_CBP:case AccountPlanType.QUORUM:case AccountPlanType.DEPRECATED_ENTERPRISE:case AccountPlanType.DEPRECATED_ENTERPRISE_2:case AccountPlanType.DEPRECATED_EDU:case AccountPlanType.DEPRECATED_EDU_2:return jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgDiamond,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.contactAdmin",defaultMessage:"To get more access, contact your admin",description:"Suggest contacting admin for increased access"})});case void 0:return null}}const SvgCloudOff=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M2.5293 2.52884C2.78894 2.26944 3.21106 2.26944 3.4707 2.52884L17.4707 16.5288C17.7303 16.7885 17.7302 17.2105 17.4707 17.4703C17.211 17.7299 16.789 17.7299 16.5293 17.4703L2.5293 3.47025C2.26982 3.21053 2.26967 2.78847 2.5293 2.52884Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M5.00879 7.59623C3.47308 7.96665 2.33223 9.35009 2.33203 10.9995C2.33203 12.9335 3.90007 14.5015 5.83398 14.5015H11.9141L13.2441 15.8316H5.83398C3.16553 15.8316 1.00098 13.668 1.00098 10.9995C1.00115 8.99603 2.22092 7.27763 3.95801 6.54545L5.00879 7.59623Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M10 2.83451C12.9201 2.83476 15.3235 5.04493 15.6309 7.88334C17.5391 8.18581 18.9987 9.83935 18.999 11.8326C18.999 13.0839 18.4227 14.2008 17.5225 14.9341L16.5723 13.9839C17.2353 13.4983 17.6689 12.7171 17.6689 11.8326C17.6685 10.3594 16.4732 9.16485 15 9.16459C14.6329 9.16441 14.335 8.86671 14.335 8.49955C14.3347 6.10576 12.3938 4.16485 10 4.16459C9.08152 4.16465 8.22971 4.45217 7.52832 4.93998L6.57617 3.98783C7.52699 3.26515 8.71302 2.83458 10 2.83451Z",fill:"currentColor"})),DEFAULT_REFRESH_INTERVAL_SECONDS=1800,MIN_REFRESH_INTERVAL_MS=6e4;function toMcpRateLimitSnapshot(Ye,rt){return{primary:toMcpRateLimitWindow(Ye?.primary_window),secondary:toMcpRateLimitWindow(Ye?.secondary_window),credits:toMcpCredits(rt)}}function toMcpRateLimitWindow(Ye){return Ye?{used_percent:Ye.used_percent??0,window_minutes:Ye.limit_window_seconds!=null?Ye.limit_window_seconds/60:null,resets_at:Ye.reset_at}:null}function toMcpCredits(Ye){return Ye?{has_credits:Ye.has_credits,unlimited:Ye.unlimited,balance:Ye.balance??null}:null}const toRefreshIntervalMs=(Ye,rt=new Date)=>{const it=getSecondsUntilReset(Ye?.primary_window?.reset_at??null,rt)??DEFAULT_REFRESH_INTERVAL_SECONDS,lt=getSecondsUntilReset(Ye?.secondary_window?.reset_at??null,rt)??DEFAULT_REFRESH_INTERVAL_SECONDS;return Math.min(Math.min(it,lt)*1e3,MIN_REFRESH_INTERVAL_MS)},useRateLimit=Ye=>{const{enabled:rt=!0}={},{authMethod:it}=useAuth(),lt=rt&&it==="chatgpt";return useQuery({queryKey:["rate-limit-status"],enabled:lt,queryFn:async()=>{try{return await fetchRateLimitStatus()}catch(ct){if(ct instanceof FetchError&&(ct.status===401||ct.status===403||ct.status===404))return null;throw ct}},retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:lt?"always":!1,refetchInterval:ct=>ct.state.data?toRefreshIntervalMs(ct.state.data.rate_limit):!1})};function LocalRemoteDropdown({composerMode:Ye,setComposerMode:rt,allowWorktree:it=!1,disabled:lt=!1}){const ct=useIntl(),ut=useStatsigGate("codex_app_worktrees"),ht=it&&ut,{access:ft,refetch:pt}=useCodexCloudAccess(),mt=useRateLimit().data??null,gt=toMcpRateLimitSnapshot(mt?.rate_limit,mt?.credits),yt=!!gt?.primary?.window_minutes||!!gt?.secondary?.window_minutes,[xt,bt]=reactExports.useState(!1),[_t,Ct]=reactExports.useState(!1),[kt,St]=useAtom(aEnvironmentAtom),[Rt,Tt]=reactExports.useState(""),Mt=reactExports.useDeferredValue(Rt),{data:Pt,refetch:It}=useWorkspaceEnvironments({enabled:ft==="enabled"}),{data:Lt,isLoading:Ot,error:Ft}=useEnvironments({enabled:ft==="enabled"}),Wt=useStatsigGate("codex_worktree_snapshots")&&(Lt?.length??0)===0,Kt=kt?.id,[Qt,Zt]=reactExports.useMemo(()=>{const Nt=Pt??[],qt=Lt??[],Gt=uniqBy([...Nt,...qt],Bt=>Bt.id),Ht=Bt=>Bt.sort((nr,rr)=>{if(nr.id===Kt)return-1;if(rr.id===Kt)return 1;const Jt=Nt.some(br=>br.id===nr.id),ir=Nt.some(br=>br.id===rr.id);if(Jt!==ir)return Jt?-1:1;const ar=!!nr.is_pinned,cr=!!rr.is_pinned;if(ar!==cr)return ar?-1:1;const dr=nr.task_count??0,xr=rr.task_count??0;return dr!==xr?xr-dr:(nr.label??"").localeCompare(rr.label??"")}),Xt=Mt.trim();if(Xt.length>0){const Bt=Xt.toLowerCase(),nr=Gt.filter(rr=>rr.label?.toLowerCase().includes(Bt));return[Ht(nr),Ft]}return[Ht(Gt),Ft]},[Kt,Pt,Lt,Mt,Ft]);reactExports.useEffect(()=>{xt&&(ft==="enabled"&&!Pt?.length&&!Ot&&It(),ft!=="enabled"&&ft!=="loading"&&!Ot&&pt())},[xt,ft,Pt?.length,Ot,It,pt]),reactExports.useEffect(()=>{!kt&&Qt?.length>0&&St(Qt[0])},[Qt,kt,St]);const Vt=Zt instanceof FetchError&&Zt.status===404,$t=Qt?.length?"list":Ot?"loading":Zt&&!Vt?"error":Rt.length?"none-found":"empty";useProvideSlashCommand({id:"local",title:ct.formatMessage(messages$1.workLocally),Icon:SvgMacbook,enabled:Ye!=="local",onSelect:reactExports.useCallback(async()=>{rt("local")},[rt])}),useProvideSlashCommand({id:"cloud",title:ct.formatMessage(messages$1.runInCloud),Icon:SvgCloud,enabled:ft==="enabled"&&Ye!=="cloud",onSelect:reactExports.useCallback(async()=>{rt("cloud")},[rt])});const zt=reactExports.useMemo(()=>{function Nt({onClose:qt}){const Gt=P$2(Xt=>Xt.search),Ht=Qt?.filter(Xt=>Xt.label?.toLowerCase().includes(Gt?.toLowerCase()??""))?.slice(0,100);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ht?.map(Xt=>jsxRuntimeExports.jsx(SlashCommandItem,{value:Xt.label??"",title:Xt.label??"",onSelect:()=>{rt("cloud"),St(Xt),qt()},RightIcon:Xt.id===kt?.id?SvgCheckMd:void 0},Xt.id))})}return Nt},[rt,kt,St,Qt]);return useProvideSlashCommand({id:"cloud-environment",title:ct.formatMessage(messages$1.cloudEnvironmentTitle),description:kt?.label??void 0,Icon:SvgDock,enabled:ft==="enabled"&&Ye==="cloud",Content:zt,dependencies:[Qt,kt?.id]}),jsxRuntimeExports.jsx(BasicDropdown,{side:"top",disabled:lt,open:xt,onOpenChange:Nt=>{bt(Nt),Nt||Ct(!1)},triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.localRemoteWhereRun",defaultMessage:"Set local or cloud",description:"Tooltip content for local/remote dropdown"}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",children:[Ye==="cloud"?jsxRuntimeExports.jsx(SvgCloud,{className:"icon-2xs"}):Ye==="worktree"?jsxRuntimeExports.jsx(SvgBranch,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgMacbook,{className:"icon-2xs"}),jsxRuntimeExports.jsx("span",{className:"max-[440px]:hidden",children:Ye==="cloud"?kt||Wt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.label",defaultMessage:"Cloud",description:"Label shown when a Codex task will be run in the cloud"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.selectEnvironment",defaultMessage:"Select an environment",description:"Remote mode label when no environment is selected"}):Ye==="worktree"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$1.worktreeMode}):jsxRuntimeExports.jsx(LocalModeLabel,{rateLimit:gt})}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:_t?jsxRuntimeExports.jsx(EnvironmentSelector,{selectedEnvironment:kt,envQuery:Rt,setEnvQuery:Tt,envListState:$t,listToShow:Qt,setComposerMode:rt,setSelectedEnvironment:Nt=>St(Nt),setOpen:Ct,onClosePanel:()=>Ct(!1)}):jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col px-1",ft==="enabled"?"min-w-[175px]":"w-52"),children:[ft==="enabled"?jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgCloud,RightIcon:Ye==="cloud"?SvgCheckMd:void 0,onClick:()=>{rt("cloud")},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$1.runInCloud})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgCodex,RightIcon:SvgLinkExternal,href:CODEX_HOME_URL,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.connectToCloud",defaultMessage:"Connect Codex web",description:"Menu item to connect Codex Cloud"})}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("div",{className:"max-w-[150px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.connectToCloudDisabledTooltip",defaultMessage:"Set up an environment via Codex web to enable sending tasks to the cloud",description:"Tooltip for disabled send to cloud item when Cloud is not connected"})}),children:jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgCloudOff,disabled:!0,className:"cursor-not-allowed",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.remote.sendToCloud",defaultMessage:"Send to cloud",description:"Disabled label when Codex Cloud is not connected"})})})})]}),ft==="enabled"&&jsxRuntimeExports.jsx(EnvironmentSelectorDropdownItem,{selectedEnvironment:kt,zeroEnvironments:Wt,onClick:()=>Ct(!0)}),jsxRuntimeExports.jsx("div",{className:"bg-token-foreground/10 mx-1 my-1.5 h-[0.5px]"}),yt&&jsxRuntimeExports.jsx(RateLimitSummary,{rateLimit:gt}),ht&&jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgBranch,RightIcon:Ye==="worktree"?SvgCheckMd:void 0,onClick:()=>{rt("worktree"),bt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$1.worktreeMode})}),jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:SvgMacbook,RightIcon:Ye==="local"?SvgCheckMd:void 0,onClick:()=>{rt("local"),bt(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{...messages$1.workLocally})})]})})}function LocalModeLabel({rateLimit:Ye}){const rt=reactExports.useMemo(()=>getRateLimitAlertData(Ye),[Ye]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local",defaultMessage:"Local",description:"Local mode label"}),rt&&jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground whitespace-nowrap opacity-60",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.ratePercent",defaultMessage:" {usage}%",description:"Rate limit percent appended to Local when near limit",values:{usage:Math.round(rt.usedPercent)}})})]})}const messages$1={workLocally:{id:"composer.mode.workLocally",defaultMessage:"Work locally",description:"Local mode label"},runInCloud:{id:"composer.mode.runInCloud",defaultMessage:"Run in the cloud",description:"Remote mode label when a Codex task will be run in the cloud"},worktreeMode:{id:"composer.mode.worktree",defaultMessage:"New worktree",description:"Worktree mode label"},cloudEnvironmentTitle:{id:"composer.slashCommands.cloudEnvironment.title",defaultMessage:"Cloud environment",description:"Title for a composer slash command that makes Codex run in the cloud with a specific environment."}},SvgCube=Ye=>reactExports.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("g",{opacity:.7},reactExports.createElement("path",{d:"M8.13037 3.71927L5.33252 5.20023V8.42289L7.89697 6.94242L7.94873 6.90775C8.06253 6.82002 8.13037 6.68363 8.13037 6.53763V3.71927ZM5.23389 1.52005C5.10743 1.44704 4.95515 1.43799 4.82227 1.49271L4.7666 1.52005L2.16309 3.0225L5.00488 4.62113L7.92383 3.07572L7.89697 3.05765L5.23389 1.52005ZM1.86963 6.53763C1.86963 6.70452 1.95852 6.85894 2.10303 6.94242L4.66748 8.4224V5.19437L1.86963 3.62015V6.53763ZM8.79541 6.53763C8.79541 6.91694 8.60593 7.26936 8.29346 7.47855L8.22949 7.5181L5.56641 9.0557C5.23795 9.24533 4.83786 9.2573 4.50049 9.09134L4.43408 9.0557L1.77051 7.5181C1.42032 7.31582 1.20459 6.94206 1.20459 6.53763V3.46244C1.20459 3.05801 1.42032 2.68425 1.77051 2.48197L4.43408 0.94437L4.50049 0.908726C4.83786 0.742764 5.23795 0.754738 5.56641 0.94437L8.22949 2.48197L8.29346 2.52152C8.60593 2.7307 8.79541 3.08313 8.79541 3.46244V6.53763Z",fill:"currentColor"}))),DEFAULT_MODEL_ORDER=["gpt-5.1-codex","gpt-5.1","gpt-5.1-codex-mini"],MODEL_PRESET_ORDER=["fast","balanced","thorough"],MODEL_ORDER_BY_AUTH_METHOD={apikey:DEFAULT_MODEL_ORDER,chatgpt:["gpt-5.1-codex-max",...DEFAULT_MODEL_ORDER],copilot:["gpt-5.1-codex","gpt-5.1"]};function ModelPresetLabelMessage({preset:Ye}){switch(Ye){case"fast":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.fast.label",defaultMessage:"Fast",description:"Label for fast preset"});case"balanced":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.balanced.label",defaultMessage:"Balanced",description:"Label for balanced preset"});case"thorough":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.thorough.label",defaultMessage:"Thorough",description:"Label for thorough preset"})}}function ModelPresetDescriptionMessage({preset:Ye}){switch(Ye){case"fast":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.fast.description",defaultMessage:"Works faster",description:"Description for fast preset"});case"balanced":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.balanced.description",defaultMessage:"Balances speed with intelligence",description:"Description for balanced preset"});case"thorough":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.thorough.description",defaultMessage:"Works longer for harder tasks",description:"Description for thorough preset"})}}function ModelPresetBadgeMessage({preset:Ye}){switch(Ye){case"balanced":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.balanced.badge",defaultMessage:"Recommended",description:"Badge for balanced preset"})}}function ModelPresetTooltipMessage({preset:Ye,values:rt}){switch(Ye){case"fast":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.fast.tooltip",defaultMessage:"Under the hood, Codex {presetName} uses {modelName} {reasoningEffort}",description:"Tooltip describing fast preset",values:{presetName:rt.presetName,modelName:rt.modelName,reasoningEffort:rt.reasoningEffort}});case"balanced":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.balanced.tooltip",defaultMessage:"Under the hood, Codex {presetName} uses {modelName} {reasoningEffort}",description:"Tooltip describing balanced preset",values:{presetName:rt.presetName,modelName:rt.modelName,reasoningEffort:rt.reasoningEffort}});case"thorough":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.thorough.tooltip",defaultMessage:"Under the hood, Codex {presetName} uses {modelName} {reasoningEffort}",description:"Tooltip describing thorough preset",values:{presetName:rt.presetName,modelName:rt.modelName,reasoningEffort:rt.reasoningEffort}})}}function RenderPresetOption({preset:Ye,condensable:rt=!1}){return jsxRuntimeExports.jsx("span",{className:clsx("flex items-center gap-1",{"max-[535px]:hidden":rt}),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.modelPreset.selectedLabel",defaultMessage:"Codex {preset}",description:"Label for a selected Codex preset",values:{preset:jsxRuntimeExports.jsx("span",{className:"text-token-text-secondary",children:jsxRuntimeExports.jsx(ModelPresetLabelMessage,{preset:Ye})},"preset")}})})}function RenderModelOption({model:Ye,condensable:rt=!1}){return jsxRuntimeExports.jsx("span",{className:clsx("flex items-center gap-1",{"max-[535px]:hidden":rt}),children:jsxRuntimeExports.jsx(ReasoningModelNameMessage,{model:Ye})})}function ModelDropdown({conversationId:Ye}){const{authMethod:rt}=useAuth(),it=getModelOrderForAuthMethod(rt),lt=it.includes("codex-auto"),ct=it.filter(gt=>gt!=="codex-auto"),{modelSettings:ut,setModelAndReasoningEffort:ht}=useModelSettings(Ye,rt==="copilot"),ft=normalizeModel(ut.model),pt=lt?getPresetForModelSettings(ut):null,mt=jsxRuntimeExports.jsx(ModelDropdownOptions,{models:ct,modelSettings:ut,setModelAndReasoningEffort:ht});return jsxRuntimeExports.jsx(BasicDropdown,{side:"top",triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"block max-w-[320px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.model.tooltip",defaultMessage:"Choose model and reasoning",description:"Tooltip for model+reasoning dropdown trigger"})}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",className:"whitespace-nowrap",children:[jsxRuntimeExports.jsx(SvgCube,{className:"icon-2xs min-[535px]:hidden"}),pt?jsxRuntimeExports.jsx(RenderPresetOption,{preset:pt,condensable:!0}):jsxRuntimeExports.jsx(RenderModelOption,{model:ft,condensable:!0}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex w-fit min-w-40 flex-col overflow-hidden",children:[!lt&&jsxRuntimeExports.jsx(Dropdown.Title,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.model.selectModel",defaultMessage:"Select model",description:"Header label above model options in dropdown"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col px-1",children:lt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BasicSubDropdown,{isDefaultOpen:ft==="codex-auto",trigger:jsxRuntimeExports.jsx(Dropdown.Item,{className:"mt-1 pb-1 pt-1",RightIcon:SvgChevronRight,children:jsxRuntimeExports.jsx("span",{className:"text-token-text-tertiary flex items-center gap-1",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.auto.heading",defaultMessage:"Auto",description:"heading for opening the codex auto selection"})})}),children:jsxRuntimeExports.jsx(ModelPresetDropdownOptions,{modelSettings:ut,setModelAndReasoningEffort:ht})}),jsxRuntimeExports.jsx(BasicSubDropdown,{isDefaultOpen:!!ct.find(gt=>gt===ft),trigger:jsxRuntimeExports.jsx(Dropdown.Item,{className:"mt-1 pb-1 pt-1",RightIcon:SvgChevronRight,children:jsxRuntimeExports.jsx("span",{className:"text-token-text-tertiary flex items-center gap-1",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.models.heading",defaultMessage:"Models",description:"heading for opening the basic model dropdown"})})}),children:mt})]}):mt})]})})}function ModelPresetDropdownOptions({modelSettings:Ye,setModelAndReasoningEffort:rt}){const it=normalizeModel(Ye.model);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:MODEL_PRESET_ORDER.map(lt=>{const ct=MODEL_PRESET_CONFIG[lt],ut=normalizeModel(ct.modelSettings.model),ht=ct.modelSettings.reasoningEffort??null,ft=ut===it&&ht===Ye.reasoningEffort,pt=jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:ft?SvgCheckMd:void 0,onClick:()=>rt(ct.modelSettings.model,ct.modelSettings.reasoningEffort),SubText:jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(ModelPresetDescriptionMessage,{preset:lt})}),children:jsxRuntimeExports.jsxs("span",{className:"flex w-full items-center gap-1",children:[jsxRuntimeExports.jsx(ModelPresetLabelMessage,{preset:lt}),lt==="balanced"?jsxRuntimeExports.jsx("span",{className:"bg-token-text-link-active-foreground/30 rounded-full px-2 py-0.5 text-[11px] font-medium",children:jsxRuntimeExports.jsx(ModelPresetBadgeMessage,{preset:"balanced"})}):null]})});return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"block max-w-[155px]",children:jsxRuntimeExports.jsx(ModelPresetTooltipMessage,{preset:lt,values:{presetName:jsxRuntimeExports.jsx(ModelPresetLabelMessage,{preset:lt}),modelName:jsxRuntimeExports.jsx(ReasoningModelNameMessage,{model:ct.tooltipModel}),reasoningEffort:ct.modelSettings.reasoningEffort?jsxRuntimeExports.jsx(ReasoningEffortLabelMessage,{effort:ct.modelSettings.reasoningEffort}):""}})}),children:pt},`${lt}-tooltip`)})})}function ModelDropdownOptions({models:Ye,modelSettings:rt,setModelAndReasoningEffort:it}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye.map(lt=>jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:lt===normalizeModel(rt.model)?SvgCheckMd:void 0,onClick:()=>it(lt,rt.reasoningEffort),children:jsxRuntimeExports.jsx(RenderModelOption,{model:lt})},lt))})}function getModelOrderForAuthMethod(Ye){return Ye?MODEL_ORDER_BY_AUTH_METHOD[Ye]:DEFAULT_MODEL_ORDER}function getPresetForModelSettings(Ye){const rt=normalizeModel(Ye.model);return rt!=="codex-auto"?null:MODEL_PRESET_ORDER.find(it=>{const lt=MODEL_PRESET_CONFIG[it].modelSettings;return normalizeModel(lt.model)===rt&&lt.reasoningEffort===Ye.reasoningEffort})??null}const SvgArrowRotateCw=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.58167 9.99976C3.58184 6.45527 6.45514 3.58196 9.99963 3.58179C12.031 3.58179 13.8406 4.5272 15.0172 6.00171H12.4996L12.3658 6.01538C12.0629 6.07743 11.8346 6.34543 11.8346 6.66675C11.8346 6.98807 12.0629 7.25606 12.3658 7.31812L12.4996 7.33179H16.2496C16.2694 7.33179 16.2889 7.32664 16.3082 7.32495C16.3108 7.32472 16.3135 7.32521 16.316 7.32495C16.3569 7.3209 16.3959 7.31262 16.4342 7.30151C16.4381 7.30039 16.4421 7.29978 16.4459 7.29858C16.4863 7.28608 16.5245 7.27031 16.5612 7.25073L16.5641 7.24976L16.568 7.24683C16.6424 7.20596 16.7078 7.1527 16.7614 7.08765C16.7649 7.08337 16.7687 7.07931 16.7721 7.07495C16.7945 7.04639 16.8141 7.01617 16.8317 6.98413C16.835 6.97799 16.8383 6.97181 16.8414 6.96558C16.8559 6.93706 16.8673 6.9074 16.8776 6.87671C16.8825 6.86213 16.8873 6.84765 16.8912 6.83276C16.8968 6.81125 16.9015 6.78963 16.9049 6.76733C16.9089 6.74241 16.9116 6.71746 16.9127 6.69214C16.913 6.68369 16.9147 6.67527 16.9147 6.66675V2.91675C16.9147 2.54948 16.6169 2.25171 16.2496 2.25171C15.8825 2.25189 15.5846 2.54959 15.5846 2.91675V4.62964C14.1753 3.16455 12.1943 2.25171 9.99963 2.25171C5.72061 2.25188 2.25176 5.72073 2.25159 9.99976C2.25159 14.2789 5.7205 17.7486 9.99963 17.7488C13.971 17.7488 17.2437 14.7612 17.6949 10.9109L17.0348 10.8337L16.3746 10.7556C16.001 13.9438 13.2884 16.4187 9.99963 16.4187C6.45504 16.4185 3.58167 13.5444 3.58167 9.99976ZM17.1119 10.1726C16.7474 10.13 16.4176 10.3912 16.3746 10.7556L17.6949 10.9109C17.7377 10.5461 17.4767 10.2154 17.1119 10.1726Z",fill:"currentColor"}));function useGitRootFromEnvironment(){const Ye=useEnvironment(),rt=Ye?.repo_map?.[Ye?.repos[0]]?.clone_url;return useGitRoot(rt)}function useGitRoot(Ye){const[rt,it]=reactExports.useState(null),lt=reactExports.useEffectEvent(async ct=>{if(!ct){it(null);return}const ut=await gitRootForOriginUrl(ct);it(ut)});return reactExports.useEffect(()=>{lt(Ye)},[Ye]),rt}async function gitRootForOriginUrl(Ye){const rt=await fetchFromVSCode("active-workspace-roots");if(!Ye||!rt)return null;const it=await fetchFromVSCode("git-origins");return gitRootForWorkspaceRoots(Ye,rt.roots,it.origins)}async function gitRootForWorkspaceRoots(Ye,rt,it){const lt=parseOwnerRepo(Ye),ct=(it??[]).find(ut=>ut.originUrl?isEqual$1(parseOwnerRepo(ut.originUrl),lt):!1);return ct?ct.root:(logger.warn(`No matching origin found for ${Ye}`),rt[0]??null)}function useGitRootForCwd(Ye,rt){const it=!!Ye&&(rt?.enabled??!0),{data:lt,isLoading:ct}=useFetchFromVSCode("git-origins",{params:{dirs:Ye?[Ye]:[]},queryConfig:{enabled:it},placeholderData:ht=>ht??{origins:[],homeDir:""}});return{gitRoot:lt?.origins.find(ht=>ht.dir===Ye)?.root??lt?.origins[0]?.root??null,isLoading:ct}}function NewTaskRemoteStartingStateDropdown({startingState:Ye,setStartingState:rt,className:it}){const lt=useIntl(),ct=useEnvironment(),ut=useGitRootFromEnvironment(),ht=ct?(ct.repo_map??{})[ct.repos[0]]:null,ft=ht?.default_branch??"main",pt=ht?.id??null,[mt,gt]=reactExports.useState(!1),[yt,xt]=reactExports.useState(""),bt=useDebouncedValue(yt,300),[_t,Ct]=reactExports.useState(!1),kt=reactExports.useCallback(Vt=>{gt(Vt),Vt||(xt(""),Ct(!1))},[gt,xt,Ct]),{data:St,isFetching:Rt,error:Tt,hasNextPage:Mt,isFetchingNextPage:Pt,fetchNextPage:It,refetch:Lt}=useSearchBranchesByRepository(pt,bt,{enabled:!!pt&&mt&&!!bt}),{data:Ot,isLoading:Ft,refetch:Ut}=useFetchFromVSCode("git-current-branch",{params:{gitRoot:ut??""},queryConfig:{enabled:!!ut}}),Wt=Ot?.branch??"main",Kt=Ye.type==="remote-branch"?Ye.branchName:void 0,Qt=bt?St:[],Zt=Ye.type==="working-tree"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.localWorkingTree",defaultMessage:"Use local changes",description:"Label for local working tree selection in remote composer"}):Ye.branchName;return reactExports.useEffect(()=>{mt&&Ut()},[mt,Ut]),jsxRuntimeExports.jsx(BasicDropdown,{side:"top",open:mt,onOpenChange:kt,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.startingPoint",defaultMessage:"What code should the cloud task start from?",description:"Section label for remote starting point selector"})}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",className:clsx("max-w-40",it),children:[jsxRuntimeExports.jsx(Badged,{borderColor:"border-token-side-bar-background",badgeEnabled:Ye?.type==="working-tree",children:jsxRuntimeExports.jsx(SvgBranch,{className:"icon-2xs"})}),jsxRuntimeExports.jsx("span",{className:"max-xs:hidden truncate",children:Zt}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex w-56 flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"my-1 grid w-full grid-cols-[auto_1fr] items-center px-1.5",children:[jsxRuntimeExports.jsx(SvgSearch,{className:"text-token-icon-foreground icon-2xs"}),jsxRuntimeExports.jsx(Dropdown.Input,{className:clsx(!_t&&"text-token-foreground font-bold"),onFocus:()=>{Ct(!0)},autoFocus:!1,placeholder:lt.formatMessage({id:"codex.composer.searchBranches",defaultMessage:"Search remote branches",description:"Placeholder for the branch search input"}),value:yt,onChange:Vt=>{const $t=Vt.currentTarget.value;xt($t)},onKeyDown:Vt=>{Vt.key==="Enter"&&kt(!1)}})]}),jsxRuntimeExports.jsx(motion.div,{className:"vertical-scroll-fade-mask overflow-y-auto",animate:{height:_t?86:"auto"},initial:!1,children:bt&&Rt?jsxRuntimeExports.jsx("div",{className:"flex h-full items-center justify-center",children:jsxRuntimeExports.jsx(Spinner,{className:"icon-xxs"})}):bt&&Tt?jsxRuntimeExports.jsxs("div",{className:"text-token-error-foreground flex h-full flex-col items-center justify-center gap-1 px-2 text-sm",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.errorLoadingBranches",defaultMessage:"Error loading branches",description:"Error message for remote starting point selector"}),jsxRuntimeExports.jsx(IconButton,{size:"xxs",className:"text-token-description-foreground",Icon:SvgArrowRotateCw,onClick:()=>{Lt()}})]}):_t&&!bt?jsxRuntimeExports.jsxs("div",{className:"flex h-full w-full flex-1 flex-col items-center gap-1 text-balance px-14",children:[jsxRuntimeExports.jsx("div",{className:"bg-token-side-bar-background/60 flex w-max items-center justify-center rounded-full p-1",children:jsxRuntimeExports.jsx(SvgBranch,{className:"icon-xs"})}),jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground text-center text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.typeToSeeBranches",defaultMessage:"Type to see remote branches",description:"Empty state for remote branch search when focused"})})]}):jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col gap-1 px-1 pt-1",!Qt?.length&&"hidden"),children:[Qt?.map(Vt=>jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:Vt===Kt?SvgCheckMd:void 0,onClick:()=>{rt({type:"remote-branch",branchName:Vt}),kt(!1)},children:jsxRuntimeExports.jsx("span",{className:clsx(Vt===Kt&&"font-semibold"),children:Vt})},Vt)),Mt&&jsxRuntimeExports.jsx(Dropdown.Item,{onClick:()=>{Pt||It()},className:"text-token-text-secondary w-full text-sm",children:Pt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.loadingMoreBranches",defaultMessage:"Loading",description:"Loading more branches"}):null})]})}),jsxRuntimeExports.jsx(Dropdown.Separator,{}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 px-1 pt-1",children:[jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:Kt===ft?SvgCheckMd:void 0,onClick:()=>{rt({type:"remote-branch",branchName:ft}),kt(!1)},children:jsxRuntimeExports.jsx("span",{className:clsx(Kt===ft&&"font-semibold"),children:ft})}),Ye.type==="remote-branch"&&Ye.branchName!==ft&&jsxRuntimeExports.jsx(Dropdown.Item,{RightIcon:SvgCheckMd,onClick:()=>{rt({type:"remote-branch",branchName:ft}),kt(!1)},children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Ye.branchName})}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.remote.currentEditsSuffix",defaultMessage:"Use local code changes",description:"Suffix text indicating the selection includes current edits"}),children:jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:BadgedBranchIcon,RightIcon:Ye.type==="working-tree"?SvgCheckMd:void 0,onClick:()=>{rt({type:"working-tree"}),kt(!1)},children:Ft?jsxRuntimeExports.jsx("span",{className:"flex-1"}):jsxRuntimeExports.jsx("span",{className:clsx("flex-1 truncate",Ye.type==="working-tree"&&"font-semibold"),children:Wt??ft})})})]})]})})}function BadgedBranchIcon({className:Ye}){return jsxRuntimeExports.jsx(Badged,{borderColor:"border-token-side-bar-background",children:jsxRuntimeExports.jsx(SvgBranch,{className:Ye})})}const SvgReasoningExtraHigh=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M5.15265 5.1067L5.15249 5.07797C5.15249 1.94468 10 1.98209 10 5.14295M5.15265 5.1067C2.86325 5.43539 1.95642 7.54498 3.57746 9.14006C2.13674 10.5577 2.64974 13.9055 4.5551 14.6301M5.15265 5.1067C5.65427 5.10296 6.07518 5.23205 6.5 5.5M10 5.14295V14.8441M10 5.14295C10 1.98209 14.8475 1.94468 14.8475 5.07797L14.8473 5.1067C17.1367 5.43539 18.0436 7.54498 16.4225 9.14006M16.4225 9.14006C17.8633 10.5577 17.3503 13.9055 15.4449 14.6301M16.4225 9.14006C16.0155 9.55318 15.5515 9.8173 15 10M15.4449 14.6301C14.8475 17.6527 10.8056 18.4821 10 14.8441M15.4449 14.6301C14.7053 14.8875 13.936 14.9026 13.2195 14.5622M10 14.8441C9.19444 18.4821 5.15249 17.6527 4.5551 14.6301M4.5551 14.6301C5.30044 14.872 5.97165 14.8815 6.71286 14.6301M3.55286 9.19444C4.06138 8.69613 4.75784 8.38889 5.52606 8.38889M10 10.8056C10.5085 10.3072 11.2318 10 12 10M7 11C7.5 12.5 9.02282 12.6094 10 12.1452M8 7C8.5 6.5 9.59453 6.50623 9.59453 6.50623M14.8344 5.16667C14.8344 6.11941 14.2831 6.94338 13.482 7.33695",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),SvgReasoningHigh=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.57746 9.14006L4.04387 9.61406C4.17091 9.48906 4.24246 9.31829 4.24246 9.14006C4.24246 8.96183 4.17091 8.79106 4.04387 8.66605L3.57746 9.14006ZM5.15265 5.1067L5.24716 5.76495C5.576 5.71774 5.81955 5.43508 5.81764 5.10288L5.15265 5.1067ZM5.15249 5.07797L4.48747 5.07797L4.4875 5.08179L5.15249 5.07797ZM14.8475 5.07797L15.5125 5.08179V5.07797H14.8475ZM14.8473 5.1067L14.1824 5.10288C14.1805 5.43509 14.424 5.71774 14.7528 5.76495L14.8473 5.1067ZM16.4225 9.14006L15.9561 8.66605C15.8291 8.79106 15.7575 8.96183 15.7575 9.14006C15.7575 9.31829 15.8291 9.48906 15.9561 9.61406L16.4225 9.14006ZM15.4449 14.6301L15.2085 14.0085C14.9942 14.09 14.837 14.2762 14.7925 14.5011L15.4449 14.6301ZM4.5551 14.6301L5.20748 14.5011C5.16302 14.2762 5.00581 14.09 4.79149 14.0085L4.5551 14.6301ZM3.08743 8.71947C2.82511 8.97653 2.82084 9.39756 3.07789 9.65988C3.33494 9.9222 3.75597 9.92647 4.01829 9.66941L3.55286 9.19444L3.08743 8.71947ZM5.52606 9.05389C5.89333 9.05389 6.19106 8.75616 6.19106 8.38889C6.19106 8.02162 5.89333 7.72389 5.52606 7.72389V8.38889V9.05389ZM9.53457 10.3306C9.27225 10.5876 9.26798 11.0087 9.52503 11.271C9.78208 11.5333 10.2031 11.5376 10.4654 11.2805L10 10.8056L9.53457 10.3306ZM11.9732 10.665C12.3405 10.665 12.6382 10.3673 12.6382 10C12.6382 9.63273 12.3405 9.335 11.9732 9.335V10V10.665ZM17.9123 12.0141C17.9123 11.6468 17.6146 11.3491 17.2473 11.3491C16.88 11.3491 16.5823 11.6468 16.5823 12.0141H17.2473H17.9123ZM13.5049 13.9616C13.1731 13.804 12.7764 13.9451 12.6189 14.2769C12.4613 14.6086 12.6024 15.0053 12.9342 15.1629L13.2195 14.5622L13.5049 13.9616ZM7.86868 11.5445C7.53694 11.3869 7.14026 11.5281 6.98267 11.8598C6.82507 12.1915 6.96625 12.5882 7.29799 12.7458L7.58333 12.1452L7.86868 11.5445ZM10.2853 12.7458C10.6171 12.5882 10.7583 12.1915 10.6007 11.8598C10.4431 11.5281 10.0464 11.3869 9.71465 11.5445L10 12.1452L10.2853 12.7458ZM8.10085 6.17688C7.76911 6.33448 7.62793 6.73116 7.78552 7.0629C7.94312 7.39464 8.3398 7.53581 8.67154 7.37822L8.38619 6.77755L8.10085 6.17688ZM9.59453 7.17123C9.96179 7.17123 10.2595 6.8735 10.2595 6.50623C10.2595 6.13896 9.96179 5.84123 9.59453 5.84123V6.50623V7.17123ZM15.4994 5.16667C15.4994 4.7994 15.2017 4.50167 14.8344 4.50167C14.4671 4.50167 14.1694 4.7994 14.1694 5.16667H14.8344H15.4994ZM13.1888 6.7401C12.8592 6.90206 12.7232 7.30057 12.8852 7.6302C13.0472 7.95983 13.4457 8.09576 13.7753 7.9338L13.4821 7.33695L13.1888 6.7401ZM5.15249 5.07797L4.4875 5.08179L4.48766 5.11052L5.15265 5.1067L5.81764 5.10288L5.81747 5.07414L5.15249 5.07797ZM14.8473 5.1067L15.5123 5.11052L15.5125 5.08179L14.8475 5.07797L14.1825 5.07415L14.1824 5.10288L14.8473 5.1067ZM10 5.14295H9.335V14.8441H10H10.665V5.14295H10ZM4.5551 14.6301L3.90272 14.759C4.25542 16.5436 5.64061 17.7324 7.12679 17.8958C7.8764 17.9783 8.6507 17.7972 9.29938 17.2972C9.94755 16.7975 10.4211 16.0184 10.6493 14.9879L10 14.8441L9.35073 14.7003C9.17613 15.4888 8.84234 15.9702 8.48741 16.2438C8.133 16.517 7.70844 16.6218 7.27219 16.5738C6.38665 16.4764 5.45217 15.7392 5.20748 14.5011L4.5551 14.6301ZM10 14.8441L9.35073 14.9879C9.57891 16.0184 10.0524 16.7975 10.7006 17.2972C11.3493 17.7972 12.1236 17.9783 12.8732 17.8958C14.3594 17.7324 15.7446 16.5436 16.0973 14.759L15.4449 14.6301L14.7925 14.5011C14.5478 15.7392 13.6134 16.4764 12.7278 16.5738C12.2916 16.6218 11.867 16.517 11.5126 16.2438C11.1577 15.9702 10.8239 15.4888 10.6493 14.7003L10 14.8441ZM3.57746 9.14006L3.11104 8.66605C2.18352 9.57872 1.94758 11.0213 2.15576 12.2555C2.36354 13.4874 3.06106 14.7733 4.31871 15.2516L4.5551 14.6301L4.79149 14.0085C4.14378 13.7622 3.63213 13.0119 3.46724 12.0343C3.30276 11.0592 3.53068 10.119 4.04387 9.61406L3.57746 9.14006ZM5.15265 5.1067L5.05814 4.44845C3.73273 4.63874 2.69968 5.36578 2.28207 6.39936C1.85523 7.45578 2.14106 8.65961 3.11104 9.61406L3.57746 9.14006L4.04387 8.66605C3.39282 8.02542 3.32155 7.37692 3.51521 6.89761C3.71811 6.39545 4.28317 5.90335 5.24716 5.76495L5.15265 5.1067ZM16.4225 9.14006L16.889 9.61406C17.8589 8.65961 18.1448 7.45578 17.7179 6.39936C17.3003 5.36578 16.2673 4.63874 14.9419 4.44845L14.8473 5.1067L14.7528 5.76495C15.7168 5.90335 16.2819 6.39545 16.4848 6.89761C16.6785 7.37692 16.6072 8.02542 15.9561 8.66605L16.4225 9.14006ZM15.4449 14.6301L15.6813 15.2516C16.9389 14.7733 17.6365 13.4874 17.8442 12.2556C18.0524 11.0213 17.8165 9.57872 16.889 8.66605L16.4225 9.14006L15.9561 9.61406C16.4693 10.119 16.6972 11.0592 16.5328 12.0343C16.3679 13.0119 15.8562 13.7622 15.2085 14.0085L15.4449 14.6301ZM14.8475 5.07797H15.5125C15.5125 4.10684 15.1294 3.33433 14.5217 2.81587C13.9281 2.30941 13.1595 2.07735 12.4167 2.08519C11.6737 2.09304 10.9081 2.34139 10.3186 2.85899C9.71615 3.38803 9.335 4.16711 9.335 5.14295H10H10.665C10.665 4.53836 10.8898 4.12744 11.1962 3.85839C11.5156 3.57791 11.962 3.42007 12.4308 3.41512C12.8999 3.41017 13.3432 3.55869 13.6585 3.82767C13.9597 4.08466 14.1825 4.48245 14.1825 5.07797H14.8475ZM10 5.14295H10.665C10.665 4.16711 10.2839 3.38803 9.68135 2.85899C9.09187 2.34138 8.32633 2.09304 7.58327 2.08519C6.84051 2.07735 6.07193 2.30941 5.4783 2.81587C4.87061 3.33433 4.48749 4.10684 4.48749 5.07797H5.15249H5.81749C5.81749 4.48245 6.0403 4.08466 6.34152 3.82767C6.6568 3.55869 7.1001 3.41016 7.56922 3.41512C8.03803 3.42007 8.48437 3.57791 8.8038 3.85839C9.11021 4.12744 9.335 4.53836 9.335 5.14295H10ZM3.55286 9.19444L4.01829 9.66941C4.40755 9.28797 4.93881 9.05389 5.52606 9.05389V8.38889V7.72389C4.57687 7.72389 3.71521 8.1043 3.08743 8.71947L3.55286 9.19444ZM10 10.8056L10.4654 11.2805C10.8547 10.8991 11.3859 10.665 11.9732 10.665V10V9.335C11.024 9.335 10.1624 9.71541 9.53457 10.3306L10 10.8056ZM17.2473 12.0141H16.5823C16.5823 13.204 15.6177 14.1686 14.4279 14.1686V14.8336V15.4986C16.3523 15.4986 17.9123 13.9385 17.9123 12.0141H17.2473ZM14.4279 14.8336V14.1686C14.0962 14.1686 13.7838 14.0941 13.5049 13.9616L13.2195 14.5622L12.9342 15.1629C13.3877 15.3783 13.8947 15.4986 14.4279 15.4986V14.8336ZM8.79167 12.4165V11.7515C8.46002 11.7515 8.14763 11.677 7.86868 11.5445L7.58333 12.1452L7.29799 12.7458C7.75149 12.9613 8.25847 13.0815 8.79167 13.0815V12.4165ZM10 12.1452L9.71465 11.5445C9.4357 11.677 9.12331 11.7515 8.79167 11.7515V12.4165V13.0815C9.32487 13.0815 9.83184 12.9613 10.2853 12.7458L10 12.1452ZM8.38619 6.77755L8.67154 7.37822C8.95049 7.24571 9.26288 7.17123 9.59453 7.17123V6.50623V5.84123C9.06133 5.84123 8.55435 5.96145 8.10085 6.17688L8.38619 6.77755ZM14.8344 5.16667H14.1694C14.1694 5.85626 13.771 6.45405 13.1888 6.7401L13.4821 7.33695L13.7753 7.9338C14.7951 7.43272 15.4994 6.38256 15.4994 5.16667H14.8344Z",fill:"currentColor"})),SvgReasoningLow=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.57715 9.14006L4.04365 9.61398C4.17064 9.48898 4.24215 9.31824 4.24215 9.14006C4.24215 8.96187 4.17064 8.79114 4.04365 8.66614L3.57715 9.14006ZM5.15176 5.1067L5.2463 5.76495C5.57512 5.71772 5.81866 5.43507 5.81675 5.10288L5.15176 5.1067ZM5.15159 5.07797L4.48658 5.07797L4.4866 5.08179L5.15159 5.07797ZM14.843 5.07797L15.508 5.08179V5.07797H14.843ZM14.8429 5.1067L14.1779 5.10288C14.176 5.43508 14.4195 5.71772 14.7483 5.76495L14.8429 5.1067ZM16.4175 9.14006L15.951 8.66614C15.824 8.79114 15.7525 8.96187 15.7525 9.14006C15.7525 9.31824 15.824 9.48898 15.951 9.61398L16.4175 9.14006ZM15.4402 14.6301L15.2037 14.0085C14.9894 14.0901 14.8322 14.2762 14.7878 14.5012L15.4402 14.6301ZM4.55443 14.6301L5.20682 14.5012C5.16237 14.2762 5.00519 14.0901 4.79089 14.0085L4.55443 14.6301ZM3.09513 8.71956C2.83286 8.97666 2.82866 9.39769 3.08576 9.65997C3.34287 9.92224 3.7639 9.92643 4.02617 9.66933L3.56065 9.19444L3.09513 8.71956ZM5.53312 9.05389C5.90039 9.05389 6.19812 8.75616 6.19812 8.38889C6.19812 8.02162 5.90039 7.72389 5.53312 7.72389V8.38889V9.05389ZM17.915 12.0141C17.915 11.6468 17.6173 11.3491 17.25 11.3491C16.8827 11.3491 16.585 11.6468 16.585 12.0141H17.25H17.915ZM13.5092 13.9616C13.1774 13.804 12.7807 13.9451 12.6231 14.2768C12.4655 14.6085 12.6066 15.0052 12.9383 15.1629L13.2237 14.5622L13.5092 13.9616ZM15.4949 5.16667C15.4949 4.7994 15.1972 4.50167 14.8299 4.50167C14.4626 4.50167 14.1649 4.7994 14.1649 5.16667H14.8299H15.4949ZM13.1847 6.74014C12.8551 6.90215 12.7192 7.30068 12.8813 7.63029C13.0433 7.9599 13.4418 8.09576 13.7714 7.93376L13.4781 7.33695L13.1847 6.74014ZM5.15159 5.07797L4.4866 5.08179L4.48677 5.11052L5.15176 5.1067L5.81675 5.10288L5.81658 5.07415L5.15159 5.07797ZM14.8429 5.1067L15.5078 5.11052L15.508 5.08179L14.843 5.07797L14.178 5.07415L14.1779 5.10288L14.8429 5.1067ZM9.9973 5.14295H9.3323V14.8441H9.9973H10.6623V5.14295H9.9973ZM4.55443 14.6301L3.90204 14.759C4.25458 16.5434 5.63923 17.7323 7.12511 17.8958C7.87456 17.9783 8.64869 17.7972 9.29719 17.2971C9.94516 16.7974 10.4185 16.0183 10.6466 14.9878L9.9973 14.8441L9.34802 14.7004C9.17348 15.4889 8.83979 15.9703 8.48503 16.2439C8.13082 16.517 7.70652 16.6218 7.27056 16.5738C6.38561 16.4764 5.45144 15.7394 5.20682 14.5012L4.55443 14.6301ZM9.9973 14.8441L9.34802 14.9878C9.57611 16.0183 10.0494 16.7974 10.6974 17.2971C11.3459 17.7972 12.12 17.9783 12.8695 17.8958C14.3554 17.7323 15.74 16.5434 16.0926 14.759L15.4402 14.6301L14.7878 14.5012C14.5432 15.7394 13.609 16.4764 12.7241 16.5738C12.2881 16.6218 11.8638 16.517 11.5096 16.2439C11.1548 15.9703 10.8211 15.4889 10.6466 14.7004L9.9973 14.8441ZM3.57715 9.14006L3.11064 8.66614C2.18346 9.57881 1.94764 11.0213 2.15573 12.2555C2.36341 13.4872 3.06063 14.7733 4.31796 15.2516L4.55443 14.6301L4.79089 14.0085C4.14357 13.7623 3.63207 13.0121 3.46722 12.0344C3.3028 11.0592 3.53066 10.1189 4.04365 9.61398L3.57715 9.14006ZM5.15176 5.1067L5.05722 4.44845C3.73212 4.63877 2.69942 5.3659 2.28198 6.39944C1.85534 7.45575 2.141 8.6595 3.11064 9.61398L3.57715 9.14006L4.04365 8.66614C3.39287 8.02554 3.32155 7.37696 3.51519 6.89753C3.71803 6.39533 4.28285 5.90332 5.2463 5.76495L5.15176 5.1067ZM16.4175 9.14006L16.884 9.61398C17.8536 8.6595 18.1393 7.45575 17.7126 6.39944C17.2952 5.3659 16.2625 4.63877 14.9374 4.44846L14.8429 5.1067L14.7483 5.76495C15.7118 5.90332 16.2766 6.39533 16.4794 6.89753C16.6731 7.37696 16.6017 8.02554 15.951 8.66614L16.4175 9.14006ZM15.4402 14.6301L15.6766 15.2516C16.934 14.7733 17.6312 13.4872 17.8389 12.2555C18.047 11.0213 17.8111 9.57881 16.884 8.66614L16.4175 9.14006L15.951 9.61398C16.464 10.1189 16.6918 11.0592 16.5274 12.0344C16.3625 13.0121 15.851 13.7623 15.2037 14.0085L15.4402 14.6301ZM14.843 5.07797H15.508C15.508 4.10693 15.1251 3.33444 14.5176 2.81595C13.9241 2.30945 13.1557 2.07735 12.4131 2.08519C11.6702 2.09304 10.9049 2.34143 10.3156 2.85907C9.71327 3.38814 9.3323 4.1672 9.3323 5.14295H9.9973H10.6623C10.6623 4.53827 10.8871 4.12733 11.1933 3.85831C11.5126 3.57787 11.9587 3.42007 12.4272 3.41512C12.896 3.41017 13.3391 3.55865 13.6542 3.82759C13.9552 4.08455 14.178 4.48236 14.178 5.07797H14.843ZM9.9973 5.14295H10.6623C10.6623 4.1672 10.2813 3.38814 9.67903 2.85907C9.08973 2.34143 8.32438 2.09304 7.58147 2.08519C6.83888 2.07735 6.07048 2.30945 5.47703 2.81595C4.86953 3.33444 4.48659 4.10693 4.48659 5.07797H5.15159H5.81659C5.81659 4.48236 6.03937 4.08455 6.34044 3.82759C6.65556 3.55865 7.09859 3.41017 7.56742 3.41512C8.03594 3.42007 8.48203 3.57787 8.80129 3.85831C9.10756 4.12733 9.3323 4.53827 9.3323 5.14295H9.9973ZM3.56065 9.19444L4.02617 9.66933C4.41526 9.28791 4.94623 9.05389 5.53312 9.05389V8.38889V7.72389C4.58414 7.72389 3.7227 8.10436 3.09513 8.71956L3.56065 9.19444ZM17.25 12.0141H16.585C16.585 13.2042 15.6207 14.1686 14.4316 14.1686V14.8336V15.4986C16.3557 15.4986 17.915 13.9383 17.915 12.0141H17.25ZM14.4316 14.8336V14.1686C14.1002 14.1686 13.788 14.0941 13.5092 13.9616L13.2237 14.5622L12.9383 15.1629C13.3917 15.3783 13.8985 15.4986 14.4316 15.4986V14.8336ZM14.8299 5.16667H14.1649C14.1649 5.85639 13.7666 6.45415 13.1847 6.74014L13.4781 7.33695L13.7714 7.93376C14.791 7.43261 15.4949 6.38243 15.4949 5.16667H14.8299Z",fill:"currentColor"})),SvgReasoningMedium=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.57746 9.14006L4.04387 9.61406C4.17091 9.48906 4.24246 9.31829 4.24246 9.14006C4.24246 8.96183 4.17091 8.79106 4.04387 8.66605L3.57746 9.14006ZM5.15265 5.1067L5.24716 5.76495C5.576 5.71774 5.81955 5.43508 5.81764 5.10288L5.15265 5.1067ZM5.15249 5.07797L4.48747 5.07797L4.4875 5.08179L5.15249 5.07797ZM14.8475 5.07797L15.5125 5.08179V5.07797H14.8475ZM14.8473 5.1067L14.1824 5.10288C14.1805 5.43509 14.424 5.71774 14.7528 5.76495L14.8473 5.1067ZM16.4225 9.14006L15.9561 8.66605C15.8291 8.79106 15.7575 8.96183 15.7575 9.14006C15.7575 9.31829 15.8291 9.48906 15.9561 9.61406L16.4225 9.14006ZM15.4449 14.6301L15.2085 14.0085C14.9942 14.09 14.837 14.2762 14.7925 14.5011L15.4449 14.6301ZM4.5551 14.6301L5.20748 14.5011C5.16302 14.2762 5.00581 14.09 4.79149 14.0085L4.5551 14.6301ZM3.08743 8.71947C2.82511 8.97653 2.82084 9.39756 3.07789 9.65988C3.33494 9.9222 3.75597 9.92647 4.01829 9.66942L3.55286 9.19444L3.08743 8.71947ZM5.52606 9.05389C5.89333 9.05389 6.19106 8.75616 6.19106 8.38889C6.19106 8.02162 5.89333 7.72389 5.52606 7.72389V8.38889V9.05389ZM17.9123 12.0141C17.9123 11.6468 17.6146 11.3491 17.2473 11.3491C16.88 11.3491 16.5823 11.6468 16.5823 12.0141H17.2473H17.9123ZM14.4279 14.1686C14.0606 14.1686 13.7629 14.4663 13.7629 14.8336C13.7629 15.2008 14.0606 15.4986 14.4279 15.4986V14.8336V14.1686ZM7.86868 11.5445C7.53694 11.3869 7.14026 11.5281 6.98267 11.8598C6.82507 12.1915 6.96625 12.5882 7.29799 12.7458L7.58333 12.1452L7.86868 11.5445ZM10.2853 12.7458C10.6171 12.5882 10.7583 12.1915 10.6007 11.8598C10.4431 11.5281 10.0464 11.3869 9.71465 11.5445L10 12.1452L10.2853 12.7458ZM15.4994 5.16667C15.4994 4.7994 15.2017 4.50167 14.8344 4.50167C14.4671 4.50167 14.1694 4.7994 14.1694 5.16667H14.8344H15.4994ZM13.1888 6.7401C12.8592 6.90206 12.7232 7.30057 12.8852 7.6302C13.0472 7.95983 13.4457 8.09576 13.7753 7.9338L13.482 7.33695L13.1888 6.7401ZM11.3077 10.009C11.675 10.009 11.9727 9.71123 11.9727 9.34396C11.9727 8.97669 11.675 8.67896 11.3077 8.67896L11.3077 9.34396L11.3077 10.009ZM5.15249 5.07797L4.4875 5.08179L4.48766 5.11052L5.15265 5.1067L5.81764 5.10288L5.81747 5.07414L5.15249 5.07797ZM14.8473 5.1067L15.5123 5.11052L15.5125 5.08179L14.8475 5.07797L14.1825 5.07415L14.1824 5.10288L14.8473 5.1067ZM4.5551 14.6301L3.90272 14.759C4.25542 16.5436 5.64061 17.7324 7.12679 17.8958C7.8764 17.9783 8.6507 17.7972 9.29938 17.2972C9.94755 16.7975 10.4211 16.0184 10.6493 14.9879L10 14.8441L9.35073 14.7003C9.17613 15.4888 8.84234 15.9702 8.48741 16.2438C8.133 16.517 7.70844 16.6218 7.27219 16.5738C6.38665 16.4764 5.45217 15.7392 5.20748 14.5011L4.5551 14.6301ZM10 14.8441L9.35073 14.9879C9.57891 16.0184 10.0524 16.7975 10.7006 17.2972C11.3493 17.7972 12.1236 17.9783 12.8732 17.8958C14.3594 17.7324 15.7446 16.5436 16.0973 14.759L15.4449 14.6301L14.7925 14.5011C14.5478 15.7392 13.6134 16.4764 12.7278 16.5738C12.2916 16.6218 11.867 16.517 11.5126 16.2438C11.1577 15.9702 10.8239 15.4888 10.6493 14.7003L10 14.8441ZM3.57746 9.14006L3.11104 8.66605C2.18352 9.57872 1.94758 11.0213 2.15576 12.2556C2.36354 13.4874 3.06106 14.7733 4.31871 15.2516L4.5551 14.6301L4.79149 14.0085C4.14378 13.7622 3.63213 13.0119 3.46724 12.0343C3.30276 11.0592 3.53068 10.119 4.04387 9.61406L3.57746 9.14006ZM5.15265 5.1067L5.05814 4.44845C3.73273 4.63874 2.69968 5.36578 2.28207 6.39936C1.85523 7.45578 2.14106 8.65961 3.11104 9.61406L3.57746 9.14006L4.04387 8.66605C3.39282 8.02542 3.32155 7.37692 3.51522 6.89761C3.71811 6.39545 4.28317 5.90335 5.24716 5.76495L5.15265 5.1067ZM16.4225 9.14006L16.889 9.61406C17.8589 8.65961 18.1448 7.45578 17.7179 6.39936C17.3003 5.36578 16.2673 4.63874 14.9419 4.44845L14.8473 5.1067L14.7528 5.76495C15.7168 5.90335 16.2819 6.39545 16.4848 6.89761C16.6785 7.37692 16.6072 8.02543 15.9561 8.66605L16.4225 9.14006ZM15.4449 14.6301L15.6813 15.2516C16.9389 14.7733 17.6365 13.4874 17.8442 12.2556C18.0524 11.0213 17.8165 9.57872 16.889 8.66605L16.4225 9.14006L15.9561 9.61406C16.4693 10.119 16.6972 11.0592 16.5328 12.0343C16.3679 13.0119 15.8562 13.7622 15.2085 14.0085L15.4449 14.6301ZM14.8475 5.07797H15.5125C15.5125 4.10684 15.1294 3.33433 14.5217 2.81587C13.9281 2.30941 13.1595 2.07735 12.4167 2.08519C11.6737 2.09304 10.9081 2.34139 10.3186 2.85899C9.71615 3.38803 9.335 4.16712 9.335 5.14295H10H10.665C10.665 4.53836 10.8898 4.12744 11.1962 3.85839C11.5156 3.57791 11.962 3.42007 12.4308 3.41512C12.8999 3.41017 13.3432 3.55869 13.6585 3.82767C13.9597 4.08466 14.1825 4.48245 14.1825 5.07797H14.8475ZM10 5.14295H10.665C10.665 4.16711 10.2839 3.38803 9.68135 2.85899C9.09187 2.34138 8.32633 2.09304 7.58327 2.08519C6.84051 2.07735 6.07193 2.30941 5.4783 2.81587C4.87061 3.33433 4.48749 4.10684 4.48749 5.07797H5.15249H5.81749C5.81749 4.48245 6.0403 4.08466 6.34152 3.82767C6.6568 3.55869 7.1001 3.41016 7.56922 3.41512C8.03803 3.42007 8.48437 3.57791 8.8038 3.85839C9.11021 4.12744 9.335 4.53836 9.335 5.14295H10ZM3.55286 9.19444L4.01829 9.66942C4.40755 9.28797 4.93881 9.05389 5.52606 9.05389V8.38889V7.72389C4.57687 7.72389 3.71521 8.1043 3.08743 8.71947L3.55286 9.19444ZM17.2473 12.0141H16.5823C16.5823 13.204 15.6177 14.1686 14.4279 14.1686V14.8336V15.4986C16.3523 15.4986 17.9123 13.9385 17.9123 12.0141H17.2473ZM8.79167 12.4165V11.7515C8.46002 11.7515 8.14763 11.677 7.86868 11.5445L7.58333 12.1452L7.29799 12.7458C7.75149 12.9613 8.25847 13.0815 8.79167 13.0815V12.4165ZM10 12.1452L9.71465 11.5445C9.4357 11.677 9.12331 11.7515 8.79167 11.7515V12.4165V13.0815C9.32487 13.0815 9.83184 12.9613 10.2853 12.7458L10 12.1452ZM14.8344 5.16667H14.1694C14.1694 5.85626 13.771 6.45405 13.1888 6.7401L13.482 7.33695L13.7753 7.9338C14.7951 7.43272 15.4994 6.38256 15.4994 5.16667H14.8344ZM10 5.14295H9.335V9.99353H10H10.665V5.14295H10ZM10 9.99353H9.335V14.8441H10H10.665V9.99353H10ZM10 9.99353L10.5453 10.3741C10.566 10.3445 10.6529 10.245 10.7997 10.1558C10.9392 10.0709 11.1103 10.009 11.3077 10.009L11.3077 9.34396L11.3077 8.67896C10.3455 8.67896 9.69036 9.27525 9.45467 9.61295L10 9.99353Z",fill:"currentColor"})),SvgReasoningMinimal=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10 5.14295V14.8441M10 5.14295C10 1.98209 14.8475 1.94468 14.8475 5.07797L14.8473 5.1067C17.1367 5.43539 18.0436 7.54498 16.4225 9.14006C17.8633 10.5577 17.3503 13.9054 15.4449 14.6301C14.8475 17.6527 10.8056 18.4821 10 14.8441M10 5.14295C10 1.98209 5.15249 1.94468 5.15249 5.07797L5.15265 5.1067C2.86325 5.43539 1.95642 7.54498 3.57746 9.14006C2.13674 10.5577 2.64974 13.9054 4.5551 14.6301C5.15249 17.6527 9.19444 18.4821 10 14.8441",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"})),MODEL_WITH_CONSUMPTION_WARNING=new Set(["gpt-5-codex","gpt-5.1-codex"]),REASONING_EFFORT={none:{Icon:SvgReasoningMinimal},minimal:{Icon:SvgReasoningMinimal},low:{Icon:SvgReasoningLow},medium:{Icon:SvgReasoningMedium},high:{Icon:SvgReasoningHigh},xhigh:{Icon:SvgReasoningExtraHigh}};function ReasoningEffortTooltipMessage({effort:Ye}){switch(Ye){case"none":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.none.tooltip",defaultMessage:"Answers instantly",description:"Tooltip for none reasoning effort"});case"minimal":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.minimal.tooltip",defaultMessage:"Answers instantly",description:"Tooltip for minimal reasoning effort"});case"low":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.low.tooltip",defaultMessage:"Answers right away",description:"Tooltip for low reasoning effort"});case"medium":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.medium.tooltip",defaultMessage:"Thinks quickly",description:"Tooltip for medium reasoning effort"});case"high":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.high.tooltip",defaultMessage:"Thinks longer for better answers",description:"Tooltip for high reasoning effort"});case"xhigh":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.xhigh.tooltip",defaultMessage:"Extra high reasoning depth for complex problems. Warning: this can quickly consume Plus plan rate limits.",description:"Tooltip for high reasoning effort"})}}function RenderReasoningOption({effort:Ye,showTooltip:rt,condensable:it=!1,showConsumptionWarning:lt=!1}){const ct=lt?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"block max-w-[320px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.reasoning.high.warning",defaultMessage:"Consumes rate limits quickly",description:"Warning message for gpt-5-codex high reasoning effort"})}),children:jsxRuntimeExports.jsx(SvgInfo,{className:"icon-2xs text-token-input-placeholder-foreground"})}):null;return jsxRuntimeExports.jsxs("span",{className:clsx("flex items-center gap-1",{"max-[565px]:hidden":it}),children:[jsxRuntimeExports.jsx(Tooltip,{disabled:!rt,tooltipContent:jsxRuntimeExports.jsx("span",{className:"max-w-30 block",children:jsxRuntimeExports.jsx(ReasoningEffortTooltipMessage,{effort:Ye})}),children:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(ReasoningEffortLabelMessage,{effort:Ye})})}),ct]})}function ReasoningEffortDropdown({conversationId:Ye}){const{authMethod:rt}=useAuth(),it=rt==="copilot",{modelSettings:lt,setModelAndReasoningEffort:ct}=useModelSettings(Ye,it);if(normalizeModel(lt.model)==="codex-auto")return null;const ut=getAvailableReasoningEffort(it,lt.model),ht=normalizeReasoningEffort(lt.reasoningEffort,ut),{Icon:ft}=REASONING_EFFORT[ht];return jsxRuntimeExports.jsx(BasicDropdown,{side:"top",disabled:it,triggerButton:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"block max-w-[320px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.reasoningEffort.local.reasoning.tooltip",defaultMessage:"Select reasoning effort",description:"Tooltip for model reasoning effort dropdown trigger"})}),children:jsxRuntimeExports.jsxs(Button,{size:"composerSm",color:"ghost",className:"whitespace-nowrap",disabled:it,children:[jsxRuntimeExports.jsx(ft,{className:"icon-2xs min-[565px]:hidden"}),jsxRuntimeExports.jsx(RenderReasoningOption,{showTooltip:!1,effort:ht,condensable:!0}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]})}),children:jsxRuntimeExports.jsxs("div",{className:"flex w-fit flex-col overflow-hidden pt-1",children:[jsxRuntimeExports.jsx(Dropdown.Title,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.local.model.selecrReasoningEffort",defaultMessage:"Select reasoning",description:"Header label above model reasoning effort options in dropdown"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col px-1",children:ut.map(pt=>{const{Icon:mt}=REASONING_EFFORT[pt],gt=MODEL_WITH_CONSUMPTION_WARNING.has(normalizeModel(lt.model))&&pt==="high";return jsxRuntimeExports.jsx(Dropdown.Item,{LeftIcon:mt,RightIcon:pt===ht?SvgCheckMd:void 0,onClick:()=>ct(lt.model,pt),children:jsxRuntimeExports.jsx(RenderReasoningOption,{showTooltip:!0,effort:pt,showConsumptionWarning:gt})},pt)})})]})})}const useTokenUsageInfo=Ye=>{const rt=useAppServerManager(),it=reactExports.useCallback(lt=>(rt.addConversationCallback(Ye,lt),()=>rt.removeConversationCallback(Ye,lt)),[rt,Ye]);return reactExports.useSyncExternalStore(it,()=>{const lt=rt.getConversation(Ye);return!lt||lt.resumeState!=="resumed"?null:lt.latestTokenUsageInfo??null})},DEFAULT_SIZE=12,STROKE_WIDTH=2,MIN_PERCENT=0,MAX_PERCENT=100;function clampPercent(Ye){return!Number.isFinite(Ye)||Ye<MIN_PERCENT?MIN_PERCENT:Ye>MAX_PERCENT?MAX_PERCENT:Ye}function ProgressionDonut({percent:Ye,size:rt=DEFAULT_SIZE,className:it}){const lt=(rt-STROKE_WIDTH)/2,ct=2*Math.PI*lt,ut=clampPercent(Ye),ht=ct*(1-ut/100);return jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",width:rt,height:rt,viewBox:`0 0 ${rt} ${rt}`,className:clsx("shrink-0",it),children:[jsxRuntimeExports.jsx("circle",{cx:rt/2,cy:rt/2,r:lt,stroke:"currentColor",strokeWidth:STROKE_WIDTH,fill:"none",opacity:.16}),jsxRuntimeExports.jsx("circle",{cx:rt/2,cy:rt/2,r:lt,stroke:"currentColor",strokeWidth:STROKE_WIDTH,strokeLinecap:"round",fill:"none",strokeDasharray:ct,strokeDashoffset:ht,style:{transition:"stroke-dashoffset 120ms ease-out"},transform:`rotate(-90 ${rt/2} ${rt/2})`})]})}function TokenUsageIndicator({conversationId:Ye}){const rt=useTokenUsageInfo(Ye),{percent:it,usedTokens:lt,contextWindow:ct}=reactExports.useMemo(()=>{const gt=rt?.model_context_window??null,yt=rt?.last_token_usage.total_tokens??null;if(gt==null||gt<=0||yt==null||yt<0)return{percent:null,usedTokens:null,contextWindow:null};const xt=Math.min(yt,gt),bt=xt/gt*100;return Number.isFinite(bt)?{percent:bt,usedTokens:xt,contextWindow:gt}:{percent:null,usedTokens:null,contextWindow:null}},[rt]);if(it==null)return null;const ut=lt!=null?Math.round(lt/1e3):0,ht=ct!=null?Math.round(ct/1e3):0,ft=Math.round(it),pt=Math.max(0,100-ft),mt=ft>=50;return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-0.5",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.contextWindowUsageLabel",defaultMessage:"Context window:",description:"Label describing the context window usage tooltip content",children:gt=>jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground whitespace-pre-line",children:gt})}),jsxRuntimeExports.jsx("span",{className:mt?"text-token-input-placeholder-foreground":void 0,children:mt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.contextWindowUsageStatusFull",defaultMessage:"{usage}% full",description:"Context window usage percent indicating how full it is",values:{usage:jsxRuntimeExports.jsx(FormattedNumber,{value:ft})}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.contextWindowUsageStatusLeft",defaultMessage:"{usage}% used ({remaining}% left)",description:"Context window usage percent indicating how much is left",values:{usage:jsxRuntimeExports.jsx(FormattedNumber,{value:ft}),remaining:jsxRuntimeExports.jsx(FormattedNumber,{value:pt})}})}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.contextWindowUsageTooltip",defaultMessage:"{usedTokens}k / {contextWindow}k tokens used",description:"Tooltip shown in the composer footer indicating context window usage in thousands",values:{usedTokens:jsxRuntimeExports.jsx(FormattedNumber,{value:ut}),contextWindow:jsxRuntimeExports.jsx(FormattedNumber,{value:ht})}})]}),children:jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground ml-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(ProgressionDonut,{percent:it}),jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground select-none whitespace-nowrap text-sm opacity-60 max-[440px]:hidden",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.contextWindow.usagePercent",defaultMessage:"{usage}%",description:"Context window usage percent",values:{usage:ft}})})]})})}function ComposerExternalFooter({followUp:Ye,composerMode:rt,setComposerMode:it,isResponseInProgress:lt,startingState:ct,setStartingState:ut,cloudFollowUpStartingState:ht,setCloudFollowUpStartingState:ft,codexHome:pt}){const gt=useAuth().requiresAuth,yt=Ye?.type==="local"?Ye.localConversationId:null,xt=useLocalConversation(yt),bt=isWorktreePath(xt?.cwd,pt);return jsxRuntimeExports.jsxs("div",{className:"flex flex-nowrap items-center gap-1 overflow-hidden pr-2",children:[Ye?.type==="cloud"?jsxRuntimeExports.jsx(CloudFollowUpLocalRemoteDropdown,{composerMode:rt,setComposerMode:it,followUp:Ye}):jsxRuntimeExports.jsx(LocalRemoteDropdown,{composerMode:rt,setComposerMode:it,disabled:bt,allowWorktree:!Ye&&!lt}),(rt==="local"||rt==="worktree")&&jsxRuntimeExports.jsx(WithWindow,{electron:!0,children:jsxRuntimeExports.jsx(LocalActiveWorkspaceRootDropdown,{disabled:!!Ye})}),jsxRuntimeExports.jsx("div",{className:"electron:block hidden flex-1"}),rt==="cloud"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!Ye&&jsxRuntimeExports.jsx(NewTaskRemoteStartingStateDropdown,{startingState:ct,setStartingState:ut}),Ye?.type==="cloud"&&Ye.hasAppliedCodeLocally&&jsxRuntimeExports.jsx(CloudFollowUpStartingStateDropdown,{startingState:ht,setStartingState:ft}),jsxRuntimeExports.jsx(AttemptsSelector,{})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AgentModeDropdown,{composerMode:rt,setComposerMode:it,conversationId:yt}),gt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ModelDropdown,{conversationId:yt}),jsxRuntimeExports.jsx(ReasoningEffortDropdown,{conversationId:yt})]})]}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx("div",{className:"flex-1"})}),jsxRuntimeExports.jsx(CustomCliIcon,{}),rt==="local"&&Ye?.type==="local"&&jsxRuntimeExports.jsx(TokenUsageIndicator,{conversationId:Ye.localConversationId})]})}function SlashCommandList({commands:Ye,onCommandSelect:rt}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye.map(it=>jsxRuntimeExports.jsx(SlashCommandItem,{value:it.title,title:it.title,description:it.description,onSelect:()=>{rt(it)},LeftIcon:it.Icon},it.id))})}const SvgSlash=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M13.3333 4.16663L6.66663 15.8333",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round"}));function SlashCommandButton(){const Ye=useStatsigGate("codex-extension-slash-commands"),rt=useComposerController(),it=rt.useState(It=>It.hasText()),lt=useIntl(),ct=reactExports.useRef(null),[ut,ht]=reactExports.useState(null),ft=useAtomValue(aSlashCommands),[pt,mt]=reactExports.useState(""),[gt,yt]=reactExports.useState(""),[xt,bt]=reactExports.useState(!1),[_t,Ct]=reactExports.useState(null),kt=useProductEvents();reactExports.useEffect(()=>{const It=document.getElementById(ABOVE_COMPOSER_PORTAL_ID);It?Ct(It):logger.warn("Unable to find portal for slash commands")},[]);const St=rt.useState(It=>It.getText()==="/");reactExports.useEffect(()=>{Ye&&St&&(rt.setText(""),bt(!0))},[Ye,St,rt]),reactExports.useEffect(()=>{xt||requestAnimationFrame(()=>{rt&&rt.focus()})},[xt,rt]);const Rt=reactExports.useCallback(()=>{yt("")},[yt]);reactExports.useEffect(()=>{ut||Rt()},[ut,Rt]),reactExports.useEffect(()=>{xt&&kt({eventName:"codex_slash_commands_menu_opened"})},[kt,xt]);const Tt=it?lt.formatMessage({id:"composer.slashCommands.disabledTooltip",defaultMessage:"Start a new conversation to use slash commands",description:"Tooltip shown when slash commands are unavailable"}):lt.formatMessage({id:"composer.slashCommands.tooltip",defaultMessage:"Browse slash commands",description:"Tooltip for opening slash commands list"}),Mt=lt.formatMessage({id:"composer.slashCommands.dialogLabel",defaultMessage:"Slash command menu",description:"Accessibility label for the slash command dialog"});if(!Ye)return null;const Pt=()=>{mt(""),ht(null),Rt(),bt(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Tooltip,{triggerAsChild:!1,tooltipContent:Tt,sideOffset:4,children:jsxRuntimeExports.jsx(Button,{uniform:!0,size:"composer",color:"secondary",onClick:()=>{it||bt(!0)},children:jsxRuntimeExports.jsx(SvgSlash,{})})}),jsxRuntimeExports.jsxs(_e$1.Dialog,{ref:ct,title:lt.formatMessage({id:"composer.slashCommands.dialogTitle",defaultMessage:"Slash commands",description:"Title for the slash command dialog"}),container:_t??void 0,open:xt,label:Mt,overlayClassName:"hidden",className:"mb-1.5 origin-bottom",contentClassName:"bg-transparent p-0 shadow-none outline-none focus-visible:outline-none absolute bottom-0 left-0 right-0 z-30",value:gt,onValueChange:It=>{yt(It??"")},onOpenChange:It=>{It?bt(!0):Pt()},children:[jsxRuntimeExports.jsx(_e$1.Input,{placeholder:lt.formatMessage({id:"composer.slashCommands.inputPlaceholder",defaultMessage:"Search",description:"Placeholder for the slash command input"}),value:pt,onValueChange:mt}),jsxRuntimeExports.jsxs(_e$1.List,{children:[ut?.Content?jsxRuntimeExports.jsx(ut.Content,{onItemsChanged:Rt,onClose:Pt}):jsxRuntimeExports.jsx(SlashCommandList,{commands:ft,onCommandSelect:async It=>{kt({eventName:"codex_slash_command_selected",metadata:{command_id:It.id}}),It.Content?(mt(""),Rt(),ht(It)):(await It.onSelect?.(),Pt())}}),jsxRuntimeExports.jsx(_e$1.Empty,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.slashCommands.noResults",defaultMessage:"No commands",description:"Shown when no slash commands match"})})]})]})]})}const SvgSendToCloud=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M15.0001 14.9967C16.841 14.9967 18.3334 13.5044 18.3334 11.6634C18.3334 9.82246 16.841 8.33008 15.0001 8.33008C15.0001 5.56865 12.7615 3.33008 10.0001 3.33008C7.80904 3.33008 5.94715 4.73939 5.27148 6.70098C3.23605 6.97537 1.66675 8.71946 1.66675 10.8301C1.66675 12.8458 3.09817 14.5273 5 14.9134",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M7.5 12.5L10 10L12.5 12.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M10 10.5V17",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),SvgStop=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M4.5 5.75C4.5 5.05964 5.05964 4.5 5.75 4.5H14.25C14.9404 4.5 15.5 5.05964 15.5 5.75V14.25C15.5 14.9404 14.9404 15.5 14.25 15.5H5.75C5.05964 15.5 4.5 14.9404 4.5 14.25V5.75Z"}));function getFileServicePointerFromId(Ye){return Ye.startsWith("file_")?`sediment://${Ye}`:`file-service://${Ye}`}function parseDataUrl(Ye){if(!Ye.startsWith("data:"))throw new Error("Malformed data URL (not a data: URL)");const rt=Ye.indexOf(",");if(rt===-1)throw new Error("Malformed data URL (no comma)");const it=Ye.substring(5,rt),lt=Ye.substring(rt+1),ct=it.match(/^[^;]+/)?.[0]||"image/png",ut=/;base64/i.test(it);if(!lt)throw new Error("Malformed data URL (missing payload)");if(ut){const mt=atob(lt),gt=new Uint8Array(mt.length);for(let yt=0;yt<mt.length;yt++)gt[yt]=mt.charCodeAt(yt);return{base64Payload:lt,bytes:gt,contentType:ct}}const ht=decodeURIComponent(lt),pt=new TextEncoder().encode(ht);return{base64Payload:bytesToBase64(pt),bytes:pt,contentType:ct}}function bytesToBase64(Ye){let rt="";for(let lt=0;lt<Ye.byteLength;lt+=32768)rt+=String.fromCharCode(...Ye.subarray(lt,lt+32768));return btoa(rt)}function dataUrlToFile(Ye,rt){const{base64Payload:it,bytes:lt,contentType:ct}=parseDataUrl(Ye),ut=rt.trim().length>0?rt.trim():"image.png";return{base64Payload:it,file:new File([new Uint8Array(lt)],ut,{type:ct})}}async function getImageDimensionsFromDataUrl(Ye){return new Promise((rt,it)=>{const lt=new Image;lt.onload=()=>{rt({width:lt.naturalWidth,height:lt.naturalHeight})},lt.onerror=ct=>{it(ct)},lt.src=Ye})}function parseAzureUploadUrlFromCombined(Ye){try{return new URL(Ye,window.location.origin).searchParams.get("upload_url")??null}catch{return null}}async function createFileEntry(Ye,rt){const it=await CodexRequest.safePost("/files",{requestBody:{file_name:Ye,file_size:rt,use_case:"codex",timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!1}}),{file_id:lt,upload_url:ct}=it;return{file_id:lt,upload_url:ct}}async function putToAzure(Ye,rt,it){try{await WebFetchWrapper.getInstance().put(Ye,it,{"Content-Type":rt.type||"application/octet-stream","x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","X-Codex-Base64":"1",...rt.type?{"x-ms-blob-content-type":rt.type}:{}})}catch(lt){const ct=lt?.status;if(typeof ct=="number"&&ct>=200&&ct<300)return;throw lt}}async function uploadImageDataUrlForCodex(Ye,rt){const{base64Payload:it,file:lt}=dataUrlToFile(Ye,rt),{width:ct,height:ut}=await getImageDimensionsFromDataUrl(Ye),{file_id:ht,upload_url:ft}=await createFileEntry(lt.name,lt.size),pt=getAzureUploadUrl(ft);return await putToAzure(pt,lt,it),await finalizeFileUpload(ht),{type:"image_asset_pointer",asset_pointer:getFileServicePointerFromId(ht),width:ct,height:ut,size_bytes:lt.size}}function getAzureUploadUrl(Ye){if(!Ye.toLowerCase().includes("estuary"))return Ye;const rt=parseAzureUploadUrlFromCombined(Ye);if(!rt)throw new Error("Combined upload URL missing embedded Azure upload_url");return rt}async function finalizeFileUpload(Ye){try{await CodexRequest.safePost("/files/{file_id}/uploaded",{parameters:{path:{file_id:Ye}},requestBody:{}})}catch(rt){logger.error(`uploadImageDataUrlForCodex finalizing file ${Ye} failed ${rt}`)}}function Composer$1({className:Ye,isResponseInProgress:rt=!1,followUp:it,opaqueBackground:lt=!1,onSubmitSuccess:ct}){const ut=useIntl(),ht=useNavigate(),ft=useCreateCloudTaskMutation(),pt=useFollowUpToCloudTaskMutation(),mt=useAppServerManager(),gt=useToaster(),yt=useQueryClient(),xt=useDefaultModelSettings(),[bt]=useAtom(aAgentMode),_t=useEnvironment(),Ct=useStatsigGate("codex_worktree_snapshots"),kt=async(Ot,Ft,Ut)=>{const Wt=Ut?.createWorktree;switch(it?.type){case"local":return Rt(Ot,it,Ft);case"cloud":return Tt(Ot,it);case void 0:return St(Ot,Ft,{createWorktree:Wt})}},St=async(Ot,Ft,Ut)=>{const Wt=Ut?.createWorktree,{workspaceRoots:Kt}=Ot,Qt=renderComposerPrompt(Ot),Zt=!Wt;try{const Vt=[{type:"text",data:{text:Qt}},...Ot.imageAttachments.map(Ht=>createImageLocalInputItem(Ht.src))],$t=await mt.getUserSavedConfiguration(),zt=buildPermissionsConfigForMode(bt,Kt?.roots?Kt.roots:["/"],$t),{model:Nt,reasoningEffort:qt}=xt,Gt=await mt.startConversation({input:Vt,workspaceRoots:Kt?.roots?Kt.roots:["/"],model:Nt,reasoningEffort:qt,permissions:zt,cwd:Ft,createWorktree:Wt===!0});Zt&&ht(`/local/${Gt}`)}catch(Vt){logger.error(`Error creating local task: ${maybeErrorToString(Vt)}`);const $t=isWorktreeInitFailure(Vt)?buildWorktreeInitFailureToast(ut):ut.formatMessage({id:"composer.localTaskError",defaultMessage:"Error starting conversation",description:"Toast text shown when we failed to start a conversation"});gt.danger($t)}},Rt=async(Ot,Ft,Ut)=>{rt&&await mt.interruptConversation(Ft.localConversationId);const Wt=[{type:"text",data:{text:renderComposerPrompt(Ot)}},...Ot.imageAttachments.map(Zt=>createImageLocalInputItem(Zt.src))],Kt=await mt.getUserSavedConfiguration(),Qt=buildPermissionsConfigForMode(bt,Ot.workspaceRoots?.roots??[],Kt);await mt.sendUserTurn(Ft.localConversationId,{conversationId:Ft.localConversationId,items:Wt,cwd:Ut,model:null,effort:null,approvalPolicy:Qt.approvalPolicy,sandboxPolicy:Qt.sandboxPolicy,summary:"auto"})},Tt=async(Ot,Ft)=>{const{workspaceRoots:Ut}=Ot,Wt=Ft.selectedTurn&&Ft.selectedTurn.id!==Ft.taskDetails.current_assistant_turn?.id?{...Ft.taskDetails,current_assistant_turn:Ft.selectedTurn,current_diff_task_turn:Ft.selectedTurn}:Ft.taskDetails,Kt=mapCloudTaskToPriorConversation(Wt),Zt=[{type:"text",data:{text:renderComposerPrompt({...Ot,priorConversation:Kt})}},...Ot.imageAttachments.map(Gt=>createImageLocalInputItem(Gt.src))],Vt=await mt.getUserSavedConfiguration(),$t=buildPermissionsConfigForMode(bt,Ut?.roots?Ut.roots:["/"],Vt),{model:zt,reasoningEffort:Nt}=xt,qt=await mt.startConversation({input:Zt,workspaceRoots:Ut?.roots?Ut.roots:["/"],model:zt,reasoningEffort:Nt,permissions:$t});ht(`/local/${qt}`)},Mt=async Ot=>{try{switch(Ot.cloudTaskType.type){case"new-task":{await Pt(Ot,Ot.cloudTaskType);break}case"follow-up":{await It(Ot,Ot.cloudTaskType.taskId,Ot.cloudTaskType.turnId);break}}yt.invalidateQueries({queryKey:["tasks"]})}catch(Ft){throw gt.danger(ut.formatMessage({id:"composer.cloudTaskCreationError",defaultMessage:"Error creating cloud task",description:"Toast text shown when we failed to create a cloud task"})),logger.error(`Error creating task: ${maybeErrorToString(Ft)}`),Ft}},Pt=async(Ot,Ft)=>{const Ut=Ot.repo?.clone_url,Wt=Ut?await gitRootForOriginUrl(Ut):null;if(!Wt)throw new Error("Unable to determine workspace root for task");let Kt=null;if(!_t){if(!Ct)throw new Error("No environment selected");const qt=await fetchFromVSCode("prepare-worktree-snapshot",{params:{gitRoot:Wt,snapshotBranch:Ft.startingState.type==="remote-branch"?Ft.startingState.branchName:null}}),Gt=await createWorktreeSnapshotUploadUrl({repoName:qt.repoName,filename:qt.tarballFilename,contentType:qt.contentType,anticipatedFileSize:qt.tarballSize});if(!(await fetchFromVSCode("upload-worktree-snapshot",{params:{tarballPath:qt.tarballPath,uploadUrl:Gt.upload_url,contentLength:qt.tarballSize,contentType:qt.contentType}})).success)throw new Error("Failed to upload worktree snapshot");const Xt=await finishWorktreeSnapshotUpload({fileId:Gt.file_id,etag:Gt.etag});Kt={repos:[{kind:"local_worktree",name:qt.repoName,remotes:qt.remotes,commit_sha:qt.commitSha,branch:qt.snapshotBranch,file_id:Xt.file_id}]}}let Qt=null;switch(Ft.startingState.type){case"working-tree":case"remote-branch":{Qt=null;break}case"fork-local-task":{const qt=mt.getConversationOrThrow(Ft.startingState.conversationId);Qt=mapLocalConversationToPriorConversation(qt);break}case"fork-cloud-task":{Qt=mapCloudTaskToPriorConversation(Ft.startingState.taskDetails);break}}const Zt=buildPromptContextSection(Ot),{ref:Vt,startingDiff:$t}=await getRefAndDiffForCloudStartingState(mt,Ft,Wt),zt=Ot.imageAttachments.map(qt=>qt.pointer).filter(qt=>qt!==void 0),Nt=await ft.mutateAsync({environmentId:_t?.id??null,environment:Kt,prompt:Ot.prompt,ideContext:Zt,ref:Vt,startingDiff:$t,priorConversation:Qt,images:zt,runEnvironmentInQaMode:!1,commentAttachments:Ot.commentAttachments,bestOfN:Ot.bestOfN});if(it?.type==="local"){mt.addCloudTaskSyntheticNotification(it.localConversationId,Nt.task.id);return}ht(`/remote/${Nt.task.id}`)},It=async(Ot,Ft,Ut)=>{const Wt=buildPromptContextSection(Ot),Kt=Ot.imageAttachments.map(Qt=>Qt.pointer).filter(Qt=>Qt!==void 0);await pt.mutateAsync({taskId:Ft,turnId:Ut,prompt:Ot.prompt,ideContext:Wt,images:Kt,runEnvironmentInQaMode:!1,priorConversation:null,commentAttachments:Ot.commentAttachments,bestOfN:Ot.bestOfN}),yt.invalidateQueries({queryKey:["task",Ft]})},Lt=async()=>{it?.type==="local"&&await mt.interruptConversation(it.localConversationId)};return jsxRuntimeExports.jsxs("div",{className:Ye,children:[jsxRuntimeExports.jsx("div",{id:ABOVE_COMPOSER_PORTAL_ID,className:"relative -mb-1.5 -translate-y-1.5 empty:hidden"}),jsxRuntimeExports.jsx(ComposerControllerScope,{children:jsxRuntimeExports.jsx(ComposerContent,{followUp:it,isResponseInProgress:rt,opaqueBackground:lt,onSubmitLocal:kt,onSubmitCloud:Mt,onStop:Lt,onSubmitSuccess:ct})})]})}function ComposerContent({followUp:Ye,isResponseInProgress:rt,opaqueBackground:it,onSubmitLocal:lt,onSubmitCloud:ct,onStop:ut,onSubmitSuccess:ht}){const{access:ft}=useCodexCloudAccess(),{data:pt}=useRateLimit(),mt=isRateLimitReached(pt),gt=Ye?.type==="local"?Ye.localConversationId:null,yt=useDefaultModelSettings(),xt=useLocalConversation(gt),bt=xt?.latestModel??yt.model,{showModelNudge:_t,handleTryNudge:Ct,dismissModelNudge:kt}=useModelNudge({rateLimit:pt,defaultModel:bt,conversationId:gt}),St=useStatsigGate("chatgpt-wham-credits-enabled"),Rt=useAtomValue(aComposerBestOfN),Tt=useIntl(),Mt=useEnvironment(),Pt=useToaster(),It=useStatsigGate("codex_worktree_snapshots"),[Lt,Ot]=reactExports.useState(!1),{data:Ft,isLoading:Ut}=useFetchFromVSCode("active-workspace-roots"),{data:Wt}=useFetchFromVSCode("codex-home"),Kt=Wt?.codexHome,Qt=(()=>{if(xt?.cwd)return xt.cwd;const Cr=Ft?.roots??[],zr=Cr.find(tn=>isWorktreePath(tn,Kt??void 0));if(zr)return zr;const Pr=Cr[0];return Pr&&Pr!=="/"?Pr:"/"})(),Zt=useComposerController(),{appendPromptToHistory:Vt,resetHistorySelection:$t}=useComposerPromptHistory(Zt),[zt,Nt]=useComposerViewState(Ye),qt=getComposerStateId(Ye),Gt=reactExports.useRef(null),Ht=zt.prompt,Xt=zt.commentAttachments;reactExports.useEffect(()=>{if(Gt.current===qt)return;Gt.current=qt;const Cr=Ht.length>0?Ht:"";Zt.setText(Cr)},[qt,Ht,Zt]);const Bt=reactExports.useCallback((Cr,zr)=>{Nt(Pr=>{const tn=typeof zr=="function"?zr(Pr[Cr]):zr;return{...Pr,[Cr]:tn}})},[Nt]),nr=useSyncCommentsToComposerViewState(Ye,Cr=>{Bt("commentAttachments",Cr)}),rr=zt.composerMode,Jt=Ye?.type??zt.composerMode,{gitRoot:ir}=useGitRootForCwd(Qt,{enabled:Jt==="worktree"}),ar=Jt==="worktree"?ir??Qt:Qt,cr=reactExports.useCallback(Cr=>{Bt("composerMode",Cr)},[Bt]),dr=zt.isAutoContextOn,xr=reactExports.useCallback(Cr=>{Bt("isAutoContextOn",Cr)},[Bt]),br=zt.imageAttachments,_r=br.length>0,Er=reactExports.useCallback(Cr=>{Bt("imageAttachments",Cr)},[Bt]),Rr=zt.fileAttachments,Lr=reactExports.useCallback(Cr=>{Bt("fileAttachments",Cr)},[Bt]),Mr=zt.addedFiles,Fr=reactExports.useCallback(Cr=>{Bt("addedFiles",Cr)},[Bt]),Xr=zt.newTaskStartingState,Jr=reactExports.useCallback(Cr=>{Bt("newTaskStartingState",Cr)},[Bt]),Kr=zt.followUpCloudStartingState,nn=reactExports.useCallback(Cr=>{Bt("followUpCloudStartingState",Cr)},[Bt]),Qr=useLocation().state,Zr=Qr?.prefillPrompt,[sn,yr]=reactExports.useState(Qr?.focusComposerNonce??0),hr=Qr?.focusComposerNonce,Tr=reactExports.useCallback(()=>{yr(Cr=>Cr+1)},[yr]);reactExports.useEffect(()=>{hr!=null&&yr(hr)},[hr]),reactExports.useEffect(()=>{Zr&&(Zt.hasText()||Zt.setText(Zr))},[Zr,Zt]),reactExports.useEffect(()=>{const Cr=()=>Zt.focus();return window.addEventListener("focus",Cr),()=>window.removeEventListener("focus",Cr)},[Zt]),reactExports.useEffect(()=>{sn!=null&&requestAnimationFrame(()=>{Zt.focus()})},[sn,Zt]),reactExports.useEffect(()=>{ft!=="enabled"&&rr==="cloud"&&cr("local")},[ft,rr,cr]);const Ir=useIdeContext(),[Dr,jr]=reactExports.useState(!1),[Br,Or]=reactExports.useState(!1),[$r,Ur]=reactExports.useState(!1),qr=reactExports.useRef(0),fn=reactExports.useRef(0),xn=(Cr,zr)=>{uploadImageDataUrlForCodex(Cr.src,Cr.filename??`image-${Cr.id}.png`).then(Pr=>{fn.current===zr&&Er(tn=>tn.map(En=>En.id===Cr.id?{...En,uploadStatus:"ready",pointer:{...Pr,size_bytes:Pr.size_bytes??0}}:En))}).catch(()=>{fn.current===zr&&(Pt.danger(Tt.formatMessage({id:"composer.imageUploadFailed",defaultMessage:"Failed to upload image",description:"Toast shown when an image fails to upload"})),Er(Pr=>Pr.filter(tn=>tn.id!==Cr.id)))})};useMessage("add-context-file",Cr=>Fr(zr=>zr.some(Pr=>normalizeFsPath(Pr.fsPath)===normalizeFsPath(Cr.file.fsPath)&&Pr.startLine===Cr.file.startLine&&Pr.endLine===Cr.file.endLine)?zr:[...zr,Cr.file]),[Fr]);const vi=Zt.useState(Cr=>Cr.hasText()),Yn=Rr.length>0||Mr.length>0,Xn=Xt.length>0,ai=vi||_r||Yn||Xn,An=useMentionAutocomplete(Zt),oi=useDebouncedValue(An.ui?.query??"",100),Ii=Mt?(Mt.repo_map??{})[Mt.repos[0]]:null,pn=Ye?.type==="cloud"&&Ye.hasAppliedCodeLocally;reactExports.useEffect(()=>{pn&&nn("working-tree")},[pn,nn]),reactExports.useEffect(()=>{Bt("prompt",Zt.getText())},[Zt,Bt]),reactExports.useEffect(()=>addTransactionListener(Zt.view,()=>{const Cr=Zt.getText();Bt("prompt",Cr)}),[Zt,Bt]),reactExports.useEffect(()=>{if(rr!=="cloud")return;const Cr=fn.current,zr=br.filter(Pr=>Pr.uploadStatus===void 0||Pr.uploadStatus==="idle");if(zr.length!==0){Er(Pr=>Pr.map(tn=>zr.some(En=>En.id===tn.id)?{...tn,uploadStatus:"uploading"}:tn));for(const Pr of zr)xn(Pr,Cr)}},[rr]);const Qn=Jt==="local"&&Ut,$i=Jt==="cloud"&&Kr!=="direct-follow-up"&&!It&&!Mt,ci=Jt==="cloud"&&br.some(Cr=>Cr.uploadStatus==="uploading"),$s=Ye?.type==="cloud"&&!Ye.selectedTurnId,Ns=!!Ft?.roots?.length&&!(Ft.roots.length===1&&Ft.roots[0]==="/"),Fs=Jt!=="cloud"&&!Ut&&(!Ns||ar==="/"),ds=(function(){return Fs?Tt.formatMessage({id:"composer.submit.noWorkspace",defaultMessage:"Add a folder to your workspace to use Codex",description:"Message shown when the extension has no workspace folders available"}):Qn?Tt.formatMessage({id:"composer.submit.loadingLocalConfig",defaultMessage:"Loading",description:"Message shown when the local composer is disabled while workspace information loads"}):$i?Tt.formatMessage({id:"composer.submit.missingCloudConfig",defaultMessage:"You must choose a cloud environment",description:"Message shown when cloud submission is disabled due to missing configuration"}):ci?Tt.formatMessage({id:"composer.submit.waitForImageUploads",defaultMessage:"Images uploading",description:"Message shown when the submit button is disabled because images are still uploading"}):$s?Tt.formatMessage({id:"composer.submit.missingCloudTurn",defaultMessage:"Cannot follow-up on this task",description:"Message shown when a follow-up cloud task requires a selected turn"}):ai?null:Tt.formatMessage({id:"composer.submit.emptyMessage",defaultMessage:"Enter a message to get started",description:"Message shown when submitting is disabled because the composer is empty"})})(),Wn=ds!=null,ui=reactExports.useCallback(Cr=>{Ur(Cr),Cr||Tr()},[Tr]),hs=rt&&!ai?"stop":"submit",qs=Cr=>{Er(zr=>zr.filter(Pr=>Pr.id!==Cr))},Jn=Cr=>{Lr(Rr.filter((zr,Pr)=>Pr!==Cr))},Pn=Cr=>{Fr(zr=>zr.filter((Pr,tn)=>tn!==Cr))},Sn=()=>{nr([])},bi=async()=>{if(Wn){Ur(!0);return}Ot(!0);const Cr=()=>{Zt.setText(""),Er(()=>[]),Lr([]),Fr(()=>[]),nr([]),fn.current=fn.current+1},zr=Rn=>{logger.error(`[Composer] submit failed mode=${Jt} followUp=${Ye?.type??"none"} cwd=${Qt} error=${maybeErrorToString(Rn)}`);const Mn=isWorktreeInitFailure(Rn)?buildWorktreeInitFailureToast(Tt):Tt.formatMessage({id:"composer.localTaskError",defaultMessage:"Error starting conversation",description:"Toast text shown when we failed to start a conversation"});Pt.danger(Mn)},Pr=Zt.getText();Vt(Pr),$t(),Qt==="/"&&logger.warn("[Composer] resolvedCwd fell back to '/', verify workspace roots and conversation repoContext");const tn={addedFiles:Mr,prompt:Pr,ideContext:Ir,isAutoContextOn:dr,imageAttachments:br,commentAttachments:Xt,workspaceRoots:{roots:[ar]}},En=Rn=>{logger.error(`[Composer] submit failed mode=${Jt} followUp=${Ye?.type??"none"} cwd=${Qt} error=${maybeErrorToString(Rn)}`),Jt==="worktree"?zr(Rn):Pt.danger(Tt.formatMessage({id:"composer.cloudTaskError",defaultMessage:"Error creating task",description:"Toast shown when we fail to create a Codex task"}))},In=async()=>{switch(Jt){case"local":{await lt(tn,Qt);break}case"worktree":{await lt(tn,Qt,{createWorktree:!0});break}case"cloud":{const Rn=getCloudTaskType(Ye,Xr,Kr);await ct({addedFiles:Mr,prompt:Pr,ideContext:Ir,isAutoContextOn:dr,imageAttachments:br,commentAttachments:Xt,repo:Ii,cloudTaskType:Rn,bestOfN:Rt});break}}};if(Jt==="worktree"){Cr(),Ot(!1),ht?.();try{await In()}catch(Rn){En(Rn)}finally{Ot(!1)}return}try{await In(),Cr(),ht?.()}catch(Rn){En(Rn)}finally{Ot(!1),Tr()}},Ni=Cr=>{if(!Cr||Cr.length===0)return;const zr=fn.current;for(const Pr of Cr){const tn=new FileReader,En=Pr.name&&Pr.name.trim().length>0?Pr.name:void 0,In=Pr.type||"image/png",Rn=(()=>{const Fi=In.split("/")[1]||"png";return Fi==="jpeg"?"jpg":Fi})(),Mn=En??`pasted-image-${v4().slice(0,8)}.${Rn}`;tn.onload=Fi=>{if(fn.current!==zr)return;const Bs=Fi.target?.result,Ql=v4(),zs=rr==="cloud",Vs={id:Ql,src:Bs,filename:Mn,uploadStatus:zs?"uploading":"idle"};Er(Li=>[...Li,Vs]),zs&&xn(Vs,zr)},tn.readAsDataURL(Pr)}},la=Cr=>{const zr=Cr.clipboardData;if(!zr)return;const Pr=Array.from(zr.items??[]),tn=[];for(const En of Pr)if(En.kind==="file"&&En.type.startsWith("image/")){const In=En.getAsFile();In&&tn.push(In)}tn.length!==0&&(Cr.preventDefault(),Ni(tn))},fs=Cr=>!!Cr&&Array.from(Cr.items??[]).some(zr=>zr.kind==="file"&&zr.type.startsWith("image/")),ca=Cr=>Array.from(Cr?.items??[]).filter(Pr=>Pr.kind==="file"&&Pr.type.startsWith("image/")).map(Pr=>Pr.getAsFile()).filter(Pr=>!!Pr),Hr=Cr=>{fs(Cr.dataTransfer)&&(Or(!Cr.shiftKey),Cr.preventDefault(),Cr.stopPropagation(),Cr.dataTransfer.dropEffect="copy",qr.current=qr.current+1,jr(!0))},or=Cr=>{fs(Cr.dataTransfer)&&(Or(!Cr.shiftKey),Cr.preventDefault(),Cr.stopPropagation(),Cr.dataTransfer.dropEffect="copy",Dr||jr(!0))},Ar=Cr=>{fs(Cr.dataTransfer)&&(qr.current=Math.max(0,qr.current-1),qr.current===0&&(jr(!1),Or(!1)))},Nr=Cr=>{const zr=ca(Cr.dataTransfer);zr.length!==0&&(Cr.preventDefault(),Ni(zr),qr.current=0,jr(!1),Or(!1))};return jsxRuntimeExports.jsxs("div",{className:"relative flex w-full flex-col gap-2",onPaste:la,children:[_t&&jsxRuntimeExports.jsx(ModelNudgeBanner,{onTry:Ct,onDismiss:kt}),St&&mt&&pt&&jsxRuntimeExports.jsx(CreditUpsellBanner,{rateLimitStatus:pt}),An.ui?.active&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-full left-0 right-0 z-50 mb-2",children:jsxRuntimeExports.jsx(AtMentionList,{query:oi,onUpdateSelectedFile:An.setSelectedFile,onAddContext:An.addMention})}),jsxRuntimeExports.jsxs("div",{inert:Lt,className:clsx("electron:shadow-md electron:focus-within:shadow-lg electron:rounded-4xl border-token-border relative flex flex-col overflow-y-auto rounded-2xl border",Dr&&"bg-token-dropdown-background/50",it?"bg-[rgb(from_var(--color-token-input-background)_r_g_b_/1)]":"bg-token-input-background"),onDragEnter:Hr,onDragOver:or,onDragLeave:Ar,onDrop:Nr,children:[Br&&jsxRuntimeExports.jsx("div",{className:"bg-token-editor-group-drop-background/60 pointer-events-none absolute inset-0 z-40 flex items-center justify-center rounded-2xl",children:jsxRuntimeExports.jsx("div",{className:"text-token-editor-group-drop-into-prompt-foreground bg-token-editor-group-drop-into-prompt-background border-token-border/50 inline-flex items-center gap-1 rounded-md border px-3 py-1 text-sm shadow",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.dropOverlay.holdShift",defaultMessage:"Hold {key} to drop",description:"Overlay shown while dragging image without holding Shift",values:{key:jsxRuntimeExports.jsx("span",{className:"border-token-editor-group-drop-into-prompt-foreground/40 inline-flex items-center rounded-md border px-1.5 py-0.5 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.dropOverlay.shiftKey",defaultMessage:"Shift",description:"Label for Shift keycap in drag overlay"})})}})})}),jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsx(AttachmentsRow,{imageAttachments:br,fileAttachments:Rr,commentAttachments:Xt,onRemoveImage:qs,onRemoveFileAttachment:Jn,onRemoveFile:Pn,addedFiles:Mr,onRemoveAllCommentAttachments:Sn})}),jsxRuntimeExports.jsx("div",{className:"mb-2 flex-grow overflow-y-auto px-3",children:jsxRuntimeExports.jsx(RichTextInput,{composerController:Zt,placeholder:Tt.formatMessage(composerPlaceholderText(Ye?.type,rr,Kr)),onMentionHandler:An.handleMentionEvent,className:"text-base",onSubmit:()=>{switch(hs){case"stop":{ut();break}case"submit":{bi();break}}}})}),jsxRuntimeExports.jsxs("div",{className:"mb-2 grid grid-cols-[minmax(0,1fr)_auto] items-center gap-[5px] px-2",children:[jsxRuntimeExports.jsx(InternalFooter,{onAddImages:Ni,fileAttachments:Rr,setFileAttachments:Lr,onAddContext:Cr=>Fr(zr=>zr.some(Pr=>normalizeFsPath(Pr.fsPath)===normalizeFsPath(Cr.fsPath)&&Pr.startLine===Cr.startLine&&Pr.endLine===Cr.endLine)?zr:[...zr,Cr]),isAutoContextOn:dr,setIsAutoContextOn:xr,workspaceRoot:Qt}),jsxRuntimeExports.jsx("div",{children:hs==="stop"?jsxRuntimeExports.jsx(SubmitButton,{Icon:SvgStop,onClick:ut}):jsxRuntimeExports.jsx(SubmitButton,{isSubmitting:Lt,blockedReason:ds,Icon:rr==="cloud"?SvgSendToCloud:SvgArrowUp,onClick:bi})})]})]}),jsxRuntimeExports.jsx(ComposerExternalFooter,{followUp:Ye,composerMode:rr,setComposerMode:cr,isResponseInProgress:rt,startingState:Xr,setStartingState:Jr,cloudFollowUpStartingState:Kr,setCloudFollowUpStartingState:nn,codexHome:Kt}),jsxRuntimeExports.jsx(SubmitBlockedDialog,{open:$r,onOpenChange:Cr=>{ui(Cr),Cr||Tr()},message:ds})]})}function useMentionAutocomplete(Ye){const rt=Ye.useState(ft=>mentionUiKey.getState(ft.view.state)),it=reactExports.useRef(null),lt=reactExports.useCallback(ft=>{it.current=ft},[]),ct=reactExports.useCallback(()=>{it.current=null},[]),ut=reactExports.useCallback(ft=>{rt&&Ye.insertAtMention(ft,rt)},[Ye,rt]),ht=reactExports.useCallback(ft=>{switch(ft){case"submit":{rt&&it.current&&Ye.insertAtMention(it.current,rt),ct();break}case"close":{ct();break}}},[Ye,ct,rt]);return{ui:rt,addMention:ut,setSelectedFile:lt,handleMentionEvent:ht}}function AttachmentsRow({imageAttachments:Ye,fileAttachments:rt,onRemoveImage:it,onRemoveFileAttachment:lt,onRemoveFile:ct,addedFiles:ut,commentAttachments:ht,onRemoveAllCommentAttachments:ft}){return jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-wrap items-center justify-start gap-1",children:[Ye.map(pt=>jsxRuntimeExports.jsx(ImageAttachment,{src:pt.src,filename:pt.filename,alt:"User attachment",loading:pt.uploadStatus==="uploading",onRemove:()=>it(pt.id)},pt.id)),!!ht.length&&jsxRuntimeExports.jsx(CommentAttachments,{numComments:ht.length,onRemove:ft}),rt.map((pt,mt)=>jsxRuntimeExports.jsx(FileAttachment,{filename:pt.label,onRemove:()=>lt(mt)},mt)),ut.map((pt,mt)=>jsxRuntimeExports.jsx(FileAttachment,{filename:pt.label,onRemove:()=>ct(mt)},`added-${mt}`))]})}function InternalFooter({onAddImages:Ye,fileAttachments:rt,setFileAttachments:it,onAddContext:lt,isAutoContextOn:ct,setIsAutoContextOn:ut,workspaceRoot:ht}){return jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 flex-nowrap items-center justify-start gap-[5px]",children:[jsxRuntimeExports.jsx(AddContextButton,{onAddImages:Ye,fileAttachments:rt,setFileAttachments:it,onAddContext:lt,workspaceRoot:ht}),jsxRuntimeExports.jsx(SlashCommandButton,{}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(AutoContextButton,{isAutoContextOn:ct,setIsAutoContextOn:ut})})]})}function SubmitButton({isSubmitting:Ye,Icon:rt,blockedReason:it,onClick:lt}){return jsxRuntimeExports.jsx(Tooltip,{disabled:!it,tooltipContent:it,children:jsxRuntimeExports.jsx("button",{type:"button",className:clsx("bg-token-foreground focus-visible:outline-token-button-background cursor-interaction size-token-button-composer flex items-center justify-center rounded-full p-0.5 transition-opacity focus-visible:outline-2",Ye&&"cursor-default opacity-50",!Ye&&!!it&&"opacity-50"),onClick:lt,disabled:Ye,children:Ye?jsxRuntimeExports.jsx(Spinner,{className:"icon-sm text-token-dropdown-background"}):jsxRuntimeExports.jsx(rt,{className:"icon-sm text-token-dropdown-background"})})})}async function getRefAndDiffForCloudStartingState(Ye,rt,it){switch(rt.startingState.type){case"remote-branch":return{ref:rt.startingState.branchName,startingDiff:null};case"fork-local-task":case"fork-cloud-task":case"working-tree":{const lt=await Ye.getGitDiffToRemote(it);return{ref:lt.sha,startingDiff:lt?.diff}}}}function mapLocalConversationToPriorConversation(Ye){const rt=[];let it=null;for(const ct of Ye.turns){const{items:ut}=mapStateToLocalConversationItems(ct,Ye.requests);for(const ht of ut)ht.type==="user-message"?rt.push({role:"user",content:[{content_type:"text",text:ht.message}]}):ht.type==="assistant-message"&&ht.completed?rt.push({role:"assistant",content:[{content_type:"text",text:ht.content}]}):ht.type==="turn-diff"&&(it=ht.unifiedDiff)}const lt=it!=null?{type:"output_diff",diff:it}:null;return{conversation:rt,diff:lt}}function mapCloudTaskToPriorConversation(Ye){const rt=[],it=(Ye.current_user_turn?.input_items??[]).flatMap(ut=>ut?.type==="message"?ut.content??[]:[]).filter(ut=>ut.content_type==="text");it.length>0&&rt.push({role:"user",content:it});const lt=(Ye.current_assistant_turn?.output_items??[]).flatMap(ut=>ut?.type==="message"?ut.content??[]:[]).filter(ut=>ut.content_type==="text");lt.length>0&&rt.push({role:"assistant",content:lt});const ct=Ye.current_diff_task_turn?.output_items?.find(ut=>ut.type==="output_diff");return{conversation:rt,diff:ct}}function composerPlaceholderText(Ye,rt,it){switch(Ye){case void 0:return rt==="cloud"?{id:"composer.placeholder.newTask.cloud",defaultMessage:"Ask Codex to do anything in the cloud",description:"Composer placeholder text for new Codex Cloud task"}:{id:"composer.placeholder.newTask.locally",defaultMessage:"Ask Codex to do anything",description:"Placeholder when in local mode"};case"cloud":return rt==="local"?{id:"composer.placeholder.cloudFollowUp.local",defaultMessage:"Create a new local task that references this cloud task",description:"Placeholder when following up to a cloud Codex task locally"}:it==="working-tree"?{id:"composer.placeholder.cloudFollowUp.workingTree",defaultMessage:"Create a new cloud task that includes your current code and will reference this task",description:"Placeholder when starting a new cloud Codex task that includes the users changes and will reference a previous cloud task"}:{id:"composer.placeholder.cloudFollowUp.directFollowUp",defaultMessage:"Follow-up to this cloud task",description:"Placeholder when following up to a cloud Codex task"};case"local":return rt==="cloud"?{id:"composer.placeholder.localFollowUp.cloud",defaultMessage:"Follow-up in a new cloud task",description:"Placeholder when in cloud mode"}:{id:"composer.placeholder.localFollowUp.locally",defaultMessage:"Ask for follow-up changes",description:"Placeholder when in local mode"}}}function getCloudTaskType(Ye,rt,it){switch(Ye?.type){case void 0:return{type:"new-task",startingState:rt};case"cloud":switch(it){case"direct-follow-up":return{type:"follow-up",taskId:Ye.taskDetails.task.id,turnId:Ye.selectedTurnId};case"working-tree":return{type:"new-task",startingState:{type:"fork-cloud-task",taskDetails:Ye.selectedTurn&&Ye.selectedTurn.id!==Ye.taskDetails.current_assistant_turn?.id?{...Ye.taskDetails,current_assistant_turn:Ye.selectedTurn,current_diff_task_turn:Ye.selectedTurn}:Ye.taskDetails}}}case"local":return{type:"new-task",startingState:{type:"fork-local-task",conversationId:Ye.localConversationId}}}}const WORKTREE_INIT_ERROR_CODE="worktree_init_failed";function isWorktreeInitFailure(Ye){return!Ye||typeof Ye!="object"?!1:Ye.data?.code===WORKTREE_INIT_ERROR_CODE}function buildWorktreeInitFailureToast(Ye){return Ye.formatMessage({id:"composer.worktreeInitFailed",defaultMessage:"Worktree init failed. Check .codex/worktree_init.sh in your worktree.",description:"Toast text shown when the worktree init script fails"})}function useFocusVsContext(Ye,rt){const it=reactExports.useRef(null),lt=!0,ct=!1,ut=reactExports.useRef(null);return reactExports.useEffect(()=>{const ht=it.current;if(!ht)return;const ft=()=>{if(typeof document>"u")return!1;const yt=document.activeElement??null;return!!yt&&ht.contains(yt)},pt=yt=>{ut.current!==yt&&(ut.current=yt,WebFetchWrapper.getInstance().post("vscode://codex/set-vs-context",JSON.stringify({key:Ye,value:yt?lt:ct})))};pt(ft());const mt=()=>{pt(!0)},gt=yt=>{const xt=yt.relatedTarget;if(xt){pt(ht.contains(xt));return}pt(ft())};return ht.addEventListener("focusin",mt),ht.addEventListener("focusout",gt),()=>{ht.removeEventListener("focusin",mt),ht.removeEventListener("focusout",gt),WebFetchWrapper.getInstance().post("vscode://codex/set-vs-context",JSON.stringify({key:Ye,value:ct})),ut.current=null}},[Ye,lt,ct]),it}function HomeLayout({header:Ye,body:rt,footer:it}){return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[Ye,jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx("div",{className:"relative flex w-full flex-1 flex-col items-center justify-center overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"px-panel mx-auto flex w-full max-w-3xl flex-col gap-3",children:rt})}),it?jsxRuntimeExports.jsx("div",{className:"p-panel extension:pt-0 extension:pb-2 absolute bottom-0 left-0 right-0 mx-auto flex max-w-3xl flex-col gap-3",children:it}):null]})]})}function HomePage(){const Ye=useWindowType(),rt=useFocusVsContext("chatgpt.supportsNewChatKeyShortcut"),{showAnnouncement:it}=useCodexAutoAnnouncement(),lt=useNux();return lt==null?jsxRuntimeExports.jsx(LoadingPage,{}):lt!=="none"?jsxRuntimeExports.jsx(Navigate,{to:"/first-run",replace:!0}):it?jsxRuntimeExports.jsx(Navigate,{to:"/announcement",replace:!0}):jsxRuntimeExports.jsx("div",{className:"extension:pb-2 flex h-full flex-col","data-vscode-context":'{"chatgpt.supportsNewChatMenu": true}',tabIndex:0,ref:rt,children:jsxRuntimeExports.jsx(HomeLayout,{header:jsxRuntimeExports.jsx(Header,{title:Ye==="electron"||Ye==="browser"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"app.name",defaultMessage:"Codex",description:"Titlebar title of the app"}):null}),body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SvgOpenaiBlossom,{className:"-z-1 text-token-foreground/20 electron:hidden pointer-events-none fixed left-1/2 top-[calc(50%_-_55px)] h-12 w-12 -translate-x-1/2 -translate-y-1/2"}),jsxRuntimeExports.jsxs(WithWindow,{electron:!0,browser:!0,children:[jsxRuntimeExports.jsx("div",{className:"heading-lg mb-3 text-left font-normal",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.newChat.heading",defaultMessage:"What should we code next?",description:"Heading for the new chat page"})}),jsxRuntimeExports.jsx(Composer$1,{})]})]}),footer:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx(UpsellBanner,{}),jsxRuntimeExports.jsx(LatestModelBanner,{}),jsxRuntimeExports.jsx(WindowsSandboxBanner,{})]}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(Composer$1,{className:"electron:hidden"})})]})})})}function InitialRouteHandler({children:Ye}){const[rt,it]=reactExports.useState(!1),lt=useLocation();return reactExports.useEffect(()=>{initialRoute&&initialRoute===lt.pathname&&!rt&&it(!0)},[lt.pathname,rt]),rt||!initialRoute?Ye:jsxRuntimeExports.jsx(Navigate,{to:initialRoute,replace:!0})}const SvgClipboard=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M11.8352 4.58331C11.8352 3.56995 11.0136 2.74848 10.0002 2.74835C8.9868 2.74835 8.16528 3.56987 8.16528 4.58331C8.16528 4.67625 8.24033 4.75123 8.33325 4.75128H11.6663C11.7592 4.75128 11.8352 4.67628 11.8352 4.58331ZM16.7063 13.0833C16.7063 13.7724 16.707 14.3294 16.6702 14.7796C16.6374 15.1802 16.5731 15.541 16.429 15.8773L16.3616 16.0198C16.096 16.541 15.6924 16.9775 15.1965 17.2816L14.9788 17.4036C14.602 17.5956 14.1956 17.6748 13.7376 17.7122C13.2874 17.749 12.7302 17.7484 12.0413 17.7484H7.95825C7.26916 17.7484 6.71221 17.749 6.26196 17.7122C5.86132 17.6795 5.5006 17.6143 5.16431 17.47L5.02173 17.4036C4.50069 17.1381 4.06411 16.7343 3.76001 16.2386L3.63794 16.0198C3.44614 15.6432 3.36676 15.2374 3.32935 14.7796C3.29256 14.3294 3.29321 13.7724 3.29321 13.0833V7.4339C3.29321 6.89108 3.2926 6.45196 3.31568 6.09503C3.33912 5.73276 3.38938 5.40917 3.51001 5.09991C3.83166 4.27546 4.48341 3.62273 5.30786 3.30109L5.54321 3.22394C5.78184 3.15798 6.03209 3.12531 6.30396 3.10773C6.56114 3.0911 6.86075 3.08745 7.21118 3.08624C7.74527 2.0934 8.79389 1.41827 10.0002 1.41827C11.2064 1.41836 12.2542 2.09359 12.7883 3.08624C13.139 3.08744 13.4392 3.09109 13.6965 3.10773C14.0587 3.13116 14.3825 3.18053 14.6917 3.30109L14.844 3.36554C15.5964 3.7052 16.1889 4.32679 16.4905 5.09991L16.5686 5.33527C16.6344 5.5736 16.6663 5.82355 16.6838 6.09503C16.7069 6.45195 16.7063 6.89108 16.7063 7.4339V13.0833ZM13.1653 4.58331C13.1653 5.41082 12.4938 6.08136 11.6663 6.08136H8.33325C7.50579 6.08131 6.83521 5.41079 6.83521 4.58331C6.83521 4.52829 6.83634 4.47359 6.83911 4.41925C6.66887 4.42205 6.52147 4.42638 6.38989 4.43488C6.16579 4.44937 6.01318 4.47293 5.89673 4.50519L5.79126 4.54034C5.31326 4.72683 4.93477 5.10531 4.74829 5.58331C4.69813 5.71204 4.66211 5.88293 4.64282 6.18097C4.62316 6.48503 4.62329 6.87387 4.62329 7.4339V13.0833C4.62329 13.7944 4.62418 14.2877 4.65552 14.6712C4.68622 15.0469 4.74298 15.2583 4.82349 15.4163L4.8938 15.5423C5.07011 15.8299 5.32299 16.0641 5.62525 16.2181L5.75513 16.2747C5.89888 16.3262 6.08851 16.363 6.37036 16.386C6.75388 16.4174 7.24721 16.4183 7.95825 16.4183H12.0413C12.7521 16.4183 13.2457 16.4174 13.6292 16.386C14.0047 16.3554 14.2163 16.2985 14.3743 16.2181L14.5012 16.1478C14.7887 15.9715 15.0231 15.7185 15.177 15.4163L15.2327 15.2864C15.2841 15.1427 15.3219 14.9532 15.345 14.6712C15.3763 14.2877 15.3762 13.7944 15.3762 13.0833V7.4339C15.3762 6.87387 15.3764 6.48503 15.3567 6.18097C15.3422 5.95722 15.3186 5.80513 15.2864 5.68878L15.2512 5.58331C15.0881 5.16509 14.7781 4.8233 14.3831 4.61945L14.2083 4.54034C14.0795 4.49017 13.9087 4.45416 13.6106 4.43488C13.4788 4.42636 13.331 4.42205 13.1604 4.41925C13.1632 4.47359 13.1653 4.52828 13.1653 4.58331Z"}));function OpenInTargetDropdown({path:Ye}){const it=useWindowType()==="electron",[lt,ct]=reactExports.useState([]),[ut,ht]=reactExports.useState(null),[ft,pt]=reactExports.useState(!1);useMessage("open-in-targets-state",_t=>{if(!it)return;const Ct=_t.targets.slice().sort((St,Rt)=>St.label.localeCompare(Rt.label));ct(Ct);const kt=Ct.find(St=>St.default)?.id??null;ht(kt)},[it]),reactExports.useEffect(()=>{it&&messageBus.dispatchMessage("get-open-in-targets",{path:Ye})},[it,Ye]),reactExports.useEffect(()=>{const _t=kt=>{kt.key==="Alt"&&pt(!0)},Ct=kt=>{kt.key==="Alt"&&pt(!1)};return window.addEventListener("keydown",_t),window.addEventListener("keyup",Ct),()=>{window.removeEventListener("keydown",_t),window.removeEventListener("keyup",Ct)}},[]);const mt=lt.filter(_t=>_t.available),gt=ft?lt:mt;if(!it||!Ye||lt.length===0)return null;const yt=_t=>{messageBus.dispatchMessage("open-in-target",{path:Ye,target:_t}),ht(_t)},xt=ut?lt.find(_t=>_t.id===ut)??null:null,bt=gt.filter(_t=>_t.id!==ut);return jsxRuntimeExports.jsxs(BasicDropdown,{triggerButton:jsxRuntimeExports.jsxs(Button,{color:"ghost",className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationPage.openInDropdownLabel",defaultMessage:"Open in",description:"Trigger button label for the open in dropdown"}),jsxRuntimeExports.jsx(SvgChevron,{className:"icon-2xs text-token-input-placeholder-foreground"})]}),contentClassName:"px-1 min-w-[200px]",align:"end",children:[xt?jsxRuntimeExports.jsx(Dropdown.Item,{onSelect:()=>{yt(xt.id)},children:jsxRuntimeExports.jsx(DropdownRow,{icon:xt.icon,label:xt.label})}):null,jsxRuntimeExports.jsx(Dropdown.Item,{onSelect:()=>{copyToClipboard(Ye)},children:jsxRuntimeExports.jsx(DropdownRow,{iconSlot:jsxRuntimeExports.jsx("div",{className:"bg-token-button-secondary-background/30 flex h-4 w-4 items-center justify-center rounded-[4px]",children:jsxRuntimeExports.jsx(SvgClipboard,{className:"icon-2xs"})}),label:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationPage.copyPath",defaultMessage:"Copy path",description:"Menu item to copy the current workspace path"})})}),jsxRuntimeExports.jsx(DropdownSeparator,{}),bt.map(_t=>jsxRuntimeExports.jsx(Dropdown.Item,{onSelect:()=>{yt(_t.id)},children:jsxRuntimeExports.jsx(DropdownRow,{icon:_t.icon,label:_t.label})},_t.id))]})}function DropdownRow({icon:Ye,iconSlot:rt,label:it}){return jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1.5",children:[Ye?jsxRuntimeExports.jsx("img",{alt:typeof it=="string"?it:"",src:Ye,className:"h-4 w-4 rounded-[4px]"}):rt,jsxRuntimeExports.jsx("span",{className:"truncate",children:it})]})}function ThreadPageLayoutSwitcher({chatMode:Ye,setChatMode:rt,disabled:it=!1}){return jsxRuntimeExports.jsx(Button,{color:"primary",disabled:it,onClick:()=>rt(Ye==="chat"?"review":"chat"),children:Ye==="chat"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"threadPageLayout.layoutMode.review",defaultMessage:"Review",description:"Button text to change the conversation mode to show the conversation and the code diff side by side"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"threadPageLayout.layoutMode.closeReview",defaultMessage:"Close review",description:"Button text to close the review mode"})})}function ThreadPageHeader({chatMode:Ye,setChatMode:rt,start:it,trailing:lt}){return jsxRuntimeExports.jsx(AppHeader,{children:jsxRuntimeExports.jsxs("div",{className:"draggable extension:py-row-y electron:h-toolbar browser:h-toolbar grid w-full grid-cols-[minmax(0,1fr)_auto] gap-x-4",children:[jsxRuntimeExports.jsx("div",{className:"text-md flex w-full max-w-[300px] items-center gap-2 text-base",children:jsxRuntimeExports.jsx("div",{className:"min-w-0 flex-1",children:it})}),jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-end gap-2",children:[lt,jsxRuntimeExports.jsx(ThreadPageLayoutSwitcher,{chatMode:Ye,setChatMode:rt})]})]})})}function LocalConversationHeaderElectron({chatMode:Ye,setChatMode:rt,conversationState:it}){const lt=getLocalConversationTitle(it),ct=it?.cwd??null;return jsxRuntimeExports.jsx(ThreadPageHeader,{chatMode:Ye,setChatMode:rt,start:jsxRuntimeExports.jsx("div",{className:"truncate",children:lt}),trailing:ct?jsxRuntimeExports.jsx(OpenInTargetDropdown,{path:ct}):null})}function InProgressFixedContentItem({children:Ye,action:rt,onClick:it,expandedContent:lt,backgroundColorClassName:ct}){return jsxRuntimeExports.jsx("div",{className:clsx("bg-token-editor-background text-token-foreground relative select-none overflow-clip transition-colors first:rounded-t-2xl",it&&"cursor-interaction",ct),onClick:it,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-between gap-1.5 py-1.5 pl-3 pr-2 text-base font-normal",children:[jsxRuntimeExports.jsx("div",{className:"flex min-w-0 flex-1 items-center gap-1.5",children:Ye}),jsxRuntimeExports.jsx("div",{className:"flex min-w-fit shrink-0 items-center gap-1.5 sm:ml-auto",children:rt})]}),lt]})})}function CommandRiskSummary({risk:Ye}){if(!Ye)return null;const{risk_level:rt,description:it}=Ye,lt=severityDotClassName(rt),ct=riskLevelText(rt);return jsxRuntimeExports.jsxs("p",{className:"text-token-text-secondary m-0 mb-2 min-w-0 whitespace-pre-wrap text-[13px] leading-[18px]",children:[jsxRuntimeExports.jsx("span",{className:"relative mr-1 inline-block align-baseline",children:jsxRuntimeExports.jsx("span",{className:clsx("relative inline-block h-1.5 w-1.5 -translate-y-[2px] rounded-full",lt),title:ct})}),it?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx("span",{className:"align-baseline",children:it})]}):null]})}function severityDotClassName(Ye){switch(Ye){case"low":return"bg-token-charts-green";case"medium":return"bg-token-charts-yellow";case"high":return"bg-token-charts-red"}}function riskLevelText(Ye){switch(Ye){case"low":return"Low risk";case"medium":return"Medium risk";case"high":return"High risk"}}function buildUnifiedGitDiffText(Ye,rt){if(rt.type==="update"){const it=Ye,lt=rt.move_path??Ye,ct=rt.unified_diff.trimStart(),ut=/\n?---\s/.test(ct),ht=/^diff --git /m.test(ct),ft=ut?ct:`--- a/${it}
+++ b/${lt}
${ct}`;return`${ht?"":`diff --git a/${it} b/${lt}
`}${ft}`}if(rt.type==="add"){const it=rt.content.replace(/\r\n/g,`
`).split(`
`),lt=it.length>0&&it[it.length-1]===""?it.slice(0,-1):it,ct=lt.length,ut=lt.map(ft=>"+"+ft).join(`
`),ht=ct>0?`@@ -0,0 +1,${ct} @@
${ut}
`:"";return[`diff --git a/${Ye} b/${Ye}`,"new file mode 100644","--- /dev/null",`+++ b/${Ye}`,ht].filter(Boolean).join(`
`)}if(rt.type==="delete"){const it=rt.content.replace(/\r\n/g,`
`).split(`
`),lt=it.length>0&&it[it.length-1]===""?it.slice(0,-1):it,ct=lt.length,ut=lt.map(ft=>"-"+ft).join(`
`),ht=ct>0?`@@ -1,${ct} +0,0 @@
${ut}
`:"";return[`diff --git a/${Ye} b/${Ye}`,"deleted file mode 100644",`--- a/${Ye}`,"+++ /dev/null",ht].filter(Boolean).join(`
`)}return null}const diffView="_diffView_fby55_1",styles={diffView};function TimelineItem({children:Ye,className:rt,padding:it="default"}){const lt=clsx("min-w-0 text-sm",rt);return it==="offset"?jsxRuntimeExports.jsx("div",{className:clsx(lt,"relative -ml-2.5 overflow-visible py-0.5 pl-0 pr-2"),children:Ye}):jsxRuntimeExports.jsx("div",{className:clsx(lt,"py-1"),children:Ye})}function getLanguageFromPath(Ye){const rt=Ye.toLowerCase();if(/(^|\/)makefile$/.test(rt))return"makefile";switch(rt.split(".").pop()??""){case"ts":case"tsx":return"typescript";case"js":case"jsx":return"javascript";case"json":return"json";case"md":return"markdown";case"yml":case"yaml":return"yaml";case"xml":return"xml";case"html":return"xml";case"css":return"css";case"scss":return"scss";case"less":return"less";case"sh":case"zsh":case"bash":return"bash";case"py":return"python";case"rb":return"ruby";case"go":return"go";case"rs":return"rust";case"java":return"java";case"c":return"c";case"h":case"hpp":case"hh":case"hxx":case"cc":case"cpp":case"cxx":return"cpp";case"cs":return"csharp";case"kt":return"kotlin";case"php":return"php";case"sql":return"sql";case"ini":return"ini";case"toml":return"ini";case"r":return"r";case"lua":return"lua";case"tex":return"latex";case"pl":return"perl";case"graphql":case"gql":return"graphql";case"swift":return"swift";default:return}}const EmptyContent=F$2.div`text-token-description-foreground bg-token-editor-background flex w-full items-center justify-center px-2 pt-7 pb-8 text-sm`;function PatchItemContent({item:Ye}){return jsxRuntimeExports.jsx(TimelineItem,{padding:"offset",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:Object.entries(Ye.changes).map(([rt,it])=>jsxRuntimeExports.jsx(FileChangeEntryContent,{path:rt,change:it,isPendingApproval:!1},rt))})})}function FileChangeEntryContent({path:Ye,change:rt,isPendingApproval:it}){const lt=it||rt.type==="update"||rt.type==="add"||rt.type==="delete",[ct,ut]=reactExports.useState(lt),ht=useMutationFromVSCode("open-file"),ft=reactExports.useMemo(()=>buildUnifiedGitDiffText(Ye,rt),[Ye,rt]),pt=reactExports.useEffectEvent(()=>{lt&&!ct&&ut(!0)});reactExports.useEffect(()=>{pt()},[lt]);const mt=reactExports.useMemo(()=>rt.type==="add"?it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.creating",defaultMessage:"Creating",description:"Label indicating a file is being created while awaiting approval"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.created",defaultMessage:"Created",description:"Label indicating a file has been created in the patch summary"}):rt.type==="delete"?it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.deleted",defaultMessage:"Deleting",description:"Label indicating a file has been deleted in the patch summary"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.deleted",defaultMessage:"Deleted",description:"Label indicating a file has been deleted in the patch summary"}):it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.editing",defaultMessage:"Editing",description:"Label indicating a file is being edited in the patch summary while awaiting approval"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.edited",defaultMessage:"Edited",description:"Label indicating a file has been edited in the patch summary"}),[rt.type,it]),gt=reactExports.useMemo(()=>{const xt=ft;if(!xt)return null;const _t=parseDiff(xt)[0];if(!_t)return null;const Ct={path:Ye,line:_t.firstAdditionLine??_t.firstDeletionLine??1};return{added:_t.additions,deleted:_t.deletions,openLocation:Ct}},[ft,Ye]),yt=rt.type==="delete"&&gt;return jsxRuntimeExports.jsx("div",{className:"px-0.5",children:jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col overflow-clip transition-[box-shadow] duration-300",ct?"shadow-[0_0_0_0.5px_var(--color-token-border)]":"shadow-[var(--shadow-hairline)] hover:shadow-[0_0_0_0.5px_var(--color-token-border)]",it?"rounded-xl":"rounded-lg"),children:[jsxRuntimeExports.jsxs("div",{className:"cursor-interaction group flex select-none items-center justify-between text-ellipsis py-0.5 pl-2 text-sm",onClick:()=>ut(xt=>!xt),children:[jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex min-w-0 items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground select-text",children:mt}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("span",{className:"font-mono",children:Ye}),children:jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-text-link-foreground cursor-interaction max-w-full select-text truncate text-start hover:underline",onClick:xt=>{xt.stopPropagation();const bt=gt?.openLocation;bt&&ht.mutate({path:bt.path,line:bt.line,column:1})},children:Ye.split("/").pop()??Ye})}),yt?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(TaskDiffStats,{linesAdded:gt.added,linesRemoved:gt.deleted}),jsxRuntimeExports.jsx("span",{className:"bg-token-charts-red/70 block size-1.5 rounded-full"})]}):null,gt&&(gt.added>0||gt.deleted>0)&&rt.type!=="delete"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(TaskDiffStats,{linesAdded:gt.added,linesRemoved:gt.deleted}),rt.type==="add"?jsxRuntimeExports.jsx("span",{className:"bg-token-charts-blue/70 block size-1.5 rounded-full"}):null]})]}),jsxRuntimeExports.jsxs("div",{className:"ml-1 flex items-center pr-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100",children:[ft&&jsxRuntimeExports.jsx(CopyButton,{iconOnly:!0,iconClassName:"icon-2xs",onCopy:()=>{navigator.clipboard.writeText(ft??"")}}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:ct?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.tooltip.collapse",defaultMessage:"Collapse",description:"Tooltip to collapse the patch summary"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.tooltip.expand",defaultMessage:"Expand",description:"Tooltip to expand the patch summary"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon",className:"text-token-foreground hover:bg-transparent",onClick:xt=>{xt.stopPropagation(),ut(bt=>!bt)},children:ct?jsxRuntimeExports.jsx(SvgCollapse,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgExpand,{className:"icon-2xs"})})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:ct&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"overflow-hidden",children:ft?jsxRuntimeExports.jsx(DiffCodeSnippet,{path:Ye,change:rt,unifiedDiff:ft}):jsxRuntimeExports.jsx(EmptyContent,{children:rt.type==="delete"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.deleted",defaultMessage:"Contents deleted",description:"Label indicating a file has been deleted in the patch summary"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.noChanges",defaultMessage:"No changes",description:"Label indicating no changes in the patch summary"})})},"patch-content")})]})})}function DiffCodeSnippet({path:Ye,change:rt,unifiedDiff:it}){const lt=reactExports.useMemo(()=>parseDiff(it),[it]);if(it){const ct=lt[0];if(ct&&!ct.isBinary)return jsxRuntimeExports.jsx(FileDiff,{className:clsx(styles.diffView,"max-h-60 overflow-y-auto"),fileDiff:ct.metadata,diffStyle:"unified",hunkSeparators:"simple"})}return jsxRuntimeExports.jsx(FallbackDiffCodeSnippet,{path:Ye,change:rt})}function FallbackDiffCodeSnippet({path:Ye,change:rt}){if(rt.type==="add"){const lt=getLanguageFromPath(Ye);return jsxRuntimeExports.jsx(PatchCodeSnippet,{content:rt.content,language:lt})}else{if(rt.type==="update")return jsxRuntimeExports.jsx(PatchCodeSnippet,{content:rt.unified_diff,language:"diff"});if(rt.type==="delete")return jsxRuntimeExports.jsx(EmptyContent,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.patch.change.deleted",defaultMessage:"Contents deleted",description:"Label indicating a file has been deleted in the patch summary"})})}let it;try{it=JSON.stringify(rt)}catch{it="<unserializable change>"}return logger.warn(`Unknown FileChange type for ${Ye}: ${it}`),null}function PatchCodeSnippet(Ye){const rt=useIsDark();return jsxRuntimeExports.jsx(CodeSnippet,{...Ye,showActionBar:!1,codeClassName:"text-sm","data-theme":rt?"dark":"light",codeContainerClassName:"!p-2 max-h-40 vertical-scroll-fade-mask",wrapperClassName:"rounded-none border-none"})}var lib$1={},lib,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib;hasRequiredLib$1=1;var Ye=(function(){function ct(ut,ht){for(var ft=0;ft<ht.length;ft++){var pt=ht[ft];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(ut,pt.key,pt)}}return function(ut,ht,ft){return ht&&ct(ut.prototype,ht),ft&&ct(ut,ft),ut}})();function rt(ct,ut){if(!(ct instanceof ut))throw new TypeError("Cannot call a class as a function")}var it=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],lt=(function(){Ye(ct,null,[{key:"escapeForHtml",value:function(ht){return new ct().escapeForHtml(ht)}},{key:"linkify",value:function(ht){return new ct().linkify(ht)}},{key:"ansiToHtml",value:function(ht,ft){return new ct().ansiToHtml(ht,ft)}},{key:"ansiToJson",value:function(ht,ft){return new ct().ansiToJson(ht,ft)}},{key:"ansiToText",value:function(ht){return new ct().ansiToText(ht)}}]);function ct(){rt(this,ct),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}return Ye(ct,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var ht=0;ht<2;++ht)for(var ft=0;ft<8;++ft)this.PALETTE_COLORS.push(it[ht][ft].color);for(var pt=[0,95,135,175,215,255],mt=function(kt,St,Rt){return pt[kt]+", "+pt[St]+", "+pt[Rt]},gt=0;gt<6;++gt)for(var yt=0;yt<6;++yt)for(var xt=0;xt<6;++xt)this.PALETTE_COLORS.push(mt(gt,yt,xt));for(var bt=8,_t=0;_t<24;++_t,bt+=10)this.PALETTE_COLORS.push(mt(bt,bt,bt))}},{key:"escapeForHtml",value:function(ht){return ht.replace(/[&<>]/gm,function(ft){return ft=="&"?"&amp;":ft=="<"?"&lt;":ft==">"?"&gt;":""})}},{key:"linkify",value:function(ht){return ht.replace(/(https?:\/\/[^\s]+)/gm,function(ft){return'<a href="'+ft+'">'+ft+"</a>"})}},{key:"ansiToHtml",value:function(ht,ft){return this.process(ht,ft,!0)}},{key:"ansiToJson",value:function(ht,ft){return ft=ft||{},ft.json=!0,ft.clearLine=!1,this.process(ht,ft,!0)}},{key:"ansiToText",value:function(ht){return this.process(ht,{},!1)}},{key:"process",value:function(ht,ft,pt){var mt=this,gt=this,yt=ht.split(/\033\[/),xt=yt.shift();ft==null&&(ft={}),ft.clearLine=/\r/.test(ht);var bt=yt.map(function(Ct){return mt.processChunk(Ct,ft,pt)});if(ft&&ft.json){var _t=gt.processChunkJson("");return _t.content=xt,_t.clearLine=ft.clearLine,bt.unshift(_t),ft.remove_empty&&(bt=bt.filter(function(Ct){return!Ct.isEmpty()})),bt}else bt.unshift(xt);return bt.join("")}},{key:"processChunkJson",value:function(ht,ft,pt){ft=typeof ft>"u"?{}:ft;var mt=ft.use_classes=typeof ft.use_classes<"u"&&ft.use_classes,gt=ft.key=mt?"class":"color",yt={content:ht,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,clearLine:ft.clearLine,decoration:null,was_processed:!1,isEmpty:function(){return!yt.content}},xt=ht.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!xt)return yt;yt.content=xt[4];var bt=xt[2].split(";");if(xt[1]!==""||xt[3]!=="m"||!pt)return yt;var _t=this;for(_t.decoration=null;bt.length>0;){var Ct=bt.shift(),kt=parseInt(Ct);if(isNaN(kt)||kt===0)_t.fg=_t.bg=_t.decoration=null;else if(kt===1)_t.decoration="bold";else if(kt===2)_t.decoration="dim";else if(kt==3)_t.decoration="italic";else if(kt==4)_t.decoration="underline";else if(kt==5)_t.decoration="blink";else if(kt===7)_t.decoration="reverse";else if(kt===8)_t.decoration="hidden";else if(kt===9)_t.decoration="strikethrough";else if(kt==39)_t.fg=null;else if(kt==49)_t.bg=null;else if(kt>=30&&kt<38)_t.fg=it[0][kt%10][gt];else if(kt>=90&&kt<98)_t.fg=it[1][kt%10][gt];else if(kt>=40&&kt<48)_t.bg=it[0][kt%10][gt];else if(kt>=100&&kt<108)_t.bg=it[1][kt%10][gt];else if(kt===38||kt===48){var St=kt===38;if(bt.length>=1){var Rt=bt.shift();if(Rt==="5"&&bt.length>=1){var Tt=parseInt(bt.shift());if(Tt>=0&&Tt<=255)if(!mt)this.PALETTE_COLORS||_t.setupPalette(),St?_t.fg=this.PALETTE_COLORS[Tt]:_t.bg=this.PALETTE_COLORS[Tt];else{var Mt=Tt>=16?"ansi-palette-"+Tt:it[Tt>7?1:0][Tt%8].class;St?_t.fg=Mt:_t.bg=Mt}}else if(Rt==="2"&&bt.length>=3){var Pt=parseInt(bt.shift()),It=parseInt(bt.shift()),Lt=parseInt(bt.shift());if(Pt>=0&&Pt<=255&&It>=0&&It<=255&&Lt>=0&&Lt<=255){var Ot=Pt+", "+It+", "+Lt;mt?St?(_t.fg="ansi-truecolor",_t.fg_truecolor=Ot):(_t.bg="ansi-truecolor",_t.bg_truecolor=Ot):St?_t.fg=Ot:_t.bg=Ot}}}}}return _t.fg===null&&_t.bg===null&&_t.decoration===null||(yt.fg=_t.fg,yt.bg=_t.bg,yt.fg_truecolor=_t.fg_truecolor,yt.bg_truecolor=_t.bg_truecolor,yt.decoration=_t.decoration,yt.was_processed=!0),yt}},{key:"processChunk",value:function(ht,ft,pt){var mt=this;ft=ft||{};var gt=this.processChunkJson(ht,ft,pt);if(ft.json)return gt;if(gt.isEmpty())return"";if(!gt.was_processed)return gt.content;var yt=ft.use_classes,xt=[],bt=[],_t={},Ct=function(St){var Rt=[],Tt=void 0;for(Tt in St)St.hasOwnProperty(Tt)&&Rt.push("data-"+Tt+'="'+mt.escapeForHtml(St[Tt])+'"');return Rt.length>0?" "+Rt.join(" "):""};return gt.fg&&(yt?(bt.push(gt.fg+"-fg"),gt.fg_truecolor!==null&&(_t["ansi-truecolor-fg"]=gt.fg_truecolor,gt.fg_truecolor=null)):xt.push("color:rgb("+gt.fg+")")),gt.bg&&(yt?(bt.push(gt.bg+"-bg"),gt.bg_truecolor!==null&&(_t["ansi-truecolor-bg"]=gt.bg_truecolor,gt.bg_truecolor=null)):xt.push("background-color:rgb("+gt.bg+")")),gt.decoration&&(yt?bt.push("ansi-"+gt.decoration):gt.decoration==="bold"?xt.push("font-weight:bold"):gt.decoration==="dim"?xt.push("opacity:0.5"):gt.decoration==="italic"?xt.push("font-style:italic"):gt.decoration==="reverse"?xt.push("filter:invert(100%)"):gt.decoration==="hidden"?xt.push("visibility:hidden"):gt.decoration==="strikethrough"?xt.push("text-decoration:line-through"):xt.push("text-decoration:"+gt.decoration)),yt?'<span class="'+bt.join(" ")+'"'+Ct(_t)+">"+gt.content+"</span>":'<span style="'+xt.join(";")+'"'+Ct(_t)+">"+gt.content+"</span>"}}]),ct})();return lib=lt,lib}var escapeCarriage={exports:{}},hasRequiredEscapeCarriage;function requireEscapeCarriage(){if(hasRequiredEscapeCarriage)return escapeCarriage.exports;hasRequiredEscapeCarriage=1;function Ye(ct){if(!ct)return"";if(!/\r/.test(ct))return ct;for(ct=ct.replace(/\r+\n/gm,`
`);/\r./.test(ct);)ct=ct.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(ut,ht,ft){return ft+ht.slice(ft.length)});return ct}function rt(ct){for(var ut=0,ht=0;ht<ct.length;ht++)ct[ut].length<=ct[ht].length&&(ut=ht);return ut}function it(ct){if(!/\r/.test(ct))return ct;for(var ut=ct.split("\r"),ht=[];ut.length>0;){var ft=rt(ut);ht.push(ut[ft]),ut=ut.slice(ft+1)}return ht.join("\r")}function lt(ct){if(!ct)return"";if(!/\r/.test(ct))return ct;if(!/\n/.test(ct))return it(ct);ct=ct.replace(/\r+\n/gm,`
`);var ut=ct.lastIndexOf(`
`);return Ye(ct.slice(0,ut))+`
`+it(ct.slice(ut+1))}return escapeCarriage.exports=Ye,escapeCarriage.exports.escapeCarriageReturn=Ye,escapeCarriage.exports.escapeCarriageReturnSafe=lt,escapeCarriage.exports}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$1;hasRequiredLib=1;var Ye=lib$1&&lib$1.__importDefault||function(yt){return yt&&yt.__esModule?yt:{default:yt}},rt=lib$1&&lib$1.__importStar||function(yt){if(yt&&yt.__esModule)return yt;var xt={};if(yt!=null)for(var bt in yt)Object.hasOwnProperty.call(yt,bt)&&(xt[bt]=yt[bt]);return xt.default=yt,xt};Object.defineProperty(lib$1,"__esModule",{value:!0});const it=Ye(requireLib$1()),lt=requireEscapeCarriage(),ct=rt(requireReact());function ut(yt,xt=!1){return yt=lt.escapeCarriageReturn(gt(yt)),it.default.ansiToJson(yt,{json:!0,remove_empty:!0,use_classes:xt})}function ht(yt){let xt="";return yt.bg&&(xt+=`${yt.bg}-bg `),yt.fg&&(xt+=`${yt.fg}-fg `),yt.decoration&&(xt+=`ansi-${yt.decoration} `),xt===""?null:(xt=xt.substring(0,xt.length-1),xt)}function ft(yt){const xt={};return yt.bg&&(xt.backgroundColor=`rgb(${yt.bg})`),yt.fg&&(xt.color=`rgb(${yt.fg})`),xt}function pt(yt,xt,bt,_t){const Ct=xt?null:ft(bt),kt=xt?ht(bt):null;if(!yt)return ct.createElement("span",{style:Ct,key:_t,className:kt},bt.content);const St=[],Rt=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g;let Tt=0,Mt;for(;(Mt=Rt.exec(bt.content))!==null;){const[,Pt,It]=Mt,Lt=Mt.index+Pt.length;Lt>Tt&&St.push(bt.content.substring(Tt,Lt));const Ot=It.startsWith("www.")?`http://${It}`:It;St.push(ct.createElement("a",{key:Tt,href:Ot,target:"_blank"},`${It}`)),Tt=Rt.lastIndex}return Tt<bt.content.length&&St.push(bt.content.substring(Tt)),ct.createElement("span",{style:Ct,key:_t,className:kt},St)}function mt(yt){const{className:xt,useClasses:bt,children:_t,linkify:Ct}=yt;return ct.createElement("code",{className:xt},ut(_t??"",bt??!1).map(pt.bind(null,Ct??!1,bt??!1)))}lib$1.default=mt;function gt(yt){let xt=yt;do yt=xt,xt=yt.replace(/[^\n]\x08/gm,"");while(xt.length<yt.length);return yt}return lib$1}var libExports=requireLib();const Ansi=getDefaultExportFromCjs(libExports);function AnsiBlock({children:Ye,className:rt}){return jsxRuntimeExports.jsx(Ansi,{useClasses:!0,className:clsx(rt),children:Ye})}const aDefaultApprovalDecision=persistedAtom("defaultApprovalDecision","approved");function PendingApprovalItemContent({conversationId:Ye,requestId:rt,item:it}){const lt=useAppServerManager(),ct=ht=>{lt.replyWithReviewDecision(Ye,rt,ht)},ut=it.type==="exec"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execApprovalRequest.prompt",defaultMessage:"Run this command?",description:"Prompt shown when approving a command execution"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"patchApprovalRequest.prompt",defaultMessage:"Apply these changes?",description:"Prompt shown when approving a patch application"});return jsxRuntimeExports.jsx(InProgressFixedContentItem,{action:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ExecApprovalActions,{item:it,onApprove:ct}),jsxRuntimeExports.jsx(Button,{color:"outline",className:"shrink-0",onClick:()=>ct("abort"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execApprovalRequest.reject",defaultMessage:"Reject",description:"Button to reject an exec approval request"})})]}),expandedContent:jsxRuntimeExports.jsx(ItemContent,{item:it}),children:jsxRuntimeExports.jsx("span",{className:"loading-shimmer-pure-text truncate text-sm",children:ut})})}function ItemContent({item:Ye}){if(Ye.type==="patch")return jsxRuntimeExports.jsx("div",{className:"border-token-border flex max-h-[400px] flex-col gap-2 overflow-y-auto border-t py-2 text-base",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 px-2",children:Object.entries(Ye.changes).map(([it,lt])=>jsxRuntimeExports.jsx(FileChangeEntryContent,{isPendingApproval:!0,path:it,change:lt},it))})});const rt=Ye.output?.aggregatedOutput??"";return jsxRuntimeExports.jsxs("div",{className:"border-token-border border-t px-1 text-sm",children:[jsxRuntimeExports.jsx(CommandRiskSummary,{risk:Ye.risk??null}),jsxRuntimeExports.jsxs("div",{className:"vertical-scroll-fade-mask shell-scroll-view bg-token-editor-background text-token-input-placeholder-foreground flex max-h-[176px] flex-col gap-1.5 overflow-x-auto overflow-y-auto whitespace-pre p-2 font-mono text-sm font-medium",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.shell.commandLine",defaultMessage:"$ {cmd}",description:"The rendered shell command line including a dollar sign prompt and the command",values:{cmd:Ye.cmd.join(" ")}})}),rt?jsxRuntimeExports.jsx(AnsiBlock,{className:"text-sm",children:rt}):null]})]})}function ExecApprovalActions({item:Ye,onApprove:rt}){const[,it]=useAtom(aDefaultApprovalDecision),lt=ct=>{it(ct),rt(ct)};return jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[jsxRuntimeExports.jsx(Button,{className:"!bg-token-charts-green/20 !text-token-charts-green hover:!bg-token-charts-green/30 min-w-0",onClick:()=>lt("approved"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:formattedMessage(Ye.type,"approved")})}),jsxRuntimeExports.jsx(Button,{className:"!bg-token-charts-green/20 !text-token-charts-green hover:!bg-token-charts-green/30 min-w-0",onClick:()=>lt("approved_for_session"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:formattedMessage(Ye.type,"approved_for_session")})})]})}function formattedMessage(Ye,rt){return Ye==="exec"?rt==="approved"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execApprovalRequest.menu.runOnce",defaultMessage:"Approve once",description:"Run this time dropdown option"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execApprovalRequest.menu.runAlways",defaultMessage:"Approve this session",description:"Run every time dropdown option"}):rt==="approved"?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"patchApprovalRequest.menu.allowOnce",defaultMessage:"Allow once",description:"Allow this time dropdown option"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"patchApprovalRequest.menu.allowAlways",defaultMessage:"Allow this session",description:"Allow every time dropdown option"})}const REDUCED_MOTION_QUERY="(prefers-reduced-motion: reduce)";function useReducedMotion(){const[Ye,rt]=reactExports.useState(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(REDUCED_MOTION_QUERY).matches);return reactExports.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const it=window.matchMedia(REDUCED_MOTION_QUERY),lt=ct=>{rt(ct.matches)};return typeof it.addEventListener=="function"?(it.addEventListener("change",lt),()=>{it.removeEventListener("change",lt)}):(it.addListener(lt),()=>{it.removeListener(lt)})},[]),Ye}const SvgGlobe=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M10 2.125C14.3492 2.125 17.875 5.65076 17.875 10C17.875 14.3492 14.3492 17.875 10 17.875C5.65076 17.875 2.125 14.3492 2.125 10C2.125 5.65076 5.65076 2.125 10 2.125ZM7.88672 10.625C7.94334 12.3161 8.22547 13.8134 8.63965 14.9053C8.87263 15.5194 9.1351 15.9733 9.39453 16.2627C9.65437 16.5524 9.86039 16.625 10 16.625C10.1396 16.625 10.3456 16.5524 10.6055 16.2627C10.8649 15.9733 11.1274 15.5194 11.3604 14.9053C11.7745 13.8134 12.0567 12.3161 12.1133 10.625H7.88672ZM3.40527 10.625C3.65313 13.2734 5.45957 15.4667 7.89844 16.2822C7.7409 15.997 7.5977 15.6834 7.4707 15.3486C6.99415 14.0923 6.69362 12.439 6.63672 10.625H3.40527ZM13.3633 10.625C13.3064 12.439 13.0059 14.0923 12.5293 15.3486C12.4022 15.6836 12.2582 15.9969 12.1006 16.2822C14.5399 15.467 16.3468 13.2737 16.5947 10.625H13.3633ZM12.1006 3.7168C12.2584 4.00235 12.4021 4.31613 12.5293 4.65137C13.0059 5.90775 13.3064 7.56102 13.3633 9.375H16.5947C16.3468 6.72615 14.54 4.53199 12.1006 3.7168ZM10 3.375C9.86039 3.375 9.65437 3.44756 9.39453 3.7373C9.1351 4.02672 8.87263 4.48057 8.63965 5.09473C8.22547 6.18664 7.94334 7.68388 7.88672 9.375H12.1133C12.0567 7.68388 11.7745 6.18664 11.3604 5.09473C11.1274 4.48057 10.8649 4.02672 10.6055 3.7373C10.3456 3.44756 10.1396 3.375 10 3.375ZM7.89844 3.7168C5.45942 4.53222 3.65314 6.72647 3.40527 9.375H6.63672C6.69362 7.56102 6.99415 5.90775 7.4707 4.65137C7.59781 4.31629 7.74073 4.00224 7.89844 3.7168Z"})),SvgImageSquare=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M16.0012 7.78796C16.0012 7.07693 16.0013 6.58359 15.97 6.20007C15.9469 5.91812 15.9091 5.72861 15.8577 5.58484L15.802 5.45496C15.6481 5.15285 15.4137 4.89982 15.1262 4.72351L14.9993 4.6532C14.8413 4.57274 14.6297 4.51592 14.2542 4.48523C13.8707 4.45391 13.3771 4.453 12.6663 4.453H7.33325C6.62221 4.453 6.12888 4.4539 5.74536 4.48523C5.46351 4.50826 5.27388 4.54512 5.13013 4.59656L5.00024 4.6532C4.69799 4.80722 4.44511 5.04134 4.2688 5.32898L4.19849 5.45496C4.11798 5.61296 4.06122 5.82437 4.03052 6.20007C3.99918 6.58359 3.99829 7.07693 3.99829 7.78796V12.1815L5.01782 11.1629L5.19458 11.0028C6.1104 10.2557 7.46195 10.3092 8.31567 11.1629L13.6038 16.451C13.8548 16.4469 14.0675 16.4399 14.2542 16.4247C14.6295 16.394 14.8413 16.3371 14.9993 16.2567L15.1262 16.1854C15.4136 16.0091 15.6481 15.756 15.802 15.454L15.8577 15.3241C15.9091 15.1803 15.9469 14.9906 15.97 14.7088C16.0013 14.3254 16.0012 13.8318 16.0012 13.121V7.78796ZM7.37525 12.1034C7.00846 11.7366 6.42786 11.714 6.03442 12.035L5.95825 12.1034L4.0022 14.0594C4.00634 14.3101 4.0153 14.5224 4.03052 14.7088C4.0612 15.0844 4.11803 15.296 4.19849 15.454L4.2688 15.5809C4.44511 15.8683 4.69813 16.1028 5.00024 16.2567L5.13013 16.3124C5.2739 16.3638 5.46341 16.4016 5.74536 16.4247C6.12888 16.456 6.62222 16.4559 7.33325 16.4559H11.7268L7.37525 12.1034ZM13.0852 8.37097C13.085 7.81792 12.6363 7.37 12.0833 7.37C11.5302 7.37 11.0815 7.81792 11.0813 8.37097C11.0813 8.92418 11.53 9.37293 12.0833 9.37293C12.6365 9.37293 13.0852 8.92418 13.0852 8.37097ZM14.4153 8.37097C14.4153 9.65872 13.371 10.703 12.0833 10.703C10.7955 10.703 9.75122 9.65872 9.75122 8.37097C9.7514 7.08338 10.7956 6.03992 12.0833 6.03992C13.3709 6.03992 14.4151 7.08338 14.4153 8.37097ZM17.3313 13.121C17.3313 13.81 17.3319 14.367 17.2952 14.8172C17.2624 15.2182 17.1974 15.5794 17.053 15.9159L16.9866 16.0585C16.7211 16.5794 16.3172 17.0151 15.8215 17.3192L15.6038 17.4413C15.227 17.6332 14.8206 17.7124 14.3625 17.7499C13.9123 17.7866 13.3553 17.786 12.6663 17.786H7.33325C6.64416 17.786 6.0872 17.7866 5.63696 17.7499C5.23628 17.7171 4.87563 17.6519 4.53931 17.5077L4.39673 17.4413C3.87561 17.1757 3.43911 16.772 3.13501 16.2762L3.01294 16.0585C2.82097 15.6817 2.74177 15.2752 2.70435 14.8172C2.66758 14.367 2.66821 13.8099 2.66821 13.121V7.78796C2.66821 7.09887 2.66756 6.54192 2.70435 6.09168C2.74176 5.63388 2.82113 5.22806 3.01294 4.85144L3.13501 4.63269C3.4391 4.13698 3.87569 3.73313 4.39673 3.46765L4.53931 3.40125C4.8756 3.25701 5.23632 3.1918 5.63696 3.15906C6.0872 3.12227 6.64416 3.12293 7.33325 3.12293H12.6663C13.3553 3.12293 13.9123 3.12229 14.3625 3.15906C14.8206 3.19648 15.227 3.27568 15.6038 3.46765L15.8215 3.58972C16.3174 3.89382 16.7211 4.33032 16.9866 4.85144L17.053 4.99402C17.1973 5.33034 17.2624 5.69099 17.2952 6.09168C17.332 6.54192 17.3313 7.09887 17.3313 7.78796V13.121Z",fill:"currentColor"})),SvgInternalKnowledge=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.74709 9.4286C4.09594 9.54326 4.47122 9.35358 4.58596 9.00478C5.08292 7.49281 6.19702 6.25947 7.62893 5.60243C8.06385 6.47457 8.96218 7.07502 10.003 7.07509C11.4688 7.07509 12.6572 5.88666 12.6572 4.42079C12.6572 2.9549 11.4688 1.76649 10.003 1.76649C8.58666 1.76659 7.43205 2.87614 7.35549 4.27333C5.45427 5.04691 3.9686 6.62635 3.32326 8.58974C3.20868 8.9386 3.39823 9.31394 3.74709 9.4286ZM11.3272 4.42079C11.3272 3.68944 10.7343 3.09657 10.003 3.09657C9.27168 3.09667 8.67873 3.6895 8.67873 4.42079C8.67875 5.15207 9.2717 5.74491 10.003 5.74501C10.7343 5.74501 11.3272 5.15213 11.3272 4.42079Z"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4619 7.23427C15.2394 8.2087 15.7041 9.4424 15.7041 10.786C15.7041 10.9669 15.6951 11.1459 15.6787 11.3222C14.7046 11.2611 13.734 11.7399 13.2129 12.6425C12.4802 13.9118 12.9144 15.5346 14.1836 16.2675C15.453 17.0003 17.0767 16.5651 17.8096 15.2958C18.5164 14.0711 18.1344 12.5197 16.9668 11.7538C17.0104 11.4372 17.0332 11.114 17.0332 10.786C17.0332 9.13002 16.4602 7.6065 15.502 6.40517L15.3057 6.16982L15.2071 6.07704C14.9612 5.8895 14.6094 5.89431 14.3672 6.10536C14.1251 6.31651 14.0723 6.66436 14.2246 6.93349L14.3028 7.04286L14.4619 7.23427ZM16.1729 12.8222C15.5397 12.4566 14.7299 12.6743 14.3643 13.3075C13.999 13.9406 14.2158 14.7495 14.8487 15.1151C15.4819 15.4807 16.2917 15.264 16.6572 14.6308C17.0227 13.9976 16.806 13.1877 16.1729 12.8222Z"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.78713 12.6425C6.05428 11.3731 4.43147 10.9379 3.16213 11.6708C1.89304 12.4036 1.45791 14.0266 2.19045 15.2958C2.89893 16.5229 4.438 16.9667 5.68654 16.3329C6.87794 17.2613 8.37572 17.8172 10.003 17.8173C10.4526 17.8173 10.8932 17.7743 11.3203 17.6933C11.6812 17.6248 11.9181 17.2767 11.8496 16.9159C11.781 16.5553 11.433 16.3182 11.0723 16.3866C10.7265 16.4522 10.3689 16.4872 10.003 16.4872C8.77108 16.4872 7.63223 16.0956 6.70022 15.4315C7.23668 14.6191 7.30697 13.5429 6.78713 12.6425ZM5.63576 13.3075C5.27019 12.6743 4.46037 12.4566 3.82717 12.8222C3.19401 13.1877 2.97733 13.9976 3.3428 14.6308C3.70838 15.264 4.51818 15.4807 5.15139 15.1151C5.78423 14.7495 6.00103 13.9406 5.63576 13.3075Z"})),SvgTasks=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.09967 11.3164C7.57143 11.3164 8.76458 12.5098 8.76471 13.9815C8.76471 15.4533 7.57151 16.6465 6.09967 16.6465C4.62798 16.6463 3.43463 15.4532 3.43463 13.9815C3.43476 12.5099 4.62806 11.3166 6.09967 11.3164ZM6.09967 12.6465C5.3626 12.6467 4.76484 13.2444 4.76471 13.9815C4.76471 14.7187 5.36252 15.3163 6.09967 15.3164C6.83697 15.3164 7.43463 14.7188 7.43463 13.9815C7.4345 13.2443 6.83689 12.6465 6.09967 12.6465Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M17.7335 13.3301C18.0365 13.392 18.2646 13.6602 18.2647 13.9815C18.2647 14.3029 18.0366 14.5709 17.7335 14.6328L17.5997 14.6465H11.5997C11.2326 14.6463 10.9346 14.3486 10.9346 13.9815C10.9348 13.6144 11.2326 13.3166 11.5997 13.3164H17.5997L17.7335 13.3301Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M7.89752 3.78207C8.11783 3.48849 8.53542 3.42922 8.82916 3.64925C9.12284 3.86964 9.1823 4.28713 8.96198 4.58089L5.96198 8.58089C5.84631 8.73502 5.66885 8.8309 5.47662 8.84457C5.28452 8.85806 5.09523 8.78836 4.95905 8.65218L3.45905 7.15218L3.37409 7.04769C3.20382 6.78961 3.23191 6.43795 3.45905 6.21078C3.68622 5.98361 4.03786 5.95556 4.29596 6.12582L4.40045 6.21078L5.35748 7.16781L7.89752 3.78207Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M17.7335 5.73011C18.0365 5.79203 18.2646 6.06015 18.2647 6.38148C18.2647 6.70291 18.0366 6.97091 17.7335 7.03285L17.5997 7.04652H11.5997C11.2326 7.04634 10.9346 6.74864 10.9346 6.38148C10.9348 6.01443 11.2326 5.71662 11.5997 5.71644H17.5997L17.7335 5.73011Z",fill:"currentColor"})),v$e="5.7.0",ip$c=0,op$c=90,fr$c=60,w$e=500,h$e=500,nm$c="250812_Cot_Analyze_Image_SC_v09",assets$c=[],layers$c=[{ind:1,ty:4,nm:"Mountain_Stroke",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[212.25,331.715,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"vector",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[14.547,-14.547],[0,0]],o:[[0,0],[-14.547,-14.547],[0,0],[0,0]],v:[[111.75,66.785],[-10.91,-55.875],[-63.59,-55.875],[-111.75,-7.715]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"vector 2",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,-20.573],[20.573,0],[0,20.573],[-20.573,0]],o:[[0,20.573],[-20.573,0],[0,-20.573],[20.573,0]],v:[[37.25,0],[0,37.25],[-37.25,0],[0,-37.25]],c:!0},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[79.109,-124.076]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:37.25},c:{a:0,k:[1,1,1]}}],hasMask:!0,masksProperties:[{inv:!1,nm:"Mask 1",pt:{k:[{i:{x:.29,y:1},o:{x:.834,y:0},t:0,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[182.32,-245.119],[-144.156,-245.119],[-144.156,173.004],[182.32,173.004]],c:!0}]},{i:{x:.484,y:1},o:{x:.926,y:0},t:45,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-113.148,-245.119],[-144.156,-245.119],[-144.156,173.004],[-113.148,173.004]],c:!0}]},{t:88.999,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[182.32,-245.119],[-144.156,-245.119],[-144.156,173.004],[182.32,173.004]],c:!0}]}],a:1},o:{a:0,k:100},mode:"a",x:{a:0,k:0}}],ln:"5798",ip:0,op:90,st:0},{ind:2,ty:4,nm:"Line",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:90},p:{s:!0,x:{a:1,k:[{i:{x:.29,y:1},o:{x:.834,y:0},t:0,s:[400]},{i:{x:.484,y:1},o:{x:.926,y:0},t:45,s:[100]},{t:88.999,s:[400]}]},y:{a:0,k:245}},a:{a:0,k:[0,0]},s:{a:0,k:[100,100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3785",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[186.25,0],[-186.25,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:37.25},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5770",ip:0,op:90,st:0},{ind:3,ty:4,nm:"Container",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Rectangle 1",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[5.357,-10.513],[0,-31.293],[0,0],[-6.09,-11.953],[-10.513,-5.357],[-31.293,0],[0,0],[-11.953,6.09],[-5.357,10.513],[0,31.293],[0,0],[6.09,11.953],[10.513,5.357],[31.293,0],[0,0],[11.953,-6.09]],o:[[-6.09,11.953],[0,0],[0,31.293],[5.357,10.513],[11.953,6.09],[0,0],[31.293,0],[10.513,-5.357],[6.09,-11.953],[0,0],[0,-31.293],[-5.357,-10.513],[-11.953,-6.09],[0,0],[-31.293,0],[-10.513,5.357]],v:[[-142.91,-118.492],[-149,-59.6],[-149,59.6],[-142.91,118.492],[-118.492,142.91],[-59.6,149],[59.6,149],[118.492,142.91],[142.91,118.492],[149,59.6],[149,-59.6],[142.91,-118.492],[118.492,-142.91],[59.6,-149],[-59.6,-149],[-118.492,-142.91]],c:!0},a:0}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:37.25},c:{a:0,k:[1,1,1]}},{ty:"rd",nm:"Round Corners 1",r:{a:0,k:55.875}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5769",ip:0,op:90,st:0},{ind:4,ty:4,nm:"Squares",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[101,101,101]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Group 1",it:[{ty:"gr",nm:"Squares",it:[{ty:"gr",nm:"Group 1",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.08,37.08]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[111.251,111.25]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 2",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.08,37.09]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[74.166,74.17]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 3",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.09,37.08]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[37.081,37.085]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 4",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[0,-18.542],[-37.083,-18.542],[-37.083,18.542],[0,18.542],[0,55.625],[37.083,55.625],[37.083,18.541],[0,18.541],[0,-18.542],[37.083,-18.542],[37.083,-55.625],[0,-55.625]],c:!0},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-18.542,-37.081]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 5",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[55.625,-37.083],[55.625,-74.166],[18.541,-74.166],[18.541,-37.083],[-18.541,-37.083],[-18.541,-74.166],[-55.625,-74.166],[-55.625,-37.083],[-18.542,-37.083],[-18.542,0],[18.541,0],[18.541,37.083],[-18.542,37.083],[-18.542,74.166],[18.542,74.166],[18.542,37.083],[55.625,37.083],[55.625,0],[18.542,0],[18.542,-37.083]],c:!0},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[74.167,-55.623]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 6",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.083,37.083]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[-111.25,-111.248]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 7",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.083,37.083]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:180},p:{a:0,k:[-74.167,-74.165]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 8",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.08,37.08]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[-111.249,-37.081]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 9",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[37.08,37.08]},p:{a:0,k:[0,0]},r:{a:0,k:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:270},p:{a:0,k:[-111.249,111.25]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 10",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[55.625,-18.545],[55.625,18.545],[18.535,18.545],[18.535,55.625],[-18.545,55.625],[-18.545,18.545],[-55.625,18.545],[-55.625,-18.545],[-18.545,-18.545],[-18.545,-55.625],[18.535,-55.625],[18.535,-18.545]],c:!0},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-74.164,37.085]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Group 11",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[55.625,0],[55.625,37.08],[-55.625,37.08],[-55.625,0],[-18.535,0],[-18.535,-37.08],[18.545,-37.08],[18.545,0]],c:!0},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-.004,92.71]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"fl",nm:"Fill 1",c:{a:0,k:[1,1,1]},o:{a:0,k:100},r:1},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-178.21,-5.154]},a:{a:0,k:[-178.21,-5.154]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!0,masksProperties:[{inv:!1,nm:"Mask 1",pt:{k:[{i:{x:.29,y:1},o:{x:.834,y:0},t:0,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[151.956,-221.963],[140.165,-221.963],[140.165,209.168],[151.956,209.168]],c:!0}]},{i:{x:.484,y:1},o:{x:.926,y:0},t:45,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[151.956,-221.963],[-148.827,-221.963],[-148.827,209.168],[151.956,209.168]],c:!0}]},{t:88.999,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[151.956,-221.963],[140.165,-221.963],[140.165,209.168],[151.956,209.168]],c:!0}]}],a:1},o:{a:0,k:100},mode:"a",x:{a:0,k:0}}],ln:"5766",ip:0,op:90,st:0}],analyzeImageAnimation={v:v$e,ip:ip$c,op:op$c,fr:fr$c,w:w$e,h:h$e,nm:nm$c,assets:assets$c,layers:layers$c},v$d="5.7.0",ip$b=0,op$b=90,fr$b=60,w$d=500,h$d=500,nm$b="250812_Browsing_SC_v05",assets$b=[],layers$b=[{ind:1,ty:4,nm:"Shape Layer 8",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,242,0]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-112,5],[112,5]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5904",ip:0,op:90,st:0},{ind:2,ty:4,nm:"Shape Layer 6",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.453,.4],y:[1,1]},o:{x:[.001,.001],y:[0,0]},t:50,s:[100,100]},{i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:88.999,s:[39,100]}],a:1},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:50},e:{a:0,k:100},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5903",ip:50,op:90,st:0},{ind:3,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.223,.16],y:[1,1]},o:{x:[.173,.19],y:[0,0]},t:38,s:[100,100]},{i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:88.999,s:[-39,100]}],a:1},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:50},e:{a:0,k:100},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5902",ip:38,op:90,st:5},{ind:4,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.999,.999],y:[1,1]},o:{x:[.6,.6],y:[0,0]},t:0,s:[-39,100]},{i:{x:[.999,.999],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:38,s:[-100,100]}],a:1},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:50},e:{a:0,k:100},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5901",ip:0,op:38,st:0},{ind:5,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.81,.81],y:[1,1]},o:{x:[.84,.84],y:[0,0]},t:0,s:[39,100]},{i:{x:[.7,.7],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:50,s:[-100,100]}],a:1},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:50},e:{a:0,k:100},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5900",ip:0,op:50,st:0},{ind:6,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.85,.85],y:[.614,1]},o:{x:[.82,.82],y:[0,0]},t:0,s:[100,100]},{i:{x:[.18,.18],y:[1,1]},o:{x:[.15,.15],y:[.395,0]},t:43.867,s:[0,100]},{i:{x:[.85,.85],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:88.999,s:[-100,100]}],a:1},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:50},e:{a:0,k:100},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5899",ip:0,op:90,st:0},{ind:7,ty:4,nm:"Shape Layer 7",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[250,250]},a:{a:0,k:[0,0]},s:{a:0,k:[160,160,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5898",ip:0,op:90,st:0}],browsingAnimation={v:v$d,ip:ip$b,op:op$b,fr:fr$b,w:w$d,h:h$d,nm:nm$b,assets:assets$b,layers:layers$b},v$c="5.7.5",fr$a=100,ip$a=0,op$a=120,w$c=24,h$c=24,nm$a="Comp 1",ddd$4=0,metadata$1={},assets$a=[{id:"0",layers:[{ddd:0,ind:1,ty:4,nm:"list",sr:1,ks:{p:{a:0,k:[8,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",nm:"7",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[5,0]],i:[[0,0],[-1.6666666666666679,0]],o:[[1.666666666666666,0],[0,0]]}}},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:1,k:[{t:0,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:80,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:120,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-1.5,6],ix:2},a:{a:0,k:[2.5,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"6",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[2,0]],i:[[0,0],[-.6666666666666661,0]],o:[[.6666666666666661,0],[0,0]]}}},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:1,k:[{t:0,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:65,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:80,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[3,2],ix:2},a:{a:0,k:[1,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"5",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[3,0]],i:[[0,0],[-1,0]],o:[[1,0],[0,0]]}}},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:1,k:[{t:0,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:65,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-2.5,2],ix:2},a:{a:0,k:[1.5,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"4",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[7,0]],i:[[0,0],[-2.333333333333334,0]],o:[[2.333333333333332,0],[0,0]]}}},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:1,k:[{t:0,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-.5,-2],ix:2},a:{a:0,k:[3.5,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:40,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:80,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"3",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[5,0]],i:[[0,0],[-1.6666666666666679,0]],o:[[1.666666666666666,0],[0,0]]}}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-1.5,-6],ix:2},a:{a:0,k:[2.5,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:0,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:80,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"2",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[2,0]],i:[[0,0],[-.6666666666666661,0]],o:[[.6666666666666661,0],[0,0]]}}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[3,-10],ix:2},a:{a:0,k:[1,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:0,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"1",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[3,0]],i:[[0,0],[-1,0]],o:[[1,0],[0,0]]}}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:2,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-2.5,-10],ix:2},a:{a:0,k:[1.5,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:0,s:[100],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[0],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:1,k:[{t:0,s:[0,1.5],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:40,s:[0,-2.5],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}},{t:80,s:[0,-6.5],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0,-10.5],o:{x:[.4],y:[0]},i:{x:[.8],y:[1]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:121,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"mask - box",sr:1,ks:{p:{a:0,k:[8,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,shapes:[{ty:"rc",d:1,s:{a:0,k:[16,15],ix:2},p:{a:0,k:[0,-4.5],ix:2},r:{a:0,k:0,ix:2}},{ty:"fl",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:0,ix:2},r:1,bm:0}],ip:0,op:121,st:0,bm:0}]},{id:"1",layers:[{ddd:0,ind:3,ty:4,nm:"mask",sr:1,ks:{p:{a:0,k:[8,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},td:1,ao:0,shapes:[{ty:"gr",nm:"mask",it:[{ty:"rc",d:1,s:{a:0,k:[14,14],ix:2},p:{a:0,k:[0,0],ix:2},r:{a:0,k:2,ix:2}},{ty:"fl",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0},{ty:"tr",p:{a:0,k:[0,-4.5],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:121,st:0,bm:0},{ddd:0,refId:"0",w:16,h:15,ind:4,ty:0,nm:"mask",sr:1,ks:{p:{a:0,k:[0,-4.5],ix:2},a:{a:0,k:[0,-4.5],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,ip:0,op:121,st:0,bm:0,tt:1}]}],layers$a=[{ddd:0,ind:5,ty:3,nm:"",sr:1,ks:{p:{a:0,k:[12,16.5],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,ip:0,op:121,st:0,bm:0},{ddd:0,refId:"1",w:16,h:15,ind:4,ty:0,nm:"mask",sr:1,ks:{p:{a:0,k:[-8,-12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,ip:0,op:121,st:0,bm:0,parent:5},{ddd:0,ind:6,ty:4,nm:"Rectangle's solid stroke",sr:1,ks:{p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,shapes:[{ty:"gr",nm:"Rectangle's solid stroke",it:[{ty:"rc",d:1,s:{a:0,k:[16,16],ix:2},p:{a:0,k:[0,0],ix:2},r:{a:0,k:3,ix:2}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[16,16],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:121,st:0,bm:0}],markers$4=[],codeSearchingAnimation={v:v$c,fr:fr$a,ip:ip$a,op:op$a,w:w$c,h:h$c,nm:nm$a,ddd:ddd$4,metadata:metadata$1,assets:assets$a,layers:layers$a,markers:markers$4},v$b="5.12.2",fr$9=60,ip$9=0,op$9=143,w$b=1080,h$b=1080,nm$9="Codex happy - Small A",ddd$3=0,assets$9=[],layers$9=JSON.parse('[{"ddd":0,"ind":3,"ty":3,"nm":"MASTER Position & Scale","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":143,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":3,"nm":"Codex Scale Correction","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[522.4,522.4,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":19,"mn":"Pseudo/250958","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/250958-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/250958-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/250958-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/250958-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Roundness","mn":"Pseudo/250958-0005","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":6,"nm":"About","mn":"Pseudo/250958-0006","ix":6,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/250958-0007","ix":7,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0008","ix":8,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/250958-0009","ix":9,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0010","ix":10,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/250958-0011","ix":11,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0012","ix":12,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/250958-0013","ix":13,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0014","ix":14,"v":0},{"ty":6,"nm":"Copyright 2023 Battle Axe Inc","mn":"Pseudo/250958-0015","ix":15,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0017","ix":17,"v":0}]}],"ip":0,"op":143,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":3,"nm":"Global Codex Animation","parent":4,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":19,"mn":"Pseudo/250958","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/250958-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/250958-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/250958-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/250958-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Roundness","mn":"Pseudo/250958-0005","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":6,"nm":"About","mn":"Pseudo/250958-0006","ix":6,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/250958-0007","ix":7,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0008","ix":8,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/250958-0009","ix":9,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0010","ix":10,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/250958-0011","ix":11,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0012","ix":12,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/250958-0013","ix":13,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0014","ix":14,"v":0},{"ty":6,"nm":"Copyright 2023 Battle Axe Inc","mn":"Pseudo/250958-0015","ix":15,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0017","ix":17,"v":0}]}],"ip":0,"op":143,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":3,"nm":" Void 1","parent":13,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.86],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":13,"s":[0]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":42,"s":[0]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.956],"y":[0]},"t":54,"s":[0]},{"t":93,"s":[0]}],"ix":3},"y":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.86],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":13,"s":[13.974]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":42,"s":[-0.957]},{"i":{"x":[0.164],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":54,"s":[-0.957]},{"i":{"x":[0],"y":[1]},"o":{"x":[0.783],"y":[0]},"t":72,"s":[-8.949]},{"t":93,"s":[0]}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[19.142,19.142,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":19,"mn":"Pseudo/250958","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/250958-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/250958-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/250958-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/250958-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Roundness","mn":"Pseudo/250958-0005","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":6,"nm":"About","mn":"Pseudo/250958-0006","ix":6,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/250958-0007","ix":7,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0008","ix":8,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/250958-0009","ix":9,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0010","ix":10,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/250958-0011","ix":11,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0012","ix":12,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/250958-0013","ix":13,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0014","ix":14,"v":0},{"ty":6,"nm":"Copyright 2023 Battle Axe Inc","mn":"Pseudo/250958-0015","ix":15,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0017","ix":17,"v":0}]}],"ip":0,"op":143,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Vector 3661","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-122.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[8.163,4.658],[0,0],[7.834,-4.643],[0,0]],"o":[[0,0],[-8.016,-4.574],[0,0],[-7.834,4.643],[0,0]],"v":[[21.555,6.99],[10.283,0.526],[-0.356,-5.65],[-11.811,0.933],[-22.129,6.99]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":116,"op":143,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Vector 3654","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-122.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[8.163,4.658],[0,0],[7.834,-4.643],[0,0]],"o":[[0,0],[-8.016,-4.574],[0,0],[-7.834,4.643],[0,0]],"v":[[21.555,6.99],[10.283,0.526],[-0.356,-5.65],[-11.811,0.933],[-22.129,6.99]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":0,"op":6,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Vector 3659","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-122.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[22.245,7.166],[0.41,-5.695],[-21.261,7.116]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":42,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-17.954,-12.551],[-30.218,5.982],[-18.581,25.876]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.956,"y":0},"t":72,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-17.954,-12.551],[-30.218,5.982],[-18.581,25.876]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.148,"y":0.707},"t":93,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.48,7.166],[-0.356,-5.695],[-22.027,7.116]],"c":false}]},{"t":127,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.48,7.166],[-0.356,-5.695],[-22.027,7.116]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":6,"op":116,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Vector 3660","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[121.187,122.099,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[10.806,-0.013],[0,0]],"o":[[0,0],[-10.811,-0.015],[0,0]],"v":[[14.842,4.202],[0.956,4.372],[-13.488,4.202]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":116,"op":143,"st":92,"ct":1,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Vector 3655","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[121.187,122.099,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[10.806,-0.013],[0,0]],"o":[[0,0],[-10.811,-0.015],[0,0]],"v":[[14.842,4.202],[0.956,4.372],[-13.488,4.202]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":6,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Vector 3652","parent":6,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[121.187,122.099,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[{"i":[[0,0],[10.713,0],[0,0]],"o":[[0,0],[-10.713,0],[0,0]],"v":[[14.949,4.125],[0.711,4.344],[-13.537,4.123]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":42,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[11.312,41.644],[-7.138,52.775],[-26.171,41.45]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.956,"y":0},"t":72,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[11.312,41.644],[-7.138,52.775],[-26.171,41.45]],"c":false}]},{"i":{"x":0,"y":1},"o":{"x":0.148,"y":0.707},"t":93,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[14.967,4.22],[0.729,4.44],[-13.519,4.218]],"c":false}]},{"t":127,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[14.967,4.22],[0.729,4.44],[-13.519,4.218]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":116,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"Ellipse 33468","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.136,"y":0.729},"o":{"x":0.375,"y":0},"t":0,"s":[0,0,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.089,"y":0.032},"t":13,"s":[0,4,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0,"y":0.999},"o":{"x":0.547,"y":0.054},"t":42,"s":[0,-3.828,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0,"y":0.497},"o":{"x":0.547,"y":0},"t":54,"s":[0,-3.829,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.056,"y":0.866},"o":{"x":0.539,"y":0.076},"t":72,"s":[0,-7.274,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.138,"y":1},"o":{"x":0.148,"y":0.057},"t":93,"s":[0,7,0],"to":[0,0,0],"ti":[0,0,0]},{"t":127,"s":[0,0,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[154.77,154.77],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"op","nm":"Offset Paths 1","a":{"a":0,"k":-2.5,"ix":1},"lj":1,"ml":{"a":0,"k":4,"ix":3},"ix":2,"mn":"ADBE Vector Filter - Offset","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":17.014,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 33468","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":143,"st":0,"ct":1,"bm":0}]'),markers$3=[],props$2={},codexHappySmallAnimation={v:v$b,fr:fr$9,ip:ip$9,op:op$9,w:w$b,h:h$b,nm:nm$9,ddd:ddd$3,assets:assets$9,layers:layers$9,markers:markers$3,props:props$2},v$a="5.12.2",fr$8=60,ip$8=0,op$8=247,w$a=1080,h$a=1080,nm$8="Codex Looking around_ThickerLine",ddd$2=0,assets$8=[],layers$8=JSON.parse('[{"ddd":0,"ind":1,"ty":3,"nm":"master control","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.13,"y":1},"o":{"x":0.87,"y":0},"t":12,"s":[540,540,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":0.13},"o":{"x":0.87,"y":0.87},"t":60,"s":[564,516,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":1},"o":{"x":0.87,"y":0},"t":95,"s":[564,516,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":0.13},"o":{"x":0.87,"y":0.87},"t":124,"s":[512,552,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":1},"o":{"x":0.87,"y":0},"t":153,"s":[512,552,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":0.13},"o":{"x":0.87,"y":0.87},"t":183,"s":[564,556,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.13,"y":1},"o":{"x":0.87,"y":0},"t":214,"s":[564,556,0],"to":[0,0,0],"ti":[0,0,0]},{"t":246,"s":[540,540,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":19,"mn":"Pseudo/250958","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/250958-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/250958-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/250958-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/250958-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":0,"nm":"Roundness","mn":"Pseudo/250958-0005","ix":5,"v":{"a":0,"k":0,"ix":5}},{"ty":6,"nm":"About","mn":"Pseudo/250958-0006","ix":6,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/250958-0007","ix":7,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0008","ix":8,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/250958-0009","ix":9,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0010","ix":10,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/250958-0011","ix":11,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0012","ix":12,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/250958-0013","ix":13,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0014","ix":14,"v":0},{"ty":6,"nm":"Copyright 2023 Battle Axe Inc","mn":"Pseudo/250958-0015","ix":15,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/250958-0017","ix":17,"v":0}]}],"ip":0,"op":247,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"Eye controll 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":6,"s":[0,0,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":0.12},"o":{"x":0.88,"y":0.88},"t":51,"s":[-78,52,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":212,"s":[-78,52,0],"to":[0,0,0],"ti":[0,0,0]},{"t":246,"s":[0,0,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":20,"mn":"Pseudo/289611","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/289611-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/289611-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/289611-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/289611-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":6,"nm":"About","mn":"Pseudo/289611-0005","ix":5,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/289611-0006","ix":6,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0007","ix":7,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/289611-0008","ix":8,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0009","ix":9,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/289611-0010","ix":10,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0011","ix":11,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/289611-0012","ix":12,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0013","ix":13,"v":0},{"ty":6,"nm":"Void - 1.0.2","mn":"Pseudo/289611-0014","ix":14,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0015","ix":15,"v":0},{"ty":6,"nm":" 2022 Battle Axe Inc","mn":"Pseudo/289611-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0017","ix":17,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0018","ix":18,"v":0}]}],"ip":0,"op":247,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":3,"nm":"Eye controll","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":17,"s":[0]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":58,"s":[-3]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":93,"s":[-3]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":122,"s":[4]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":151,"s":[4]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":181,"s":[-5]},{"i":{"x":[0.12],"y":[1]},"o":{"x":[0.88],"y":[0]},"t":212,"s":[-5]},{"t":246,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":17,"s":[0,0,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":0.12},"o":{"x":0.88,"y":0.88},"t":58,"s":[216,-120,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":93,"s":[216,-120,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":0.12},"o":{"x":0.88,"y":0.88},"t":122,"s":[-83,25,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":151,"s":[-83,25,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":0.12},"o":{"x":0.88,"y":0.88},"t":181,"s":[160,80,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.12,"y":1},"o":{"x":0.88,"y":0},"t":212,"s":[160,80,0],"to":[0,0,0],"ti":[0,0,0]},{"t":246,"s":[0,0,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":5,"nm":"Void","np":20,"mn":"Pseudo/289611","ix":1,"en":1,"ef":[{"ty":0,"nm":"Width","mn":"Pseudo/289611-0001","ix":1,"v":{"a":0,"k":100,"ix":1}},{"ty":0,"nm":"Height","mn":"Pseudo/289611-0002","ix":2,"v":{"a":0,"k":100,"ix":2}},{"ty":0,"nm":"Offset X","mn":"Pseudo/289611-0003","ix":3,"v":{"a":0,"k":0,"ix":3}},{"ty":0,"nm":"Offset Y","mn":"Pseudo/289611-0004","ix":4,"v":{"a":0,"k":0,"ix":4}},{"ty":6,"nm":"About","mn":"Pseudo/289611-0005","ix":5,"v":0},{"ty":6,"nm":"Plague of null layers.","mn":"Pseudo/289611-0006","ix":6,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0007","ix":7,"v":0},{"ty":6,"nm":"Following projects","mn":"Pseudo/289611-0008","ix":8,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0009","ix":9,"v":0},{"ty":6,"nm":"through time.","mn":"Pseudo/289611-0010","ix":10,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0011","ix":11,"v":0},{"ty":6,"nm":"Be free of the past.","mn":"Pseudo/289611-0012","ix":12,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0013","ix":13,"v":0},{"ty":6,"nm":"Void - 1.0.2","mn":"Pseudo/289611-0014","ix":14,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0015","ix":15,"v":0},{"ty":6,"nm":" 2022 Battle Axe Inc","mn":"Pseudo/289611-0016","ix":16,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0017","ix":17,"v":0},{"ty":6,"nm":"Void","mn":"Pseudo/289611-0018","ix":18,"v":0}]}],"ip":0,"op":247,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Left","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-122.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[8.163,4.658],[0,0],[7.834,-4.643],[0,0]],"o":[[0,0],[-8.016,-4.574],[0,0],[-7.834,4.643],[0,0]],"v":[[21.555,6.99],[10.283,0.526],[-0.356,-5.65],[-11.811,0.933],[-22.129,6.99]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":0,"op":14,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Left","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-242.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":17,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.651,-16.029],[-0.5,-28.717],[-21.986,-16.029]],"c":false}]},{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":58,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[15.525,-31.151],[0.137,-31.253],[-14.928,-31.247]],"c":false}]},{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":212,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[15.525,-31.151],[0.137,-31.253],[-14.928,-31.247]],"c":false}]},{"t":246,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[21.555,-16.029],[-0.165,-28.573],[-22.034,-15.837]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":14,"op":243,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Left","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-122.92,-1.113,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[8.163,4.658],[0,0],[7.834,-4.643],[0,0]],"o":[[0,0],[-8.016,-4.574],[0,0],[-7.834,4.643],[0,0]],"v":[[21.555,6.99],[10.283,0.526],[-0.356,-5.65],[-11.811,0.933],[-22.129,6.99]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.4,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":-90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3653","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":0,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false}],"ip":243,"op":247,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Right","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[121.187,122.099,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[11.259,0],[0,0]],"o":[[0,0],[-11.259,0],[0,0]],"v":[[14.823,4.322],[0.859,4.324],[-13.711,4.322]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Right","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[105.626,2.082,0],"ix":2,"l":2},"a":{"a":0,"k":[0.299,0.003,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":17,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[11.989,-18.63],[1.653,-18.628],[-16.329,-18.624]],"c":false}]},{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":58,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[5.132,-15.224],[5.097,-4.108],[5.036,15.23]],"c":false}]},{"i":{"x":0.05,"y":1},"o":{"x":0.95,"y":0},"t":212,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[5.132,-15.224],[5.097,-4.108],[5.036,15.23]],"c":false}]},{"t":246,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[12.132,-18.72],[0.235,-18.731],[-16.402,-18.721]],"c":false}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0.012,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":14,"op":243,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Right","parent":3,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[121.187,122.099,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[-522.4,-522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[11.259,0],[0,0]],"o":[[0,0],[-11.259,0],[0,0]],"v":[[14.823,4.322],[0.859,4.324],[-13.711,4.322]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":16.9,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Vector 3652","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":243,"op":247,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Ellipse 33468","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[522.4,522.4,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[154.77,154.77],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"op","nm":"Offset Paths 1","a":{"a":0,"k":-2.5,"ix":1},"lj":1,"ml":{"a":0,"k":4,"ix":3},"ix":2,"mn":"ADBE Vector Filter - Offset","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":17.014,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 33468","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":247,"st":1,"ct":1,"bm":0}]'),markers$2=[],props$1={},codexLookingAroundAnimation={v:v$a,fr:fr$8,ip:ip$8,op:op$8,w:w$a,h:h$a,nm:nm$8,ddd:ddd$2,assets:assets$8,layers:layers$8,markers:markers$2,props:props$1},v$9="5.7.0",ip$7=0,op$7=90,fr$7=60,w$9=500,h$9=500,nm$7="250814_EditFiles_B1_SC_v02",assets$7=[],layers$7=[{ind:1,ty:4,nm:"Line_1",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{k:[{i:{x:.126,y:1},o:{x:.001,y:0},t:45,s:[251.488,192.796,0]},{t:65,s:[251.488,162.796,0]}],a:1},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3623",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-91.25,0],[91.25,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.069,y:1},o:{x:.244,y:.413},t:45,s:[1]},{t:65,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"6746",ip:45,op:90,st:4},{ind:2,ty:4,nm:"Line_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,84,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3625",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-91.25,0],[91.25,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.069,y:1},o:{x:.244,y:.413},t:52,s:[55]},{t:72,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"6745",ip:52,op:90,st:11,parent:1},{ind:3,ty:4,nm:"Line_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-44.75,168,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3624",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-46,0],[46,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.069,y:1},o:{x:.244,y:.49},t:57,s:[25]},{t:76,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"6744",ip:57,op:90,st:16,parent:1},{ind:4,ty:4,nm:"Chevron_1",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,h:1,s:[100]},{t:45,s:[0]}]},r:{a:0,k:0},p:{k:[{i:{x:.944,y:0},o:{x:1,y:0},t:31,s:[192.75,250,0]},{t:45,s:[192.75,227,0]}],a:1},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3616",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-21,-42],[21,0],[-21,42]],c:!1},a:0}},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.774,y:.733},o:{x:1,y:0},t:31,s:[100]},{t:45,s:[1]}]},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6742",ip:0,op:45,st:0},{ind:5,ty:4,nm:"Line_1",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,h:1,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11,h:1,s:[100]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19,h:1,s:[0]},{t:28,s:[100]}]},r:{a:0,k:0},p:{a:0,k:[114.5,41.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3617",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[31.5,0],[-31.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6741",ip:0,op:36,st:0,parent:4},{ind:6,ty:4,nm:"Container",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[249.17,249.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Rectangle 3",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[333,333]},p:{a:0,k:[0,0]},r:{a:0,k:62}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6782",ip:0,op:90,st:0}],editFilesAnimation={v:v$9,ip:ip$7,op:op$7,fr:fr$7,w:w$9,h:h$9,nm:nm$7,assets:assets$7,layers:layers$7},v$8="5.7.5",fr$6=100,ip$6=0,op$6=120,w$8=24,h$8=24,nm$6="Comp 1",ddd$1=0,metadata={},assets$6=[],layers$6=[{ddd:0,ind:1,ty:4,nm:"Group Layer 1",sr:1,ks:{p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.058823529411764705,.058823529411764705,.058823529411764705],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[-7.74635124206543,9.090900421142578],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[99.99999865388264,99.99999865388264],ix:2},r:{a:0,k:59.99999955470795,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[11.738502502441406,2.1608974933624268],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[99.99999865388264,99.99999865388264],ix:2},r:{a:0,k:-59.99999955470795,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Circle's solid stroke",it:[{ty:"el",d:1,s:{a:0,k:[5,5],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:1,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[4,-3.25],ix:2},a:{a:0,k:[4,4],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",it:[{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[1.7535999999999987,5.71135],[0,0]],i:[[0,0],[1.3511999999999986,1.5800799999999997]],o:[[.2289999999999992,-2.0525],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[18.595924377441406,9.982625007629395],ix:2},a:{a:0,k:[.8998245270928746,2.855675],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[0,0],[5.82298,1.3370999999999995]],i:[[0,0],[-2.0440000000000005,.38009999999999877]],o:[[1.66303,1.2245999999999988],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[.058823529411764705,.058823529411764705,.058823529411764705],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[10.454910278320312,18.767377853393555],ix:2},a:{a:0,k:[2.91149,.7313778705937704],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"gr",nm:"Path's solid stroke",it:[{ty:"sh",d:1,ks:{a:0,k:{c:!1,v:[[4.06941,0],[0,4.37427]],i:[[0,0],[.6928200000000002,-1.9601699999999997]],o:[[-1.8920500000000002,.8279300000000003],[0,0]]}}},{ty:"tm",s:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:60,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[100],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:88,s:[95.73],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1},{ty:"st",c:{a:0,k:[0,0,0],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},lc:2,lj:1,ml:4,d:[{n:"o",nm:"offset",v:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[6.964394569396973,7.312865257263184],ix:2},a:{a:0,k:[2.034705,2.187135],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[12,12],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:50,s:[41],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:76,s:[91.3],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[120],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]},{ty:"tr",p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}},{t:120,s:[120],i:{x:[.75],y:[.75]},o:{x:[.25],y:[.25]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:121,st:0,bm:0}],markers$1=[],internalKnowledgeAnimation={v:v$8,fr:fr$6,ip:ip$6,op:op$6,w:w$8,h:h$8,nm:nm$6,ddd:ddd$1,metadata,assets:assets$6,layers:layers$6,markers:markers$1},v$7="5.7.0",ip$5=0,op$5=90,fr$5=60,w$7=500,h$7=500,nm$5="250814_ListingFiles_A1_SC_v03",assets$5=[],layers$5=[{ind:1,ty:4,nm:"1-Line_1A",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[249.17,164,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_1A",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[91.5,0],[-91.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6770",ip:0,op:35,st:0},{ind:2,ty:4,nm:"1-Line_2A",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[203.67,248,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_2A",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[46,0],[-46,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6769",ip:4,op:37,st:4},{ind:3,ty:4,nm:"1-Line_2B",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[323.42,248,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_2B",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[17.25,0],[-17.25,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6768",ip:8,op:39,st:8},{ind:4,ty:4,nm:"1-Line_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[249.17,332,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line3",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-91.5,0],[91.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.152,y:1},o:{x:.089,y:.463},t:11,s:[70]},{t:40,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"6767",ip:11,op:40,st:11},{ind:5,ty:4,nm:"2-Line_1A",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[204,164,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_1A",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[46,0],[-46,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6766",ip:42,op:82,st:42},{ind:6,ty:4,nm:"2-Line_1B",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[323.5,164,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_1B",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[17.5,0],[-17.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6765",ip:46,op:84,st:46},{ind:7,ty:4,nm:"2-Line_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[249.5,248,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_2",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[91.5,0],[-91.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6764",ip:50,op:86,st:50},{ind:8,ty:4,nm:"2-Line_3A",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:180},p:{a:0,k:[175.5,332,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_3A",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[17.5,0],[-17.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6763",ip:54,op:88,st:54},{ind:9,ty:4,nm:"2-Line_3B",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:180},p:{a:0,k:[295,332,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Line_3B",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[46,0],[-46,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:34},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.434,y:1},o:{x:0,y:0},t:58,s:[50]},{t:84,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"6762",ip:58,op:90,st:58},{ind:10,ty:4,nm:"Container",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[249.17,249.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Rectangle 3",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[333,333]},p:{a:0,k:[0,0]},r:{a:0,k:62}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6761",ip:0,op:90,st:0}],listFilesAnimation={v:v$7,ip:ip$5,op:op$5,fr:fr$5,w:w$7,h:h$7,nm:nm$5,assets:assets$5,layers:layers$5},v$6="5.7.0",ip$4=0,op$4=90,fr$4=60,w$6=500,h$6=500,nm$4="250812_LocalContext_A2A_SC_v09",assets$4=[],layers$4=[{ind:1,ty:3,nm:"Scale-Attract_Rotation",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:.411,y:.541},o:{x:.603,y:.103},t:0,s:[0]},{i:{x:.657,y:.832},o:{x:.291,y:.649},t:46,s:[180]},{t:89.999,s:[240]}]},p:{a:0,k:[250.497,267.168,0]},a:{a:0,k:[50,50,50]},s:{k:[{i:{x:[.719,.719,.719],y:[.382,.382,1]},o:{x:[.599,.599,.66],y:[.123,.123,0]},t:0,s:[100,100,100]},{i:{x:[.433,.433,.667],y:[1,1,1]},o:{x:[.297,.297,.215],y:[-1.7,-1.7,0]},t:25,s:[80,80,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:89.999,s:[100,100,100]}],a:1},sa:{a:0,k:0}},hasMask:!1,ln:"5939",ip:0,op:90,st:0},{ind:2,ty:4,nm:"Circle_Stoke_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:120},p:{a:0,k:[163.033,115.701,0]},a:{a:0,k:[1.993,-113.986,0]},s:{k:[{i:{x:[.719,.719,.719],y:[.382,.382,1]},o:{x:[.599,.599,.66],y:[.123,.123,0]},t:0,s:[100,100,100]},{i:{x:[.433,.433,.667],y:[1,1,1]},o:{x:[.297,.297,.215],y:[-1.7,-1.7,0]},t:25,s:[120,120,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:89.999,s:[100,100,100]}],a:1},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[81.092,81.092]}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.993,-113.986]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5969",ip:0,op:90,st:0,parent:1},{ind:3,ty:4,nm:"Line_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.113,-.415,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[60.413,-11.15],[10.944,-30.721]],o:[[-44.149,8.149],[-11.062,31.052]],v:[[-38.387,-104.608],[-122.874,-24.356]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:32},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.833,y:1},o:{x:.333,y:0},t:13,s:[100]},{i:{x:.355,y:.753},o:{x:.167,y:0},t:21,s:[0]},{i:{x:.566,y:.992},o:{x:.409,y:.485},t:33,s:[0]},{t:88.999,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"5968",ip:0,op:90,st:0,parent:2},{ind:4,ty:4,nm:"Circle_Stoke_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:-120},p:{a:0,k:[-63.416,115.039,0]},a:{a:0,k:[1.993,-113.986,0]},s:{k:[{i:{x:[.719,.719,.719],y:[.382,.382,1]},o:{x:[.599,.599,.66],y:[.123,.123,0]},t:0,s:[100,100,100]},{i:{x:[.433,.433,.667],y:[1,1,1]},o:{x:[.297,.297,.215],y:[-1.7,-1.7,0]},t:25,s:[120,120,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:89.999,s:[100,100,100]}],a:1},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[81.092,81.092]}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.993,-113.986]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5967",ip:0,op:90,st:0,parent:1},{ind:5,ty:4,nm:"Line_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.113,-.415,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[60.413,-11.15],[10.944,-30.721]],o:[[-44.149,8.149],[-11.062,31.052]],v:[[-38.387,-104.608],[-122.874,-24.356]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:32},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.833,y:1},o:{x:.333,y:0},t:13,s:[100]},{i:{x:.355,y:.753},o:{x:.167,y:0},t:21,s:[0]},{i:{x:.566,y:.992},o:{x:.409,y:.485},t:33,s:[0]},{t:88.999,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"5966",ip:0,op:90,st:0,parent:4},{ind:6,ty:4,nm:"Circle_Stoke_1",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[50.383,-80.74,0]},a:{a:0,k:[1.993,-113.986,0]},s:{k:[{i:{x:[.719,.719,.719],y:[.382,.382,1]},o:{x:[.599,.599,.66],y:[.123,.123,0]},t:0,s:[100,100,100]},{i:{x:[.433,.433,.667],y:[1,1,1]},o:{x:[.297,.297,.215],y:[-1.7,-1.7,0]},t:25,s:[120,120,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:89.999,s:[100,100,100]}],a:1},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[81.092,81.092]}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.993,-113.986]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5938",ip:0,op:90,st:0,parent:1},{ind:7,ty:4,nm:"Line_1",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[1.113,-.415,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[60.413,-11.15],[10.944,-30.721]],o:[[-44.149,8.149],[-11.062,31.052]],v:[[-38.387,-104.608],[-122.874,-24.356]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:32},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.833,y:1},o:{x:.333,y:0},t:13,s:[100]},{i:{x:.355,y:.753},o:{x:.167,y:0},t:21,s:[0]},{i:{x:.566,y:.992},o:{x:.409,y:.485},t:33,s:[0]},{t:88.999,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"5937",ip:0,op:90,st:0,parent:6}],localContextAnimation={v:v$6,ip:ip$4,op:op$4,fr:fr$4,w:w$6,h:h$6,nm:nm$4,assets:assets$4,layers:layers$4},v$5="5.7.0",ip$3=0,op$3=90,fr$3=60,w$5=500,h$5=500,nm$3="250813_ExecutingTerminal_D2_SC_v03",assets$3=[],layers$3=[{ind:1,ty:4,nm:"Chevron_Slide",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[192.75,250,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3616",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-21,42],[21,0],[-21,-42]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6234",ip:0,op:90,st:0},{ind:2,ty:4,nm:"Line_1",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,h:1,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11,h:1,s:[100]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19,h:1,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:28,h:1,s:[100]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:36,h:1,s:[0]},{t:45,s:[100]}]},r:{a:0,k:0},p:{a:0,k:[307.25,291.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3617",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[31.5,0],[-31.5,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6233",ip:0,op:90,st:0},{ind:3,ty:4,nm:"Container",sr:1,ks:{o:{a:0,k:99},r:{a:0,k:0},p:{a:0,k:[262.875,247.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Rectangle 1",it:[{ty:"rc",nm:"Rectangle Path 1",d:1,s:{a:0,k:[333,333.3]},p:{a:0,k:[0,0]},r:{a:0,k:63}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:33},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-12.875,2.125]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"6232",ip:0,op:90,st:0}],runCommandAnimation={v:v$5,ip:ip$3,op:op$3,fr:fr$3,w:w$5,h:h$5,nm:nm$3,assets:assets$3,layers:layers$3},v$4="5.7.0",ip$2=0,op$2=180,fr$2=60,w$4=500,h$4=500,nm$2="250812_Search_J3_SC_v05",assets$2=[],layers$2=[{ind:1,ty:4,nm:"Lines_Icon",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:89.999,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:98.999,s:[100]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:154.999,s:[100]},{t:163.999,s:[0]}]},r:{a:0,k:0},p:{a:0,k:[250,251.25,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Shape 2",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-18.805,-56.275],[51.339,-56.3]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-18.805,-113.232],[94.548,-113.232]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 2",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:28},c:{a:0,k:[1,1,1]}}],hasMask:!0,masksProperties:[{inv:!1,nm:"Mask 1",pt:{k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:91.999,s:[{i:[[73.089,0],[0,-73.089],[-73.089,0],[0,73.089]],o:[[-73.089,0],[0,73.089],[73.089,0],[0,-73.089]],v:[[-10.606,-147.996],[-142.945,-15.656],[-10.606,116.683],[121.734,-15.656]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:108.999,s:[{i:[[73.089,0],[0,-73.089],[-73.089,0],[0,73.089]],o:[[-73.089,0],[0,73.089],[73.089,0],[0,-73.089]],v:[[39.438,-210.075],[-92.901,-77.736],[39.438,54.604],[171.777,-77.736]],c:!0}]},{t:150.999,s:[{i:[[73.089,0],[0,-73.089],[-73.088,0],[0,73.089]],o:[[-73.088,0],[0,73.089],[73.089,0],[0,-73.089]],v:[[35.51,-203.191],[-96.829,-70.852],[35.51,61.487],[167.85,-70.852]],c:!0}]}],a:1},o:{a:0,k:100},mode:"a",x:{a:0,k:0}}],ln:"5815",ip:88,op:164,st:0},{ind:2,ty:4,nm:"Code_Icon",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:12,s:[100]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:84.999,s:[100]},{t:92.999,s:[0]}]},r:{a:0,k:0},p:{a:0,k:[238.257,201.796,0]},a:{a:0,k:[0,0]},s:{a:0,k:[71,71,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3620",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[24.75,0],[-24.75,0]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Vector 3621",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-24.75,49.077],[24.75,-.423],[-24.75,-49.077]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-102.373,-47.324]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:42},c:{a:0,k:[1,1,1]}}],hasMask:!0,masksProperties:[{inv:!1,nm:"Mask 1",pt:{k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:9,s:[{i:[[100.163,0],[0,-100.163],[-100.162,0],[0,100.163]],o:[[-100.162,0],[0,100.163],[100.163,0],[0,-100.163]],v:[[-11.55,-83.697],[-192.91,97.664],[-11.55,279.024],[169.811,97.664]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24,s:[{i:[[100.163,0],[0,-100.163],[-100.163,0],[0,100.163]],o:[[-100.163,0],[0,100.163],[100.163,0],[0,-100.163]],v:[[-72.368,-200.65],[-253.729,-19.289],[-72.368,162.072],[108.993,-19.289]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:45,s:[{i:[[100.162,0],[0,-100.163],[-100.163,0],[0,100.163]],o:[[-100.163,0],[0,100.163],[100.162,0],[0,-100.163]],v:[[-51.609,-219.981],[-232.97,-38.62],[-51.609,142.741],[129.751,-38.62]],c:!0}]},{t:85.999,s:[{i:[[100.163,0],[0,-100.163],[-100.162,0],[0,100.163]],o:[[-100.162,0],[0,100.163],[100.163,0],[0,-100.163]],v:[[-57.75,-188.729],[-239.11,-7.368],[-57.75,173.993],[123.611,-7.368]],c:!0}]}],a:1},o:{a:0,k:100},mode:"a",x:{a:0,k:0}}],ln:"5814",ip:7,op:91,st:0},{ind:3,ty:3,nm:"Main_Movement",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{k:[{i:{x:.077,y:1},o:{x:.447,y:.375},t:0,s:[296.471,289,0],ti:[3.152,73.25,0],to:[-73.228,14.222,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:45,h:1,s:[210.602,196.307,0]},{i:{x:.28,y:1},o:{x:.5,y:0},t:74.999,s:[210.602,196.307,0],ti:[56.468,78.223,0],to:[37.971,102.68,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:119.999,h:1,s:[320.032,195.949,0]},{i:{x:.075,y:.305},o:{x:.453,y:0},t:149.999,s:[320.032,195.949,0],ti:[28.414,-13.307,0],to:[.541,16.503,0]},{t:179.999,s:[296.471,289,0],ti:[20.165,18.661,0],to:[-73.228,14.222,0]}],a:1},a:{a:0,k:[50,50,50]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},hasMask:!1,ln:"5813",ip:0,op:180,st:0},{ind:4,ty:3,nm:"Small_Movement",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{k:[{i:{x:.542,y:.951},o:{x:.284,y:0},t:28,s:[43,50,0]},{i:{x:.833,y:1},o:{x:.74,y:.067},t:59,s:[66,50,0]},{i:{x:.833,y:.833},o:{x:.333,y:.333},t:84.999,s:[43,50,0]},{i:{x:.542,y:.951},o:{x:.284,y:0},t:106.999,s:[43,50,0]},{i:{x:.833,y:1},o:{x:.74,y:.055},t:138.999,s:[28,50,0]},{t:160.999,s:[43,50,0]}],a:1},a:{a:0,k:[50,50,50]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},hasMask:!1,ln:"5812",ip:0,op:180,st:0,parent:3},{ind:5,ty:3,nm:"Rotation_Scale",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:0,y:1},o:{x:.491,y:.13},t:0,s:[0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:55,h:1,s:[66]},{i:{x:.312,y:1},o:{x:.658,y:0},t:74.999,s:[66]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:128.999,h:1,s:[7]},{i:{x:.73,y:1.366},o:{x:.333,y:0},t:149.999,s:[7]},{t:179.999,s:[0]}]},p:{a:0,k:[33.249,27.707,0]},a:{a:0,k:[0,0]},s:{k:[{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:0,s:[100,100,100]},{i:{x:[0,0,.077],y:[1,1,1]},o:{x:[.228,.228,.447],y:[0,0,0]},t:13,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:59,s:[115,115,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:74.999,s:[115,115,100]},{i:{x:[0,0,.077],y:[1,1,1]},o:{x:[.291,.291,.447],y:[0,0,0]},t:92.999,s:[90,90,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:135.999,s:[115,115,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:136.499,s:[115,115,100]},{i:{x:[.075,.075,.075],y:[.529,.529,1]},o:{x:[.453,.453,.453],y:[0,0,0]},t:149.999,s:[115,115,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:179.999,s:[100,100,100]}],a:1},sa:{a:0,k:0}},hasMask:!1,ln:"5811",ip:0,op:180,st:0,parent:4},{ind:6,ty:4,nm:"circle",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0,0]},a:{a:0,k:[-64.955,-68.308,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[249.492,249.492]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-64.955,-68.308]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[26.349,20.434],[113.319,107.31]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-.639,.189]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:1,k:[{i:{x:0,y:1},o:{x:.228,y:0},t:13,s:[42]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:59,h:1,s:[36.52]},{i:{x:.833,y:1},o:{x:.333,y:0},t:74.999,s:[36.52]},{i:{x:0,y:1},o:{x:.291,y:0},t:92.999,s:[46.67]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:135.999,h:1,s:[36.52]},{i:{x:.075,y:.529},o:{x:.453,y:0},t:149.999,s:[36.52]},{t:179.999,s:[42]}]},c:{a:0,k:[1,1,1]}}],hasMask:!1,ln:"5809",ip:0,op:180,st:0,parent:5}],searchingAnimation={v:v$4,ip:ip$2,op:op$2,fr:fr$2,w:w$4,h:h$4,nm:nm$2,assets:assets$2,layers:layers$2},v$3="5.7.0",ip$1=0,op$1=90,fr$1=60,w$3=500,h$3=500,nm$1="250813_Planning_B1_SC_v04",assets$1=[],layers$1=[{ind:1,ty:3,nm:"Swipe_Up",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{k:[{i:{x:.23,y:1},o:{x:.823,y:0},t:5,s:[250,269,0]},{t:45,s:[250,61,0]}],a:1},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},hasMask:!1,ln:"5835",ip:5,op:45,st:0},{ind:2,ty:4,nm:"Check_1",sr:1,ks:{o:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:19,s:[100]},{t:23,s:[0]}]},r:{a:0,k:0},p:{a:0,k:[-119.958,-124.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Check",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-46.875,15.625],[-15.625,41.667],[46.875,-41.667]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"gr",nm:"Line",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[286.524,.698],[140.691,.698]],c:!1},a:0}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:41.667},c:{a:0,k:[1,1,1]}}],hasMask:!1,ln:"5834",ip:0,op:23,st:0,parent:1},{ind:3,ty:4,nm:"Circle_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{k:[{i:{x:.999,y:1},o:{x:.58,y:0},t:48,s:[-125,82.167,0]},{i:{x:.999,y:1},o:{x:.167,y:0},t:61,s:[-165.967,99.274,0]},{t:62,s:[-165.795,99.449,0]}],a:1},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 33341",it:[{ty:"sh",nm:"Path_outside",d:1,ks:{k:[{i:{x:.999,y:1},o:{x:.58,y:0},t:48,s:[{i:[[-34.518,0],[-.001,34.518],[34.517,0],[0,-34.518]],o:[[34.517,0],[0,-34.518],[-34.518,0],[0,34.518]],v:[[.028,61.92],[62.528,-.58],[.028,-63.08],[-62.472,-.58]],c:!0}]},{t:61,s:[{i:[[-12.997,0],[0,12.996],[12.996,0],[0,-12.996]],o:[[12.996,0],[0,-12.996],[-12.997,0],[0,12.996]],v:[[.028,22.952],[23.559,-.58],[.028,-24.112],[-23.504,-.58]],c:!0}]}],a:1}},{ty:"sh",nm:"Path_Inside",d:1,ks:{k:[{i:{x:.999,y:1},o:{x:.762,y:0},t:48,s:[{i:[[-11.506,0],[0,-11.506],[11.506,0],[0,11.506]],o:[[11.506,0],[0,11.506],[-11.506,0],[0,-11.506]],v:[[0,-20.834],[20.833,0],[0,20.833],[-20.834,0]],c:!0}]},{t:57,s:[{i:[[-.039,0],[0,-.039],[.038,0],[0,.038]],o:[[.038,0],[0,.038],[-.039,0],[0,-.039]],v:[[0,-.07],[.069,0],[0,.069],[-.07,0]],c:!0}]}],a:1}},{ty:"fl",nm:"Fill 1",c:{a:0,k:[1,1,1]},o:{a:0,k:100},r:1},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5832",ip:0,op:62,st:0,parent:1},{ind:4,ty:4,nm:"Check_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-119.958,83.5,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3615",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-46.875,15.625],[-15.625,41.667],[46.875,-41.667]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:2,ml:4,o:{a:0,k:100},w:{a:0,k:41.667},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:0,y:1},o:{x:.374,y:0},t:61,s:[0]},{t:76.999,s:[100]}]},o:{a:0,k:0},m:1}],hasMask:!1,ln:"5831",ip:61,op:90,st:0,parent:1},{ind:5,ty:4,nm:"Line_2",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[93.583,84,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3613",it:[{ty:"sh",nm:"Path 1",d:1,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[72.917,0],[-72.917,0]],c:!1},a:0}},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:41.667},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5830",ip:0,op:90,st:0,parent:1},{ind:6,ty:4,nm:"Circle_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[-125,289.7,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Ellipse 33341 (Stroke)",it:[{ty:"sh",nm:"Path Inside",d:1,ks:{k:[{i:{x:.436,y:1},o:{x:.155,y:.001},t:31,s:[{i:[[-.031,0],[0,-.031],[.03,0],[0,.03]],o:[[.03,0],[0,.03],[-.031,0],[0,-.031]],v:[[0,-.057],[.056,0],[0,.056],[-.057,0]],c:!0}]},{t:45,s:[{i:[[-11.506,0],[0,-11.506],[11.506,0],[0,11.506]],o:[[11.506,0],[0,11.506],[-11.506,0],[0,-11.506]],v:[[0,-20.834],[20.833,0],[0,20.833],[-20.834,0]],c:!0}]}],a:1}},{ty:"sh",nm:"Path_Outside",d:1,ks:{k:[{i:{x:.101,y:1},o:{x:.092,y:.003},t:25,s:[{i:[[-11.322,0],[0,11.322],[11.322,0],[0,-11.322]],o:[[11.322,0],[0,-11.322],[-11.322,0],[0,11.322]],v:[[0,20.5],[20.5,0],[0,-20.5],[-20.5,0]],c:!0}]},{t:45,s:[{i:[[-34.518,0],[0,34.518],[34.518,0],[0,-34.518]],o:[[34.518,0],[0,-34.518],[-34.518,0],[0,34.518]],v:[[0,62.5],[62.5,0],[0,-62.5],[-62.5,0]],c:!0}]}],a:1}},{ty:"fl",nm:"Fill 1",c:{a:0,k:[1,1,1]},o:{a:0,k:100},r:1},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5829",ip:25,op:90,st:0,parent:1},{ind:7,ty:4,nm:"Line_3",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[93.583,292,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}},shapes:[{ty:"gr",nm:"Vector 3613",it:[{ty:"sh",nm:"Path 1",d:3,ks:{k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-72.917,0],[72.917,0]],c:!1},a:0}},{ty:"tm",nm:"Trim Paths 1",s:{a:0,k:0},e:{a:1,k:[{i:{x:.101,y:1},o:{x:.092,y:.263},t:29,s:[0]},{t:51,s:[100]}]},o:{a:0,k:0},m:1},{ty:"st",nm:"Stroke 1",lc:2,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:41.667},c:{a:0,k:[1,1,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},sa:{a:0,k:0}}]}],hasMask:!1,ln:"5828",ip:29,op:90,st:0,parent:1}],toDoAnimation={v:v$3,ip:ip$1,op:op$1,fr:fr$1,w:w$3,h:h$3,nm:nm$1,assets:assets$1,layers:layers$1},nm="250410_Search 2",ddd=0,h$2=24,w$2=24,meta={g:"@lottiefiles/toolkit-js 0.63.0"},layers=[{ty:4,nm:"Shape Layer 8",sr:1,st:0,op:101,ip:0,ln:"526",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,11.6,0]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Shape 1",it:[{ty:"sh",nm:"Path 1",d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-112,5],[112,5]]}}},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:1},{ty:4,nm:"Shape Layer 6",sr:1,st:0,op:101,ip:0,ln:"525",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:1,k:[{s:[100,100],i:{x:[.4,.4],y:[1,1]},o:{x:[.001,.001],y:[0,0]},t:56.666},{s:[39,100],i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:99.999}]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"tm",nm:"Trim Paths 1",e:{a:0,k:100},o:{a:0,k:0},s:{a:0,k:50},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:2},{ty:4,nm:"Shape Layer 5",sr:1,st:5,op:101,ip:0,ln:"524",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:1,k:[{s:[100,100],i:{x:[.16,.16],y:[1,1]},o:{x:[.19,.19],y:[0,0]},t:43.334},{s:[-39,100],i:{x:[.833,.833],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:99.999}]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"tm",nm:"Trim Paths 1",e:{a:0,k:100},o:{a:0,k:0},s:{a:0,k:50},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:3},{ty:4,nm:"Shape Layer 3",sr:1,st:0,op:101,ip:0,ln:"523",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:1,k:[{s:[-39,100],i:{x:[.999,.999],y:[1,1]},o:{x:[.6,.6],y:[0,0]},t:0},{s:[-100,100],i:{x:[.999,.999],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:43.334}]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"tm",nm:"Trim Paths 1",e:{a:0,k:100},o:{a:0,k:0},s:{a:0,k:50},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:4},{ty:4,nm:"Shape Layer 2",sr:1,st:0,op:101,ip:0,ln:"522",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:1,k:[{s:[39,100],i:{x:[.81,.81],y:[1,1]},o:{x:[.84,.84],y:[0,0]},t:0},{s:[-100,100],i:{x:[.7,.7],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:56.666}]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"tm",nm:"Trim Paths 1",e:{a:0,k:100},o:{a:0,k:0},s:{a:0,k:50},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:5},{ty:4,nm:"Shape Layer 1",sr:1,st:0,op:101,ip:0,ln:"521",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:1,k:[{s:[100,100],i:{x:[.85,.85],y:[.5,1]},o:{x:[.82,.82],y:[0,0]},t:0},{s:[0,100],i:{x:[.18,.18],y:[1,1]},o:{x:[.15,.15],y:[.5,0]},t:50},{s:[-100,100],i:{x:[.85,.85],y:[1,1]},o:{x:[.167,.167],y:[0,0]},t:99.999}]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"tm",nm:"Trim Paths 1",e:{a:0,k:100},o:{a:0,k:0},s:{a:0,k:50},m:1},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:6},{ty:4,nm:"Shape Layer 7",sr:1,st:0,op:101,ip:0,ln:"520",hasMask:!1,ao:0,ks:{a:{a:0,k:[0,0]},s:{a:0,k:[8,8,100]},p:{a:0,k:[12,12]},r:{a:0,k:0},o:{a:0,k:100}},shapes:[{ty:"gr",nm:"Ellipse 1",it:[{ty:"gr",nm:"Group 1",it:[{ty:"el",nm:"Ellipse Path 1",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[224,224]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]},{ty:"st",nm:"Stroke 1",lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:23},c:{a:0,k:[0,0,0]}},{ty:"tr",a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},p:{a:0,k:[0,0]},r:{a:0,k:0},o:{a:0,k:100}}]}],ind:7}],v$2="5.7.0",fr=60,op=101,ip=0,assets=[],webSearchAnimation={nm,ddd,h:h$2,w:w$2,meta,layers,v:v$2,fr,op,ip,assets};var _arrayEach,hasRequired_arrayEach;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;hasRequired_arrayEach=1;function Ye(rt,it){for(var lt=-1,ct=rt==null?0:rt.length;++lt<ct&&it(rt[lt],lt,rt)!==!1;);return rt}return _arrayEach=Ye,_arrayEach}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var Ye=require_baseAssignValue(),rt=requireEq(),it=Object.prototype,lt=it.hasOwnProperty;function ct(ut,ht,ft){var pt=ut[ht];(!(lt.call(ut,ht)&&rt(pt,ft))||ft===void 0&&!(ht in ut))&&Ye(ut,ht,ft)}return _assignValue=ct,_assignValue}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var Ye=require_assignValue(),rt=require_baseAssignValue();function it(lt,ct,ut,ht){var ft=!ut;ut||(ut={});for(var pt=-1,mt=ct.length;++pt<mt;){var gt=ct[pt],yt=ht?ht(ut[gt],lt[gt],gt,ut,lt):void 0;yt===void 0&&(yt=lt[gt]),ft?rt(ut,gt,yt):Ye(ut,gt,yt)}return ut}return _copyObject=it,_copyObject}var _baseAssign,hasRequired_baseAssign;function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var Ye=require_copyObject(),rt=requireKeys$3();function it(lt,ct){return lt&&Ye(ct,rt(ct),lt)}return _baseAssign=it,_baseAssign}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function Ye(rt){var it=[];if(rt!=null)for(var lt in Object(rt))it.push(lt);return it}return _nativeKeysIn=Ye,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var Ye=requireIsObject$2(),rt=require_isPrototype(),it=require_nativeKeysIn(),lt=Object.prototype,ct=lt.hasOwnProperty;function ut(ht){if(!Ye(ht))return it(ht);var ft=rt(ht),pt=[];for(var mt in ht)mt=="constructor"&&(ft||!ct.call(ht,mt))||pt.push(mt);return pt}return _baseKeysIn=ut,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var Ye=require_arrayLikeKeys(),rt=require_baseKeysIn(),it=requireIsArrayLike();function lt(ct){return it(ct)?Ye(ct,!0):rt(ct)}return keysIn_1=lt,keysIn_1}var _baseAssignIn,hasRequired_baseAssignIn;function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var Ye=require_copyObject(),rt=requireKeysIn();function it(lt,ct){return lt&&Ye(ct,rt(ct),lt)}return _baseAssignIn=it,_baseAssignIn}var _cloneBuffer={exports:{}};_cloneBuffer.exports;var hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,(function(Ye,rt){var it=require_root(),lt=rt&&!rt.nodeType&&rt,ct=lt&&!0&&Ye&&!Ye.nodeType&&Ye,ut=ct&&ct.exports===lt,ht=ut?it.Buffer:void 0,ft=ht?ht.allocUnsafe:void 0;function pt(mt,gt){if(gt)return mt.slice();var yt=mt.length,xt=ft?ft(yt):new mt.constructor(yt);return mt.copy(xt),xt}Ye.exports=pt})(_cloneBuffer,_cloneBuffer.exports)),_cloneBuffer.exports}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function Ye(rt,it){var lt=-1,ct=rt.length;for(it||(it=Array(ct));++lt<ct;)it[lt]=rt[lt];return it}return _copyArray=Ye,_copyArray}var _copySymbols,hasRequired_copySymbols;function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var Ye=require_copyObject(),rt=require_getSymbols();function it(lt,ct){return Ye(lt,rt(lt),ct)}return _copySymbols=it,_copySymbols}var _getSymbolsIn,hasRequired_getSymbolsIn;function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var Ye=require_arrayPush(),rt=require_getPrototype(),it=require_getSymbols(),lt=requireStubArray(),ct=Object.getOwnPropertySymbols,ut=ct?function(ht){for(var ft=[];ht;)Ye(ft,it(ht)),ht=rt(ht);return ft}:lt;return _getSymbolsIn=ut,_getSymbolsIn}var _copySymbolsIn,hasRequired_copySymbolsIn;function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var Ye=require_copyObject(),rt=require_getSymbolsIn();function it(lt,ct){return Ye(lt,rt(lt),ct)}return _copySymbolsIn=it,_copySymbolsIn}var _getAllKeysIn,hasRequired_getAllKeysIn;function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var Ye=require_baseGetAllKeys(),rt=require_getSymbolsIn(),it=requireKeysIn();function lt(ct){return Ye(ct,it,rt)}return _getAllKeysIn=lt,_getAllKeysIn}var _initCloneArray,hasRequired_initCloneArray;function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var Ye=Object.prototype,rt=Ye.hasOwnProperty;function it(lt){var ct=lt.length,ut=new lt.constructor(ct);return ct&&typeof lt[0]=="string"&&rt.call(lt,"index")&&(ut.index=lt.index,ut.input=lt.input),ut}return _initCloneArray=it,_initCloneArray}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var Ye=require_Uint8Array();function rt(it){var lt=new it.constructor(it.byteLength);return new Ye(lt).set(new Ye(it)),lt}return _cloneArrayBuffer=rt,_cloneArrayBuffer}var _cloneDataView,hasRequired_cloneDataView;function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var Ye=require_cloneArrayBuffer();function rt(it,lt){var ct=lt?Ye(it.buffer):it.buffer;return new it.constructor(ct,it.byteOffset,it.byteLength)}return _cloneDataView=rt,_cloneDataView}var _cloneRegExp,hasRequired_cloneRegExp;function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var Ye=/\w*$/;function rt(it){var lt=new it.constructor(it.source,Ye.exec(it));return lt.lastIndex=it.lastIndex,lt}return _cloneRegExp=rt,_cloneRegExp}var _cloneSymbol,hasRequired_cloneSymbol;function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var Ye=require_Symbol(),rt=Ye?Ye.prototype:void 0,it=rt?rt.valueOf:void 0;function lt(ct){return it?Object(it.call(ct)):{}}return _cloneSymbol=lt,_cloneSymbol}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var Ye=require_cloneArrayBuffer();function rt(it,lt){var ct=lt?Ye(it.buffer):it.buffer;return new it.constructor(ct,it.byteOffset,it.length)}return _cloneTypedArray=rt,_cloneTypedArray}var _initCloneByTag,hasRequired_initCloneByTag;function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var Ye=require_cloneArrayBuffer(),rt=require_cloneDataView(),it=require_cloneRegExp(),lt=require_cloneSymbol(),ct=require_cloneTypedArray(),ut="[object Boolean]",ht="[object Date]",ft="[object Map]",pt="[object Number]",mt="[object RegExp]",gt="[object Set]",yt="[object String]",xt="[object Symbol]",bt="[object ArrayBuffer]",_t="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",St="[object Int8Array]",Rt="[object Int16Array]",Tt="[object Int32Array]",Mt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",It="[object Uint16Array]",Lt="[object Uint32Array]";function Ot(Ft,Ut,Wt){var Kt=Ft.constructor;switch(Ut){case bt:return Ye(Ft);case ut:case ht:return new Kt(+Ft);case _t:return rt(Ft,Wt);case Ct:case kt:case St:case Rt:case Tt:case Mt:case Pt:case It:case Lt:return ct(Ft,Wt);case ft:return new Kt;case pt:case yt:return new Kt(Ft);case mt:return it(Ft);case gt:return new Kt;case xt:return lt(Ft)}}return _initCloneByTag=Ot,_initCloneByTag}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var Ye=requireIsObject$2(),rt=Object.create,it=(function(){function lt(){}return function(ct){if(!Ye(ct))return{};if(rt)return rt(ct);lt.prototype=ct;var ut=new lt;return lt.prototype=void 0,ut}})();return _baseCreate=it,_baseCreate}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var Ye=require_baseCreate(),rt=require_getPrototype(),it=require_isPrototype();function lt(ct){return typeof ct.constructor=="function"&&!it(ct)?Ye(rt(ct)):{}}return _initCloneObject=lt,_initCloneObject}var _baseIsMap,hasRequired_baseIsMap;function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var Ye=require_getTag(),rt=requireIsObjectLike(),it="[object Map]";function lt(ct){return rt(ct)&&Ye(ct)==it}return _baseIsMap=lt,_baseIsMap}var isMap_1,hasRequiredIsMap;function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var Ye=require_baseIsMap(),rt=require_baseUnary(),it=require_nodeUtil(),lt=it&&it.isMap,ct=lt?rt(lt):Ye;return isMap_1=ct,isMap_1}var _baseIsSet,hasRequired_baseIsSet;function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var Ye=require_getTag(),rt=requireIsObjectLike(),it="[object Set]";function lt(ct){return rt(ct)&&Ye(ct)==it}return _baseIsSet=lt,_baseIsSet}var isSet_1,hasRequiredIsSet;function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var Ye=require_baseIsSet(),rt=require_baseUnary(),it=require_nodeUtil(),lt=it&&it.isSet,ct=lt?rt(lt):Ye;return isSet_1=ct,isSet_1}var _baseClone,hasRequired_baseClone;function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var Ye=require_Stack(),rt=require_arrayEach(),it=require_assignValue(),lt=require_baseAssign(),ct=require_baseAssignIn(),ut=require_cloneBuffer(),ht=require_copyArray(),ft=require_copySymbols(),pt=require_copySymbolsIn(),mt=require_getAllKeys(),gt=require_getAllKeysIn(),yt=require_getTag(),xt=require_initCloneArray(),bt=require_initCloneByTag(),_t=require_initCloneObject(),Ct=requireIsArray$7(),kt=requireIsBuffer(),St=requireIsMap(),Rt=requireIsObject$2(),Tt=requireIsSet(),Mt=requireKeys$3(),Pt=requireKeysIn(),It=1,Lt=2,Ot=4,Ft="[object Arguments]",Ut="[object Array]",Wt="[object Boolean]",Kt="[object Date]",Qt="[object Error]",Zt="[object Function]",Vt="[object GeneratorFunction]",$t="[object Map]",zt="[object Number]",Nt="[object Object]",qt="[object RegExp]",Gt="[object Set]",Ht="[object String]",Xt="[object Symbol]",Bt="[object WeakMap]",nr="[object ArrayBuffer]",rr="[object DataView]",Jt="[object Float32Array]",ir="[object Float64Array]",ar="[object Int8Array]",cr="[object Int16Array]",dr="[object Int32Array]",xr="[object Uint8Array]",br="[object Uint8ClampedArray]",_r="[object Uint16Array]",Er="[object Uint32Array]",Rr={};Rr[Ft]=Rr[Ut]=Rr[nr]=Rr[rr]=Rr[Wt]=Rr[Kt]=Rr[Jt]=Rr[ir]=Rr[ar]=Rr[cr]=Rr[dr]=Rr[$t]=Rr[zt]=Rr[Nt]=Rr[qt]=Rr[Gt]=Rr[Ht]=Rr[Xt]=Rr[xr]=Rr[br]=Rr[_r]=Rr[Er]=!0,Rr[Qt]=Rr[Zt]=Rr[Bt]=!1;function Lr(Mr,Fr,Xr,Jr,Kr,nn){var Qr,Zr=Fr&It,sn=Fr&Lt,yr=Fr&Ot;if(Xr&&(Qr=Kr?Xr(Mr,Jr,Kr,nn):Xr(Mr)),Qr!==void 0)return Qr;if(!Rt(Mr))return Mr;var hr=Ct(Mr);if(hr){if(Qr=xt(Mr),!Zr)return ht(Mr,Qr)}else{var Tr=yt(Mr),Ir=Tr==Zt||Tr==Vt;if(kt(Mr))return ut(Mr,Zr);if(Tr==Nt||Tr==Ft||Ir&&!Kr){if(Qr=sn||Ir?{}:_t(Mr),!Zr)return sn?pt(Mr,ct(Qr,Mr)):ft(Mr,lt(Qr,Mr))}else{if(!Rr[Tr])return Kr?Mr:{};Qr=bt(Mr,Tr,Zr)}}nn||(nn=new Ye);var Dr=nn.get(Mr);if(Dr)return Dr;nn.set(Mr,Qr),Tt(Mr)?Mr.forEach(function(Or){Qr.add(Lr(Or,Fr,Xr,Or,Mr,nn))}):St(Mr)&&Mr.forEach(function(Or,$r){Qr.set($r,Lr(Or,Fr,Xr,$r,Mr,nn))});var jr=yr?sn?gt:mt:sn?Pt:Mt,Br=hr?void 0:jr(Mr);return rt(Br||Mr,function(Or,$r){Br&&($r=Or,Or=Mr[$r]),it(Qr,$r,Lr(Or,Fr,Xr,$r,Mr,nn))}),Qr}return _baseClone=Lr,_baseClone}var cloneDeep_1,hasRequiredCloneDeep;function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var Ye=require_baseClone(),rt=1,it=4;function lt(ct){return Ye(ct,rt|it)}return cloneDeep_1=lt,cloneDeep_1}var cloneDeepExports=requireCloneDeep();const cloneDeep=getDefaultExportFromCjs(cloneDeepExports);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(Ye,rt){module.exports=rt()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(rt){_useWebWorker=!!rt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(rt){locationHref=rt},getLocationHref=function(){return locationHref};function createTag(Ye){return document.createElement(Ye)}function extendPrototype(Ye,rt){var it,lt=Ye.length,ct;for(it=0;it<lt;it+=1){ct=Ye[it].prototype;for(var ut in ct)Object.prototype.hasOwnProperty.call(ct,ut)&&(rt.prototype[ut]=ct[ut])}}function getDescriptor(Ye,rt){return Object.getOwnPropertyDescriptor(Ye,rt)}function createProxyFunction(Ye){function rt(){}return rt.prototype=Ye,rt}var audioControllerFactory=(function(){function Ye(rt){this.audios=[],this.audioFactory=rt,this._volume=1,this._isMuted=!1}return Ye.prototype={addAudio:function(it){this.audios.push(it)},pause:function(){var it,lt=this.audios.length;for(it=0;it<lt;it+=1)this.audios[it].pause()},resume:function(){var it,lt=this.audios.length;for(it=0;it<lt;it+=1)this.audios[it].resume()},setRate:function(it){var lt,ct=this.audios.length;for(lt=0;lt<ct;lt+=1)this.audios[lt].setRate(it)},createAudio:function(it){return this.audioFactory?this.audioFactory(it):window.Howl?new window.Howl({src:[it]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(it){this.audioFactory=it},setVolume:function(it){this._volume=it,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var it,lt=this.audios.length;for(it=0;it<lt;it+=1)this.audios[it].volume(this._volume*(this._isMuted?0:1))}},function(){return new Ye}})(),createTypedArray=(function(){function Ye(it,lt){var ct=0,ut=[],ht;switch(it){case"int16":case"uint8c":ht=1;break;default:ht=1.1;break}for(ct=0;ct<lt;ct+=1)ut.push(ht);return ut}function rt(it,lt){return it==="float32"?new Float32Array(lt):it==="int16"?new Int16Array(lt):it==="uint8c"?new Uint8ClampedArray(lt):Ye(it,lt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?rt:Ye})();function createSizedArray(Ye){return Array.apply(null,{length:Ye})}function _typeof$6(Ye){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$6(Ye)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Ye=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],rt,it=Ye.length;for(rt=0;rt<it;rt+=1)BMMath[Ye[rt]]=Math[Ye[rt]]})(),BMMath.random=Math.random,BMMath.abs=function(Ye){var rt=_typeof$6(Ye);if(rt==="object"&&Ye.length){var it=createSizedArray(Ye.length),lt,ct=Ye.length;for(lt=0;lt<ct;lt+=1)it[lt]=Math.abs(Ye[lt]);return it}return Math.abs(Ye)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Ye){Ye.style.position="absolute",Ye.style.top=0,Ye.style.left=0,Ye.style.display="block",Ye.style.transformOrigin="0 0",Ye.style.webkitTransformOrigin="0 0",Ye.style.backfaceVisibility="visible",Ye.style.webkitBackfaceVisibility="visible",Ye.style.transformStyle="preserve-3d",Ye.style.webkitTransformStyle="preserve-3d",Ye.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Ye,rt,it,lt){this.type=Ye,this.currentTime=rt,this.totalTime=it,this.direction=lt<0?-1:1}function BMCompleteEvent(Ye,rt){this.type=Ye,this.direction=rt<0?-1:1}function BMCompleteLoopEvent(Ye,rt,it,lt){this.type=Ye,this.currentLoop=it,this.totalLoops=rt,this.direction=lt<0?-1:1}function BMSegmentStartEvent(Ye,rt,it){this.type=Ye,this.firstFrame=rt,this.totalFrames=it}function BMDestroyEvent(Ye,rt){this.type=Ye,this.target=rt}function BMRenderFrameErrorEvent(Ye,rt){this.type="renderFrameError",this.nativeError=Ye,this.currentTime=rt}function BMConfigErrorEvent(Ye){this.type="configError",this.nativeError=Ye}var createElementID=(function(){var Ye=0;return function(){return Ye+=1,idPrefix$1+"__lottie_element_"+Ye}})();function HSVtoRGB(Ye,rt,it){var lt,ct,ut,ht,ft,pt,mt,gt;switch(ht=Math.floor(Ye*6),ft=Ye*6-ht,pt=it*(1-rt),mt=it*(1-ft*rt),gt=it*(1-(1-ft)*rt),ht%6){case 0:lt=it,ct=gt,ut=pt;break;case 1:lt=mt,ct=it,ut=pt;break;case 2:lt=pt,ct=it,ut=gt;break;case 3:lt=pt,ct=mt,ut=it;break;case 4:lt=gt,ct=pt,ut=it;break;case 5:lt=it,ct=pt,ut=mt;break}return[lt,ct,ut]}function RGBtoHSV(Ye,rt,it){var lt=Math.max(Ye,rt,it),ct=Math.min(Ye,rt,it),ut=lt-ct,ht,ft=lt===0?0:ut/lt,pt=lt/255;switch(lt){case ct:ht=0;break;case Ye:ht=rt-it+ut*(rt<it?6:0),ht/=6*ut;break;case rt:ht=it-Ye+ut*2,ht/=6*ut;break;case it:ht=Ye-rt+ut*4,ht/=6*ut;break}return[ht,ft,pt]}function addSaturationToRGB(Ye,rt){var it=RGBtoHSV(Ye[0]*255,Ye[1]*255,Ye[2]*255);return it[1]+=rt,it[1]>1?it[1]=1:it[1]<=0&&(it[1]=0),HSVtoRGB(it[0],it[1],it[2])}function addBrightnessToRGB(Ye,rt){var it=RGBtoHSV(Ye[0]*255,Ye[1]*255,Ye[2]*255);return it[2]+=rt,it[2]>1?it[2]=1:it[2]<0&&(it[2]=0),HSVtoRGB(it[0],it[1],it[2])}function addHueToRGB(Ye,rt){var it=RGBtoHSV(Ye[0]*255,Ye[1]*255,Ye[2]*255);return it[0]+=rt/360,it[0]>1?it[0]-=1:it[0]<0&&(it[0]+=1),HSVtoRGB(it[0],it[1],it[2])}var rgbToHex=(function(){var Ye=[],rt,it;for(rt=0;rt<256;rt+=1)it=rt.toString(16),Ye[rt]=it.length===1?"0"+it:it;return function(lt,ct,ut){return lt<0&&(lt=0),ct<0&&(ct=0),ut<0&&(ut=0),"#"+Ye[lt]+Ye[ct]+Ye[ut]}})(),setSubframeEnabled=function(rt){subframeEnabled=!!rt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(rt){expressionsPlugin=rt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(rt){expressionsInterfaces=rt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(rt){defaultCurveSegments=rt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(rt){idPrefix$1=rt};function createNS(Ye){return document.createElementNS(svgNS,Ye)}function _typeof$5(Ye){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$5(Ye)}var dataManager=(function(){var Ye=1,rt=[],it,lt,ct={onmessage:function(){},postMessage:function(bt){it({data:bt})}},ut={postMessage:function(bt){ct.onmessage({data:bt})}};function ht(xt){if(window.Worker&&window.Blob&&getWebWorker()){var bt=new Blob(["var _workerSelf = self; self.onmessage = ",xt.toString()],{type:"text/javascript"}),_t=URL.createObjectURL(bt);return new Worker(_t)}return it=xt,ct}function ft(){lt||(lt=ht(function(bt){function _t(){function kt(Vt,$t){var zt,Nt,qt=Vt.length,Gt,Ht,Xt,Bt;for(Nt=0;Nt<qt;Nt+=1)if(zt=Vt[Nt],"ks"in zt&&!zt.completed){if(zt.completed=!0,zt.hasMask){var nr=zt.masksProperties;for(Ht=nr.length,Gt=0;Gt<Ht;Gt+=1)if(nr[Gt].pt.k.i)Pt(nr[Gt].pt.k);else for(Bt=nr[Gt].pt.k.length,Xt=0;Xt<Bt;Xt+=1)nr[Gt].pt.k[Xt].s&&Pt(nr[Gt].pt.k[Xt].s[0]),nr[Gt].pt.k[Xt].e&&Pt(nr[Gt].pt.k[Xt].e[0])}zt.ty===0?(zt.layers=Tt(zt.refId,$t),kt(zt.layers,$t)):zt.ty===4?Mt(zt.shapes):zt.ty===5&&Qt(zt)}}function St(Vt,$t){if(Vt){var zt=0,Nt=Vt.length;for(zt=0;zt<Nt;zt+=1)Vt[zt].t===1&&(Vt[zt].data.layers=Tt(Vt[zt].data.refId,$t),kt(Vt[zt].data.layers,$t))}}function Rt(Vt,$t){for(var zt=0,Nt=$t.length;zt<Nt;){if($t[zt].id===Vt)return $t[zt];zt+=1}return null}function Tt(Vt,$t){var zt=Rt(Vt,$t);return zt?zt.layers.__used?JSON.parse(JSON.stringify(zt.layers)):(zt.layers.__used=!0,zt.layers):null}function Mt(Vt){var $t,zt=Vt.length,Nt,qt;for($t=zt-1;$t>=0;$t-=1)if(Vt[$t].ty==="sh")if(Vt[$t].ks.k.i)Pt(Vt[$t].ks.k);else for(qt=Vt[$t].ks.k.length,Nt=0;Nt<qt;Nt+=1)Vt[$t].ks.k[Nt].s&&Pt(Vt[$t].ks.k[Nt].s[0]),Vt[$t].ks.k[Nt].e&&Pt(Vt[$t].ks.k[Nt].e[0]);else Vt[$t].ty==="gr"&&Mt(Vt[$t].it)}function Pt(Vt){var $t,zt=Vt.i.length;for($t=0;$t<zt;$t+=1)Vt.i[$t][0]+=Vt.v[$t][0],Vt.i[$t][1]+=Vt.v[$t][1],Vt.o[$t][0]+=Vt.v[$t][0],Vt.o[$t][1]+=Vt.v[$t][1]}function It(Vt,$t){var zt=$t?$t.split("."):[100,100,100];return Vt[0]>zt[0]?!0:zt[0]>Vt[0]?!1:Vt[1]>zt[1]?!0:zt[1]>Vt[1]?!1:Vt[2]>zt[2]?!0:zt[2]>Vt[2]?!1:null}var Lt=(function(){var Vt=[4,4,14];function $t(Nt){var qt=Nt.t.d;Nt.t.d={k:[{s:qt,t:0}]}}function zt(Nt){var qt,Gt=Nt.length;for(qt=0;qt<Gt;qt+=1)Nt[qt].ty===5&&$t(Nt[qt])}return function(Nt){if(It(Vt,Nt.v)&&(zt(Nt.layers),Nt.assets)){var qt,Gt=Nt.assets.length;for(qt=0;qt<Gt;qt+=1)Nt.assets[qt].layers&&zt(Nt.assets[qt].layers)}}})(),Ot=(function(){var Vt=[4,7,99];return function($t){if($t.chars&&!It(Vt,$t.v)){var zt,Nt=$t.chars.length;for(zt=0;zt<Nt;zt+=1){var qt=$t.chars[zt];qt.data&&qt.data.shapes&&(Mt(qt.data.shapes),qt.data.ip=0,qt.data.op=99999,qt.data.st=0,qt.data.sr=1,qt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},$t.chars[zt].t||(qt.data.shapes.push({ty:"no"}),qt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),Ft=(function(){var Vt=[5,7,15];function $t(Nt){var qt=Nt.t.p;typeof qt.a=="number"&&(qt.a={a:0,k:qt.a}),typeof qt.p=="number"&&(qt.p={a:0,k:qt.p}),typeof qt.r=="number"&&(qt.r={a:0,k:qt.r})}function zt(Nt){var qt,Gt=Nt.length;for(qt=0;qt<Gt;qt+=1)Nt[qt].ty===5&&$t(Nt[qt])}return function(Nt){if(It(Vt,Nt.v)&&(zt(Nt.layers),Nt.assets)){var qt,Gt=Nt.assets.length;for(qt=0;qt<Gt;qt+=1)Nt.assets[qt].layers&&zt(Nt.assets[qt].layers)}}})(),Ut=(function(){var Vt=[4,1,9];function $t(Nt){var qt,Gt=Nt.length,Ht,Xt;for(qt=0;qt<Gt;qt+=1)if(Nt[qt].ty==="gr")$t(Nt[qt].it);else if(Nt[qt].ty==="fl"||Nt[qt].ty==="st")if(Nt[qt].c.k&&Nt[qt].c.k[0].i)for(Xt=Nt[qt].c.k.length,Ht=0;Ht<Xt;Ht+=1)Nt[qt].c.k[Ht].s&&(Nt[qt].c.k[Ht].s[0]/=255,Nt[qt].c.k[Ht].s[1]/=255,Nt[qt].c.k[Ht].s[2]/=255,Nt[qt].c.k[Ht].s[3]/=255),Nt[qt].c.k[Ht].e&&(Nt[qt].c.k[Ht].e[0]/=255,Nt[qt].c.k[Ht].e[1]/=255,Nt[qt].c.k[Ht].e[2]/=255,Nt[qt].c.k[Ht].e[3]/=255);else Nt[qt].c.k[0]/=255,Nt[qt].c.k[1]/=255,Nt[qt].c.k[2]/=255,Nt[qt].c.k[3]/=255}function zt(Nt){var qt,Gt=Nt.length;for(qt=0;qt<Gt;qt+=1)Nt[qt].ty===4&&$t(Nt[qt].shapes)}return function(Nt){if(It(Vt,Nt.v)&&(zt(Nt.layers),Nt.assets)){var qt,Gt=Nt.assets.length;for(qt=0;qt<Gt;qt+=1)Nt.assets[qt].layers&&zt(Nt.assets[qt].layers)}}})(),Wt=(function(){var Vt=[4,4,18];function $t(Nt){var qt,Gt=Nt.length,Ht,Xt;for(qt=Gt-1;qt>=0;qt-=1)if(Nt[qt].ty==="sh")if(Nt[qt].ks.k.i)Nt[qt].ks.k.c=Nt[qt].closed;else for(Xt=Nt[qt].ks.k.length,Ht=0;Ht<Xt;Ht+=1)Nt[qt].ks.k[Ht].s&&(Nt[qt].ks.k[Ht].s[0].c=Nt[qt].closed),Nt[qt].ks.k[Ht].e&&(Nt[qt].ks.k[Ht].e[0].c=Nt[qt].closed);else Nt[qt].ty==="gr"&&$t(Nt[qt].it)}function zt(Nt){var qt,Gt,Ht=Nt.length,Xt,Bt,nr,rr;for(Gt=0;Gt<Ht;Gt+=1){if(qt=Nt[Gt],qt.hasMask){var Jt=qt.masksProperties;for(Bt=Jt.length,Xt=0;Xt<Bt;Xt+=1)if(Jt[Xt].pt.k.i)Jt[Xt].pt.k.c=Jt[Xt].cl;else for(rr=Jt[Xt].pt.k.length,nr=0;nr<rr;nr+=1)Jt[Xt].pt.k[nr].s&&(Jt[Xt].pt.k[nr].s[0].c=Jt[Xt].cl),Jt[Xt].pt.k[nr].e&&(Jt[Xt].pt.k[nr].e[0].c=Jt[Xt].cl)}qt.ty===4&&$t(qt.shapes)}}return function(Nt){if(It(Vt,Nt.v)&&(zt(Nt.layers),Nt.assets)){var qt,Gt=Nt.assets.length;for(qt=0;qt<Gt;qt+=1)Nt.assets[qt].layers&&zt(Nt.assets[qt].layers)}}})();function Kt(Vt){Vt.__complete||(Ut(Vt),Lt(Vt),Ot(Vt),Ft(Vt),Wt(Vt),kt(Vt.layers,Vt.assets),St(Vt.chars,Vt.assets),Vt.__complete=!0)}function Qt(Vt){Vt.t.a.length===0&&"m"in Vt.t.p}var Zt={};return Zt.completeData=Kt,Zt.checkColors=Ut,Zt.checkChars=Ot,Zt.checkPathProperties=Ft,Zt.checkShapes=Wt,Zt.completeLayers=kt,Zt}if(ut.dataManager||(ut.dataManager=_t()),ut.assetLoader||(ut.assetLoader=(function(){function kt(Rt){var Tt=Rt.getResponseHeader("content-type");return Tt&&Rt.responseType==="json"&&Tt.indexOf("json")!==-1||Rt.response&&_typeof$5(Rt.response)==="object"?Rt.response:Rt.response&&typeof Rt.response=="string"?JSON.parse(Rt.response):Rt.responseText?JSON.parse(Rt.responseText):null}function St(Rt,Tt,Mt,Pt){var It,Lt=new XMLHttpRequest;try{Lt.responseType="json"}catch{}Lt.onreadystatechange=function(){if(Lt.readyState===4)if(Lt.status===200)It=kt(Lt),Mt(It);else try{It=kt(Lt),Mt(It)}catch(Ot){Pt&&Pt(Ot)}};try{Lt.open(["G","E","T"].join(""),Rt,!0)}catch{Lt.open(["G","E","T"].join(""),Tt+"/"+Rt,!0)}Lt.send()}return{load:St}})()),bt.data.type==="loadAnimation")ut.assetLoader.load(bt.data.path,bt.data.fullPath,function(kt){ut.dataManager.completeData(kt),ut.postMessage({id:bt.data.id,payload:kt,status:"success"})},function(){ut.postMessage({id:bt.data.id,status:"error"})});else if(bt.data.type==="complete"){var Ct=bt.data.animation;ut.dataManager.completeData(Ct),ut.postMessage({id:bt.data.id,payload:Ct,status:"success"})}else bt.data.type==="loadData"&&ut.assetLoader.load(bt.data.path,bt.data.fullPath,function(kt){ut.postMessage({id:bt.data.id,payload:kt,status:"success"})},function(){ut.postMessage({id:bt.data.id,status:"error"})})}),lt.onmessage=function(xt){var bt=xt.data,_t=bt.id,Ct=rt[_t];rt[_t]=null,bt.status==="success"?Ct.onComplete(bt.payload):Ct.onError&&Ct.onError()})}function pt(xt,bt){Ye+=1;var _t="processId_"+Ye;return rt[_t]={onComplete:xt,onError:bt},_t}function mt(xt,bt,_t){ft();var Ct=pt(bt,_t);lt.postMessage({type:"loadAnimation",path:xt,fullPath:window.location.origin+window.location.pathname,id:Ct})}function gt(xt,bt,_t){ft();var Ct=pt(bt,_t);lt.postMessage({type:"loadData",path:xt,fullPath:window.location.origin+window.location.pathname,id:Ct})}function yt(xt,bt,_t){ft();var Ct=pt(bt,_t);lt.postMessage({type:"complete",animation:xt,id:Ct})}return{loadAnimation:mt,loadData:gt,completeAnimation:yt}})(),ImagePreloader=(function(){var Ye=(function(){var St=createTag("canvas");St.width=1,St.height=1;var Rt=St.getContext("2d");return Rt.fillStyle="rgba(0,0,0,0)",Rt.fillRect(0,0,1,1),St})();function rt(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function it(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function lt(St,Rt,Tt){var Mt="";if(St.e)Mt=St.p;else if(Rt){var Pt=St.p;Pt.indexOf("images/")!==-1&&(Pt=Pt.split("/")[1]),Mt=Rt+Pt}else Mt=Tt,Mt+=St.u?St.u:"",Mt+=St.p;return Mt}function ct(St){var Rt=0,Tt=setInterval((function(){var Mt=St.getBBox();(Mt.width||Rt>500)&&(this._imageLoaded(),clearInterval(Tt)),Rt+=1}).bind(this),50)}function ut(St){var Rt=lt(St,this.assetsPath,this.path),Tt=createNS("image");isSafari?this.testImageLoaded(Tt):Tt.addEventListener("load",this._imageLoaded,!1),Tt.addEventListener("error",(function(){Mt.img=Ye,this._imageLoaded()}).bind(this),!1),Tt.setAttributeNS("http://www.w3.org/1999/xlink","href",Rt),this._elementHelper.append?this._elementHelper.append(Tt):this._elementHelper.appendChild(Tt);var Mt={img:Tt,assetData:St};return Mt}function ht(St){var Rt=lt(St,this.assetsPath,this.path),Tt=createTag("img");Tt.crossOrigin="anonymous",Tt.addEventListener("load",this._imageLoaded,!1),Tt.addEventListener("error",(function(){Mt.img=Ye,this._imageLoaded()}).bind(this),!1),Tt.src=Rt;var Mt={img:Tt,assetData:St};return Mt}function ft(St){var Rt={assetData:St},Tt=lt(St,this.assetsPath,this.path);return dataManager.loadData(Tt,(function(Mt){Rt.img=Mt,this._footageLoaded()}).bind(this),(function(){Rt.img={},this._footageLoaded()}).bind(this)),Rt}function pt(St,Rt){this.imagesLoadedCb=Rt;var Tt,Mt=St.length;for(Tt=0;Tt<Mt;Tt+=1)St[Tt].layers||(!St[Tt].t||St[Tt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(St[Tt]))):St[Tt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(St[Tt]))))}function mt(St){this.path=St||""}function gt(St){this.assetsPath=St||""}function yt(St){for(var Rt=0,Tt=this.images.length;Rt<Tt;){if(this.images[Rt].assetData===St)return this.images[Rt].img;Rt+=1}return null}function xt(){this.imagesLoadedCb=null,this.images.length=0}function bt(){return this.totalImages===this.loadedAssets}function _t(){return this.totalFootages===this.loadedFootagesCount}function Ct(St,Rt){St==="svg"?(this._elementHelper=Rt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function kt(){this._imageLoaded=rt.bind(this),this._footageLoaded=it.bind(this),this.testImageLoaded=ct.bind(this),this.createFootageData=ft.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return kt.prototype={loadAssets:pt,setAssetsPath:gt,setPath:mt,loadedImages:bt,loadedFootages:_t,destroy:xt,getAsset:yt,createImgData:ht,createImageData:ut,imageLoaded:rt,footageLoaded:it,setCacheType:Ct},kt})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(rt,it){if(this._cbs[rt])for(var lt=this._cbs[rt],ct=0;ct<lt.length;ct+=1)lt[ct](it)},addEventListener:function(rt,it){return this._cbs[rt]||(this._cbs[rt]=[]),this._cbs[rt].push(it),(function(){this.removeEventListener(rt,it)}).bind(this)},removeEventListener:function(rt,it){if(!it)this._cbs[rt]=null;else if(this._cbs[rt]){for(var lt=0,ct=this._cbs[rt].length;lt<ct;)this._cbs[rt][lt]===it&&(this._cbs[rt].splice(lt,1),lt-=1,ct-=1),lt+=1;this._cbs[rt].length||(this._cbs[rt]=null)}}};var markerParser=(function(){function Ye(rt){for(var it=rt.split(`\r
`),lt={},ct,ut=0,ht=0;ht<it.length;ht+=1)ct=it[ht].split(":"),ct.length===2&&(lt[ct[0]]=ct[1].trim(),ut+=1);if(ut===0)throw new Error;return lt}return function(rt){for(var it=[],lt=0;lt<rt.length;lt+=1){var ct=rt[lt],ut={time:ct.tm,duration:ct.dr};try{ut.payload=JSON.parse(rt[lt].cm)}catch{try{ut.payload=Ye(rt[lt].cm)}catch{ut.payload={name:rt[lt].cm}}}it.push(ut)}return it}})(),ProjectInterface=(function(){function Ye(rt){this.compositions.push(rt)}return function(){function rt(it){for(var lt=0,ct=this.compositions.length;lt<ct;){if(this.compositions[lt].data&&this.compositions[lt].data.nm===it)return this.compositions[lt].prepareFrame&&this.compositions[lt].data.xt&&this.compositions[lt].prepareFrame(this.currentFrame),this.compositions[lt].compInterface;lt+=1}return null}return rt.compositions=[],rt.currentFrame=0,rt.registerComposition=Ye,rt}})(),renderers={},registerRenderer=function(rt,it){renderers[rt]=it};function getRenderer(Ye){return renderers[Ye]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Ye in renderers)if(renderers[Ye])return Ye;return""}function _typeof$4(Ye){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$4(Ye)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Ye){(Ye.wrapper||Ye.container)&&(this.wrapper=Ye.wrapper||Ye.container);var rt="svg";Ye.animType?rt=Ye.animType:Ye.renderer&&(rt=Ye.renderer);var it=getRenderer(rt);this.renderer=new it(this,Ye.rendererSettings),this.imagePreloader.setCacheType(rt,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=rt,Ye.loop===""||Ye.loop===null||Ye.loop===void 0||Ye.loop===!0?this.loop=!0:Ye.loop===!1?this.loop=!1:this.loop=parseInt(Ye.loop,10),this.autoplay="autoplay"in Ye?Ye.autoplay:!0,this.name=Ye.name?Ye.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Ye,"autoloadSegments")?Ye.autoloadSegments:!0,this.assetsPath=Ye.assetsPath,this.initialSegment=Ye.initialSegment,Ye.audioFactory&&this.audioController.setAudioFactory(Ye.audioFactory),Ye.animationData?this.setupAnimation(Ye.animationData):Ye.path&&(Ye.path.lastIndexOf("\\")!==-1?this.path=Ye.path.substr(0,Ye.path.lastIndexOf("\\")+1):this.path=Ye.path.substr(0,Ye.path.lastIndexOf("/")+1),this.fileName=Ye.path.substr(Ye.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Ye.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Ye){dataManager.completeAnimation(Ye,this.configAnimation)},AnimationItem.prototype.setData=function(Ye,rt){rt&&_typeof$4(rt)!=="object"&&(rt=JSON.parse(rt));var it={wrapper:Ye,animationData:rt},lt=Ye.attributes;it.path=lt.getNamedItem("data-animation-path")?lt.getNamedItem("data-animation-path").value:lt.getNamedItem("data-bm-path")?lt.getNamedItem("data-bm-path").value:lt.getNamedItem("bm-path")?lt.getNamedItem("bm-path").value:"",it.animType=lt.getNamedItem("data-anim-type")?lt.getNamedItem("data-anim-type").value:lt.getNamedItem("data-bm-type")?lt.getNamedItem("data-bm-type").value:lt.getNamedItem("bm-type")?lt.getNamedItem("bm-type").value:lt.getNamedItem("data-bm-renderer")?lt.getNamedItem("data-bm-renderer").value:lt.getNamedItem("bm-renderer")?lt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var ct=lt.getNamedItem("data-anim-loop")?lt.getNamedItem("data-anim-loop").value:lt.getNamedItem("data-bm-loop")?lt.getNamedItem("data-bm-loop").value:lt.getNamedItem("bm-loop")?lt.getNamedItem("bm-loop").value:"";ct==="false"?it.loop=!1:ct==="true"?it.loop=!0:ct!==""&&(it.loop=parseInt(ct,10));var ut=lt.getNamedItem("data-anim-autoplay")?lt.getNamedItem("data-anim-autoplay").value:lt.getNamedItem("data-bm-autoplay")?lt.getNamedItem("data-bm-autoplay").value:lt.getNamedItem("bm-autoplay")?lt.getNamedItem("bm-autoplay").value:!0;it.autoplay=ut!=="false",it.name=lt.getNamedItem("data-name")?lt.getNamedItem("data-name").value:lt.getNamedItem("data-bm-name")?lt.getNamedItem("data-bm-name").value:lt.getNamedItem("bm-name")?lt.getNamedItem("bm-name").value:"";var ht=lt.getNamedItem("data-anim-prerender")?lt.getNamedItem("data-anim-prerender").value:lt.getNamedItem("data-bm-prerender")?lt.getNamedItem("data-bm-prerender").value:lt.getNamedItem("bm-prerender")?lt.getNamedItem("bm-prerender").value:"";ht==="false"&&(it.prerender=!1),it.path?this.setParams(it):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Ye){Ye.op>this.animationData.op&&(this.animationData.op=Ye.op,this.totalFrames=Math.floor(Ye.op-this.animationData.ip));var rt=this.animationData.layers,it,lt=rt.length,ct=Ye.layers,ut,ht=ct.length;for(ut=0;ut<ht;ut+=1)for(it=0;it<lt;){if(rt[it].id===ct[ut].id){rt[it]=ct[ut];break}it+=1}if((Ye.chars||Ye.fonts)&&(this.renderer.globalData.fontManager.addChars(Ye.chars),this.renderer.globalData.fontManager.addFonts(Ye.fonts,this.renderer.globalData.defs)),Ye.assets)for(lt=Ye.assets.length,it=0;it<lt;it+=1)this.animationData.assets.push(Ye.assets[it]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Ye){this.animationData=Ye;var rt=getExpressionsPlugin();rt&&rt.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Ye=this.animationData.segments;if(!Ye||Ye.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var rt=Ye.shift();this.timeCompleted=rt.time*this.frameRate;var it=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(it,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Ye=this.animationData.segments;Ye||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Ye){if(this.renderer)try{this.animationData=Ye,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Ye),Ye.assets||(Ye.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Ye.assets),this.markers=markerParser(Ye.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(rt){this.triggerConfigError(rt)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Ye=getExpressionsPlugin();Ye&&Ye.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Ye,rt){var it=typeof Ye=="number"?Ye:void 0,lt=typeof rt=="number"?rt:void 0;this.renderer.updateContainerSize(it,lt)},AnimationItem.prototype.setSubframe=function(Ye){this.isSubframeEnabled=!!Ye},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Ye){this.triggerRenderFrameError(Ye)}},AnimationItem.prototype.play=function(Ye){Ye&&this.name!==Ye||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Ye){Ye&&this.name!==Ye||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Ye){Ye&&this.name!==Ye||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Ye){Ye&&this.name!==Ye||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Ye){for(var rt,it=0;it<this.markers.length;it+=1)if(rt=this.markers[it],rt.payload&&rt.payload.name===Ye)return rt;return null},AnimationItem.prototype.goToAndStop=function(Ye,rt,it){if(!(it&&this.name!==it)){var lt=Number(Ye);if(isNaN(lt)){var ct=this.getMarkerData(Ye);ct&&this.goToAndStop(ct.time,!0)}else rt?this.setCurrentRawFrameValue(Ye):this.setCurrentRawFrameValue(Ye*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Ye,rt,it){if(!(it&&this.name!==it)){var lt=Number(Ye);if(isNaN(lt)){var ct=this.getMarkerData(Ye);ct&&(ct.duration?this.playSegments([ct.time,ct.time+ct.duration],!0):this.goToAndStop(ct.time,!0))}else this.goToAndStop(lt,rt,it);this.play()}},AnimationItem.prototype.advanceTime=function(Ye){if(!(this.isPaused===!0||this.isLoaded===!1)){var rt=this.currentRawFrame+Ye*this.frameModifier,it=!1;rt>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(rt>this.totalFrames?rt%this.totalFrames:0)||(it=!0,rt=this.totalFrames-1):rt>=this.totalFrames?(this.playCount+=1,this.checkSegments(rt%this.totalFrames)||(this.setCurrentRawFrameValue(rt%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(rt):rt<0?this.checkSegments(rt%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+rt%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(it=!0,rt=0)):this.setCurrentRawFrameValue(rt),it&&(this.setCurrentRawFrameValue(rt),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Ye,rt){this.playCount=0,Ye[1]<Ye[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Ye[0]-Ye[1],this.timeCompleted=this.totalFrames,this.firstFrame=Ye[1],this.setCurrentRawFrameValue(this.totalFrames-.001-rt)):Ye[1]>Ye[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Ye[1]-Ye[0],this.timeCompleted=this.totalFrames,this.firstFrame=Ye[0],this.setCurrentRawFrameValue(.001+rt)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Ye,rt){var it=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Ye?it=Ye:this.currentRawFrame+this.firstFrame>rt&&(it=rt-Ye)),this.firstFrame=Ye,this.totalFrames=rt-Ye,this.timeCompleted=this.totalFrames,it!==-1&&this.goToAndStop(it,!0)},AnimationItem.prototype.playSegments=function(Ye,rt){if(rt&&(this.segments.length=0),_typeof$4(Ye[0])==="object"){var it,lt=Ye.length;for(it=0;it<lt;it+=1)this.segments.push(Ye[it])}else this.segments.push(Ye);this.segments.length&&rt&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Ye){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Ye&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Ye){return this.segments.length?(this.adjustSegment(this.segments.shift(),Ye),!0):!1},AnimationItem.prototype.destroy=function(Ye){Ye&&this.name!==Ye||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Ye){this.currentRawFrame=Ye,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Ye){this.playSpeed=Ye,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Ye){this.playDirection=Ye<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Ye){this.loop=Ye},AnimationItem.prototype.setVolume=function(Ye,rt){rt&&this.name!==rt||this.audioController.setVolume(Ye)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Ye){Ye&&this.name!==Ye||this.audioController.mute()},AnimationItem.prototype.unmute=function(Ye){Ye&&this.name!==Ye||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Ye){var rt="";if(Ye.e)rt=Ye.p;else if(this.assetsPath){var it=Ye.p;it.indexOf("images/")!==-1&&(it=it.split("/")[1]),rt=this.assetsPath+it}else rt=this.path,rt+=Ye.u?Ye.u:"",rt+=Ye.p;return rt},AnimationItem.prototype.getAssetData=function(Ye){for(var rt=0,it=this.assets.length;rt<it;){if(Ye===this.assets[rt].id)return this.assets[rt];rt+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Ye){return Ye?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Ye,rt,it){try{var lt=this.renderer.getElementByPath(Ye);lt.updateDocumentData(rt,it)}catch{}},AnimationItem.prototype.trigger=function(Ye){if(this._cbs&&this._cbs[Ye])switch(Ye){case"enterFrame":this.triggerEvent(Ye,new BMEnterFrameEvent(Ye,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Ye,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Ye,new BMCompleteLoopEvent(Ye,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Ye,new BMCompleteEvent(Ye,this.frameMult));break;case"segmentStart":this.triggerEvent(Ye,new BMSegmentStartEvent(Ye,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Ye,new BMDestroyEvent(Ye,this));break;default:this.triggerEvent(Ye)}Ye==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Ye,this.currentFrame,this.totalFrames,this.frameMult)),Ye==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Ye,this.loop,this.playCount,this.frameMult)),Ye==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Ye,this.frameMult)),Ye==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Ye,this.firstFrame,this.totalFrames)),Ye==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Ye,this))},AnimationItem.prototype.triggerRenderFrameError=function(Ye){var rt=new BMRenderFrameErrorEvent(Ye,this.currentFrame);this.triggerEvent("error",rt),this.onError&&this.onError.call(this,rt)},AnimationItem.prototype.triggerConfigError=function(Ye){var rt=new BMConfigErrorEvent(Ye,this.currentFrame);this.triggerEvent("error",rt),this.onError&&this.onError.call(this,rt)};var animationManager=(function(){var Ye={},rt=[],it=0,lt=0,ct=0,ut=!0,ht=!1;function ft($t){for(var zt=0,Nt=$t.target;zt<lt;)rt[zt].animation===Nt&&(rt.splice(zt,1),zt-=1,lt-=1,Nt.isPaused||yt()),zt+=1}function pt($t,zt){if(!$t)return null;for(var Nt=0;Nt<lt;){if(rt[Nt].elem===$t&&rt[Nt].elem!==null)return rt[Nt].animation;Nt+=1}var qt=new AnimationItem;return xt(qt,$t),qt.setData($t,zt),qt}function mt(){var $t,zt=rt.length,Nt=[];for($t=0;$t<zt;$t+=1)Nt.push(rt[$t].animation);return Nt}function gt(){ct+=1,Ut()}function yt(){ct-=1}function xt($t,zt){$t.addEventListener("destroy",ft),$t.addEventListener("_active",gt),$t.addEventListener("_idle",yt),rt.push({elem:zt,animation:$t}),lt+=1}function bt($t){var zt=new AnimationItem;return xt(zt,null),zt.setParams($t),zt}function _t($t,zt){var Nt;for(Nt=0;Nt<lt;Nt+=1)rt[Nt].animation.setSpeed($t,zt)}function Ct($t,zt){var Nt;for(Nt=0;Nt<lt;Nt+=1)rt[Nt].animation.setDirection($t,zt)}function kt($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.play($t)}function St($t){var zt=$t-it,Nt;for(Nt=0;Nt<lt;Nt+=1)rt[Nt].animation.advanceTime(zt);it=$t,ct&&!ht?window.requestAnimationFrame(St):ut=!0}function Rt($t){it=$t,window.requestAnimationFrame(St)}function Tt($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.pause($t)}function Mt($t,zt,Nt){var qt;for(qt=0;qt<lt;qt+=1)rt[qt].animation.goToAndStop($t,zt,Nt)}function Pt($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.stop($t)}function It($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.togglePause($t)}function Lt($t){var zt;for(zt=lt-1;zt>=0;zt-=1)rt[zt].animation.destroy($t)}function Ot($t,zt,Nt){var qt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Gt,Ht=qt.length;for(Gt=0;Gt<Ht;Gt+=1)Nt&&qt[Gt].setAttribute("data-bm-type",Nt),pt(qt[Gt],$t);if(zt&&Ht===0){Nt||(Nt="svg");var Xt=document.getElementsByTagName("body")[0];Xt.innerText="";var Bt=createTag("div");Bt.style.width="100%",Bt.style.height="100%",Bt.setAttribute("data-bm-type",Nt),Xt.appendChild(Bt),pt(Bt,$t)}}function Ft(){var $t;for($t=0;$t<lt;$t+=1)rt[$t].animation.resize()}function Ut(){!ht&&ct&&ut&&(window.requestAnimationFrame(Rt),ut=!1)}function Wt(){ht=!0}function Kt(){ht=!1,Ut()}function Qt($t,zt){var Nt;for(Nt=0;Nt<lt;Nt+=1)rt[Nt].animation.setVolume($t,zt)}function Zt($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.mute($t)}function Vt($t){var zt;for(zt=0;zt<lt;zt+=1)rt[zt].animation.unmute($t)}return Ye.registerAnimation=pt,Ye.loadAnimation=bt,Ye.setSpeed=_t,Ye.setDirection=Ct,Ye.play=kt,Ye.pause=Tt,Ye.stop=Pt,Ye.togglePause=It,Ye.searchAnimations=Ot,Ye.resize=Ft,Ye.goToAndStop=Mt,Ye.destroy=Lt,Ye.freeze=Wt,Ye.unfreeze=Kt,Ye.setVolume=Qt,Ye.mute=Zt,Ye.unmute=Vt,Ye.getRegisteredAnimations=mt,Ye})(),BezierFactory=(function(){var Ye={};Ye.getBezierEasing=it;var rt={};function it(Rt,Tt,Mt,Pt,It){var Lt=It||("bez_"+Rt+"_"+Tt+"_"+Mt+"_"+Pt).replace(/\./g,"p");if(rt[Lt])return rt[Lt];var Ot=new St([Rt,Tt,Mt,Pt]);return rt[Lt]=Ot,Ot}var lt=4,ct=.001,ut=1e-7,ht=10,ft=11,pt=1/(ft-1),mt=typeof Float32Array=="function";function gt(Rt,Tt){return 1-3*Tt+3*Rt}function yt(Rt,Tt){return 3*Tt-6*Rt}function xt(Rt){return 3*Rt}function bt(Rt,Tt,Mt){return((gt(Tt,Mt)*Rt+yt(Tt,Mt))*Rt+xt(Tt))*Rt}function _t(Rt,Tt,Mt){return 3*gt(Tt,Mt)*Rt*Rt+2*yt(Tt,Mt)*Rt+xt(Tt)}function Ct(Rt,Tt,Mt,Pt,It){var Lt,Ot,Ft=0;do Ot=Tt+(Mt-Tt)/2,Lt=bt(Ot,Pt,It)-Rt,Lt>0?Mt=Ot:Tt=Ot;while(Math.abs(Lt)>ut&&++Ft<ht);return Ot}function kt(Rt,Tt,Mt,Pt){for(var It=0;It<lt;++It){var Lt=_t(Tt,Mt,Pt);if(Lt===0)return Tt;var Ot=bt(Tt,Mt,Pt)-Rt;Tt-=Ot/Lt}return Tt}function St(Rt){this._p=Rt,this._mSampleValues=mt?new Float32Array(ft):new Array(ft),this._precomputed=!1,this.get=this.get.bind(this)}return St.prototype={get:function(Tt){var Mt=this._p[0],Pt=this._p[1],It=this._p[2],Lt=this._p[3];return this._precomputed||this._precompute(),Mt===Pt&&It===Lt?Tt:Tt===0?0:Tt===1?1:bt(this._getTForX(Tt),Pt,Lt)},_precompute:function(){var Tt=this._p[0],Mt=this._p[1],Pt=this._p[2],It=this._p[3];this._precomputed=!0,(Tt!==Mt||Pt!==It)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Tt=this._p[0],Mt=this._p[2],Pt=0;Pt<ft;++Pt)this._mSampleValues[Pt]=bt(Pt*pt,Tt,Mt)},_getTForX:function(Tt){for(var Mt=this._p[0],Pt=this._p[2],It=this._mSampleValues,Lt=0,Ot=1,Ft=ft-1;Ot!==Ft&&It[Ot]<=Tt;++Ot)Lt+=pt;--Ot;var Ut=(Tt-It[Ot])/(It[Ot+1]-It[Ot]),Wt=Lt+Ut*pt,Kt=_t(Wt,Mt,Pt);return Kt>=ct?kt(Tt,Wt,Mt,Pt):Kt===0?Wt:Ct(Tt,Lt,Lt+pt,Mt,Pt)}},Ye})(),pooling=(function(){function Ye(rt){return rt.concat(createSizedArray(rt.length))}return{double:Ye}})(),poolFactory=(function(){return function(Ye,rt,it){var lt=0,ct=Ye,ut=createSizedArray(ct),ht={newElement:ft,release:pt};function ft(){var mt;return lt?(lt-=1,mt=ut[lt]):mt=rt(),mt}function pt(mt){lt===ct&&(ut=pooling.double(ut),ct*=2),it&&it(mt),ut[lt]=mt,lt+=1}return ht}})(),bezierLengthPool=(function(){function Ye(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Ye)})(),segmentsLengthPool=(function(){function Ye(){return{lengths:[],totalLength:0}}function rt(it){var lt,ct=it.lengths.length;for(lt=0;lt<ct;lt+=1)bezierLengthPool.release(it.lengths[lt]);it.lengths.length=0}return poolFactory(8,Ye,rt)})();function bezFunction(){var Ye=Math;function rt(xt,bt,_t,Ct,kt,St){var Rt=xt*Ct+bt*kt+_t*St-kt*Ct-St*xt-_t*bt;return Rt>-.001&&Rt<.001}function it(xt,bt,_t,Ct,kt,St,Rt,Tt,Mt){if(_t===0&&St===0&&Mt===0)return rt(xt,bt,Ct,kt,Rt,Tt);var Pt=Ye.sqrt(Ye.pow(Ct-xt,2)+Ye.pow(kt-bt,2)+Ye.pow(St-_t,2)),It=Ye.sqrt(Ye.pow(Rt-xt,2)+Ye.pow(Tt-bt,2)+Ye.pow(Mt-_t,2)),Lt=Ye.sqrt(Ye.pow(Rt-Ct,2)+Ye.pow(Tt-kt,2)+Ye.pow(Mt-St,2)),Ot;return Pt>It?Pt>Lt?Ot=Pt-It-Lt:Ot=Lt-It-Pt:Lt>It?Ot=Lt-It-Pt:Ot=It-Pt-Lt,Ot>-1e-4&&Ot<1e-4}var lt=(function(){return function(xt,bt,_t,Ct){var kt=getDefaultCurveSegments(),St,Rt,Tt,Mt,Pt,It=0,Lt,Ot=[],Ft=[],Ut=bezierLengthPool.newElement();for(Tt=_t.length,St=0;St<kt;St+=1){for(Pt=St/(kt-1),Lt=0,Rt=0;Rt<Tt;Rt+=1)Mt=bmPow(1-Pt,3)*xt[Rt]+3*bmPow(1-Pt,2)*Pt*_t[Rt]+3*(1-Pt)*bmPow(Pt,2)*Ct[Rt]+bmPow(Pt,3)*bt[Rt],Ot[Rt]=Mt,Ft[Rt]!==null&&(Lt+=bmPow(Ot[Rt]-Ft[Rt],2)),Ft[Rt]=Ot[Rt];Lt&&(Lt=bmSqrt(Lt),It+=Lt),Ut.percents[St]=Pt,Ut.lengths[St]=It}return Ut.addedLength=It,Ut}})();function ct(xt){var bt=segmentsLengthPool.newElement(),_t=xt.c,Ct=xt.v,kt=xt.o,St=xt.i,Rt,Tt=xt._length,Mt=bt.lengths,Pt=0;for(Rt=0;Rt<Tt-1;Rt+=1)Mt[Rt]=lt(Ct[Rt],Ct[Rt+1],kt[Rt],St[Rt+1]),Pt+=Mt[Rt].addedLength;return _t&&Tt&&(Mt[Rt]=lt(Ct[Rt],Ct[0],kt[Rt],St[0]),Pt+=Mt[Rt].addedLength),bt.totalLength=Pt,bt}function ut(xt){this.segmentLength=0,this.points=new Array(xt)}function ht(xt,bt){this.partialLength=xt,this.point=bt}var ft=(function(){var xt={};return function(bt,_t,Ct,kt){var St=(bt[0]+"_"+bt[1]+"_"+_t[0]+"_"+_t[1]+"_"+Ct[0]+"_"+Ct[1]+"_"+kt[0]+"_"+kt[1]).replace(/\./g,"p");if(!xt[St]){var Rt=getDefaultCurveSegments(),Tt,Mt,Pt,It,Lt,Ot=0,Ft,Ut,Wt=null;bt.length===2&&(bt[0]!==_t[0]||bt[1]!==_t[1])&&rt(bt[0],bt[1],_t[0],_t[1],bt[0]+Ct[0],bt[1]+Ct[1])&&rt(bt[0],bt[1],_t[0],_t[1],_t[0]+kt[0],_t[1]+kt[1])&&(Rt=2);var Kt=new ut(Rt);for(Pt=Ct.length,Tt=0;Tt<Rt;Tt+=1){for(Ut=createSizedArray(Pt),Lt=Tt/(Rt-1),Ft=0,Mt=0;Mt<Pt;Mt+=1)It=bmPow(1-Lt,3)*bt[Mt]+3*bmPow(1-Lt,2)*Lt*(bt[Mt]+Ct[Mt])+3*(1-Lt)*bmPow(Lt,2)*(_t[Mt]+kt[Mt])+bmPow(Lt,3)*_t[Mt],Ut[Mt]=It,Wt!==null&&(Ft+=bmPow(Ut[Mt]-Wt[Mt],2));Ft=bmSqrt(Ft),Ot+=Ft,Kt.points[Tt]=new ht(Ft,Ut),Wt=Ut}Kt.segmentLength=Ot,xt[St]=Kt}return xt[St]}})();function pt(xt,bt){var _t=bt.percents,Ct=bt.lengths,kt=_t.length,St=bmFloor((kt-1)*xt),Rt=xt*bt.addedLength,Tt=0;if(St===kt-1||St===0||Rt===Ct[St])return _t[St];for(var Mt=Ct[St]>Rt?-1:1,Pt=!0;Pt;)if(Ct[St]<=Rt&&Ct[St+1]>Rt?(Tt=(Rt-Ct[St])/(Ct[St+1]-Ct[St]),Pt=!1):St+=Mt,St<0||St>=kt-1){if(St===kt-1)return _t[St];Pt=!1}return _t[St]+(_t[St+1]-_t[St])*Tt}function mt(xt,bt,_t,Ct,kt,St){var Rt=pt(kt,St),Tt=1-Rt,Mt=Ye.round((Tt*Tt*Tt*xt[0]+(Rt*Tt*Tt+Tt*Rt*Tt+Tt*Tt*Rt)*_t[0]+(Rt*Rt*Tt+Tt*Rt*Rt+Rt*Tt*Rt)*Ct[0]+Rt*Rt*Rt*bt[0])*1e3)/1e3,Pt=Ye.round((Tt*Tt*Tt*xt[1]+(Rt*Tt*Tt+Tt*Rt*Tt+Tt*Tt*Rt)*_t[1]+(Rt*Rt*Tt+Tt*Rt*Rt+Rt*Tt*Rt)*Ct[1]+Rt*Rt*Rt*bt[1])*1e3)/1e3;return[Mt,Pt]}var gt=createTypedArray("float32",8);function yt(xt,bt,_t,Ct,kt,St,Rt){kt<0?kt=0:kt>1&&(kt=1);var Tt=pt(kt,Rt);St=St>1?1:St;var Mt=pt(St,Rt),Pt,It=xt.length,Lt=1-Tt,Ot=1-Mt,Ft=Lt*Lt*Lt,Ut=Tt*Lt*Lt*3,Wt=Tt*Tt*Lt*3,Kt=Tt*Tt*Tt,Qt=Lt*Lt*Ot,Zt=Tt*Lt*Ot+Lt*Tt*Ot+Lt*Lt*Mt,Vt=Tt*Tt*Ot+Lt*Tt*Mt+Tt*Lt*Mt,$t=Tt*Tt*Mt,zt=Lt*Ot*Ot,Nt=Tt*Ot*Ot+Lt*Mt*Ot+Lt*Ot*Mt,qt=Tt*Mt*Ot+Lt*Mt*Mt+Tt*Ot*Mt,Gt=Tt*Mt*Mt,Ht=Ot*Ot*Ot,Xt=Mt*Ot*Ot+Ot*Mt*Ot+Ot*Ot*Mt,Bt=Mt*Mt*Ot+Ot*Mt*Mt+Mt*Ot*Mt,nr=Mt*Mt*Mt;for(Pt=0;Pt<It;Pt+=1)gt[Pt*4]=Ye.round((Ft*xt[Pt]+Ut*_t[Pt]+Wt*Ct[Pt]+Kt*bt[Pt])*1e3)/1e3,gt[Pt*4+1]=Ye.round((Qt*xt[Pt]+Zt*_t[Pt]+Vt*Ct[Pt]+$t*bt[Pt])*1e3)/1e3,gt[Pt*4+2]=Ye.round((zt*xt[Pt]+Nt*_t[Pt]+qt*Ct[Pt]+Gt*bt[Pt])*1e3)/1e3,gt[Pt*4+3]=Ye.round((Ht*xt[Pt]+Xt*_t[Pt]+Bt*Ct[Pt]+nr*bt[Pt])*1e3)/1e3;return gt}return{getSegmentsLength:ct,getNewSegment:yt,getPointInSegment:mt,buildBezierData:ft,pointOnLine2D:rt,pointOnLine3D:it}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Ye,rt){var it=this.offsetTime,lt;this.propType==="multidimensional"&&(lt=createTypedArray("float32",this.pv.length));for(var ct=rt.lastIndex,ut=ct,ht=this.keyframes.length-1,ft=!0,pt,mt,gt;ft;){if(pt=this.keyframes[ut],mt=this.keyframes[ut+1],ut===ht-1&&Ye>=mt.t-it){pt.h&&(pt=mt),ct=0;break}if(mt.t-it>Ye){ct=ut;break}ut<ht-1?ut+=1:(ct=0,ft=!1)}gt=this.keyframesMetadata[ut]||{};var yt,xt,bt,_t,Ct,kt,St=mt.t-it,Rt=pt.t-it,Tt;if(pt.to){gt.bezierData||(gt.bezierData=bez.buildBezierData(pt.s,mt.s||pt.e,pt.to,pt.ti));var Mt=gt.bezierData;if(Ye>=St||Ye<Rt){var Pt=Ye>=St?Mt.points.length-1:0;for(xt=Mt.points[Pt].point.length,yt=0;yt<xt;yt+=1)lt[yt]=Mt.points[Pt].point[yt]}else{gt.__fnct?kt=gt.__fnct:(kt=BezierFactory.getBezierEasing(pt.o.x,pt.o.y,pt.i.x,pt.i.y,pt.n).get,gt.__fnct=kt),bt=kt((Ye-Rt)/(St-Rt));var It=Mt.segmentLength*bt,Lt,Ot=rt.lastFrame<Ye&&rt._lastKeyframeIndex===ut?rt._lastAddedLength:0;for(Ct=rt.lastFrame<Ye&&rt._lastKeyframeIndex===ut?rt._lastPoint:0,ft=!0,_t=Mt.points.length;ft;){if(Ot+=Mt.points[Ct].partialLength,It===0||bt===0||Ct===Mt.points.length-1){for(xt=Mt.points[Ct].point.length,yt=0;yt<xt;yt+=1)lt[yt]=Mt.points[Ct].point[yt];break}else if(It>=Ot&&It<Ot+Mt.points[Ct+1].partialLength){for(Lt=(It-Ot)/Mt.points[Ct+1].partialLength,xt=Mt.points[Ct].point.length,yt=0;yt<xt;yt+=1)lt[yt]=Mt.points[Ct].point[yt]+(Mt.points[Ct+1].point[yt]-Mt.points[Ct].point[yt])*Lt;break}Ct<_t-1?Ct+=1:ft=!1}rt._lastPoint=Ct,rt._lastAddedLength=Ot-Mt.points[Ct].partialLength,rt._lastKeyframeIndex=ut}}else{var Ft,Ut,Wt,Kt,Qt;if(ht=pt.s.length,Tt=mt.s||pt.e,this.sh&&pt.h!==1)if(Ye>=St)lt[0]=Tt[0],lt[1]=Tt[1],lt[2]=Tt[2];else if(Ye<=Rt)lt[0]=pt.s[0],lt[1]=pt.s[1],lt[2]=pt.s[2];else{var Zt=createQuaternion(pt.s),Vt=createQuaternion(Tt),$t=(Ye-Rt)/(St-Rt);quaternionToEuler(lt,slerp(Zt,Vt,$t))}else for(ut=0;ut<ht;ut+=1)pt.h!==1&&(Ye>=St?bt=1:Ye<Rt?bt=0:(pt.o.x.constructor===Array?(gt.__fnct||(gt.__fnct=[]),gt.__fnct[ut]?kt=gt.__fnct[ut]:(Ft=pt.o.x[ut]===void 0?pt.o.x[0]:pt.o.x[ut],Ut=pt.o.y[ut]===void 0?pt.o.y[0]:pt.o.y[ut],Wt=pt.i.x[ut]===void 0?pt.i.x[0]:pt.i.x[ut],Kt=pt.i.y[ut]===void 0?pt.i.y[0]:pt.i.y[ut],kt=BezierFactory.getBezierEasing(Ft,Ut,Wt,Kt).get,gt.__fnct[ut]=kt)):gt.__fnct?kt=gt.__fnct:(Ft=pt.o.x,Ut=pt.o.y,Wt=pt.i.x,Kt=pt.i.y,kt=BezierFactory.getBezierEasing(Ft,Ut,Wt,Kt).get,pt.keyframeMetadata=kt),bt=kt((Ye-Rt)/(St-Rt)))),Tt=mt.s||pt.e,Qt=pt.h===1?pt.s[ut]:pt.s[ut]+(Tt[ut]-pt.s[ut])*bt,this.propType==="multidimensional"?lt[ut]=Qt:lt=Qt}return rt.lastIndex=ct,lt}function slerp(Ye,rt,it){var lt=[],ct=Ye[0],ut=Ye[1],ht=Ye[2],ft=Ye[3],pt=rt[0],mt=rt[1],gt=rt[2],yt=rt[3],xt,bt,_t,Ct,kt;return bt=ct*pt+ut*mt+ht*gt+ft*yt,bt<0&&(bt=-bt,pt=-pt,mt=-mt,gt=-gt,yt=-yt),1-bt>1e-6?(xt=Math.acos(bt),_t=Math.sin(xt),Ct=Math.sin((1-it)*xt)/_t,kt=Math.sin(it*xt)/_t):(Ct=1-it,kt=it),lt[0]=Ct*ct+kt*pt,lt[1]=Ct*ut+kt*mt,lt[2]=Ct*ht+kt*gt,lt[3]=Ct*ft+kt*yt,lt}function quaternionToEuler(Ye,rt){var it=rt[0],lt=rt[1],ct=rt[2],ut=rt[3],ht=Math.atan2(2*lt*ut-2*it*ct,1-2*lt*lt-2*ct*ct),ft=Math.asin(2*it*lt+2*ct*ut),pt=Math.atan2(2*it*ut-2*lt*ct,1-2*it*it-2*ct*ct);Ye[0]=ht/degToRads,Ye[1]=ft/degToRads,Ye[2]=pt/degToRads}function createQuaternion(Ye){var rt=Ye[0]*degToRads,it=Ye[1]*degToRads,lt=Ye[2]*degToRads,ct=Math.cos(rt/2),ut=Math.cos(it/2),ht=Math.cos(lt/2),ft=Math.sin(rt/2),pt=Math.sin(it/2),mt=Math.sin(lt/2),gt=ct*ut*ht-ft*pt*mt,yt=ft*pt*ht+ct*ut*mt,xt=ft*ut*ht+ct*pt*mt,bt=ct*pt*ht-ft*ut*mt;return[yt,xt,bt,gt]}function getValueAtCurrentTime(){var Ye=this.comp.renderedFrame-this.offsetTime,rt=this.keyframes[0].t-this.offsetTime,it=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Ye===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=it&&Ye>=it||this._caching.lastFrame<rt&&Ye<rt))){this._caching.lastFrame>=Ye&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var lt=this.interpolateValue(Ye,this._caching);this.pv=lt}return this._caching.lastFrame=Ye,this.pv}function setVValue(Ye){var rt;if(this.propType==="unidimensional")rt=Ye*this.mult,mathAbs(this.v-rt)>1e-5&&(this.v=rt,this._mdf=!0);else for(var it=0,lt=this.v.length;it<lt;)rt=Ye[it]*this.mult,mathAbs(this.v[it]-rt)>1e-5&&(this.v[it]=rt,this._mdf=!0),it+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Ye,rt=this.effectsSequence.length,it=this.kf?this.pv:this.data.k;for(Ye=0;Ye<rt;Ye+=1)it=this.effectsSequence[Ye](it);this.setVValue(it),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Ye){this.effectsSequence.push(Ye),this.container.addDynamicProperty(this)}function ValueProperty(Ye,rt,it,lt){this.propType="unidimensional",this.mult=it||1,this.data=rt,this.v=it?rt.k*it:rt.k,this.pv=rt.k,this._mdf=!1,this.elem=Ye,this.container=lt,this.comp=Ye.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Ye,rt,it,lt){this.propType="multidimensional",this.mult=it||1,this.data=rt,this._mdf=!1,this.elem=Ye,this.container=lt,this.comp=Ye.comp,this.k=!1,this.kf=!1,this.frameId=-1;var ct,ut=rt.k.length;for(this.v=createTypedArray("float32",ut),this.pv=createTypedArray("float32",ut),this.vel=createTypedArray("float32",ut),ct=0;ct<ut;ct+=1)this.v[ct]=rt.k[ct]*this.mult,this.pv[ct]=rt.k[ct];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Ye,rt,it,lt){this.propType="unidimensional",this.keyframes=rt.k,this.keyframesMetadata=[],this.offsetTime=Ye.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=rt,this.mult=it||1,this.elem=Ye,this.container=lt,this.comp=Ye.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Ye,rt,it,lt){this.propType="multidimensional";var ct,ut=rt.k.length,ht,ft,pt,mt;for(ct=0;ct<ut-1;ct+=1)rt.k[ct].to&&rt.k[ct].s&&rt.k[ct+1]&&rt.k[ct+1].s&&(ht=rt.k[ct].s,ft=rt.k[ct+1].s,pt=rt.k[ct].to,mt=rt.k[ct].ti,(ht.length===2&&!(ht[0]===ft[0]&&ht[1]===ft[1])&&bez.pointOnLine2D(ht[0],ht[1],ft[0],ft[1],ht[0]+pt[0],ht[1]+pt[1])&&bez.pointOnLine2D(ht[0],ht[1],ft[0],ft[1],ft[0]+mt[0],ft[1]+mt[1])||ht.length===3&&!(ht[0]===ft[0]&&ht[1]===ft[1]&&ht[2]===ft[2])&&bez.pointOnLine3D(ht[0],ht[1],ht[2],ft[0],ft[1],ft[2],ht[0]+pt[0],ht[1]+pt[1],ht[2]+pt[2])&&bez.pointOnLine3D(ht[0],ht[1],ht[2],ft[0],ft[1],ft[2],ft[0]+mt[0],ft[1]+mt[1],ft[2]+mt[2]))&&(rt.k[ct].to=null,rt.k[ct].ti=null),ht[0]===ft[0]&&ht[1]===ft[1]&&pt[0]===0&&pt[1]===0&&mt[0]===0&&mt[1]===0&&(ht.length===2||ht[2]===ft[2]&&pt[2]===0&&mt[2]===0)&&(rt.k[ct].to=null,rt.k[ct].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=rt,this.keyframes=rt.k,this.keyframesMetadata=[],this.offsetTime=Ye.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=it||1,this.elem=Ye,this.container=lt,this.comp=Ye.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var gt=rt.k[0].s.length;for(this.v=createTypedArray("float32",gt),this.pv=createTypedArray("float32",gt),ct=0;ct<gt;ct+=1)this.v[ct]=initFrame,this.pv[ct]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",gt)},this.addEffect=addEffect}var PropertyFactory=(function(){function Ye(it,lt,ct,ut,ht){lt.sid&&(lt=it.globalData.slotManager.getProp(lt));var ft;if(!lt.k.length)ft=new ValueProperty(it,lt,ut,ht);else if(typeof lt.k[0]=="number")ft=new MultiDimensionalProperty(it,lt,ut,ht);else switch(ct){case 0:ft=new KeyframedValueProperty(it,lt,ut,ht);break;case 1:ft=new KeyframedMultidimensionalProperty(it,lt,ut,ht);break}return ft.effectsSequence.length&&ht.addDynamicProperty(ft),ft}var rt={getProp:Ye};return rt})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(rt){this.dynamicProperties.indexOf(rt)===-1&&(this.dynamicProperties.push(rt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var rt,it=this.dynamicProperties.length;for(rt=0;rt<it;rt+=1)this.dynamicProperties[rt].getValue(),this.dynamicProperties[rt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(rt){this.container=rt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function Ye(){return createTypedArray("float32",2)}return poolFactory(8,Ye)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Ye,rt){this.c=Ye,this.setLength(rt);for(var it=0;it<rt;)this.v[it]=pointPool.newElement(),this.o[it]=pointPool.newElement(),this.i[it]=pointPool.newElement(),it+=1},ShapePath.prototype.setLength=function(Ye){for(;this._maxLength<Ye;)this.doubleArrayLength();this._length=Ye},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Ye,rt,it,lt,ct){var ut;switch(this._length=Math.max(this._length,lt+1),this._length>=this._maxLength&&this.doubleArrayLength(),it){case"v":ut=this.v;break;case"i":ut=this.i;break;case"o":ut=this.o;break;default:ut=[];break}(!ut[lt]||ut[lt]&&!ct)&&(ut[lt]=pointPool.newElement()),ut[lt][0]=Ye,ut[lt][1]=rt},ShapePath.prototype.setTripleAt=function(Ye,rt,it,lt,ct,ut,ht,ft){this.setXYAt(Ye,rt,"v",ht,ft),this.setXYAt(it,lt,"o",ht,ft),this.setXYAt(ct,ut,"i",ht,ft)},ShapePath.prototype.reverse=function(){var Ye=new ShapePath;Ye.setPathData(this.c,this._length);var rt=this.v,it=this.o,lt=this.i,ct=0;this.c&&(Ye.setTripleAt(rt[0][0],rt[0][1],lt[0][0],lt[0][1],it[0][0],it[0][1],0,!1),ct=1);var ut=this._length-1,ht=this._length,ft;for(ft=ct;ft<ht;ft+=1)Ye.setTripleAt(rt[ut][0],rt[ut][1],lt[ut][0],lt[ut][1],it[ut][0],it[ut][1],ft,!1),ut-=1;return Ye},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function Ye(){return new ShapePath}function rt(ct){var ut=ct._length,ht;for(ht=0;ht<ut;ht+=1)pointPool.release(ct.v[ht]),pointPool.release(ct.i[ht]),pointPool.release(ct.o[ht]),ct.v[ht]=null,ct.i[ht]=null,ct.o[ht]=null;ct._length=0,ct.c=!1}function it(ct){var ut=lt.newElement(),ht,ft=ct._length===void 0?ct.v.length:ct._length;for(ut.setLength(ft),ut.c=ct.c,ht=0;ht<ft;ht+=1)ut.setTripleAt(ct.v[ht][0],ct.v[ht][1],ct.o[ht][0],ct.o[ht][1],ct.i[ht][0],ct.i[ht][1],ht);return ut}var lt=poolFactory(4,Ye,rt);return lt.clone=it,lt})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Ye){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Ye,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Ye;for(Ye=0;Ye<this._length;Ye+=1)shapePool.release(this.shapes[Ye]);this._length=0};var shapeCollectionPool=(function(){var Ye={newShapeCollection:ct,release:ut},rt=0,it=4,lt=createSizedArray(it);function ct(){var ht;return rt?(rt-=1,ht=lt[rt]):ht=new ShapeCollection,ht}function ut(ht){var ft,pt=ht._length;for(ft=0;ft<pt;ft+=1)shapePool.release(ht.shapes[ft]);ht._length=0,rt===it&&(lt=pooling.double(lt),it*=2),lt[rt]=ht,rt+=1}return Ye})(),ShapePropertyFactory=(function(){var Ye=-999999;function rt(St,Rt,Tt){var Mt=Tt.lastIndex,Pt,It,Lt,Ot,Ft,Ut,Wt,Kt,Qt,Zt=this.keyframes;if(St<Zt[0].t-this.offsetTime)Pt=Zt[0].s[0],Lt=!0,Mt=0;else if(St>=Zt[Zt.length-1].t-this.offsetTime)Pt=Zt[Zt.length-1].s?Zt[Zt.length-1].s[0]:Zt[Zt.length-2].e[0],Lt=!0;else{for(var Vt=Mt,$t=Zt.length-1,zt=!0,Nt,qt,Gt;zt&&(Nt=Zt[Vt],qt=Zt[Vt+1],!(qt.t-this.offsetTime>St));)Vt<$t-1?Vt+=1:zt=!1;if(Gt=this.keyframesMetadata[Vt]||{},Lt=Nt.h===1,Mt=Vt,!Lt){if(St>=qt.t-this.offsetTime)Kt=1;else if(St<Nt.t-this.offsetTime)Kt=0;else{var Ht;Gt.__fnct?Ht=Gt.__fnct:(Ht=BezierFactory.getBezierEasing(Nt.o.x,Nt.o.y,Nt.i.x,Nt.i.y).get,Gt.__fnct=Ht),Kt=Ht((St-(Nt.t-this.offsetTime))/(qt.t-this.offsetTime-(Nt.t-this.offsetTime)))}It=qt.s?qt.s[0]:Nt.e[0]}Pt=Nt.s[0]}for(Ut=Rt._length,Wt=Pt.i[0].length,Tt.lastIndex=Mt,Ot=0;Ot<Ut;Ot+=1)for(Ft=0;Ft<Wt;Ft+=1)Qt=Lt?Pt.i[Ot][Ft]:Pt.i[Ot][Ft]+(It.i[Ot][Ft]-Pt.i[Ot][Ft])*Kt,Rt.i[Ot][Ft]=Qt,Qt=Lt?Pt.o[Ot][Ft]:Pt.o[Ot][Ft]+(It.o[Ot][Ft]-Pt.o[Ot][Ft])*Kt,Rt.o[Ot][Ft]=Qt,Qt=Lt?Pt.v[Ot][Ft]:Pt.v[Ot][Ft]+(It.v[Ot][Ft]-Pt.v[Ot][Ft])*Kt,Rt.v[Ot][Ft]=Qt}function it(){var St=this.comp.renderedFrame-this.offsetTime,Rt=this.keyframes[0].t-this.offsetTime,Tt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Mt=this._caching.lastFrame;return Mt!==Ye&&(Mt<Rt&&St<Rt||Mt>Tt&&St>Tt)||(this._caching.lastIndex=Mt<St?this._caching.lastIndex:0,this.interpolateShape(St,this.pv,this._caching)),this._caching.lastFrame=St,this.pv}function lt(){this.paths=this.localShapeCollection}function ct(St,Rt){if(St._length!==Rt._length||St.c!==Rt.c)return!1;var Tt,Mt=St._length;for(Tt=0;Tt<Mt;Tt+=1)if(St.v[Tt][0]!==Rt.v[Tt][0]||St.v[Tt][1]!==Rt.v[Tt][1]||St.o[Tt][0]!==Rt.o[Tt][0]||St.o[Tt][1]!==Rt.o[Tt][1]||St.i[Tt][0]!==Rt.i[Tt][0]||St.i[Tt][1]!==Rt.i[Tt][1])return!1;return!0}function ut(St){ct(this.v,St)||(this.v=shapePool.clone(St),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ht(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var St;this.kf?St=this.pv:this.data.ks?St=this.data.ks.k:St=this.data.pt.k;var Rt,Tt=this.effectsSequence.length;for(Rt=0;Rt<Tt;Rt+=1)St=this.effectsSequence[Rt](St);this.setVValue(St),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ft(St,Rt,Tt){this.propType="shape",this.comp=St.comp,this.container=St,this.elem=St,this.data=Rt,this.k=!1,this.kf=!1,this._mdf=!1;var Mt=Tt===3?Rt.pt.k:Rt.ks.k;this.v=shapePool.clone(Mt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=lt,this.effectsSequence=[]}function pt(St){this.effectsSequence.push(St),this.container.addDynamicProperty(this)}ft.prototype.interpolateShape=rt,ft.prototype.getValue=ht,ft.prototype.setVValue=ut,ft.prototype.addEffect=pt;function mt(St,Rt,Tt){this.propType="shape",this.comp=St.comp,this.elem=St,this.container=St,this.offsetTime=St.data.st,this.keyframes=Tt===3?Rt.pt.k:Rt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Mt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Mt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Ye,this.reset=lt,this._caching={lastFrame:Ye,lastIndex:0},this.effectsSequence=[it.bind(this)]}mt.prototype.getValue=ht,mt.prototype.interpolateShape=rt,mt.prototype.setVValue=ut,mt.prototype.addEffect=pt;var gt=(function(){var St=roundCorner;function Rt(Tt,Mt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Mt.d,this.elem=Tt,this.comp=Tt.comp,this.frameId=-1,this.initDynamicPropertyContainer(Tt),this.p=PropertyFactory.getProp(Tt,Mt.p,1,0,this),this.s=PropertyFactory.getProp(Tt,Mt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Rt.prototype={reset:lt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Mt=this.p.v[0],Pt=this.p.v[1],It=this.s.v[0]/2,Lt=this.s.v[1]/2,Ot=this.d!==3,Ft=this.v;Ft.v[0][0]=Mt,Ft.v[0][1]=Pt-Lt,Ft.v[1][0]=Ot?Mt+It:Mt-It,Ft.v[1][1]=Pt,Ft.v[2][0]=Mt,Ft.v[2][1]=Pt+Lt,Ft.v[3][0]=Ot?Mt-It:Mt+It,Ft.v[3][1]=Pt,Ft.i[0][0]=Ot?Mt-It*St:Mt+It*St,Ft.i[0][1]=Pt-Lt,Ft.i[1][0]=Ot?Mt+It:Mt-It,Ft.i[1][1]=Pt-Lt*St,Ft.i[2][0]=Ot?Mt+It*St:Mt-It*St,Ft.i[2][1]=Pt+Lt,Ft.i[3][0]=Ot?Mt-It:Mt+It,Ft.i[3][1]=Pt+Lt*St,Ft.o[0][0]=Ot?Mt+It*St:Mt-It*St,Ft.o[0][1]=Pt-Lt,Ft.o[1][0]=Ot?Mt+It:Mt-It,Ft.o[1][1]=Pt+Lt*St,Ft.o[2][0]=Ot?Mt-It*St:Mt+It*St,Ft.o[2][1]=Pt+Lt,Ft.o[3][0]=Ot?Mt-It:Mt+It,Ft.o[3][1]=Pt-Lt*St}},extendPrototype([DynamicPropertyContainer],Rt),Rt})(),yt=(function(){function St(Rt,Tt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Rt,this.comp=Rt.comp,this.data=Tt,this.frameId=-1,this.d=Tt.d,this.initDynamicPropertyContainer(Rt),Tt.sy===1?(this.ir=PropertyFactory.getProp(Rt,Tt.ir,0,0,this),this.is=PropertyFactory.getProp(Rt,Tt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Rt,Tt.pt,0,0,this),this.p=PropertyFactory.getProp(Rt,Tt.p,1,0,this),this.r=PropertyFactory.getProp(Rt,Tt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Rt,Tt.or,0,0,this),this.os=PropertyFactory.getProp(Rt,Tt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return St.prototype={reset:lt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Tt=Math.floor(this.pt.v)*2,Mt=Math.PI*2/Tt,Pt=!0,It=this.or.v,Lt=this.ir.v,Ot=this.os.v,Ft=this.is.v,Ut=2*Math.PI*It/(Tt*2),Wt=2*Math.PI*Lt/(Tt*2),Kt,Qt,Zt,Vt,$t=-Math.PI/2;$t+=this.r.v;var zt=this.data.d===3?-1:1;for(this.v._length=0,Kt=0;Kt<Tt;Kt+=1){Qt=Pt?It:Lt,Zt=Pt?Ot:Ft,Vt=Pt?Ut:Wt;var Nt=Qt*Math.cos($t),qt=Qt*Math.sin($t),Gt=Nt===0&&qt===0?0:qt/Math.sqrt(Nt*Nt+qt*qt),Ht=Nt===0&&qt===0?0:-Nt/Math.sqrt(Nt*Nt+qt*qt);Nt+=+this.p.v[0],qt+=+this.p.v[1],this.v.setTripleAt(Nt,qt,Nt-Gt*Vt*Zt*zt,qt-Ht*Vt*Zt*zt,Nt+Gt*Vt*Zt*zt,qt+Ht*Vt*Zt*zt,Kt,!0),Pt=!Pt,$t+=Mt*zt}},convertPolygonToPath:function(){var Tt=Math.floor(this.pt.v),Mt=Math.PI*2/Tt,Pt=this.or.v,It=this.os.v,Lt=2*Math.PI*Pt/(Tt*4),Ot,Ft=-Math.PI*.5,Ut=this.data.d===3?-1:1;for(Ft+=this.r.v,this.v._length=0,Ot=0;Ot<Tt;Ot+=1){var Wt=Pt*Math.cos(Ft),Kt=Pt*Math.sin(Ft),Qt=Wt===0&&Kt===0?0:Kt/Math.sqrt(Wt*Wt+Kt*Kt),Zt=Wt===0&&Kt===0?0:-Wt/Math.sqrt(Wt*Wt+Kt*Kt);Wt+=+this.p.v[0],Kt+=+this.p.v[1],this.v.setTripleAt(Wt,Kt,Wt-Qt*Lt*It*Ut,Kt-Zt*Lt*It*Ut,Wt+Qt*Lt*It*Ut,Kt+Zt*Lt*It*Ut,Ot,!0),Ft+=Mt*Ut}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],St),St})(),xt=(function(){function St(Rt,Tt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Rt,this.comp=Rt.comp,this.frameId=-1,this.d=Tt.d,this.initDynamicPropertyContainer(Rt),this.p=PropertyFactory.getProp(Rt,Tt.p,1,0,this),this.s=PropertyFactory.getProp(Rt,Tt.s,1,0,this),this.r=PropertyFactory.getProp(Rt,Tt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return St.prototype={convertRectToPath:function(){var Tt=this.p.v[0],Mt=this.p.v[1],Pt=this.s.v[0]/2,It=this.s.v[1]/2,Lt=bmMin(Pt,It,this.r.v),Ot=Lt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Tt+Pt,Mt-It+Lt,Tt+Pt,Mt-It+Lt,Tt+Pt,Mt-It+Ot,0,!0),this.v.setTripleAt(Tt+Pt,Mt+It-Lt,Tt+Pt,Mt+It-Ot,Tt+Pt,Mt+It-Lt,1,!0),Lt!==0?(this.v.setTripleAt(Tt+Pt-Lt,Mt+It,Tt+Pt-Lt,Mt+It,Tt+Pt-Ot,Mt+It,2,!0),this.v.setTripleAt(Tt-Pt+Lt,Mt+It,Tt-Pt+Ot,Mt+It,Tt-Pt+Lt,Mt+It,3,!0),this.v.setTripleAt(Tt-Pt,Mt+It-Lt,Tt-Pt,Mt+It-Lt,Tt-Pt,Mt+It-Ot,4,!0),this.v.setTripleAt(Tt-Pt,Mt-It+Lt,Tt-Pt,Mt-It+Ot,Tt-Pt,Mt-It+Lt,5,!0),this.v.setTripleAt(Tt-Pt+Lt,Mt-It,Tt-Pt+Lt,Mt-It,Tt-Pt+Ot,Mt-It,6,!0),this.v.setTripleAt(Tt+Pt-Lt,Mt-It,Tt+Pt-Ot,Mt-It,Tt+Pt-Lt,Mt-It,7,!0)):(this.v.setTripleAt(Tt-Pt,Mt+It,Tt-Pt+Ot,Mt+It,Tt-Pt,Mt+It,2),this.v.setTripleAt(Tt-Pt,Mt-It,Tt-Pt,Mt-It+Ot,Tt-Pt,Mt-It,3))):(this.v.setTripleAt(Tt+Pt,Mt-It+Lt,Tt+Pt,Mt-It+Ot,Tt+Pt,Mt-It+Lt,0,!0),Lt!==0?(this.v.setTripleAt(Tt+Pt-Lt,Mt-It,Tt+Pt-Lt,Mt-It,Tt+Pt-Ot,Mt-It,1,!0),this.v.setTripleAt(Tt-Pt+Lt,Mt-It,Tt-Pt+Ot,Mt-It,Tt-Pt+Lt,Mt-It,2,!0),this.v.setTripleAt(Tt-Pt,Mt-It+Lt,Tt-Pt,Mt-It+Lt,Tt-Pt,Mt-It+Ot,3,!0),this.v.setTripleAt(Tt-Pt,Mt+It-Lt,Tt-Pt,Mt+It-Ot,Tt-Pt,Mt+It-Lt,4,!0),this.v.setTripleAt(Tt-Pt+Lt,Mt+It,Tt-Pt+Lt,Mt+It,Tt-Pt+Ot,Mt+It,5,!0),this.v.setTripleAt(Tt+Pt-Lt,Mt+It,Tt+Pt-Ot,Mt+It,Tt+Pt-Lt,Mt+It,6,!0),this.v.setTripleAt(Tt+Pt,Mt+It-Lt,Tt+Pt,Mt+It-Lt,Tt+Pt,Mt+It-Ot,7,!0)):(this.v.setTripleAt(Tt-Pt,Mt-It,Tt-Pt+Ot,Mt-It,Tt-Pt,Mt-It,1,!0),this.v.setTripleAt(Tt-Pt,Mt+It,Tt-Pt,Mt+It-Ot,Tt-Pt,Mt+It,2,!0),this.v.setTripleAt(Tt+Pt,Mt+It,Tt+Pt-Ot,Mt+It,Tt+Pt,Mt+It,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:lt},extendPrototype([DynamicPropertyContainer],St),St})();function bt(St,Rt,Tt){var Mt;if(Tt===3||Tt===4){var Pt=Tt===3?Rt.pt:Rt.ks,It=Pt.k;It.length?Mt=new mt(St,Rt,Tt):Mt=new ft(St,Rt,Tt)}else Tt===5?Mt=new xt(St,Rt):Tt===6?Mt=new gt(St,Rt):Tt===7&&(Mt=new yt(St,Rt));return Mt.k&&St.addDynamicProperty(Mt),Mt}function _t(){return ft}function Ct(){return mt}var kt={};return kt.getShapeProp=bt,kt.getConstructorFunction=_t,kt.getKeyframedConstructorFunction=Ct,kt})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var Ye=Math.cos,rt=Math.sin,it=Math.tan,lt=Math.round;function ct(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function ut(Nt){if(Nt===0)return this;var qt=Ye(Nt),Gt=rt(Nt);return this._t(qt,-Gt,0,0,Gt,qt,0,0,0,0,1,0,0,0,0,1)}function ht(Nt){if(Nt===0)return this;var qt=Ye(Nt),Gt=rt(Nt);return this._t(1,0,0,0,0,qt,-Gt,0,0,Gt,qt,0,0,0,0,1)}function ft(Nt){if(Nt===0)return this;var qt=Ye(Nt),Gt=rt(Nt);return this._t(qt,0,Gt,0,0,1,0,0,-Gt,0,qt,0,0,0,0,1)}function pt(Nt){if(Nt===0)return this;var qt=Ye(Nt),Gt=rt(Nt);return this._t(qt,-Gt,0,0,Gt,qt,0,0,0,0,1,0,0,0,0,1)}function mt(Nt,qt){return this._t(1,qt,Nt,1,0,0)}function gt(Nt,qt){return this.shear(it(Nt),it(qt))}function yt(Nt,qt){var Gt=Ye(qt),Ht=rt(qt);return this._t(Gt,Ht,0,0,-Ht,Gt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,it(Nt),1,0,0,0,0,1,0,0,0,0,1)._t(Gt,-Ht,0,0,Ht,Gt,0,0,0,0,1,0,0,0,0,1)}function xt(Nt,qt,Gt){return!Gt&&Gt!==0&&(Gt=1),Nt===1&&qt===1&&Gt===1?this:this._t(Nt,0,0,0,0,qt,0,0,0,0,Gt,0,0,0,0,1)}function bt(Nt,qt,Gt,Ht,Xt,Bt,nr,rr,Jt,ir,ar,cr,dr,xr,br,_r){return this.props[0]=Nt,this.props[1]=qt,this.props[2]=Gt,this.props[3]=Ht,this.props[4]=Xt,this.props[5]=Bt,this.props[6]=nr,this.props[7]=rr,this.props[8]=Jt,this.props[9]=ir,this.props[10]=ar,this.props[11]=cr,this.props[12]=dr,this.props[13]=xr,this.props[14]=br,this.props[15]=_r,this}function _t(Nt,qt,Gt){return Gt=Gt||0,Nt!==0||qt!==0||Gt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Nt,qt,Gt,1):this}function Ct(Nt,qt,Gt,Ht,Xt,Bt,nr,rr,Jt,ir,ar,cr,dr,xr,br,_r){var Er=this.props;if(Nt===1&&qt===0&&Gt===0&&Ht===0&&Xt===0&&Bt===1&&nr===0&&rr===0&&Jt===0&&ir===0&&ar===1&&cr===0)return Er[12]=Er[12]*Nt+Er[15]*dr,Er[13]=Er[13]*Bt+Er[15]*xr,Er[14]=Er[14]*ar+Er[15]*br,Er[15]*=_r,this._identityCalculated=!1,this;var Rr=Er[0],Lr=Er[1],Mr=Er[2],Fr=Er[3],Xr=Er[4],Jr=Er[5],Kr=Er[6],nn=Er[7],Qr=Er[8],Zr=Er[9],sn=Er[10],yr=Er[11],hr=Er[12],Tr=Er[13],Ir=Er[14],Dr=Er[15];return Er[0]=Rr*Nt+Lr*Xt+Mr*Jt+Fr*dr,Er[1]=Rr*qt+Lr*Bt+Mr*ir+Fr*xr,Er[2]=Rr*Gt+Lr*nr+Mr*ar+Fr*br,Er[3]=Rr*Ht+Lr*rr+Mr*cr+Fr*_r,Er[4]=Xr*Nt+Jr*Xt+Kr*Jt+nn*dr,Er[5]=Xr*qt+Jr*Bt+Kr*ir+nn*xr,Er[6]=Xr*Gt+Jr*nr+Kr*ar+nn*br,Er[7]=Xr*Ht+Jr*rr+Kr*cr+nn*_r,Er[8]=Qr*Nt+Zr*Xt+sn*Jt+yr*dr,Er[9]=Qr*qt+Zr*Bt+sn*ir+yr*xr,Er[10]=Qr*Gt+Zr*nr+sn*ar+yr*br,Er[11]=Qr*Ht+Zr*rr+sn*cr+yr*_r,Er[12]=hr*Nt+Tr*Xt+Ir*Jt+Dr*dr,Er[13]=hr*qt+Tr*Bt+Ir*ir+Dr*xr,Er[14]=hr*Gt+Tr*nr+Ir*ar+Dr*br,Er[15]=hr*Ht+Tr*rr+Ir*cr+Dr*_r,this._identityCalculated=!1,this}function kt(Nt){var qt=Nt.props;return this.transform(qt[0],qt[1],qt[2],qt[3],qt[4],qt[5],qt[6],qt[7],qt[8],qt[9],qt[10],qt[11],qt[12],qt[13],qt[14],qt[15])}function St(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Rt(Nt){for(var qt=0;qt<16;){if(Nt.props[qt]!==this.props[qt])return!1;qt+=1}return!0}function Tt(Nt){var qt;for(qt=0;qt<16;qt+=1)Nt.props[qt]=this.props[qt];return Nt}function Mt(Nt){var qt;for(qt=0;qt<16;qt+=1)this.props[qt]=Nt[qt]}function Pt(Nt,qt,Gt){return{x:Nt*this.props[0]+qt*this.props[4]+Gt*this.props[8]+this.props[12],y:Nt*this.props[1]+qt*this.props[5]+Gt*this.props[9]+this.props[13],z:Nt*this.props[2]+qt*this.props[6]+Gt*this.props[10]+this.props[14]}}function It(Nt,qt,Gt){return Nt*this.props[0]+qt*this.props[4]+Gt*this.props[8]+this.props[12]}function Lt(Nt,qt,Gt){return Nt*this.props[1]+qt*this.props[5]+Gt*this.props[9]+this.props[13]}function Ot(Nt,qt,Gt){return Nt*this.props[2]+qt*this.props[6]+Gt*this.props[10]+this.props[14]}function Ft(){var Nt=this.props[0]*this.props[5]-this.props[1]*this.props[4],qt=this.props[5]/Nt,Gt=-this.props[1]/Nt,Ht=-this.props[4]/Nt,Xt=this.props[0]/Nt,Bt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Nt,nr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Nt,rr=new Matrix;return rr.props[0]=qt,rr.props[1]=Gt,rr.props[4]=Ht,rr.props[5]=Xt,rr.props[12]=Bt,rr.props[13]=nr,rr}function Ut(Nt){var qt=this.getInverseMatrix();return qt.applyToPointArray(Nt[0],Nt[1],Nt[2]||0)}function Wt(Nt){var qt,Gt=Nt.length,Ht=[];for(qt=0;qt<Gt;qt+=1)Ht[qt]=Ut(Nt[qt]);return Ht}function Kt(Nt,qt,Gt){var Ht=createTypedArray("float32",6);if(this.isIdentity())Ht[0]=Nt[0],Ht[1]=Nt[1],Ht[2]=qt[0],Ht[3]=qt[1],Ht[4]=Gt[0],Ht[5]=Gt[1];else{var Xt=this.props[0],Bt=this.props[1],nr=this.props[4],rr=this.props[5],Jt=this.props[12],ir=this.props[13];Ht[0]=Nt[0]*Xt+Nt[1]*nr+Jt,Ht[1]=Nt[0]*Bt+Nt[1]*rr+ir,Ht[2]=qt[0]*Xt+qt[1]*nr+Jt,Ht[3]=qt[0]*Bt+qt[1]*rr+ir,Ht[4]=Gt[0]*Xt+Gt[1]*nr+Jt,Ht[5]=Gt[0]*Bt+Gt[1]*rr+ir}return Ht}function Qt(Nt,qt,Gt){var Ht;return this.isIdentity()?Ht=[Nt,qt,Gt]:Ht=[Nt*this.props[0]+qt*this.props[4]+Gt*this.props[8]+this.props[12],Nt*this.props[1]+qt*this.props[5]+Gt*this.props[9]+this.props[13],Nt*this.props[2]+qt*this.props[6]+Gt*this.props[10]+this.props[14]],Ht}function Zt(Nt,qt){if(this.isIdentity())return Nt+","+qt;var Gt=this.props;return Math.round((Nt*Gt[0]+qt*Gt[4]+Gt[12])*100)/100+","+Math.round((Nt*Gt[1]+qt*Gt[5]+Gt[13])*100)/100}function Vt(){for(var Nt=0,qt=this.props,Gt="matrix3d(",Ht=1e4;Nt<16;)Gt+=lt(qt[Nt]*Ht)/Ht,Gt+=Nt===15?")":",",Nt+=1;return Gt}function $t(Nt){var qt=1e4;return Nt<1e-6&&Nt>0||Nt>-1e-6&&Nt<0?lt(Nt*qt)/qt:Nt}function zt(){var Nt=this.props,qt=$t(Nt[0]),Gt=$t(Nt[1]),Ht=$t(Nt[4]),Xt=$t(Nt[5]),Bt=$t(Nt[12]),nr=$t(Nt[13]);return"matrix("+qt+","+Gt+","+Ht+","+Xt+","+Bt+","+nr+")"}return function(){this.reset=ct,this.rotate=ut,this.rotateX=ht,this.rotateY=ft,this.rotateZ=pt,this.skew=gt,this.skewFromAxis=yt,this.shear=mt,this.scale=xt,this.setTransform=bt,this.translate=_t,this.transform=Ct,this.multiply=kt,this.applyToPoint=Pt,this.applyToX=It,this.applyToY=Lt,this.applyToZ=Ot,this.applyToPointArray=Qt,this.applyToTriplePoints=Kt,this.applyToPointStringified=Zt,this.toCSS=Vt,this.to2dCSS=zt,this.clone=Tt,this.cloneFromProps=Mt,this.equals=Rt,this.inversePoints=Wt,this.inversePoint=Ut,this.getInverseMatrix=Ft,this._t=this.transform,this.isIdentity=St,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(Ye){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$3(Ye)}var lottie={};function setLocation(Ye){setLocationHref(Ye)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Ye){setSubframeEnabled(Ye)}function setPrefix(Ye){setIdPrefix(Ye)}function loadAnimation(Ye){return animationManager.loadAnimation(Ye)}function setQuality(Ye){if(typeof Ye=="string")switch(Ye){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Ye)&&Ye>1&&setDefaultCurveSegments(Ye)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Ye,rt){Ye==="expressions"&&setExpressionsPlugin(rt)}function getFactory(Ye){switch(Ye){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Ye){for(var rt=queryString.split("&"),it=0;it<rt.length;it+=1){var lt=rt[it].split("=");if(decodeURIComponent(lt[0])==Ye)return decodeURIComponent(lt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Ye){}var ShapeModifiers=(function(){var Ye={},rt={};Ye.registerModifier=it,Ye.getModifier=lt;function it(ct,ut){rt[ct]||(rt[ct]=ut)}function lt(ct,ut,ht){return new rt[ct](ut,ht)}return Ye})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Ye){if(!this.closed){Ye.sh.container.addDynamicProperty(Ye.sh);var rt={shape:Ye.sh,data:Ye,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(rt),this.addShapeToModifier(rt),this._isAnimated&&Ye.setAsAnimated()}},ShapeModifier.prototype.init=function(Ye,rt){this.shapes=[],this.elem=Ye,this.initDynamicPropertyContainer(Ye),this.initModifierProperties(Ye,rt),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Ye,rt){this.s=PropertyFactory.getProp(Ye,rt.s,0,.01,this),this.e=PropertyFactory.getProp(Ye,rt.e,0,.01,this),this.o=PropertyFactory.getProp(Ye,rt.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=rt.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Ye){Ye.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Ye,rt,it,lt,ct){var ut=[];rt<=1?ut.push({s:Ye,e:rt}):Ye>=1?ut.push({s:Ye-1,e:rt-1}):(ut.push({s:Ye,e:1}),ut.push({s:0,e:rt-1}));var ht=[],ft,pt=ut.length,mt;for(ft=0;ft<pt;ft+=1)if(mt=ut[ft],!(mt.e*ct<lt||mt.s*ct>lt+it)){var gt,yt;mt.s*ct<=lt?gt=0:gt=(mt.s*ct-lt)/it,mt.e*ct>=lt+it?yt=1:yt=(mt.e*ct-lt)/it,ht.push([gt,yt])}return ht.length||ht.push([0,0]),ht},TrimModifier.prototype.releasePathsData=function(Ye){var rt,it=Ye.length;for(rt=0;rt<it;rt+=1)segmentsLengthPool.release(Ye[rt]);return Ye.length=0,Ye},TrimModifier.prototype.processShapes=function(Ye){var rt,it;if(this._mdf||Ye){var lt=this.o.v%360/360;if(lt<0&&(lt+=1),this.s.v>1?rt=1+lt:this.s.v<0?rt=0+lt:rt=this.s.v+lt,this.e.v>1?it=1+lt:this.e.v<0?it=0+lt:it=this.e.v+lt,rt>it){var ct=rt;rt=it,it=ct}rt=Math.round(rt*1e4)*1e-4,it=Math.round(it*1e4)*1e-4,this.sValue=rt,this.eValue=it}else rt=this.sValue,it=this.eValue;var ut,ht,ft=this.shapes.length,pt,mt,gt,yt,xt,bt=0;if(it===rt)for(ht=0;ht<ft;ht+=1)this.shapes[ht].localShapeCollection.releaseShapes(),this.shapes[ht].shape._mdf=!0,this.shapes[ht].shape.paths=this.shapes[ht].localShapeCollection,this._mdf&&(this.shapes[ht].pathsData.length=0);else if(it===1&&rt===0||it===0&&rt===1){if(this._mdf)for(ht=0;ht<ft;ht+=1)this.shapes[ht].pathsData.length=0,this.shapes[ht].shape._mdf=!0}else{var _t=[],Ct,kt;for(ht=0;ht<ft;ht+=1)if(Ct=this.shapes[ht],!Ct.shape._mdf&&!this._mdf&&!Ye&&this.m!==2)Ct.shape.paths=Ct.localShapeCollection;else{if(ut=Ct.shape.paths,mt=ut._length,xt=0,!Ct.shape._mdf&&Ct.pathsData.length)xt=Ct.totalShapeLength;else{for(gt=this.releasePathsData(Ct.pathsData),pt=0;pt<mt;pt+=1)yt=bez.getSegmentsLength(ut.shapes[pt]),gt.push(yt),xt+=yt.totalLength;Ct.totalShapeLength=xt,Ct.pathsData=gt}bt+=xt,Ct.shape._mdf=!0}var St=rt,Rt=it,Tt=0,Mt;for(ht=ft-1;ht>=0;ht-=1)if(Ct=this.shapes[ht],Ct.shape._mdf){for(kt=Ct.localShapeCollection,kt.releaseShapes(),this.m===2&&ft>1?(Mt=this.calculateShapeEdges(rt,it,Ct.totalShapeLength,Tt,bt),Tt+=Ct.totalShapeLength):Mt=[[St,Rt]],mt=Mt.length,pt=0;pt<mt;pt+=1){St=Mt[pt][0],Rt=Mt[pt][1],_t.length=0,Rt<=1?_t.push({s:Ct.totalShapeLength*St,e:Ct.totalShapeLength*Rt}):St>=1?_t.push({s:Ct.totalShapeLength*(St-1),e:Ct.totalShapeLength*(Rt-1)}):(_t.push({s:Ct.totalShapeLength*St,e:Ct.totalShapeLength}),_t.push({s:0,e:Ct.totalShapeLength*(Rt-1)}));var Pt=this.addShapes(Ct,_t[0]);if(_t[0].s!==_t[0].e){if(_t.length>1){var It=Ct.shape.paths.shapes[Ct.shape.paths._length-1];if(It.c){var Lt=Pt.pop();this.addPaths(Pt,kt),Pt=this.addShapes(Ct,_t[1],Lt)}else this.addPaths(Pt,kt),Pt=this.addShapes(Ct,_t[1])}this.addPaths(Pt,kt)}}Ct.shape.paths=kt}}},TrimModifier.prototype.addPaths=function(Ye,rt){var it,lt=Ye.length;for(it=0;it<lt;it+=1)rt.addShape(Ye[it])},TrimModifier.prototype.addSegment=function(Ye,rt,it,lt,ct,ut,ht){ct.setXYAt(rt[0],rt[1],"o",ut),ct.setXYAt(it[0],it[1],"i",ut+1),ht&&ct.setXYAt(Ye[0],Ye[1],"v",ut),ct.setXYAt(lt[0],lt[1],"v",ut+1)},TrimModifier.prototype.addSegmentFromArray=function(Ye,rt,it,lt){rt.setXYAt(Ye[1],Ye[5],"o",it),rt.setXYAt(Ye[2],Ye[6],"i",it+1),lt&&rt.setXYAt(Ye[0],Ye[4],"v",it),rt.setXYAt(Ye[3],Ye[7],"v",it+1)},TrimModifier.prototype.addShapes=function(Ye,rt,it){var lt=Ye.pathsData,ct=Ye.shape.paths.shapes,ut,ht=Ye.shape.paths._length,ft,pt,mt=0,gt,yt,xt,bt,_t=[],Ct,kt=!0;for(it?(yt=it._length,Ct=it._length):(it=shapePool.newElement(),yt=0,Ct=0),_t.push(it),ut=0;ut<ht;ut+=1){for(xt=lt[ut].lengths,it.c=ct[ut].c,pt=ct[ut].c?xt.length:xt.length+1,ft=1;ft<pt;ft+=1)if(gt=xt[ft-1],mt+gt.addedLength<rt.s)mt+=gt.addedLength,it.c=!1;else if(mt>rt.e){it.c=!1;break}else rt.s<=mt&&rt.e>=mt+gt.addedLength?(this.addSegment(ct[ut].v[ft-1],ct[ut].o[ft-1],ct[ut].i[ft],ct[ut].v[ft],it,yt,kt),kt=!1):(bt=bez.getNewSegment(ct[ut].v[ft-1],ct[ut].v[ft],ct[ut].o[ft-1],ct[ut].i[ft],(rt.s-mt)/gt.addedLength,(rt.e-mt)/gt.addedLength,xt[ft-1]),this.addSegmentFromArray(bt,it,yt,kt),kt=!1,it.c=!1),mt+=gt.addedLength,yt+=1;if(ct[ut].c&&xt.length){if(gt=xt[ft-1],mt<=rt.e){var St=xt[ft-1].addedLength;rt.s<=mt&&rt.e>=mt+St?(this.addSegment(ct[ut].v[ft-1],ct[ut].o[ft-1],ct[ut].i[0],ct[ut].v[0],it,yt,kt),kt=!1):(bt=bez.getNewSegment(ct[ut].v[ft-1],ct[ut].v[0],ct[ut].o[ft-1],ct[ut].i[0],(rt.s-mt)/St,(rt.e-mt)/St,xt[ft-1]),this.addSegmentFromArray(bt,it,yt,kt),kt=!1,it.c=!1)}else it.c=!1;mt+=gt.addedLength,yt+=1}if(it._length&&(it.setXYAt(it.v[Ct][0],it.v[Ct][1],"i",Ct),it.setXYAt(it.v[it._length-1][0],it.v[it._length-1][1],"o",it._length-1)),mt>rt.e)break;ut<ht-1&&(it=shapePool.newElement(),kt=!0,_t.push(it),yt=0)}return _t};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Ye,rt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ye,rt.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Ye,rt){var it=rt/100,lt=[0,0],ct=Ye._length,ut=0;for(ut=0;ut<ct;ut+=1)lt[0]+=Ye.v[ut][0],lt[1]+=Ye.v[ut][1];lt[0]/=ct,lt[1]/=ct;var ht=shapePool.newElement();ht.c=Ye.c;var ft,pt,mt,gt,yt,xt;for(ut=0;ut<ct;ut+=1)ft=Ye.v[ut][0]+(lt[0]-Ye.v[ut][0])*it,pt=Ye.v[ut][1]+(lt[1]-Ye.v[ut][1])*it,mt=Ye.o[ut][0]+(lt[0]-Ye.o[ut][0])*-it,gt=Ye.o[ut][1]+(lt[1]-Ye.o[ut][1])*-it,yt=Ye.i[ut][0]+(lt[0]-Ye.i[ut][0])*-it,xt=Ye.i[ut][1]+(lt[1]-Ye.i[ut][1])*-it,ht.setTripleAt(ft,pt,mt,gt,yt,xt,ut);return ht},PuckerAndBloatModifier.prototype.processShapes=function(Ye){var rt,it,lt=this.shapes.length,ct,ut,ht=this.amount.v;if(ht!==0){var ft,pt;for(it=0;it<lt;it+=1){if(ft=this.shapes[it],pt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!Ye))for(pt.releaseShapes(),ft.shape._mdf=!0,rt=ft.shape.paths.shapes,ut=ft.shape.paths._length,ct=0;ct<ut;ct+=1)pt.addShape(this.processPath(rt[ct],ht));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var Ye=[0,0];function rt(pt){var mt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||mt,this.a&&pt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&pt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&pt.skewFromAxis(-this.sk.v,this.sa.v),this.r?pt.rotate(-this.r.v):pt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?pt.translate(this.px.v,this.py.v,-this.pz.v):pt.translate(this.px.v,this.py.v,0):pt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function it(pt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||pt){var mt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var gt,yt;if(mt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(gt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/mt,0),yt=this.p.getValueAtTime(this.p.keyframes[0].t/mt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(gt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/mt,0),yt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/mt,0)):(gt=this.p.pv,yt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/mt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){gt=[],yt=[];var xt=this.px,bt=this.py;xt._caching.lastFrame+xt.offsetTime<=xt.keyframes[0].t?(gt[0]=xt.getValueAtTime((xt.keyframes[0].t+.01)/mt,0),gt[1]=bt.getValueAtTime((bt.keyframes[0].t+.01)/mt,0),yt[0]=xt.getValueAtTime(xt.keyframes[0].t/mt,0),yt[1]=bt.getValueAtTime(bt.keyframes[0].t/mt,0)):xt._caching.lastFrame+xt.offsetTime>=xt.keyframes[xt.keyframes.length-1].t?(gt[0]=xt.getValueAtTime(xt.keyframes[xt.keyframes.length-1].t/mt,0),gt[1]=bt.getValueAtTime(bt.keyframes[bt.keyframes.length-1].t/mt,0),yt[0]=xt.getValueAtTime((xt.keyframes[xt.keyframes.length-1].t-.01)/mt,0),yt[1]=bt.getValueAtTime((bt.keyframes[bt.keyframes.length-1].t-.01)/mt,0)):(gt=[xt.pv,bt.pv],yt[0]=xt.getValueAtTime((xt._caching.lastFrame+xt.offsetTime-.01)/mt,xt.offsetTime),yt[1]=bt.getValueAtTime((bt._caching.lastFrame+bt.offsetTime-.01)/mt,bt.offsetTime))}else yt=Ye,gt=yt;this.v.rotate(-Math.atan2(gt[1]-yt[1],gt[0]-yt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function lt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function ct(){}function ut(pt){this._addDynamicProperty(pt),this.elem.addDynamicProperty(pt),this._isDirty=!0}function ht(pt,mt,gt){if(this.elem=pt,this.frameId=-1,this.propType="transform",this.data=mt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(gt||pt),mt.p&&mt.p.s?(this.px=PropertyFactory.getProp(pt,mt.p.x,0,0,this),this.py=PropertyFactory.getProp(pt,mt.p.y,0,0,this),mt.p.z&&(this.pz=PropertyFactory.getProp(pt,mt.p.z,0,0,this))):this.p=PropertyFactory.getProp(pt,mt.p||{k:[0,0,0]},1,0,this),mt.rx){if(this.rx=PropertyFactory.getProp(pt,mt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(pt,mt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(pt,mt.rz,0,degToRads,this),mt.or.k[0].ti){var yt,xt=mt.or.k.length;for(yt=0;yt<xt;yt+=1)mt.or.k[yt].to=null,mt.or.k[yt].ti=null}this.or=PropertyFactory.getProp(pt,mt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(pt,mt.r||{k:0},0,degToRads,this);mt.sk&&(this.sk=PropertyFactory.getProp(pt,mt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(pt,mt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(pt,mt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(pt,mt.s||{k:[100,100,100]},1,.01,this),mt.o?this.o=PropertyFactory.getProp(pt,mt.o,0,.01,pt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ht.prototype={applyToMatrix:rt,getValue:it,precalculateMatrix:lt,autoOrient:ct},extendPrototype([DynamicPropertyContainer],ht),ht.prototype.addDynamicProperty=ut,ht.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ft(pt,mt,gt){return new ht(pt,mt,gt)}return{getTransformProperty:ft}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Ye,rt){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Ye,rt.c,0,null,this),this.o=PropertyFactory.getProp(Ye,rt.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Ye,rt.tr,this),this.so=PropertyFactory.getProp(Ye,rt.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Ye,rt.tr.eo,0,.01,this),this.data=rt,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Ye,rt,it,lt,ct,ut){var ht=ut?-1:1,ft=lt.s.v[0]+(1-lt.s.v[0])*(1-ct),pt=lt.s.v[1]+(1-lt.s.v[1])*(1-ct);Ye.translate(lt.p.v[0]*ht*ct,lt.p.v[1]*ht*ct,lt.p.v[2]),rt.translate(-lt.a.v[0],-lt.a.v[1],lt.a.v[2]),rt.rotate(-lt.r.v*ht*ct),rt.translate(lt.a.v[0],lt.a.v[1],lt.a.v[2]),it.translate(-lt.a.v[0],-lt.a.v[1],lt.a.v[2]),it.scale(ut?1/ft:ft,ut?1/pt:pt),it.translate(lt.a.v[0],lt.a.v[1],lt.a.v[2])},RepeaterModifier.prototype.init=function(Ye,rt,it,lt){for(this.elem=Ye,this.arr=rt,this.pos=it,this.elemsData=lt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Ye),this.initModifierProperties(Ye,rt[it]);it>0;)it-=1,this._elements.unshift(rt[it]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Ye){var rt,it=Ye.length;for(rt=0;rt<it;rt+=1)Ye[rt]._processed=!1,Ye[rt].ty==="gr"&&this.resetElements(Ye[rt].it)},RepeaterModifier.prototype.cloneElements=function(Ye){var rt=JSON.parse(JSON.stringify(Ye));return this.resetElements(rt),rt},RepeaterModifier.prototype.changeGroupRender=function(Ye,rt){var it,lt=Ye.length;for(it=0;it<lt;it+=1)Ye[it]._render=rt,Ye[it].ty==="gr"&&this.changeGroupRender(Ye[it].it,rt)},RepeaterModifier.prototype.processShapes=function(Ye){var rt,it,lt,ct,ut,ht=!1;if(this._mdf||Ye){var ft=Math.ceil(this.c.v);if(this._groups.length<ft){for(;this._groups.length<ft;){var pt={it:this.cloneElements(this._elements),ty:"gr"};pt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,pt),this._groups.splice(0,0,pt),this._currentCopies+=1}this.elem.reloadShapes(),ht=!0}ut=0;var mt;for(lt=0;lt<=this._groups.length-1;lt+=1){if(mt=ut<ft,this._groups[lt]._render=mt,this.changeGroupRender(this._groups[lt].it,mt),!mt){var gt=this.elemsData[lt].it,yt=gt[gt.length-1];yt.transform.op.v!==0?(yt.transform.op._mdf=!0,yt.transform.op.v=0):yt.transform.op._mdf=!1}ut+=1}this._currentCopies=ft;var xt=this.o.v,bt=xt%1,_t=xt>0?Math.floor(xt):Math.ceil(xt),Ct=this.pMatrix.props,kt=this.rMatrix.props,St=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Rt=0;if(xt>0){for(;Rt<_t;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Rt+=1;bt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,bt,!1),Rt+=bt)}else if(xt<0){for(;Rt>_t;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Rt-=1;bt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-bt,!0),Rt-=bt)}lt=this.data.m===1?0:this._currentCopies-1,ct=this.data.m===1?1:-1,ut=this._currentCopies;for(var Tt,Mt;ut;){if(rt=this.elemsData[lt].it,it=rt[rt.length-1].transform.mProps.v.props,Mt=it.length,rt[rt.length-1].transform.mProps._mdf=!0,rt[rt.length-1].transform.op._mdf=!0,rt[rt.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(lt/(this._currentCopies-1)),Rt!==0){for((lt!==0&&ct===1||lt!==this._currentCopies-1&&ct===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6],kt[7],kt[8],kt[9],kt[10],kt[11],kt[12],kt[13],kt[14],kt[15]),this.matrix.transform(St[0],St[1],St[2],St[3],St[4],St[5],St[6],St[7],St[8],St[9],St[10],St[11],St[12],St[13],St[14],St[15]),this.matrix.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5],Ct[6],Ct[7],Ct[8],Ct[9],Ct[10],Ct[11],Ct[12],Ct[13],Ct[14],Ct[15]),Tt=0;Tt<Mt;Tt+=1)it[Tt]=this.matrix.props[Tt];this.matrix.reset()}else for(this.matrix.reset(),Tt=0;Tt<Mt;Tt+=1)it[Tt]=this.matrix.props[Tt];Rt+=1,ut-=1,lt+=ct}}else for(ut=this._currentCopies,lt=0,ct=1;ut;)rt=this.elemsData[lt].it,it=rt[rt.length-1].transform.mProps.v.props,rt[rt.length-1].transform.mProps._mdf=!1,rt[rt.length-1].transform.op._mdf=!1,ut-=1,lt+=ct;return ht},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Ye,rt){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Ye,rt.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Ye,rt){var it=shapePool.newElement();it.c=Ye.c;var lt,ct=Ye._length,ut,ht,ft,pt,mt,gt,yt=0,xt,bt,_t,Ct,kt,St;for(lt=0;lt<ct;lt+=1)ut=Ye.v[lt],ft=Ye.o[lt],ht=Ye.i[lt],ut[0]===ft[0]&&ut[1]===ft[1]&&ut[0]===ht[0]&&ut[1]===ht[1]?(lt===0||lt===ct-1)&&!Ye.c?(it.setTripleAt(ut[0],ut[1],ft[0],ft[1],ht[0],ht[1],yt),yt+=1):(lt===0?pt=Ye.v[ct-1]:pt=Ye.v[lt-1],mt=Math.sqrt(Math.pow(ut[0]-pt[0],2)+Math.pow(ut[1]-pt[1],2)),gt=mt?Math.min(mt/2,rt)/mt:0,kt=ut[0]+(pt[0]-ut[0])*gt,xt=kt,St=ut[1]-(ut[1]-pt[1])*gt,bt=St,_t=xt-(xt-ut[0])*roundCorner,Ct=bt-(bt-ut[1])*roundCorner,it.setTripleAt(xt,bt,_t,Ct,kt,St,yt),yt+=1,lt===ct-1?pt=Ye.v[0]:pt=Ye.v[lt+1],mt=Math.sqrt(Math.pow(ut[0]-pt[0],2)+Math.pow(ut[1]-pt[1],2)),gt=mt?Math.min(mt/2,rt)/mt:0,_t=ut[0]+(pt[0]-ut[0])*gt,xt=_t,Ct=ut[1]+(pt[1]-ut[1])*gt,bt=Ct,kt=xt-(xt-ut[0])*roundCorner,St=bt-(bt-ut[1])*roundCorner,it.setTripleAt(xt,bt,_t,Ct,kt,St,yt),yt+=1):(it.setTripleAt(Ye.v[lt][0],Ye.v[lt][1],Ye.o[lt][0],Ye.o[lt][1],Ye.i[lt][0],Ye.i[lt][1],yt),yt+=1);return it},RoundCornersModifier.prototype.processShapes=function(Ye){var rt,it,lt=this.shapes.length,ct,ut,ht=this.rd.v;if(ht!==0){var ft,pt;for(it=0;it<lt;it+=1){if(ft=this.shapes[it],pt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!Ye))for(pt.releaseShapes(),ft.shape._mdf=!0,rt=ft.shape.paths.shapes,ut=ft.shape.paths._length,ct=0;ct<ut;ct+=1)pt.addShape(this.processPath(rt[ct],ht));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Ye,rt){return Math.abs(Ye-rt)*1e5<=Math.min(Math.abs(Ye),Math.abs(rt))}function floatZero(Ye){return Math.abs(Ye)<=1e-5}function lerp(Ye,rt,it){return Ye*(1-it)+rt*it}function lerpPoint(Ye,rt,it){return[lerp(Ye[0],rt[0],it),lerp(Ye[1],rt[1],it)]}function quadRoots(Ye,rt,it){if(Ye===0)return[];var lt=rt*rt-4*Ye*it;if(lt<0)return[];var ct=-rt/(2*Ye);if(lt===0)return[ct];var ut=Math.sqrt(lt)/(2*Ye);return[ct-ut,ct+ut]}function polynomialCoefficients(Ye,rt,it,lt){return[-Ye+3*rt-3*it+lt,3*Ye-6*rt+3*it,-3*Ye+3*rt,Ye]}function singlePoint(Ye){return new PolynomialBezier(Ye,Ye,Ye,Ye,!1)}function PolynomialBezier(Ye,rt,it,lt,ct){ct&&pointEqual(Ye,rt)&&(rt=lerpPoint(Ye,lt,1/3)),ct&&pointEqual(it,lt)&&(it=lerpPoint(Ye,lt,2/3));var ut=polynomialCoefficients(Ye[0],rt[0],it[0],lt[0]),ht=polynomialCoefficients(Ye[1],rt[1],it[1],lt[1]);this.a=[ut[0],ht[0]],this.b=[ut[1],ht[1]],this.c=[ut[2],ht[2]],this.d=[ut[3],ht[3]],this.points=[Ye,rt,it,lt]}PolynomialBezier.prototype.point=function(Ye){return[((this.a[0]*Ye+this.b[0])*Ye+this.c[0])*Ye+this.d[0],((this.a[1]*Ye+this.b[1])*Ye+this.c[1])*Ye+this.d[1]]},PolynomialBezier.prototype.derivative=function(Ye){return[(3*Ye*this.a[0]+2*this.b[0])*Ye+this.c[0],(3*Ye*this.a[1]+2*this.b[1])*Ye+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Ye){var rt=this.derivative(Ye);return Math.atan2(rt[1],rt[0])},PolynomialBezier.prototype.normalAngle=function(Ye){var rt=this.derivative(Ye);return Math.atan2(rt[0],rt[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Ye=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Ye))return[];var rt=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Ye,it=rt*rt-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Ye;if(it<0)return[];var lt=Math.sqrt(it);return floatZero(lt)?lt>0&&lt<1?[rt]:[]:[rt-lt,rt+lt].filter(function(ct){return ct>0&&ct<1})},PolynomialBezier.prototype.split=function(Ye){if(Ye<=0)return[singlePoint(this.points[0]),this];if(Ye>=1)return[this,singlePoint(this.points[this.points.length-1])];var rt=lerpPoint(this.points[0],this.points[1],Ye),it=lerpPoint(this.points[1],this.points[2],Ye),lt=lerpPoint(this.points[2],this.points[3],Ye),ct=lerpPoint(rt,it,Ye),ut=lerpPoint(it,lt,Ye),ht=lerpPoint(ct,ut,Ye);return[new PolynomialBezier(this.points[0],rt,ct,ht,!0),new PolynomialBezier(ht,ut,lt,this.points[3],!0)]};function extrema(Ye,rt){var it=Ye.points[0][rt],lt=Ye.points[Ye.points.length-1][rt];if(it>lt){var ct=lt;lt=it,it=ct}for(var ut=quadRoots(3*Ye.a[rt],2*Ye.b[rt],Ye.c[rt]),ht=0;ht<ut.length;ht+=1)if(ut[ht]>0&&ut[ht]<1){var ft=Ye.point(ut[ht])[rt];ft<it?it=ft:ft>lt&&(lt=ft)}return{min:it,max:lt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Ye=this.bounds();return{left:Ye.x.min,right:Ye.x.max,top:Ye.y.min,bottom:Ye.y.max,width:Ye.x.max-Ye.x.min,height:Ye.y.max-Ye.y.min,cx:(Ye.x.max+Ye.x.min)/2,cy:(Ye.y.max+Ye.y.min)/2}};function intersectData(Ye,rt,it){var lt=Ye.boundingBox();return{cx:lt.cx,cy:lt.cy,width:lt.width,height:lt.height,bez:Ye,t:(rt+it)/2,t1:rt,t2:it}}function splitData(Ye){var rt=Ye.bez.split(.5);return[intersectData(rt[0],Ye.t1,Ye.t),intersectData(rt[1],Ye.t,Ye.t2)]}function boxIntersect(Ye,rt){return Math.abs(Ye.cx-rt.cx)*2<Ye.width+rt.width&&Math.abs(Ye.cy-rt.cy)*2<Ye.height+rt.height}function intersectsImpl(Ye,rt,it,lt,ct,ut){if(boxIntersect(Ye,rt)){if(it>=ut||Ye.width<=lt&&Ye.height<=lt&&rt.width<=lt&&rt.height<=lt){ct.push([Ye.t,rt.t]);return}var ht=splitData(Ye),ft=splitData(rt);intersectsImpl(ht[0],ft[0],it+1,lt,ct,ut),intersectsImpl(ht[0],ft[1],it+1,lt,ct,ut),intersectsImpl(ht[1],ft[0],it+1,lt,ct,ut),intersectsImpl(ht[1],ft[1],it+1,lt,ct,ut)}}PolynomialBezier.prototype.intersections=function(Ye,rt,it){rt===void 0&&(rt=2),it===void 0&&(it=7);var lt=[];return intersectsImpl(intersectData(this,0,1),intersectData(Ye,0,1),0,rt,lt,it),lt},PolynomialBezier.shapeSegment=function(Ye,rt){var it=(rt+1)%Ye.length();return new PolynomialBezier(Ye.v[rt],Ye.o[rt],Ye.i[it],Ye.v[it],!0)},PolynomialBezier.shapeSegmentInverted=function(Ye,rt){var it=(rt+1)%Ye.length();return new PolynomialBezier(Ye.v[it],Ye.i[it],Ye.o[rt],Ye.v[rt],!0)};function crossProduct(Ye,rt){return[Ye[1]*rt[2]-Ye[2]*rt[1],Ye[2]*rt[0]-Ye[0]*rt[2],Ye[0]*rt[1]-Ye[1]*rt[0]]}function lineIntersection(Ye,rt,it,lt){var ct=[Ye[0],Ye[1],1],ut=[rt[0],rt[1],1],ht=[it[0],it[1],1],ft=[lt[0],lt[1],1],pt=crossProduct(crossProduct(ct,ut),crossProduct(ht,ft));return floatZero(pt[2])?null:[pt[0]/pt[2],pt[1]/pt[2]]}function polarOffset(Ye,rt,it){return[Ye[0]+Math.cos(rt)*it,Ye[1]-Math.sin(rt)*it]}function pointDistance(Ye,rt){return Math.hypot(Ye[0]-rt[0],Ye[1]-rt[1])}function pointEqual(Ye,rt){return floatEqual(Ye[0],rt[0])&&floatEqual(Ye[1],rt[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Ye,rt){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Ye,rt.s,0,null,this),this.frequency=PropertyFactory.getProp(Ye,rt.r,0,null,this),this.pointsType=PropertyFactory.getProp(Ye,rt.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Ye,rt,it,lt,ct,ut,ht){var ft=it-Math.PI/2,pt=it+Math.PI/2,mt=rt[0]+Math.cos(it)*lt*ct,gt=rt[1]-Math.sin(it)*lt*ct;Ye.setTripleAt(mt,gt,mt+Math.cos(ft)*ut,gt-Math.sin(ft)*ut,mt+Math.cos(pt)*ht,gt-Math.sin(pt)*ht,Ye.length())}function getPerpendicularVector(Ye,rt){var it=[rt[0]-Ye[0],rt[1]-Ye[1]],lt=-Math.PI*.5,ct=[Math.cos(lt)*it[0]-Math.sin(lt)*it[1],Math.sin(lt)*it[0]+Math.cos(lt)*it[1]];return ct}function getProjectingAngle(Ye,rt){var it=rt===0?Ye.length()-1:rt-1,lt=(rt+1)%Ye.length(),ct=Ye.v[it],ut=Ye.v[lt],ht=getPerpendicularVector(ct,ut);return Math.atan2(0,1)-Math.atan2(ht[1],ht[0])}function zigZagCorner(Ye,rt,it,lt,ct,ut,ht){var ft=getProjectingAngle(rt,it),pt=rt.v[it%rt._length],mt=rt.v[it===0?rt._length-1:it-1],gt=rt.v[(it+1)%rt._length],yt=ut===2?Math.sqrt(Math.pow(pt[0]-mt[0],2)+Math.pow(pt[1]-mt[1],2)):0,xt=ut===2?Math.sqrt(Math.pow(pt[0]-gt[0],2)+Math.pow(pt[1]-gt[1],2)):0;setPoint(Ye,rt.v[it%rt._length],ft,ht,lt,xt/((ct+1)*2),yt/((ct+1)*2))}function zigZagSegment(Ye,rt,it,lt,ct,ut){for(var ht=0;ht<lt;ht+=1){var ft=(ht+1)/(lt+1),pt=ct===2?Math.sqrt(Math.pow(rt.points[3][0]-rt.points[0][0],2)+Math.pow(rt.points[3][1]-rt.points[0][1],2)):0,mt=rt.normalAngle(ft),gt=rt.point(ft);setPoint(Ye,gt,mt,ut,it,pt/((lt+1)*2),pt/((lt+1)*2)),ut=-ut}return ut}ZigZagModifier.prototype.processPath=function(Ye,rt,it,lt){var ct=Ye._length,ut=shapePool.newElement();if(ut.c=Ye.c,Ye.c||(ct-=1),ct===0)return ut;var ht=-1,ft=PolynomialBezier.shapeSegment(Ye,0);zigZagCorner(ut,Ye,0,rt,it,lt,ht);for(var pt=0;pt<ct;pt+=1)ht=zigZagSegment(ut,ft,rt,it,lt,-ht),pt===ct-1&&!Ye.c?ft=null:ft=PolynomialBezier.shapeSegment(Ye,(pt+1)%ct),zigZagCorner(ut,Ye,pt+1,rt,it,lt,ht);return ut},ZigZagModifier.prototype.processShapes=function(Ye){var rt,it,lt=this.shapes.length,ct,ut,ht=this.amplitude.v,ft=Math.max(0,Math.round(this.frequency.v)),pt=this.pointsType.v;if(ht!==0){var mt,gt;for(it=0;it<lt;it+=1){if(mt=this.shapes[it],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!Ye))for(gt.releaseShapes(),mt.shape._mdf=!0,rt=mt.shape.paths.shapes,ut=mt.shape.paths._length,ct=0;ct<ut;ct+=1)gt.addShape(this.processPath(rt[ct],ht,ft,pt));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Ye,rt,it){var lt=Math.atan2(rt[0]-Ye[0],rt[1]-Ye[1]);return[polarOffset(Ye,lt,it),polarOffset(rt,lt,it)]}function offsetSegment(Ye,rt){var it,lt,ct,ut,ht,ft,pt;pt=linearOffset(Ye.points[0],Ye.points[1],rt),it=pt[0],lt=pt[1],pt=linearOffset(Ye.points[1],Ye.points[2],rt),ct=pt[0],ut=pt[1],pt=linearOffset(Ye.points[2],Ye.points[3],rt),ht=pt[0],ft=pt[1];var mt=lineIntersection(it,lt,ct,ut);mt===null&&(mt=lt);var gt=lineIntersection(ht,ft,ct,ut);return gt===null&&(gt=ht),new PolynomialBezier(it,mt,gt,ft)}function joinLines(Ye,rt,it,lt,ct){var ut=rt.points[3],ht=it.points[0];if(lt===3||pointEqual(ut,ht))return ut;if(lt===2){var ft=-rt.tangentAngle(1),pt=-it.tangentAngle(0)+Math.PI,mt=lineIntersection(ut,polarOffset(ut,ft+Math.PI/2,100),ht,polarOffset(ht,ft+Math.PI/2,100)),gt=mt?pointDistance(mt,ut):pointDistance(ut,ht)/2,yt=polarOffset(ut,ft,2*gt*roundCorner);return Ye.setXYAt(yt[0],yt[1],"o",Ye.length()-1),yt=polarOffset(ht,pt,2*gt*roundCorner),Ye.setTripleAt(ht[0],ht[1],ht[0],ht[1],yt[0],yt[1],Ye.length()),ht}var xt=pointEqual(ut,rt.points[2])?rt.points[0]:rt.points[2],bt=pointEqual(ht,it.points[1])?it.points[3]:it.points[1],_t=lineIntersection(xt,ut,ht,bt);return _t&&pointDistance(_t,ut)<ct?(Ye.setTripleAt(_t[0],_t[1],_t[0],_t[1],_t[0],_t[1],Ye.length()),_t):ut}function getIntersection(Ye,rt){var it=Ye.intersections(rt);return it.length&&floatEqual(it[0][0],1)&&it.shift(),it.length?it[0]:null}function pruneSegmentIntersection(Ye,rt){var it=Ye.slice(),lt=rt.slice(),ct=getIntersection(Ye[Ye.length-1],rt[0]);return ct&&(it[Ye.length-1]=Ye[Ye.length-1].split(ct[0])[0],lt[0]=rt[0].split(ct[1])[1]),Ye.length>1&&rt.length>1&&(ct=getIntersection(Ye[0],rt[rt.length-1]),ct)?[[Ye[0].split(ct[0])[0]],[rt[rt.length-1].split(ct[1])[1]]]:[it,lt]}function pruneIntersections(Ye){for(var rt,it=1;it<Ye.length;it+=1)rt=pruneSegmentIntersection(Ye[it-1],Ye[it]),Ye[it-1]=rt[0],Ye[it]=rt[1];return Ye.length>1&&(rt=pruneSegmentIntersection(Ye[Ye.length-1],Ye[0]),Ye[Ye.length-1]=rt[0],Ye[0]=rt[1]),Ye}function offsetSegmentSplit(Ye,rt){var it=Ye.inflectionPoints(),lt,ct,ut,ht;if(it.length===0)return[offsetSegment(Ye,rt)];if(it.length===1||floatEqual(it[1],1))return ut=Ye.split(it[0]),lt=ut[0],ct=ut[1],[offsetSegment(lt,rt),offsetSegment(ct,rt)];ut=Ye.split(it[0]),lt=ut[0];var ft=(it[1]-it[0])/(1-it[0]);return ut=ut[1].split(ft),ht=ut[0],ct=ut[1],[offsetSegment(lt,rt),offsetSegment(ht,rt),offsetSegment(ct,rt)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Ye,rt){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ye,rt.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Ye,rt.ml,0,null,this),this.lineJoin=rt.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Ye,rt,it,lt){var ct=shapePool.newElement();ct.c=Ye.c;var ut=Ye.length();Ye.c||(ut-=1);var ht,ft,pt,mt=[];for(ht=0;ht<ut;ht+=1)pt=PolynomialBezier.shapeSegment(Ye,ht),mt.push(offsetSegmentSplit(pt,rt));if(!Ye.c)for(ht=ut-1;ht>=0;ht-=1)pt=PolynomialBezier.shapeSegmentInverted(Ye,ht),mt.push(offsetSegmentSplit(pt,rt));mt=pruneIntersections(mt);var gt=null,yt=null;for(ht=0;ht<mt.length;ht+=1){var xt=mt[ht];for(yt&&(gt=joinLines(ct,yt,xt[0],it,lt)),yt=xt[xt.length-1],ft=0;ft<xt.length;ft+=1)pt=xt[ft],gt&&pointEqual(pt.points[0],gt)?ct.setXYAt(pt.points[1][0],pt.points[1][1],"o",ct.length()-1):ct.setTripleAt(pt.points[0][0],pt.points[0][1],pt.points[1][0],pt.points[1][1],pt.points[0][0],pt.points[0][1],ct.length()),ct.setTripleAt(pt.points[3][0],pt.points[3][1],pt.points[3][0],pt.points[3][1],pt.points[2][0],pt.points[2][1],ct.length()),gt=pt.points[3]}return mt.length&&joinLines(ct,yt,mt[0][0],it,lt),ct},OffsetPathModifier.prototype.processShapes=function(Ye){var rt,it,lt=this.shapes.length,ct,ut,ht=this.amount.v,ft=this.miterLimit.v,pt=this.lineJoin;if(ht!==0){var mt,gt;for(it=0;it<lt;it+=1){if(mt=this.shapes[it],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!Ye))for(gt.releaseShapes(),mt.shape._mdf=!0,rt=mt.shape.paths.shapes,ut=mt.shape.paths._length,ct=0;ct<ut;ct+=1)gt.addShape(this.processPath(rt[ct],ht,pt,ft));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Ye){for(var rt=Ye.fStyle?Ye.fStyle.split(" "):[],it="normal",lt="normal",ct=rt.length,ut,ht=0;ht<ct;ht+=1)switch(ut=rt[ht].toLowerCase(),ut){case"italic":lt="italic";break;case"bold":it="700";break;case"black":it="900";break;case"medium":it="500";break;case"regular":case"normal":it="400";break;case"light":case"thin":it="200";break}return{style:lt,weight:Ye.fWeight||it}}var FontManager=(function(){var Ye=5e3,rt={w:0,size:0,shapes:[],data:{shapes:[]}},it=[];it=it.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var lt=127988,ct=917631,ut=917601,ht=917626,ft=65039,pt=8205,mt=127462,gt=127487,yt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function xt($t){var zt=$t.split(","),Nt,qt=zt.length,Gt=[];for(Nt=0;Nt<qt;Nt+=1)zt[Nt]!=="sans-serif"&&zt[Nt]!=="monospace"&&Gt.push(zt[Nt]);return Gt.join(",")}function bt($t,zt){var Nt=createTag("span");Nt.setAttribute("aria-hidden",!0),Nt.style.fontFamily=zt;var qt=createTag("span");qt.innerText="giItT1WQy@!-/#",Nt.style.position="absolute",Nt.style.left="-10000px",Nt.style.top="-10000px",Nt.style.fontSize="300px",Nt.style.fontVariant="normal",Nt.style.fontStyle="normal",Nt.style.fontWeight="normal",Nt.style.letterSpacing="0",Nt.appendChild(qt),document.body.appendChild(Nt);var Gt=qt.offsetWidth;return qt.style.fontFamily=xt($t)+", "+zt,{node:qt,w:Gt,parent:Nt}}function _t(){var $t,zt=this.fonts.length,Nt,qt,Gt=zt;for($t=0;$t<zt;$t+=1)this.fonts[$t].loaded?Gt-=1:this.fonts[$t].fOrigin==="n"||this.fonts[$t].origin===0?this.fonts[$t].loaded=!0:(Nt=this.fonts[$t].monoCase.node,qt=this.fonts[$t].monoCase.w,Nt.offsetWidth!==qt?(Gt-=1,this.fonts[$t].loaded=!0):(Nt=this.fonts[$t].sansCase.node,qt=this.fonts[$t].sansCase.w,Nt.offsetWidth!==qt&&(Gt-=1,this.fonts[$t].loaded=!0)),this.fonts[$t].loaded&&(this.fonts[$t].sansCase.parent.parentNode.removeChild(this.fonts[$t].sansCase.parent),this.fonts[$t].monoCase.parent.parentNode.removeChild(this.fonts[$t].monoCase.parent)));Gt!==0&&Date.now()-this.initTime<Ye?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ct($t,zt){var Nt=document.body&&zt?"svg":"canvas",qt,Gt=getFontProperties($t);if(Nt==="svg"){var Ht=createNS("text");Ht.style.fontSize="100px",Ht.setAttribute("font-family",$t.fFamily),Ht.setAttribute("font-style",Gt.style),Ht.setAttribute("font-weight",Gt.weight),Ht.textContent="1",$t.fClass?(Ht.style.fontFamily="inherit",Ht.setAttribute("class",$t.fClass)):Ht.style.fontFamily=$t.fFamily,zt.appendChild(Ht),qt=Ht}else{var Xt=new OffscreenCanvas(500,500).getContext("2d");Xt.font=Gt.style+" "+Gt.weight+" 100px "+$t.fFamily,qt=Xt}function Bt(nr){return Nt==="svg"?(qt.textContent=nr,qt.getComputedTextLength()):qt.measureText(nr).width}return{measureText:Bt}}function kt($t,zt){if(!$t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=$t.list;return}if(!document.body){this.isLoaded=!0,$t.list.forEach(function(ar){ar.helper=Ct(ar),ar.cache={}}),this.fonts=$t.list;return}var Nt=$t.list,qt,Gt=Nt.length,Ht=Gt;for(qt=0;qt<Gt;qt+=1){var Xt=!0,Bt,nr;if(Nt[qt].loaded=!1,Nt[qt].monoCase=bt(Nt[qt].fFamily,"monospace"),Nt[qt].sansCase=bt(Nt[qt].fFamily,"sans-serif"),!Nt[qt].fPath)Nt[qt].loaded=!0,Ht-=1;else if(Nt[qt].fOrigin==="p"||Nt[qt].origin===3){if(Bt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Nt[qt].fFamily+'"], style[f-origin="3"][f-family="'+Nt[qt].fFamily+'"]'),Bt.length>0&&(Xt=!1),Xt){var rr=createTag("style");rr.setAttribute("f-forigin",Nt[qt].fOrigin),rr.setAttribute("f-origin",Nt[qt].origin),rr.setAttribute("f-family",Nt[qt].fFamily),rr.type="text/css",rr.innerText="@font-face {font-family: "+Nt[qt].fFamily+"; font-style: normal; src: url('"+Nt[qt].fPath+"');}",zt.appendChild(rr)}}else if(Nt[qt].fOrigin==="g"||Nt[qt].origin===1){for(Bt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),nr=0;nr<Bt.length;nr+=1)Bt[nr].href.indexOf(Nt[qt].fPath)!==-1&&(Xt=!1);if(Xt){var Jt=createTag("link");Jt.setAttribute("f-forigin",Nt[qt].fOrigin),Jt.setAttribute("f-origin",Nt[qt].origin),Jt.type="text/css",Jt.rel="stylesheet",Jt.href=Nt[qt].fPath,document.body.appendChild(Jt)}}else if(Nt[qt].fOrigin==="t"||Nt[qt].origin===2){for(Bt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),nr=0;nr<Bt.length;nr+=1)Nt[qt].fPath===Bt[nr].src&&(Xt=!1);if(Xt){var ir=createTag("link");ir.setAttribute("f-forigin",Nt[qt].fOrigin),ir.setAttribute("f-origin",Nt[qt].origin),ir.setAttribute("rel","stylesheet"),ir.setAttribute("href",Nt[qt].fPath),zt.appendChild(ir)}}Nt[qt].helper=Ct(Nt[qt],zt),Nt[qt].cache={},this.fonts.push(Nt[qt])}Ht===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function St($t){if($t){this.chars||(this.chars=[]);var zt,Nt=$t.length,qt,Gt=this.chars.length,Ht;for(zt=0;zt<Nt;zt+=1){for(qt=0,Ht=!1;qt<Gt;)this.chars[qt].style===$t[zt].style&&this.chars[qt].fFamily===$t[zt].fFamily&&this.chars[qt].ch===$t[zt].ch&&(Ht=!0),qt+=1;Ht||(this.chars.push($t[zt]),Gt+=1)}}}function Rt($t,zt,Nt){for(var qt=0,Gt=this.chars.length;qt<Gt;){if(this.chars[qt].ch===$t&&this.chars[qt].style===zt&&this.chars[qt].fFamily===Nt)return this.chars[qt];qt+=1}return(typeof $t=="string"&&$t.charCodeAt(0)!==13||!$t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",$t,zt,Nt)),rt}function Tt($t,zt,Nt){var qt=this.getFontByName(zt),Gt=$t;if(!qt.cache[Gt]){var Ht=qt.helper;if($t===" "){var Xt=Ht.measureText("|"+$t+"|"),Bt=Ht.measureText("||");qt.cache[Gt]=(Xt-Bt)/100}else qt.cache[Gt]=Ht.measureText($t)/100}return qt.cache[Gt]*Nt}function Mt($t){for(var zt=0,Nt=this.fonts.length;zt<Nt;){if(this.fonts[zt].fName===$t)return this.fonts[zt];zt+=1}return this.fonts[0]}function Pt($t){var zt=0,Nt=$t.charCodeAt(0);if(Nt>=55296&&Nt<=56319){var qt=$t.charCodeAt(1);qt>=56320&&qt<=57343&&(zt=(Nt-55296)*1024+qt-56320+65536)}return zt}function It($t,zt){var Nt=$t.toString(16)+zt.toString(16);return yt.indexOf(Nt)!==-1}function Lt($t){return $t===pt}function Ot($t){return $t===ft}function Ft($t){var zt=Pt($t);return zt>=mt&&zt<=gt}function Ut($t){return Ft($t.substr(0,2))&&Ft($t.substr(2,2))}function Wt($t){return it.indexOf($t)!==-1}function Kt($t,zt){var Nt=Pt($t.substr(zt,2));if(Nt!==lt)return!1;var qt=0;for(zt+=2;qt<5;){if(Nt=Pt($t.substr(zt,2)),Nt<ut||Nt>ht)return!1;qt+=1,zt+=2}return Pt($t.substr(zt,2))===ct}function Qt(){this.isLoaded=!0}var Zt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Zt.isModifier=It,Zt.isZeroWidthJoiner=Lt,Zt.isFlagEmoji=Ut,Zt.isRegionalCode=Ft,Zt.isCombinedCharacter=Wt,Zt.isRegionalFlag=Kt,Zt.isVariationSelector=Ot,Zt.BLACK_FLAG_CODE_POINT=lt;var Vt={addChars:St,addFonts:kt,getCharData:Rt,getFontByName:Mt,measureText:Tt,checkLoadedFonts:_t,setIsLoaded:Qt};return Zt.prototype=Vt,Zt})();function SlotManager(Ye){this.animationData=Ye}SlotManager.prototype.getProp=function(Ye){return this.animationData.slots&&this.animationData.slots[Ye.sid]?Object.assign(Ye,this.animationData.slots[Ye.sid].p):Ye};function slotFactory(Ye){return new SlotManager(Ye)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(rt){this.renderableComponents.indexOf(rt)===-1&&this.renderableComponents.push(rt)},removeRenderableComponent:function(rt){this.renderableComponents.indexOf(rt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(rt),1)},prepareRenderableFrame:function(rt){this.checkLayerLimits(rt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(rt){this.data.ip-this.data.st<=rt&&this.data.op-this.data.st>rt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var rt,it=this.renderableComponents.length;for(rt=0;rt<it;rt+=1)this.renderableComponents[rt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var Ye={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(rt){return Ye[rt]||""}})();function SliderEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,0,0,it)}function AngleEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,0,0,it)}function ColorEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,1,0,it)}function PointEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,1,0,it)}function LayerIndexEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,0,0,it)}function MaskIndexEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,0,0,it)}function CheckboxEffect(Ye,rt,it){this.p=PropertyFactory.getProp(rt,Ye.v,0,0,it)}function NoValueEffect(){this.p={}}function EffectsManager(Ye,rt){var it=Ye.ef||[];this.effectElements=[];var lt,ct=it.length,ut;for(lt=0;lt<ct;lt+=1)ut=new GroupEffect(it[lt],rt),this.effectElements.push(ut)}function GroupEffect(Ye,rt){this.init(Ye,rt)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Ye,rt){this.data=Ye,this.effectElements=[],this.initDynamicPropertyContainer(rt);var it,lt=this.data.ef.length,ct,ut=this.data.ef;for(it=0;it<lt;it+=1){switch(ct=null,ut[it].ty){case 0:ct=new SliderEffect(ut[it],rt,this);break;case 1:ct=new AngleEffect(ut[it],rt,this);break;case 2:ct=new ColorEffect(ut[it],rt,this);break;case 3:ct=new PointEffect(ut[it],rt,this);break;case 4:case 7:ct=new CheckboxEffect(ut[it],rt,this);break;case 10:ct=new LayerIndexEffect(ut[it],rt,this);break;case 11:ct=new MaskIndexEffect(ut[it],rt,this);break;case 5:ct=new EffectsManager(ut[it],rt);break;default:ct=new NoValueEffect(ut[it]);break}ct&&this.effectElements.push(ct)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var rt=0,it=this.data.masksProperties.length;rt<it;){if(this.data.masksProperties[rt].mode!=="n"&&this.data.masksProperties[rt].cl!==!1)return!0;rt+=1}return!1},initExpressions:function(){var rt=getExpressionInterfaces();if(rt){var it=rt("layer"),lt=rt("effects"),ct=rt("shape"),ut=rt("text"),ht=rt("comp");this.layerInterface=it(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ft=lt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ft),this.data.ty===0||this.data.xt?this.compInterface=ht(this):this.data.ty===4?(this.layerInterface.shapeInterface=ct(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=ut(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var rt=getBlendMode(this.data.bm),it=this.baseElement||this.layerElement;it.style["mix-blend-mode"]=rt},initBaseData:function(rt,it,lt){this.globalData=it,this.comp=lt,this.data=rt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(rt,it){var lt,ct=this.dynamicProperties.length;for(lt=0;lt<ct;lt+=1)(it||this._isParent&&this.dynamicProperties[lt].propType==="transform")&&(this.dynamicProperties[lt].getValue(),this.dynamicProperties[lt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(rt){this.dynamicProperties.indexOf(rt)===-1&&this.dynamicProperties.push(rt)}};function FootageElement(Ye,rt,it){this.initFrame(),this.initRenderable(),this.assetData=rt.getAssetData(Ye.refId),this.footageData=rt.imageLoader.getAsset(this.assetData),this.initBaseData(Ye,rt,it)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Ye=getExpressionInterfaces();if(Ye){var rt=Ye("footage");this.layerInterface=rt(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Ye,rt,it){this.initFrame(),this.initRenderable(),this.assetData=rt.getAssetData(Ye.refId),this.initBaseData(Ye,rt,it),this._isPlaying=!1,this._canPlay=!1;var lt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(lt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Ye.tm?PropertyFactory.getProp(this,Ye.tm,0,rt.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Ye.au&&Ye.au.lv?Ye.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Ye){if(this.prepareRenderableFrame(Ye,!0),this.prepareProperties(Ye,!0),this.tm._placeholder)this._currentTime=Ye/this.data.sr;else{var rt=this.tm.v;this._currentTime=rt}this._volume=this.lv.v[0];var it=this._volume*this._volumeMultiplier;this._previousVolume!==it&&(this._previousVolume=it,this.audio.volume(it))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Ye){this.audio.rate(Ye)},AudioElement.prototype.volume=function(Ye){this._volumeMultiplier=Ye,this._previousVolume=Ye*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Ye){var rt,it=this.layers.length,lt;for(this.completeLayers=!0,rt=it-1;rt>=0;rt-=1)this.elements[rt]||(lt=this.layers[rt],lt.ip-lt.st<=Ye-this.layers[rt].st&&lt.op-lt.st>Ye-this.layers[rt].st&&this.buildItem(rt)),this.completeLayers=this.elements[rt]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Ye){switch(Ye.ty){case 2:return this.createImage(Ye);case 0:return this.createComp(Ye);case 1:return this.createSolid(Ye);case 3:return this.createNull(Ye);case 4:return this.createShape(Ye);case 5:return this.createText(Ye);case 6:return this.createAudio(Ye);case 13:return this.createCamera(Ye);case 15:return this.createFootage(Ye);default:return this.createNull(Ye)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Ye){return new AudioElement(Ye,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Ye){return new FootageElement(Ye,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Ye,rt=this.layers.length;for(Ye=0;Ye<rt;Ye+=1)this.buildItem(Ye);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Ye){this.completeLayers=!1;var rt,it=Ye.length,lt,ct=this.layers.length;for(rt=0;rt<it;rt+=1)for(lt=0;lt<ct;){if(this.layers[lt].id===Ye[rt].id){this.layers[lt]=Ye[rt];break}lt+=1}},BaseRenderer.prototype.setProjectInterface=function(Ye){this.globalData.projectInterface=Ye},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Ye,rt,it){for(var lt=this.elements,ct=this.layers,ut=0,ht=ct.length;ut<ht;)ct[ut].ind==rt&&(!lt[ut]||lt[ut]===!0?(this.buildItem(ut),this.addPendingElement(Ye)):(it.push(lt[ut]),lt[ut].setAsParent(),ct[ut].parent!==void 0?this.buildElementParenting(Ye,ct[ut].parent,it):Ye.setHierarchy(it))),ut+=1},BaseRenderer.prototype.addPendingElement=function(Ye){this.pendingElements.push(Ye)},BaseRenderer.prototype.searchExtraCompositions=function(Ye){var rt,it=Ye.length;for(rt=0;rt<it;rt+=1)if(Ye[rt].xt){var lt=this.createComp(Ye[rt]);lt.initExpressions(),this.globalData.projectInterface.registerComposition(lt)}},BaseRenderer.prototype.getElementById=function(Ye){var rt,it=this.elements.length;for(rt=0;rt<it;rt+=1)if(this.elements[rt].data.ind===Ye)return this.elements[rt];return null},BaseRenderer.prototype.getElementByPath=function(Ye){var rt=Ye.shift(),it;if(typeof rt=="number")it=this.elements[rt];else{var lt,ct=this.elements.length;for(lt=0;lt<ct;lt+=1)if(this.elements[lt].data.nm===rt){it=this.elements[lt];break}}return Ye.length===0?it:it.getElementByPath(Ye)},BaseRenderer.prototype.setupGlobalData=function(Ye,rt){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Ye),this.globalData.fontManager.addChars(Ye.chars),this.globalData.fontManager.addFonts(Ye.fonts,rt),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Ye.fr,this.globalData.nm=Ye.nm,this.globalData.compSize={w:Ye.w,h:Ye.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var rt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:rt,localMat:rt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var rt,it=this.finalTransform.mat,lt=0,ct=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;lt<ct;){if(this.hierarchy[lt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}lt+=1}if(this.finalTransform._matMdf)for(rt=this.finalTransform.mProp.v.props,it.cloneFromProps(rt),lt=0;lt<ct;lt+=1)it.multiply(this.hierarchy[lt].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var rt=0,it=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;rt<it;)this.localTransforms[rt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[rt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),rt+=1;if(this.finalTransform._localMatMdf){var lt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(lt),rt=1;rt<it;rt+=1){var ct=this.localTransforms[rt].matrix;lt.multiply(ct)}lt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var ut=this.finalTransform.localOpacity;for(rt=0;rt<it;rt+=1)ut*=this.localTransforms[rt].opacity*.01;this.finalTransform.localOpacity=ut}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var rt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(rt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var it=0,lt=rt.length;for(it=0;it<lt;it+=1)this.localTransforms.push(rt[it])}}},globalToLocal:function(rt){var it=[];it.push(this.finalTransform);for(var lt=!0,ct=this.comp;lt;)ct.finalTransform?(ct.data.hasMask&&it.splice(0,0,ct.finalTransform),ct=ct.comp):lt=!1;var ut,ht=it.length,ft;for(ut=0;ut<ht;ut+=1)ft=it[ut].mat.applyToPointArray(0,0,0),rt=[rt[0]-ft[0],rt[1]-ft[1],0];return rt},mHelper:new Matrix};function MaskElement(Ye,rt,it){this.data=Ye,this.element=rt,this.globalData=it,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var lt=this.globalData.defs,ct,ut=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(ut),this.solidPath="";var ht,ft=this.masksProperties,pt=0,mt=[],gt,yt,xt=createElementID(),bt,_t,Ct,kt,St="clipPath",Rt="clip-path";for(ct=0;ct<ut;ct+=1)if((ft[ct].mode!=="a"&&ft[ct].mode!=="n"||ft[ct].inv||ft[ct].o.k!==100||ft[ct].o.x)&&(St="mask",Rt="mask"),(ft[ct].mode==="s"||ft[ct].mode==="i")&&pt===0?(bt=createNS("rect"),bt.setAttribute("fill","#ffffff"),bt.setAttribute("width",this.element.comp.data.w||0),bt.setAttribute("height",this.element.comp.data.h||0),mt.push(bt)):bt=null,ht=createNS("path"),ft[ct].mode==="n")this.viewData[ct]={op:PropertyFactory.getProp(this.element,ft[ct].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[ct],3),elem:ht,lastPath:""},lt.appendChild(ht);else{pt+=1,ht.setAttribute("fill",ft[ct].mode==="s"?"#000000":"#ffffff"),ht.setAttribute("clip-rule","nonzero");var Tt;if(ft[ct].x.k!==0?(St="mask",Rt="mask",kt=PropertyFactory.getProp(this.element,ft[ct].x,0,null,this.element),Tt=createElementID(),_t=createNS("filter"),_t.setAttribute("id",Tt),Ct=createNS("feMorphology"),Ct.setAttribute("operator","erode"),Ct.setAttribute("in","SourceGraphic"),Ct.setAttribute("radius","0"),_t.appendChild(Ct),lt.appendChild(_t),ht.setAttribute("stroke",ft[ct].mode==="s"?"#000000":"#ffffff")):(Ct=null,kt=null),this.storedData[ct]={elem:ht,x:kt,expan:Ct,lastPath:"",lastOperator:"",filterId:Tt,lastRadius:0},ft[ct].mode==="i"){yt=mt.length;var Mt=createNS("g");for(gt=0;gt<yt;gt+=1)Mt.appendChild(mt[gt]);var Pt=createNS("mask");Pt.setAttribute("mask-type","alpha"),Pt.setAttribute("id",xt+"_"+pt),Pt.appendChild(ht),lt.appendChild(Pt),Mt.setAttribute("mask","url("+getLocationHref()+"#"+xt+"_"+pt+")"),mt.length=0,mt.push(Mt)}else mt.push(ht);ft[ct].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[ct]={elem:ht,lastPath:"",op:PropertyFactory.getProp(this.element,ft[ct].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[ct],3),invRect:bt},this.viewData[ct].prop.k||this.drawPath(ft[ct],this.viewData[ct].prop.v,this.viewData[ct])}for(this.maskElement=createNS(St),ut=mt.length,ct=0;ct<ut;ct+=1)this.maskElement.appendChild(mt[ct]);pt>0&&(this.maskElement.setAttribute("id",xt),this.element.maskedElement.setAttribute(Rt,"url("+getLocationHref()+"#"+xt+")"),lt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Ye){return this.viewData[Ye].prop},MaskElement.prototype.renderFrame=function(Ye){var rt=this.element.finalTransform.mat,it,lt=this.masksProperties.length;for(it=0;it<lt;it+=1)if((this.viewData[it].prop._mdf||Ye)&&this.drawPath(this.masksProperties[it],this.viewData[it].prop.v,this.viewData[it]),(this.viewData[it].op._mdf||Ye)&&this.viewData[it].elem.setAttribute("fill-opacity",this.viewData[it].op.v),this.masksProperties[it].mode!=="n"&&(this.viewData[it].invRect&&(this.element.finalTransform.mProp._mdf||Ye)&&this.viewData[it].invRect.setAttribute("transform",rt.getInverseMatrix().to2dCSS()),this.storedData[it].x&&(this.storedData[it].x._mdf||Ye))){var ct=this.storedData[it].expan;this.storedData[it].x.v<0?(this.storedData[it].lastOperator!=="erode"&&(this.storedData[it].lastOperator="erode",this.storedData[it].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[it].filterId+")")),ct.setAttribute("radius",-this.storedData[it].x.v)):(this.storedData[it].lastOperator!=="dilate"&&(this.storedData[it].lastOperator="dilate",this.storedData[it].elem.setAttribute("filter",null)),this.storedData[it].elem.setAttribute("stroke-width",this.storedData[it].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Ye="M0,0 ";return Ye+=" h"+this.globalData.compSize.w,Ye+=" v"+this.globalData.compSize.h,Ye+=" h-"+this.globalData.compSize.w,Ye+=" v-"+this.globalData.compSize.h+" ",Ye},MaskElement.prototype.drawPath=function(Ye,rt,it){var lt=" M"+rt.v[0][0]+","+rt.v[0][1],ct,ut;for(ut=rt._length,ct=1;ct<ut;ct+=1)lt+=" C"+rt.o[ct-1][0]+","+rt.o[ct-1][1]+" "+rt.i[ct][0]+","+rt.i[ct][1]+" "+rt.v[ct][0]+","+rt.v[ct][1];if(rt.c&&ut>1&&(lt+=" C"+rt.o[ct-1][0]+","+rt.o[ct-1][1]+" "+rt.i[0][0]+","+rt.i[0][1]+" "+rt.v[0][0]+","+rt.v[0][1]),it.lastPath!==lt){var ht="";it.elem&&(rt.c&&(ht=Ye.inv?this.solidPath+lt:lt),it.elem.setAttribute("d",ht)),it.lastPath=lt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var Ye={};Ye.createFilter=rt,Ye.createAlphaToLuminanceFilter=it;function rt(lt,ct){var ut=createNS("filter");return ut.setAttribute("id",lt),ct!==!0&&(ut.setAttribute("filterUnits","objectBoundingBox"),ut.setAttribute("x","0%"),ut.setAttribute("y","0%"),ut.setAttribute("width","100%"),ut.setAttribute("height","100%")),ut}function it(){var lt=createNS("feColorMatrix");return lt.setAttribute("type","matrix"),lt.setAttribute("color-interpolation-filters","sRGB"),lt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),lt}return Ye})(),featureSupport=(function(){var Ye={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ye.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Ye.svgLumaHidden=!1),Ye})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Ye){var rt,it="SourceGraphic",lt=Ye.data.ef?Ye.data.ef.length:0,ct=createElementID(),ut=filtersFactory.createFilter(ct,!0),ht=0;this.filters=[];var ft;for(rt=0;rt<lt;rt+=1){ft=null;var pt=Ye.data.ef[rt].ty;if(registeredEffects$1[pt]){var mt=registeredEffects$1[pt].effect;ft=new mt(ut,Ye.effectsManager.effectElements[rt],Ye,idPrefix+ht,it),it=idPrefix+ht,registeredEffects$1[pt].countsAsEffect&&(ht+=1)}ft&&this.filters.push(ft)}ht&&(Ye.globalData.defs.appendChild(ut),Ye.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+ct+")")),this.filters.length&&Ye.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Ye){var rt,it=this.filters.length;for(rt=0;rt<it;rt+=1)this.filters[rt].renderFrame(Ye)},SVGEffects.prototype.getEffects=function(Ye){var rt,it=this.filters.length,lt=[];for(rt=0;rt<it;rt+=1)this.filters[rt].type===Ye&&lt.push(this.filters[rt]);return lt};function registerEffect$1(Ye,rt,it){registeredEffects$1[Ye]={effect:rt,countsAsEffect:it}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var rt=null;if(this.data.td){this.matteMasks={};var it=createNS("g");it.setAttribute("id",this.layerId),it.appendChild(this.layerElement),rt=it,this.globalData.defs.appendChild(it)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),rt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var lt=createNS("clipPath"),ct=createNS("path");ct.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ut=createElementID();if(lt.setAttribute("id",ut),lt.appendChild(ct),this.globalData.defs.appendChild(lt),this.checkMasks()){var ht=createNS("g");ht.setAttribute("clip-path","url("+getLocationHref()+"#"+ut+")"),ht.appendChild(this.layerElement),this.transformedElement=ht,rt?rt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ut+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(rt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[rt]){var it=this.layerId+"_"+rt,lt,ct,ut,ht;if(rt===1||rt===3){var ft=createNS("mask");ft.setAttribute("id",it),ft.setAttribute("mask-type",rt===3?"luminance":"alpha"),ut=createNS("use"),ut.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ft.appendChild(ut),this.globalData.defs.appendChild(ft),!featureSupport.maskType&&rt===1&&(ft.setAttribute("mask-type","luminance"),lt=createElementID(),ct=filtersFactory.createFilter(lt),this.globalData.defs.appendChild(ct),ct.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ht=createNS("g"),ht.appendChild(ut),ft.appendChild(ht),ht.setAttribute("filter","url("+getLocationHref()+"#"+lt+")"))}else if(rt===2){var pt=createNS("mask");pt.setAttribute("id",it),pt.setAttribute("mask-type","alpha");var mt=createNS("g");pt.appendChild(mt),lt=createElementID(),ct=filtersFactory.createFilter(lt);var gt=createNS("feComponentTransfer");gt.setAttribute("in","SourceGraphic"),ct.appendChild(gt);var yt=createNS("feFuncA");yt.setAttribute("type","table"),yt.setAttribute("tableValues","1.0 0.0"),gt.appendChild(yt),this.globalData.defs.appendChild(ct);var xt=createNS("rect");xt.setAttribute("width",this.comp.data.w),xt.setAttribute("height",this.comp.data.h),xt.setAttribute("x","0"),xt.setAttribute("y","0"),xt.setAttribute("fill","#ffffff"),xt.setAttribute("opacity","0"),mt.setAttribute("filter","url("+getLocationHref()+"#"+lt+")"),mt.appendChild(xt),ut=createNS("use"),ut.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),mt.appendChild(ut),featureSupport.maskType||(pt.setAttribute("mask-type","luminance"),ct.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ht=createNS("g"),mt.appendChild(xt),ht.appendChild(this.layerElement),mt.appendChild(ht)),this.globalData.defs.appendChild(pt)}this.matteMasks[rt]=it}return this.matteMasks[rt]},setMatte:function(rt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+rt+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(rt){this.hierarchy=rt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Ye={initElement:function(it,lt,ct){this.initFrame(),this.initBaseData(it,lt,ct),this.initTransform(it,lt,ct),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var it=this.baseElement||this.layerElement;it.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var it=this.baseElement||this.layerElement;it.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(it){this._mdf=!1,this.prepareRenderableFrame(it),this.prepareProperties(it,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Ye)],RenderableDOMElement)})();function IImageElement(Ye,rt,it){this.assetData=rt.getAssetData(Ye.refId),this.assetData&&this.assetData.sid&&(this.assetData=rt.slotManager.getProp(this.assetData)),this.initElement(Ye,rt,it),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Ye=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ye),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Ye,rt){this.elem=Ye,this.pos=rt}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(rt){var it,lt=this.shapeModifiers.length;for(it=0;it<lt;it+=1)this.shapeModifiers[it].addShape(rt)},isShapeInAnimatedModifiers:function(rt){for(var it=0,lt=this.shapeModifiers.length;it<lt;)if(this.shapeModifiers[it].isAnimatedWithShape(rt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var rt,it=this.shapes.length;for(rt=0;rt<it;rt+=1)this.shapes[rt].sh.reset();it=this.shapeModifiers.length;var lt;for(rt=it-1;rt>=0&&(lt=this.shapeModifiers[rt].processShapes(this._isFirstFrame),!lt);rt-=1);}},searchProcessedElement:function(rt){for(var it=this.processedElements,lt=0,ct=it.length;lt<ct;){if(it[lt].elem===rt)return it[lt].pos;lt+=1}return 0},addProcessedElement:function(rt,it){for(var lt=this.processedElements,ct=lt.length;ct;)if(ct-=1,lt[ct].elem===rt){lt[ct].pos=it;return}lt.push(new ProcessedElement(rt,it))},prepareFrame:function(rt){this.prepareRenderableFrame(rt),this.prepareProperties(rt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Ye,rt,it){this.caches=[],this.styles=[],this.transformers=Ye,this.lStr="",this.sh=it,this.lvl=rt,this._isAnimated=!!it.k;for(var lt=0,ct=Ye.length;lt<ct;){if(Ye[lt].mProps.dynamicProperties.length){this._isAnimated=!0;break}lt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Ye,rt){this.data=Ye,this.type=Ye.ty,this.d="",this.lvl=rt,this._mdf=!1,this.closed=Ye.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Ye,rt,it,lt){this.elem=Ye,this.frameId=-1,this.dataProps=createSizedArray(rt.length),this.renderer=it,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",rt.length?rt.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(lt);var ct,ut=rt.length||0,ht;for(ct=0;ct<ut;ct+=1)ht=PropertyFactory.getProp(Ye,rt[ct].v,0,0,this),this.k=ht.k||this.k,this.dataProps[ct]={n:rt[ct].n,p:ht};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Ye){if(!(this.elem.globalData.frameId===this.frameId&&!Ye)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Ye,this._mdf)){var rt=0,it=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),rt=0;rt<it;rt+=1)this.dataProps[rt].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[rt].p.v:this.dashArray[rt]=this.dataProps[rt].p.v:this.dashoffset[0]=this.dataProps[rt].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Ye,rt,it){this.initDynamicPropertyContainer(Ye),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ye,rt.o,0,.01,this),this.w=PropertyFactory.getProp(Ye,rt.w,0,null,this),this.d=new DashProperty(Ye,rt.d||{},"svg",this),this.c=PropertyFactory.getProp(Ye,rt.c,1,255,this),this.style=it,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Ye,rt,it){this.initDynamicPropertyContainer(Ye),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ye,rt.o,0,.01,this),this.c=PropertyFactory.getProp(Ye,rt.c,1,255,this),this.style=it}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Ye,rt,it){this.initDynamicPropertyContainer(Ye),this.getValue=this.iterateDynamicProperties,this.style=it}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Ye,rt,it){this.data=rt,this.c=createTypedArray("uint8c",rt.p*4);var lt=rt.k.k[0].s?rt.k.k[0].s.length-rt.p*4:rt.k.k.length-rt.p*4;this.o=createTypedArray("float32",lt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=lt,this.initDynamicPropertyContainer(it),this.prop=PropertyFactory.getProp(Ye,rt.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Ye,rt){for(var it=0,lt=this.o.length/2,ct;it<lt;){if(ct=Math.abs(Ye[it*4]-Ye[rt*4+it*2]),ct>.01)return!1;it+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Ye=0,rt=this.data.k.k.length;Ye<rt;){if(!this.comparePoints(this.data.k.k[Ye].s,this.data.p))return!1;Ye+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Ye){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Ye){var rt,it=this.data.p*4,lt,ct;for(rt=0;rt<it;rt+=1)lt=rt%4===0?100:255,ct=Math.round(this.prop.v[rt]*lt),this.c[rt]!==ct&&(this.c[rt]=ct,this._cmdf=!Ye);if(this.o.length)for(it=this.prop.v.length,rt=this.data.p*4;rt<it;rt+=1)lt=rt%2===0?100:1,ct=rt%2===0?Math.round(this.prop.v[rt]*100):this.prop.v[rt],this.o[rt-this.data.p*4]!==ct&&(this.o[rt-this.data.p*4]=ct,this._omdf=!Ye);this._mdf=!Ye}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Ye,rt,it){this.initDynamicPropertyContainer(Ye),this.getValue=this.iterateDynamicProperties,this.initGradientData(Ye,rt,it)}SVGGradientFillStyleData.prototype.initGradientData=function(Ye,rt,it){this.o=PropertyFactory.getProp(Ye,rt.o,0,.01,this),this.s=PropertyFactory.getProp(Ye,rt.s,1,null,this),this.e=PropertyFactory.getProp(Ye,rt.e,1,null,this),this.h=PropertyFactory.getProp(Ye,rt.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Ye,rt.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Ye,rt.g,this),this.style=it,this.stops=[],this.setGradientData(it.pElem,rt),this.setGradientOpacity(rt,it),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Ye,rt){var it=createElementID(),lt=createNS(rt.t===1?"linearGradient":"radialGradient");lt.setAttribute("id",it),lt.setAttribute("spreadMethod","pad"),lt.setAttribute("gradientUnits","userSpaceOnUse");var ct=[],ut,ht,ft;for(ft=rt.g.p*4,ht=0;ht<ft;ht+=4)ut=createNS("stop"),lt.appendChild(ut),ct.push(ut);Ye.setAttribute(rt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+it+")"),this.gf=lt,this.cst=ct},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Ye,rt){if(this.g._hasOpacity&&!this.g._collapsable){var it,lt,ct,ut=createNS("mask"),ht=createNS("path");ut.appendChild(ht);var ft=createElementID(),pt=createElementID();ut.setAttribute("id",pt);var mt=createNS(Ye.t===1?"linearGradient":"radialGradient");mt.setAttribute("id",ft),mt.setAttribute("spreadMethod","pad"),mt.setAttribute("gradientUnits","userSpaceOnUse"),ct=Ye.g.k.k[0].s?Ye.g.k.k[0].s.length:Ye.g.k.k.length;var gt=this.stops;for(lt=Ye.g.p*4;lt<ct;lt+=2)it=createNS("stop"),it.setAttribute("stop-color","rgb(255,255,255)"),mt.appendChild(it),gt.push(it);ht.setAttribute(Ye.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ft+")"),Ye.ty==="gs"&&(ht.setAttribute("stroke-linecap",lineCapEnum[Ye.lc||2]),ht.setAttribute("stroke-linejoin",lineJoinEnum[Ye.lj||2]),Ye.lj===1&&ht.setAttribute("stroke-miterlimit",Ye.ml)),this.of=mt,this.ms=ut,this.ost=gt,this.maskId=pt,rt.msElem=ht}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Ye,rt,it){this.initDynamicPropertyContainer(Ye),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Ye,rt.w,0,null,this),this.d=new DashProperty(Ye,rt.d||{},"svg",this),this.initGradientData(Ye,rt,it),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Ye,rt,it){this.transform={mProps:Ye,op:rt,container:it},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(rt,it,lt,ct){if(it===0)return"";var ut=rt.o,ht=rt.i,ft=rt.v,pt,mt=" M"+ct.applyToPointStringified(ft[0][0],ft[0][1]);for(pt=1;pt<it;pt+=1)mt+=" C"+ct.applyToPointStringified(ut[pt-1][0],ut[pt-1][1])+" "+ct.applyToPointStringified(ht[pt][0],ht[pt][1])+" "+ct.applyToPointStringified(ft[pt][0],ft[pt][1]);return lt&&it&&(mt+=" C"+ct.applyToPointStringified(ut[pt-1][0],ut[pt-1][1])+" "+ct.applyToPointStringified(ht[0][0],ht[0][1])+" "+ct.applyToPointStringified(ft[0][0],ft[0][1]),mt+="z"),mt},SVGElementsRenderer=(function(){var Ye=new Matrix,rt=new Matrix,it={createRenderFunction:lt};function lt(yt){switch(yt.ty){case"fl":return ft;case"gf":return mt;case"gs":return pt;case"st":return gt;case"sh":case"el":case"rc":case"sr":return ht;case"tr":return ct;case"no":return ut;default:return null}}function ct(yt,xt,bt){(bt||xt.transform.op._mdf)&&xt.transform.container.setAttribute("opacity",xt.transform.op.v),(bt||xt.transform.mProps._mdf)&&xt.transform.container.setAttribute("transform",xt.transform.mProps.v.to2dCSS())}function ut(){}function ht(yt,xt,bt){var _t,Ct,kt,St,Rt,Tt,Mt=xt.styles.length,Pt=xt.lvl,It,Lt,Ot,Ft;for(Tt=0;Tt<Mt;Tt+=1){if(St=xt.sh._mdf||bt,xt.styles[Tt].lvl<Pt){for(Lt=rt.reset(),Ot=Pt-xt.styles[Tt].lvl,Ft=xt.transformers.length-1;!St&&Ot>0;)St=xt.transformers[Ft].mProps._mdf||St,Ot-=1,Ft-=1;if(St)for(Ot=Pt-xt.styles[Tt].lvl,Ft=xt.transformers.length-1;Ot>0;)Lt.multiply(xt.transformers[Ft].mProps.v),Ot-=1,Ft-=1}else Lt=Ye;if(It=xt.sh.paths,Ct=It._length,St){for(kt="",_t=0;_t<Ct;_t+=1)Rt=It.shapes[_t],Rt&&Rt._length&&(kt+=buildShapeString(Rt,Rt._length,Rt.c,Lt));xt.caches[Tt]=kt}else kt=xt.caches[Tt];xt.styles[Tt].d+=yt.hd===!0?"":kt,xt.styles[Tt]._mdf=St||xt.styles[Tt]._mdf}}function ft(yt,xt,bt){var _t=xt.style;(xt.c._mdf||bt)&&_t.pElem.setAttribute("fill","rgb("+bmFloor(xt.c.v[0])+","+bmFloor(xt.c.v[1])+","+bmFloor(xt.c.v[2])+")"),(xt.o._mdf||bt)&&_t.pElem.setAttribute("fill-opacity",xt.o.v)}function pt(yt,xt,bt){mt(yt,xt,bt),gt(yt,xt,bt)}function mt(yt,xt,bt){var _t=xt.gf,Ct=xt.g._hasOpacity,kt=xt.s.v,St=xt.e.v;if(xt.o._mdf||bt){var Rt=yt.ty==="gf"?"fill-opacity":"stroke-opacity";xt.style.pElem.setAttribute(Rt,xt.o.v)}if(xt.s._mdf||bt){var Tt=yt.t===1?"x1":"cx",Mt=Tt==="x1"?"y1":"cy";_t.setAttribute(Tt,kt[0]),_t.setAttribute(Mt,kt[1]),Ct&&!xt.g._collapsable&&(xt.of.setAttribute(Tt,kt[0]),xt.of.setAttribute(Mt,kt[1]))}var Pt,It,Lt,Ot;if(xt.g._cmdf||bt){Pt=xt.cst;var Ft=xt.g.c;for(Lt=Pt.length,It=0;It<Lt;It+=1)Ot=Pt[It],Ot.setAttribute("offset",Ft[It*4]+"%"),Ot.setAttribute("stop-color","rgb("+Ft[It*4+1]+","+Ft[It*4+2]+","+Ft[It*4+3]+")")}if(Ct&&(xt.g._omdf||bt)){var Ut=xt.g.o;for(xt.g._collapsable?Pt=xt.cst:Pt=xt.ost,Lt=Pt.length,It=0;It<Lt;It+=1)Ot=Pt[It],xt.g._collapsable||Ot.setAttribute("offset",Ut[It*2]+"%"),Ot.setAttribute("stop-opacity",Ut[It*2+1])}if(yt.t===1)(xt.e._mdf||bt)&&(_t.setAttribute("x2",St[0]),_t.setAttribute("y2",St[1]),Ct&&!xt.g._collapsable&&(xt.of.setAttribute("x2",St[0]),xt.of.setAttribute("y2",St[1])));else{var Wt;if((xt.s._mdf||xt.e._mdf||bt)&&(Wt=Math.sqrt(Math.pow(kt[0]-St[0],2)+Math.pow(kt[1]-St[1],2)),_t.setAttribute("r",Wt),Ct&&!xt.g._collapsable&&xt.of.setAttribute("r",Wt)),xt.s._mdf||xt.e._mdf||xt.h._mdf||xt.a._mdf||bt){Wt||(Wt=Math.sqrt(Math.pow(kt[0]-St[0],2)+Math.pow(kt[1]-St[1],2)));var Kt=Math.atan2(St[1]-kt[1],St[0]-kt[0]),Qt=xt.h.v;Qt>=1?Qt=.99:Qt<=-1&&(Qt=-.99);var Zt=Wt*Qt,Vt=Math.cos(Kt+xt.a.v)*Zt+kt[0],$t=Math.sin(Kt+xt.a.v)*Zt+kt[1];_t.setAttribute("fx",Vt),_t.setAttribute("fy",$t),Ct&&!xt.g._collapsable&&(xt.of.setAttribute("fx",Vt),xt.of.setAttribute("fy",$t))}}}function gt(yt,xt,bt){var _t=xt.style,Ct=xt.d;Ct&&(Ct._mdf||bt)&&Ct.dashStr&&(_t.pElem.setAttribute("stroke-dasharray",Ct.dashStr),_t.pElem.setAttribute("stroke-dashoffset",Ct.dashoffset[0])),xt.c&&(xt.c._mdf||bt)&&_t.pElem.setAttribute("stroke","rgb("+bmFloor(xt.c.v[0])+","+bmFloor(xt.c.v[1])+","+bmFloor(xt.c.v[2])+")"),(xt.o._mdf||bt)&&_t.pElem.setAttribute("stroke-opacity",xt.o.v),(xt.w._mdf||bt)&&(_t.pElem.setAttribute("stroke-width",xt.w.v),_t.msElem&&_t.msElem.setAttribute("stroke-width",xt.w.v))}return it})();function SVGShapeElement(Ye,rt,it){this.shapes=[],this.shapesData=Ye.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Ye,rt,it),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Ye,rt=this.shapes.length,it,lt,ct=this.stylesList.length,ut,ht=[],ft=!1;for(lt=0;lt<ct;lt+=1){for(ut=this.stylesList[lt],ft=!1,ht.length=0,Ye=0;Ye<rt;Ye+=1)it=this.shapes[Ye],it.styles.indexOf(ut)!==-1&&(ht.push(it),ft=it._isAnimated||ft);ht.length>1&&ft&&this.setShapesAsAnimated(ht)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Ye){var rt,it=Ye.length;for(rt=0;rt<it;rt+=1)Ye[rt].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Ye,rt){var it,lt=new SVGStyleData(Ye,rt),ct=lt.pElem;if(Ye.ty==="st")it=new SVGStrokeStyleData(this,Ye,lt);else if(Ye.ty==="fl")it=new SVGFillStyleData(this,Ye,lt);else if(Ye.ty==="gf"||Ye.ty==="gs"){var ut=Ye.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;it=new ut(this,Ye,lt),this.globalData.defs.appendChild(it.gf),it.maskId&&(this.globalData.defs.appendChild(it.ms),this.globalData.defs.appendChild(it.of),ct.setAttribute("mask","url("+getLocationHref()+"#"+it.maskId+")"))}else Ye.ty==="no"&&(it=new SVGNoStyleData(this,Ye,lt));return(Ye.ty==="st"||Ye.ty==="gs")&&(ct.setAttribute("stroke-linecap",lineCapEnum[Ye.lc||2]),ct.setAttribute("stroke-linejoin",lineJoinEnum[Ye.lj||2]),ct.setAttribute("fill-opacity","0"),Ye.lj===1&&ct.setAttribute("stroke-miterlimit",Ye.ml)),Ye.r===2&&ct.setAttribute("fill-rule","evenodd"),Ye.ln&&ct.setAttribute("id",Ye.ln),Ye.cl&&ct.setAttribute("class",Ye.cl),Ye.bm&&(ct.style["mix-blend-mode"]=getBlendMode(Ye.bm)),this.stylesList.push(lt),this.addToAnimatedContents(Ye,it),it},SVGShapeElement.prototype.createGroupElement=function(Ye){var rt=new ShapeGroupData;return Ye.ln&&rt.gr.setAttribute("id",Ye.ln),Ye.cl&&rt.gr.setAttribute("class",Ye.cl),Ye.bm&&(rt.gr.style["mix-blend-mode"]=getBlendMode(Ye.bm)),rt},SVGShapeElement.prototype.createTransformElement=function(Ye,rt){var it=TransformPropertyFactory.getTransformProperty(this,Ye,this),lt=new SVGTransformData(it,it.o,rt);return this.addToAnimatedContents(Ye,lt),lt},SVGShapeElement.prototype.createShapeElement=function(Ye,rt,it){var lt=4;Ye.ty==="rc"?lt=5:Ye.ty==="el"?lt=6:Ye.ty==="sr"&&(lt=7);var ct=ShapePropertyFactory.getShapeProp(this,Ye,lt,this),ut=new SVGShapeData(rt,it,ct);return this.shapes.push(ut),this.addShapeToModifiers(ut),this.addToAnimatedContents(Ye,ut),ut},SVGShapeElement.prototype.addToAnimatedContents=function(Ye,rt){for(var it=0,lt=this.animatedContents.length;it<lt;){if(this.animatedContents[it].element===rt)return;it+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Ye),element:rt,data:Ye})},SVGShapeElement.prototype.setElementStyles=function(Ye){var rt=Ye.styles,it,lt=this.stylesList.length;for(it=0;it<lt;it+=1)rt.indexOf(this.stylesList[it])===-1&&!this.stylesList[it].closed&&rt.push(this.stylesList[it])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ye,rt=this.itemsData.length;for(Ye=0;Ye<rt;Ye+=1)this.prevViewData[Ye]=this.itemsData[Ye];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),rt=this.dynamicProperties.length,Ye=0;Ye<rt;Ye+=1)this.dynamicProperties[Ye].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Ye,rt,it,lt,ct,ut,ht){var ft=[].concat(ut),pt,mt=Ye.length-1,gt,yt,xt=[],bt=[],_t,Ct,kt;for(pt=mt;pt>=0;pt-=1){if(kt=this.searchProcessedElement(Ye[pt]),kt?rt[pt]=it[kt-1]:Ye[pt]._render=ht,Ye[pt].ty==="fl"||Ye[pt].ty==="st"||Ye[pt].ty==="gf"||Ye[pt].ty==="gs"||Ye[pt].ty==="no")kt?rt[pt].style.closed=Ye[pt].hd:rt[pt]=this.createStyleElement(Ye[pt],ct),Ye[pt]._render&&rt[pt].style.pElem.parentNode!==lt&&lt.appendChild(rt[pt].style.pElem),xt.push(rt[pt].style);else if(Ye[pt].ty==="gr"){if(!kt)rt[pt]=this.createGroupElement(Ye[pt]);else for(yt=rt[pt].it.length,gt=0;gt<yt;gt+=1)rt[pt].prevViewData[gt]=rt[pt].it[gt];this.searchShapes(Ye[pt].it,rt[pt].it,rt[pt].prevViewData,rt[pt].gr,ct+1,ft,ht),Ye[pt]._render&&rt[pt].gr.parentNode!==lt&&lt.appendChild(rt[pt].gr)}else Ye[pt].ty==="tr"?(kt||(rt[pt]=this.createTransformElement(Ye[pt],lt)),_t=rt[pt].transform,ft.push(_t)):Ye[pt].ty==="sh"||Ye[pt].ty==="rc"||Ye[pt].ty==="el"||Ye[pt].ty==="sr"?(kt||(rt[pt]=this.createShapeElement(Ye[pt],ft,ct)),this.setElementStyles(rt[pt])):Ye[pt].ty==="tm"||Ye[pt].ty==="rd"||Ye[pt].ty==="ms"||Ye[pt].ty==="pb"||Ye[pt].ty==="zz"||Ye[pt].ty==="op"?(kt?(Ct=rt[pt],Ct.closed=!1):(Ct=ShapeModifiers.getModifier(Ye[pt].ty),Ct.init(this,Ye[pt]),rt[pt]=Ct,this.shapeModifiers.push(Ct)),bt.push(Ct)):Ye[pt].ty==="rp"&&(kt?(Ct=rt[pt],Ct.closed=!0):(Ct=ShapeModifiers.getModifier(Ye[pt].ty),rt[pt]=Ct,Ct.init(this,Ye,pt,rt),this.shapeModifiers.push(Ct),ht=!1),bt.push(Ct));this.addProcessedElement(Ye[pt],pt+1)}for(mt=xt.length,pt=0;pt<mt;pt+=1)xt[pt].closed=!0;for(mt=bt.length,pt=0;pt<mt;pt+=1)bt[pt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Ye,rt=this.stylesList.length;for(Ye=0;Ye<rt;Ye+=1)this.stylesList[Ye].reset();for(this.renderShape(),Ye=0;Ye<rt;Ye+=1)(this.stylesList[Ye]._mdf||this._isFirstFrame)&&(this.stylesList[Ye].msElem&&(this.stylesList[Ye].msElem.setAttribute("d",this.stylesList[Ye].d),this.stylesList[Ye].d="M0 0"+this.stylesList[Ye].d),this.stylesList[Ye].pElem.setAttribute("d",this.stylesList[Ye].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Ye,rt=this.animatedContents.length,it;for(Ye=0;Ye<rt;Ye+=1)it=this.animatedContents[Ye],(this._isFirstFrame||it.element._isAnimated)&&it.data!==!0&&it.fn(it.data,it.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Ye,rt,it,lt,ct,ut){this.o=Ye,this.sw=rt,this.sc=it,this.fc=lt,this.m=ct,this.p=ut,this._mdf={o:!0,sw:!!rt,sc:!!it,fc:!!lt,m:!0,p:!0}}LetterProps.prototype.update=function(Ye,rt,it,lt,ct,ut){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ht=!1;return this.o!==Ye&&(this.o=Ye,this._mdf.o=!0,ht=!0),this.sw!==rt&&(this.sw=rt,this._mdf.sw=!0,ht=!0),this.sc!==it&&(this.sc=it,this._mdf.sc=!0,ht=!0),this.fc!==lt&&(this.fc=lt,this._mdf.fc=!0,ht=!0),this.m!==ct&&(this.m=ct,this._mdf.m=!0,ht=!0),ut.length&&(this.p[0]!==ut[0]||this.p[1]!==ut[1]||this.p[4]!==ut[4]||this.p[5]!==ut[5]||this.p[12]!==ut[12]||this.p[13]!==ut[13])&&(this.p=ut,this._mdf.p=!0,ht=!0),ht};function TextProperty(Ye,rt){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,rt.d&&rt.d.sid&&(rt.d=Ye.globalData.slotManager.getProp(rt.d)),this.data=rt,this.elem=Ye,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Ye,rt){for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(Ye[it]=rt[it]);return Ye},TextProperty.prototype.setCurrentData=function(Ye){Ye.__complete||this.completeTextData(Ye),this.currentData=Ye,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Ye){this.effectsSequence.push(Ye),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Ye){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Ye)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var rt=this.currentData,it=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var lt,ct=this.effectsSequence.length,ut=Ye||this.data.d.k[this.keysIndex].s;for(lt=0;lt<ct;lt+=1)it!==this.keysIndex?ut=this.effectsSequence[lt](ut,ut.t):ut=this.effectsSequence[lt](this.currentData,ut.t);rt!==ut&&this.setCurrentData(ut),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Ye=this.data.d.k,rt=this.elem.comp.renderedFrame,it=0,lt=Ye.length;it<=lt-1&&!(it===lt-1||Ye[it+1].t>rt);)it+=1;return this.keysIndex!==it&&(this.keysIndex=it),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Ye){for(var rt=[],it=0,lt=Ye.length,ct,ut,ht=!1,ft=!1,pt="";it<lt;)ht=ft,ft=!1,ct=Ye.charCodeAt(it),pt=Ye.charAt(it),FontManager.isCombinedCharacter(ct)?ht=!0:ct>=55296&&ct<=56319?FontManager.isRegionalFlag(Ye,it)?pt=Ye.substr(it,14):(ut=Ye.charCodeAt(it+1),ut>=56320&&ut<=57343&&(FontManager.isModifier(ct,ut)?(pt=Ye.substr(it,2),ht=!0):FontManager.isFlagEmoji(Ye.substr(it,4))?pt=Ye.substr(it,4):pt=Ye.substr(it,2))):ct>56319?(ut=Ye.charCodeAt(it+1),FontManager.isVariationSelector(ct)&&(ht=!0)):FontManager.isZeroWidthJoiner(ct)&&(ht=!0,ft=!0),ht?(rt[rt.length-1]+=pt,ht=!1):rt.push(pt),it+=pt.length;return rt},TextProperty.prototype.completeTextData=function(Ye){Ye.__complete=!0;var rt=this.elem.globalData.fontManager,it=this.data,lt=[],ct,ut,ht,ft=0,pt,mt=it.m.g,gt=0,yt=0,xt=0,bt=[],_t=0,Ct=0,kt,St,Rt=rt.getFontByName(Ye.f),Tt,Mt=0,Pt=getFontProperties(Rt);Ye.fWeight=Pt.weight,Ye.fStyle=Pt.style,Ye.finalSize=Ye.s,Ye.finalText=this.buildFinalText(Ye.t),ut=Ye.finalText.length,Ye.finalLineHeight=Ye.lh;var It=Ye.tr/1e3*Ye.finalSize,Lt;if(Ye.sz)for(var Ot=!0,Ft=Ye.sz[0],Ut=Ye.sz[1],Wt,Kt;Ot;){Kt=this.buildFinalText(Ye.t),Wt=0,_t=0,ut=Kt.length,It=Ye.tr/1e3*Ye.finalSize;var Qt=-1;for(ct=0;ct<ut;ct+=1)Lt=Kt[ct].charCodeAt(0),ht=!1,Kt[ct]===" "?Qt=ct:(Lt===13||Lt===3)&&(_t=0,ht=!0,Wt+=Ye.finalLineHeight||Ye.finalSize*1.2),rt.chars?(Tt=rt.getCharData(Kt[ct],Rt.fStyle,Rt.fFamily),Mt=ht?0:Tt.w*Ye.finalSize/100):Mt=rt.measureText(Kt[ct],Ye.f,Ye.finalSize),_t+Mt>Ft&&Kt[ct]!==" "?(Qt===-1?ut+=1:ct=Qt,Wt+=Ye.finalLineHeight||Ye.finalSize*1.2,Kt.splice(ct,Qt===ct?1:0,"\r"),Qt=-1,_t=0):(_t+=Mt,_t+=It);Wt+=Rt.ascent*Ye.finalSize/100,this.canResize&&Ye.finalSize>this.minimumFontSize&&Ut<Wt?(Ye.finalSize-=1,Ye.finalLineHeight=Ye.finalSize*Ye.lh/Ye.s):(Ye.finalText=Kt,ut=Ye.finalText.length,Ot=!1)}_t=-It,Mt=0;var Zt=0,Vt;for(ct=0;ct<ut;ct+=1)if(ht=!1,Vt=Ye.finalText[ct],Lt=Vt.charCodeAt(0),Lt===13||Lt===3?(Zt=0,bt.push(_t),Ct=_t>Ct?_t:Ct,_t=-2*It,pt="",ht=!0,xt+=1):pt=Vt,rt.chars?(Tt=rt.getCharData(Vt,Rt.fStyle,rt.getFontByName(Ye.f).fFamily),Mt=ht?0:Tt.w*Ye.finalSize/100):Mt=rt.measureText(pt,Ye.f,Ye.finalSize),Vt===" "?Zt+=Mt+It:(_t+=Mt+It+Zt,Zt=0),lt.push({l:Mt,an:Mt,add:gt,n:ht,anIndexes:[],val:pt,line:xt,animatorJustifyOffset:0}),mt==2){if(gt+=Mt,pt===""||pt===" "||ct===ut-1){for((pt===""||pt===" ")&&(gt-=Mt);yt<=ct;)lt[yt].an=gt,lt[yt].ind=ft,lt[yt].extra=Mt,yt+=1;ft+=1,gt=0}}else if(mt==3){if(gt+=Mt,pt===""||ct===ut-1){for(pt===""&&(gt-=Mt);yt<=ct;)lt[yt].an=gt,lt[yt].ind=ft,lt[yt].extra=Mt,yt+=1;gt=0,ft+=1}}else lt[ft].ind=ft,lt[ft].extra=0,ft+=1;if(Ye.l=lt,Ct=_t>Ct?_t:Ct,bt.push(_t),Ye.sz)Ye.boxWidth=Ye.sz[0],Ye.justifyOffset=0;else switch(Ye.boxWidth=Ct,Ye.j){case 1:Ye.justifyOffset=-Ye.boxWidth;break;case 2:Ye.justifyOffset=-Ye.boxWidth/2;break;default:Ye.justifyOffset=0}Ye.lineWidths=bt;var $t=it.a,zt,Nt;St=$t.length;var qt,Gt,Ht=[];for(kt=0;kt<St;kt+=1){for(zt=$t[kt],zt.a.sc&&(Ye.strokeColorAnim=!0),zt.a.sw&&(Ye.strokeWidthAnim=!0),(zt.a.fc||zt.a.fh||zt.a.fs||zt.a.fb)&&(Ye.fillColorAnim=!0),Gt=0,qt=zt.s.b,ct=0;ct<ut;ct+=1)Nt=lt[ct],Nt.anIndexes[kt]=Gt,(qt==1&&Nt.val!==""||qt==2&&Nt.val!==""&&Nt.val!==" "||qt==3&&(Nt.n||Nt.val==" "||ct==ut-1)||qt==4&&(Nt.n||ct==ut-1))&&(zt.s.rn===1&&Ht.push(Gt),Gt+=1);it.a[kt].s.totalChars=Gt;var Xt=-1,Bt;if(zt.s.rn===1)for(ct=0;ct<ut;ct+=1)Nt=lt[ct],Xt!=Nt.anIndexes[kt]&&(Xt=Nt.anIndexes[kt],Bt=Ht.splice(Math.floor(Math.random()*Ht.length),1)[0]),Nt.anIndexes[kt]=Bt}Ye.yOffset=Ye.finalLineHeight||Ye.finalSize*1.2,Ye.ls=Ye.ls||0,Ye.ascent=Rt.ascent*Ye.finalSize/100},TextProperty.prototype.updateDocumentData=function(Ye,rt){rt=rt===void 0?this.keysIndex:rt;var it=this.copyData({},this.data.d.k[rt].s);it=this.copyData(it,Ye),this.data.d.k[rt].s=it,this.recalculate(rt),this.setCurrentData(it),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Ye){var rt=this.data.d.k[Ye].s;rt.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(rt)},TextProperty.prototype.canResizeFont=function(Ye){this.canResize=Ye,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Ye){this.minimumFontSize=Math.floor(Ye)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var Ye=Math.max,rt=Math.min,it=Math.floor;function lt(ut,ht){this._currentTextLength=-1,this.k=!1,this.data=ht,this.elem=ut,this.comp=ut.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(ut),this.s=PropertyFactory.getProp(ut,ht.s||{k:0},0,0,this),"e"in ht?this.e=PropertyFactory.getProp(ut,ht.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(ut,ht.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(ut,ht.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(ut,ht.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(ut,ht.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(ut,ht.a,0,.01,this),this.dynamicProperties.length||this.getValue()}lt.prototype={getMult:function(ht){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ft=0,pt=0,mt=1,gt=1;this.ne.v>0?ft=this.ne.v/100:pt=-this.ne.v/100,this.xe.v>0?mt=1-this.xe.v/100:gt=1+this.xe.v/100;var yt=BezierFactory.getBezierEasing(ft,pt,mt,gt).get,xt=0,bt=this.finalS,_t=this.finalE,Ct=this.data.sh;if(Ct===2)_t===bt?xt=ht>=_t?1:0:xt=Ye(0,rt(.5/(_t-bt)+(ht-bt)/(_t-bt),1)),xt=yt(xt);else if(Ct===3)_t===bt?xt=ht>=_t?0:1:xt=1-Ye(0,rt(.5/(_t-bt)+(ht-bt)/(_t-bt),1)),xt=yt(xt);else if(Ct===4)_t===bt?xt=0:(xt=Ye(0,rt(.5/(_t-bt)+(ht-bt)/(_t-bt),1)),xt<.5?xt*=2:xt=1-2*(xt-.5)),xt=yt(xt);else if(Ct===5){if(_t===bt)xt=0;else{var kt=_t-bt;ht=rt(Ye(0,ht+.5-bt),_t-bt);var St=-kt/2+ht,Rt=kt/2;xt=Math.sqrt(1-St*St/(Rt*Rt))}xt=yt(xt)}else Ct===6?(_t===bt?xt=0:(ht=rt(Ye(0,ht+.5-bt),_t-bt),xt=(1+Math.cos(Math.PI+Math.PI*2*ht/(_t-bt)))/2),xt=yt(xt)):(ht>=it(bt)&&(ht-bt<0?xt=Ye(0,rt(rt(_t,1)-(bt-ht),1)):xt=Ye(0,rt(_t-ht,1))),xt=yt(xt));if(this.sm.v!==100){var Tt=this.sm.v*.01;Tt===0&&(Tt=1e-8);var Mt=.5-Tt*.5;xt<Mt?xt=0:(xt=(xt-Mt)/Tt,xt>1&&(xt=1))}return xt*this.a.v},getValue:function(ht){this.iterateDynamicProperties(),this._mdf=ht||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ht&&this.data.r===2&&(this.e.v=this._currentTextLength);var ft=this.data.r===2?1:100/this.data.totalChars,pt=this.o.v/ft,mt=this.s.v/ft+pt,gt=this.e.v/ft+pt;if(mt>gt){var yt=mt;mt=gt,gt=yt}this.finalS=mt,this.finalE=gt}},extendPrototype([DynamicPropertyContainer],lt);function ct(ut,ht,ft){return new lt(ut,ht)}return{getTextSelectorProp:ct}})();function TextAnimatorDataProperty(Ye,rt,it){var lt={propType:!1},ct=PropertyFactory.getProp,ut=rt.a;this.a={r:ut.r?ct(Ye,ut.r,0,degToRads,it):lt,rx:ut.rx?ct(Ye,ut.rx,0,degToRads,it):lt,ry:ut.ry?ct(Ye,ut.ry,0,degToRads,it):lt,sk:ut.sk?ct(Ye,ut.sk,0,degToRads,it):lt,sa:ut.sa?ct(Ye,ut.sa,0,degToRads,it):lt,s:ut.s?ct(Ye,ut.s,1,.01,it):lt,a:ut.a?ct(Ye,ut.a,1,0,it):lt,o:ut.o?ct(Ye,ut.o,0,.01,it):lt,p:ut.p?ct(Ye,ut.p,1,0,it):lt,sw:ut.sw?ct(Ye,ut.sw,0,0,it):lt,sc:ut.sc?ct(Ye,ut.sc,1,0,it):lt,fc:ut.fc?ct(Ye,ut.fc,1,0,it):lt,fh:ut.fh?ct(Ye,ut.fh,0,0,it):lt,fs:ut.fs?ct(Ye,ut.fs,0,.01,it):lt,fb:ut.fb?ct(Ye,ut.fb,0,.01,it):lt,t:ut.t?ct(Ye,ut.t,0,0,it):lt},this.s=TextSelectorProp.getTextSelectorProp(Ye,rt.s,it),this.s.t=rt.s.t}function TextAnimatorProperty(Ye,rt,it){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Ye,this._renderType=rt,this._elem=it,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(it)}TextAnimatorProperty.prototype.searchProperties=function(){var Ye,rt=this._textData.a.length,it,lt=PropertyFactory.getProp;for(Ye=0;Ye<rt;Ye+=1)it=this._textData.a[Ye],this._animatorsData[Ye]=new TextAnimatorDataProperty(this._elem,it,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:lt(this._elem,this._textData.p.a,0,0,this),f:lt(this._elem,this._textData.p.f,0,0,this),l:lt(this._elem,this._textData.p.l,0,0,this),r:lt(this._elem,this._textData.p.r,0,0,this),p:lt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=lt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Ye,rt){if(this.lettersChangedFlag=rt,!(!this._mdf&&!this._isFirstFrame&&!rt&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var it=this._moreOptions.alignment.v,lt=this._animatorsData,ct=this._textData,ut=this.mHelper,ht=this._renderType,ft=this.renderedLetters.length,pt,mt,gt,yt,xt=Ye.l,bt,_t,Ct,kt,St,Rt,Tt,Mt,Pt,It,Lt,Ot,Ft,Ut,Wt;if(this._hasMaskedPath){if(Wt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Kt=Wt.v;this._pathData.r.v&&(Kt=Kt.reverse()),bt={tLength:0,segments:[]},yt=Kt._length-1;var Qt;for(Ot=0,gt=0;gt<yt;gt+=1)Qt=bez.buildBezierData(Kt.v[gt],Kt.v[gt+1],[Kt.o[gt][0]-Kt.v[gt][0],Kt.o[gt][1]-Kt.v[gt][1]],[Kt.i[gt+1][0]-Kt.v[gt+1][0],Kt.i[gt+1][1]-Kt.v[gt+1][1]]),bt.tLength+=Qt.segmentLength,bt.segments.push(Qt),Ot+=Qt.segmentLength;gt=yt,Wt.v.c&&(Qt=bez.buildBezierData(Kt.v[gt],Kt.v[0],[Kt.o[gt][0]-Kt.v[gt][0],Kt.o[gt][1]-Kt.v[gt][1]],[Kt.i[0][0]-Kt.v[0][0],Kt.i[0][1]-Kt.v[0][1]]),bt.tLength+=Qt.segmentLength,bt.segments.push(Qt),Ot+=Qt.segmentLength),this._pathData.pi=bt}if(bt=this._pathData.pi,_t=this._pathData.f.v,Tt=0,Rt=1,kt=0,St=!0,It=bt.segments,_t<0&&Wt.v.c)for(bt.tLength<Math.abs(_t)&&(_t=-Math.abs(_t)%bt.tLength),Tt=It.length-1,Pt=It[Tt].points,Rt=Pt.length-1;_t<0;)_t+=Pt[Rt].partialLength,Rt-=1,Rt<0&&(Tt-=1,Pt=It[Tt].points,Rt=Pt.length-1);Pt=It[Tt].points,Mt=Pt[Rt-1],Ct=Pt[Rt],Lt=Ct.partialLength}yt=xt.length,pt=0,mt=0;var Zt=Ye.finalSize*1.2*.714,Vt=!0,$t,zt,Nt,qt,Gt;qt=lt.length;var Ht,Xt=-1,Bt,nr,rr,Jt=_t,ir=Tt,ar=Rt,cr=-1,dr,xr,br,_r,Er,Rr,Lr,Mr,Fr="",Xr=this.defaultPropsArray,Jr;if(Ye.j===2||Ye.j===1){var Kr=0,nn=0,Qr=Ye.j===2?-.5:-1,Zr=0,sn=!0;for(gt=0;gt<yt;gt+=1)if(xt[gt].n){for(Kr&&(Kr+=nn);Zr<gt;)xt[Zr].animatorJustifyOffset=Kr,Zr+=1;Kr=0,sn=!0}else{for(Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.t.propType&&(sn&&Ye.j===2&&(nn+=$t.t.v*Qr),zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),Ht.length?Kr+=$t.t.v*Ht[0]*Qr:Kr+=$t.t.v*Ht*Qr);sn=!1}for(Kr&&(Kr+=nn);Zr<gt;)xt[Zr].animatorJustifyOffset=Kr,Zr+=1}for(gt=0;gt<yt;gt+=1){if(ut.reset(),dr=1,xt[gt].n)pt=0,mt+=Ye.yOffset,mt+=Vt?1:0,_t=Jt,Vt=!1,this._hasMaskedPath&&(Tt=ir,Rt=ar,Pt=It[Tt].points,Mt=Pt[Rt-1],Ct=Pt[Rt],Lt=Ct.partialLength,kt=0),Fr="",Mr="",Rr="",Jr="",Xr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(cr!==xt[gt].line){switch(Ye.j){case 1:_t+=Ot-Ye.lineWidths[xt[gt].line];break;case 2:_t+=(Ot-Ye.lineWidths[xt[gt].line])/2;break}cr=xt[gt].line}Xt!==xt[gt].ind&&(xt[Xt]&&(_t+=xt[Xt].extra),_t+=xt[gt].an/2,Xt=xt[gt].ind),_t+=it[0]*xt[gt].an*.005;var yr=0;for(Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.p.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),Ht.length?yr+=$t.p.v[0]*Ht[0]:yr+=$t.p.v[0]*Ht),$t.a.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),Ht.length?yr+=$t.a.v[0]*Ht[0]:yr+=$t.a.v[0]*Ht);for(St=!0,this._pathData.a.v&&(_t=xt[0].an*.5+(Ot-this._pathData.f.v-xt[0].an*.5-xt[xt.length-1].an*.5)*Xt/(yt-1),_t+=this._pathData.f.v);St;)kt+Lt>=_t+yr||!Pt?(Ft=(_t+yr-kt)/Ct.partialLength,nr=Mt.point[0]+(Ct.point[0]-Mt.point[0])*Ft,rr=Mt.point[1]+(Ct.point[1]-Mt.point[1])*Ft,ut.translate(-it[0]*xt[gt].an*.005,-(it[1]*Zt)*.01),St=!1):Pt&&(kt+=Ct.partialLength,Rt+=1,Rt>=Pt.length&&(Rt=0,Tt+=1,It[Tt]?Pt=It[Tt].points:Wt.v.c?(Rt=0,Tt=0,Pt=It[Tt].points):(kt-=Ct.partialLength,Pt=null)),Pt&&(Mt=Ct,Ct=Pt[Rt],Lt=Ct.partialLength));Bt=xt[gt].an/2-xt[gt].add,ut.translate(-Bt,0,0)}else Bt=xt[gt].an/2-xt[gt].add,ut.translate(-Bt,0,0),ut.translate(-it[0]*xt[gt].an*.005,-it[1]*Zt*.01,0);for(Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.t.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),(pt!==0||Ye.j!==0)&&(this._hasMaskedPath?Ht.length?_t+=$t.t.v*Ht[0]:_t+=$t.t.v*Ht:Ht.length?pt+=$t.t.v*Ht[0]:pt+=$t.t.v*Ht));for(Ye.strokeWidthAnim&&(br=Ye.sw||0),Ye.strokeColorAnim&&(Ye.sc?xr=[Ye.sc[0],Ye.sc[1],Ye.sc[2]]:xr=[0,0,0]),Ye.fillColorAnim&&Ye.fc&&(_r=[Ye.fc[0],Ye.fc[1],Ye.fc[2]]),Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.a.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),Ht.length?ut.translate(-$t.a.v[0]*Ht[0],-$t.a.v[1]*Ht[1],$t.a.v[2]*Ht[2]):ut.translate(-$t.a.v[0]*Ht,-$t.a.v[1]*Ht,$t.a.v[2]*Ht));for(Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.s.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),Ht.length?ut.scale(1+($t.s.v[0]-1)*Ht[0],1+($t.s.v[1]-1)*Ht[1],1):ut.scale(1+($t.s.v[0]-1)*Ht,1+($t.s.v[1]-1)*Ht,1));for(Nt=0;Nt<qt;Nt+=1){if($t=lt[Nt].a,zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),$t.sk.propType&&(Ht.length?ut.skewFromAxis(-$t.sk.v*Ht[0],$t.sa.v*Ht[1]):ut.skewFromAxis(-$t.sk.v*Ht,$t.sa.v*Ht)),$t.r.propType&&(Ht.length?ut.rotateZ(-$t.r.v*Ht[2]):ut.rotateZ(-$t.r.v*Ht)),$t.ry.propType&&(Ht.length?ut.rotateY($t.ry.v*Ht[1]):ut.rotateY($t.ry.v*Ht)),$t.rx.propType&&(Ht.length?ut.rotateX($t.rx.v*Ht[0]):ut.rotateX($t.rx.v*Ht)),$t.o.propType&&(Ht.length?dr+=($t.o.v*Ht[0]-dr)*Ht[0]:dr+=($t.o.v*Ht-dr)*Ht),Ye.strokeWidthAnim&&$t.sw.propType&&(Ht.length?br+=$t.sw.v*Ht[0]:br+=$t.sw.v*Ht),Ye.strokeColorAnim&&$t.sc.propType)for(Er=0;Er<3;Er+=1)Ht.length?xr[Er]+=($t.sc.v[Er]-xr[Er])*Ht[0]:xr[Er]+=($t.sc.v[Er]-xr[Er])*Ht;if(Ye.fillColorAnim&&Ye.fc){if($t.fc.propType)for(Er=0;Er<3;Er+=1)Ht.length?_r[Er]+=($t.fc.v[Er]-_r[Er])*Ht[0]:_r[Er]+=($t.fc.v[Er]-_r[Er])*Ht;$t.fh.propType&&(Ht.length?_r=addHueToRGB(_r,$t.fh.v*Ht[0]):_r=addHueToRGB(_r,$t.fh.v*Ht)),$t.fs.propType&&(Ht.length?_r=addSaturationToRGB(_r,$t.fs.v*Ht[0]):_r=addSaturationToRGB(_r,$t.fs.v*Ht)),$t.fb.propType&&(Ht.length?_r=addBrightnessToRGB(_r,$t.fb.v*Ht[0]):_r=addBrightnessToRGB(_r,$t.fb.v*Ht))}}for(Nt=0;Nt<qt;Nt+=1)$t=lt[Nt].a,$t.p.propType&&(zt=lt[Nt].s,Ht=zt.getMult(xt[gt].anIndexes[Nt],ct.a[Nt].s.totalChars),this._hasMaskedPath?Ht.length?ut.translate(0,$t.p.v[1]*Ht[0],-$t.p.v[2]*Ht[1]):ut.translate(0,$t.p.v[1]*Ht,-$t.p.v[2]*Ht):Ht.length?ut.translate($t.p.v[0]*Ht[0],$t.p.v[1]*Ht[1],-$t.p.v[2]*Ht[2]):ut.translate($t.p.v[0]*Ht,$t.p.v[1]*Ht,-$t.p.v[2]*Ht));if(Ye.strokeWidthAnim&&(Rr=br<0?0:br),Ye.strokeColorAnim&&(Lr="rgb("+Math.round(xr[0]*255)+","+Math.round(xr[1]*255)+","+Math.round(xr[2]*255)+")"),Ye.fillColorAnim&&Ye.fc&&(Mr="rgb("+Math.round(_r[0]*255)+","+Math.round(_r[1]*255)+","+Math.round(_r[2]*255)+")"),this._hasMaskedPath){if(ut.translate(0,-Ye.ls),ut.translate(0,it[1]*Zt*.01+mt,0),this._pathData.p.v){Ut=(Ct.point[1]-Mt.point[1])/(Ct.point[0]-Mt.point[0]);var hr=Math.atan(Ut)*180/Math.PI;Ct.point[0]<Mt.point[0]&&(hr+=180),ut.rotate(-hr*Math.PI/180)}ut.translate(nr,rr,0),_t-=it[0]*xt[gt].an*.005,xt[gt+1]&&Xt!==xt[gt+1].ind&&(_t+=xt[gt].an/2,_t+=Ye.tr*.001*Ye.finalSize)}else{switch(ut.translate(pt,mt,0),Ye.ps&&ut.translate(Ye.ps[0],Ye.ps[1]+Ye.ascent,0),Ye.j){case 1:ut.translate(xt[gt].animatorJustifyOffset+Ye.justifyOffset+(Ye.boxWidth-Ye.lineWidths[xt[gt].line]),0,0);break;case 2:ut.translate(xt[gt].animatorJustifyOffset+Ye.justifyOffset+(Ye.boxWidth-Ye.lineWidths[xt[gt].line])/2,0,0);break}ut.translate(0,-Ye.ls),ut.translate(Bt,0,0),ut.translate(it[0]*xt[gt].an*.005,it[1]*Zt*.01,0),pt+=xt[gt].l+Ye.tr*.001*Ye.finalSize}ht==="html"?Fr=ut.toCSS():ht==="svg"?Fr=ut.to2dCSS():Xr=[ut.props[0],ut.props[1],ut.props[2],ut.props[3],ut.props[4],ut.props[5],ut.props[6],ut.props[7],ut.props[8],ut.props[9],ut.props[10],ut.props[11],ut.props[12],ut.props[13],ut.props[14],ut.props[15]],Jr=dr}ft<=gt?(Gt=new LetterProps(Jr,Rr,Lr,Mr,Fr,Xr),this.renderedLetters.push(Gt),ft+=1,this.lettersChangedFlag=!0):(Gt=this.renderedLetters[gt],this.lettersChangedFlag=Gt.update(Jr,Rr,Lr,Mr,Fr,Xr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Ye,rt,it){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Ye,rt,it),this.textProperty=new TextProperty(this,Ye.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Ye.t,this.renderType,this),this.initTransform(Ye,rt,it),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Ye){this._mdf=!1,this.prepareRenderableFrame(Ye),this.prepareProperties(Ye,this.isInRange)},ITextElement.prototype.createPathShape=function(Ye,rt){var it,lt=rt.length,ct,ut="";for(it=0;it<lt;it+=1)rt[it].ty==="sh"&&(ct=rt[it].ks.k,ut+=buildShapeString(ct,ct.i.length,!0,Ye));return ut},ITextElement.prototype.updateDocumentData=function(Ye,rt){this.textProperty.updateDocumentData(Ye,rt)},ITextElement.prototype.canResizeFont=function(Ye){this.textProperty.canResizeFont(Ye)},ITextElement.prototype.setMinimumFontSize=function(Ye){this.textProperty.setMinimumFontSize(Ye)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Ye,rt,it,lt,ct){switch(Ye.ps&&rt.translate(Ye.ps[0],Ye.ps[1]+Ye.ascent,0),rt.translate(0,-Ye.ls,0),Ye.j){case 1:rt.translate(Ye.justifyOffset+(Ye.boxWidth-Ye.lineWidths[it]),0,0);break;case 2:rt.translate(Ye.justifyOffset+(Ye.boxWidth-Ye.lineWidths[it])/2,0,0);break}rt.translate(lt,ct,0)},ITextElement.prototype.buildColor=function(Ye){return"rgb("+Math.round(Ye[0]*255)+","+Math.round(Ye[1]*255)+","+Math.round(Ye[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Ye,rt,it){this.textSpans=[],this.renderType="svg",this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Ye){for(var rt=0,it=Ye.length,lt=[],ct="";rt<it;)Ye[rt]==="\r"||Ye[rt]===""?(lt.push(ct),ct=""):ct+=Ye[rt],rt+=1;return lt.push(ct),lt},SVGTextLottieElement.prototype.buildShapeData=function(Ye,rt){if(Ye.shapes&&Ye.shapes.length){var it=Ye.shapes[0];if(it.it){var lt=it.it[it.it.length-1];lt.s&&(lt.s.k[0]=rt,lt.s.k[1]=rt)}}return Ye},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Ye,rt,it=this.textProperty.currentData;this.renderedLetters=createSizedArray(it?it.l.length:0),it.fc?this.layerElement.setAttribute("fill",this.buildColor(it.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),it.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(it.sc)),this.layerElement.setAttribute("stroke-width",it.sw)),this.layerElement.setAttribute("font-size",it.finalSize);var lt=this.globalData.fontManager.getFontByName(it.f);if(lt.fClass)this.layerElement.setAttribute("class",lt.fClass);else{this.layerElement.setAttribute("font-family",lt.fFamily);var ct=it.fWeight,ut=it.fStyle;this.layerElement.setAttribute("font-style",ut),this.layerElement.setAttribute("font-weight",ct)}this.layerElement.setAttribute("aria-label",it.t);var ht=it.l||[],ft=!!this.globalData.fontManager.chars;rt=ht.length;var pt,mt=this.mHelper,gt="",yt=this.data.singleShape,xt=0,bt=0,_t=!0,Ct=it.tr*.001*it.finalSize;if(yt&&!ft&&!it.sz){var kt=this.textContainer,St="start";switch(it.j){case 1:St="end";break;case 2:St="middle";break;default:St="start";break}kt.setAttribute("text-anchor",St),kt.setAttribute("letter-spacing",Ct);var Rt=this.buildTextContents(it.finalText);for(rt=Rt.length,bt=it.ps?it.ps[1]+it.ascent:0,Ye=0;Ye<rt;Ye+=1)pt=this.textSpans[Ye].span||createNS("tspan"),pt.textContent=Rt[Ye],pt.setAttribute("x",0),pt.setAttribute("y",bt),pt.style.display="inherit",kt.appendChild(pt),this.textSpans[Ye]||(this.textSpans[Ye]={span:null,glyph:null}),this.textSpans[Ye].span=pt,bt+=it.finalLineHeight;this.layerElement.appendChild(kt)}else{var Tt=this.textSpans.length,Mt;for(Ye=0;Ye<rt;Ye+=1){if(this.textSpans[Ye]||(this.textSpans[Ye]={span:null,childSpan:null,glyph:null}),!ft||!yt||Ye===0){if(pt=Tt>Ye?this.textSpans[Ye].span:createNS(ft?"g":"text"),Tt<=Ye){if(pt.setAttribute("stroke-linecap","butt"),pt.setAttribute("stroke-linejoin","round"),pt.setAttribute("stroke-miterlimit","4"),this.textSpans[Ye].span=pt,ft){var Pt=createNS("g");pt.appendChild(Pt),this.textSpans[Ye].childSpan=Pt}this.textSpans[Ye].span=pt,this.layerElement.appendChild(pt)}pt.style.display="inherit"}if(mt.reset(),yt&&(ht[Ye].n&&(xt=-Ct,bt+=it.yOffset,bt+=_t?1:0,_t=!1),this.applyTextPropertiesToMatrix(it,mt,ht[Ye].line,xt,bt),xt+=ht[Ye].l||0,xt+=Ct),ft){Mt=this.globalData.fontManager.getCharData(it.finalText[Ye],lt.fStyle,this.globalData.fontManager.getFontByName(it.f).fFamily);var It;if(Mt.t===1)It=new SVGCompElement(Mt.data,this.globalData,this);else{var Lt=emptyShapeData;Mt.data&&Mt.data.shapes&&(Lt=this.buildShapeData(Mt.data,it.finalSize)),It=new SVGShapeElement(Lt,this.globalData,this)}if(this.textSpans[Ye].glyph){var Ot=this.textSpans[Ye].glyph;this.textSpans[Ye].childSpan.removeChild(Ot.layerElement),Ot.destroy()}this.textSpans[Ye].glyph=It,It._debug=!0,It.prepareFrame(0),It.renderFrame(),this.textSpans[Ye].childSpan.appendChild(It.layerElement),Mt.t===1&&this.textSpans[Ye].childSpan.setAttribute("transform","scale("+it.finalSize/100+","+it.finalSize/100+")")}else yt&&pt.setAttribute("transform","translate("+mt.props[12]+","+mt.props[13]+")"),pt.textContent=ht[Ye].val,pt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}yt&&pt&&pt.setAttribute("d",gt)}for(;Ye<this.textSpans.length;)this.textSpans[Ye].span.style.display="none",Ye+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Ye=this.layerElement.getBBox();this.bbox={top:Ye.y,left:Ye.x,width:Ye.width,height:Ye.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Ye,rt=this.textSpans.length,it;for(this.renderedFrame=this.comp.renderedFrame,Ye=0;Ye<rt;Ye+=1)it=this.textSpans[Ye].glyph,it&&(it.prepareFrame(this.comp.renderedFrame-this.data.st),it._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Ye,rt,it=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;rt=lt.length;var ct,ut,ht;for(Ye=0;Ye<rt;Ye+=1)lt[Ye].n||(ct=it[Ye],ut=this.textSpans[Ye].span,ht=this.textSpans[Ye].glyph,ht&&ht.renderFrame(),ct._mdf.m&&ut.setAttribute("transform",ct.m),ct._mdf.o&&ut.setAttribute("opacity",ct.o),ct._mdf.sw&&ut.setAttribute("stroke-width",ct.sw),ct._mdf.sc&&ut.setAttribute("stroke",ct.sc),ct._mdf.fc&&ut.setAttribute("fill",ct.fc))}};function ISolidElement(Ye,rt,it){this.initElement(Ye,rt,it)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Ye=createNS("rect");Ye.setAttribute("width",this.data.sw),Ye.setAttribute("height",this.data.sh),Ye.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Ye)};function NullElement(Ye,rt,it){this.initFrame(),this.initBaseData(Ye,rt,it),this.initFrame(),this.initTransform(Ye,rt,it),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Ye){this.prepareProperties(Ye,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Ye){return new NullElement(Ye,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Ye){return new SVGShapeElement(Ye,this.globalData,this)},SVGRendererBase.prototype.createText=function(Ye){return new SVGTextLottieElement(Ye,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Ye){return new IImageElement(Ye,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Ye){return new ISolidElement(Ye,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Ye){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Ye.w+" "+Ye.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Ye.w),this.svgElement.setAttribute("height",Ye.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var rt=this.globalData.defs;this.setupGlobalData(Ye,rt),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Ye;var it=createNS("clipPath"),lt=createNS("rect");lt.setAttribute("width",Ye.w),lt.setAttribute("height",Ye.h),lt.setAttribute("x",0),lt.setAttribute("y",0);var ct=createElementID();it.setAttribute("id",ct),it.appendChild(lt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ct+")"),rt.appendChild(it),this.layers=Ye.layers,this.elements=createSizedArray(Ye.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Ye,rt=this.layers?this.layers.length:0;for(Ye=0;Ye<rt;Ye+=1)this.elements[Ye]&&this.elements[Ye].destroy&&this.elements[Ye].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Ye){var rt=0,it=this.layers.length;for(rt=0;rt<it;rt+=1)if(this.layers[rt].ind===Ye)return rt;return-1},SVGRendererBase.prototype.buildItem=function(Ye){var rt=this.elements;if(!(rt[Ye]||this.layers[Ye].ty===99)){rt[Ye]=!0;var it=this.createItem(this.layers[Ye]);if(rt[Ye]=it,getExpressionsPlugin()&&(this.layers[Ye].ty===0&&this.globalData.projectInterface.registerComposition(it),it.initExpressions()),this.appendElementInPos(it,Ye),this.layers[Ye].tt){var lt="tp"in this.layers[Ye]?this.findIndexByInd(this.layers[Ye].tp):Ye-1;if(lt===-1)return;if(!this.elements[lt]||this.elements[lt]===!0)this.buildItem(lt),this.addPendingElement(it);else{var ct=rt[lt],ut=ct.getMatte(this.layers[Ye].tt);it.setMatte(ut)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ye=this.pendingElements.pop();if(Ye.checkParenting(),Ye.data.tt)for(var rt=0,it=this.elements.length;rt<it;){if(this.elements[rt]===Ye){var lt="tp"in Ye.data?this.findIndexByInd(Ye.data.tp):rt-1,ct=this.elements[lt],ut=ct.getMatte(this.layers[rt].tt);Ye.setMatte(ut);break}rt+=1}}},SVGRendererBase.prototype.renderFrame=function(Ye){if(!(this.renderedFrame===Ye||this.destroyed)){Ye===null?Ye=this.renderedFrame:this.renderedFrame=Ye,this.globalData.frameNum=Ye,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Ye,this.globalData._mdf=!1;var rt,it=this.layers.length;for(this.completeLayers||this.checkLayers(Ye),rt=it-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].prepareFrame(Ye-this.layers[rt].st);if(this.globalData._mdf)for(rt=0;rt<it;rt+=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Ye,rt){var it=Ye.getBaseElement();if(it){for(var lt=0,ct;lt<rt;)this.elements[lt]&&this.elements[lt]!==!0&&this.elements[lt].getBaseElement()&&(ct=this.elements[lt].getBaseElement()),lt+=1;ct?this.layerElement.insertBefore(it,ct):this.layerElement.appendChild(it)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Ye,rt,it){this.initFrame(),this.initBaseData(Ye,rt,it),this.initTransform(Ye,rt,it),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!rt.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Ye){if(this._mdf=!1,this.prepareRenderableFrame(Ye),this.prepareProperties(Ye,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Ye/this.data.sr;else{var rt=this.tm.v;rt===this.data.op&&(rt=this.data.op-1),this.renderedFrame=rt}var it,lt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),it=lt-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&(this.elements[it].prepareFrame(this.renderedFrame-this.layers[it].st),this.elements[it]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Ye,rt=this.layers.length;for(Ye=0;Ye<rt;Ye+=1)(this.completeLayers||this.elements[Ye])&&this.elements[Ye].renderFrame()},ICompElement.prototype.setElements=function(Ye){this.elements=Ye},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Ye,rt=this.layers.length;for(Ye=0;Ye<rt;Ye+=1)this.elements[Ye]&&this.elements[Ye].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Ye,rt,it){this.layers=Ye.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ye,rt,it),this.tm=Ye.tm?PropertyFactory.getProp(this,Ye.tm,0,rt.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Ye){return new SVGCompElement(Ye,this.globalData,this)};function SVGRenderer(Ye,rt){this.animationItem=Ye,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var it="";if(rt&&rt.title){var lt=createNS("title"),ct=createElementID();lt.setAttribute("id",ct),lt.textContent=rt.title,this.svgElement.appendChild(lt),it+=ct}if(rt&&rt.description){var ut=createNS("desc"),ht=createElementID();ut.setAttribute("id",ht),ut.textContent=rt.description,this.svgElement.appendChild(ut),it+=" "+ht}it&&this.svgElement.setAttribute("aria-labelledby",it);var ft=createNS("defs");this.svgElement.appendChild(ft);var pt=createNS("g");this.svgElement.appendChild(pt),this.layerElement=pt,this.renderConfig={preserveAspectRatio:rt&&rt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:rt&&rt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:rt&&rt.contentVisibility||"visible",progressiveLoad:rt&&rt.progressiveLoad||!1,hideOnTransparent:!(rt&&rt.hideOnTransparent===!1),viewBoxOnly:rt&&rt.viewBoxOnly||!1,viewBoxSize:rt&&rt.viewBoxSize||!1,className:rt&&rt.className||"",id:rt&&rt.id||"",focusable:rt&&rt.focusable,filterSize:{width:rt&&rt.filterSize&&rt.filterSize.width||"100%",height:rt&&rt.filterSize&&rt.filterSize.height||"100%",x:rt&&rt.filterSize&&rt.filterSize.x||"0%",y:rt&&rt.filterSize&&rt.filterSize.y||"0%"},width:rt&&rt.width,height:rt&&rt.height,runExpressions:!rt||rt.runExpressions===void 0||rt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ft,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Ye){return new SVGCompElement(Ye,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(rt){var it,lt=rt.length,ct="_";for(it=0;it<lt;it+=1)ct+=rt[it].transform.key+"_";var ut=this.sequences[ct];return ut||(ut={transforms:[].concat(rt),finalTransform:new Matrix,_mdf:!1},this.sequences[ct]=ut,this.sequenceList.push(ut)),ut},processSequence:function(rt,it){for(var lt=0,ct=rt.transforms.length,ut=it;lt<ct&&!it;){if(rt.transforms[lt].transform.mProps._mdf){ut=!0;break}lt+=1}if(ut)for(rt.finalTransform.reset(),lt=ct-1;lt>=0;lt-=1)rt.finalTransform.multiply(rt.transforms[lt].transform.mProps.v);rt._mdf=ut},processSequences:function(rt){var it,lt=this.sequenceList.length;for(it=0;it<lt;it+=1)this.processSequence(this.sequenceList[it],rt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var rt="__lottie_element_luma_buffer",it=null,lt=null,ct=null;function ut(){var pt=createNS("svg"),mt=createNS("filter"),gt=createNS("feColorMatrix");return mt.setAttribute("id",rt),gt.setAttribute("type","matrix"),gt.setAttribute("color-interpolation-filters","sRGB"),gt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),mt.appendChild(gt),pt.appendChild(mt),pt.setAttribute("id",rt+"_svg"),featureSupport.svgLumaHidden&&(pt.style.display="none"),pt}function ht(){it||(ct=ut(),document.body.appendChild(ct),it=createTag("canvas"),lt=it.getContext("2d"),lt.filter="url(#"+rt+")",lt.fillStyle="rgba(0,0,0,0)",lt.fillRect(0,0,1,1))}function ft(pt){return it||ht(),it.width=pt.width,it.height=pt.height,lt.filter="url(#"+rt+")",it}return{load:ht,get:ft}};function createCanvas(Ye,rt){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Ye,rt);var it=createTag("canvas");return it.width=Ye,it.height=rt,it}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(Ye){var rt,it=Ye.data.ef?Ye.data.ef.length:0;this.filters=[];var lt;for(rt=0;rt<it;rt+=1){lt=null;var ct=Ye.data.ef[rt].ty;if(registeredEffects[ct]){var ut=registeredEffects[ct].effect;lt=new ut(Ye.effectsManager.effectElements[rt],Ye)}lt&&this.filters.push(lt)}this.filters.length&&Ye.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Ye){var rt,it=this.filters.length;for(rt=0;rt<it;rt+=1)this.filters[rt].renderFrame(Ye)},CVEffects.prototype.getEffects=function(Ye){var rt,it=this.filters.length,lt=[];for(rt=0;rt<it;rt+=1)this.filters[rt].type===Ye&&lt.push(this.filters[rt]);return lt};function registerEffect(Ye,rt){registeredEffects[Ye]={effect:rt}}function CVMaskElement(Ye,rt){this.data=Ye,this.element=rt,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var it,lt=this.masksProperties.length,ct=!1;for(it=0;it<lt;it+=1)this.masksProperties[it].mode!=="n"&&(ct=!0),this.viewData[it]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[it],3);this.hasMasks=ct,ct&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Ye=this.element.finalTransform.mat,rt=this.element.canvasContext,it,lt=this.masksProperties.length,ct,ut,ht;for(rt.beginPath(),it=0;it<lt;it+=1)if(this.masksProperties[it].mode!=="n"){this.masksProperties[it].inv&&(rt.moveTo(0,0),rt.lineTo(this.element.globalData.compSize.w,0),rt.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),rt.lineTo(0,this.element.globalData.compSize.h),rt.lineTo(0,0)),ht=this.viewData[it].v,ct=Ye.applyToPointArray(ht.v[0][0],ht.v[0][1],0),rt.moveTo(ct[0],ct[1]);var ft,pt=ht._length;for(ft=1;ft<pt;ft+=1)ut=Ye.applyToTriplePoints(ht.o[ft-1],ht.i[ft],ht.v[ft]),rt.bezierCurveTo(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]);ut=Ye.applyToTriplePoints(ht.o[ft-1],ht.i[0],ht.v[0]),rt.bezierCurveTo(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5])}this.element.globalData.renderer.save(!0),rt.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var rt=this.globalData.canvasContext,it=assetLoader.createCanvas(rt.canvas.width,rt.canvas.height);this.buffers.push(it);var lt=assetLoader.createCanvas(rt.canvas.width,rt.canvas.height);this.buffers.push(lt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var rt=this.globalData;if(rt.blendMode!==this.data.bm){rt.blendMode=this.data.bm;var it=getBlendMode(this.data.bm);rt.canvasContext.globalCompositeOperation=it}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(rt){rt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var rt=this.buffers[0],it=rt.getContext("2d");this.clearCanvas(it),it.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var rt=this.buffers[1],it=rt.getContext("2d");this.clearCanvas(it),it.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var lt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(lt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var ct=assetLoader.getLumaCanvas(this.canvasContext.canvas),ut=ct.getContext("2d");ut.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(ct,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(rt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(rt){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!rt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var it=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(it),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(it),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Ye,rt,it,lt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var ct=4;rt.ty==="rc"?ct=5:rt.ty==="el"?ct=6:rt.ty==="sr"&&(ct=7),this.sh=ShapePropertyFactory.getShapeProp(Ye,rt,ct,Ye);var ut,ht=it.length,ft;for(ut=0;ut<ht;ut+=1)it[ut].closed||(ft={transforms:lt.addTransformSequence(it[ut].transforms),trNodes:[]},this.styledShapes.push(ft),it[ut].elements.push(ft))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Ye,rt,it){this.shapes=[],this.shapesData=Ye.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Ye,rt){var it={data:Ye,type:Ye.ty,preTransforms:this.transformsManager.addTransformSequence(rt),transforms:[],elements:[],closed:Ye.hd===!0},lt={};if(Ye.ty==="fl"||Ye.ty==="st"?(lt.c=PropertyFactory.getProp(this,Ye.c,1,255,this),lt.c.k||(it.co="rgb("+bmFloor(lt.c.v[0])+","+bmFloor(lt.c.v[1])+","+bmFloor(lt.c.v[2])+")")):(Ye.ty==="gf"||Ye.ty==="gs")&&(lt.s=PropertyFactory.getProp(this,Ye.s,1,null,this),lt.e=PropertyFactory.getProp(this,Ye.e,1,null,this),lt.h=PropertyFactory.getProp(this,Ye.h||{k:0},0,.01,this),lt.a=PropertyFactory.getProp(this,Ye.a||{k:0},0,degToRads,this),lt.g=new GradientProperty(this,Ye.g,this)),lt.o=PropertyFactory.getProp(this,Ye.o,0,.01,this),Ye.ty==="st"||Ye.ty==="gs"){if(it.lc=lineCapEnum[Ye.lc||2],it.lj=lineJoinEnum[Ye.lj||2],Ye.lj==1&&(it.ml=Ye.ml),lt.w=PropertyFactory.getProp(this,Ye.w,0,null,this),lt.w.k||(it.wi=lt.w.v),Ye.d){var ct=new DashProperty(this,Ye.d,"canvas",this);lt.d=ct,lt.d.k||(it.da=lt.d.dashArray,it.do=lt.d.dashoffset[0])}}else it.r=Ye.r===2?"evenodd":"nonzero";return this.stylesList.push(it),lt.style=it,lt},CVShapeElement.prototype.createGroupElement=function(){var Ye={it:[],prevViewData:[]};return Ye},CVShapeElement.prototype.createTransformElement=function(Ye){var rt={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Ye.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Ye,this)}};return rt},CVShapeElement.prototype.createShapeElement=function(Ye){var rt=new CVShapeData(this,Ye,this.stylesList,this.transformsManager);return this.shapes.push(rt),this.addShapeToModifiers(rt),rt},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ye,rt=this.itemsData.length;for(Ye=0;Ye<rt;Ye+=1)this.prevViewData[Ye]=this.itemsData[Ye];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),rt=this.dynamicProperties.length,Ye=0;Ye<rt;Ye+=1)this.dynamicProperties[Ye].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Ye){var rt,it=this.stylesList.length;for(rt=0;rt<it;rt+=1)this.stylesList[rt].closed||this.stylesList[rt].transforms.push(Ye)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Ye,rt=this.stylesList.length;for(Ye=0;Ye<rt;Ye+=1)this.stylesList[Ye].closed||this.stylesList[Ye].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Ye){var rt,it=Ye.length;for(rt=0;rt<it;rt+=1)Ye[rt].closed=!0},CVShapeElement.prototype.searchShapes=function(Ye,rt,it,lt,ct){var ut,ht=Ye.length-1,ft,pt,mt=[],gt=[],yt,xt,bt,_t=[].concat(ct);for(ut=ht;ut>=0;ut-=1){if(yt=this.searchProcessedElement(Ye[ut]),yt?rt[ut]=it[yt-1]:Ye[ut]._shouldRender=lt,Ye[ut].ty==="fl"||Ye[ut].ty==="st"||Ye[ut].ty==="gf"||Ye[ut].ty==="gs")yt?rt[ut].style.closed=!1:rt[ut]=this.createStyleElement(Ye[ut],_t),mt.push(rt[ut].style);else if(Ye[ut].ty==="gr"){if(!yt)rt[ut]=this.createGroupElement(Ye[ut]);else for(pt=rt[ut].it.length,ft=0;ft<pt;ft+=1)rt[ut].prevViewData[ft]=rt[ut].it[ft];this.searchShapes(Ye[ut].it,rt[ut].it,rt[ut].prevViewData,lt,_t)}else Ye[ut].ty==="tr"?(yt||(bt=this.createTransformElement(Ye[ut]),rt[ut]=bt),_t.push(rt[ut]),this.addTransformToStyleList(rt[ut])):Ye[ut].ty==="sh"||Ye[ut].ty==="rc"||Ye[ut].ty==="el"||Ye[ut].ty==="sr"?yt||(rt[ut]=this.createShapeElement(Ye[ut])):Ye[ut].ty==="tm"||Ye[ut].ty==="rd"||Ye[ut].ty==="pb"||Ye[ut].ty==="zz"||Ye[ut].ty==="op"?(yt?(xt=rt[ut],xt.closed=!1):(xt=ShapeModifiers.getModifier(Ye[ut].ty),xt.init(this,Ye[ut]),rt[ut]=xt,this.shapeModifiers.push(xt)),gt.push(xt)):Ye[ut].ty==="rp"&&(yt?(xt=rt[ut],xt.closed=!0):(xt=ShapeModifiers.getModifier(Ye[ut].ty),rt[ut]=xt,xt.init(this,Ye,ut,rt),this.shapeModifiers.push(xt),lt=!1),gt.push(xt));this.addProcessedElement(Ye[ut],ut+1)}for(this.removeTransformFromStyleList(),this.closeStyles(mt),ht=gt.length,ut=0;ut<ht;ut+=1)gt[ut].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Ye,rt){(Ye._opMdf||rt.op._mdf||this._isFirstFrame)&&(rt.opacity=Ye.opacity,rt.opacity*=rt.op.v,rt._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Ye,rt=this.stylesList.length,it,lt,ct,ut,ht,ft,pt=this.globalData.renderer,mt=this.globalData.canvasContext,gt,yt;for(Ye=0;Ye<rt;Ye+=1)if(yt=this.stylesList[Ye],gt=yt.type,!((gt==="st"||gt==="gs")&&yt.wi===0||!yt.data._shouldRender||yt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(pt.save(),ht=yt.elements,gt==="st"||gt==="gs"?(pt.ctxStrokeStyle(gt==="st"?yt.co:yt.grd),pt.ctxLineWidth(yt.wi),pt.ctxLineCap(yt.lc),pt.ctxLineJoin(yt.lj),pt.ctxMiterLimit(yt.ml||0)):pt.ctxFillStyle(gt==="fl"?yt.co:yt.grd),pt.ctxOpacity(yt.coOp),gt!=="st"&&gt!=="gs"&&mt.beginPath(),pt.ctxTransform(yt.preTransforms.finalTransform.props),lt=ht.length,it=0;it<lt;it+=1){for((gt==="st"||gt==="gs")&&(mt.beginPath(),yt.da&&(mt.setLineDash(yt.da),mt.lineDashOffset=yt.do)),ft=ht[it].trNodes,ut=ft.length,ct=0;ct<ut;ct+=1)ft[ct].t==="m"?mt.moveTo(ft[ct].p[0],ft[ct].p[1]):ft[ct].t==="c"?mt.bezierCurveTo(ft[ct].pts[0],ft[ct].pts[1],ft[ct].pts[2],ft[ct].pts[3],ft[ct].pts[4],ft[ct].pts[5]):mt.closePath();(gt==="st"||gt==="gs")&&(pt.ctxStroke(),yt.da&&mt.setLineDash(this.dashResetter))}gt!=="st"&&gt!=="gs"&&this.globalData.renderer.ctxFill(yt.r),pt.restore()}},CVShapeElement.prototype.renderShape=function(Ye,rt,it,lt){var ct,ut=rt.length-1,ht;for(ht=Ye,ct=ut;ct>=0;ct-=1)rt[ct].ty==="tr"?(ht=it[ct].transform,this.renderShapeTransform(Ye,ht)):rt[ct].ty==="sh"||rt[ct].ty==="el"||rt[ct].ty==="rc"||rt[ct].ty==="sr"?this.renderPath(rt[ct],it[ct]):rt[ct].ty==="fl"?this.renderFill(rt[ct],it[ct],ht):rt[ct].ty==="st"?this.renderStroke(rt[ct],it[ct],ht):rt[ct].ty==="gf"||rt[ct].ty==="gs"?this.renderGradientFill(rt[ct],it[ct],ht):rt[ct].ty==="gr"?this.renderShape(ht,rt[ct].it,it[ct].it):rt[ct].ty;lt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Ye,rt){if(this._isFirstFrame||rt._mdf||Ye.transforms._mdf){var it=Ye.trNodes,lt=rt.paths,ct,ut,ht,ft=lt._length;it.length=0;var pt=Ye.transforms.finalTransform;for(ht=0;ht<ft;ht+=1){var mt=lt.shapes[ht];if(mt&&mt.v){for(ut=mt._length,ct=1;ct<ut;ct+=1)ct===1&&it.push({t:"m",p:pt.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),it.push({t:"c",pts:pt.applyToTriplePoints(mt.o[ct-1],mt.i[ct],mt.v[ct])});ut===1&&it.push({t:"m",p:pt.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),mt.c&&ut&&(it.push({t:"c",pts:pt.applyToTriplePoints(mt.o[ct-1],mt.i[0],mt.v[0])}),it.push({t:"z"}))}}Ye.trNodes=it}},CVShapeElement.prototype.renderPath=function(Ye,rt){if(Ye.hd!==!0&&Ye._shouldRender){var it,lt=rt.styledShapes.length;for(it=0;it<lt;it+=1)this.renderStyledShape(rt.styledShapes[it],rt.sh)}},CVShapeElement.prototype.renderFill=function(Ye,rt,it){var lt=rt.style;(rt.c._mdf||this._isFirstFrame)&&(lt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")"),(rt.o._mdf||it._opMdf||this._isFirstFrame)&&(lt.coOp=rt.o.v*it.opacity)},CVShapeElement.prototype.renderGradientFill=function(Ye,rt,it){var lt=rt.style,ct;if(!lt.grd||rt.g._mdf||rt.s._mdf||rt.e._mdf||Ye.t!==1&&(rt.h._mdf||rt.a._mdf)){var ut=this.globalData.canvasContext,ht=rt.s.v,ft=rt.e.v;if(Ye.t===1)ct=ut.createLinearGradient(ht[0],ht[1],ft[0],ft[1]);else{var pt=Math.sqrt(Math.pow(ht[0]-ft[0],2)+Math.pow(ht[1]-ft[1],2)),mt=Math.atan2(ft[1]-ht[1],ft[0]-ht[0]),gt=rt.h.v;gt>=1?gt=.99:gt<=-1&&(gt=-.99);var yt=pt*gt,xt=Math.cos(mt+rt.a.v)*yt+ht[0],bt=Math.sin(mt+rt.a.v)*yt+ht[1];ct=ut.createRadialGradient(xt,bt,0,ht[0],ht[1],pt)}var _t,Ct=Ye.g.p,kt=rt.g.c,St=1;for(_t=0;_t<Ct;_t+=1)rt.g._hasOpacity&&rt.g._collapsable&&(St=rt.g.o[_t*2+1]),ct.addColorStop(kt[_t*4]/100,"rgba("+kt[_t*4+1]+","+kt[_t*4+2]+","+kt[_t*4+3]+","+St+")");lt.grd=ct}lt.coOp=rt.o.v*it.opacity},CVShapeElement.prototype.renderStroke=function(Ye,rt,it){var lt=rt.style,ct=rt.d;ct&&(ct._mdf||this._isFirstFrame)&&(lt.da=ct.dashArray,lt.do=ct.dashoffset[0]),(rt.c._mdf||this._isFirstFrame)&&(lt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")"),(rt.o._mdf||it._opMdf||this._isFirstFrame)&&(lt.coOp=rt.o.v*it.opacity),(rt.w._mdf||this._isFirstFrame)&&(lt.wi=rt.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Ye,rt,it){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Ye=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ye.l?Ye.l.length:0);var rt=!1;Ye.fc?(rt=!0,this.values.fill=this.buildColor(Ye.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=rt;var it=!1;Ye.sc&&(it=!0,this.values.stroke=this.buildColor(Ye.sc),this.values.sWidth=Ye.sw);var lt=this.globalData.fontManager.getFontByName(Ye.f),ct,ut,ht=Ye.l,ft=this.mHelper;this.stroke=it,this.values.fValue=Ye.finalSize+"px "+this.globalData.fontManager.getFontByName(Ye.f).fFamily,ut=Ye.finalText.length;var pt,mt,gt,yt,xt,bt,_t,Ct,kt,St,Rt=this.data.singleShape,Tt=Ye.tr*.001*Ye.finalSize,Mt=0,Pt=0,It=!0,Lt=0;for(ct=0;ct<ut;ct+=1){pt=this.globalData.fontManager.getCharData(Ye.finalText[ct],lt.fStyle,this.globalData.fontManager.getFontByName(Ye.f).fFamily),mt=pt&&pt.data||{},ft.reset(),Rt&&ht[ct].n&&(Mt=-Tt,Pt+=Ye.yOffset,Pt+=It?1:0,It=!1),xt=mt.shapes?mt.shapes[0].it:[],_t=xt.length,ft.scale(Ye.finalSize/100,Ye.finalSize/100),Rt&&this.applyTextPropertiesToMatrix(Ye,ft,ht[ct].line,Mt,Pt),kt=createSizedArray(_t-1);var Ot=0;for(bt=0;bt<_t;bt+=1)if(xt[bt].ty==="sh"){for(yt=xt[bt].ks.k.i.length,Ct=xt[bt].ks.k,St=[],gt=1;gt<yt;gt+=1)gt===1&&St.push(ft.applyToX(Ct.v[0][0],Ct.v[0][1],0),ft.applyToY(Ct.v[0][0],Ct.v[0][1],0)),St.push(ft.applyToX(Ct.o[gt-1][0],Ct.o[gt-1][1],0),ft.applyToY(Ct.o[gt-1][0],Ct.o[gt-1][1],0),ft.applyToX(Ct.i[gt][0],Ct.i[gt][1],0),ft.applyToY(Ct.i[gt][0],Ct.i[gt][1],0),ft.applyToX(Ct.v[gt][0],Ct.v[gt][1],0),ft.applyToY(Ct.v[gt][0],Ct.v[gt][1],0));St.push(ft.applyToX(Ct.o[gt-1][0],Ct.o[gt-1][1],0),ft.applyToY(Ct.o[gt-1][0],Ct.o[gt-1][1],0),ft.applyToX(Ct.i[0][0],Ct.i[0][1],0),ft.applyToY(Ct.i[0][0],Ct.i[0][1],0),ft.applyToX(Ct.v[0][0],Ct.v[0][1],0),ft.applyToY(Ct.v[0][0],Ct.v[0][1],0)),kt[Ot]=St,Ot+=1}Rt&&(Mt+=ht[ct].l,Mt+=Tt),this.textSpans[Lt]?this.textSpans[Lt].elem=kt:this.textSpans[Lt]={elem:kt},Lt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Ye=this.canvasContext;Ye.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var rt,it,lt,ct,ut,ht,ft=this.textAnimator.renderedLetters,pt=this.textProperty.currentData.l;it=pt.length;var mt,gt=null,yt=null,xt=null,bt,_t,Ct=this.globalData.renderer;for(rt=0;rt<it;rt+=1)if(!pt[rt].n){if(mt=ft[rt],mt&&(Ct.save(),Ct.ctxTransform(mt.p),Ct.ctxOpacity(mt.o)),this.fill){for(mt&&mt.fc?gt!==mt.fc&&(Ct.ctxFillStyle(mt.fc),gt=mt.fc):gt!==this.values.fill&&(gt=this.values.fill,Ct.ctxFillStyle(this.values.fill)),bt=this.textSpans[rt].elem,ct=bt.length,this.globalData.canvasContext.beginPath(),lt=0;lt<ct;lt+=1)for(_t=bt[lt],ht=_t.length,this.globalData.canvasContext.moveTo(_t[0],_t[1]),ut=2;ut<ht;ut+=6)this.globalData.canvasContext.bezierCurveTo(_t[ut],_t[ut+1],_t[ut+2],_t[ut+3],_t[ut+4],_t[ut+5]);this.globalData.canvasContext.closePath(),Ct.ctxFill()}if(this.stroke){for(mt&&mt.sw?xt!==mt.sw&&(xt=mt.sw,Ct.ctxLineWidth(mt.sw)):xt!==this.values.sWidth&&(xt=this.values.sWidth,Ct.ctxLineWidth(this.values.sWidth)),mt&&mt.sc?yt!==mt.sc&&(yt=mt.sc,Ct.ctxStrokeStyle(mt.sc)):yt!==this.values.stroke&&(yt=this.values.stroke,Ct.ctxStrokeStyle(this.values.stroke)),bt=this.textSpans[rt].elem,ct=bt.length,this.globalData.canvasContext.beginPath(),lt=0;lt<ct;lt+=1)for(_t=bt[lt],ht=_t.length,this.globalData.canvasContext.moveTo(_t[0],_t[1]),ut=2;ut<ht;ut+=6)this.globalData.canvasContext.bezierCurveTo(_t[ut],_t[ut+1],_t[ut+2],_t[ut+3],_t[ut+4],_t[ut+5]);this.globalData.canvasContext.closePath(),Ct.ctxStroke()}mt&&this.globalData.renderer.restore()}};function CVImageElement(Ye,rt,it){this.assetData=rt.getAssetData(Ye.refId),this.img=rt.imageLoader.getAsset(this.assetData),this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Ye=createTag("canvas");Ye.width=this.assetData.w,Ye.height=this.assetData.h;var rt=Ye.getContext("2d"),it=this.img.width,lt=this.img.height,ct=it/lt,ut=this.assetData.w/this.assetData.h,ht,ft,pt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;ct>ut&&pt==="xMidYMid slice"||ct<ut&&pt!=="xMidYMid slice"?(ft=lt,ht=ft*ut):(ht=it,ft=ht/ut),rt.drawImage(this.img,(it-ht)/2,(lt-ft)/2,ht,ft,0,0,this.assetData.w,this.assetData.h),this.img=Ye}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Ye,rt,it){this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Ye){return new CVShapeElement(Ye,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Ye){return new CVTextElement(Ye,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Ye){return new CVImageElement(Ye,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Ye){return new CVSolidElement(Ye,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Ye){Ye[0]===1&&Ye[1]===0&&Ye[4]===0&&Ye[5]===1&&Ye[12]===0&&Ye[13]===0||this.canvasContext.transform(Ye[0],Ye[1],Ye[4],Ye[5],Ye[12],Ye[13])},CanvasRendererBase.prototype.ctxOpacity=function(Ye){this.canvasContext.globalAlpha*=Ye<0?0:Ye},CanvasRendererBase.prototype.ctxFillStyle=function(Ye){this.canvasContext.fillStyle=Ye},CanvasRendererBase.prototype.ctxStrokeStyle=function(Ye){this.canvasContext.strokeStyle=Ye},CanvasRendererBase.prototype.ctxLineWidth=function(Ye){this.canvasContext.lineWidth=Ye},CanvasRendererBase.prototype.ctxLineCap=function(Ye){this.canvasContext.lineCap=Ye},CanvasRendererBase.prototype.ctxLineJoin=function(Ye){this.canvasContext.lineJoin=Ye},CanvasRendererBase.prototype.ctxMiterLimit=function(Ye){this.canvasContext.miterLimit=Ye},CanvasRendererBase.prototype.ctxFill=function(Ye){this.canvasContext.fill(Ye)},CanvasRendererBase.prototype.ctxFillRect=function(Ye,rt,it,lt){this.canvasContext.fillRect(Ye,rt,it,lt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Ye){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Ye&&(this.globalData.blendMode="source-over"),this.contextData.restore(Ye)},CanvasRendererBase.prototype.configAnimation=function(Ye){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var rt=this.animationItem.container.style;rt.width="100%",rt.height="100%";var it="0px 0px 0px";rt.transformOrigin=it,rt.mozTransformOrigin=it,rt.webkitTransformOrigin=it,rt["-webkit-transform"]=it,rt.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Ye,this.layers=Ye.layers,this.transformCanvas={w:Ye.w,h:Ye.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Ye,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Ye.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Ye,rt){this.reset();var it,lt;Ye?(it=Ye,lt=rt,this.canvasContext.canvas.width=it,this.canvasContext.canvas.height=lt):(this.animationItem.wrapper&&this.animationItem.container?(it=this.animationItem.wrapper.offsetWidth,lt=this.animationItem.wrapper.offsetHeight):(it=this.canvasContext.canvas.width,lt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=it*this.renderConfig.dpr,this.canvasContext.canvas.height=lt*this.renderConfig.dpr);var ct,ut;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ht=this.renderConfig.preserveAspectRatio.split(" "),ft=ht[1]||"meet",pt=ht[0]||"xMidYMid",mt=pt.substr(0,4),gt=pt.substr(4);ct=it/lt,ut=this.transformCanvas.w/this.transformCanvas.h,ut>ct&&ft==="meet"||ut<ct&&ft==="slice"?(this.transformCanvas.sx=it/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=it/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=lt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=lt/(this.transformCanvas.h/this.renderConfig.dpr)),mt==="xMid"&&(ut<ct&&ft==="meet"||ut>ct&&ft==="slice")?this.transformCanvas.tx=(it-this.transformCanvas.w*(lt/this.transformCanvas.h))/2*this.renderConfig.dpr:mt==="xMax"&&(ut<ct&&ft==="meet"||ut>ct&&ft==="slice")?this.transformCanvas.tx=(it-this.transformCanvas.w*(lt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,gt==="YMid"&&(ut>ct&&ft==="meet"||ut<ct&&ft==="slice")?this.transformCanvas.ty=(lt-this.transformCanvas.h*(it/this.transformCanvas.w))/2*this.renderConfig.dpr:gt==="YMax"&&(ut>ct&&ft==="meet"||ut<ct&&ft==="slice")?this.transformCanvas.ty=(lt-this.transformCanvas.h*(it/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=it/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=lt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Ye,rt=this.layers?this.layers.length:0;for(Ye=rt-1;Ye>=0;Ye-=1)this.elements[Ye]&&this.elements[Ye].destroy&&this.elements[Ye].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Ye,rt){if(!(this.renderedFrame===Ye&&this.renderConfig.clearCanvas===!0&&!rt||this.destroyed||Ye===-1)){this.renderedFrame=Ye,this.globalData.frameNum=Ye-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||rt,this.globalData.projectInterface.currentFrame=Ye;var it,lt=this.layers.length;for(this.completeLayers||this.checkLayers(Ye),it=lt-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&this.elements[it].prepareFrame(Ye-this.layers[it].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),it=lt-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&this.elements[it].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Ye){var rt=this.elements;if(!(rt[Ye]||this.layers[Ye].ty===99)){var it=this.createItem(this.layers[Ye],this,this.globalData);rt[Ye]=it,it.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ye=this.pendingElements.pop();Ye.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Ye,rt=15;for(Ye=0;Ye<rt;Ye+=1){var it=new CanvasContext;this.stack[Ye]=it}this._length=rt,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Ye=this._length*2,rt=0;for(rt=this._length;rt<Ye;rt+=1)this.stack[rt]=new CanvasContext;this._length=Ye},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Ye){this.cArrPos-=1;var rt=this.stack[this.cArrPos],it=rt.transform,lt,ct=this.cTr.props;for(lt=0;lt<16;lt+=1)ct[lt]=it[lt];if(Ye){this.nativeContext.restore();var ut=this.stack[this.cArrPos+1];this.appliedFillStyle=ut.fillStyle,this.appliedStrokeStyle=ut.strokeStyle,this.appliedLineWidth=ut.lineWidth,this.appliedLineCap=ut.lineCap,this.appliedLineJoin=ut.lineJoin,this.appliedMiterLimit=ut.miterLimit}this.nativeContext.setTransform(it[0],it[1],it[4],it[5],it[12],it[13]),(Ye||rt.opacity!==-1&&this.currentOpacity!==rt.opacity)&&(this.nativeContext.globalAlpha=rt.opacity,this.currentOpacity=rt.opacity),this.currentFillStyle=rt.fillStyle,this.currentStrokeStyle=rt.strokeStyle,this.currentLineWidth=rt.lineWidth,this.currentLineCap=rt.lineCap,this.currentLineJoin=rt.lineJoin,this.currentMiterLimit=rt.miterLimit},CVContextData.prototype.save=function(Ye){Ye&&this.nativeContext.save();var rt=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var it=this.stack[this.cArrPos],lt;for(lt=0;lt<16;lt+=1)it.transform[lt]=rt[lt];this.cArrPos+=1;var ct=this.stack[this.cArrPos];ct.opacity=it.opacity,ct.fillStyle=it.fillStyle,ct.strokeStyle=it.strokeStyle,ct.lineWidth=it.lineWidth,ct.lineCap=it.lineCap,ct.lineJoin=it.lineJoin,ct.miterLimit=it.miterLimit},CVContextData.prototype.setOpacity=function(Ye){this.stack[this.cArrPos].opacity=Ye},CVContextData.prototype.setContext=function(Ye){this.nativeContext=Ye},CVContextData.prototype.fillStyle=function(Ye){this.stack[this.cArrPos].fillStyle!==Ye&&(this.currentFillStyle=Ye,this.stack[this.cArrPos].fillStyle=Ye)},CVContextData.prototype.strokeStyle=function(Ye){this.stack[this.cArrPos].strokeStyle!==Ye&&(this.currentStrokeStyle=Ye,this.stack[this.cArrPos].strokeStyle=Ye)},CVContextData.prototype.lineWidth=function(Ye){this.stack[this.cArrPos].lineWidth!==Ye&&(this.currentLineWidth=Ye,this.stack[this.cArrPos].lineWidth=Ye)},CVContextData.prototype.lineCap=function(Ye){this.stack[this.cArrPos].lineCap!==Ye&&(this.currentLineCap=Ye,this.stack[this.cArrPos].lineCap=Ye)},CVContextData.prototype.lineJoin=function(Ye){this.stack[this.cArrPos].lineJoin!==Ye&&(this.currentLineJoin=Ye,this.stack[this.cArrPos].lineJoin=Ye)},CVContextData.prototype.miterLimit=function(Ye){this.stack[this.cArrPos].miterLimit!==Ye&&(this.currentMiterLimit=Ye,this.stack[this.cArrPos].miterLimit=Ye)},CVContextData.prototype.transform=function(Ye){this.transformMat.cloneFromProps(Ye);var rt=this.cTr;this.transformMat.multiply(rt),rt.cloneFromProps(this.transformMat.props);var it=rt.props;this.nativeContext.setTransform(it[0],it[1],it[4],it[5],it[12],it[13])},CVContextData.prototype.opacity=function(Ye){var rt=this.stack[this.cArrPos].opacity;rt*=Ye<0?0:Ye,this.stack[this.cArrPos].opacity!==rt&&(this.currentOpacity!==Ye&&(this.nativeContext.globalAlpha=Ye,this.currentOpacity=Ye),this.stack[this.cArrPos].opacity=rt)},CVContextData.prototype.fill=function(Ye){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Ye)},CVContextData.prototype.fillRect=function(Ye,rt,it,lt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Ye,rt,it,lt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Ye,rt,it){this.completeLayers=!1,this.layers=Ye.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Ye,rt,it),this.tm=Ye.tm?PropertyFactory.getProp(this,Ye.tm,0,rt.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Ye=this.canvasContext;Ye.beginPath(),Ye.moveTo(0,0),Ye.lineTo(this.data.w,0),Ye.lineTo(this.data.w,this.data.h),Ye.lineTo(0,this.data.h),Ye.lineTo(0,0),Ye.clip();var rt,it=this.layers.length;for(rt=it-1;rt>=0;rt-=1)(this.completeLayers||this.elements[rt])&&this.elements[rt].renderFrame()},CVCompElement.prototype.destroy=function(){var Ye,rt=this.layers.length;for(Ye=rt-1;Ye>=0;Ye-=1)this.elements[Ye]&&this.elements[Ye].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Ye){return new CVCompElement(Ye,this.globalData,this)};function CanvasRenderer(Ye,rt){this.animationItem=Ye,this.renderConfig={clearCanvas:rt&&rt.clearCanvas!==void 0?rt.clearCanvas:!0,context:rt&&rt.context||null,progressiveLoad:rt&&rt.progressiveLoad||!1,preserveAspectRatio:rt&&rt.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:rt&&rt.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:rt&&rt.contentVisibility||"visible",className:rt&&rt.className||"",id:rt&&rt.id||"",runExpressions:!rt||rt.runExpressions===void 0||rt.runExpressions},this.renderConfig.dpr=rt&&rt.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=rt&&rt.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Ye){return new CVCompElement(Ye,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var rt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var it=this.finalTransform.mat.toCSS();rt.transform=it,rt.webkitTransform=it}this.finalTransform._opMdf&&(rt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Ye,rt,it){this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Ye;this.data.hasMask?(Ye=createNS("rect"),Ye.setAttribute("width",this.data.sw),Ye.setAttribute("height",this.data.sh),Ye.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Ye=createTag("div"),Ye.style.width=this.data.sw+"px",Ye.style.height=this.data.sh+"px",Ye.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Ye)};function HShapeElement(Ye,rt,it){this.shapes=[],this.shapesData=Ye.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Ye,rt,it),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Ye;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Ye=this.svgElement;else{Ye=createNS("svg");var rt=this.comp.data?this.comp.data:this.globalData.compSize;Ye.setAttribute("width",rt.w),Ye.setAttribute("height",rt.h),Ye.appendChild(this.shapesContainer),this.layerElement.appendChild(Ye)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Ye},HShapeElement.prototype.getTransformedPoint=function(Ye,rt){var it,lt=Ye.length;for(it=0;it<lt;it+=1)rt=Ye[it].mProps.v.applyToPointArray(rt[0],rt[1],0);return rt},HShapeElement.prototype.calculateShapeBoundingBox=function(Ye,rt){var it=Ye.sh.v,lt=Ye.transformers,ct,ut=it._length,ht,ft,pt,mt;if(!(ut<=1)){for(ct=0;ct<ut-1;ct+=1)ht=this.getTransformedPoint(lt,it.v[ct]),ft=this.getTransformedPoint(lt,it.o[ct]),pt=this.getTransformedPoint(lt,it.i[ct+1]),mt=this.getTransformedPoint(lt,it.v[ct+1]),this.checkBounds(ht,ft,pt,mt,rt);it.c&&(ht=this.getTransformedPoint(lt,it.v[ct]),ft=this.getTransformedPoint(lt,it.o[ct]),pt=this.getTransformedPoint(lt,it.i[0]),mt=this.getTransformedPoint(lt,it.v[0]),this.checkBounds(ht,ft,pt,mt,rt))}},HShapeElement.prototype.checkBounds=function(Ye,rt,it,lt,ct){this.getBoundsOfCurve(Ye,rt,it,lt);var ut=this.shapeBoundingBox;ct.x=bmMin(ut.left,ct.x),ct.xMax=bmMax(ut.right,ct.xMax),ct.y=bmMin(ut.top,ct.y),ct.yMax=bmMax(ut.bottom,ct.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Ye,rt,it,lt){for(var ct=[[Ye[0],lt[0]],[Ye[1],lt[1]]],ut,ht,ft,pt,mt,gt,yt,xt=0;xt<2;++xt)ht=6*Ye[xt]-12*rt[xt]+6*it[xt],ut=-3*Ye[xt]+9*rt[xt]-9*it[xt]+3*lt[xt],ft=3*rt[xt]-3*Ye[xt],ht|=0,ut|=0,ft|=0,ut===0&&ht===0||(ut===0?(pt=-ft/ht,pt>0&&pt<1&&ct[xt].push(this.calculateF(pt,Ye,rt,it,lt,xt))):(mt=ht*ht-4*ft*ut,mt>=0&&(gt=(-ht+bmSqrt(mt))/(2*ut),gt>0&&gt<1&&ct[xt].push(this.calculateF(gt,Ye,rt,it,lt,xt)),yt=(-ht-bmSqrt(mt))/(2*ut),yt>0&&yt<1&&ct[xt].push(this.calculateF(yt,Ye,rt,it,lt,xt)))));this.shapeBoundingBox.left=bmMin.apply(null,ct[0]),this.shapeBoundingBox.top=bmMin.apply(null,ct[1]),this.shapeBoundingBox.right=bmMax.apply(null,ct[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ct[1])},HShapeElement.prototype.calculateF=function(Ye,rt,it,lt,ct,ut){return bmPow(1-Ye,3)*rt[ut]+3*bmPow(1-Ye,2)*Ye*it[ut]+3*(1-Ye)*bmPow(Ye,2)*lt[ut]+bmPow(Ye,3)*ct[ut]},HShapeElement.prototype.calculateBoundingBox=function(Ye,rt){var it,lt=Ye.length;for(it=0;it<lt;it+=1)Ye[it]&&Ye[it].sh?this.calculateShapeBoundingBox(Ye[it],rt):Ye[it]&&Ye[it].it?this.calculateBoundingBox(Ye[it].it,rt):Ye[it]&&Ye[it].style&&Ye[it].w&&this.expandStrokeBoundingBox(Ye[it].w,rt)},HShapeElement.prototype.expandStrokeBoundingBox=function(Ye,rt){var it=0;if(Ye.keyframes){for(var lt=0;lt<Ye.keyframes.length;lt+=1){var ct=Ye.keyframes[lt].s;ct>it&&(it=ct)}it*=Ye.mult}else it=Ye.v*Ye.mult;rt.x-=it,rt.xMax+=it,rt.y-=it,rt.yMax+=it},HShapeElement.prototype.currentBoxContains=function(Ye){return this.currentBBox.x<=Ye.x&&this.currentBBox.y<=Ye.y&&this.currentBBox.width+this.currentBBox.x>=Ye.x+Ye.width&&this.currentBBox.height+this.currentBBox.y>=Ye.y+Ye.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Ye=this.tempBoundingBox,rt=999999;if(Ye.x=rt,Ye.xMax=-rt,Ye.y=rt,Ye.yMax=-rt,this.calculateBoundingBox(this.itemsData,Ye),Ye.width=Ye.xMax<Ye.x?0:Ye.xMax-Ye.x,Ye.height=Ye.yMax<Ye.y?0:Ye.yMax-Ye.y,this.currentBoxContains(Ye))return;var it=!1;if(this.currentBBox.w!==Ye.width&&(this.currentBBox.w=Ye.width,this.shapeCont.setAttribute("width",Ye.width),it=!0),this.currentBBox.h!==Ye.height&&(this.currentBBox.h=Ye.height,this.shapeCont.setAttribute("height",Ye.height),it=!0),it||this.currentBBox.x!==Ye.x||this.currentBBox.y!==Ye.y){this.currentBBox.w=Ye.width,this.currentBBox.h=Ye.height,this.currentBBox.x=Ye.x,this.currentBBox.y=Ye.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var lt=this.shapeCont.style,ct="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";lt.transform=ct,lt.webkitTransform=ct}}};function HTextElement(Ye,rt,it){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Ye=createNS("g");this.maskedElement.appendChild(Ye),this.innerElem=Ye}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Ye=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ye.l?Ye.l.length:0);var rt=this.innerElem.style,it=Ye.fc?this.buildColor(Ye.fc):"rgba(0,0,0,0)";rt.fill=it,rt.color=it,Ye.sc&&(rt.stroke=this.buildColor(Ye.sc),rt.strokeWidth=Ye.sw+"px");var lt=this.globalData.fontManager.getFontByName(Ye.f);if(!this.globalData.fontManager.chars)if(rt.fontSize=Ye.finalSize+"px",rt.lineHeight=Ye.finalSize+"px",lt.fClass)this.innerElem.className=lt.fClass;else{rt.fontFamily=lt.fFamily;var ct=Ye.fWeight,ut=Ye.fStyle;rt.fontStyle=ut,rt.fontWeight=ct}var ht,ft,pt=Ye.l;ft=pt.length;var mt,gt,yt,xt=this.mHelper,bt,_t="",Ct=0;for(ht=0;ht<ft;ht+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ct]?mt=this.textPaths[Ct]:(mt=createNS("path"),mt.setAttribute("stroke-linecap",lineCapEnum[1]),mt.setAttribute("stroke-linejoin",lineJoinEnum[2]),mt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ct]?(gt=this.textSpans[Ct],yt=gt.children[0]):(gt=createTag("div"),gt.style.lineHeight=0,yt=createNS("svg"),yt.appendChild(mt),styleDiv(gt)))):this.isMasked?mt=this.textPaths[Ct]?this.textPaths[Ct]:createNS("text"):this.textSpans[Ct]?(gt=this.textSpans[Ct],mt=this.textPaths[Ct]):(gt=createTag("span"),styleDiv(gt),mt=createTag("span"),styleDiv(mt),gt.appendChild(mt)),this.globalData.fontManager.chars){var kt=this.globalData.fontManager.getCharData(Ye.finalText[ht],lt.fStyle,this.globalData.fontManager.getFontByName(Ye.f).fFamily),St;if(kt?St=kt.data:St=null,xt.reset(),St&&St.shapes&&St.shapes.length&&(bt=St.shapes[0].it,xt.scale(Ye.finalSize/100,Ye.finalSize/100),_t=this.createPathShape(xt,bt),mt.setAttribute("d",_t)),this.isMasked)this.innerElem.appendChild(mt);else{if(this.innerElem.appendChild(gt),St&&St.shapes){document.body.appendChild(yt);var Rt=yt.getBBox();yt.setAttribute("width",Rt.width+2),yt.setAttribute("height",Rt.height+2),yt.setAttribute("viewBox",Rt.x-1+" "+(Rt.y-1)+" "+(Rt.width+2)+" "+(Rt.height+2));var Tt=yt.style,Mt="translate("+(Rt.x-1)+"px,"+(Rt.y-1)+"px)";Tt.transform=Mt,Tt.webkitTransform=Mt,pt[ht].yOffset=Rt.y-1}else yt.setAttribute("width",1),yt.setAttribute("height",1);gt.appendChild(yt)}}else if(mt.textContent=pt[ht].val,mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(mt);else{this.innerElem.appendChild(gt);var Pt=mt.style,It="translate3d(0,"+-Ye.finalSize/1.2+"px,0)";Pt.transform=It,Pt.webkitTransform=It}this.isMasked?this.textSpans[Ct]=mt:this.textSpans[Ct]=gt,this.textSpans[Ct].style.display="block",this.textPaths[Ct]=mt,Ct+=1}for(;Ct<this.textSpans.length;)this.textSpans[Ct].style.display="none",Ct+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Ye;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Ye=this.svgElement.style;var rt="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Ye.transform=rt,Ye.webkitTransform=rt}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var it,lt,ct=0,ut=this.textAnimator.renderedLetters,ht=this.textProperty.currentData.l;lt=ht.length;var ft,pt,mt;for(it=0;it<lt;it+=1)ht[it].n?ct+=1:(pt=this.textSpans[it],mt=this.textPaths[it],ft=ut[ct],ct+=1,ft._mdf.m&&(this.isMasked?pt.setAttribute("transform",ft.m):(pt.style.webkitTransform=ft.m,pt.style.transform=ft.m)),pt.style.opacity=ft.o,ft.sw&&ft._mdf.sw&&mt.setAttribute("stroke-width",ft.sw),ft.sc&&ft._mdf.sc&&mt.setAttribute("stroke",ft.sc),ft.fc&&ft._mdf.fc&&(mt.setAttribute("fill",ft.fc),mt.style.color=ft.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var gt=this.innerElem.getBBox();this.currentBBox.w!==gt.width&&(this.currentBBox.w=gt.width,this.svgElement.setAttribute("width",gt.width)),this.currentBBox.h!==gt.height&&(this.currentBBox.h=gt.height,this.svgElement.setAttribute("height",gt.height));var yt=1;if(this.currentBBox.w!==gt.width+yt*2||this.currentBBox.h!==gt.height+yt*2||this.currentBBox.x!==gt.x-yt||this.currentBBox.y!==gt.y-yt){this.currentBBox.w=gt.width+yt*2,this.currentBBox.h=gt.height+yt*2,this.currentBBox.x=gt.x-yt,this.currentBBox.y=gt.y-yt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Ye=this.svgElement.style;var xt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ye.transform=xt,Ye.webkitTransform=xt}}}};function HCameraElement(Ye,rt,it){this.initFrame(),this.initBaseData(Ye,rt,it),this.initHierarchy();var lt=PropertyFactory.getProp;if(this.pe=lt(this,Ye.pe,0,0,this),Ye.ks.p.s?(this.px=lt(this,Ye.ks.p.x,1,0,this),this.py=lt(this,Ye.ks.p.y,1,0,this),this.pz=lt(this,Ye.ks.p.z,1,0,this)):this.p=lt(this,Ye.ks.p,1,0,this),Ye.ks.a&&(this.a=lt(this,Ye.ks.a,1,0,this)),Ye.ks.or.k.length&&Ye.ks.or.k[0].to){var ct,ut=Ye.ks.or.k.length;for(ct=0;ct<ut;ct+=1)Ye.ks.or.k[ct].to=null,Ye.ks.or.k[ct].ti=null}this.or=lt(this,Ye.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=lt(this,Ye.ks.rx,0,degToRads,this),this.ry=lt(this,Ye.ks.ry,0,degToRads,this),this.rz=lt(this,Ye.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Ye,rt=this.comp.threeDElements.length,it,lt,ct;for(Ye=0;Ye<rt;Ye+=1)if(it=this.comp.threeDElements[Ye],it.type==="3d"){lt=it.perspectiveElem.style,ct=it.container.style;var ut=this.pe.v+"px",ht="0px 0px 0px",ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";lt.perspective=ut,lt.webkitPerspective=ut,ct.transformOrigin=ht,ct.mozTransformOrigin=ht,ct.webkitTransformOrigin=ht,lt.transform=ft,lt.webkitTransform=ft}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Ye=this._isFirstFrame,rt,it;if(this.hierarchy)for(it=this.hierarchy.length,rt=0;rt<it;rt+=1)Ye=this.hierarchy[rt].finalTransform.mProp._mdf||Ye;if(Ye||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(it=this.hierarchy.length-1,rt=it;rt>=0;rt-=1){var lt=this.hierarchy[rt].finalTransform.mProp;this.mat.translate(-lt.p.v[0],-lt.p.v[1],lt.p.v[2]),this.mat.rotateX(-lt.or.v[0]).rotateY(-lt.or.v[1]).rotateZ(lt.or.v[2]),this.mat.rotateX(-lt.rx.v).rotateY(-lt.ry.v).rotateZ(lt.rz.v),this.mat.scale(1/lt.s.v[0],1/lt.s.v[1],1/lt.s.v[2]),this.mat.translate(lt.a.v[0],lt.a.v[1],lt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var ct;this.p?ct=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:ct=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var ut=Math.sqrt(Math.pow(ct[0],2)+Math.pow(ct[1],2)+Math.pow(ct[2],2)),ht=[ct[0]/ut,ct[1]/ut,ct[2]/ut],ft=Math.sqrt(ht[2]*ht[2]+ht[0]*ht[0]),pt=Math.atan2(ht[1],ft),mt=Math.atan2(ht[0],-ht[2]);this.mat.rotateY(mt).rotateX(-pt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var gt=!this._prevMat.equals(this.mat);if((gt||this.pe._mdf)&&this.comp.threeDElements){it=this.comp.threeDElements.length;var yt,xt,bt;for(rt=0;rt<it;rt+=1)if(yt=this.comp.threeDElements[rt],yt.type==="3d"){if(gt){var _t=this.mat.toCSS();bt=yt.container.style,bt.transform=_t,bt.webkitTransform=_t}this.pe._mdf&&(xt=yt.perspectiveElem.style,xt.perspective=this.pe.v+"px",xt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Ye){this.prepareProperties(Ye,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Ye,rt,it){this.assetData=rt.getAssetData(Ye.refId),this.initElement(Ye,rt,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Ye=this.globalData.getAssetsPath(this.assetData),rt=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ye),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(rt),rt.crossOrigin="anonymous",rt.src=Ye,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Ye,rt){this.animationItem=Ye,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:rt&&rt.className||"",imagePreserveAspectRatio:rt&&rt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(rt&&rt.hideOnTransparent===!1),filterSize:{width:rt&&rt.filterSize&&rt.filterSize.width||"400%",height:rt&&rt.filterSize&&rt.filterSize.height||"400%",x:rt&&rt.filterSize&&rt.filterSize.x||"-100%",y:rt&&rt.filterSize&&rt.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ye=this.pendingElements.pop();Ye.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Ye,rt){var it=Ye.getBaseElement();if(it){var lt=this.layers[rt];if(!lt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(it,rt);else{for(var ct=0,ut,ht,ft;ct<rt;)this.elements[ct]&&this.elements[ct]!==!0&&this.elements[ct].getBaseElement&&(ht=this.elements[ct],ft=this.layers[ct].ddd?this.getThreeDContainerByPos(ct):ht.getBaseElement(),ut=ft||ut),ct+=1;ut?(!lt.ddd||!this.supports3d)&&this.layerElement.insertBefore(it,ut):(!lt.ddd||!this.supports3d)&&this.layerElement.appendChild(it)}else this.addTo3dContainer(it,rt)}},HybridRendererBase.prototype.createShape=function(Ye){return this.supports3d?new HShapeElement(Ye,this.globalData,this):new SVGShapeElement(Ye,this.globalData,this)},HybridRendererBase.prototype.createText=function(Ye){return this.supports3d?new HTextElement(Ye,this.globalData,this):new SVGTextLottieElement(Ye,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Ye){return this.camera=new HCameraElement(Ye,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Ye){return this.supports3d?new HImageElement(Ye,this.globalData,this):new IImageElement(Ye,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Ye){return this.supports3d?new HSolidElement(Ye,this.globalData,this):new ISolidElement(Ye,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Ye){for(var rt=0,it=this.threeDElements.length;rt<it;){if(this.threeDElements[rt].startPos<=Ye&&this.threeDElements[rt].endPos>=Ye)return this.threeDElements[rt].perspectiveElem;rt+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Ye,rt){var it=createTag("div"),lt,ct;styleDiv(it);var ut=createTag("div");if(styleDiv(ut),rt==="3d"){lt=it.style,lt.width=this.globalData.compSize.w+"px",lt.height=this.globalData.compSize.h+"px";var ht="50% 50%";lt.webkitTransformOrigin=ht,lt.mozTransformOrigin=ht,lt.transformOrigin=ht,ct=ut.style;var ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ct.transform=ft,ct.webkitTransform=ft}it.appendChild(ut);var pt={container:ut,perspectiveElem:it,startPos:Ye,endPos:Ye,type:rt};return this.threeDElements.push(pt),pt},HybridRendererBase.prototype.build3dContainers=function(){var Ye,rt=this.layers.length,it,lt="";for(Ye=0;Ye<rt;Ye+=1)this.layers[Ye].ddd&&this.layers[Ye].ty!==3?(lt!=="3d"&&(lt="3d",it=this.createThreeDContainer(Ye,"3d")),it.endPos=Math.max(it.endPos,Ye)):(lt!=="2d"&&(lt="2d",it=this.createThreeDContainer(Ye,"2d")),it.endPos=Math.max(it.endPos,Ye));for(rt=this.threeDElements.length,Ye=rt-1;Ye>=0;Ye-=1)this.resizerElem.appendChild(this.threeDElements[Ye].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Ye,rt){for(var it=0,lt=this.threeDElements.length;it<lt;){if(rt<=this.threeDElements[it].endPos){for(var ct=this.threeDElements[it].startPos,ut;ct<rt;)this.elements[ct]&&this.elements[ct].getBaseElement&&(ut=this.elements[ct].getBaseElement()),ct+=1;ut?this.threeDElements[it].container.insertBefore(Ye,ut):this.threeDElements[it].container.appendChild(Ye);break}it+=1}},HybridRendererBase.prototype.configAnimation=function(Ye){var rt=createTag("div"),it=this.animationItem.wrapper,lt=rt.style;lt.width=Ye.w+"px",lt.height=Ye.h+"px",this.resizerElem=rt,styleDiv(rt),lt.transformStyle="flat",lt.mozTransformStyle="flat",lt.webkitTransformStyle="flat",this.renderConfig.className&&rt.setAttribute("class",this.renderConfig.className),it.appendChild(rt),lt.overflow="hidden";var ct=createNS("svg");ct.setAttribute("width","1"),ct.setAttribute("height","1"),styleDiv(ct),this.resizerElem.appendChild(ct);var ut=createNS("defs");ct.appendChild(ut),this.data=Ye,this.setupGlobalData(Ye,ct),this.globalData.defs=ut,this.layers=Ye.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Ye,rt=this.layers?this.layers.length:0;for(Ye=0;Ye<rt;Ye+=1)this.elements[Ye]&&this.elements[Ye].destroy&&this.elements[Ye].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Ye=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight,it=Ye/rt,lt=this.globalData.compSize.w/this.globalData.compSize.h,ct,ut,ht,ft;lt>it?(ct=Ye/this.globalData.compSize.w,ut=Ye/this.globalData.compSize.w,ht=0,ft=(rt-this.globalData.compSize.h*(Ye/this.globalData.compSize.w))/2):(ct=rt/this.globalData.compSize.h,ut=rt/this.globalData.compSize.h,ht=(Ye-this.globalData.compSize.w*(rt/this.globalData.compSize.h))/2,ft=0);var pt=this.resizerElem.style;pt.webkitTransform="matrix3d("+ct+",0,0,0,0,"+ut+",0,0,0,0,1,0,"+ht+","+ft+",0,1)",pt.transform=pt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Ye=this.globalData.compSize.w,rt=this.globalData.compSize.h,it,lt=this.threeDElements.length;for(it=0;it<lt;it+=1){var ct=this.threeDElements[it].perspectiveElem.style;ct.webkitPerspective=Math.sqrt(Math.pow(Ye,2)+Math.pow(rt,2))+"px",ct.perspective=ct.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Ye){var rt,it=Ye.length,lt=createTag("div");for(rt=0;rt<it;rt+=1)if(Ye[rt].xt){var ct=this.createComp(Ye[rt],lt,this.globalData.comp,null);ct.initExpressions(),this.globalData.projectInterface.registerComposition(ct)}};function HCompElement(Ye,rt,it){this.layers=Ye.layers,this.supports3d=!Ye.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ye,rt,it),this.tm=Ye.tm?PropertyFactory.getProp(this,Ye.tm,0,rt.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Ye,rt){for(var it=0,lt;it<rt;)this.elements[it]&&this.elements[it].getBaseElement&&(lt=this.elements[it].getBaseElement()),it+=1;lt?this.layerElement.insertBefore(Ye,lt):this.layerElement.appendChild(Ye)},HCompElement.prototype.createComp=function(Ye){return this.supports3d?new HCompElement(Ye,this.globalData,this):new SVGCompElement(Ye,this.globalData,this)};function HybridRenderer(Ye,rt){this.animationItem=Ye,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:rt&&rt.className||"",imagePreserveAspectRatio:rt&&rt.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(rt&&rt.hideOnTransparent===!1),filterSize:{width:rt&&rt.filterSize&&rt.filterSize.width||"400%",height:rt&&rt.filterSize&&rt.filterSize.height||"400%",x:rt&&rt.filterSize&&rt.filterSize.x||"-100%",y:rt&&rt.filterSize&&rt.filterSize.y||"-100%"},runExpressions:!rt||rt.runExpressions===void 0||rt.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Ye){return this.supports3d?new HCompElement(Ye,this.globalData,this):new SVGCompElement(Ye,this.globalData,this)};var CompExpressionInterface=(function(){return function(Ye){function rt(it){for(var lt=0,ct=Ye.layers.length;lt<ct;){if(Ye.layers[lt].nm===it||Ye.layers[lt].ind===it)return Ye.elements[lt].layerInterface;lt+=1}return null}return Object.defineProperty(rt,"_name",{value:Ye.data.nm}),rt.layer=rt,rt.pixelAspect=1,rt.height=Ye.data.h||Ye.globalData.compSize.h,rt.width=Ye.data.w||Ye.globalData.compSize.w,rt.pixelAspect=1,rt.frameDuration=1/Ye.globalData.frameRate,rt.displayStartTime=0,rt.numLayers=Ye.layers.length,rt}})();function _typeof$2(Ye){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$2(Ye)}function seedRandom(Ye,rt){var it=this,lt=256,ct=6,ut=52,ht="random",ft=rt.pow(lt,ct),pt=rt.pow(2,ut),mt=pt*2,gt=lt-1,yt;function xt(Tt,Mt,Pt){var It=[];Mt=Mt===!0?{entropy:!0}:Mt||{};var Lt=kt(Ct(Mt.entropy?[Tt,Rt(Ye)]:Tt===null?St():Tt,3),It),Ot=new bt(It),Ft=function(){for(var Wt=Ot.g(ct),Kt=ft,Qt=0;Wt<pt;)Wt=(Wt+Qt)*lt,Kt*=lt,Qt=Ot.g(1);for(;Wt>=mt;)Wt/=2,Kt/=2,Qt>>>=1;return(Wt+Qt)/Kt};return Ft.int32=function(){return Ot.g(4)|0},Ft.quick=function(){return Ot.g(4)/4294967296},Ft.double=Ft,kt(Rt(Ot.S),Ye),(Mt.pass||Pt||function(Ut,Wt,Kt,Qt){return Qt&&(Qt.S&&_t(Qt,Ot),Ut.state=function(){return _t(Ot,{})}),Kt?(rt[ht]=Ut,Wt):Ut})(Ft,Lt,"global"in Mt?Mt.global:this==rt,Mt.state)}rt["seed"+ht]=xt;function bt(Tt){var Mt,Pt=Tt.length,It=this,Lt=0,Ot=It.i=It.j=0,Ft=It.S=[];for(Pt||(Tt=[Pt++]);Lt<lt;)Ft[Lt]=Lt++;for(Lt=0;Lt<lt;Lt++)Ft[Lt]=Ft[Ot=gt&Ot+Tt[Lt%Pt]+(Mt=Ft[Lt])],Ft[Ot]=Mt;It.g=function(Ut){for(var Wt,Kt=0,Qt=It.i,Zt=It.j,Vt=It.S;Ut--;)Wt=Vt[Qt=gt&Qt+1],Kt=Kt*lt+Vt[gt&(Vt[Qt]=Vt[Zt=gt&Zt+Wt])+(Vt[Zt]=Wt)];return It.i=Qt,It.j=Zt,Kt}}function _t(Tt,Mt){return Mt.i=Tt.i,Mt.j=Tt.j,Mt.S=Tt.S.slice(),Mt}function Ct(Tt,Mt){var Pt=[],It=_typeof$2(Tt),Lt;if(Mt&&It=="object")for(Lt in Tt)try{Pt.push(Ct(Tt[Lt],Mt-1))}catch{}return Pt.length?Pt:It=="string"?Tt:Tt+"\0"}function kt(Tt,Mt){for(var Pt=Tt+"",It,Lt=0;Lt<Pt.length;)Mt[gt&Lt]=gt&(It^=Mt[gt&Lt]*19)+Pt.charCodeAt(Lt++);return Rt(Mt)}function St(){try{var Tt=new Uint8Array(lt);return(it.crypto||it.msCrypto).getRandomValues(Tt),Rt(Tt)}catch{var Mt=it.navigator,Pt=Mt&&Mt.plugins;return[+new Date,it,Pt,it.screen,Rt(Ye)]}}function Rt(Tt){return String.fromCharCode.apply(0,Tt)}kt(rt.random(),Ye)}function initialize$2(Ye){seedRandom([],Ye)}var propTypes={SHAPE:"shape"};function _typeof$1(Ye){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$1(Ye)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Ye){return Ye.constructor===Array||Ye.constructor===Float32Array}function isNumerable(Ye,rt){return Ye==="number"||rt instanceof Number||Ye==="boolean"||Ye==="string"}function $bm_neg(Ye){var rt=_typeof$1(Ye);if(rt==="number"||Ye instanceof Number||rt==="boolean")return-Ye;if($bm_isInstanceOfArray(Ye)){var it,lt=Ye.length,ct=[];for(it=0;it<lt;it+=1)ct[it]=-Ye[it];return ct}return Ye.propType?Ye.v:-Ye}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Ye,rt){var it=_typeof$1(Ye),lt=_typeof$1(rt);if(isNumerable(it,Ye)&&isNumerable(lt,rt)||it==="string"||lt==="string")return Ye+rt;if($bm_isInstanceOfArray(Ye)&&isNumerable(lt,rt))return Ye=Ye.slice(0),Ye[0]+=rt,Ye;if(isNumerable(it,Ye)&&$bm_isInstanceOfArray(rt))return rt=rt.slice(0),rt[0]=Ye+rt[0],rt;if($bm_isInstanceOfArray(Ye)&&$bm_isInstanceOfArray(rt)){for(var ct=0,ut=Ye.length,ht=rt.length,ft=[];ct<ut||ct<ht;)(typeof Ye[ct]=="number"||Ye[ct]instanceof Number)&&(typeof rt[ct]=="number"||rt[ct]instanceof Number)?ft[ct]=Ye[ct]+rt[ct]:ft[ct]=rt[ct]===void 0?Ye[ct]:Ye[ct]||rt[ct],ct+=1;return ft}return 0}var add=sum;function sub(Ye,rt){var it=_typeof$1(Ye),lt=_typeof$1(rt);if(isNumerable(it,Ye)&&isNumerable(lt,rt))return it==="string"&&(Ye=parseInt(Ye,10)),lt==="string"&&(rt=parseInt(rt,10)),Ye-rt;if($bm_isInstanceOfArray(Ye)&&isNumerable(lt,rt))return Ye=Ye.slice(0),Ye[0]-=rt,Ye;if(isNumerable(it,Ye)&&$bm_isInstanceOfArray(rt))return rt=rt.slice(0),rt[0]=Ye-rt[0],rt;if($bm_isInstanceOfArray(Ye)&&$bm_isInstanceOfArray(rt)){for(var ct=0,ut=Ye.length,ht=rt.length,ft=[];ct<ut||ct<ht;)(typeof Ye[ct]=="number"||Ye[ct]instanceof Number)&&(typeof rt[ct]=="number"||rt[ct]instanceof Number)?ft[ct]=Ye[ct]-rt[ct]:ft[ct]=rt[ct]===void 0?Ye[ct]:Ye[ct]||rt[ct],ct+=1;return ft}return 0}function mul(Ye,rt){var it=_typeof$1(Ye),lt=_typeof$1(rt),ct;if(isNumerable(it,Ye)&&isNumerable(lt,rt))return Ye*rt;var ut,ht;if($bm_isInstanceOfArray(Ye)&&isNumerable(lt,rt)){for(ht=Ye.length,ct=createTypedArray("float32",ht),ut=0;ut<ht;ut+=1)ct[ut]=Ye[ut]*rt;return ct}if(isNumerable(it,Ye)&&$bm_isInstanceOfArray(rt)){for(ht=rt.length,ct=createTypedArray("float32",ht),ut=0;ut<ht;ut+=1)ct[ut]=Ye*rt[ut];return ct}return 0}function div(Ye,rt){var it=_typeof$1(Ye),lt=_typeof$1(rt),ct;if(isNumerable(it,Ye)&&isNumerable(lt,rt))return Ye/rt;var ut,ht;if($bm_isInstanceOfArray(Ye)&&isNumerable(lt,rt)){for(ht=Ye.length,ct=createTypedArray("float32",ht),ut=0;ut<ht;ut+=1)ct[ut]=Ye[ut]/rt;return ct}if(isNumerable(it,Ye)&&$bm_isInstanceOfArray(rt)){for(ht=rt.length,ct=createTypedArray("float32",ht),ut=0;ut<ht;ut+=1)ct[ut]=Ye/rt[ut];return ct}return 0}function mod(Ye,rt){return typeof Ye=="string"&&(Ye=parseInt(Ye,10)),typeof rt=="string"&&(rt=parseInt(rt,10)),Ye%rt}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Ye,rt,it){if(rt>it){var lt=it;it=rt,rt=lt}return Math.min(Math.max(Ye,rt),it)}function radiansToDegrees(Ye){return Ye/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Ye){return Ye*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Ye,rt){if(typeof Ye=="number"||Ye instanceof Number)return rt=rt||0,Math.abs(Ye-rt);rt||(rt=helperLengthArray);var it,lt=Math.min(Ye.length,rt.length),ct=0;for(it=0;it<lt;it+=1)ct+=Math.pow(rt[it]-Ye[it],2);return Math.sqrt(ct)}function normalize(Ye){return div(Ye,length(Ye))}function rgbToHsl(Ye){var rt=Ye[0],it=Ye[1],lt=Ye[2],ct=Math.max(rt,it,lt),ut=Math.min(rt,it,lt),ht,ft,pt=(ct+ut)/2;if(ct===ut)ht=0,ft=0;else{var mt=ct-ut;switch(ft=pt>.5?mt/(2-ct-ut):mt/(ct+ut),ct){case rt:ht=(it-lt)/mt+(it<lt?6:0);break;case it:ht=(lt-rt)/mt+2;break;case lt:ht=(rt-it)/mt+4;break}ht/=6}return[ht,ft,pt,Ye[3]]}function hue2rgb(Ye,rt,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?Ye+(rt-Ye)*6*it:it<1/2?rt:it<2/3?Ye+(rt-Ye)*(2/3-it)*6:Ye}function hslToRgb(Ye){var rt=Ye[0],it=Ye[1],lt=Ye[2],ct,ut,ht;if(it===0)ct=lt,ht=lt,ut=lt;else{var ft=lt<.5?lt*(1+it):lt+it-lt*it,pt=2*lt-ft;ct=hue2rgb(pt,ft,rt+1/3),ut=hue2rgb(pt,ft,rt),ht=hue2rgb(pt,ft,rt-1/3)}return[ct,ut,ht,Ye[3]]}function linear(Ye,rt,it,lt,ct){if((lt===void 0||ct===void 0)&&(lt=rt,ct=it,rt=0,it=1),it<rt){var ut=it;it=rt,rt=ut}if(Ye<=rt)return lt;if(Ye>=it)return ct;var ht=it===rt?0:(Ye-rt)/(it-rt);if(!lt.length)return lt+(ct-lt)*ht;var ft,pt=lt.length,mt=createTypedArray("float32",pt);for(ft=0;ft<pt;ft+=1)mt[ft]=lt[ft]+(ct[ft]-lt[ft])*ht;return mt}function random(Ye,rt){if(rt===void 0&&(Ye===void 0?(Ye=0,rt=1):(rt=Ye,Ye=void 0)),rt.length){var it,lt=rt.length;Ye||(Ye=createTypedArray("float32",lt));var ct=createTypedArray("float32",lt),ut=BMMath.random();for(it=0;it<lt;it+=1)ct[it]=Ye[it]+ut*(rt[it]-Ye[it]);return ct}Ye===void 0&&(Ye=0);var ht=BMMath.random();return Ye+ht*(rt-Ye)}function createPath(Ye,rt,it,lt){var ct,ut=Ye.length,ht=shapePool.newElement();ht.setPathData(!!lt,ut);var ft=[0,0],pt,mt;for(ct=0;ct<ut;ct+=1)pt=rt&&rt[ct]?rt[ct]:ft,mt=it&&it[ct]?it[ct]:ft,ht.setTripleAt(Ye[ct][0],Ye[ct][1],mt[0]+Ye[ct][0],mt[1]+Ye[ct][1],pt[0]+Ye[ct][0],pt[1]+Ye[ct][1],ct,!0);return ht}function initiateExpression(elem,data,property){function noOp(Ye){return Ye}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Ye(rt,it){var lt,ct,ut=this.pv.length?this.pv.length:1,ht=createTypedArray("float32",ut);rt=5;var ft=Math.floor(time*rt);for(lt=0,ct=0;lt<ft;){for(ct=0;ct<ut;ct+=1)ht[ct]+=-it+it*2*BMMath.random();lt+=1}var pt=time*rt,mt=pt-Math.floor(pt),gt=createTypedArray("float32",ut);if(ut>1){for(ct=0;ct<ut;ct+=1)gt[ct]=this.pv[ct]+ht[ct]+(-it+it*2*BMMath.random())*mt;return gt}return this.pv+ht[0]+(-it+it*2*BMMath.random())*mt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Ye,rt){return loopIn(Ye,rt,!0)}function loopOutDuration(Ye,rt){return loopOut(Ye,rt,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Ye,rt){var it=[rt[0]-Ye[0],rt[1]-Ye[1],rt[2]-Ye[2]],lt=Math.atan2(it[0],Math.sqrt(it[1]*it[1]+it[2]*it[2]))/degToRads,ct=-Math.atan2(it[1],it[2])/degToRads;return[ct,lt,0]}function easeOut(Ye,rt,it,lt,ct){return applyEase(easeOutBez,Ye,rt,it,lt,ct)}function easeIn(Ye,rt,it,lt,ct){return applyEase(easeInBez,Ye,rt,it,lt,ct)}function ease(Ye,rt,it,lt,ct){return applyEase(easeInOutBez,Ye,rt,it,lt,ct)}function applyEase(Ye,rt,it,lt,ct,ut){ct===void 0?(ct=it,ut=lt):rt=(rt-it)/(lt-it),rt>1?rt=1:rt<0&&(rt=0);var ht=Ye(rt);if($bm_isInstanceOfArray(ct)){var ft,pt=ct.length,mt=createTypedArray("float32",pt);for(ft=0;ft<pt;ft+=1)mt[ft]=(ut[ft]-ct[ft])*ht+ct[ft];return mt}return(ut-ct)*ht+ct}function nearestKey(Ye){var rt,it=data.k.length,lt,ct;if(!data.k.length||typeof data.k[0]=="number")lt=0,ct=0;else if(lt=-1,Ye*=elem.comp.globalData.frameRate,Ye<data.k[0].t)lt=1,ct=data.k[0].t;else{for(rt=0;rt<it-1;rt+=1)if(Ye===data.k[rt].t){lt=rt+1,ct=data.k[rt].t;break}else if(Ye>data.k[rt].t&&Ye<data.k[rt+1].t){Ye-data.k[rt].t>data.k[rt+1].t-Ye?(lt=rt+2,ct=data.k[rt+1].t):(lt=rt+1,ct=data.k[rt].t);break}lt===-1&&(lt=rt+1,ct=data.k[rt].t)}var ut={};return ut.index=lt,ut.time=ct/elem.comp.globalData.frameRate,ut}function key(Ye){var rt,it,lt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Ye);Ye-=1,rt={time:data.k[Ye].t/elem.comp.globalData.frameRate,value:[]};var ct=Object.prototype.hasOwnProperty.call(data.k[Ye],"s")?data.k[Ye].s:data.k[Ye-1].e;for(lt=ct.length,it=0;it<lt;it+=1)rt[it]=ct[it],rt.value[it]=ct[it];return rt}function framesToTime(Ye,rt){return rt||(rt=elem.comp.globalData.frameRate),Ye/rt}function timeToFrames(Ye,rt){return!Ye&&Ye!==0&&(Ye=time),rt||(rt=elem.comp.globalData.frameRate),Ye*rt}function seedRandom(Ye){BMMath.seedrandom(randSeed+Ye)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Ye,rt){return typeof value=="string"?rt===void 0?value.substring(Ye):value.substring(Ye,rt):""}function substr(Ye,rt){return typeof value=="string"?rt===void 0?value.substr(Ye):value.substr(Ye,rt):""}function posterizeTime(Ye){time=Ye===0?0:Math.floor(time*Ye)/Ye,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Ye){return value=Ye,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var Ye={};Ye.initExpressions=rt,Ye.resetFrame=ExpressionManager.resetFrame;function rt(it){var lt=0,ct=[];function ut(){lt+=1}function ht(){lt-=1,lt===0&&pt()}function ft(mt){ct.indexOf(mt)===-1&&ct.push(mt)}function pt(){var mt,gt=ct.length;for(mt=0;mt<gt;mt+=1)ct[mt].release();ct.length=0}it.renderer.compInterface=CompExpressionInterface(it.renderer),it.renderer.globalData.projectInterface.registerComposition(it.renderer),it.renderer.globalData.pushExpression=ut,it.renderer.globalData.popExpression=ht,it.renderer.globalData.registerExpressionProperty=ft}return Ye})(),MaskManagerInterface=(function(){function Ye(it,lt){this._mask=it,this._data=lt}Object.defineProperty(Ye.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Ye.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var rt=function(lt){var ct=createSizedArray(lt.viewData.length),ut,ht=lt.viewData.length;for(ut=0;ut<ht;ut+=1)ct[ut]=new Ye(lt.viewData[ut],lt.masksProperties[ut]);var ft=function(mt){for(ut=0;ut<ht;){if(lt.masksProperties[ut].nm===mt)return ct[ut];ut+=1}return null};return ft};return rt})(),ExpressionPropertyInterface=(function(){var Ye={pv:0,v:0,mult:1},rt={pv:[0,0,0],v:[0,0,0],mult:1};function it(ht,ft,pt){Object.defineProperty(ht,"velocity",{get:function(){return ft.getVelocityAtTime(ft.comp.currentFrame)}}),ht.numKeys=ft.keyframes?ft.keyframes.length:0,ht.key=function(mt){if(!ht.numKeys)return 0;var gt="";"s"in ft.keyframes[mt-1]?gt=ft.keyframes[mt-1].s:"e"in ft.keyframes[mt-2]?gt=ft.keyframes[mt-2].e:gt=ft.keyframes[mt-2].s;var yt=pt==="unidimensional"?new Number(gt):Object.assign({},gt);return yt.time=ft.keyframes[mt-1].t/ft.elem.comp.globalData.frameRate,yt.value=pt==="unidimensional"?gt[0]:gt,yt},ht.valueAtTime=ft.getValueAtTime,ht.speedAtTime=ft.getSpeedAtTime,ht.velocityAtTime=ft.getVelocityAtTime,ht.propertyGroup=ft.propertyGroup}function lt(ht){(!ht||!("pv"in ht))&&(ht=Ye);var ft=1/ht.mult,pt=ht.pv*ft,mt=new Number(pt);return mt.value=pt,it(mt,ht,"unidimensional"),function(){return ht.k&&ht.getValue(),pt=ht.v*ft,mt.value!==pt&&(mt=new Number(pt),mt.value=pt,mt[0]=pt,it(mt,ht,"unidimensional")),mt}}function ct(ht){(!ht||!("pv"in ht))&&(ht=rt);var ft=1/ht.mult,pt=ht.data&&ht.data.l||ht.pv.length,mt=createTypedArray("float32",pt),gt=createTypedArray("float32",pt);return mt.value=gt,it(mt,ht,"multidimensional"),function(){ht.k&&ht.getValue();for(var yt=0;yt<pt;yt+=1)gt[yt]=ht.v[yt]*ft,mt[yt]=gt[yt];return mt}}function ut(){return Ye}return function(ht){return ht?ht.propType==="unidimensional"?lt(ht):ct(ht):ut}})(),TransformExpressionInterface=(function(){return function(Ye){function rt(ht){switch(ht){case"scale":case"Scale":case"ADBE Scale":case 6:return rt.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return rt.rotation;case"ADBE Rotate X":return rt.xRotation;case"ADBE Rotate Y":return rt.yRotation;case"position":case"Position":case"ADBE Position":case 2:return rt.position;case"ADBE Position_0":return rt.xPosition;case"ADBE Position_1":return rt.yPosition;case"ADBE Position_2":return rt.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return rt.anchorPoint;case"opacity":case"Opacity":case 11:return rt.opacity;default:return null}}Object.defineProperty(rt,"rotation",{get:ExpressionPropertyInterface(Ye.r||Ye.rz)}),Object.defineProperty(rt,"zRotation",{get:ExpressionPropertyInterface(Ye.rz||Ye.r)}),Object.defineProperty(rt,"xRotation",{get:ExpressionPropertyInterface(Ye.rx)}),Object.defineProperty(rt,"yRotation",{get:ExpressionPropertyInterface(Ye.ry)}),Object.defineProperty(rt,"scale",{get:ExpressionPropertyInterface(Ye.s)});var it,lt,ct,ut;return Ye.p?ut=ExpressionPropertyInterface(Ye.p):(it=ExpressionPropertyInterface(Ye.px),lt=ExpressionPropertyInterface(Ye.py),Ye.pz&&(ct=ExpressionPropertyInterface(Ye.pz))),Object.defineProperty(rt,"position",{get:function(){return Ye.p?ut():[it(),lt(),ct?ct():0]}}),Object.defineProperty(rt,"xPosition",{get:ExpressionPropertyInterface(Ye.px)}),Object.defineProperty(rt,"yPosition",{get:ExpressionPropertyInterface(Ye.py)}),Object.defineProperty(rt,"zPosition",{get:ExpressionPropertyInterface(Ye.pz)}),Object.defineProperty(rt,"anchorPoint",{get:ExpressionPropertyInterface(Ye.a)}),Object.defineProperty(rt,"opacity",{get:ExpressionPropertyInterface(Ye.o)}),Object.defineProperty(rt,"skew",{get:ExpressionPropertyInterface(Ye.sk)}),Object.defineProperty(rt,"skewAxis",{get:ExpressionPropertyInterface(Ye.sa)}),Object.defineProperty(rt,"orientation",{get:ExpressionPropertyInterface(Ye.or)}),rt}})(),LayerExpressionInterface=(function(){function Ye(mt){var gt=new Matrix;if(mt!==void 0){var yt=this._elem.finalTransform.mProp.getValueAtTime(mt);yt.clone(gt)}else{var xt=this._elem.finalTransform.mProp;xt.applyToMatrix(gt)}return gt}function rt(mt,gt){var yt=this.getMatrix(gt);return yt.props[12]=0,yt.props[13]=0,yt.props[14]=0,this.applyPoint(yt,mt)}function it(mt,gt){var yt=this.getMatrix(gt);return this.applyPoint(yt,mt)}function lt(mt,gt){var yt=this.getMatrix(gt);return yt.props[12]=0,yt.props[13]=0,yt.props[14]=0,this.invertPoint(yt,mt)}function ct(mt,gt){var yt=this.getMatrix(gt);return this.invertPoint(yt,mt)}function ut(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var yt,xt=this._elem.hierarchy.length;for(yt=0;yt<xt;yt+=1)this._elem.hierarchy[yt].finalTransform.mProp.applyToMatrix(mt)}return mt.applyToPointArray(gt[0],gt[1],gt[2]||0)}function ht(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var yt,xt=this._elem.hierarchy.length;for(yt=0;yt<xt;yt+=1)this._elem.hierarchy[yt].finalTransform.mProp.applyToMatrix(mt)}return mt.inversePoint(gt)}function ft(mt){var gt=new Matrix;if(gt.reset(),this._elem.finalTransform.mProp.applyToMatrix(gt),this._elem.hierarchy&&this._elem.hierarchy.length){var yt,xt=this._elem.hierarchy.length;for(yt=0;yt<xt;yt+=1)this._elem.hierarchy[yt].finalTransform.mProp.applyToMatrix(gt);return gt.inversePoint(mt)}return gt.inversePoint(mt)}function pt(){return[1,1,1,1]}return function(mt){var gt;function yt(Ct){bt.mask=new MaskManagerInterface(Ct,mt)}function xt(Ct){bt.effect=Ct}function bt(Ct){switch(Ct){case"ADBE Root Vectors Group":case"Contents":case 2:return bt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return gt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return bt.effect;case"ADBE Text Properties":return bt.textInterface;default:return null}}bt.getMatrix=Ye,bt.invertPoint=ht,bt.applyPoint=ut,bt.toWorld=it,bt.toWorldVec=rt,bt.fromWorld=ct,bt.fromWorldVec=lt,bt.toComp=it,bt.fromComp=ft,bt.sampleImage=pt,bt.sourceRectAtTime=mt.sourceRectAtTime.bind(mt),bt._elem=mt,gt=TransformExpressionInterface(mt.finalTransform.mProp);var _t=getDescriptor(gt,"anchorPoint");return Object.defineProperties(bt,{hasParent:{get:function(){return mt.hierarchy.length}},parent:{get:function(){return mt.hierarchy[0].layerInterface}},rotation:getDescriptor(gt,"rotation"),scale:getDescriptor(gt,"scale"),position:getDescriptor(gt,"position"),opacity:getDescriptor(gt,"opacity"),anchorPoint:_t,anchor_point:_t,transform:{get:function(){return gt}},active:{get:function(){return mt.isInRange}}}),bt.startTime=mt.data.st,bt.index=mt.data.ind,bt.source=mt.data.refId,bt.height=mt.data.ty===0?mt.data.h:100,bt.width=mt.data.ty===0?mt.data.w:100,bt.inPoint=mt.data.ip/mt.comp.globalData.frameRate,bt.outPoint=mt.data.op/mt.comp.globalData.frameRate,bt._name=mt.data.nm,bt.registerMaskInterface=yt,bt.registerEffectsInterface=xt,bt}})(),propertyGroupFactory=(function(){return function(Ye,rt){return function(it){return it=it===void 0?1:it,it<=0?Ye:rt(it-1)}}})(),PropertyInterface=(function(){return function(Ye,rt){var it={_name:Ye};function lt(ct){return ct=ct===void 0?1:ct,ct<=0?it:rt(ct-1)}return lt}})(),EffectsExpressionInterface=(function(){var Ye={createEffectsInterface:rt};function rt(ct,ut){if(ct.effectsManager){var ht=[],ft=ct.data.ef,pt,mt=ct.effectsManager.effectElements.length;for(pt=0;pt<mt;pt+=1)ht.push(it(ft[pt],ct.effectsManager.effectElements[pt],ut,ct));var gt=ct.data.ef||[],yt=function(bt){for(pt=0,mt=gt.length;pt<mt;){if(bt===gt[pt].nm||bt===gt[pt].mn||bt===gt[pt].ix)return ht[pt];pt+=1}return null};return Object.defineProperty(yt,"numProperties",{get:function(){return gt.length}}),yt}return null}function it(ct,ut,ht,ft){function pt(bt){for(var _t=ct.ef,Ct=0,kt=_t.length;Ct<kt;){if(bt===_t[Ct].nm||bt===_t[Ct].mn||bt===_t[Ct].ix)return _t[Ct].ty===5?gt[Ct]:gt[Ct]();Ct+=1}throw new Error}var mt=propertyGroupFactory(pt,ht),gt=[],yt,xt=ct.ef.length;for(yt=0;yt<xt;yt+=1)ct.ef[yt].ty===5?gt.push(it(ct.ef[yt],ut.effectElements[yt],ut.effectElements[yt].propertyGroup,ft)):gt.push(lt(ut.effectElements[yt],ct.ef[yt].ty,ft,mt));return ct.mn==="ADBE Color Control"&&Object.defineProperty(pt,"color",{get:function(){return gt[0]()}}),Object.defineProperties(pt,{numProperties:{get:function(){return ct.np}},_name:{value:ct.nm},propertyGroup:{value:mt}}),pt.enabled=ct.en!==0,pt.active=pt.enabled,pt}function lt(ct,ut,ht,ft){var pt=ExpressionPropertyInterface(ct.p);function mt(){return ut===10?ht.comp.compInterface(ct.p.v):pt()}return ct.p.setGroupProperty&&ct.p.setGroupProperty(PropertyInterface("",ft)),mt}return Ye})(),ShapePathInterface=(function(){return function(rt,it,lt){var ct=it.sh;function ut(ft){return ft==="Shape"||ft==="shape"||ft==="Path"||ft==="path"||ft==="ADBE Vector Shape"||ft===2?ut.path:null}var ht=propertyGroupFactory(ut,lt);return ct.setGroupProperty(PropertyInterface("Path",ht)),Object.defineProperties(ut,{path:{get:function(){return ct.k&&ct.getValue(),ct}},shape:{get:function(){return ct.k&&ct.getValue(),ct}},_name:{value:rt.nm},ix:{value:rt.ix},propertyIndex:{value:rt.ix},mn:{value:rt.mn},propertyGroup:{value:lt}}),ut}})(),ShapeExpressionInterface=(function(){function Ye(_t,Ct,kt){var St=[],Rt,Tt=_t?_t.length:0;for(Rt=0;Rt<Tt;Rt+=1)_t[Rt].ty==="gr"?St.push(it(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="fl"?St.push(lt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="st"?St.push(ht(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="tm"?St.push(ft(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="tr"||(_t[Rt].ty==="el"?St.push(mt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="sr"?St.push(gt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="sh"?St.push(ShapePathInterface(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="rc"?St.push(yt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="rd"?St.push(xt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="rp"?St.push(bt(_t[Rt],Ct[Rt],kt)):_t[Rt].ty==="gf"?St.push(ct(_t[Rt],Ct[Rt],kt)):St.push(ut(_t[Rt],Ct[Rt])));return St}function rt(_t,Ct,kt){var St,Rt=function(Pt){for(var It=0,Lt=St.length;It<Lt;){if(St[It]._name===Pt||St[It].mn===Pt||St[It].propertyIndex===Pt||St[It].ix===Pt||St[It].ind===Pt)return St[It];It+=1}return typeof Pt=="number"?St[Pt-1]:null};Rt.propertyGroup=propertyGroupFactory(Rt,kt),St=Ye(_t.it,Ct.it,Rt.propertyGroup),Rt.numProperties=St.length;var Tt=pt(_t.it[_t.it.length-1],Ct.it[Ct.it.length-1],Rt.propertyGroup);return Rt.transform=Tt,Rt.propertyIndex=_t.cix,Rt._name=_t.nm,Rt}function it(_t,Ct,kt){var St=function(Pt){switch(Pt){case"ADBE Vectors Group":case"Contents":case 2:return St.content;default:return St.transform}};St.propertyGroup=propertyGroupFactory(St,kt);var Rt=rt(_t,Ct,St.propertyGroup),Tt=pt(_t.it[_t.it.length-1],Ct.it[Ct.it.length-1],St.propertyGroup);return St.content=Rt,St.transform=Tt,Object.defineProperty(St,"_name",{get:function(){return _t.nm}}),St.numProperties=_t.np,St.propertyIndex=_t.ix,St.nm=_t.nm,St.mn=_t.mn,St}function lt(_t,Ct,kt){function St(Rt){return Rt==="Color"||Rt==="color"?St.color:Rt==="Opacity"||Rt==="opacity"?St.opacity:null}return Object.defineProperties(St,{color:{get:ExpressionPropertyInterface(Ct.c)},opacity:{get:ExpressionPropertyInterface(Ct.o)},_name:{value:_t.nm},mn:{value:_t.mn}}),Ct.c.setGroupProperty(PropertyInterface("Color",kt)),Ct.o.setGroupProperty(PropertyInterface("Opacity",kt)),St}function ct(_t,Ct,kt){function St(Rt){return Rt==="Start Point"||Rt==="start point"?St.startPoint:Rt==="End Point"||Rt==="end point"?St.endPoint:Rt==="Opacity"||Rt==="opacity"?St.opacity:null}return Object.defineProperties(St,{startPoint:{get:ExpressionPropertyInterface(Ct.s)},endPoint:{get:ExpressionPropertyInterface(Ct.e)},opacity:{get:ExpressionPropertyInterface(Ct.o)},type:{get:function(){return"a"}},_name:{value:_t.nm},mn:{value:_t.mn}}),Ct.s.setGroupProperty(PropertyInterface("Start Point",kt)),Ct.e.setGroupProperty(PropertyInterface("End Point",kt)),Ct.o.setGroupProperty(PropertyInterface("Opacity",kt)),St}function ut(){function _t(){return null}return _t}function ht(_t,Ct,kt){var St=propertyGroupFactory(Lt,kt),Rt=propertyGroupFactory(It,St);function Tt(Ot){Object.defineProperty(It,_t.d[Ot].nm,{get:ExpressionPropertyInterface(Ct.d.dataProps[Ot].p)})}var Mt,Pt=_t.d?_t.d.length:0,It={};for(Mt=0;Mt<Pt;Mt+=1)Tt(Mt),Ct.d.dataProps[Mt].p.setGroupProperty(Rt);function Lt(Ot){return Ot==="Color"||Ot==="color"?Lt.color:Ot==="Opacity"||Ot==="opacity"?Lt.opacity:Ot==="Stroke Width"||Ot==="stroke width"?Lt.strokeWidth:null}return Object.defineProperties(Lt,{color:{get:ExpressionPropertyInterface(Ct.c)},opacity:{get:ExpressionPropertyInterface(Ct.o)},strokeWidth:{get:ExpressionPropertyInterface(Ct.w)},dash:{get:function(){return It}},_name:{value:_t.nm},mn:{value:_t.mn}}),Ct.c.setGroupProperty(PropertyInterface("Color",St)),Ct.o.setGroupProperty(PropertyInterface("Opacity",St)),Ct.w.setGroupProperty(PropertyInterface("Stroke Width",St)),Lt}function ft(_t,Ct,kt){function St(Tt){return Tt===_t.e.ix||Tt==="End"||Tt==="end"?St.end:Tt===_t.s.ix?St.start:Tt===_t.o.ix?St.offset:null}var Rt=propertyGroupFactory(St,kt);return St.propertyIndex=_t.ix,Ct.s.setGroupProperty(PropertyInterface("Start",Rt)),Ct.e.setGroupProperty(PropertyInterface("End",Rt)),Ct.o.setGroupProperty(PropertyInterface("Offset",Rt)),St.propertyIndex=_t.ix,St.propertyGroup=kt,Object.defineProperties(St,{start:{get:ExpressionPropertyInterface(Ct.s)},end:{get:ExpressionPropertyInterface(Ct.e)},offset:{get:ExpressionPropertyInterface(Ct.o)},_name:{value:_t.nm}}),St.mn=_t.mn,St}function pt(_t,Ct,kt){function St(Tt){return _t.a.ix===Tt||Tt==="Anchor Point"?St.anchorPoint:_t.o.ix===Tt||Tt==="Opacity"?St.opacity:_t.p.ix===Tt||Tt==="Position"?St.position:_t.r.ix===Tt||Tt==="Rotation"||Tt==="ADBE Vector Rotation"?St.rotation:_t.s.ix===Tt||Tt==="Scale"?St.scale:_t.sk&&_t.sk.ix===Tt||Tt==="Skew"?St.skew:_t.sa&&_t.sa.ix===Tt||Tt==="Skew Axis"?St.skewAxis:null}var Rt=propertyGroupFactory(St,kt);return Ct.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Rt)),Ct.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Rt)),Ct.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Rt)),Ct.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Rt)),Ct.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Rt)),Ct.transform.mProps.sk&&(Ct.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Rt)),Ct.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Rt))),Ct.transform.op.setGroupProperty(PropertyInterface("Opacity",Rt)),Object.defineProperties(St,{opacity:{get:ExpressionPropertyInterface(Ct.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ct.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ct.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ct.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ct.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ct.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ct.transform.mProps.sa)},_name:{value:_t.nm}}),St.ty="tr",St.mn=_t.mn,St.propertyGroup=kt,St}function mt(_t,Ct,kt){function St(Mt){return _t.p.ix===Mt?St.position:_t.s.ix===Mt?St.size:null}var Rt=propertyGroupFactory(St,kt);St.propertyIndex=_t.ix;var Tt=Ct.sh.ty==="tm"?Ct.sh.prop:Ct.sh;return Tt.s.setGroupProperty(PropertyInterface("Size",Rt)),Tt.p.setGroupProperty(PropertyInterface("Position",Rt)),Object.defineProperties(St,{size:{get:ExpressionPropertyInterface(Tt.s)},position:{get:ExpressionPropertyInterface(Tt.p)},_name:{value:_t.nm}}),St.mn=_t.mn,St}function gt(_t,Ct,kt){function St(Mt){return _t.p.ix===Mt?St.position:_t.r.ix===Mt?St.rotation:_t.pt.ix===Mt?St.points:_t.or.ix===Mt||Mt==="ADBE Vector Star Outer Radius"?St.outerRadius:_t.os.ix===Mt?St.outerRoundness:_t.ir&&(_t.ir.ix===Mt||Mt==="ADBE Vector Star Inner Radius")?St.innerRadius:_t.is&&_t.is.ix===Mt?St.innerRoundness:null}var Rt=propertyGroupFactory(St,kt),Tt=Ct.sh.ty==="tm"?Ct.sh.prop:Ct.sh;return St.propertyIndex=_t.ix,Tt.or.setGroupProperty(PropertyInterface("Outer Radius",Rt)),Tt.os.setGroupProperty(PropertyInterface("Outer Roundness",Rt)),Tt.pt.setGroupProperty(PropertyInterface("Points",Rt)),Tt.p.setGroupProperty(PropertyInterface("Position",Rt)),Tt.r.setGroupProperty(PropertyInterface("Rotation",Rt)),_t.ir&&(Tt.ir.setGroupProperty(PropertyInterface("Inner Radius",Rt)),Tt.is.setGroupProperty(PropertyInterface("Inner Roundness",Rt))),Object.defineProperties(St,{position:{get:ExpressionPropertyInterface(Tt.p)},rotation:{get:ExpressionPropertyInterface(Tt.r)},points:{get:ExpressionPropertyInterface(Tt.pt)},outerRadius:{get:ExpressionPropertyInterface(Tt.or)},outerRoundness:{get:ExpressionPropertyInterface(Tt.os)},innerRadius:{get:ExpressionPropertyInterface(Tt.ir)},innerRoundness:{get:ExpressionPropertyInterface(Tt.is)},_name:{value:_t.nm}}),St.mn=_t.mn,St}function yt(_t,Ct,kt){function St(Mt){return _t.p.ix===Mt?St.position:_t.r.ix===Mt?St.roundness:_t.s.ix===Mt||Mt==="Size"||Mt==="ADBE Vector Rect Size"?St.size:null}var Rt=propertyGroupFactory(St,kt),Tt=Ct.sh.ty==="tm"?Ct.sh.prop:Ct.sh;return St.propertyIndex=_t.ix,Tt.p.setGroupProperty(PropertyInterface("Position",Rt)),Tt.s.setGroupProperty(PropertyInterface("Size",Rt)),Tt.r.setGroupProperty(PropertyInterface("Rotation",Rt)),Object.defineProperties(St,{position:{get:ExpressionPropertyInterface(Tt.p)},roundness:{get:ExpressionPropertyInterface(Tt.r)},size:{get:ExpressionPropertyInterface(Tt.s)},_name:{value:_t.nm}}),St.mn=_t.mn,St}function xt(_t,Ct,kt){function St(Mt){return _t.r.ix===Mt||Mt==="Round Corners 1"?St.radius:null}var Rt=propertyGroupFactory(St,kt),Tt=Ct;return St.propertyIndex=_t.ix,Tt.rd.setGroupProperty(PropertyInterface("Radius",Rt)),Object.defineProperties(St,{radius:{get:ExpressionPropertyInterface(Tt.rd)},_name:{value:_t.nm}}),St.mn=_t.mn,St}function bt(_t,Ct,kt){function St(Mt){return _t.c.ix===Mt||Mt==="Copies"?St.copies:_t.o.ix===Mt||Mt==="Offset"?St.offset:null}var Rt=propertyGroupFactory(St,kt),Tt=Ct;return St.propertyIndex=_t.ix,Tt.c.setGroupProperty(PropertyInterface("Copies",Rt)),Tt.o.setGroupProperty(PropertyInterface("Offset",Rt)),Object.defineProperties(St,{copies:{get:ExpressionPropertyInterface(Tt.c)},offset:{get:ExpressionPropertyInterface(Tt.o)},_name:{value:_t.nm}}),St.mn=_t.mn,St}return function(_t,Ct,kt){var St;function Rt(Mt){if(typeof Mt=="number")return Mt=Mt===void 0?1:Mt,Mt===0?kt:St[Mt-1];for(var Pt=0,It=St.length;Pt<It;){if(St[Pt]._name===Mt)return St[Pt];Pt+=1}return null}function Tt(){return kt}return Rt.propertyGroup=propertyGroupFactory(Rt,Tt),St=Ye(_t,Ct,Rt.propertyGroup),Rt.numProperties=St.length,Rt._name="Contents",Rt}})(),TextExpressionInterface=(function(){return function(Ye){var rt;function it(lt){switch(lt){case"ADBE Text Document":return it.sourceText;default:return null}}return Object.defineProperty(it,"sourceText",{get:function(){Ye.textProperty.getValue();var ct=Ye.textProperty.currentData.t;return(!rt||ct!==rt.value)&&(rt=new String(ct),rt.value=ct||new String(ct),Object.defineProperty(rt,"style",{get:function(){return{fillColor:Ye.textProperty.currentData.fc}}})),rt}}),it}})();function _typeof(Ye){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof(Ye)}var FootageInterface=(function(){var Ye=function(lt){var ct="",ut=lt.getFootageData();function ht(){return ct="",ut=lt.getFootageData(),ft}function ft(pt){if(ut[pt])return ct=pt,ut=ut[pt],_typeof(ut)==="object"?ft:ut;var mt=pt.indexOf(ct);if(mt!==-1){var gt=parseInt(pt.substr(mt+ct.length),10);return ut=ut[gt],_typeof(ut)==="object"?ft:ut}return""}return ht},rt=function(lt){function ct(ut){return ut==="Outline"?ct.outlineInterface():null}return ct._name="Outline",ct.outlineInterface=Ye(lt),ct};return function(it){function lt(ct){return ct==="Data"?lt.dataInterface:null}return lt._name="Data",lt.dataInterface=rt(it),lt}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Ye){return interfaces[Ye]||null}var expressionHelpers=(function(){function Ye(ht,ft,pt){ft.x&&(pt.k=!0,pt.x=!0,pt.initiateExpression=ExpressionManager.initiateExpression,pt.effectsSequence.push(pt.initiateExpression(ht,ft,pt).bind(pt)))}function rt(ht){return ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ht?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ht,this._cachingAtTime),this._cachingAtTime.lastFrame=ht),this._cachingAtTime.value}function it(ht){var ft=-.01,pt=this.getValueAtTime(ht),mt=this.getValueAtTime(ht+ft),gt=0;if(pt.length){var yt;for(yt=0;yt<pt.length;yt+=1)gt+=Math.pow(mt[yt]-pt[yt],2);gt=Math.sqrt(gt)*100}else gt=0;return gt}function lt(ht){if(this.vel!==void 0)return this.vel;var ft=-.001,pt=this.getValueAtTime(ht),mt=this.getValueAtTime(ht+ft),gt;if(pt.length){gt=createTypedArray("float32",pt.length);var yt;for(yt=0;yt<pt.length;yt+=1)gt[yt]=(mt[yt]-pt[yt])/ft}else gt=(mt-pt)/ft;return gt}function ct(){return this.pv}function ut(ht){this.propertyGroup=ht}return{searchExpressions:Ye,getSpeedAtTime:it,getVelocityAtTime:lt,getValueAtTime:rt,getStaticValueAtTime:ct,setGroupProperty:ut}})();function addPropertyDecorator(){function Ye(xt,bt,_t){if(!this.k||!this.keyframes)return this.pv;xt=xt?xt.toLowerCase():"";var Ct=this.comp.renderedFrame,kt=this.keyframes,St=kt[kt.length-1].t;if(Ct<=St)return this.pv;var Rt,Tt;_t?(bt?Rt=Math.abs(St-this.elem.comp.globalData.frameRate*bt):Rt=Math.max(0,St-this.elem.data.ip),Tt=St-Rt):((!bt||bt>kt.length-1)&&(bt=kt.length-1),Tt=kt[kt.length-1-bt].t,Rt=St-Tt);var Mt,Pt,It;if(xt==="pingpong"){var Lt=Math.floor((Ct-Tt)/Rt);if(Lt%2!==0)return this.getValueAtTime((Rt-(Ct-Tt)%Rt+Tt)/this.comp.globalData.frameRate,0)}else if(xt==="offset"){var Ot=this.getValueAtTime(Tt/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime(St/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime(((Ct-Tt)%Rt+Tt)/this.comp.globalData.frameRate,0),Wt=Math.floor((Ct-Tt)/Rt);if(this.pv.length){for(It=new Array(Ot.length),Pt=It.length,Mt=0;Mt<Pt;Mt+=1)It[Mt]=(Ft[Mt]-Ot[Mt])*Wt+Ut[Mt];return It}return(Ft-Ot)*Wt+Ut}else if(xt==="continue"){var Kt=this.getValueAtTime(St/this.comp.globalData.frameRate,0),Qt=this.getValueAtTime((St-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(It=new Array(Kt.length),Pt=It.length,Mt=0;Mt<Pt;Mt+=1)It[Mt]=Kt[Mt]+(Kt[Mt]-Qt[Mt])*((Ct-St)/this.comp.globalData.frameRate)/5e-4;return It}return Kt+(Kt-Qt)*((Ct-St)/.001)}return this.getValueAtTime(((Ct-Tt)%Rt+Tt)/this.comp.globalData.frameRate,0)}function rt(xt,bt,_t){if(!this.k)return this.pv;xt=xt?xt.toLowerCase():"";var Ct=this.comp.renderedFrame,kt=this.keyframes,St=kt[0].t;if(Ct>=St)return this.pv;var Rt,Tt;_t?(bt?Rt=Math.abs(this.elem.comp.globalData.frameRate*bt):Rt=Math.max(0,this.elem.data.op-St),Tt=St+Rt):((!bt||bt>kt.length-1)&&(bt=kt.length-1),Tt=kt[bt].t,Rt=Tt-St);var Mt,Pt,It;if(xt==="pingpong"){var Lt=Math.floor((St-Ct)/Rt);if(Lt%2===0)return this.getValueAtTime(((St-Ct)%Rt+St)/this.comp.globalData.frameRate,0)}else if(xt==="offset"){var Ot=this.getValueAtTime(St/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime(Tt/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime((Rt-(St-Ct)%Rt+St)/this.comp.globalData.frameRate,0),Wt=Math.floor((St-Ct)/Rt)+1;if(this.pv.length){for(It=new Array(Ot.length),Pt=It.length,Mt=0;Mt<Pt;Mt+=1)It[Mt]=Ut[Mt]-(Ft[Mt]-Ot[Mt])*Wt;return It}return Ut-(Ft-Ot)*Wt}else if(xt==="continue"){var Kt=this.getValueAtTime(St/this.comp.globalData.frameRate,0),Qt=this.getValueAtTime((St+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(It=new Array(Kt.length),Pt=It.length,Mt=0;Mt<Pt;Mt+=1)It[Mt]=Kt[Mt]+(Kt[Mt]-Qt[Mt])*(St-Ct)/.001;return It}return Kt+(Kt-Qt)*(St-Ct)/.001}return this.getValueAtTime((Rt-((St-Ct)%Rt+St))/this.comp.globalData.frameRate,0)}function it(xt,bt){if(!this.k)return this.pv;if(xt=(xt||.4)*.5,bt=Math.floor(bt||5),bt<=1)return this.pv;var _t=this.comp.renderedFrame/this.comp.globalData.frameRate,Ct=_t-xt,kt=_t+xt,St=bt>1?(kt-Ct)/(bt-1):1,Rt=0,Tt=0,Mt;this.pv.length?Mt=createTypedArray("float32",this.pv.length):Mt=0;for(var Pt;Rt<bt;){if(Pt=this.getValueAtTime(Ct+Rt*St),this.pv.length)for(Tt=0;Tt<this.pv.length;Tt+=1)Mt[Tt]+=Pt[Tt];else Mt+=Pt;Rt+=1}if(this.pv.length)for(Tt=0;Tt<this.pv.length;Tt+=1)Mt[Tt]/=bt;else Mt/=bt;return Mt}function lt(xt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var bt=this._transformCachingAtTime.v;if(bt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var _t=this.a.getValueAtTime(xt);bt.translate(-_t[0]*this.a.mult,-_t[1]*this.a.mult,_t[2]*this.a.mult)}if(this.appliedTransformations<2){var Ct=this.s.getValueAtTime(xt);bt.scale(Ct[0]*this.s.mult,Ct[1]*this.s.mult,Ct[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var kt=this.sk.getValueAtTime(xt),St=this.sa.getValueAtTime(xt);bt.skewFromAxis(-kt*this.sk.mult,St*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Rt=this.r.getValueAtTime(xt);bt.rotate(-Rt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Tt=this.rz.getValueAtTime(xt),Mt=this.ry.getValueAtTime(xt),Pt=this.rx.getValueAtTime(xt),It=this.or.getValueAtTime(xt);bt.rotateZ(-Tt*this.rz.mult).rotateY(Mt*this.ry.mult).rotateX(Pt*this.rx.mult).rotateZ(-It[2]*this.or.mult).rotateY(It[1]*this.or.mult).rotateX(It[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Lt=this.px.getValueAtTime(xt),Ot=this.py.getValueAtTime(xt);if(this.data.p.z){var Ft=this.pz.getValueAtTime(xt);bt.translate(Lt*this.px.mult,Ot*this.py.mult,-Ft*this.pz.mult)}else bt.translate(Lt*this.px.mult,Ot*this.py.mult,0)}else{var Ut=this.p.getValueAtTime(xt);bt.translate(Ut[0]*this.p.mult,Ut[1]*this.p.mult,-Ut[2]*this.p.mult)}return bt}function ct(){return this.v.clone(new Matrix)}var ut=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(xt,bt,_t){var Ct=ut(xt,bt,_t);return Ct.dynamicProperties.length?Ct.getValueAtTime=lt.bind(Ct):Ct.getValueAtTime=ct.bind(Ct),Ct.setGroupProperty=expressionHelpers.setGroupProperty,Ct};var ht=PropertyFactory.getProp;PropertyFactory.getProp=function(xt,bt,_t,Ct,kt){var St=ht(xt,bt,_t,Ct,kt);St.kf?St.getValueAtTime=expressionHelpers.getValueAtTime.bind(St):St.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(St),St.setGroupProperty=expressionHelpers.setGroupProperty,St.loopOut=Ye,St.loopIn=rt,St.smooth=it,St.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(St),St.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(St),St.numKeys=bt.a===1?bt.k.length:0,St.propertyIndex=bt.ix;var Rt=0;return _t!==0&&(Rt=createTypedArray("float32",bt.a===1?bt.k[0].s.length:bt.k.length)),St._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Rt},expressionHelpers.searchExpressions(xt,bt,St),St.k&&kt.addDynamicProperty(St),St};function ft(xt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),xt*=this.elem.globalData.frameRate,xt-=this.offsetTime,xt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<xt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=xt,this.interpolateShape(xt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var pt=ShapePropertyFactory.getConstructorFunction(),mt=ShapePropertyFactory.getKeyframedConstructorFunction();function gt(){}gt.prototype={vertices:function(bt,_t){this.k&&this.getValue();var Ct=this.v;_t!==void 0&&(Ct=this.getValueAtTime(_t,0));var kt,St=Ct._length,Rt=Ct[bt],Tt=Ct.v,Mt=createSizedArray(St);for(kt=0;kt<St;kt+=1)bt==="i"||bt==="o"?Mt[kt]=[Rt[kt][0]-Tt[kt][0],Rt[kt][1]-Tt[kt][1]]:Mt[kt]=[Rt[kt][0],Rt[kt][1]];return Mt},points:function(bt){return this.vertices("v",bt)},inTangents:function(bt){return this.vertices("i",bt)},outTangents:function(bt){return this.vertices("o",bt)},isClosed:function(){return this.v.c},pointOnPath:function(bt,_t){var Ct=this.v;_t!==void 0&&(Ct=this.getValueAtTime(_t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ct));for(var kt=this._segmentsLength,St=kt.lengths,Rt=kt.totalLength*bt,Tt=0,Mt=St.length,Pt=0,It;Tt<Mt;){if(Pt+St[Tt].addedLength>Rt){var Lt=Tt,Ot=Ct.c&&Tt===Mt-1?0:Tt+1,Ft=(Rt-Pt)/St[Tt].addedLength;It=bez.getPointInSegment(Ct.v[Lt],Ct.v[Ot],Ct.o[Lt],Ct.i[Ot],Ft,St[Tt]);break}else Pt+=St[Tt].addedLength;Tt+=1}return It||(It=Ct.c?[Ct.v[0][0],Ct.v[0][1]]:[Ct.v[Ct._length-1][0],Ct.v[Ct._length-1][1]]),It},vectorOnPath:function(bt,_t,Ct){bt==1?bt=this.v.c:bt==0&&(bt=.999);var kt=this.pointOnPath(bt,_t),St=this.pointOnPath(bt+.001,_t),Rt=St[0]-kt[0],Tt=St[1]-kt[1],Mt=Math.sqrt(Math.pow(Rt,2)+Math.pow(Tt,2));if(Mt===0)return[0,0];var Pt=Ct==="tangent"?[Rt/Mt,Tt/Mt]:[-Tt/Mt,Rt/Mt];return Pt},tangentOnPath:function(bt,_t){return this.vectorOnPath(bt,_t,"tangent")},normalOnPath:function(bt,_t){return this.vectorOnPath(bt,_t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([gt],pt),extendPrototype([gt],mt),mt.prototype.getValueAtTime=ft,mt.prototype.initiateExpression=ExpressionManager.initiateExpression;var yt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(xt,bt,_t,Ct,kt){var St=yt(xt,bt,_t,Ct,kt);return St.propertyIndex=bt.ix,St.lock=!1,_t===3?expressionHelpers.searchExpressions(xt,bt.pt,St):_t===4&&expressionHelpers.searchExpressions(xt,bt.ks,St),St.k&&xt.addDynamicProperty(St),St}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Ye(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(rt,it){var lt=this.calculateExpression(it);if(rt.t!==lt){var ct={};return this.copyData(ct,rt),ct.t=lt.toString(),ct.__complete=!1,ct}return rt},TextProperty.prototype.searchProperty=function(){var rt=this.searchKeyframes(),it=this.searchExpressions();return this.kf=rt||it,this.kf},TextProperty.prototype.searchExpressions=Ye}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Ye(rt,it){var lt=createNS("feMerge");lt.setAttribute("result",rt);var ct,ut;for(ut=0;ut<it.length;ut+=1)ct=createNS("feMergeNode"),ct.setAttribute("in",it[ut]),lt.appendChild(ct),lt.appendChild(ct);return lt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Ye,rt,it,lt,ct){this.filterManager=rt;var ut=createNS("feColorMatrix");ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","linearRGB"),ut.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=ut,ut.setAttribute("result",lt+"_tint_1"),Ye.appendChild(ut),ut=createNS("feColorMatrix"),ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ut.setAttribute("result",lt+"_tint_2"),Ye.appendChild(ut),this.matrixFilter=ut;var ht=this.createMergeNode(lt,[ct,lt+"_tint_1",lt+"_tint_2"]);Ye.appendChild(ht)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){var rt=this.filterManager.effectElements[0].p.v,it=this.filterManager.effectElements[1].p.v,lt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+lt+" 0"),this.matrixFilter.setAttribute("values",it[0]-rt[0]+" 0 0 0 "+rt[0]+" "+(it[1]-rt[1])+" 0 0 0 "+rt[1]+" "+(it[2]-rt[2])+" 0 0 0 "+rt[2]+" 0 0 0 1 0")}};function SVGFillFilter(Ye,rt,it,lt){this.filterManager=rt;var ct=createNS("feColorMatrix");ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ct.setAttribute("result",lt),Ye.appendChild(ct),this.matrixFilter=ct}SVGFillFilter.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){var rt=this.filterManager.effectElements[2].p.v,it=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+rt[0]+" 0 0 0 0 "+rt[1]+" 0 0 0 0 "+rt[2]+" 0 0 0 "+it+" 0")}};function SVGStrokeEffect(Ye,rt,it){this.initialized=!1,this.filterManager=rt,this.elem=it,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Ye=this.elem.layerElement.children||this.elem.layerElement.childNodes,rt,it,lt,ct;for(this.filterManager.effectElements[1].p.v===1?(ct=this.elem.maskManager.masksProperties.length,lt=0):(lt=this.filterManager.effectElements[0].p.v-1,ct=lt+1),it=createNS("g"),it.setAttribute("fill","none"),it.setAttribute("stroke-linecap","round"),it.setAttribute("stroke-dashoffset",1),lt;lt<ct;lt+=1)rt=createNS("path"),it.appendChild(rt),this.paths.push({p:rt,m:lt});if(this.filterManager.effectElements[10].p.v===3){var ut=createNS("mask"),ht=createElementID();ut.setAttribute("id",ht),ut.setAttribute("mask-type","alpha"),ut.appendChild(it),this.elem.globalData.defs.appendChild(ut);var ft=createNS("g");for(ft.setAttribute("mask","url("+getLocationHref()+"#"+ht+")");Ye[0];)ft.appendChild(Ye[0]);this.elem.layerElement.appendChild(ft),this.masker=ut,it.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Ye=this.elem.layerElement.children||this.elem.layerElement.childNodes;Ye.length;)this.elem.layerElement.removeChild(Ye[0]);this.elem.layerElement.appendChild(it),this.elem.layerElement.removeAttribute("mask"),it.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=it},SVGStrokeEffect.prototype.renderFrame=function(Ye){this.initialized||this.initialize();var rt,it=this.paths.length,lt,ct;for(rt=0;rt<it;rt+=1)if(this.paths[rt].m!==-1&&(lt=this.elem.maskManager.viewData[this.paths[rt].m],ct=this.paths[rt].p,(Ye||this.filterManager._mdf||lt.prop._mdf)&&ct.setAttribute("d",lt.lastPath),Ye||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||lt.prop._mdf)){var ut;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ht=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ft=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,pt=ct.getTotalLength();ut="0 0 0 "+pt*ht+" ";var mt=pt*(ft-ht),gt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,yt=Math.floor(mt/gt),xt;for(xt=0;xt<yt;xt+=1)ut+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";ut+="0 "+pt*10+" 0 0"}else ut="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;ct.setAttribute("stroke-dasharray",ut)}if((Ye||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Ye||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Ye||this.filterManager.effectElements[3].p._mdf)){var bt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(bt[0]*255)+","+bmFloor(bt[1]*255)+","+bmFloor(bt[2]*255)+")")}};function SVGTritoneFilter(Ye,rt,it,lt){this.filterManager=rt;var ct=createNS("feColorMatrix");ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","linearRGB"),ct.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ye.appendChild(ct);var ut=createNS("feComponentTransfer");ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("result",lt),this.matrixFilter=ut;var ht=createNS("feFuncR");ht.setAttribute("type","table"),ut.appendChild(ht),this.feFuncR=ht;var ft=createNS("feFuncG");ft.setAttribute("type","table"),ut.appendChild(ft),this.feFuncG=ft;var pt=createNS("feFuncB");pt.setAttribute("type","table"),ut.appendChild(pt),this.feFuncB=pt,Ye.appendChild(ut)}SVGTritoneFilter.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){var rt=this.filterManager.effectElements[0].p.v,it=this.filterManager.effectElements[1].p.v,lt=this.filterManager.effectElements[2].p.v,ct=lt[0]+" "+it[0]+" "+rt[0],ut=lt[1]+" "+it[1]+" "+rt[1],ht=lt[2]+" "+it[2]+" "+rt[2];this.feFuncR.setAttribute("tableValues",ct),this.feFuncG.setAttribute("tableValues",ut),this.feFuncB.setAttribute("tableValues",ht)}};function SVGProLevelsFilter(Ye,rt,it,lt){this.filterManager=rt;var ct=this.filterManager.effectElements,ut=createNS("feComponentTransfer");(ct[10].p.k||ct[10].p.v!==0||ct[11].p.k||ct[11].p.v!==1||ct[12].p.k||ct[12].p.v!==1||ct[13].p.k||ct[13].p.v!==0||ct[14].p.k||ct[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",ut)),(ct[17].p.k||ct[17].p.v!==0||ct[18].p.k||ct[18].p.v!==1||ct[19].p.k||ct[19].p.v!==1||ct[20].p.k||ct[20].p.v!==0||ct[21].p.k||ct[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",ut)),(ct[24].p.k||ct[24].p.v!==0||ct[25].p.k||ct[25].p.v!==1||ct[26].p.k||ct[26].p.v!==1||ct[27].p.k||ct[27].p.v!==0||ct[28].p.k||ct[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",ut)),(ct[31].p.k||ct[31].p.v!==0||ct[32].p.k||ct[32].p.v!==1||ct[33].p.k||ct[33].p.v!==1||ct[34].p.k||ct[34].p.v!==0||ct[35].p.k||ct[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",ut)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(ut.setAttribute("color-interpolation-filters","sRGB"),Ye.appendChild(ut)),(ct[3].p.k||ct[3].p.v!==0||ct[4].p.k||ct[4].p.v!==1||ct[5].p.k||ct[5].p.v!==1||ct[6].p.k||ct[6].p.v!==0||ct[7].p.k||ct[7].p.v!==1)&&(ut=createNS("feComponentTransfer"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("result",lt),Ye.appendChild(ut),this.feFuncRComposed=this.createFeFunc("feFuncR",ut),this.feFuncGComposed=this.createFeFunc("feFuncG",ut),this.feFuncBComposed=this.createFeFunc("feFuncB",ut))}SVGProLevelsFilter.prototype.createFeFunc=function(Ye,rt){var it=createNS(Ye);return it.setAttribute("type","table"),rt.appendChild(it),it},SVGProLevelsFilter.prototype.getTableValue=function(Ye,rt,it,lt,ct){for(var ut=0,ht=256,ft,pt=Math.min(Ye,rt),mt=Math.max(Ye,rt),gt=Array.call(null,{length:ht}),yt,xt=0,bt=ct-lt,_t=rt-Ye;ut<=256;)ft=ut/256,ft<=pt?yt=_t<0?ct:lt:ft>=mt?yt=_t<0?lt:ct:yt=lt+bt*Math.pow((ft-Ye)/_t,1/it),gt[xt]=yt,xt+=1,ut+=256/(ht-1);return gt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){var rt,it=this.filterManager.effectElements;this.feFuncRComposed&&(Ye||it[3].p._mdf||it[4].p._mdf||it[5].p._mdf||it[6].p._mdf||it[7].p._mdf)&&(rt=this.getTableValue(it[3].p.v,it[4].p.v,it[5].p.v,it[6].p.v,it[7].p.v),this.feFuncRComposed.setAttribute("tableValues",rt),this.feFuncGComposed.setAttribute("tableValues",rt),this.feFuncBComposed.setAttribute("tableValues",rt)),this.feFuncR&&(Ye||it[10].p._mdf||it[11].p._mdf||it[12].p._mdf||it[13].p._mdf||it[14].p._mdf)&&(rt=this.getTableValue(it[10].p.v,it[11].p.v,it[12].p.v,it[13].p.v,it[14].p.v),this.feFuncR.setAttribute("tableValues",rt)),this.feFuncG&&(Ye||it[17].p._mdf||it[18].p._mdf||it[19].p._mdf||it[20].p._mdf||it[21].p._mdf)&&(rt=this.getTableValue(it[17].p.v,it[18].p.v,it[19].p.v,it[20].p.v,it[21].p.v),this.feFuncG.setAttribute("tableValues",rt)),this.feFuncB&&(Ye||it[24].p._mdf||it[25].p._mdf||it[26].p._mdf||it[27].p._mdf||it[28].p._mdf)&&(rt=this.getTableValue(it[24].p.v,it[25].p.v,it[26].p.v,it[27].p.v,it[28].p.v),this.feFuncB.setAttribute("tableValues",rt)),this.feFuncA&&(Ye||it[31].p._mdf||it[32].p._mdf||it[33].p._mdf||it[34].p._mdf||it[35].p._mdf)&&(rt=this.getTableValue(it[31].p.v,it[32].p.v,it[33].p.v,it[34].p.v,it[35].p.v),this.feFuncA.setAttribute("tableValues",rt))}};function SVGDropShadowEffect(Ye,rt,it,lt,ct){var ut=rt.container.globalData.renderConfig.filterSize,ht=rt.data.fs||ut;Ye.setAttribute("x",ht.x||ut.x),Ye.setAttribute("y",ht.y||ut.y),Ye.setAttribute("width",ht.width||ut.width),Ye.setAttribute("height",ht.height||ut.height),this.filterManager=rt;var ft=createNS("feGaussianBlur");ft.setAttribute("in","SourceAlpha"),ft.setAttribute("result",lt+"_drop_shadow_1"),ft.setAttribute("stdDeviation","0"),this.feGaussianBlur=ft,Ye.appendChild(ft);var pt=createNS("feOffset");pt.setAttribute("dx","25"),pt.setAttribute("dy","0"),pt.setAttribute("in",lt+"_drop_shadow_1"),pt.setAttribute("result",lt+"_drop_shadow_2"),this.feOffset=pt,Ye.appendChild(pt);var mt=createNS("feFlood");mt.setAttribute("flood-color","#00ff00"),mt.setAttribute("flood-opacity","1"),mt.setAttribute("result",lt+"_drop_shadow_3"),this.feFlood=mt,Ye.appendChild(mt);var gt=createNS("feComposite");gt.setAttribute("in",lt+"_drop_shadow_3"),gt.setAttribute("in2",lt+"_drop_shadow_2"),gt.setAttribute("operator","in"),gt.setAttribute("result",lt+"_drop_shadow_4"),Ye.appendChild(gt);var yt=this.createMergeNode(lt,[lt+"_drop_shadow_4",ct]);Ye.appendChild(yt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){if((Ye||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Ye||this.filterManager.effectElements[0].p._mdf){var rt=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(rt[0]*255),Math.round(rt[1]*255),Math.round(rt[2]*255)))}if((Ye||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Ye||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var it=this.filterManager.effectElements[3].p.v,lt=(this.filterManager.effectElements[2].p.v-90)*degToRads,ct=it*Math.cos(lt),ut=it*Math.sin(lt);this.feOffset.setAttribute("dx",ct),this.feOffset.setAttribute("dy",ut)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Ye,rt,it){this.initialized=!1,this.filterManager=rt,this.filterElem=Ye,this.elem=it,it.matteElement=createNS("g"),it.matteElement.appendChild(it.layerElement),it.matteElement.appendChild(it.transformedElement),it.baseElement=it.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Ye){for(var rt=0,it=_svgMatteSymbols.length;rt<it;){if(_svgMatteSymbols[rt]===Ye)return _svgMatteSymbols[rt];rt+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Ye,rt){var it=Ye.layerElement.parentNode;if(it){for(var lt=it.children,ct=0,ut=lt.length;ct<ut&&lt[ct]!==Ye.layerElement;)ct+=1;var ht;ct<=ut-2&&(ht=lt[ct+1]);var ft=createNS("use");ft.setAttribute("href","#"+rt),ht?it.insertBefore(ft,ht):it.appendChild(ft)}},SVGMatte3Effect.prototype.setElementAsMask=function(Ye,rt){if(!this.findSymbol(rt)){var it=createElementID(),lt=createNS("mask");lt.setAttribute("id",rt.layerId),lt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(rt);var ct=Ye.globalData.defs;ct.appendChild(lt);var ut=createNS("symbol");ut.setAttribute("id",it),this.replaceInParent(rt,it),ut.appendChild(rt.layerElement),ct.appendChild(ut);var ht=createNS("use");ht.setAttribute("href","#"+it),lt.appendChild(ht),rt.data.hd=!1,rt.show()}Ye.setMatte(rt.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Ye=this.filterManager.effectElements[0].p.v,rt=this.elem.comp.elements,it=0,lt=rt.length;it<lt;)rt[it]&&rt[it].data.ind===Ye&&this.setElementAsMask(this.elem,rt[it]),it+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Ye,rt,it,lt){Ye.setAttribute("x","-100%"),Ye.setAttribute("y","-100%"),Ye.setAttribute("width","300%"),Ye.setAttribute("height","300%"),this.filterManager=rt;var ct=createNS("feGaussianBlur");ct.setAttribute("result",lt),Ye.appendChild(ct),this.feGaussianBlur=ct}SVGGaussianBlurEffect.prototype.renderFrame=function(Ye){if(Ye||this.filterManager._mdf){var rt=.3,it=this.filterManager.effectElements[0].p.v*rt,lt=this.filterManager.effectElements[1].p.v,ct=lt==3?0:it,ut=lt==2?0:it;this.feGaussianBlur.setAttribute("stdDeviation",ct+" "+ut);var ht=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ht)}};function TransformEffect(){}TransformEffect.prototype.init=function(Ye){this.effectsManager=Ye,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Ye){if(this._opMdf=!1,this._mdf=!1,Ye||this.effectsManager._mdf){var rt=this.effectsManager.effectElements,it=rt[0].p.v,lt=rt[1].p.v,ct=rt[2].p.v===1,ut=rt[3].p.v,ht=ct?ut:rt[4].p.v,ft=rt[5].p.v,pt=rt[6].p.v,mt=rt[7].p.v;this.matrix.reset(),this.matrix.translate(-it[0],-it[1],it[2]),this.matrix.scale(ht*.01,ut*.01,1),this.matrix.rotate(-mt*degToRads),this.matrix.skewFromAxis(-ft*degToRads,(pt+90)*degToRads),this.matrix.translate(lt[0],lt[1],0),this._mdf=!0,this.opacity!==rt[8].p.v&&(this.opacity=rt[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Ye,rt){this.init(rt)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Ye){this.init(Ye)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$1(Ye,rt){(rt==null||rt>Ye.length)&&(rt=Ye.length);for(var it=0,lt=Array(rt);it<rt;it++)lt[it]=Ye[it];return lt}function _arrayWithHoles$1(Ye){if(Array.isArray(Ye))return Ye}function _defineProperty$1(Ye,rt,it){return(rt=_toPropertyKey(rt))in Ye?Object.defineProperty(Ye,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):Ye[rt]=it,Ye}function _iterableToArrayLimit$1(Ye,rt){var it=Ye==null?null:typeof Symbol<"u"&&Ye[Symbol.iterator]||Ye["@@iterator"];if(it!=null){var lt,ct,ut,ht,ft=[],pt=!0,mt=!1;try{if(ut=(it=it.call(Ye)).next,rt!==0)for(;!(pt=(lt=ut.call(it)).done)&&(ft.push(lt.value),ft.length!==rt);pt=!0);}catch(gt){mt=!0,ct=gt}finally{try{if(!pt&&it.return!=null&&(ht=it.return(),Object(ht)!==ht))return}finally{if(mt)throw ct}}return ft}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$3(Ye,rt){var it=Object.keys(Ye);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(Ye);rt&&(lt=lt.filter(function(ct){return Object.getOwnPropertyDescriptor(Ye,ct).enumerable})),it.push.apply(it,lt)}return it}function _objectSpread2(Ye){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys$3(Object(it),!0).forEach(function(lt){_defineProperty$1(Ye,lt,it[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ye,Object.getOwnPropertyDescriptors(it)):ownKeys$3(Object(it)).forEach(function(lt){Object.defineProperty(Ye,lt,Object.getOwnPropertyDescriptor(it,lt))})}return Ye}function _objectWithoutProperties(Ye,rt){if(Ye==null)return{};var it,lt,ct=_objectWithoutPropertiesLoose(Ye,rt);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Ye);for(lt=0;lt<ut.length;lt++)it=ut[lt],rt.includes(it)||{}.propertyIsEnumerable.call(Ye,it)&&(ct[it]=Ye[it])}return ct}function _objectWithoutPropertiesLoose(Ye,rt){if(Ye==null)return{};var it={};for(var lt in Ye)if({}.hasOwnProperty.call(Ye,lt)){if(rt.includes(lt))continue;it[lt]=Ye[lt]}return it}function _slicedToArray$1(Ye,rt){return _arrayWithHoles$1(Ye)||_iterableToArrayLimit$1(Ye,rt)||_unsupportedIterableToArray$1(Ye,rt)||_nonIterableRest$1()}function _toPrimitive(Ye,rt){if(typeof Ye!="object"||!Ye)return Ye;var it=Ye[Symbol.toPrimitive];if(it!==void 0){var lt=it.call(Ye,rt);if(typeof lt!="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(Ye)}function _toPropertyKey(Ye){var rt=_toPrimitive(Ye,"string");return typeof rt=="symbol"?rt:rt+""}function _unsupportedIterableToArray$1(Ye,rt){if(Ye){if(typeof Ye=="string")return _arrayLikeToArray$1(Ye,rt);var it={}.toString.call(Ye).slice(8,-1);return it==="Object"&&Ye.constructor&&(it=Ye.constructor.name),it==="Map"||it==="Set"?Array.from(Ye):it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it)?_arrayLikeToArray$1(Ye,rt):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Ye(rt,it){var lt=rt.animationData,ct=rt.loop,ut=rt.autoplay,ht=rt.initialSegment,ft=rt.onComplete,pt=rt.onLoopComplete,mt=rt.onEnterFrame,gt=rt.onSegmentStart,yt=rt.onConfigReady,xt=rt.onDataReady,bt=rt.onDataFailed,_t=rt.onLoadedImages,Ct=rt.onDOMLoaded,kt=rt.onDestroy;rt.lottieRef,rt.renderer,rt.name,rt.assetsPath,rt.rendererSettings;var St=_objectWithoutProperties(rt,_excluded$1),Rt=reactExports.useState(!1),Tt=_slicedToArray$1(Rt,2),Mt=Tt[0],Pt=Tt[1],It=reactExports.useRef(),Lt=reactExports.useRef(null),Ot=function(){var Xt;(Xt=It.current)===null||Xt===void 0||Xt.play()},Ft=function(){var Xt;(Xt=It.current)===null||Xt===void 0||Xt.stop()},Ut=function(){var Xt;(Xt=It.current)===null||Xt===void 0||Xt.pause()},Wt=function(Xt){var Bt;(Bt=It.current)===null||Bt===void 0||Bt.setSpeed(Xt)},Kt=function(Xt,Bt){var nr;(nr=It.current)===null||nr===void 0||nr.goToAndPlay(Xt,Bt)},Qt=function(Xt,Bt){var nr;(nr=It.current)===null||nr===void 0||nr.goToAndStop(Xt,Bt)},Zt=function(Xt){var Bt;(Bt=It.current)===null||Bt===void 0||Bt.setDirection(Xt)},Vt=function(Xt,Bt){var nr;(nr=It.current)===null||nr===void 0||nr.playSegments(Xt,Bt)},$t=function(Xt){var Bt;(Bt=It.current)===null||Bt===void 0||Bt.setSubframe(Xt)},zt=function(Xt){var Bt;return(Bt=It.current)===null||Bt===void 0?void 0:Bt.getDuration(Xt)},Nt=function(){var Xt;(Xt=It.current)===null||Xt===void 0||Xt.destroy(),It.current=void 0},qt=function(){var Xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Bt;if(Lt.current){(Bt=It.current)===null||Bt===void 0||Bt.destroy();var nr=_objectSpread2(_objectSpread2(_objectSpread2({},rt),Xt),{},{container:Lt.current});return It.current=lottie.loadAnimation(nr),Pt(!!It.current),function(){var rr;(rr=It.current)===null||rr===void 0||rr.destroy(),It.current=void 0}}};reactExports.useEffect(function(){var Ht=qt();return function(){return Ht?.()}},[lt,ct]),reactExports.useEffect(function(){It.current&&(It.current.autoplay=!!ut)},[ut]),reactExports.useEffect(function(){if(It.current){if(!ht){It.current.resetSegments(!0);return}!Array.isArray(ht)||!ht.length||((It.current.currentRawFrame<ht[0]||It.current.currentRawFrame>ht[1])&&(It.current.currentRawFrame=ht[0]),It.current.setSegment(ht[0],ht[1]))}},[ht]),reactExports.useEffect(function(){var Ht=[{name:"complete",handler:ft},{name:"loopComplete",handler:pt},{name:"enterFrame",handler:mt},{name:"segmentStart",handler:gt},{name:"config_ready",handler:yt},{name:"data_ready",handler:xt},{name:"data_failed",handler:bt},{name:"loaded_images",handler:_t},{name:"DOMLoaded",handler:Ct},{name:"destroy",handler:kt}],Xt=Ht.filter(function(nr){return nr.handler!=null});if(Xt.length){var Bt=Xt.map(function(nr){var rr;return(rr=It.current)===null||rr===void 0||rr.addEventListener(nr.name,nr.handler),function(){var Jt;(Jt=It.current)===null||Jt===void 0||Jt.removeEventListener(nr.name,nr.handler)}});return function(){Bt.forEach(function(nr){return nr()})}}},[ft,pt,mt,gt,yt,xt,bt,_t,Ct,kt]);var Gt=React.createElement("div",_objectSpread2({style:it,ref:Lt},St));return{View:Gt,play:Ot,stop:Ft,pause:Ut,setSpeed:Wt,goToAndStop:Qt,goToAndPlay:Kt,setDirection:Zt,playSegments:Vt,setSubframe:$t,getDuration:zt,destroy:Nt,animationContainerRef:Lt,animationLoaded:Mt,animationItem:It.current}};function getContainerVisibility(Ye){var rt=Ye.getBoundingClientRect(),it=rt.top,lt=rt.height,ct=window.innerHeight-it,ut=window.innerHeight+lt;return ct/ut}function getContainerCursorPosition(Ye,rt,it){var lt=Ye.getBoundingClientRect(),ct=lt.top,ut=lt.left,ht=lt.width,ft=lt.height,pt=(rt-ut)/ht,mt=(it-ct)/ft;return{x:pt,y:mt}}var useInitInteractivity=function Ye(rt){var it=rt.wrapperRef,lt=rt.animationItem,ct=rt.mode,ut=rt.actions;reactExports.useEffect(function(){var ht=it.current;if(!(!ht||!lt||!ut.length)){lt.stop();var ft=function(){var gt=null,yt=function(){var bt=getContainerVisibility(ht),_t=ut.find(function(kt){var St=kt.visibility;return St&&bt>=St[0]&&bt<=St[1]});if(_t){if(_t.type==="seek"&&_t.visibility&&_t.frames.length===2){var Ct=_t.frames[0]+Math.ceil((bt-_t.visibility[0])/(_t.visibility[1]-_t.visibility[0])*_t.frames[1]);//! goToAndStop must be relative to the start of the current segment
lt.goToAndStop(Ct-lt.firstFrame-1,!0)}_t.type==="loop"&&(gt===null||gt!==_t.frames||lt.isPaused)&&(lt.playSegments(_t.frames,!0),gt=_t.frames),_t.type==="play"&&lt.isPaused&&(lt.resetSegments(!0),lt.play()),_t.type==="stop"&&lt.goToAndStop(_t.frames[0]-lt.firstFrame-1,!0)}};return document.addEventListener("scroll",yt),function(){document.removeEventListener("scroll",yt)}},pt=function(){var gt=function(_t,Ct){var kt=_t,St=Ct;if(kt!==-1&&St!==-1){var Rt=getContainerCursorPosition(ht,kt,St);kt=Rt.x,St=Rt.y}var Tt=ut.find(function(It){var Lt=It.position;return Lt&&Array.isArray(Lt.x)&&Array.isArray(Lt.y)?kt>=Lt.x[0]&&kt<=Lt.x[1]&&St>=Lt.y[0]&&St<=Lt.y[1]:Lt&&!Number.isNaN(Lt.x)&&!Number.isNaN(Lt.y)?kt===Lt.x&&St===Lt.y:!1});if(Tt){if(Tt.type==="seek"&&Tt.position&&Array.isArray(Tt.position.x)&&Array.isArray(Tt.position.y)&&Tt.frames.length===2){var Mt=(kt-Tt.position.x[0])/(Tt.position.x[1]-Tt.position.x[0]),Pt=(St-Tt.position.y[0])/(Tt.position.y[1]-Tt.position.y[0]);lt.playSegments(Tt.frames,!0),lt.goToAndStop(Math.ceil((Mt+Pt)/2*(Tt.frames[1]-Tt.frames[0])),!0)}Tt.type==="loop"&&lt.playSegments(Tt.frames,!0),Tt.type==="play"&&(lt.isPaused&&lt.resetSegments(!1),lt.playSegments(Tt.frames)),Tt.type==="stop"&&lt.goToAndStop(Tt.frames[0],!0)}},yt=function(_t){gt(_t.clientX,_t.clientY)},xt=function(){gt(-1,-1)};return ht.addEventListener("mousemove",yt),ht.addEventListener("mouseout",xt),function(){ht.removeEventListener("mousemove",yt),ht.removeEventListener("mouseout",xt)}};switch(ct){case"scroll":return ft();case"cursor":return pt()}}},[ct,lt])},useLottieInteractivity=function Ye(rt){var it=rt.actions,lt=rt.mode,ct=rt.lottieObj,ut=ct.animationItem,ht=ct.View,ft=ct.animationContainerRef;return useInitInteractivity({actions:it,animationItem:ut,mode:lt,wrapperRef:ft}),ht},_excluded=["style","interactivity"],Lottie=function Ye(rt){var it,lt,ct,ut=rt.style,ht=rt.interactivity,ft=_objectWithoutProperties(rt,_excluded),pt=useLottie(ft,ut),mt=pt.View,gt=pt.play,yt=pt.stop,xt=pt.pause,bt=pt.setSpeed,_t=pt.goToAndStop,Ct=pt.goToAndPlay,kt=pt.setDirection,St=pt.playSegments,Rt=pt.setSubframe,Tt=pt.getDuration,Mt=pt.destroy,Pt=pt.animationContainerRef,It=pt.animationLoaded,Lt=pt.animationItem;return reactExports.useEffect(function(){rt.lottieRef&&(rt.lottieRef.current={play:gt,stop:yt,pause:xt,setSpeed:bt,goToAndPlay:Ct,goToAndStop:_t,setDirection:kt,playSegments:St,setSubframe:Rt,getDuration:Tt,destroy:Mt,animationContainerRef:Pt,animationLoaded:It,animationItem:Lt})},[(it=rt.lottieRef)===null||it===void 0?void 0:it.current]),useLottieInteractivity({lottieObj:{View:mt,play:gt,stop:yt,pause:xt,setSpeed:bt,goToAndStop:_t,goToAndPlay:Ct,setDirection:kt,playSegments:St,setSubframe:Rt,getDuration:Tt,destroy:Mt,animationContainerRef:Pt,animationLoaded:It,animationItem:Lt},actions:(lt=ht?.actions)!==null&&lt!==void 0?lt:[],mode:(ct=ht?.mode)!==null&&ct!==void 0?ct:"scroll"})};const animationMap={"analyze-image":analyzeImageAnimation,browsing:browsingAnimation,"code-searching":codeSearchingAnimation,"codex-happy-small":codexHappySmallAnimation,"codex-looking-around":codexLookingAroundAnimation,"edit-files":editFilesAnimation,"internal-knowledge":internalKnowledgeAnimation,"list-files":listFilesAnimation,"local-context":localContextAnimation,"run-command":runCommandAnimation,searching:searchingAnimation,"to-do":toDoAnimation,"web-search":webSearchAnimation},svgMap={"analyze-image":SvgImageSquare,browsing:SvgGlobe,"code-searching":SvgTerminal,"codex-happy-small":SvgCodex,"codex-looking-around":SvgCodex,"edit-files":SvgTerminal,"internal-knowledge":SvgInternalKnowledge,"list-files":SvgTerminal,"local-context":SvgSearch,"run-command":SvgTerminal,searching:SvgSearch,"to-do":SvgTasks,"web-search":SvgGlobe},sizeMap={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},svgSizeMap={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function getColor(Ye){const rt=getComputedStyle(Ye).color?.match(/\d+/g)?.map(Number).map(it=>it/255);return rt?(rt.push(1),rt):null}function matchLottieTextColor(Ye,rt){if(!rt)return Ye;const it=cloneDeep(Ye),lt=ut=>{(ut.ty==="fl"||ut.ty==="st")&&ut?.c?.k&&(ut.c.k=rt),Array.isArray(ut.it)&&ut.it.forEach(lt)},ct=ut=>{ut.ty===4&&Array.isArray(ut.shapes)&&ut.shapes.forEach(lt),Array.isArray(ut.layers)&&ut.layers.forEach(ct)};return ct(it),Array.isArray(it.assets)&&it.assets.forEach(ct),it}function AnimatedIcon({animation:Ye,animationData:rt,fallbackSvg:it,animated:lt=!0,size:ct="md",color:ut,tokenColor:ht,matchTextColor:ft=!0,loop:pt=!0,className:mt}){const gt=reactExports.useRef(null),[yt,xt]=reactExports.useState(null),bt=useReducedMotion(),_t=typeof ct=="number"?"":sizeMap[ct],Ct=typeof ct=="number"?{width:ct,height:ct}:{},kt=typeof ct=="number"?"":svgSizeMap[ct],St=typeof ct=="number"?Ct:{};reactExports.useEffect(()=>{let Tt=null;const Mt=()=>{if(ut){const It=document.createElement("div");It.style.color=ut,document.body.appendChild(It);const Lt=getColor(It);document.body.removeChild(It),xt(Lt)}else ht?(Tt||(Tt=document.createElement("div"),Tt.className=ht,document.body.appendChild(Tt)),xt(getColor(Tt))):ft&&gt.current&&xt(getColor(gt.current))};ht&&(Tt=document.createElement("div"),Tt.className=ht,document.body.appendChild(Tt));const Pt=new MutationObserver(Mt);return Pt.observe(document.documentElement,{attributes:!0,attributeFilter:["class","style"]}),gt.current&&Pt.observe(gt.current,{attributes:!0,attributeFilter:["class","style"]}),Mt(),()=>{Pt.disconnect(),Tt&&document.body.contains(Tt)&&document.body.removeChild(Tt)}},[ut,ht,ft]);const Rt=reactExports.useMemo(()=>{const Tt=Ye?animationMap[Ye]:rt;return Tt?yt?matchLottieTextColor(Tt,yt):Tt:null},[Ye,rt,yt]);if(!lt||!Rt){const Tt=it||Ye&&svgMap[Ye];if(!Tt)throw new Error("Either provide 'fallbackSvg' prop or use an 'animation' type when animated=false");const Mt={...Ct};return ut&&(ut==="white"?Mt.filter="brightness(0) invert(1)":Mt.filter=`hue-rotate(${ut})`),jsxRuntimeExports.jsx("div",{ref:gt,className:clsx(kt,mt,ht,"flex items-center justify-center"),style:St,children:jsxRuntimeExports.jsx(Tt,{className:"h-full w-full",style:ut?Mt:void 0})})}return jsxRuntimeExports.jsx("div",{ref:gt,className:clsx(kt,mt,ht,"flex items-center justify-center"),style:St,children:jsxRuntimeExports.jsx("div",{className:clsx(_t,"flex items-center justify-center"),style:Ct,children:jsxRuntimeExports.jsx(Lottie,{animationData:Rt,loop:pt,autoplay:!bt,style:{width:"100%",height:"100%"}},`${bt}-${yt?.join()}`)})})}const SvgUnselectedCircle=Ye=>reactExports.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.9032C14.3713 2.9032 17.915 6.4469 17.915 10.8182C17.915 15.1896 14.3713 18.7333 10 18.7333C5.62867 18.7333 2.08496 15.1896 2.08496 10.8182C2.08496 6.4469 5.62867 2.9032 10 2.9032ZM10 4.23328C6.3632 4.23328 3.41504 7.18144 3.41504 10.8182C3.41504 14.455 6.3632 17.4032 10 17.4032C13.6368 17.4032 16.585 14.455 16.585 10.8182C16.585 7.18144 13.6368 4.23328 10 4.23328Z",fill:"currentColor"}));function TodoPlanItemContent({item:Ye,isComplete:rt=!1}){const it=useIntl(),[lt,ct]=reactExports.useState(!1),ut=reactExports.useRef(null),ht=sumBy(Ye.plan,gt=>gt.status==="completed"?1:0),ft=Ye.plan.length,pt=Ye.plan.findIndex(gt=>gt.status==="in_progress"),mt=ht===ft?ft-1:pt;return reactExports.useEffect(()=>{const gt=ut.current;mt<0||!gt||gt.scrollIntoView({block:"center",behavior:"smooth"})},[mt]),jsxRuntimeExports.jsx(InProgressFixedContentItem,{onClick:()=>ct(gt=>!gt),action:jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-foreground hover:text-token-foreground hover:bg-transparent focus-visible:outline-none",children:lt?jsxRuntimeExports.jsx(SvgCollapse,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgExpand,{className:"icon-2xs"})}),expandedContent:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:lt&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},children:jsxRuntimeExports.jsx("div",{className:"bg-token-editor-background flex flex-col gap-2 p-2",children:jsxRuntimeExports.jsx("div",{className:"vertical-scroll-fade-mask max-h-40 space-y-2 overflow-y-auto [--edge-fade-distance:3rem]",children:Ye.plan.map((gt,yt)=>jsxRuntimeExports.jsxs("div",{ref:yt===pt?ut:null,id:`plan-item-${yt}`,className:"flex items-start gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-shrink-0 items-start gap-0.5",children:[jsxRuntimeExports.jsx(StatusBadge,{isComplete:rt,status:gt.status}),jsxRuntimeExports.jsx("span",{className:"text-sm leading-4",children:it.formatMessage({id:"codex.todoPlan.stepIndexPrefix",defaultMessage:"{index}.",description:"Prefix numbering for a plan step, including a trailing period"},{index:yt+1})})]}),jsxRuntimeExports.jsx("span",{className:clsx("flex-1 text-sm leading-4",gt.status==="completed"&&"line-through"),children:gt.step})]},yt))})})})}),children:jsxRuntimeExports.jsx("div",{className:"flex min-w-0 items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-1 text-sm",children:[jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:!rt&&jsxRuntimeExports.jsx(motion.div,{className:"text-token-input-placeholder-foreground flex items-center justify-center opacity-60",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15,ease:"easeOut"},children:jsxRuntimeExports.jsx(AnimatedIcon,{animation:"to-do",size:"xs",matchTextColor:!1,loop:!0,tokenColor:"text-token-input-placeholder-foreground",className:"opacity-50"})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground min-w-0 truncate",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationPage.planItemsCompleted",defaultMessage:"{completedItems} out of {totalItems, plural, one {# task completed} other {# tasks completed}}",description:"Title for a plan that the model generates font-medium",values:{completedItems:ht,totalItems:ft}})})})]})})})}function StatusBadge({status:Ye,isComplete:rt}){const it="flex h-3.5 w-4.5 items-center justify-center overflow-hidden",lt="icon-3xs shrink-0";switch(Ye){case"pending":return rt?jsxRuntimeExports.jsx("div",{className:it,children:jsxRuntimeExports.jsx(SvgXCircleFilled,{className:lt})}):jsxRuntimeExports.jsx("div",{className:it,children:jsxRuntimeExports.jsx(SvgUnselectedCircle,{className:lt})});case"in_progress":return rt?jsxRuntimeExports.jsx("div",{className:it,children:jsxRuntimeExports.jsx(SvgXCircleFilled,{className:lt})}):jsxRuntimeExports.jsx("div",{className:it,children:jsxRuntimeExports.jsx(Spinner,{className:"h-[9px] w-[9px]"})});case"completed":return jsxRuntimeExports.jsx("div",{className:it,children:jsxRuntimeExports.jsx(SvgCheckCircle,{className:lt})})}}const SvgArrowTopRight=Ye=>reactExports.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M12.3349 11.3301V4.60645L3.47065 13.4707C3.21095 13.7304 2.78895 13.7304 2.52925 13.4707C2.26955 13.211 2.26955 12.789 2.52925 12.5293L11.3935 3.66504H4.66011C4.29284 3.66504 3.99507 3.36727 3.99507 3C3.99507 2.63273 4.29284 2.33496 4.66011 2.33496H12.9999L13.1337 2.34863C13.4369 2.41057 13.665 2.67857 13.665 3V11.3301C13.6649 11.6973 13.3672 11.9951 12.9999 11.9951C12.6327 11.9951 12.335 11.6973 12.3349 11.3301Z",fill:"currentColor"})),SvgUndo=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M16.598 10.9239C16.5978 8.52989 14.6571 6.58894 12.263 6.58894H5.53547L7.73371 8.78718L7.81868 8.89167C7.98909 9.14974 7.96081 9.50036 7.73371 9.72761C7.50649 9.95483 7.15589 9.98297 6.89778 9.81257L6.79328 9.72761L3.4593 6.3946C3.19987 6.135 3.19998 5.71384 3.4593 5.45417L6.79328 2.12019C7.05296 1.86087 7.47411 1.86076 7.73371 2.12019C7.99341 2.37989 7.99341 2.8019 7.73371 3.0616L5.53645 5.25886H12.263C15.3916 5.25886 17.9279 7.79536 17.9281 10.9239C17.9281 14.0526 15.3917 16.5889 12.263 16.5889H8.93C8.56273 16.5889 8.26496 16.2912 8.26496 15.9239C8.26514 15.5568 8.56284 15.2589 8.93 15.2589H12.263C14.6572 15.2589 16.598 13.3181 16.598 10.9239Z",fill:"currentColor"}));function TurnDiffContent({isInProgress:Ye,item:rt,showRevertButton:it=!0,conversationId:lt}){return lt?Ye?jsxRuntimeExports.jsx(InProgressTurnDiffContent,{item:rt,conversationId:lt}):jsxRuntimeExports.jsx(CompletedTurnDiffContent,{item:rt,showRevertButton:it,conversationId:lt}):null}function InProgressTurnDiffContent({item:Ye,conversationId:rt}){const it=useIntl(),lt=reactExports.useMemo(()=>parseDiff(Ye.unifiedDiff),[Ye.unifiedDiff]),ct=lt.length,ut=lt.reduce((ft,pt)=>ft+pt.additions,0),ht=lt.reduce((ft,pt)=>ft+pt.deletions,0);return ct===0&&ut===0&&ht===0?null:jsxRuntimeExports.jsx(InProgressFixedContentItem,{action:null,children:jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-between text-sm",children:[jsxRuntimeExports.jsxs("button",{type:"button",className:"text-token-foreground hover:text-token-foreground group mr-auto flex cursor-pointer items-center gap-1 text-sm hover:underline focus-visible:outline-none",onClick:()=>{messageBus.dispatchMessage("show-diff",{unifiedDiff:Ye.unifiedDiff,conversationId:rt})},children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-0.5",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.unifiedDiff.reviewShort",defaultMessage:"Review",description:"Short label for the button to view (and follow changes) in the diff for a Codex task"}),jsxRuntimeExports.jsx("span",{className:"max-[480px]:hidden",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.unifiedDiff.reviewChangesSuffix",defaultMessage:"changes",description:"Suffix appended to the review label in the diff banner (hidden on small screens)"})})]}),jsxRuntimeExports.jsx(SvgArrowTopRight,{className:"text-token-foreground icon-3xs"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-1 pl-2",children:[jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground block min-w-0 truncate",children:it.formatMessage(diffMessages.filesChanged,{fileCount:ct})}),jsxRuntimeExports.jsx("span",{className:"text-token-charts-green",children:it.formatMessage(diffMessages.linesAdded,{linesAdded:ut})}),jsxRuntimeExports.jsx("span",{className:"text-token-charts-red",children:it.formatMessage(diffMessages.linesDeleted,{linesDeleted:ht})})]})]})})}function CompletedTurnDiffContent({item:Ye,showRevertButton:rt,conversationId:it}){const lt=useToaster(),ct=useIntl(),ut=useMutationFromVSCode("apply-patch",{onSuccess(){lt.success(ct.formatMessage({id:"codex.unifiedDiff.revertPatchSuccess",defaultMessage:"Changes reverted",description:"Toast shown when reverting a diff succeeds"}),{id:"revertPatch"})},onError(){lt.danger(ct.formatMessage({id:"codex.unifiedDiff.revertPatchError",defaultMessage:"Failed to revert changes",description:"Toast shown when reverting a diff fails"}),{id:"revertPatch"})}}),ht=reactExports.useMemo(()=>parseDiff(Ye.unifiedDiff),[Ye.unifiedDiff]),ft=ht.length,pt=ht.reduce((_t,Ct)=>_t+Ct.additions,0),mt=ht.reduce((_t,Ct)=>_t+Ct.deletions,0),gt=ct.formatMessage(diffMessages.filesChanged,{fileCount:ft}),yt=ct.formatMessage(diffMessages.linesAdded,{linesAdded:pt}),xt=ct.formatMessage(diffMessages.linesDeleted,{linesDeleted:mt});if(ft===0&&pt===0&&mt===0)return null;const bt=ft>1;return jsxRuntimeExports.jsxs("div",{className:"bg-token-editor-background mb-2 flex flex-col overflow-hidden rounded-xl p-1.5 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 flex-nowrap items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-token-input-foreground ms-2 min-w-0 truncate",children:gt}),bt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-token-charts-green",children:yt}),jsxRuntimeExports.jsx("span",{className:"text-token-charts-red",children:xt})]}),jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0",children:[rt&&jsxRuntimeExports.jsxs(Button,{color:"ghost",className:"px-1.5",disabled:ut.isPending,onClick:_t=>{_t.stopPropagation(),!ut.isPending&&ut.mutate({diff:Ye.unifiedDiff,cwd:Ye.cwd,revert:!0})},children:[jsxRuntimeExports.jsx("span",{className:"max-xs:hidden text-token-foreground whitespace-nowrap",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.unifiedDiff.revertChangesTooltip",defaultMessage:"Undo",description:"Label for button that reverts the diff in a Codex task"})}),jsxRuntimeExports.jsx(SvgUndo,{className:"text-token-input-placeholder-foreground size-3.5"})]}),jsxRuntimeExports.jsxs(Button,{color:"ghost",className:"px-1.5",onClick:_t=>{_t.stopPropagation(),messageBus.dispatchMessage("show-diff",{unifiedDiff:Ye.unifiedDiff,conversationId:it})},children:[jsxRuntimeExports.jsx("span",{className:"max-xs:hidden text-token-foreground whitespace-nowrap",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.unifiedDiff.viewDiffTooltip",defaultMessage:"View all changes",description:"Label for button that views the diff of a Codex task in an editor view"})}),jsxRuntimeExports.jsx(SvgArrowTopRight,{className:"text-token-input-placeholder-foreground icon-2xs"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 pt-1",children:ht.map((_t,Ct)=>jsxRuntimeExports.jsx(CodeDiff,{hunkSeparators:"simple",diffViewClassName:"max-h-[250px] overflow-y-auto",diff:_t,viewType:"unified",stickyHeader:!1,defaultOpen:!1},Ct))})]})}const diffMessages={filesChanged:{id:"codex.unifiedDiff.filesChanged",defaultMessage:"{fileCount, plural, one {# file changed} other {# files changed}}",description:"Label for the number of files changed in a Codex task"},linesAdded:{id:"codex.unifiedDiff.linesAdded",defaultMessage:"+{linesAdded}",description:"Label for the number of lines added in a Codex task"},linesDeleted:{id:"codex.unifiedDiff.linesDeleted",defaultMessage:"-{linesDeleted}",description:"Label for the number of lines deleted in a Codex task"}};function InProgressFixedContentPortal({conversationId:Ye,approvalItem:rt,planItem:it,unifiedDiffItem:lt}){const[ct,ut]=reactExports.useState(null);reactExports.useEffect(()=>{ut(document.getElementById(ABOVE_COMPOSER_PORTAL_ID))},[]);const ht=rt&&rt.approvalRequestId!=null?{item:rt,requestId:rt.approvalRequestId}:null,ft=ht!=null,pt=it!=null,mt=lt!=null;return!!ct&&(ft||pt||mt)?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:"flex flex-col px-4",children:ht?jsxRuntimeExports.jsx(PendingApprovalItemContent,{conversationId:Ye,requestId:ht.requestId,item:ht.item}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[pt&&it?jsxRuntimeExports.jsx(TodoPlanItemContent,{item:it}):null,pt&&mt?jsxRuntimeExports.jsx(AboveComposerStackDivider,{}):null,mt&&lt?jsxRuntimeExports.jsx(TurnDiffContent,{isInProgress:!0,item:lt,conversationId:Ye}):null]})}),ct):null}function AboveComposerStackDivider(){return jsxRuntimeExports.jsx("div",{className:"w-full px-2","aria-hidden":"true",children:jsxRuntimeExports.jsx("div",{className:"bg-token-editor-background h-[0.5px] w-full"})})}function AgentModeChangedItemContent({mode:Ye}){return jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground my-2 flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-current/30 flex-1 border-t"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[jsxRuntimeExports.jsx(AgentModeIcon,{mode:Ye,className:"icon-xs"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversation.agentModeChanged",defaultMessage:"Changed to {agentMode} mode",description:"User changes the agent mode",values:{agentMode:jsxRuntimeExports.jsx(AgentModeHighlight,{mode:Ye})}})]}),jsxRuntimeExports.jsx("div",{className:"border-current/30 flex-1 border-t"})]})}function AgentModeHighlight({mode:Ye}){switch(Ye){case"read-only":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.readOnly",defaultMessage:"Chat",description:"Changed agent mode to read-only"});case"auto":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.auto",defaultMessage:"Agent",description:"Changed agent mode to auto"});case"custom":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.custom",defaultMessage:"Custom",description:"Changed agent mode to custom config"});case"full-access":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.mode.agentMode.fullAccess",defaultMessage:"Agent (full access)",description:"Changed agent mode to full-access"})}}function Shell({shellName:Ye,cwd:rt,command:it,output:lt,variant:ct="default",autoScrollToBottom:ut=!1}){const ht=useIntl(),ft=Ye??ht.formatMessage({id:"codex.shell.name",defaultMessage:"Shell",description:"Default name used for a shell output block in the UI"}),[pt,mt]=reactExports.useState(!1),[gt,yt]=reactExports.useState(!0),[xt,bt]=reactExports.useState({top:!1,bottom:!1}),_t=reactExports.useCallback(()=>{const Tt=[`$ ${it}`,lt].filter(Boolean).join(`
`);navigator.clipboard.writeText(Tt).then(()=>{mt(!0),setTimeout(()=>mt(!1),1500)})},[it,lt]),Ct=reactExports.useRef(null),kt="var(--color-token-editor-background)",St=reactExports.useCallback(()=>{const Tt=Ct.current;if(!Tt){bt(Kt=>Kt.top||Kt.bottom?{top:!1,bottom:!1}:Kt);return}const{scrollTop:Mt,scrollHeight:Pt,clientHeight:It}=Tt,Lt=1,Ot=Pt-It>Lt,Ft=Mt<=Lt,Ut=Mt+It>=Pt-Lt,Wt={top:Ot&&!Ft,bottom:Ot&&!Ut};bt(Kt=>Kt.top===Wt.top&&Kt.bottom===Wt.bottom?Kt:Wt)},[]);reactExports.useEffect(()=>{let Tt=null;const Mt=()=>{Tt=requestAnimationFrame(()=>{St()})};if(!ut)return Mt(),()=>{Tt!=null&&cancelAnimationFrame(Tt)};const Pt=Ct.current;return Pt?(Pt.scrollTop=Pt.scrollHeight,Mt(),()=>{Tt!=null&&cancelAnimationFrame(Tt)}):(Mt(),()=>{Tt!=null&&cancelAnimationFrame(Tt)})},[ut,lt,St]);const Rt=jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{ref:Ct,onScroll:St,className:"vertical-scroll-fade-mask shell-scroll-view bg-token-editor-background text-token-description-foreground flex max-h-[176px] flex-col gap-1.5 overflow-x-auto overflow-y-auto whitespace-pre p-2 font-mono text-sm font-medium",children:[jsxRuntimeExports.jsx("span",{children:ht.formatMessage({id:"codex.shell.commandLine",defaultMessage:"$ {cmd}",description:"The rendered shell command line including a dollar sign prompt and the command"},{cmd:it})}),lt&&jsxRuntimeExports.jsx(AnsiBlock,{children:lt})]}),xt.top&&jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-6",style:{backgroundImage:`linear-gradient(to bottom, ${kt}, transparent)`}}),xt.bottom&&jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-6",style:{backgroundImage:`linear-gradient(to top, ${kt}, transparent)`}})]});return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col overflow-clip",ct==="default"?"border-token-border rounded-lg border":"rounded-none border-none"),children:[ct==="default"&&jsxRuntimeExports.jsxs("div",{className:"bg-token-side-bar-background hover:bg-token-editor-background/40 flex items-center justify-between text-ellipsis pl-2 text-sm font-medium",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[ft,rt&&jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground",children:ht.formatMessage({id:"codex.shell.cwdLabel",defaultMessage:"cwd",description:"Label for the current working directory shown in the shell header tooltip"})}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-mono",children:rt})]}),children:jsxRuntimeExports.jsx(IconButton,{disabled:!0,size:"xxs",Icon:SvgFolder})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Tooltip,{tooltipContent:pt?ht.formatMessage({id:"codex.shell.copy.copiedTooltip",defaultMessage:"Copied shell contents",description:"Tooltip shown after the user copies the combined shell command and output"}):ht.formatMessage({id:"codex.shell.copy.copyTooltip",defaultMessage:"Copy shell contents",description:"Tooltip for the button that copies the combined shell command and output"}),children:jsxRuntimeExports.jsx(Button,{className:"hover:text-token-button-foreground hover:bg-transparent",color:"ghost",size:"icon",onClick:_t,children:pt?jsxRuntimeExports.jsx(SvgCheckMd,{className:"icon-xxs"}):jsxRuntimeExports.jsx(SvgCopy,{className:"icon-xxs"})})}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:gt?ht.formatMessage({id:"codex.shell.collapse",defaultMessage:"Collapse shell",description:"Tooltip for button that collapses the shell output block"}):ht.formatMessage({id:"codex.shell.expand",defaultMessage:"Expand shell",description:"Tooltip for button that expands the shell output block"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon",className:"hover:text-token-button-foreground hover:bg-transparent",onClick:()=>yt(Tt=>!Tt),children:gt?jsxRuntimeExports.jsx(SvgCollapse,{className:"icon-2xs"}):jsxRuntimeExports.jsx(SvgExpand,{className:"icon-2xs"})})})]})]}),ct==="default"?jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:gt&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"relative overflow-hidden",children:Rt},"shell-content")}):jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden",children:Rt})]})}function shouldAutoToggle(Ye){return Ye.type==="format"||Ye.type==="test"||Ye.type==="lint"||Ye.type==="noop"||Ye.type==="unknown"}function ExecItemContent({item:Ye,isTurnComplete:rt}){const it=Ye.output?.exitCode===void 0,lt=Ye.parsedCmd,ct=shouldAutoToggle(lt),[ut,ht]=reactExports.useState(ct&&it),ft=reactExports.useMemo(()=>join$3(Ye.cmd),[Ye.cmd]),pt=reactExports.useMemo(()=>[`$ ${ft}`,Ye.output?.aggregatedOutput??""].filter(Boolean).join(`
`),[ft,Ye.output?.aggregatedOutput]);reactExports.useEffect(()=>{ct&&ht(it)},[ct,it]);const mt=Ye.output?.exitCode,gt=mt!=null&&mt!==0&&!(lt.type==="search"&&mt===1),yt=gt&&!it&&!ut;return jsxRuntimeExports.jsx(TimelineItem,{padding:"offset",children:jsxRuntimeExports.jsx("div",{className:"px-0.5",children:jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col overflow-clip rounded-lg transition-[box-shadow] duration-300",ut?"shadow-[0_0_0_0.5px_var(--color-token-border)]":"shadow-[var(--shadow-hairline)] hover:shadow-[0_0_0_0.5px_var(--color-token-border)]"),children:[jsxRuntimeExports.jsxs("div",{className:"cursor-interaction group flex items-center justify-between gap-1 px-2 py-0.5",onClick:()=>ht(xt=>!xt),children:[jsxRuntimeExports.jsx("span",{className:clsx("select-none truncate text-ellipsis",it&&!rt?"loading-shimmer-pure-text":"text-token-description-foreground group-hover:text-token-foreground"),children:jsxRuntimeExports.jsx(CmdSummaryText,{summary:lt})}),jsxRuntimeExports.jsxs("div",{className:"relative flex min-w-[88px] justify-end",children:[jsxRuntimeExports.jsxs("div",{className:clsx("text-token-input-placeholder-foreground absolute right-0 top-1/2 flex -translate-y-1/2 items-center gap-1.5 text-sm transition-opacity duration-200",yt?"opacity-100 group-focus-within:opacity-0 group-hover:opacity-0":"pointer-events-none opacity-0"),"aria-hidden":!yt,children:[jsxRuntimeExports.jsx("span",{className:"bg-token-charts-red/70 block size-1.5 rounded-full"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execItemContent.failed",defaultMessage:"Failed",description:"Label indicating a command failed"})]}),jsxRuntimeExports.jsxs("div",{className:clsx("flex items-center gap-1 transition-opacity duration-200",yt?"opacity-0 group-focus-within:opacity-100 group-hover:opacity-100":"opacity-100"),children:[jsxRuntimeExports.jsx(CopyButton,{iconOnly:!0,iconClassName:"icon-2xs",className:clsx("transition-opacity duration-200",ut?"opacity-100":"opacity-0 group-hover:opacity-100"),onCopy:()=>{navigator.clipboard.writeText(pt)}}),!it&&jsxRuntimeExports.jsx(SvgChevron,{className:clsx("text-token-input-placeholder-foreground icon-2xs ml-0.5 flex-shrink-0 transition-all duration-300",ut?"rotate-180 opacity-100":"opacity-0 group-hover:opacity-100")})]})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:ut&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"overflow-hidden",children:jsxRuntimeExports.jsx(Shell,{variant:"embedded",cwd:Ye.cwd,command:ft,output:Ye.output?.aggregatedOutput??"",autoScrollToBottom:ct&&it})},"exec-shell")}),ut&&gt&&!it&&jsxRuntimeExports.jsxs("div",{className:"text-token-input-placeholder-foreground border-token-border flex items-center justify-end gap-1.5 border-t-[0.5px] px-2.5 py-1 text-sm","aria-live":"polite",children:[jsxRuntimeExports.jsx("span",{className:"bg-token-charts-red/70 block size-1.5 rounded-full"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"execItemContent.failedDetails",defaultMessage:"Failed",description:"Footer message shown below shell output when a command fails"})]})]})})})}function CmdSummaryText({summary:Ye}){let rt=null;switch(Ye.type){case"list_files":Ye.path?rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.exploredFiles",defaultMessage:"Listed files in {path}",description:"Shell command for listing files in a path",values:{path:Ye.path}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.exploringFiles",defaultMessage:"Listing files in {path}",description:"Shell command for listing files in a path",values:{path:Ye.path}}):rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.exploredFiles",defaultMessage:"Explored files",description:"Shell command for exploring files"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.exploringFiles",defaultMessage:"Exploring files",description:"Shell command for exploring files"});break;case"search":Ye.query&&Ye.path?rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchedFor",defaultMessage:"Searched for {query} in {path}",description:"Shell command for searching for a query in a path",values:{query:Ye.query,path:Ye.path}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchingFor",defaultMessage:"Searching for {query} in {path}",description:"Shell command for searching for a query in a path",values:{query:Ye.query,path:Ye.path}}):Ye.query?rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchedFor",defaultMessage:"Searched for {query}",description:"Shell command for searching for a query",values:{query:Ye.query}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchingFor",defaultMessage:"Searching for {query}",description:"Shell command for searching for a query",values:{query:Ye.query}}):rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchedForFiles",defaultMessage:"Searched for files",description:"Shell command for searching for files"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.searchingFor",defaultMessage:"Searching for files",description:"Shell command for searching for files"});break;case"read":rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.read",defaultMessage:"Read {path}",description:"Shell command for reading a file",values:{path:Ye.name}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.reading",defaultMessage:"Reading {path}",description:"Shell command for reading a file",values:{path:Ye.name}});break;case"format":case"test":case"lint":case"noop":case"unknown":rt=Ye.isFinished?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.ranGenericCommand",defaultMessage:"Ran {command}",description:"Fallback summary for completed command when not classified",values:{command:Ye.cmd}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"toolSummaryForCmd.runningGenericCommand",defaultMessage:"Running {command}",description:"Fallback summary for in-progress command when not classified",values:{command:Ye.cmd}})}return rt==null&&logger.error(`Unhandled command summary type: ${Ye.type}`),rt}const SvgCode=Ye=>reactExports.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M11.9025 5.3302C12.0658 5.06755 12.3961 4.94629 12.6975 5.05774C13.0419 5.1853 13.2176 5.56881 13.09 5.91321L9.75703 14.9132L9.69745 15.0333C9.53415 15.296 9.20387 15.4172 8.90253 15.3058C8.55813 15.1782 8.3824 14.7947 8.50995 14.4503L11.843 5.45032L11.9025 5.3302ZM5.21894 5.35853C5.3974 5.03773 5.8023 4.92241 6.12324 5.10071C6.44404 5.27917 6.55935 5.68407 6.38105 6.00501L4.05976 10.1818L6.38105 14.3585L6.43476 14.4825C6.52764 14.7774 6.4039 15.1067 6.12324 15.2628C5.84224 15.4189 5.49646 15.3503 5.29511 15.1154L5.21894 15.005L2.71894 10.505C2.60736 10.3042 2.60736 10.0594 2.71894 9.85853L5.21894 5.35853ZM15.4768 5.10071C15.7578 4.9446 16.1035 5.01323 16.3049 5.24817L16.381 5.35853L18.881 9.85853C18.9926 10.0594 18.9926 10.3042 18.881 10.505L16.381 15.005C16.2026 15.3258 15.7977 15.4411 15.4768 15.2628C15.156 15.0844 15.0406 14.6795 15.2189 14.3585L17.5393 10.1818L15.2189 6.00501L15.1652 5.88099C15.0723 5.58611 15.1961 5.25684 15.4768 5.10071Z",fill:"currentColor"}));function McpToolItemContent({item:Ye,defaultOpen:rt=!1}){const[it,lt]=reactExports.useState(rt),ct=Ye.result?.type==="success"?Ye.result.content:null,ut=Ye.result?.type==="error"?Ye.result.error:null,ht=reactExports.useMemo(()=>Ye.result?.type!=="success"||Ye.result.structuredContent==null?null:stringifyJsonSafe(Ye.result.structuredContent,2),[Ye.result]),ft=reactExports.useMemo(()=>stringifyJsonSafe({callId:Ye.callId,invocation:Ye.invocation,duration:Ye.duration,result:Ye.result},2),[Ye.callId,Ye.invocation,Ye.duration,Ye.result]);return jsxRuntimeExports.jsxs(TimelineItem,{children:[jsxRuntimeExports.jsxs("div",{className:"cursor-interaction group flex items-center gap-1",onClick:()=>{Ye.completed&&lt(pt=>!pt)},children:[jsxRuntimeExports.jsx("span",{className:clsx("select-none truncate text-ellipsis",Ye.completed?"text-token-description-foreground group-hover:text-token-foreground":"loading-shimmer-pure-text"),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.collapsedLabel",defaultMessage:"MCP: {server}.{tool}({argsPreview})",description:"Label for the MCP tool call",values:{server:Ye.invocation.server,tool:Ye.invocation.tool,argsPreview:formatArgumentsPreview(Ye.invocation.arguments??null)}})}),Ye.completed&&jsxRuntimeExports.jsx(SvgChevron,{className:clsx("text-token-input-placeholder-foreground icon-2xs flex-shrink-0 opacity-0 transition-transform duration-300 group-hover:opacity-100",it?"rotate-180 opacity-100":"rotate-0")})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:it&&jsxRuntimeExports.jsxs(motion.div,{className:"mt-2 flex flex-col gap-2",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,children:[ct&&ct.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:ct.map((pt,mt)=>jsxRuntimeExports.jsx(ContentBlock,{block:pt},mt))}):ut?jsxRuntimeExports.jsx("p",{className:"text-token-error-foreground max-h-48 overflow-auto whitespace-pre-wrap leading-5",children:ut}):jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground leading-5",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.noResult",defaultMessage:"Tool returned no content",description:"Message shown when an MCP tool call produced no content"})}),ht&&jsxRuntimeExports.jsx(CodeSnippet,{wrapperClassName:"text-sm",codeContainerClassName:"max-h-48 overflow-auto",language:"json",content:ht,showStickyRightContent:!1}),jsxRuntimeExports.jsx(Dialog,{triggerContent:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(IconButton,{Icon:SvgCode,size:"xxs",className:"cursor-interaction"})}),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between gap-2",children:jsxRuntimeExports.jsx("h2",{className:"text-token-foreground text-sm font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.rawPayloadHeading",defaultMessage:"Raw MCP tool call payload",description:"Heading shown within the raw payload dialog"})})}),jsxRuntimeExports.jsx(CodeSnippet,{wrapperClassName:"text-sm",codeContainerClassName:"max-h-128 overflow-auto",language:"json",content:ft,showStickyRightContent:!0})]})})]},"mcp-expanded")})]})}function stringifyJsonSafe(Ye,rt){try{return JSON.stringify(Ye,(it,lt)=>typeof lt=="bigint"?lt.toString():lt,rt)??"null"}catch{return logger.warn(`Failed to stringify MCP tool call payload: ${Ye}`),""}}function formatArgumentsPreview(Ye){if(Ye==null)return"";if(typeof Ye!="object"||Array.isArray(Ye))return truncatePreview(String(Ye));const rt=Object.values(Ye);if(rt.length===0)return"";const it=rt[0];if(rt.length===1&&isPrimitive(it))return formatPrimitive(it);const lt=stringifyJsonSafe(Ye);return truncatePreview(lt)}function isPrimitive(Ye){return Ye==null||typeof Ye=="string"||typeof Ye=="number"||typeof Ye=="boolean"}function formatPrimitive(Ye){return typeof Ye=="string"?truncatePreview(JSON.stringify(Ye)):Ye==null?"null":String(Ye)}function truncatePreview(Ye,rt=60){return Ye.length<=rt?Ye:`${Ye.slice(0,rt-1)}`}function isBlobResource(Ye){return!!Ye.blob}function isTextResource(Ye){return Ye.text!==void 0}function ContentBlock({block:Ye}){switch(Ye.type){case"text":return jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground max-h-48 overflow-auto whitespace-pre-wrap leading-5",children:Ye.text??""});case"image":{const rt=Ye.mimeType??"image/png",it=Ye.data??"";return jsxRuntimeExports.jsx("img",{className:"max-h-48 w-max max-w-full rounded-md object-contain",src:`data:${rt};base64,${it}`})}case"audio":{const rt=Ye.mimeType??"audio/mpeg",it=Ye.data??"";return jsxRuntimeExports.jsx("audio",{className:"w-full",controls:!0,src:`data:${rt};base64,${it}`,preload:"metadata"})}case"resource_link":{const rt=Ye;return jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground font-medium",children:rt.title??rt.name}),rt.description&&jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground leading-relaxed",children:rt.description}),jsxRuntimeExports.jsx("a",{className:"text-token-text-link-foreground truncate",href:rt.uri,target:"_blank",rel:"noreferrer",children:rt.uri}),rt.mimeType&&jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground",children:rt.mimeType})]})}case"embedded_resource":{const rt=Ye.resource,it=rt.mimeType,lt=rt.uri,ct=isTextResource(rt)?rt.text:isBlobResource(rt)?rt.blob:"",ut=ct!=null&&ct!=="";return jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground flex flex-col gap-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.embeddedResource.uriLabel",defaultMessage:"URI",description:"Label for the URI of an embedded resource"})}),jsxRuntimeExports.jsx("span",{className:"break-all",children:lt})]}),it&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.embeddedResource.mimeTypeLabel",defaultMessage:"MIME type",description:"Label for the MIME type of an embedded resource"})}),jsxRuntimeExports.jsx("span",{className:"break-all",children:it})]}),ut&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-token-foreground font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.mcpTool.embeddedResource.contentLabel",defaultMessage:"Content",description:"Label for the content of an embedded resource"})}),jsxRuntimeExports.jsx("pre",{className:"bg-token-input-background text-token-description-foreground max-h-48 overflow-auto whitespace-pre-wrap rounded-md px-3 py-2 leading-5",children:ct})]})]})}}}function ReadingItemContent({item:Ye,isComplete:rt}){const[it,lt]=reactExports.useState(!1),ct=Ye.execItems.some(pt=>pt.output?.exitCode===void 0),ut=Ye.execItems.length>0&&!ct,ht=rt??ut,ft=!ht;return jsxRuntimeExports.jsxs(TimelineItem,{className:clsx("overflow-hidden rounded-lg"),children:[jsxRuntimeExports.jsxs("div",{className:"cursor-interaction group flex items-center",onClick:()=>lt(pt=>!pt),children:[jsxRuntimeExports.jsx("span",{className:clsx("select-none truncate text-ellipsis",ft?"loading-shimmer-pure-text":"text-token-description-foreground group-hover:text-token-foreground"),children:jsxRuntimeExports.jsx(ReadingSummaryText,{item:Ye,isFinished:ht})}),jsxRuntimeExports.jsx(SvgChevron,{className:clsx("text-token-input-placeholder-foreground icon-2xs ml-1 flex-shrink-0 transition-all duration-300",it?"rotate-180 opacity-100":"opacity-0 group-hover:opacity-100")})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:it&&jsxRuntimeExports.jsx(motion.div,{className:"mt-2 overflow-hidden",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1.5",children:uniqBy(Ye.execItems,pt=>pt.parsedCmd.name).map(pt=>jsxRuntimeExports.jsx(FileItem,{filename:pt.parsedCmd.name},pt.callId))})},"reading-files")})]})}function ReadingSummaryText({item:Ye,isFinished:rt}){const it=uniqBy([...Ye.execItems].reverse(),ut=>ut.parsedCmd.name).reverse(),lt=last(it),ct=it.length-1;return it.length===0?rt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.noFilesCompleted",defaultMessage:"Read files",description:"Summary text for a completed reading item with no files."}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.noFiles",defaultMessage:"Reading files",description:"Summary text for a reading item with no files."}):it.length===1?rt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.singleFileCompleted",defaultMessage:"Read {name}",description:"Summary text for a completed reading item with a single file.",values:{name:lt?.parsedCmd.name}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.singleFile",defaultMessage:"Reading {name}",description:"Summary text for a reading item with a single file.",values:{name:lt?.parsedCmd.name}}):rt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.multipleFilesCompleted",defaultMessage:"Read <plus>{name} +{count}</plus>",description:"Summary text for a completed reading item with multiple files.",values:{name:lt?.parsedCmd.name,count:ct,plus:ut=>ut}}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"readingItemContent.summary.multipleFiles",defaultMessage:"Reading <plus>{name} +{count}</plus>",description:"Summary text for a reading item with multiple files.",values:{name:lt?.parsedCmd.name,count:ct,plus:ut=>ut}})}function FileItem({filename:Ye}){const rt=useMutationFromVSCode("open-file");return jsxRuntimeExports.jsxs("button",{type:"button",className:"text-token-foreground bg-token-dropdown-background hover:bg-token-menu-background border-token-border cursor-interaction group relative inline-flex max-w-[240px] items-center gap-1 rounded-[6px] border px-1 py-0.5",onClick:()=>rt.mutate({path:Ye}),children:[jsxRuntimeExports.jsx(SvgDocument,{className:"icon-2xs text-token-input-placeholder-foreground flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"relative min-w-0 flex-1",children:jsxRuntimeExports.jsx("div",{className:"text-token-text-link-foreground block truncate pr-2 transition-[padding] duration-200",children:Ye})})]})}const FILE_REFERENCE_PATTERN=/(?:^|[\\/])[^\\/]+\.(?!\d+$)[^\\/.]+$/i,MAX_EXTENSION_LENGTH=4,LONG_EXTENSION_ALLOWLIST=new Set(["7zipx","accdb","asarpack","asciidoc","backup","backupdb","bundle","ccproj","cdrdao","code-workspace","config","debugin","deploy","design","docbook","dockerfile","dockerignore","editorconfig","eslintignore","gitattributes","gitignore","gitignore","gitkeep","gradle","graphqls","ignore","ipynb","keychain","keynote","licensee","lockfile","lockfile","markdown","markup","matlab","mkdocs","models","module","msstyle","notebook","npmignore","output","packageinfo","parquet","pickle","plistx","policy","postcssrc","prettierignore","projectfile","python","readme","review","robots","schema","search","series","settingsjson","shader","sqlite","sqlite3","storyboard","styles","system","target","terraform","update","vertex","webapp","webdoc","webpackrc","widget","workspace","xcodeproj","yarnlock"]);function parseFileReference(Ye){const rt=Ye.replace(/`/g,"").trim(),it=rt.match(/^(.*?):(\d+)(?::(\d+))?(?:[-](\d+)(?::(\d+))?)?$/);if(it){const[,ct,ut,ht,ft,pt]=it;return{path:ct,line:Number.parseInt(ut,10),column:ht?Number.parseInt(ht,10):void 0,endLine:ft?Number.parseInt(ft,10):void 0,endColumn:pt?Number.parseInt(pt,10):void 0}}const lt=rt.match(/^(.*?)#L(\d+)(?:C(\d+))?(?:-L(\d+)(?:C(\d+))?)?$/);if(lt){const[,ct,ut,ht,ft,pt]=lt;return{path:ct,line:Number.parseInt(ut,10),column:ht?Number.parseInt(ht,10):void 0,endLine:ft?Number.parseInt(ft,10):void 0,endColumn:pt?Number.parseInt(pt,10):void 0}}return{path:rt}}function formatFileReferenceLabel(Ye){const{path:rt,line:it,column:lt,endLine:ct,endColumn:ut}=Ye,ht=[];return it!==void 0?ct!==void 0&&ct!==it?ht.push(`lines ${it}-${ct}`):ht.push(`line ${it}`):ct!==void 0&&ht.push(`line ${ct}`),(lt!==void 0||ut!==void 0)&&(lt!==void 0&&ut!==void 0&&ut!==lt?ht.push(`columns ${lt}-${ut}`):lt!==void 0?ht.push(`column ${lt}`):ut!==void 0&&ht.push(`column ${ut}`)),ht.length===0?rt:`${rt} (${ht.join(", ")})`}function isFileReference(Ye){const{path:rt,line:it,column:lt,endLine:ct,endColumn:ut}=parseFileReference(Ye);if(/^[a-z][a-z0-9+.-]*:\/\//i.test(rt)||/^www\./i.test(rt)||/^(mailto|tel):/i.test(rt))return!1;if(it!==void 0||lt!==void 0||ct!==void 0||ut!==void 0)return!0;if(!FILE_REFERENCE_PATTERN.test(rt))return!1;const ht=/[\\/]/.test(rt),ft=rt.split(/[\\/]/).pop()??"",pt=ft.includes(".")?ft.split(".").pop()??"":"";if(!pt)return!1;const mt=/[a-z]/.test(pt),gt=/[A-Z]/.test(pt.slice(1));if(!ht&&mt&&gt)return!1;if(!ht){const yt=pt.toLowerCase();if(yt.length>MAX_EXTENSION_LENGTH&&!LONG_EXTENSION_ALLOWLIST.has(yt))return!1}return!0}const diagramAliases={sequencediagram:"sequence",pie:"pie",classdiagram:"class",statediagram:"state",erdiagram:"entityRelationship",entityrelationshipdiagram:"entityRelationship",journey:"journey",userjourney:"journey",gitgraph:"gitgraph",gitgraphbeta:"gitgraph",xychart:"xychart",packet:"packet",kanban:"kanban"};function detectMermaidDiagramKind(Ye){const rt=Ye.split(/\r?\n/).map(ct=>ct.trim()).filter(ct=>ct.length>0&&!ct.startsWith("%%"));if(rt.length===0)return null;const it=rt[0].split(/\s+/)[0];if(!it)return null;const lt=it.replace(/[-_]/g,"").toLowerCase();return diagramAliases[lt]??null}var package_default={name:"mermaid",version:"11.12.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(Ye,rt){(function(it,lt){Ye.exports=lt()})(dayjs_min,(function(){var it=1e3,lt=6e4,ct=36e5,ut="millisecond",ht="second",ft="minute",pt="hour",mt="day",gt="week",yt="month",xt="quarter",bt="year",_t="date",Ct="Invalid Date",kt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,St=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Rt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Zt){var Vt=["th","st","nd","rd"],$t=Zt%100;return"["+Zt+(Vt[($t-20)%10]||Vt[$t]||Vt[0])+"]"}},Tt=function(Zt,Vt,$t){var zt=String(Zt);return!zt||zt.length>=Vt?Zt:""+Array(Vt+1-zt.length).join($t)+Zt},Mt={s:Tt,z:function(Zt){var Vt=-Zt.utcOffset(),$t=Math.abs(Vt),zt=Math.floor($t/60),Nt=$t%60;return(Vt<=0?"+":"-")+Tt(zt,2,"0")+":"+Tt(Nt,2,"0")},m:function Zt(Vt,$t){if(Vt.date()<$t.date())return-Zt($t,Vt);var zt=12*($t.year()-Vt.year())+($t.month()-Vt.month()),Nt=Vt.clone().add(zt,yt),qt=$t-Nt<0,Gt=Vt.clone().add(zt+(qt?-1:1),yt);return+(-(zt+($t-Nt)/(qt?Nt-Gt:Gt-Nt))||0)},a:function(Zt){return Zt<0?Math.ceil(Zt)||0:Math.floor(Zt)},p:function(Zt){return{M:yt,y:bt,w:gt,d:mt,D:_t,h:pt,m:ft,s:ht,ms:ut,Q:xt}[Zt]||String(Zt||"").toLowerCase().replace(/s$/,"")},u:function(Zt){return Zt===void 0}},Pt="en",It={};It[Pt]=Rt;var Lt="$isDayjsObject",Ot=function(Zt){return Zt instanceof Kt||!(!Zt||!Zt[Lt])},Ft=function Zt(Vt,$t,zt){var Nt;if(!Vt)return Pt;if(typeof Vt=="string"){var qt=Vt.toLowerCase();It[qt]&&(Nt=qt),$t&&(It[qt]=$t,Nt=qt);var Gt=Vt.split("-");if(!Nt&&Gt.length>1)return Zt(Gt[0])}else{var Ht=Vt.name;It[Ht]=Vt,Nt=Ht}return!zt&&Nt&&(Pt=Nt),Nt||!zt&&Pt},Ut=function(Zt,Vt){if(Ot(Zt))return Zt.clone();var $t=typeof Vt=="object"?Vt:{};return $t.date=Zt,$t.args=arguments,new Kt($t)},Wt=Mt;Wt.l=Ft,Wt.i=Ot,Wt.w=function(Zt,Vt){return Ut(Zt,{locale:Vt.$L,utc:Vt.$u,x:Vt.$x,$offset:Vt.$offset})};var Kt=(function(){function Zt($t){this.$L=Ft($t.locale,null,!0),this.parse($t),this.$x=this.$x||$t.x||{},this[Lt]=!0}var Vt=Zt.prototype;return Vt.parse=function($t){this.$d=(function(zt){var Nt=zt.date,qt=zt.utc;if(Nt===null)return new Date(NaN);if(Wt.u(Nt))return new Date;if(Nt instanceof Date)return new Date(Nt);if(typeof Nt=="string"&&!/Z$/i.test(Nt)){var Gt=Nt.match(kt);if(Gt){var Ht=Gt[2]-1||0,Xt=(Gt[7]||"0").substring(0,3);return qt?new Date(Date.UTC(Gt[1],Ht,Gt[3]||1,Gt[4]||0,Gt[5]||0,Gt[6]||0,Xt)):new Date(Gt[1],Ht,Gt[3]||1,Gt[4]||0,Gt[5]||0,Gt[6]||0,Xt)}}return new Date(Nt)})($t),this.init()},Vt.init=function(){var $t=this.$d;this.$y=$t.getFullYear(),this.$M=$t.getMonth(),this.$D=$t.getDate(),this.$W=$t.getDay(),this.$H=$t.getHours(),this.$m=$t.getMinutes(),this.$s=$t.getSeconds(),this.$ms=$t.getMilliseconds()},Vt.$utils=function(){return Wt},Vt.isValid=function(){return this.$d.toString()!==Ct},Vt.isSame=function($t,zt){var Nt=Ut($t);return this.startOf(zt)<=Nt&&Nt<=this.endOf(zt)},Vt.isAfter=function($t,zt){return Ut($t)<this.startOf(zt)},Vt.isBefore=function($t,zt){return this.endOf(zt)<Ut($t)},Vt.$g=function($t,zt,Nt){return Wt.u($t)?this[zt]:this.set(Nt,$t)},Vt.unix=function(){return Math.floor(this.valueOf()/1e3)},Vt.valueOf=function(){return this.$d.getTime()},Vt.startOf=function($t,zt){var Nt=this,qt=!!Wt.u(zt)||zt,Gt=Wt.p($t),Ht=function(cr,dr){var xr=Wt.w(Nt.$u?Date.UTC(Nt.$y,dr,cr):new Date(Nt.$y,dr,cr),Nt);return qt?xr:xr.endOf(mt)},Xt=function(cr,dr){return Wt.w(Nt.toDate()[cr].apply(Nt.toDate("s"),(qt?[0,0,0,0]:[23,59,59,999]).slice(dr)),Nt)},Bt=this.$W,nr=this.$M,rr=this.$D,Jt="set"+(this.$u?"UTC":"");switch(Gt){case bt:return qt?Ht(1,0):Ht(31,11);case yt:return qt?Ht(1,nr):Ht(0,nr+1);case gt:var ir=this.$locale().weekStart||0,ar=(Bt<ir?Bt+7:Bt)-ir;return Ht(qt?rr-ar:rr+(6-ar),nr);case mt:case _t:return Xt(Jt+"Hours",0);case pt:return Xt(Jt+"Minutes",1);case ft:return Xt(Jt+"Seconds",2);case ht:return Xt(Jt+"Milliseconds",3);default:return this.clone()}},Vt.endOf=function($t){return this.startOf($t,!1)},Vt.$set=function($t,zt){var Nt,qt=Wt.p($t),Gt="set"+(this.$u?"UTC":""),Ht=(Nt={},Nt[mt]=Gt+"Date",Nt[_t]=Gt+"Date",Nt[yt]=Gt+"Month",Nt[bt]=Gt+"FullYear",Nt[pt]=Gt+"Hours",Nt[ft]=Gt+"Minutes",Nt[ht]=Gt+"Seconds",Nt[ut]=Gt+"Milliseconds",Nt)[qt],Xt=qt===mt?this.$D+(zt-this.$W):zt;if(qt===yt||qt===bt){var Bt=this.clone().set(_t,1);Bt.$d[Ht](Xt),Bt.init(),this.$d=Bt.set(_t,Math.min(this.$D,Bt.daysInMonth())).$d}else Ht&&this.$d[Ht](Xt);return this.init(),this},Vt.set=function($t,zt){return this.clone().$set($t,zt)},Vt.get=function($t){return this[Wt.p($t)]()},Vt.add=function($t,zt){var Nt,qt=this;$t=Number($t);var Gt=Wt.p(zt),Ht=function(nr){var rr=Ut(qt);return Wt.w(rr.date(rr.date()+Math.round(nr*$t)),qt)};if(Gt===yt)return this.set(yt,this.$M+$t);if(Gt===bt)return this.set(bt,this.$y+$t);if(Gt===mt)return Ht(1);if(Gt===gt)return Ht(7);var Xt=(Nt={},Nt[ft]=lt,Nt[pt]=ct,Nt[ht]=it,Nt)[Gt]||1,Bt=this.$d.getTime()+$t*Xt;return Wt.w(Bt,this)},Vt.subtract=function($t,zt){return this.add(-1*$t,zt)},Vt.format=function($t){var zt=this,Nt=this.$locale();if(!this.isValid())return Nt.invalidDate||Ct;var qt=$t||"YYYY-MM-DDTHH:mm:ssZ",Gt=Wt.z(this),Ht=this.$H,Xt=this.$m,Bt=this.$M,nr=Nt.weekdays,rr=Nt.months,Jt=Nt.meridiem,ir=function(dr,xr,br,_r){return dr&&(dr[xr]||dr(zt,qt))||br[xr].slice(0,_r)},ar=function(dr){return Wt.s(Ht%12||12,dr,"0")},cr=Jt||function(dr,xr,br){var _r=dr<12?"AM":"PM";return br?_r.toLowerCase():_r};return qt.replace(St,(function(dr,xr){return xr||(function(br){switch(br){case"YY":return String(zt.$y).slice(-2);case"YYYY":return Wt.s(zt.$y,4,"0");case"M":return Bt+1;case"MM":return Wt.s(Bt+1,2,"0");case"MMM":return ir(Nt.monthsShort,Bt,rr,3);case"MMMM":return ir(rr,Bt);case"D":return zt.$D;case"DD":return Wt.s(zt.$D,2,"0");case"d":return String(zt.$W);case"dd":return ir(Nt.weekdaysMin,zt.$W,nr,2);case"ddd":return ir(Nt.weekdaysShort,zt.$W,nr,3);case"dddd":return nr[zt.$W];case"H":return String(Ht);case"HH":return Wt.s(Ht,2,"0");case"h":return ar(1);case"hh":return ar(2);case"a":return cr(Ht,Xt,!0);case"A":return cr(Ht,Xt,!1);case"m":return String(Xt);case"mm":return Wt.s(Xt,2,"0");case"s":return String(zt.$s);case"ss":return Wt.s(zt.$s,2,"0");case"SSS":return Wt.s(zt.$ms,3,"0");case"Z":return Gt}return null})(dr)||Gt.replace(":","")}))},Vt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Vt.diff=function($t,zt,Nt){var qt,Gt=this,Ht=Wt.p(zt),Xt=Ut($t),Bt=(Xt.utcOffset()-this.utcOffset())*lt,nr=this-Xt,rr=function(){return Wt.m(Gt,Xt)};switch(Ht){case bt:qt=rr()/12;break;case yt:qt=rr();break;case xt:qt=rr()/3;break;case gt:qt=(nr-Bt)/6048e5;break;case mt:qt=(nr-Bt)/864e5;break;case pt:qt=nr/ct;break;case ft:qt=nr/lt;break;case ht:qt=nr/it;break;default:qt=nr}return Nt?qt:Wt.a(qt)},Vt.daysInMonth=function(){return this.endOf(yt).$D},Vt.$locale=function(){return It[this.$L]},Vt.locale=function($t,zt){if(!$t)return this.$L;var Nt=this.clone(),qt=Ft($t,zt,!0);return qt&&(Nt.$L=qt),Nt},Vt.clone=function(){return Wt.w(this.$d,this)},Vt.toDate=function(){return new Date(this.valueOf())},Vt.toJSON=function(){return this.isValid()?this.toISOString():null},Vt.toISOString=function(){return this.$d.toISOString()},Vt.toString=function(){return this.$d.toUTCString()},Zt})(),Qt=Kt.prototype;return Ut.prototype=Qt,[["$ms",ut],["$s",ht],["$m",ft],["$H",pt],["$W",mt],["$M",yt],["$y",bt],["$D",_t]].forEach((function(Zt){Qt[Zt[1]]=function(Vt){return this.$g(Vt,Zt[0],Zt[1])}})),Ut.extend=function(Zt,Vt){return Zt.$i||(Zt(Vt,Kt,Ut),Zt.$i=!0),Ut},Ut.locale=Ft,Ut.isDayjs=Ot,Ut.unix=function(Zt){return Ut(1e3*Zt)},Ut.en=It[Pt],Ut.Ls=It,Ut.p={},Ut}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs2=getDefaultExportFromCjs(dayjs_minExports);var __defProp=Object.defineProperty,__name=(Ye,rt)=>__defProp(Ye,"name",{value:rt,configurable:!0}),__export=(Ye,rt)=>{for(var it in rt)__defProp(Ye,it,{get:rt[it],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name((...Ye)=>{},"trace"),debug:__name((...Ye)=>{},"debug"),info:__name((...Ye)=>{},"info"),warn:__name((...Ye)=>{},"warn"),error:__name((...Ye)=>{},"error"),fatal:__name((...Ye)=>{},"fatal")},setLogLevel=__name(function(Ye="fatal"){let rt=LEVELS.fatal;typeof Ye=="string"?Ye.toLowerCase()in LEVELS&&(rt=LEVELS[Ye]):typeof Ye=="number"&&(rt=Ye),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},rt<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format$1("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format$1("FATAL"))),rt<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format$1("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format$1("ERROR"))),rt<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format$1("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format$1("WARN"))),rt<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format$1("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format$1("INFO"))),rt<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format$1("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("DEBUG"))),rt<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format$1("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("TRACE")))},"setLogLevel"),format$1=__name(Ye=>`%c${dayjs2().format("ss.SSS")} : ${Ye} : `,"format");const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:Ye=>Ye>=255?255:Ye<0?0:Ye,g:Ye=>Ye>=255?255:Ye<0?0:Ye,b:Ye=>Ye>=255?255:Ye<0?0:Ye,h:Ye=>Ye%360,s:Ye=>Ye>=100?100:Ye<0?0:Ye,l:Ye=>Ye>=100?100:Ye<0?0:Ye,a:Ye=>Ye>=1?1:Ye<0?0:Ye},toLinear:Ye=>{const rt=Ye/255;return Ye>.03928?Math.pow((rt+.055)/1.055,2.4):rt/12.92},hue2rgb:(Ye,rt,it)=>(it<0&&(it+=1),it>1&&(it-=1),it<1/6?Ye+(rt-Ye)*6*it:it<1/2?rt:it<2/3?Ye+(rt-Ye)*(2/3-it)*6:Ye),hsl2rgb:({h:Ye,s:rt,l:it},lt)=>{if(!rt)return it*2.55;Ye/=360,rt/=100,it/=100;const ct=it<.5?it*(1+rt):it+rt-it*rt,ut=2*it-ct;switch(lt){case"r":return Channel.hue2rgb(ut,ct,Ye+1/3)*255;case"g":return Channel.hue2rgb(ut,ct,Ye)*255;case"b":return Channel.hue2rgb(ut,ct,Ye-1/3)*255}},rgb2hsl:({r:Ye,g:rt,b:it},lt)=>{Ye/=255,rt/=255,it/=255;const ct=Math.max(Ye,rt,it),ut=Math.min(Ye,rt,it),ht=(ct+ut)/2;if(lt==="l")return ht*100;if(ct===ut)return 0;const ft=ct-ut,pt=ht>.5?ft/(2-ct-ut):ft/(ct+ut);if(lt==="s")return pt*100;switch(ct){case Ye:return((rt-it)/ft+(rt<it?6:0))*60;case rt:return((it-Ye)/ft+2)*60;case it:return((Ye-rt)/ft+4)*60;default:return-1}}},Lang={clamp:(Ye,rt,it)=>rt>it?Math.min(rt,Math.max(it,Ye)):Math.min(it,Math.max(rt,Ye)),round:Ye=>Math.round(Ye*1e10)/1e10},Unit={dec2hex:Ye=>{const rt=Math.round(Ye).toString(16);return rt.length>1?rt:`0${rt}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let Ye=0;Ye<=255;Ye++)DEC2HEX[Ye]=Utils.unit.dec2hex(Ye);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(rt){if(this.type&&this.type!==rt)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=rt}reset(){this.type=TYPE.ALL}is(rt){return this.type===rt}}class Channels{constructor(rt,it){this.color=it,this.changed=!1,this.data=rt,this.type=new Type}set(rt,it){return this.color=it,this.changed=!1,this.data=rt,this.type.type=TYPE.ALL,this}_ensureHSL(){const rt=this.data,{h:it,s:lt,l:ct}=rt;it===void 0&&(rt.h=Utils.channel.rgb2hsl(rt,"h")),lt===void 0&&(rt.s=Utils.channel.rgb2hsl(rt,"s")),ct===void 0&&(rt.l=Utils.channel.rgb2hsl(rt,"l"))}_ensureRGB(){const rt=this.data,{r:it,g:lt,b:ct}=rt;it===void 0&&(rt.r=Utils.channel.hsl2rgb(rt,"r")),lt===void 0&&(rt.g=Utils.channel.hsl2rgb(rt,"g")),ct===void 0&&(rt.b=Utils.channel.hsl2rgb(rt,"b"))}get r(){const rt=this.data,it=rt.r;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(rt,"r"))}get g(){const rt=this.data,it=rt.g;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(rt,"g"))}get b(){const rt=this.data,it=rt.b;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),Utils.channel.hsl2rgb(rt,"b"))}get h(){const rt=this.data,it=rt.h;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(rt,"h"))}get s(){const rt=this.data,it=rt.s;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(rt,"s"))}get l(){const rt=this.data,it=rt.l;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),Utils.channel.rgb2hsl(rt,"l"))}get a(){return this.data.a}set r(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=rt}set g(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=rt}set b(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=rt}set h(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=rt}set s(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=rt}set l(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=rt}set a(rt){this.changed=!0,this.data.a=rt}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:Ye=>{if(Ye.charCodeAt(0)!==35)return;const rt=Ye.match(Hex.re);if(!rt)return;const it=rt[1],lt=parseInt(it,16),ct=it.length,ut=ct%4===0,ht=ct>4,ft=ht?1:17,pt=ht?8:4,mt=ut?0:-1,gt=ht?255:15;return channels.set({r:(lt>>pt*(mt+3)&gt)*ft,g:(lt>>pt*(mt+2)&gt)*ft,b:(lt>>pt*(mt+1)&gt)*ft,a:ut?(lt&gt)*ft/255:1},Ye)},stringify:Ye=>{const{r:rt,g:it,b:lt,a:ct}=Ye;return ct<1?`#${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}${DEC2HEX[Math.round(ct*255)]}`:`#${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(lt)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:Ye=>{const rt=Ye.match(HSL.hueRe);if(rt){const[,it,lt]=rt;switch(lt){case"grad":return Utils.channel.clamp.h(parseFloat(it)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(it)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(it)*360)}}return Utils.channel.clamp.h(parseFloat(Ye))},parse:Ye=>{const rt=Ye.charCodeAt(0);if(rt!==104&&rt!==72)return;const it=Ye.match(HSL.re);if(!it)return;const[,lt,ct,ut,ht,ft]=it;return channels.set({h:HSL._hue2deg(lt),s:Utils.channel.clamp.s(parseFloat(ct)),l:Utils.channel.clamp.l(parseFloat(ut)),a:ht?Utils.channel.clamp.a(ft?parseFloat(ht)/100:parseFloat(ht)):1},Ye)},stringify:Ye=>{const{h:rt,s:it,l:lt,a:ct}=Ye;return ct<1?`hsla(${Utils.lang.round(rt)}, ${Utils.lang.round(it)}%, ${Utils.lang.round(lt)}%, ${ct})`:`hsl(${Utils.lang.round(rt)}, ${Utils.lang.round(it)}%, ${Utils.lang.round(lt)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:Ye=>{Ye=Ye.toLowerCase();const rt=Keyword.colors[Ye];if(rt)return Hex.parse(rt)},stringify:Ye=>{const rt=Hex.stringify(Ye);for(const it in Keyword.colors)if(Keyword.colors[it]===rt)return it}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:Ye=>{const rt=Ye.charCodeAt(0);if(rt!==114&&rt!==82)return;const it=Ye.match(RGB.re);if(!it)return;const[,lt,ct,ut,ht,ft,pt,mt,gt]=it;return channels.set({r:Utils.channel.clamp.r(ct?parseFloat(lt)*2.55:parseFloat(lt)),g:Utils.channel.clamp.g(ht?parseFloat(ut)*2.55:parseFloat(ut)),b:Utils.channel.clamp.b(pt?parseFloat(ft)*2.55:parseFloat(ft)),a:mt?Utils.channel.clamp.a(gt?parseFloat(mt)/100:parseFloat(mt)):1},Ye)},stringify:Ye=>{const{r:rt,g:it,b:lt,a:ct}=Ye;return ct<1?`rgba(${Utils.lang.round(rt)}, ${Utils.lang.round(it)}, ${Utils.lang.round(lt)}, ${Utils.lang.round(ct)})`:`rgb(${Utils.lang.round(rt)}, ${Utils.lang.round(it)}, ${Utils.lang.round(lt)})`}},Color$1={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:Ye=>{if(typeof Ye!="string")return Ye;const rt=Hex.parse(Ye)||RGB.parse(Ye)||HSL.parse(Ye)||Keyword.parse(Ye);if(rt)return rt;throw new Error(`Unsupported color format: "${Ye}"`)},stringify:Ye=>!Ye.changed&&Ye.color?Ye.color:Ye.type.is(TYPE.HSL)||Ye.data.r===void 0?HSL.stringify(Ye):Ye.a<1||!Number.isInteger(Ye.r)||!Number.isInteger(Ye.g)||!Number.isInteger(Ye.b)?RGB.stringify(Ye):Hex.stringify(Ye)},change=(Ye,rt)=>{const it=Color$1.parse(Ye);for(const lt in rt)it[lt]=Utils.channel.clamp[lt](rt[lt]);return Color$1.stringify(it)},rgba$1=(Ye,rt,it=0,lt=1)=>{if(typeof Ye!="number")return change(Ye,{a:rt});const ct=channels.set({r:Utils.channel.clamp.r(Ye),g:Utils.channel.clamp.g(rt),b:Utils.channel.clamp.b(it),a:Utils.channel.clamp.a(lt)});return Color$1.stringify(ct)},luminance=Ye=>{const{r:rt,g:it,b:lt}=Color$1.parse(Ye),ct=.2126*Utils.channel.toLinear(rt)+.7152*Utils.channel.toLinear(it)+.0722*Utils.channel.toLinear(lt);return Utils.lang.round(ct)},isLight=Ye=>luminance(Ye)>=.5,isDark=Ye=>!isLight(Ye),adjustChannel=(Ye,rt,it)=>{const lt=Color$1.parse(Ye),ct=lt[rt],ut=Utils.channel.clamp[rt](ct+it);return ct!==ut&&(lt[rt]=ut),Color$1.stringify(lt)},lighten=(Ye,rt)=>adjustChannel(Ye,"l",rt),darken=(Ye,rt)=>adjustChannel(Ye,"l",-rt),adjust=(Ye,rt)=>{const it=Color$1.parse(Ye),lt={};for(const ct in rt)rt[ct]&&(lt[ct]=it[ct]+rt[ct]);return change(Ye,lt)},mix=(Ye,rt,it=50)=>{const{r:lt,g:ct,b:ut,a:ht}=Color$1.parse(Ye),{r:ft,g:pt,b:mt,a:gt}=Color$1.parse(rt),yt=it/100,xt=yt*2-1,bt=ht-gt,Ct=((xt*bt===-1?xt:(xt+bt)/(1+xt*bt))+1)/2,kt=1-Ct,St=lt*Ct+ft*kt,Rt=ct*Ct+pt*kt,Tt=ut*Ct+mt*kt,Mt=ht*yt+gt*(1-yt);return rgba$1(St,Rt,Tt,Mt)},invert=(Ye,rt=100)=>{const it=Color$1.parse(Ye);return it.r=255-it.r,it.g=255-it.g,it.b=255-it.b,mix(it,Ye,rt)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor:getOwnPropertyDescriptor$3}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(rt){return rt});seal||(seal=function(rt){return rt});apply$1||(apply$1=function(rt,it){for(var lt=arguments.length,ct=new Array(lt>2?lt-2:0),ut=2;ut<lt;ut++)ct[ut-2]=arguments[ut];return rt.apply(it,ct)});construct||(construct=function(rt){for(var it=arguments.length,lt=new Array(it>1?it-1:0),ct=1;ct<it;ct++)lt[ct-1]=arguments[ct];return new rt(...lt)});const arrayForEach$1=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(Ye){return function(rt){rt instanceof RegExp&&(rt.lastIndex=0);for(var it=arguments.length,lt=new Array(it>1?it-1:0),ct=1;ct<it;ct++)lt[ct-1]=arguments[ct];return apply$1(Ye,rt,lt)}}function unconstruct(Ye){return function(){for(var rt=arguments.length,it=new Array(rt),lt=0;lt<rt;lt++)it[lt]=arguments[lt];return construct(Ye,it)}}function addToSet(Ye,rt){let it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(Ye,null);let lt=rt.length;for(;lt--;){let ct=rt[lt];if(typeof ct=="string"){const ut=it(ct);ut!==ct&&(isFrozen(rt)||(rt[lt]=ut),ct=ut)}Ye[ct]=!0}return Ye}function cleanArray(Ye){for(let rt=0;rt<Ye.length;rt++)objectHasOwnProperty(Ye,rt)||(Ye[rt]=null);return Ye}function clone(Ye){const rt=create$1(null);for(const[it,lt]of entries(Ye))objectHasOwnProperty(Ye,it)&&(Array.isArray(lt)?rt[it]=cleanArray(lt):lt&&typeof lt=="object"&&lt.constructor===Object?rt[it]=clone(lt):rt[it]=lt);return rt}function lookupGetter(Ye,rt){for(;Ye!==null;){const lt=getOwnPropertyDescriptor$3(Ye,rt);if(lt){if(lt.get)return unapply(lt.get);if(typeof lt.value=="function")return unapply(lt.value)}Ye=getPrototypeOf(Ye)}function it(){return null}return it}const html$1$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$7=freeze(["#text"]),html$4=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function Ye(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function Ye(rt,it){if(typeof rt!="object"||typeof rt.createPolicy!="function")return null;let lt=null;const ct="data-tt-policy-suffix";it&&it.hasAttribute(ct)&&(lt=it.getAttribute(ct));const ut="dompurify"+(lt?"#"+lt:"");try{return rt.createPolicy(ut,{createHTML(ht){return ht},createScriptURL(ht){return ht}})}catch{return console.warn("TrustedTypes policy "+ut+" could not be created."),null}},_createHooksMap=function Ye(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const rt=Hr=>createDOMPurify(Hr);if(rt.version="3.3.0",rt.removed=[],!Ye||!Ye.document||Ye.document.nodeType!==NODE_TYPE.document||!Ye.Element)return rt.isSupported=!1,rt;let{document:it}=Ye;const lt=it,ct=lt.currentScript,{DocumentFragment:ut,HTMLTemplateElement:ht,Node:ft,Element:pt,NodeFilter:mt,NamedNodeMap:gt=Ye.NamedNodeMap||Ye.MozNamedAttrMap,HTMLFormElement:yt,DOMParser:xt,trustedTypes:bt}=Ye,_t=pt.prototype,Ct=lookupGetter(_t,"cloneNode"),kt=lookupGetter(_t,"remove"),St=lookupGetter(_t,"nextSibling"),Rt=lookupGetter(_t,"childNodes"),Tt=lookupGetter(_t,"parentNode");if(typeof ht=="function"){const Hr=it.createElement("template");Hr.content&&Hr.content.ownerDocument&&(it=Hr.content.ownerDocument)}let Mt,Pt="";const{implementation:It,createNodeIterator:Lt,createDocumentFragment:Ot,getElementsByTagName:Ft}=it,{importNode:Ut}=lt;let Wt=_createHooksMap();rt.isSupported=typeof entries=="function"&&typeof Tt=="function"&&It&&It.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Kt,ERB_EXPR:Qt,TMPLIT_EXPR:Zt,DATA_ATTR:Vt,ARIA_ATTR:$t,IS_SCRIPT_OR_DATA:zt,ATTR_WHITESPACE:Nt,CUSTOM_ELEMENT:qt}=EXPRESSIONS;let{IS_ALLOWED_URI:Gt}=EXPRESSIONS,Ht=null;const Xt=addToSet({},[...html$1$1,...svg$1,...svgFilters,...mathMl$1,...text$7]);let Bt=null;const nr=addToSet({},[...html$4,...svg,...mathMl,...xml]);let rr=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Jt=null,ir=null;const ar=Object.seal(create$1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let cr=!0,dr=!0,xr=!1,br=!0,_r=!1,Er=!0,Rr=!1,Lr=!1,Mr=!1,Fr=!1,Xr=!1,Jr=!1,Kr=!0,nn=!1;const Qr="user-content-";let Zr=!0,sn=!1,yr={},hr=null;const Tr=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ir=null;const Dr=addToSet({},["audio","video","img","source","image","track"]);let jr=null;const Br=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Or="http://www.w3.org/1998/Math/MathML",$r="http://www.w3.org/2000/svg",Ur="http://www.w3.org/1999/xhtml";let qr=Ur,fn=!1,xn=null;const vi=addToSet({},[Or,$r,Ur],stringToString);let Yn=addToSet({},["mi","mo","mn","ms","mtext"]),Xn=addToSet({},["annotation-xml"]);const ai=addToSet({},["title","style","font","a","script"]);let An=null;const oi=["application/xhtml+xml","text/html"],Ii="text/html";let pn=null,Qn=null;const $i=it.createElement("form"),ci=function(or){return or instanceof RegExp||or instanceof Function},$s=function(){let or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Qn&&Qn===or)){if((!or||typeof or!="object")&&(or={}),or=clone(or),An=oi.indexOf(or.PARSER_MEDIA_TYPE)===-1?Ii:or.PARSER_MEDIA_TYPE,pn=An==="application/xhtml+xml"?stringToString:stringToLowerCase,Ht=objectHasOwnProperty(or,"ALLOWED_TAGS")?addToSet({},or.ALLOWED_TAGS,pn):Xt,Bt=objectHasOwnProperty(or,"ALLOWED_ATTR")?addToSet({},or.ALLOWED_ATTR,pn):nr,xn=objectHasOwnProperty(or,"ALLOWED_NAMESPACES")?addToSet({},or.ALLOWED_NAMESPACES,stringToString):vi,jr=objectHasOwnProperty(or,"ADD_URI_SAFE_ATTR")?addToSet(clone(Br),or.ADD_URI_SAFE_ATTR,pn):Br,Ir=objectHasOwnProperty(or,"ADD_DATA_URI_TAGS")?addToSet(clone(Dr),or.ADD_DATA_URI_TAGS,pn):Dr,hr=objectHasOwnProperty(or,"FORBID_CONTENTS")?addToSet({},or.FORBID_CONTENTS,pn):Tr,Jt=objectHasOwnProperty(or,"FORBID_TAGS")?addToSet({},or.FORBID_TAGS,pn):clone({}),ir=objectHasOwnProperty(or,"FORBID_ATTR")?addToSet({},or.FORBID_ATTR,pn):clone({}),yr=objectHasOwnProperty(or,"USE_PROFILES")?or.USE_PROFILES:!1,cr=or.ALLOW_ARIA_ATTR!==!1,dr=or.ALLOW_DATA_ATTR!==!1,xr=or.ALLOW_UNKNOWN_PROTOCOLS||!1,br=or.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_r=or.SAFE_FOR_TEMPLATES||!1,Er=or.SAFE_FOR_XML!==!1,Rr=or.WHOLE_DOCUMENT||!1,Fr=or.RETURN_DOM||!1,Xr=or.RETURN_DOM_FRAGMENT||!1,Jr=or.RETURN_TRUSTED_TYPE||!1,Mr=or.FORCE_BODY||!1,Kr=or.SANITIZE_DOM!==!1,nn=or.SANITIZE_NAMED_PROPS||!1,Zr=or.KEEP_CONTENT!==!1,sn=or.IN_PLACE||!1,Gt=or.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,qr=or.NAMESPACE||Ur,Yn=or.MATHML_TEXT_INTEGRATION_POINTS||Yn,Xn=or.HTML_INTEGRATION_POINTS||Xn,rr=or.CUSTOM_ELEMENT_HANDLING||{},or.CUSTOM_ELEMENT_HANDLING&&ci(or.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rr.tagNameCheck=or.CUSTOM_ELEMENT_HANDLING.tagNameCheck),or.CUSTOM_ELEMENT_HANDLING&&ci(or.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rr.attributeNameCheck=or.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),or.CUSTOM_ELEMENT_HANDLING&&typeof or.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rr.allowCustomizedBuiltInElements=or.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_r&&(dr=!1),Xr&&(Fr=!0),yr&&(Ht=addToSet({},text$7),Bt=[],yr.html===!0&&(addToSet(Ht,html$1$1),addToSet(Bt,html$4)),yr.svg===!0&&(addToSet(Ht,svg$1),addToSet(Bt,svg),addToSet(Bt,xml)),yr.svgFilters===!0&&(addToSet(Ht,svgFilters),addToSet(Bt,svg),addToSet(Bt,xml)),yr.mathMl===!0&&(addToSet(Ht,mathMl$1),addToSet(Bt,mathMl),addToSet(Bt,xml))),or.ADD_TAGS&&(typeof or.ADD_TAGS=="function"?ar.tagCheck=or.ADD_TAGS:(Ht===Xt&&(Ht=clone(Ht)),addToSet(Ht,or.ADD_TAGS,pn))),or.ADD_ATTR&&(typeof or.ADD_ATTR=="function"?ar.attributeCheck=or.ADD_ATTR:(Bt===nr&&(Bt=clone(Bt)),addToSet(Bt,or.ADD_ATTR,pn))),or.ADD_URI_SAFE_ATTR&&addToSet(jr,or.ADD_URI_SAFE_ATTR,pn),or.FORBID_CONTENTS&&(hr===Tr&&(hr=clone(hr)),addToSet(hr,or.FORBID_CONTENTS,pn)),Zr&&(Ht["#text"]=!0),Rr&&addToSet(Ht,["html","head","body"]),Ht.table&&(addToSet(Ht,["tbody"]),delete Jt.tbody),or.TRUSTED_TYPES_POLICY){if(typeof or.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof or.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Mt=or.TRUSTED_TYPES_POLICY,Pt=Mt.createHTML("")}else Mt===void 0&&(Mt=_createTrustedTypesPolicy(bt,ct)),Mt!==null&&typeof Pt=="string"&&(Pt=Mt.createHTML(""));freeze&&freeze(or),Qn=or}},Ns=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Fs=addToSet({},[...mathMl$1,...mathMlDisallowed]),ds=function(or){let Ar=Tt(or);(!Ar||!Ar.tagName)&&(Ar={namespaceURI:qr,tagName:"template"});const Nr=stringToLowerCase(or.tagName),Cr=stringToLowerCase(Ar.tagName);return xn[or.namespaceURI]?or.namespaceURI===$r?Ar.namespaceURI===Ur?Nr==="svg":Ar.namespaceURI===Or?Nr==="svg"&&(Cr==="annotation-xml"||Yn[Cr]):!!Ns[Nr]:or.namespaceURI===Or?Ar.namespaceURI===Ur?Nr==="math":Ar.namespaceURI===$r?Nr==="math"&&Xn[Cr]:!!Fs[Nr]:or.namespaceURI===Ur?Ar.namespaceURI===$r&&!Xn[Cr]||Ar.namespaceURI===Or&&!Yn[Cr]?!1:!Fs[Nr]&&(ai[Nr]||!Ns[Nr]):!!(An==="application/xhtml+xml"&&xn[or.namespaceURI]):!1},Wn=function(or){arrayPush(rt.removed,{element:or});try{Tt(or).removeChild(or)}catch{kt(or)}},ui=function(or,Ar){try{arrayPush(rt.removed,{attribute:Ar.getAttributeNode(or),from:Ar})}catch{arrayPush(rt.removed,{attribute:null,from:Ar})}if(Ar.removeAttribute(or),or==="is")if(Fr||Xr)try{Wn(Ar)}catch{}else try{Ar.setAttribute(or,"")}catch{}},hs=function(or){let Ar=null,Nr=null;if(Mr)or="<remove></remove>"+or;else{const Pr=stringMatch(or,/^[\r\n\t ]+/);Nr=Pr&&Pr[0]}An==="application/xhtml+xml"&&qr===Ur&&(or='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+or+"</body></html>");const Cr=Mt?Mt.createHTML(or):or;if(qr===Ur)try{Ar=new xt().parseFromString(Cr,An)}catch{}if(!Ar||!Ar.documentElement){Ar=It.createDocument(qr,"template",null);try{Ar.documentElement.innerHTML=fn?Pt:Cr}catch{}}const zr=Ar.body||Ar.documentElement;return or&&Nr&&zr.insertBefore(it.createTextNode(Nr),zr.childNodes[0]||null),qr===Ur?Ft.call(Ar,Rr?"html":"body")[0]:Rr?Ar.documentElement:zr},qs=function(or){return Lt.call(or.ownerDocument||or,or,mt.SHOW_ELEMENT|mt.SHOW_COMMENT|mt.SHOW_TEXT|mt.SHOW_PROCESSING_INSTRUCTION|mt.SHOW_CDATA_SECTION,null)},Jn=function(or){return or instanceof yt&&(typeof or.nodeName!="string"||typeof or.textContent!="string"||typeof or.removeChild!="function"||!(or.attributes instanceof gt)||typeof or.removeAttribute!="function"||typeof or.setAttribute!="function"||typeof or.namespaceURI!="string"||typeof or.insertBefore!="function"||typeof or.hasChildNodes!="function")},Pn=function(or){return typeof ft=="function"&&or instanceof ft};function Sn(Hr,or,Ar){arrayForEach$1(Hr,Nr=>{Nr.call(rt,or,Ar,Qn)})}const bi=function(or){let Ar=null;if(Sn(Wt.beforeSanitizeElements,or,null),Jn(or))return Wn(or),!0;const Nr=pn(or.nodeName);if(Sn(Wt.uponSanitizeElement,or,{tagName:Nr,allowedTags:Ht}),Er&&or.hasChildNodes()&&!Pn(or.firstElementChild)&&regExpTest(/<[/\w!]/g,or.innerHTML)&&regExpTest(/<[/\w!]/g,or.textContent)||or.nodeType===NODE_TYPE.progressingInstruction||Er&&or.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,or.data))return Wn(or),!0;if(!(ar.tagCheck instanceof Function&&ar.tagCheck(Nr))&&(!Ht[Nr]||Jt[Nr])){if(!Jt[Nr]&&la(Nr)&&(rr.tagNameCheck instanceof RegExp&&regExpTest(rr.tagNameCheck,Nr)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(Nr)))return!1;if(Zr&&!hr[Nr]){const Cr=Tt(or)||or.parentNode,zr=Rt(or)||or.childNodes;if(zr&&Cr){const Pr=zr.length;for(let tn=Pr-1;tn>=0;--tn){const En=Ct(zr[tn],!0);En.__removalCount=(or.__removalCount||0)+1,Cr.insertBefore(En,St(or))}}}return Wn(or),!0}return or instanceof pt&&!ds(or)||(Nr==="noscript"||Nr==="noembed"||Nr==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,or.innerHTML)?(Wn(or),!0):(_r&&or.nodeType===NODE_TYPE.text&&(Ar=or.textContent,arrayForEach$1([Kt,Qt,Zt],Cr=>{Ar=stringReplace(Ar,Cr," ")}),or.textContent!==Ar&&(arrayPush(rt.removed,{element:or.cloneNode()}),or.textContent=Ar)),Sn(Wt.afterSanitizeElements,or,null),!1)},Ni=function(or,Ar,Nr){if(Kr&&(Ar==="id"||Ar==="name")&&(Nr in it||Nr in $i))return!1;if(!(dr&&!ir[Ar]&&regExpTest(Vt,Ar))){if(!(cr&&regExpTest($t,Ar))){if(!(ar.attributeCheck instanceof Function&&ar.attributeCheck(Ar,or))){if(!Bt[Ar]||ir[Ar]){if(!(la(or)&&(rr.tagNameCheck instanceof RegExp&&regExpTest(rr.tagNameCheck,or)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(or))&&(rr.attributeNameCheck instanceof RegExp&&regExpTest(rr.attributeNameCheck,Ar)||rr.attributeNameCheck instanceof Function&&rr.attributeNameCheck(Ar,or))||Ar==="is"&&rr.allowCustomizedBuiltInElements&&(rr.tagNameCheck instanceof RegExp&&regExpTest(rr.tagNameCheck,Nr)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(Nr))))return!1}else if(!jr[Ar]){if(!regExpTest(Gt,stringReplace(Nr,Nt,""))){if(!((Ar==="src"||Ar==="xlink:href"||Ar==="href")&&or!=="script"&&stringIndexOf(Nr,"data:")===0&&Ir[or])){if(!(xr&&!regExpTest(zt,stringReplace(Nr,Nt,"")))){if(Nr)return!1}}}}}}}return!0},la=function(or){return or!=="annotation-xml"&&stringMatch(or,qt)},fs=function(or){Sn(Wt.beforeSanitizeAttributes,or,null);const{attributes:Ar}=or;if(!Ar||Jn(or))return;const Nr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Bt,forceKeepAttr:void 0};let Cr=Ar.length;for(;Cr--;){const zr=Ar[Cr],{name:Pr,namespaceURI:tn,value:En}=zr,In=pn(Pr),Rn=En;let Mn=Pr==="value"?Rn:stringTrim(Rn);if(Nr.attrName=In,Nr.attrValue=Mn,Nr.keepAttr=!0,Nr.forceKeepAttr=void 0,Sn(Wt.uponSanitizeAttribute,or,Nr),Mn=Nr.attrValue,nn&&(In==="id"||In==="name")&&(ui(Pr,or),Mn=Qr+Mn),Er&&regExpTest(/((--!?|])>)|<\/(style|title|textarea)/i,Mn)){ui(Pr,or);continue}if(In==="attributename"&&stringMatch(Mn,"href")){ui(Pr,or);continue}if(Nr.forceKeepAttr)continue;if(!Nr.keepAttr){ui(Pr,or);continue}if(!br&&regExpTest(/\/>/i,Mn)){ui(Pr,or);continue}_r&&arrayForEach$1([Kt,Qt,Zt],Bs=>{Mn=stringReplace(Mn,Bs," ")});const Fi=pn(or.nodeName);if(!Ni(Fi,In,Mn)){ui(Pr,or);continue}if(Mt&&typeof bt=="object"&&typeof bt.getAttributeType=="function"&&!tn)switch(bt.getAttributeType(Fi,In)){case"TrustedHTML":{Mn=Mt.createHTML(Mn);break}case"TrustedScriptURL":{Mn=Mt.createScriptURL(Mn);break}}if(Mn!==Rn)try{tn?or.setAttributeNS(tn,Pr,Mn):or.setAttribute(Pr,Mn),Jn(or)?Wn(or):arrayPop(rt.removed)}catch{ui(Pr,or)}}Sn(Wt.afterSanitizeAttributes,or,null)},ca=function Hr(or){let Ar=null;const Nr=qs(or);for(Sn(Wt.beforeSanitizeShadowDOM,or,null);Ar=Nr.nextNode();)Sn(Wt.uponSanitizeShadowNode,Ar,null),bi(Ar),fs(Ar),Ar.content instanceof ut&&Hr(Ar.content);Sn(Wt.afterSanitizeShadowDOM,or,null)};return rt.sanitize=function(Hr){let or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ar=null,Nr=null,Cr=null,zr=null;if(fn=!Hr,fn&&(Hr="<!-->"),typeof Hr!="string"&&!Pn(Hr))if(typeof Hr.toString=="function"){if(Hr=Hr.toString(),typeof Hr!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!rt.isSupported)return Hr;if(Lr||$s(or),rt.removed=[],typeof Hr=="string"&&(sn=!1),sn){if(Hr.nodeName){const En=pn(Hr.nodeName);if(!Ht[En]||Jt[En])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Hr instanceof ft)Ar=hs("<!---->"),Nr=Ar.ownerDocument.importNode(Hr,!0),Nr.nodeType===NODE_TYPE.element&&Nr.nodeName==="BODY"||Nr.nodeName==="HTML"?Ar=Nr:Ar.appendChild(Nr);else{if(!Fr&&!_r&&!Rr&&Hr.indexOf("<")===-1)return Mt&&Jr?Mt.createHTML(Hr):Hr;if(Ar=hs(Hr),!Ar)return Fr?null:Jr?Pt:""}Ar&&Mr&&Wn(Ar.firstChild);const Pr=qs(sn?Hr:Ar);for(;Cr=Pr.nextNode();)bi(Cr),fs(Cr),Cr.content instanceof ut&&ca(Cr.content);if(sn)return Hr;if(Fr){if(Xr)for(zr=Ot.call(Ar.ownerDocument);Ar.firstChild;)zr.appendChild(Ar.firstChild);else zr=Ar;return(Bt.shadowroot||Bt.shadowrootmode)&&(zr=Ut.call(lt,zr,!0)),zr}let tn=Rr?Ar.outerHTML:Ar.innerHTML;return Rr&&Ht["!doctype"]&&Ar.ownerDocument&&Ar.ownerDocument.doctype&&Ar.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ar.ownerDocument.doctype.name)&&(tn="<!DOCTYPE "+Ar.ownerDocument.doctype.name+`>
`+tn),_r&&arrayForEach$1([Kt,Qt,Zt],En=>{tn=stringReplace(tn,En," ")}),Mt&&Jr?Mt.createHTML(tn):tn},rt.setConfig=function(){let Hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$s(Hr),Lr=!0},rt.clearConfig=function(){Qn=null,Lr=!1},rt.isValidAttribute=function(Hr,or,Ar){Qn||$s({});const Nr=pn(Hr),Cr=pn(or);return Ni(Nr,Cr,Ar)},rt.addHook=function(Hr,or){typeof or=="function"&&arrayPush(Wt[Hr],or)},rt.removeHook=function(Hr,or){if(or!==void 0){const Ar=arrayLastIndexOf(Wt[Hr],or);return Ar===-1?void 0:arraySplice(Wt[Hr],Ar,1)[0]}return arrayPop(Wt[Hr])},rt.removeHooks=function(Hr){Wt[Hr]=[]},rt.removeAllHooks=function(){Wt=_createHooksMap()},rt}var purify=createDOMPurify(),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,Ua,UnknownDiagramError=(Ua=class extends Error{constructor(rt){super(rt),this.name="UnknownDiagramError"}},__name(Ua,"UnknownDiagramError"),Ua),detectors={},detectType$1=__name(function(Ye,rt){Ye=Ye.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[it,{detector:lt}]of Object.entries(detectors))if(lt(Ye,rt))return it;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${Ye}`)},"detectType"),registerLazyLoadedDiagrams=__name((...Ye)=>{for(const{id:rt,detector:it,loader:lt}of Ye)addDetector(rt,it,lt)},"registerLazyLoadedDiagrams"),addDetector=__name((Ye,rt,it)=>{detectors[Ye]&&log.warn(`Detector with key ${Ye} already exists. Overwriting.`),detectors[Ye]={detector:rt,loader:it},log.debug(`Detector with key ${Ye} added${it?" with loader":""}`)},"addDetector"),getDiagramLoader=__name(Ye=>detectors[Ye].loader,"getDiagramLoader"),assignWithDepth=__name((Ye,rt,{depth:it=2,clobber:lt=!1}={})=>{const ct={depth:it,clobber:lt};return Array.isArray(rt)&&!Array.isArray(Ye)?(rt.forEach(ut=>assignWithDepth(Ye,ut,ct)),Ye):Array.isArray(rt)&&Array.isArray(Ye)?(rt.forEach(ut=>{Ye.includes(ut)||Ye.push(ut)}),Ye):Ye===void 0||it<=0?Ye!=null&&typeof Ye=="object"&&typeof rt=="object"?Object.assign(Ye,rt):rt:(rt!==void 0&&typeof Ye=="object"&&typeof rt=="object"&&Object.keys(rt).forEach(ut=>{typeof rt[ut]=="object"&&(Ye[ut]===void 0||typeof Ye[ut]=="object")?(Ye[ut]===void 0&&(Ye[ut]=Array.isArray(rt[ut])?[]:{}),Ye[ut]=assignWithDepth(Ye[ut],rt[ut],{depth:it-1,clobber:lt})):(lt||typeof Ye[ut]!="object"&&typeof rt[ut]!="object")&&(Ye[ut]=rt[ut])}),Ye)},"assignWithDepth"),assignWithDepth_default=assignWithDepth,oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2",mkBorder=__name((Ye,rt)=>rt?adjust(Ye,{s:-40,l:10}):adjust(Ye,{s:-40,l:-10}),"mkBorder"),Ga,Theme=(Ga=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||darken(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10)):(this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScale"+it]=darken(this["cScale"+it],75);else for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScale"+it]=darken(this["cScale"+it],25);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleInv"+it]=this["cScaleInv"+it]||invert(this["cScale"+it]);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this.darkMode?this["cScalePeer"+it]=this["cScalePeer"+it]||lighten(this["cScale"+it],10):this["cScalePeer"+it]=this["cScalePeer"+it]||darken(this["cScale"+it],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleLabel"+it]=this["cScaleLabel"+it]||this.scaleLabelColor;const rt=this.darkMode?-4:-1;for(let it=0;it<5;it++)this["surface"+it]=this["surface"+it]||adjust(this.mainBkg,{h:180,s:-15,l:rt*(5+it*3)}),this["surfacePeer"+it]=this["surfacePeer"+it]||adjust(this.mainBkg,{h:180,s:-15,l:rt*(8+it*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(lt=>{this[lt]=rt[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=rt[lt]})}},__name(Ga,"Theme"),Ga),getThemeVariables=__name(Ye=>{const rt=new Theme;return rt.calculate(Ye),rt},"getThemeVariables"),Wa,Theme2=(Wa=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||invert(this["cScale"+rt]);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScalePeer"+rt]=this["cScalePeer"+rt]||lighten(this["cScale"+rt],10);for(let rt=0;rt<5;rt++)this["surface"+rt]=this["surface"+rt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+rt*4)}),this["surfacePeer"+rt]=this["surfacePeer"+rt]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+rt*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["pie"+rt]=this["cScale"+rt];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(lt=>{this[lt]=rt[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=rt[lt]})}},__name(Wa,"Theme"),Wa),getThemeVariables2=__name(Ye=>{const rt=new Theme2;return rt.calculate(Ye),rt},"getThemeVariables"),Ka,Theme3=(Ka=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken(this["cScale"+rt],10),this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken(this["cScale"+rt],25);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||adjust(this["cScale"+rt],{h:180});for(let rt=0;rt<5;rt++)this["surface"+rt]=this["surface"+rt]||adjust(this.mainBkg,{h:30,l:-(5+rt*5)}),this["surfacePeer"+rt]=this["surfacePeer"+rt]||adjust(this.mainBkg,{h:30,l:-(7+rt*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(Object.keys(this).forEach(lt=>{this[lt]==="calculated"&&(this[lt]=void 0)}),typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(lt=>{this[lt]=rt[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=rt[lt]})}},__name(Ka,"Theme"),Ka),getThemeVariables3=__name(Ye=>{const rt=new Theme3;return rt.calculate(Ye),rt},"getThemeVariables"),Za,Theme4=(Za=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken(this["cScale"+rt],10),this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken(this["cScale"+rt],25);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||adjust(this["cScale"+rt],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;for(let rt=0;rt<5;rt++)this["surface"+rt]=this["surface"+rt]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+rt*5)}),this["surfacePeer"+rt]=this["surfacePeer"+rt]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+rt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(lt=>{this[lt]=rt[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=rt[lt]})}},__name(Za,"Theme"),Za),getThemeVariables4=__name(Ye=>{const rt=new Theme4;return rt.calculate(Ye),rt},"getThemeVariables"),Ya,Theme5=(Ya=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||invert(this["cScale"+rt]);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this.darkMode?this["cScalePeer"+rt]=this["cScalePeer"+rt]||lighten(this["cScale"+rt],10):this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken(this["cScale"+rt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;for(let rt=0;rt<5;rt++)this["surface"+rt]=this["surface"+rt]||adjust(this.mainBkg,{l:-(5+rt*5)}),this["surfacePeer"+rt]=this["surfacePeer"+rt]||adjust(this.mainBkg,{l:-(8+rt*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["pie"+rt]=this["cScale"+rt];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(lt=>{this[lt]=rt[lt]}),this.updateColors(),it.forEach(lt=>{this[lt]=rt[lt]})}},__name(Ya,"Theme"),Ya),getThemeVariables5=__name(Ye=>{const rt=new Theme5;return rt.calculate(Ye),rt},"getThemeVariables"),themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:getThemeVariables5}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...config_schema_default.flowchart,inheritDir:!1},external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet},radar:{...config_schema_default.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},keyify=__name((Ye,rt="")=>Object.keys(Ye).reduce((it,lt)=>Array.isArray(Ye[lt])?it:typeof Ye[lt]=="object"&&Ye[lt]!==null?[...it,rt+lt,...keyify(Ye[lt],"")]:[...it,rt+lt],[]),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=__name(Ye=>{if(log.debug("sanitizeDirective called with",Ye),!(typeof Ye!="object"||Ye==null)){if(Array.isArray(Ye)){Ye.forEach(rt=>sanitizeDirective(rt));return}for(const rt of Object.keys(Ye)){if(log.debug("Checking key",rt),rt.startsWith("__")||rt.includes("proto")||rt.includes("constr")||!configKeys.has(rt)||Ye[rt]==null){log.debug("sanitize deleting key: ",rt),delete Ye[rt];continue}if(typeof Ye[rt]=="object"){log.debug("sanitizing object",rt),sanitizeDirective(Ye[rt]);continue}const it=["themeCSS","fontFamily","altFontFamily"];for(const lt of it)rt.includes(lt)&&(log.debug("sanitizing css option",rt),Ye[rt]=sanitizeCss(Ye[rt]))}if(Ye.themeVariables)for(const rt of Object.keys(Ye.themeVariables)){const it=Ye.themeVariables[rt];it?.match&&!it.match(/^[\d "#%(),.;A-Za-z]+$/)&&(Ye.themeVariables[rt]="")}log.debug("After sanitization",Ye)}},"sanitizeDirective"),sanitizeCss=__name(Ye=>{let rt=0,it=0;for(const lt of Ye){if(rt<it)return"{ /* ERROR: Unbalanced CSS */ }";lt==="{"?rt++:lt==="}"&&it++}return rt!==it?"{ /* ERROR: Unbalanced CSS */ }":Ye},"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=__name((Ye,rt)=>{let it=assignWithDepth_default({},Ye),lt={};for(const ct of rt)sanitize(ct),lt=assignWithDepth_default(lt,ct);if(it=assignWithDepth_default(it,lt),lt.theme&&lt.theme in themes_default){const ct=assignWithDepth_default({},configFromInitialize),ut=assignWithDepth_default(ct.themeVariables||{},lt.themeVariables);it.theme&&it.theme in themes_default&&(it.themeVariables=themes_default[it.theme].getThemeVariables(ut))}return currentConfig=it,checkConfig(currentConfig),currentConfig},"updateCurrentConfig"),setSiteConfig=__name(Ye=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,Ye),Ye.theme&&themes_default[Ye.theme]&&(siteConfig.themeVariables=themes_default[Ye.theme].getThemeVariables(Ye.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),"setSiteConfig"),saveConfigFromInitialize=__name(Ye=>{configFromInitialize=assignWithDepth_default({},Ye)},"saveConfigFromInitialize"),updateSiteConfig=__name(Ye=>(siteConfig=assignWithDepth_default(siteConfig,Ye),updateCurrentConfig(siteConfig,directives),siteConfig),"updateSiteConfig"),getSiteConfig=__name(()=>assignWithDepth_default({},siteConfig),"getSiteConfig"),setConfig=__name(Ye=>(checkConfig(Ye),assignWithDepth_default(currentConfig,Ye),getConfig()),"setConfig"),getConfig=__name(()=>assignWithDepth_default({},currentConfig),"getConfig"),sanitize=__name(Ye=>{Ye&&(["secure",...siteConfig.secure??[]].forEach(rt=>{Object.hasOwn(Ye,rt)&&(log.debug(`Denied attempt to modify a secure key ${rt}`,Ye[rt]),delete Ye[rt])}),Object.keys(Ye).forEach(rt=>{rt.startsWith("__")&&delete Ye[rt]}),Object.keys(Ye).forEach(rt=>{typeof Ye[rt]=="string"&&(Ye[rt].includes("<")||Ye[rt].includes(">")||Ye[rt].includes("url(data:"))&&delete Ye[rt],typeof Ye[rt]=="object"&&sanitize(Ye[rt])}))},"sanitize"),addDirective=__name(Ye=>{sanitizeDirective(Ye),Ye.fontFamily&&!Ye.themeVariables?.fontFamily&&(Ye.themeVariables={...Ye.themeVariables,fontFamily:Ye.fontFamily}),directives.push(Ye),updateCurrentConfig(siteConfig,directives)},"addDirective"),reset=__name((Ye=siteConfig)=>{directives=[],updateCurrentConfig(Ye,directives)},"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=__name(Ye=>{issuedWarnings[Ye]||(log.warn(ConfigWarning[Ye]),issuedWarnings[Ye]=!0)},"issueWarning"),checkConfig=__name(Ye=>{Ye&&(Ye.lazyLoadedDiagrams||Ye.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},"checkConfig"),getUserDefinedConfig=__name(()=>{let Ye={};configFromInitialize&&(Ye=assignWithDepth_default(Ye,configFromInitialize));for(const rt of directives)Ye=assignWithDepth_default(Ye,rt);return Ye},"getUserDefinedConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=__name(Ye=>Ye?breakToPlaceholder(Ye).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let Ye=!1;return()=>{Ye||(setupDompurifyHooks(),Ye=!0)}})();function setupDompurifyHooks(){const Ye="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",rt=>{rt.tagName==="A"&&rt.hasAttribute("target")&&rt.setAttribute(Ye,rt.getAttribute("target")??"")}),purify.addHook("afterSanitizeAttributes",rt=>{rt.tagName==="A"&&rt.hasAttribute(Ye)&&(rt.setAttribute("target",rt.getAttribute(Ye)??""),rt.removeAttribute(Ye),rt.getAttribute("target")==="_blank"&&rt.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=__name(Ye=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(Ye)),"removeScript"),sanitizeMore=__name((Ye,rt)=>{if(rt.flowchart?.htmlLabels!==!1){const it=rt.securityLevel;it==="antiscript"||it==="strict"?Ye=removeScript(Ye):it!=="loose"&&(Ye=breakToPlaceholder(Ye),Ye=Ye.replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ye=Ye.replace(/=/g,"&equals;"),Ye=placeholderToBreak(Ye))}return Ye},"sanitizeMore"),sanitizeText=__name((Ye,rt)=>Ye&&(rt.dompurifyConfig?Ye=purify.sanitize(sanitizeMore(Ye,rt),rt.dompurifyConfig).toString():Ye=purify.sanitize(sanitizeMore(Ye,rt),{FORBID_TAGS:["style"]}).toString(),Ye),"sanitizeText"),sanitizeTextOrArray=__name((Ye,rt)=>typeof Ye=="string"?sanitizeText(Ye,rt):Ye.flat().map(it=>sanitizeText(it,rt)),"sanitizeTextOrArray"),hasBreaks=__name(Ye=>lineBreakRegex.test(Ye),"hasBreaks"),splitBreaks=__name(Ye=>Ye.split(lineBreakRegex),"splitBreaks"),placeholderToBreak=__name(Ye=>Ye.replace(/#br#/g,"<br/>"),"placeholderToBreak"),breakToPlaceholder=__name(Ye=>Ye.replace(lineBreakRegex,"#br#"),"breakToPlaceholder"),getUrl=__name(Ye=>{let rt="";return Ye&&(rt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,rt=CSS.escape(rt)),rt},"getUrl"),evaluate=__name(Ye=>!(Ye===!1||["false","null","0"].includes(String(Ye).trim().toLowerCase())),"evaluate"),getMax=__name(function(...Ye){const rt=Ye.filter(it=>!isNaN(it));return Math.max(...rt)},"getMax"),getMin=__name(function(...Ye){const rt=Ye.filter(it=>!isNaN(it));return Math.min(...rt)},"getMin"),parseGenericTypes=__name(function(Ye){const rt=Ye.split(/(,)/),it=[];for(let lt=0;lt<rt.length;lt++){let ct=rt[lt];if(ct===","&&lt>0&&lt+1<rt.length){const ut=rt[lt-1],ht=rt[lt+1];shouldCombineSets(ut,ht)&&(ct=ut+","+ht,lt++,it.pop())}it.push(processSet(ct))}return it.join("")},"parseGenericTypes"),countOccurrence=__name((Ye,rt)=>Math.max(0,Ye.split(rt).length-1),"countOccurrence"),shouldCombineSets=__name((Ye,rt)=>{const it=countOccurrence(Ye,"~"),lt=countOccurrence(rt,"~");return it===1&&lt===1},"shouldCombineSets"),processSet=__name(Ye=>{const rt=countOccurrence(Ye,"~");let it=!1;if(rt<=1)return Ye;rt%2!==0&&Ye.startsWith("~")&&(Ye=Ye.substring(1),it=!0);const lt=[...Ye];let ct=lt.indexOf("~"),ut=lt.lastIndexOf("~");for(;ct!==-1&&ut!==-1&&ct!==ut;)lt[ct]="<",lt[ut]=">",ct=lt.indexOf("~"),ut=lt.lastIndexOf("~");return it&&lt.unshift("~"),lt.join("")},"processSet"),isMathMLSupported=__name(()=>window.MathMLElement!==void 0,"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=__name(Ye=>(Ye.match(katexRegex)?.length??0)>0,"hasKatex"),calculateMathMLDimensions=__name(async(Ye,rt)=>{const it=document.createElement("div");it.innerHTML=await renderKatexSanitized(Ye,rt),it.id="katex-temp",it.style.visibility="hidden",it.style.position="absolute",it.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",it);const ct={width:it.clientWidth,height:it.clientHeight};return it.remove(),ct},"calculateMathMLDimensions"),renderKatexUnsanitized=__name(async(Ye,rt)=>{if(!hasKatex(Ye))return Ye;if(!(isMathMLSupported()||rt.legacyMathML||rt.forceLegacyMathML))return Ye.replace(katexRegex,"MathML is unsupported in this environment.");{const{default:it}=await __vitePreload(async()=>{const{default:ct}=await import("./katex-qrhCpa0F.js");return{default:ct}},[],import.meta.url),lt=rt.forceLegacyMathML||!isMathMLSupported()&&rt.legacyMathML?"htmlAndMathml":"mathml";return Ye.split(lineBreakRegex).map(ct=>hasKatex(ct)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${ct}</div>`:`<div>${ct}</div>`).join("").replace(katexRegex,(ct,ut)=>it.renderToString(ut,{throwOnError:!0,displayMode:!0,output:lt}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),renderKatexSanitized=__name(async(Ye,rt)=>sanitizeText(await renderKatexUnsanitized(Ye,rt),rt),"renderKatexSanitized"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=__name(function(Ye,rt){for(let it of rt)Ye.attr(it[0],it[1])},"d3Attrs"),calculateSvgSizeAttrs=__name(function(Ye,rt,it){let lt=new Map;return it?(lt.set("width","100%"),lt.set("style",`max-width: ${rt}px;`)):(lt.set("height",Ye),lt.set("width",rt)),lt},"calculateSvgSizeAttrs"),configureSvgSize=__name(function(Ye,rt,it,lt){const ct=calculateSvgSizeAttrs(rt,it,lt);d3Attrs(Ye,ct)},"configureSvgSize"),setupGraphViewbox=__name(function(Ye,rt,it,lt){const ct=rt.node().getBBox(),ut=ct.width,ht=ct.height;log.info(`SVG bounds: ${ut}x${ht}`,ct);let ft=0,pt=0;log.info(`Graph bounds: ${ft}x${pt}`,Ye),ft=ut+it*2,pt=ht+it*2,log.info(`Calculated bounds: ${ft}x${pt}`),configureSvgSize(rt,pt,ft,lt);const mt=`${ct.x-it} ${ct.y-it} ${ct.width+2*it} ${ct.height+2*it}`;rt.attr("viewBox",mt)},"setupGraphViewbox"),themes={},getStyles=__name((Ye,rt,it)=>{let lt="";return Ye in themes&&themes[Ye]?lt=themes[Ye](it):log.warn(`No theme found for ${Ye}`),` & {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
    fill: ${it.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${it.errorBkgColor};
  }
  & .error-text {
    fill: ${it.errorTextColor};
    stroke: ${it.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${it.lineColor};
    stroke: ${it.lineColor};
  }
  & .marker.cross {
    stroke: ${it.lineColor};
  }

  & svg {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
  }
   & p {
    margin: 0
   }

  ${lt}

  ${rt}
`},"getStyles"),addStylesForDiagram=__name((Ye,rt)=>{rt!==void 0&&(themes[Ye]=rt)},"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};__export(commonDb_exports,{clear:()=>clear$2,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=__name(Ye=>sanitizeText(Ye,getConfig()),"sanitizeText"),clear$2=__name(()=>{accTitle="",accDescription="",diagramTitle=""},"clear"),setAccTitle=__name(Ye=>{accTitle=sanitizeText2(Ye).replace(/^\s+/g,"")},"setAccTitle"),getAccTitle=__name(()=>accTitle,"getAccTitle"),setAccDescription=__name(Ye=>{accDescription=sanitizeText2(Ye).replace(/\n\s+/g,`
`)},"setAccDescription"),getAccDescription=__name(()=>accDescription,"getAccDescription"),setDiagramTitle=__name(Ye=>{diagramTitle=sanitizeText2(Ye)},"setDiagramTitle"),getDiagramTitle=__name(()=>diagramTitle,"getDiagramTitle"),log2=log,setLogLevel2=setLogLevel,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=__name(Ye=>sanitizeText(Ye,getConfig2()),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=__name(()=>commonDb_exports,"getCommonDb"),diagrams={},registerDiagram=__name((Ye,rt,it)=>{diagrams[Ye]&&log2.warn(`Diagram with id ${Ye} already registered. Overwriting.`),diagrams[Ye]=rt,it&&addDetector(Ye,it),addStylesForDiagram(Ye,rt.styles),rt.injectUtils?.(log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),()=>{})},"registerDiagram"),getDiagram=__name(Ye=>{if(Ye in diagrams)return diagrams[Ye];throw new DiagramNotFoundError(Ye)},"getDiagram"),Xa,DiagramNotFoundError=(Xa=class extends Error{constructor(rt){super(`Diagram ${rt} not found.`)}},__name(Xa,"DiagramNotFoundError"),Xa),noop$1={value:()=>{}};function dispatch(){for(var Ye=0,rt=arguments.length,it={},lt;Ye<rt;++Ye){if(!(lt=arguments[Ye]+"")||lt in it||/[\s.]/.test(lt))throw new Error("illegal type: "+lt);it[lt]=[]}return new Dispatch(it)}function Dispatch(Ye){this._=Ye}function parseTypenames$1(Ye,rt){return Ye.trim().split(/^|\s+/).map(function(it){var lt="",ct=it.indexOf(".");if(ct>=0&&(lt=it.slice(ct+1),it=it.slice(0,ct)),it&&!rt.hasOwnProperty(it))throw new Error("unknown type: "+it);return{type:it,name:lt}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(Ye,rt){var it=this._,lt=parseTypenames$1(Ye+"",it),ct,ut=-1,ht=lt.length;if(arguments.length<2){for(;++ut<ht;)if((ct=(Ye=lt[ut]).type)&&(ct=get$1(it[ct],Ye.name)))return ct;return}if(rt!=null&&typeof rt!="function")throw new Error("invalid callback: "+rt);for(;++ut<ht;)if(ct=(Ye=lt[ut]).type)it[ct]=set$2(it[ct],Ye.name,rt);else if(rt==null)for(ct in it)it[ct]=set$2(it[ct],Ye.name,null);return this},copy:function(){var Ye={},rt=this._;for(var it in rt)Ye[it]=rt[it].slice();return new Dispatch(Ye)},call:function(Ye,rt){if((ct=arguments.length-2)>0)for(var it=new Array(ct),lt=0,ct,ut;lt<ct;++lt)it[lt]=arguments[lt+2];if(!this._.hasOwnProperty(Ye))throw new Error("unknown type: "+Ye);for(ut=this._[Ye],lt=0,ct=ut.length;lt<ct;++lt)ut[lt].value.apply(rt,it)},apply:function(Ye,rt,it){if(!this._.hasOwnProperty(Ye))throw new Error("unknown type: "+Ye);for(var lt=this._[Ye],ct=0,ut=lt.length;ct<ut;++ct)lt[ct].value.apply(rt,it)}};function get$1(Ye,rt){for(var it=0,lt=Ye.length,ct;it<lt;++it)if((ct=Ye[it]).name===rt)return ct.value}function set$2(Ye,rt,it){for(var lt=0,ct=Ye.length;lt<ct;++lt)if(Ye[lt].name===rt){Ye[lt]=noop$1,Ye=Ye.slice(0,lt).concat(Ye.slice(lt+1));break}return it!=null&&Ye.push({name:rt,value:it}),Ye}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(Ye){var rt=Ye+="",it=rt.indexOf(":");return it>=0&&(rt=Ye.slice(0,it))!=="xmlns"&&(Ye=Ye.slice(it+1)),namespaces.hasOwnProperty(rt)?{space:namespaces[rt],local:Ye}:Ye}function creatorInherit(Ye){return function(){var rt=this.ownerDocument,it=this.namespaceURI;return it===xhtml&&rt.documentElement.namespaceURI===xhtml?rt.createElement(Ye):rt.createElementNS(it,Ye)}}function creatorFixed(Ye){return function(){return this.ownerDocument.createElementNS(Ye.space,Ye.local)}}function creator(Ye){var rt=namespace(Ye);return(rt.local?creatorFixed:creatorInherit)(rt)}function none(){}function selector(Ye){return Ye==null?none:function(){return this.querySelector(Ye)}}function selection_select(Ye){typeof Ye!="function"&&(Ye=selector(Ye));for(var rt=this._groups,it=rt.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ut=rt[ct],ht=ut.length,ft=lt[ct]=new Array(ht),pt,mt,gt=0;gt<ht;++gt)(pt=ut[gt])&&(mt=Ye.call(pt,pt.__data__,gt,ut))&&("__data__"in pt&&(mt.__data__=pt.__data__),ft[gt]=mt);return new Selection$1(lt,this._parents)}function array$1(Ye){return Ye==null?[]:Array.isArray(Ye)?Ye:Array.from(Ye)}function empty$1(){return[]}function selectorAll(Ye){return Ye==null?empty$1:function(){return this.querySelectorAll(Ye)}}function arrayAll(Ye){return function(){return array$1(Ye.apply(this,arguments))}}function selection_selectAll(Ye){typeof Ye=="function"?Ye=arrayAll(Ye):Ye=selectorAll(Ye);for(var rt=this._groups,it=rt.length,lt=[],ct=[],ut=0;ut<it;++ut)for(var ht=rt[ut],ft=ht.length,pt,mt=0;mt<ft;++mt)(pt=ht[mt])&&(lt.push(Ye.call(pt,pt.__data__,mt,ht)),ct.push(pt));return new Selection$1(lt,ct)}function matcher(Ye){return function(){return this.matches(Ye)}}function childMatcher(Ye){return function(rt){return rt.matches(Ye)}}var find=Array.prototype.find;function childFind(Ye){return function(){return find.call(this.children,Ye)}}function childFirst(){return this.firstElementChild}function selection_selectChild(Ye){return this.select(Ye==null?childFirst:childFind(typeof Ye=="function"?Ye:childMatcher(Ye)))}var filter$4=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(Ye){return function(){return filter$4.call(this.children,Ye)}}function selection_selectChildren(Ye){return this.selectAll(Ye==null?children:childrenFilter(typeof Ye=="function"?Ye:childMatcher(Ye)))}function selection_filter(Ye){typeof Ye!="function"&&(Ye=matcher(Ye));for(var rt=this._groups,it=rt.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ut=rt[ct],ht=ut.length,ft=lt[ct]=[],pt,mt=0;mt<ht;++mt)(pt=ut[mt])&&Ye.call(pt,pt.__data__,mt,ut)&&ft.push(pt);return new Selection$1(lt,this._parents)}function sparse(Ye){return new Array(Ye.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(Ye,rt){this.ownerDocument=Ye.ownerDocument,this.namespaceURI=Ye.namespaceURI,this._next=null,this._parent=Ye,this.__data__=rt}EnterNode.prototype={constructor:EnterNode,appendChild:function(Ye){return this._parent.insertBefore(Ye,this._next)},insertBefore:function(Ye,rt){return this._parent.insertBefore(Ye,rt)},querySelector:function(Ye){return this._parent.querySelector(Ye)},querySelectorAll:function(Ye){return this._parent.querySelectorAll(Ye)}};function constant$3(Ye){return function(){return Ye}}function bindIndex(Ye,rt,it,lt,ct,ut){for(var ht=0,ft,pt=rt.length,mt=ut.length;ht<mt;++ht)(ft=rt[ht])?(ft.__data__=ut[ht],lt[ht]=ft):it[ht]=new EnterNode(Ye,ut[ht]);for(;ht<pt;++ht)(ft=rt[ht])&&(ct[ht]=ft)}function bindKey(Ye,rt,it,lt,ct,ut,ht){var ft,pt,mt=new Map,gt=rt.length,yt=ut.length,xt=new Array(gt),bt;for(ft=0;ft<gt;++ft)(pt=rt[ft])&&(xt[ft]=bt=ht.call(pt,pt.__data__,ft,rt)+"",mt.has(bt)?ct[ft]=pt:mt.set(bt,pt));for(ft=0;ft<yt;++ft)bt=ht.call(Ye,ut[ft],ft,ut)+"",(pt=mt.get(bt))?(lt[ft]=pt,pt.__data__=ut[ft],mt.delete(bt)):it[ft]=new EnterNode(Ye,ut[ft]);for(ft=0;ft<gt;++ft)(pt=rt[ft])&&mt.get(xt[ft])===pt&&(ct[ft]=pt)}function datum(Ye){return Ye.__data__}function selection_data(Ye,rt){if(!arguments.length)return Array.from(this,datum);var it=rt?bindKey:bindIndex,lt=this._parents,ct=this._groups;typeof Ye!="function"&&(Ye=constant$3(Ye));for(var ut=ct.length,ht=new Array(ut),ft=new Array(ut),pt=new Array(ut),mt=0;mt<ut;++mt){var gt=lt[mt],yt=ct[mt],xt=yt.length,bt=arraylike(Ye.call(gt,gt&&gt.__data__,mt,lt)),_t=bt.length,Ct=ft[mt]=new Array(_t),kt=ht[mt]=new Array(_t),St=pt[mt]=new Array(xt);it(gt,yt,Ct,kt,St,bt,rt);for(var Rt=0,Tt=0,Mt,Pt;Rt<_t;++Rt)if(Mt=Ct[Rt]){for(Rt>=Tt&&(Tt=Rt+1);!(Pt=kt[Tt])&&++Tt<_t;);Mt._next=Pt||null}}return ht=new Selection$1(ht,lt),ht._enter=ft,ht._exit=pt,ht}function arraylike(Ye){return typeof Ye=="object"&&"length"in Ye?Ye:Array.from(Ye)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(Ye,rt,it){var lt=this.enter(),ct=this,ut=this.exit();return typeof Ye=="function"?(lt=Ye(lt),lt&&(lt=lt.selection())):lt=lt.append(Ye+""),rt!=null&&(ct=rt(ct),ct&&(ct=ct.selection())),it==null?ut.remove():it(ut),lt&&ct?lt.merge(ct).order():ct}function selection_merge(Ye){for(var rt=Ye.selection?Ye.selection():Ye,it=this._groups,lt=rt._groups,ct=it.length,ut=lt.length,ht=Math.min(ct,ut),ft=new Array(ct),pt=0;pt<ht;++pt)for(var mt=it[pt],gt=lt[pt],yt=mt.length,xt=ft[pt]=new Array(yt),bt,_t=0;_t<yt;++_t)(bt=mt[_t]||gt[_t])&&(xt[_t]=bt);for(;pt<ct;++pt)ft[pt]=it[pt];return new Selection$1(ft,this._parents)}function selection_order(){for(var Ye=this._groups,rt=-1,it=Ye.length;++rt<it;)for(var lt=Ye[rt],ct=lt.length-1,ut=lt[ct],ht;--ct>=0;)(ht=lt[ct])&&(ut&&ht.compareDocumentPosition(ut)^4&&ut.parentNode.insertBefore(ht,ut),ut=ht);return this}function selection_sort(Ye){Ye||(Ye=ascending);function rt(yt,xt){return yt&&xt?Ye(yt.__data__,xt.__data__):!yt-!xt}for(var it=this._groups,lt=it.length,ct=new Array(lt),ut=0;ut<lt;++ut){for(var ht=it[ut],ft=ht.length,pt=ct[ut]=new Array(ft),mt,gt=0;gt<ft;++gt)(mt=ht[gt])&&(pt[gt]=mt);pt.sort(rt)}return new Selection$1(ct,this._parents).order()}function ascending(Ye,rt){return Ye<rt?-1:Ye>rt?1:Ye>=rt?0:NaN}function selection_call(){var Ye=arguments[0];return arguments[0]=this,Ye.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var Ye=this._groups,rt=0,it=Ye.length;rt<it;++rt)for(var lt=Ye[rt],ct=0,ut=lt.length;ct<ut;++ct){var ht=lt[ct];if(ht)return ht}return null}function selection_size(){let Ye=0;for(const rt of this)++Ye;return Ye}function selection_empty(){return!this.node()}function selection_each(Ye){for(var rt=this._groups,it=0,lt=rt.length;it<lt;++it)for(var ct=rt[it],ut=0,ht=ct.length,ft;ut<ht;++ut)(ft=ct[ut])&&Ye.call(ft,ft.__data__,ut,ct);return this}function attrRemove$1(Ye){return function(){this.removeAttribute(Ye)}}function attrRemoveNS$1(Ye){return function(){this.removeAttributeNS(Ye.space,Ye.local)}}function attrConstant$1(Ye,rt){return function(){this.setAttribute(Ye,rt)}}function attrConstantNS$1(Ye,rt){return function(){this.setAttributeNS(Ye.space,Ye.local,rt)}}function attrFunction$1(Ye,rt){return function(){var it=rt.apply(this,arguments);it==null?this.removeAttribute(Ye):this.setAttribute(Ye,it)}}function attrFunctionNS$1(Ye,rt){return function(){var it=rt.apply(this,arguments);it==null?this.removeAttributeNS(Ye.space,Ye.local):this.setAttributeNS(Ye.space,Ye.local,it)}}function selection_attr(Ye,rt){var it=namespace(Ye);if(arguments.length<2){var lt=this.node();return it.local?lt.getAttributeNS(it.space,it.local):lt.getAttribute(it)}return this.each((rt==null?it.local?attrRemoveNS$1:attrRemove$1:typeof rt=="function"?it.local?attrFunctionNS$1:attrFunction$1:it.local?attrConstantNS$1:attrConstant$1)(it,rt))}function defaultView(Ye){return Ye.ownerDocument&&Ye.ownerDocument.defaultView||Ye.document&&Ye||Ye.defaultView}function styleRemove$1(Ye){return function(){this.style.removeProperty(Ye)}}function styleConstant$1(Ye,rt,it){return function(){this.style.setProperty(Ye,rt,it)}}function styleFunction$1(Ye,rt,it){return function(){var lt=rt.apply(this,arguments);lt==null?this.style.removeProperty(Ye):this.style.setProperty(Ye,lt,it)}}function selection_style(Ye,rt,it){return arguments.length>1?this.each((rt==null?styleRemove$1:typeof rt=="function"?styleFunction$1:styleConstant$1)(Ye,rt,it??"")):styleValue(this.node(),Ye)}function styleValue(Ye,rt){return Ye.style.getPropertyValue(rt)||defaultView(Ye).getComputedStyle(Ye,null).getPropertyValue(rt)}function propertyRemove(Ye){return function(){delete this[Ye]}}function propertyConstant(Ye,rt){return function(){this[Ye]=rt}}function propertyFunction(Ye,rt){return function(){var it=rt.apply(this,arguments);it==null?delete this[Ye]:this[Ye]=it}}function selection_property(Ye,rt){return arguments.length>1?this.each((rt==null?propertyRemove:typeof rt=="function"?propertyFunction:propertyConstant)(Ye,rt)):this.node()[Ye]}function classArray(Ye){return Ye.trim().split(/^|\s+/)}function classList(Ye){return Ye.classList||new ClassList(Ye)}function ClassList(Ye){this._node=Ye,this._names=classArray(Ye.getAttribute("class")||"")}ClassList.prototype={add:function(Ye){var rt=this._names.indexOf(Ye);rt<0&&(this._names.push(Ye),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Ye){var rt=this._names.indexOf(Ye);rt>=0&&(this._names.splice(rt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Ye){return this._names.indexOf(Ye)>=0}};function classedAdd(Ye,rt){for(var it=classList(Ye),lt=-1,ct=rt.length;++lt<ct;)it.add(rt[lt])}function classedRemove(Ye,rt){for(var it=classList(Ye),lt=-1,ct=rt.length;++lt<ct;)it.remove(rt[lt])}function classedTrue(Ye){return function(){classedAdd(this,Ye)}}function classedFalse(Ye){return function(){classedRemove(this,Ye)}}function classedFunction(Ye,rt){return function(){(rt.apply(this,arguments)?classedAdd:classedRemove)(this,Ye)}}function selection_classed(Ye,rt){var it=classArray(Ye+"");if(arguments.length<2){for(var lt=classList(this.node()),ct=-1,ut=it.length;++ct<ut;)if(!lt.contains(it[ct]))return!1;return!0}return this.each((typeof rt=="function"?classedFunction:rt?classedTrue:classedFalse)(it,rt))}function textRemove(){this.textContent=""}function textConstant$1(Ye){return function(){this.textContent=Ye}}function textFunction$1(Ye){return function(){var rt=Ye.apply(this,arguments);this.textContent=rt??""}}function selection_text(Ye){return arguments.length?this.each(Ye==null?textRemove:(typeof Ye=="function"?textFunction$1:textConstant$1)(Ye)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(Ye){return function(){this.innerHTML=Ye}}function htmlFunction(Ye){return function(){var rt=Ye.apply(this,arguments);this.innerHTML=rt??""}}function selection_html(Ye){return arguments.length?this.each(Ye==null?htmlRemove:(typeof Ye=="function"?htmlFunction:htmlConstant)(Ye)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(Ye){var rt=typeof Ye=="function"?Ye:creator(Ye);return this.select(function(){return this.appendChild(rt.apply(this,arguments))})}function constantNull(){return null}function selection_insert(Ye,rt){var it=typeof Ye=="function"?Ye:creator(Ye),lt=rt==null?constantNull:typeof rt=="function"?rt:selector(rt);return this.select(function(){return this.insertBefore(it.apply(this,arguments),lt.apply(this,arguments)||null)})}function remove(){var Ye=this.parentNode;Ye&&Ye.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var Ye=this.cloneNode(!1),rt=this.parentNode;return rt?rt.insertBefore(Ye,this.nextSibling):Ye}function selection_cloneDeep(){var Ye=this.cloneNode(!0),rt=this.parentNode;return rt?rt.insertBefore(Ye,this.nextSibling):Ye}function selection_clone(Ye){return this.select(Ye?selection_cloneDeep:selection_cloneShallow)}function selection_datum(Ye){return arguments.length?this.property("__data__",Ye):this.node().__data__}function contextListener(Ye){return function(rt){Ye.call(this,rt,this.__data__)}}function parseTypenames(Ye){return Ye.trim().split(/^|\s+/).map(function(rt){var it="",lt=rt.indexOf(".");return lt>=0&&(it=rt.slice(lt+1),rt=rt.slice(0,lt)),{type:rt,name:it}})}function onRemove(Ye){return function(){var rt=this.__on;if(rt){for(var it=0,lt=-1,ct=rt.length,ut;it<ct;++it)ut=rt[it],(!Ye.type||ut.type===Ye.type)&&ut.name===Ye.name?this.removeEventListener(ut.type,ut.listener,ut.options):rt[++lt]=ut;++lt?rt.length=lt:delete this.__on}}}function onAdd(Ye,rt,it){return function(){var lt=this.__on,ct,ut=contextListener(rt);if(lt){for(var ht=0,ft=lt.length;ht<ft;++ht)if((ct=lt[ht]).type===Ye.type&&ct.name===Ye.name){this.removeEventListener(ct.type,ct.listener,ct.options),this.addEventListener(ct.type,ct.listener=ut,ct.options=it),ct.value=rt;return}}this.addEventListener(Ye.type,ut,it),ct={type:Ye.type,name:Ye.name,value:rt,listener:ut,options:it},lt?lt.push(ct):this.__on=[ct]}}function selection_on(Ye,rt,it){var lt=parseTypenames(Ye+""),ct,ut=lt.length,ht;if(arguments.length<2){var ft=this.node().__on;if(ft){for(var pt=0,mt=ft.length,gt;pt<mt;++pt)for(ct=0,gt=ft[pt];ct<ut;++ct)if((ht=lt[ct]).type===gt.type&&ht.name===gt.name)return gt.value}return}for(ft=rt?onAdd:onRemove,ct=0;ct<ut;++ct)this.each(ft(lt[ct],rt,it));return this}function dispatchEvent(Ye,rt,it){var lt=defaultView(Ye),ct=lt.CustomEvent;typeof ct=="function"?ct=new ct(rt,it):(ct=lt.document.createEvent("Event"),it?(ct.initEvent(rt,it.bubbles,it.cancelable),ct.detail=it.detail):ct.initEvent(rt,!1,!1)),Ye.dispatchEvent(ct)}function dispatchConstant(Ye,rt){return function(){return dispatchEvent(this,Ye,rt)}}function dispatchFunction(Ye,rt){return function(){return dispatchEvent(this,Ye,rt.apply(this,arguments))}}function selection_dispatch(Ye,rt){return this.each((typeof rt=="function"?dispatchFunction:dispatchConstant)(Ye,rt))}function*selection_iterator(){for(var Ye=this._groups,rt=0,it=Ye.length;rt<it;++rt)for(var lt=Ye[rt],ct=0,ut=lt.length,ht;ct<ut;++ct)(ht=lt[ct])&&(yield ht)}var root$4=[null];function Selection$1(Ye,rt){this._groups=Ye,this._parents=rt}function selection(){return new Selection$1([[document.documentElement]],root$4)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(Ye){return typeof Ye=="string"?new Selection$1([[document.querySelector(Ye)]],[document.documentElement]):new Selection$1([[Ye]],root$4)}function define(Ye,rt,it){Ye.prototype=rt.prototype=it,it.constructor=Ye}function extend$3(Ye,rt){var it=Object.create(Ye.prototype);for(var lt in rt)it[lt]=rt[lt];return it}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(Ye){return Object.assign(new this.constructor,this,Ye)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(Ye){var rt,it;return Ye=(Ye+"").trim().toLowerCase(),(rt=reHex.exec(Ye))?(it=rt[1].length,rt=parseInt(rt[1],16),it===6?rgbn(rt):it===3?new Rgb(rt>>8&15|rt>>4&240,rt>>4&15|rt&240,(rt&15)<<4|rt&15,1):it===8?rgba(rt>>24&255,rt>>16&255,rt>>8&255,(rt&255)/255):it===4?rgba(rt>>12&15|rt>>8&240,rt>>8&15|rt>>4&240,rt>>4&15|rt&240,((rt&15)<<4|rt&15)/255):null):(rt=reRgbInteger.exec(Ye))?new Rgb(rt[1],rt[2],rt[3],1):(rt=reRgbPercent.exec(Ye))?new Rgb(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,1):(rt=reRgbaInteger.exec(Ye))?rgba(rt[1],rt[2],rt[3],rt[4]):(rt=reRgbaPercent.exec(Ye))?rgba(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,rt[4]):(rt=reHslPercent.exec(Ye))?hsla(rt[1],rt[2]/100,rt[3]/100,1):(rt=reHslaPercent.exec(Ye))?hsla(rt[1],rt[2]/100,rt[3]/100,rt[4]):named.hasOwnProperty(Ye)?rgbn(named[Ye]):Ye==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Ye){return new Rgb(Ye>>16&255,Ye>>8&255,Ye&255,1)}function rgba(Ye,rt,it,lt){return lt<=0&&(Ye=rt=it=NaN),new Rgb(Ye,rt,it,lt)}function rgbConvert(Ye){return Ye instanceof Color||(Ye=color$1(Ye)),Ye?(Ye=Ye.rgb(),new Rgb(Ye.r,Ye.g,Ye.b,Ye.opacity)):new Rgb}function rgb(Ye,rt,it,lt){return arguments.length===1?rgbConvert(Ye):new Rgb(Ye,rt,it,lt??1)}function Rgb(Ye,rt,it,lt){this.r=+Ye,this.g=+rt,this.b=+it,this.opacity=+lt}define(Rgb,rgb,extend$3(Color,{brighter(Ye){return Ye=Ye==null?brighter:Math.pow(brighter,Ye),new Rgb(this.r*Ye,this.g*Ye,this.b*Ye,this.opacity)},darker(Ye){return Ye=Ye==null?darker:Math.pow(darker,Ye),new Rgb(this.r*Ye,this.g*Ye,this.b*Ye,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Ye=clampa(this.opacity);return`${Ye===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Ye===1?")":`, ${Ye})`}`}function clampa(Ye){return isNaN(Ye)?1:Math.max(0,Math.min(1,Ye))}function clampi(Ye){return Math.max(0,Math.min(255,Math.round(Ye)||0))}function hex(Ye){return Ye=clampi(Ye),(Ye<16?"0":"")+Ye.toString(16)}function hsla(Ye,rt,it,lt){return lt<=0?Ye=rt=it=NaN:it<=0||it>=1?Ye=rt=NaN:rt<=0&&(Ye=NaN),new Hsl(Ye,rt,it,lt)}function hslConvert(Ye){if(Ye instanceof Hsl)return new Hsl(Ye.h,Ye.s,Ye.l,Ye.opacity);if(Ye instanceof Color||(Ye=color$1(Ye)),!Ye)return new Hsl;if(Ye instanceof Hsl)return Ye;Ye=Ye.rgb();var rt=Ye.r/255,it=Ye.g/255,lt=Ye.b/255,ct=Math.min(rt,it,lt),ut=Math.max(rt,it,lt),ht=NaN,ft=ut-ct,pt=(ut+ct)/2;return ft?(rt===ut?ht=(it-lt)/ft+(it<lt)*6:it===ut?ht=(lt-rt)/ft+2:ht=(rt-it)/ft+4,ft/=pt<.5?ut+ct:2-ut-ct,ht*=60):ft=pt>0&&pt<1?0:ht,new Hsl(ht,ft,pt,Ye.opacity)}function hsl(Ye,rt,it,lt){return arguments.length===1?hslConvert(Ye):new Hsl(Ye,rt,it,lt??1)}function Hsl(Ye,rt,it,lt){this.h=+Ye,this.s=+rt,this.l=+it,this.opacity=+lt}define(Hsl,hsl,extend$3(Color,{brighter(Ye){return Ye=Ye==null?brighter:Math.pow(brighter,Ye),new Hsl(this.h,this.s,this.l*Ye,this.opacity)},darker(Ye){return Ye=Ye==null?darker:Math.pow(darker,Ye),new Hsl(this.h,this.s,this.l*Ye,this.opacity)},rgb(){var Ye=this.h%360+(this.h<0)*360,rt=isNaN(Ye)||isNaN(this.s)?0:this.s,it=this.l,lt=it+(it<.5?it:1-it)*rt,ct=2*it-lt;return new Rgb(hsl2rgb(Ye>=240?Ye-240:Ye+120,ct,lt),hsl2rgb(Ye,ct,lt),hsl2rgb(Ye<120?Ye+240:Ye-120,ct,lt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Ye=clampa(this.opacity);return`${Ye===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Ye===1?")":`, ${Ye})`}`}}));function clamph(Ye){return Ye=(Ye||0)%360,Ye<0?Ye+360:Ye}function clampt(Ye){return Math.max(0,Math.min(1,Ye||0))}function hsl2rgb(Ye,rt,it){return(Ye<60?rt+(it-rt)*Ye/60:Ye<180?it:Ye<240?rt+(it-rt)*(240-Ye)/60:rt)*255}const constant$2=Ye=>()=>Ye;function linear(Ye,rt){return function(it){return Ye+it*rt}}function exponential(Ye,rt,it){return Ye=Math.pow(Ye,it),rt=Math.pow(rt,it)-Ye,it=1/it,function(lt){return Math.pow(Ye+lt*rt,it)}}function hue(Ye,rt){var it=rt-Ye;return it?linear(Ye,it>180||it<-180?it-360*Math.round(it/360):it):constant$2(isNaN(Ye)?rt:Ye)}function gamma(Ye){return(Ye=+Ye)==1?nogamma:function(rt,it){return it-rt?exponential(rt,it,Ye):constant$2(isNaN(rt)?it:rt)}}function nogamma(Ye,rt){var it=rt-Ye;return it?linear(Ye,it):constant$2(isNaN(Ye)?rt:Ye)}const interpolateRgb=(function Ye(rt){var it=gamma(rt);function lt(ct,ut){var ht=it((ct=rgb(ct)).r,(ut=rgb(ut)).r),ft=it(ct.g,ut.g),pt=it(ct.b,ut.b),mt=nogamma(ct.opacity,ut.opacity);return function(gt){return ct.r=ht(gt),ct.g=ft(gt),ct.b=pt(gt),ct.opacity=mt(gt),ct+""}}return lt.gamma=Ye,lt})(1);function interpolateNumber(Ye,rt){return Ye=+Ye,rt=+rt,function(it){return Ye*(1-it)+rt*it}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Ye){return function(){return Ye}}function one$2(Ye){return function(rt){return Ye(rt)+""}}function interpolateString(Ye,rt){var it=reA.lastIndex=reB.lastIndex=0,lt,ct,ut,ht=-1,ft=[],pt=[];for(Ye=Ye+"",rt=rt+"";(lt=reA.exec(Ye))&&(ct=reB.exec(rt));)(ut=ct.index)>it&&(ut=rt.slice(it,ut),ft[ht]?ft[ht]+=ut:ft[++ht]=ut),(lt=lt[0])===(ct=ct[0])?ft[ht]?ft[ht]+=ct:ft[++ht]=ct:(ft[++ht]=null,pt.push({i:ht,x:interpolateNumber(lt,ct)})),it=reB.lastIndex;return it<rt.length&&(ut=rt.slice(it),ft[ht]?ft[ht]+=ut:ft[++ht]=ut),ft.length<2?pt[0]?one$2(pt[0].x):zero(rt):(rt=pt.length,function(mt){for(var gt=0,yt;gt<rt;++gt)ft[(yt=pt[gt]).i]=yt.x(mt);return ft.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(Ye,rt,it,lt,ct,ut){var ht,ft,pt;return(ht=Math.sqrt(Ye*Ye+rt*rt))&&(Ye/=ht,rt/=ht),(pt=Ye*it+rt*lt)&&(it-=Ye*pt,lt-=rt*pt),(ft=Math.sqrt(it*it+lt*lt))&&(it/=ft,lt/=ft,pt/=ft),Ye*lt<rt*it&&(Ye=-Ye,rt=-rt,pt=-pt,ht=-ht),{translateX:ct,translateY:ut,rotate:Math.atan2(rt,Ye)*degrees,skewX:Math.atan(pt)*degrees,scaleX:ht,scaleY:ft}}var svgNode;function parseCss(Ye){const rt=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(Ye+"");return rt.isIdentity?identity$1:decompose(rt.a,rt.b,rt.c,rt.d,rt.e,rt.f)}function parseSvg(Ye){return Ye==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",Ye),!(Ye=svgNode.transform.baseVal.consolidate()))?identity$1:(Ye=Ye.matrix,decompose(Ye.a,Ye.b,Ye.c,Ye.d,Ye.e,Ye.f))}function interpolateTransform(Ye,rt,it,lt){function ct(mt){return mt.length?mt.pop()+" ":""}function ut(mt,gt,yt,xt,bt,_t){if(mt!==yt||gt!==xt){var Ct=bt.push("translate(",null,rt,null,it);_t.push({i:Ct-4,x:interpolateNumber(mt,yt)},{i:Ct-2,x:interpolateNumber(gt,xt)})}else(yt||xt)&&bt.push("translate("+yt+rt+xt+it)}function ht(mt,gt,yt,xt){mt!==gt?(mt-gt>180?gt+=360:gt-mt>180&&(mt+=360),xt.push({i:yt.push(ct(yt)+"rotate(",null,lt)-2,x:interpolateNumber(mt,gt)})):gt&&yt.push(ct(yt)+"rotate("+gt+lt)}function ft(mt,gt,yt,xt){mt!==gt?xt.push({i:yt.push(ct(yt)+"skewX(",null,lt)-2,x:interpolateNumber(mt,gt)}):gt&&yt.push(ct(yt)+"skewX("+gt+lt)}function pt(mt,gt,yt,xt,bt,_t){if(mt!==yt||gt!==xt){var Ct=bt.push(ct(bt)+"scale(",null,",",null,")");_t.push({i:Ct-4,x:interpolateNumber(mt,yt)},{i:Ct-2,x:interpolateNumber(gt,xt)})}else(yt!==1||xt!==1)&&bt.push(ct(bt)+"scale("+yt+","+xt+")")}return function(mt,gt){var yt=[],xt=[];return mt=Ye(mt),gt=Ye(gt),ut(mt.translateX,mt.translateY,gt.translateX,gt.translateY,yt,xt),ht(mt.rotate,gt.rotate,yt,xt),ft(mt.skewX,gt.skewX,yt,xt),pt(mt.scaleX,mt.scaleY,gt.scaleX,gt.scaleY,yt,xt),mt=gt=null,function(bt){for(var _t=-1,Ct=xt.length,kt;++_t<Ct;)yt[(kt=xt[_t]).i]=kt.x(bt);return yt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ye){setTimeout(Ye,17)};function now$3(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(Ye,rt,it){if(typeof Ye!="function")throw new TypeError("callback is not a function");it=(it==null?now$3():+it)+(rt==null?0:+rt),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=Ye,this._time=it,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(Ye,rt,it){var lt=new Timer;return lt.restart(Ye,rt,it),lt}function timerFlush(){now$3(),++frame;for(var Ye=taskHead,rt;Ye;)(rt=clockNow-Ye._time)>=0&&Ye._call.call(void 0,rt),Ye=Ye._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var Ye=clock.now(),rt=Ye-clockLast;rt>pokeDelay&&(clockSkew-=rt,clockLast=Ye)}function nap(){for(var Ye,rt=taskHead,it,lt=1/0;rt;)rt._call?(lt>rt._time&&(lt=rt._time),Ye=rt,rt=rt._next):(it=rt._next,rt._next=null,rt=Ye?Ye._next=it:taskHead=it);taskTail=Ye,sleep(lt)}function sleep(Ye){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var rt=Ye-clockNow;rt>24?(Ye<1/0&&(timeout$1=setTimeout(wake,Ye-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(Ye,rt,it){var lt=new Timer;return rt=rt==null?0:+rt,lt.restart(ct=>{lt.stop(),Ye(ct+rt)},rt,it),lt}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(Ye,rt,it,lt,ct,ut){var ht=Ye.__transition;if(!ht)Ye.__transition={};else if(it in ht)return;create(Ye,it,{name:rt,index:lt,group:ct,on:emptyOn,tween:emptyTween,time:ut.time,delay:ut.delay,duration:ut.duration,ease:ut.ease,timer:null,state:CREATED})}function init$1(Ye,rt){var it=get(Ye,rt);if(it.state>CREATED)throw new Error("too late; already scheduled");return it}function set$1(Ye,rt){var it=get(Ye,rt);if(it.state>STARTED)throw new Error("too late; already running");return it}function get(Ye,rt){var it=Ye.__transition;if(!it||!(it=it[rt]))throw new Error("transition not found");return it}function create(Ye,rt,it){var lt=Ye.__transition,ct;lt[rt]=it,it.timer=timer(ut,0,it.time);function ut(mt){it.state=SCHEDULED,it.timer.restart(ht,it.delay,it.time),it.delay<=mt&&ht(mt-it.delay)}function ht(mt){var gt,yt,xt,bt;if(it.state!==SCHEDULED)return pt();for(gt in lt)if(bt=lt[gt],bt.name===it.name){if(bt.state===STARTED)return timeout(ht);bt.state===RUNNING?(bt.state=ENDED,bt.timer.stop(),bt.on.call("interrupt",Ye,Ye.__data__,bt.index,bt.group),delete lt[gt]):+gt<rt&&(bt.state=ENDED,bt.timer.stop(),bt.on.call("cancel",Ye,Ye.__data__,bt.index,bt.group),delete lt[gt])}if(timeout(function(){it.state===STARTED&&(it.state=RUNNING,it.timer.restart(ft,it.delay,it.time),ft(mt))}),it.state=STARTING,it.on.call("start",Ye,Ye.__data__,it.index,it.group),it.state===STARTING){for(it.state=STARTED,ct=new Array(xt=it.tween.length),gt=0,yt=-1;gt<xt;++gt)(bt=it.tween[gt].value.call(Ye,Ye.__data__,it.index,it.group))&&(ct[++yt]=bt);ct.length=yt+1}}function ft(mt){for(var gt=mt<it.duration?it.ease.call(null,mt/it.duration):(it.timer.restart(pt),it.state=ENDING,1),yt=-1,xt=ct.length;++yt<xt;)ct[yt].call(Ye,gt);it.state===ENDING&&(it.on.call("end",Ye,Ye.__data__,it.index,it.group),pt())}function pt(){it.state=ENDED,it.timer.stop(),delete lt[rt];for(var mt in lt)return;delete Ye.__transition}}function interrupt(Ye,rt){var it=Ye.__transition,lt,ct,ut=!0,ht;if(it){rt=rt==null?null:rt+"";for(ht in it){if((lt=it[ht]).name!==rt){ut=!1;continue}ct=lt.state>STARTING&&lt.state<ENDING,lt.state=ENDED,lt.timer.stop(),lt.on.call(ct?"interrupt":"cancel",Ye,Ye.__data__,lt.index,lt.group),delete it[ht]}ut&&delete Ye.__transition}}function selection_interrupt(Ye){return this.each(function(){interrupt(this,Ye)})}function tweenRemove(Ye,rt){var it,lt;return function(){var ct=set$1(this,Ye),ut=ct.tween;if(ut!==it){lt=it=ut;for(var ht=0,ft=lt.length;ht<ft;++ht)if(lt[ht].name===rt){lt=lt.slice(),lt.splice(ht,1);break}}ct.tween=lt}}function tweenFunction(Ye,rt,it){var lt,ct;if(typeof it!="function")throw new Error;return function(){var ut=set$1(this,Ye),ht=ut.tween;if(ht!==lt){ct=(lt=ht).slice();for(var ft={name:rt,value:it},pt=0,mt=ct.length;pt<mt;++pt)if(ct[pt].name===rt){ct[pt]=ft;break}pt===mt&&ct.push(ft)}ut.tween=ct}}function transition_tween(Ye,rt){var it=this._id;if(Ye+="",arguments.length<2){for(var lt=get(this.node(),it).tween,ct=0,ut=lt.length,ht;ct<ut;++ct)if((ht=lt[ct]).name===Ye)return ht.value;return null}return this.each((rt==null?tweenRemove:tweenFunction)(it,Ye,rt))}function tweenValue(Ye,rt,it){var lt=Ye._id;return Ye.each(function(){var ct=set$1(this,lt);(ct.value||(ct.value={}))[rt]=it.apply(this,arguments)}),function(ct){return get(ct,lt).value[rt]}}function interpolate(Ye,rt){var it;return(typeof rt=="number"?interpolateNumber:rt instanceof color$1?interpolateRgb:(it=color$1(rt))?(rt=it,interpolateRgb):interpolateString)(Ye,rt)}function attrRemove(Ye){return function(){this.removeAttribute(Ye)}}function attrRemoveNS(Ye){return function(){this.removeAttributeNS(Ye.space,Ye.local)}}function attrConstant(Ye,rt,it){var lt,ct=it+"",ut;return function(){var ht=this.getAttribute(Ye);return ht===ct?null:ht===lt?ut:ut=rt(lt=ht,it)}}function attrConstantNS(Ye,rt,it){var lt,ct=it+"",ut;return function(){var ht=this.getAttributeNS(Ye.space,Ye.local);return ht===ct?null:ht===lt?ut:ut=rt(lt=ht,it)}}function attrFunction(Ye,rt,it){var lt,ct,ut;return function(){var ht,ft=it(this),pt;return ft==null?void this.removeAttribute(Ye):(ht=this.getAttribute(Ye),pt=ft+"",ht===pt?null:ht===lt&&pt===ct?ut:(ct=pt,ut=rt(lt=ht,ft)))}}function attrFunctionNS(Ye,rt,it){var lt,ct,ut;return function(){var ht,ft=it(this),pt;return ft==null?void this.removeAttributeNS(Ye.space,Ye.local):(ht=this.getAttributeNS(Ye.space,Ye.local),pt=ft+"",ht===pt?null:ht===lt&&pt===ct?ut:(ct=pt,ut=rt(lt=ht,ft)))}}function transition_attr(Ye,rt){var it=namespace(Ye),lt=it==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(Ye,typeof rt=="function"?(it.local?attrFunctionNS:attrFunction)(it,lt,tweenValue(this,"attr."+Ye,rt)):rt==null?(it.local?attrRemoveNS:attrRemove)(it):(it.local?attrConstantNS:attrConstant)(it,lt,rt))}function attrInterpolate(Ye,rt){return function(it){this.setAttribute(Ye,rt.call(this,it))}}function attrInterpolateNS(Ye,rt){return function(it){this.setAttributeNS(Ye.space,Ye.local,rt.call(this,it))}}function attrTweenNS(Ye,rt){var it,lt;function ct(){var ut=rt.apply(this,arguments);return ut!==lt&&(it=(lt=ut)&&attrInterpolateNS(Ye,ut)),it}return ct._value=rt,ct}function attrTween(Ye,rt){var it,lt;function ct(){var ut=rt.apply(this,arguments);return ut!==lt&&(it=(lt=ut)&&attrInterpolate(Ye,ut)),it}return ct._value=rt,ct}function transition_attrTween(Ye,rt){var it="attr."+Ye;if(arguments.length<2)return(it=this.tween(it))&&it._value;if(rt==null)return this.tween(it,null);if(typeof rt!="function")throw new Error;var lt=namespace(Ye);return this.tween(it,(lt.local?attrTweenNS:attrTween)(lt,rt))}function delayFunction(Ye,rt){return function(){init$1(this,Ye).delay=+rt.apply(this,arguments)}}function delayConstant(Ye,rt){return rt=+rt,function(){init$1(this,Ye).delay=rt}}function transition_delay(Ye){var rt=this._id;return arguments.length?this.each((typeof Ye=="function"?delayFunction:delayConstant)(rt,Ye)):get(this.node(),rt).delay}function durationFunction(Ye,rt){return function(){set$1(this,Ye).duration=+rt.apply(this,arguments)}}function durationConstant(Ye,rt){return rt=+rt,function(){set$1(this,Ye).duration=rt}}function transition_duration(Ye){var rt=this._id;return arguments.length?this.each((typeof Ye=="function"?durationFunction:durationConstant)(rt,Ye)):get(this.node(),rt).duration}function easeConstant(Ye,rt){if(typeof rt!="function")throw new Error;return function(){set$1(this,Ye).ease=rt}}function transition_ease(Ye){var rt=this._id;return arguments.length?this.each(easeConstant(rt,Ye)):get(this.node(),rt).ease}function easeVarying(Ye,rt){return function(){var it=rt.apply(this,arguments);if(typeof it!="function")throw new Error;set$1(this,Ye).ease=it}}function transition_easeVarying(Ye){if(typeof Ye!="function")throw new Error;return this.each(easeVarying(this._id,Ye))}function transition_filter(Ye){typeof Ye!="function"&&(Ye=matcher(Ye));for(var rt=this._groups,it=rt.length,lt=new Array(it),ct=0;ct<it;++ct)for(var ut=rt[ct],ht=ut.length,ft=lt[ct]=[],pt,mt=0;mt<ht;++mt)(pt=ut[mt])&&Ye.call(pt,pt.__data__,mt,ut)&&ft.push(pt);return new Transition(lt,this._parents,this._name,this._id)}function transition_merge(Ye){if(Ye._id!==this._id)throw new Error;for(var rt=this._groups,it=Ye._groups,lt=rt.length,ct=it.length,ut=Math.min(lt,ct),ht=new Array(lt),ft=0;ft<ut;++ft)for(var pt=rt[ft],mt=it[ft],gt=pt.length,yt=ht[ft]=new Array(gt),xt,bt=0;bt<gt;++bt)(xt=pt[bt]||mt[bt])&&(yt[bt]=xt);for(;ft<lt;++ft)ht[ft]=rt[ft];return new Transition(ht,this._parents,this._name,this._id)}function start(Ye){return(Ye+"").trim().split(/^|\s+/).every(function(rt){var it=rt.indexOf(".");return it>=0&&(rt=rt.slice(0,it)),!rt||rt==="start"})}function onFunction(Ye,rt,it){var lt,ct,ut=start(rt)?init$1:set$1;return function(){var ht=ut(this,Ye),ft=ht.on;ft!==lt&&(ct=(lt=ft).copy()).on(rt,it),ht.on=ct}}function transition_on(Ye,rt){var it=this._id;return arguments.length<2?get(this.node(),it).on.on(Ye):this.each(onFunction(it,Ye,rt))}function removeFunction(Ye){return function(){var rt=this.parentNode;for(var it in this.__transition)if(+it!==Ye)return;rt&&rt.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(Ye){var rt=this._name,it=this._id;typeof Ye!="function"&&(Ye=selector(Ye));for(var lt=this._groups,ct=lt.length,ut=new Array(ct),ht=0;ht<ct;++ht)for(var ft=lt[ht],pt=ft.length,mt=ut[ht]=new Array(pt),gt,yt,xt=0;xt<pt;++xt)(gt=ft[xt])&&(yt=Ye.call(gt,gt.__data__,xt,ft))&&("__data__"in gt&&(yt.__data__=gt.__data__),mt[xt]=yt,schedule(mt[xt],rt,it,xt,mt,get(gt,it)));return new Transition(ut,this._parents,rt,it)}function transition_selectAll(Ye){var rt=this._name,it=this._id;typeof Ye!="function"&&(Ye=selectorAll(Ye));for(var lt=this._groups,ct=lt.length,ut=[],ht=[],ft=0;ft<ct;++ft)for(var pt=lt[ft],mt=pt.length,gt,yt=0;yt<mt;++yt)if(gt=pt[yt]){for(var xt=Ye.call(gt,gt.__data__,yt,pt),bt,_t=get(gt,it),Ct=0,kt=xt.length;Ct<kt;++Ct)(bt=xt[Ct])&&schedule(bt,rt,it,Ct,xt,_t);ut.push(xt),ht.push(gt)}return new Transition(ut,ht,rt,it)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(Ye,rt){var it,lt,ct;return function(){var ut=styleValue(this,Ye),ht=(this.style.removeProperty(Ye),styleValue(this,Ye));return ut===ht?null:ut===it&&ht===lt?ct:ct=rt(it=ut,lt=ht)}}function styleRemove(Ye){return function(){this.style.removeProperty(Ye)}}function styleConstant(Ye,rt,it){var lt,ct=it+"",ut;return function(){var ht=styleValue(this,Ye);return ht===ct?null:ht===lt?ut:ut=rt(lt=ht,it)}}function styleFunction(Ye,rt,it){var lt,ct,ut;return function(){var ht=styleValue(this,Ye),ft=it(this),pt=ft+"";return ft==null&&(pt=ft=(this.style.removeProperty(Ye),styleValue(this,Ye))),ht===pt?null:ht===lt&&pt===ct?ut:(ct=pt,ut=rt(lt=ht,ft))}}function styleMaybeRemove(Ye,rt){var it,lt,ct,ut="style."+rt,ht="end."+ut,ft;return function(){var pt=set$1(this,Ye),mt=pt.on,gt=pt.value[ut]==null?ft||(ft=styleRemove(rt)):void 0;(mt!==it||ct!==gt)&&(lt=(it=mt).copy()).on(ht,ct=gt),pt.on=lt}}function transition_style(Ye,rt,it){var lt=(Ye+="")=="transform"?interpolateTransformCss:interpolate;return rt==null?this.styleTween(Ye,styleNull(Ye,lt)).on("end.style."+Ye,styleRemove(Ye)):typeof rt=="function"?this.styleTween(Ye,styleFunction(Ye,lt,tweenValue(this,"style."+Ye,rt))).each(styleMaybeRemove(this._id,Ye)):this.styleTween(Ye,styleConstant(Ye,lt,rt),it).on("end.style."+Ye,null)}function styleInterpolate(Ye,rt,it){return function(lt){this.style.setProperty(Ye,rt.call(this,lt),it)}}function styleTween(Ye,rt,it){var lt,ct;function ut(){var ht=rt.apply(this,arguments);return ht!==ct&&(lt=(ct=ht)&&styleInterpolate(Ye,ht,it)),lt}return ut._value=rt,ut}function transition_styleTween(Ye,rt,it){var lt="style."+(Ye+="");if(arguments.length<2)return(lt=this.tween(lt))&&lt._value;if(rt==null)return this.tween(lt,null);if(typeof rt!="function")throw new Error;return this.tween(lt,styleTween(Ye,rt,it??""))}function textConstant(Ye){return function(){this.textContent=Ye}}function textFunction(Ye){return function(){var rt=Ye(this);this.textContent=rt??""}}function transition_text(Ye){return this.tween("text",typeof Ye=="function"?textFunction(tweenValue(this,"text",Ye)):textConstant(Ye==null?"":Ye+""))}function textInterpolate(Ye){return function(rt){this.textContent=Ye.call(this,rt)}}function textTween(Ye){var rt,it;function lt(){var ct=Ye.apply(this,arguments);return ct!==it&&(rt=(it=ct)&&textInterpolate(ct)),rt}return lt._value=Ye,lt}function transition_textTween(Ye){var rt="text";if(arguments.length<1)return(rt=this.tween(rt))&&rt._value;if(Ye==null)return this.tween(rt,null);if(typeof Ye!="function")throw new Error;return this.tween(rt,textTween(Ye))}function transition_transition(){for(var Ye=this._name,rt=this._id,it=newId(),lt=this._groups,ct=lt.length,ut=0;ut<ct;++ut)for(var ht=lt[ut],ft=ht.length,pt,mt=0;mt<ft;++mt)if(pt=ht[mt]){var gt=get(pt,rt);schedule(pt,Ye,it,mt,ht,{time:gt.time+gt.delay+gt.duration,delay:0,duration:gt.duration,ease:gt.ease})}return new Transition(lt,this._parents,Ye,it)}function transition_end(){var Ye,rt,it=this,lt=it._id,ct=it.size();return new Promise(function(ut,ht){var ft={value:ht},pt={value:function(){--ct===0&&ut()}};it.each(function(){var mt=set$1(this,lt),gt=mt.on;gt!==Ye&&(rt=(Ye=gt).copy(),rt._.cancel.push(ft),rt._.interrupt.push(ft),rt._.end.push(pt)),mt.on=rt}),ct===0&&ut()})}var id$1=0;function Transition(Ye,rt,it,lt){this._groups=Ye,this._parents=rt,this._name=it,this._id=lt}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(Ye){return((Ye*=2)<=1?Ye*Ye*Ye:(Ye-=2)*Ye*Ye+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(Ye,rt){for(var it;!(it=Ye.__transition)||!(it=it[rt]);)if(!(Ye=Ye.parentNode))throw new Error(`transition ${rt} not found`);return it}function selection_transition(Ye){var rt,it;Ye instanceof Transition?(rt=Ye._id,Ye=Ye._name):(rt=newId(),(it=defaultTiming).time=now$3(),Ye=Ye==null?null:Ye+"");for(var lt=this._groups,ct=lt.length,ut=0;ut<ct;++ut)for(var ht=lt[ut],ft=ht.length,pt,mt=0;mt<ft;++mt)(pt=ht[mt])&&schedule(pt,Ye,rt,mt,ht,it||inherit(pt,rt));return new Transition(lt,this._parents,Ye,rt)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$2(Ye){this._+=Ye[0];for(let rt=1,it=Ye.length;rt<it;++rt)this._+=arguments[rt]+Ye[rt]}function appendRound(Ye){let rt=Math.floor(Ye);if(!(rt>=0))throw new Error(`invalid digits: ${Ye}`);if(rt>15)return append$2;const it=10**rt;return function(lt){this._+=lt[0];for(let ct=1,ut=lt.length;ct<ut;++ct)this._+=Math.round(arguments[ct]*it)/it+lt[ct]}}class Path{constructor(rt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=rt==null?append$2:appendRound(rt)}moveTo(rt,it){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+it}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(rt,it){this._append`L${this._x1=+rt},${this._y1=+it}`}quadraticCurveTo(rt,it,lt,ct){this._append`Q${+rt},${+it},${this._x1=+lt},${this._y1=+ct}`}bezierCurveTo(rt,it,lt,ct,ut,ht){this._append`C${+rt},${+it},${+lt},${+ct},${this._x1=+ut},${this._y1=+ht}`}arcTo(rt,it,lt,ct,ut){if(rt=+rt,it=+it,lt=+lt,ct=+ct,ut=+ut,ut<0)throw new Error(`negative radius: ${ut}`);let ht=this._x1,ft=this._y1,pt=lt-rt,mt=ct-it,gt=ht-rt,yt=ft-it,xt=gt*gt+yt*yt;if(this._x1===null)this._append`M${this._x1=rt},${this._y1=it}`;else if(xt>epsilon$1)if(!(Math.abs(yt*pt-mt*gt)>epsilon$1)||!ut)this._append`L${this._x1=rt},${this._y1=it}`;else{let bt=lt-ht,_t=ct-ft,Ct=pt*pt+mt*mt,kt=bt*bt+_t*_t,St=Math.sqrt(Ct),Rt=Math.sqrt(xt),Tt=ut*Math.tan((pi$1-Math.acos((Ct+xt-kt)/(2*St*Rt)))/2),Mt=Tt/Rt,Pt=Tt/St;Math.abs(Mt-1)>epsilon$1&&this._append`L${rt+Mt*gt},${it+Mt*yt}`,this._append`A${ut},${ut},0,0,${+(yt*bt>gt*_t)},${this._x1=rt+Pt*pt},${this._y1=it+Pt*mt}`}}arc(rt,it,lt,ct,ut,ht){if(rt=+rt,it=+it,lt=+lt,ht=!!ht,lt<0)throw new Error(`negative radius: ${lt}`);let ft=lt*Math.cos(ct),pt=lt*Math.sin(ct),mt=rt+ft,gt=it+pt,yt=1^ht,xt=ht?ct-ut:ut-ct;this._x1===null?this._append`M${mt},${gt}`:(Math.abs(this._x1-mt)>epsilon$1||Math.abs(this._y1-gt)>epsilon$1)&&this._append`L${mt},${gt}`,lt&&(xt<0&&(xt=xt%tau$1+tau$1),xt>tauEpsilon?this._append`A${lt},${lt},0,1,${yt},${rt-ft},${it-pt}A${lt},${lt},0,1,${yt},${this._x1=mt},${this._y1=gt}`:xt>epsilon$1&&this._append`A${lt},${lt},0,${+(xt>=pi$1)},${yt},${this._x1=rt+lt*Math.cos(ut)},${this._y1=it+lt*Math.sin(ut)}`)}rect(rt,it,lt,ct){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+it}h${lt=+lt}v${+ct}h${-lt}Z`}toString(){return this._}}function constant$1(Ye){return function(){return Ye}}const abs$2=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(Ye){return Ye>1?0:Ye<-1?pi:Math.acos(Ye)}function asin(Ye){return Ye>=1?halfPi:Ye<=-1?-halfPi:Math.asin(Ye)}function withPath(Ye){let rt=3;return Ye.digits=function(it){if(!arguments.length)return rt;if(it==null)rt=null;else{const lt=Math.floor(it);if(!(lt>=0))throw new RangeError(`invalid digits: ${it}`);rt=lt}return Ye},()=>new Path(rt)}function array(Ye){return typeof Ye=="object"&&"length"in Ye?Ye:Array.from(Ye)}function Linear(Ye){this._context=Ye}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2;default:this._context.lineTo(Ye,rt);break}}};function curveLinear(Ye){return new Linear(Ye)}function x$2(Ye){return Ye[0]}function y$2(Ye){return Ye[1]}function line$2(Ye,rt){var it=constant$1(!0),lt=null,ct=curveLinear,ut=null,ht=withPath(ft);Ye=typeof Ye=="function"?Ye:Ye===void 0?x$2:constant$1(Ye),rt=typeof rt=="function"?rt:rt===void 0?y$2:constant$1(rt);function ft(pt){var mt,gt=(pt=array(pt)).length,yt,xt=!1,bt;for(lt==null&&(ut=ct(bt=ht())),mt=0;mt<=gt;++mt)!(mt<gt&&it(yt=pt[mt],mt,pt))===xt&&((xt=!xt)?ut.lineStart():ut.lineEnd()),xt&&ut.point(+Ye(yt,mt,pt),+rt(yt,mt,pt));if(bt)return ut=null,bt+""||null}return ft.x=function(pt){return arguments.length?(Ye=typeof pt=="function"?pt:constant$1(+pt),ft):Ye},ft.y=function(pt){return arguments.length?(rt=typeof pt=="function"?pt:constant$1(+pt),ft):rt},ft.defined=function(pt){return arguments.length?(it=typeof pt=="function"?pt:constant$1(!!pt),ft):it},ft.curve=function(pt){return arguments.length?(ct=pt,lt!=null&&(ut=ct(lt)),ft):ct},ft.context=function(pt){return arguments.length?(pt==null?lt=ut=null:ut=ct(lt=pt),ft):lt},ft}class Bump{constructor(rt,it){this._context=rt,this._x=it}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(rt,it){switch(rt=+rt,it=+it,this._point){case 0:{this._point=1,this._line?this._context.lineTo(rt,it):this._context.moveTo(rt,it);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+rt)/2,this._y0,this._x0,it,rt,it):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+it)/2,rt,this._y0,rt,it);break}}this._x0=rt,this._y0=it}}function bumpX(Ye){return new Bump(Ye,!0)}function bumpY(Ye){return new Bump(Ye,!1)}function noop(){}function point$7(Ye,rt,it){Ye._context.bezierCurveTo((2*Ye._x0+Ye._x1)/3,(2*Ye._y0+Ye._y1)/3,(Ye._x0+2*Ye._x1)/3,(Ye._y0+2*Ye._y1)/3,(Ye._x0+4*Ye._x1+rt)/6,(Ye._y0+4*Ye._y1+it)/6)}function Basis(Ye){this._context=Ye}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$7(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$7(this,Ye,rt);break}this._x0=this._x1,this._x1=Ye,this._y0=this._y1,this._y1=rt}};function curveBasis(Ye){return new Basis(Ye)}function BasisClosed(Ye){this._context=Ye}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._x2=Ye,this._y2=rt;break;case 1:this._point=2,this._x3=Ye,this._y3=rt;break;case 2:this._point=3,this._x4=Ye,this._y4=rt,this._context.moveTo((this._x0+4*this._x1+Ye)/6,(this._y0+4*this._y1+rt)/6);break;default:point$7(this,Ye,rt);break}this._x0=this._x1,this._x1=Ye,this._y0=this._y1,this._y1=rt}};function curveBasisClosed(Ye){return new BasisClosed(Ye)}function BasisOpen(Ye){this._context=Ye}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var it=(this._x0+4*this._x1+Ye)/6,lt=(this._y0+4*this._y1+rt)/6;this._line?this._context.lineTo(it,lt):this._context.moveTo(it,lt);break;case 3:this._point=4;default:point$7(this,Ye,rt);break}this._x0=this._x1,this._x1=Ye,this._y0=this._y1,this._y1=rt}};function curveBasisOpen(Ye){return new BasisOpen(Ye)}function Bundle(Ye,rt){this._basis=new Basis(Ye),this._beta=rt}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Ye=this._x,rt=this._y,it=Ye.length-1;if(it>0)for(var lt=Ye[0],ct=rt[0],ut=Ye[it]-lt,ht=rt[it]-ct,ft=-1,pt;++ft<=it;)pt=ft/it,this._basis.point(this._beta*Ye[ft]+(1-this._beta)*(lt+pt*ut),this._beta*rt[ft]+(1-this._beta)*(ct+pt*ht));this._x=this._y=null,this._basis.lineEnd()},point:function(Ye,rt){this._x.push(+Ye),this._y.push(+rt)}};const curveBundle=(function Ye(rt){function it(lt){return rt===1?new Basis(lt):new Bundle(lt,rt)}return it.beta=function(lt){return Ye(+lt)},it})(.85);function point$6(Ye,rt,it){Ye._context.bezierCurveTo(Ye._x1+Ye._k*(Ye._x2-Ye._x0),Ye._y1+Ye._k*(Ye._y2-Ye._y0),Ye._x2+Ye._k*(Ye._x1-rt),Ye._y2+Ye._k*(Ye._y1-it),Ye._x2,Ye._y2)}function Cardinal(Ye,rt){this._context=Ye,this._k=(1-rt)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$6(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2,this._x1=Ye,this._y1=rt;break;case 2:this._point=3;default:point$6(this,Ye,rt);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCardinal=(function Ye(rt){function it(lt){return new Cardinal(lt,rt)}return it.tension=function(lt){return Ye(+lt)},it})(0);function CardinalClosed(Ye,rt){this._context=Ye,this._k=(1-rt)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._x3=Ye,this._y3=rt;break;case 1:this._point=2,this._context.moveTo(this._x4=Ye,this._y4=rt);break;case 2:this._point=3,this._x5=Ye,this._y5=rt;break;default:point$6(this,Ye,rt);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCardinalClosed=(function Ye(rt){function it(lt){return new CardinalClosed(lt,rt)}return it.tension=function(lt){return Ye(+lt)},it})(0);function CardinalOpen(Ye,rt){this._context=Ye,this._k=(1-rt)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$6(this,Ye,rt);break}this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCardinalOpen=(function Ye(rt){function it(lt){return new CardinalOpen(lt,rt)}return it.tension=function(lt){return Ye(+lt)},it})(0);function point$5(Ye,rt,it){var lt=Ye._x1,ct=Ye._y1,ut=Ye._x2,ht=Ye._y2;if(Ye._l01_a>epsilon){var ft=2*Ye._l01_2a+3*Ye._l01_a*Ye._l12_a+Ye._l12_2a,pt=3*Ye._l01_a*(Ye._l01_a+Ye._l12_a);lt=(lt*ft-Ye._x0*Ye._l12_2a+Ye._x2*Ye._l01_2a)/pt,ct=(ct*ft-Ye._y0*Ye._l12_2a+Ye._y2*Ye._l01_2a)/pt}if(Ye._l23_a>epsilon){var mt=2*Ye._l23_2a+3*Ye._l23_a*Ye._l12_a+Ye._l12_2a,gt=3*Ye._l23_a*(Ye._l23_a+Ye._l12_a);ut=(ut*mt+Ye._x1*Ye._l23_2a-rt*Ye._l12_2a)/gt,ht=(ht*mt+Ye._y1*Ye._l23_2a-it*Ye._l12_2a)/gt}Ye._context.bezierCurveTo(lt,ct,ut,ht,Ye._x2,Ye._y2)}function CatmullRom(Ye,rt){this._context=Ye,this._alpha=rt}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){if(Ye=+Ye,rt=+rt,this._point){var it=this._x2-Ye,lt=this._y2-rt;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2;break;case 2:this._point=3;default:point$5(this,Ye,rt);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCatmullRom=(function Ye(rt){function it(lt){return rt?new CatmullRom(lt,rt):new Cardinal(lt,0)}return it.alpha=function(lt){return Ye(+lt)},it})(.5);function CatmullRomClosed(Ye,rt){this._context=Ye,this._alpha=rt}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Ye,rt){if(Ye=+Ye,rt=+rt,this._point){var it=this._x2-Ye,lt=this._y2-rt;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Ye,this._y3=rt;break;case 1:this._point=2,this._context.moveTo(this._x4=Ye,this._y4=rt);break;case 2:this._point=3,this._x5=Ye,this._y5=rt;break;default:point$5(this,Ye,rt);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCatmullRomClosed=(function Ye(rt){function it(lt){return rt?new CatmullRomClosed(lt,rt):new CardinalClosed(lt,0)}return it.alpha=function(lt){return Ye(+lt)},it})(.5);function CatmullRomOpen(Ye,rt){this._context=Ye,this._alpha=rt}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){if(Ye=+Ye,rt=+rt,this._point){var it=this._x2-Ye,lt=this._y2-rt;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(it*it+lt*lt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$5(this,Ye,rt);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Ye,this._y0=this._y1,this._y1=this._y2,this._y2=rt}};const curveCatmullRomOpen=(function Ye(rt){function it(lt){return rt?new CatmullRomOpen(lt,rt):new CardinalOpen(lt,0)}return it.alpha=function(lt){return Ye(+lt)},it})(.5);function LinearClosed(Ye){this._context=Ye}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ye,rt){Ye=+Ye,rt=+rt,this._point?this._context.lineTo(Ye,rt):(this._point=1,this._context.moveTo(Ye,rt))}};function curveLinearClosed(Ye){return new LinearClosed(Ye)}function sign$3(Ye){return Ye<0?-1:1}function slope3(Ye,rt,it){var lt=Ye._x1-Ye._x0,ct=rt-Ye._x1,ut=(Ye._y1-Ye._y0)/(lt||ct<0&&-0),ht=(it-Ye._y1)/(ct||lt<0&&-0),ft=(ut*ct+ht*lt)/(lt+ct);return(sign$3(ut)+sign$3(ht))*Math.min(Math.abs(ut),Math.abs(ht),.5*Math.abs(ft))||0}function slope2(Ye,rt){var it=Ye._x1-Ye._x0;return it?(3*(Ye._y1-Ye._y0)/it-rt)/2:rt}function point$4(Ye,rt,it){var lt=Ye._x0,ct=Ye._y0,ut=Ye._x1,ht=Ye._y1,ft=(ut-lt)/3;Ye._context.bezierCurveTo(lt+ft,ct+ft*rt,ut-ft,ht-ft*it,ut,ht)}function MonotoneX(Ye){this._context=Ye}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$4(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ye,rt){var it=NaN;if(Ye=+Ye,rt=+rt,!(Ye===this._x1&&rt===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2;break;case 2:this._point=3,point$4(this,slope2(this,it=slope3(this,Ye,rt)),it);break;default:point$4(this,this._t0,it=slope3(this,Ye,rt));break}this._x0=this._x1,this._x1=Ye,this._y0=this._y1,this._y1=rt,this._t0=it}}};function MonotoneY(Ye){this._context=new ReflectContext(Ye)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(Ye,rt){MonotoneX.prototype.point.call(this,rt,Ye)};function ReflectContext(Ye){this._context=Ye}ReflectContext.prototype={moveTo:function(Ye,rt){this._context.moveTo(rt,Ye)},closePath:function(){this._context.closePath()},lineTo:function(Ye,rt){this._context.lineTo(rt,Ye)},bezierCurveTo:function(Ye,rt,it,lt,ct,ut){this._context.bezierCurveTo(rt,Ye,lt,it,ut,ct)}};function monotoneX(Ye){return new MonotoneX(Ye)}function monotoneY(Ye){return new MonotoneY(Ye)}function Natural(Ye){this._context=Ye}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Ye=this._x,rt=this._y,it=Ye.length;if(it)if(this._line?this._context.lineTo(Ye[0],rt[0]):this._context.moveTo(Ye[0],rt[0]),it===2)this._context.lineTo(Ye[1],rt[1]);else for(var lt=controlPoints(Ye),ct=controlPoints(rt),ut=0,ht=1;ht<it;++ut,++ht)this._context.bezierCurveTo(lt[0][ut],ct[0][ut],lt[1][ut],ct[1][ut],Ye[ht],rt[ht]);(this._line||this._line!==0&&it===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Ye,rt){this._x.push(+Ye),this._y.push(+rt)}};function controlPoints(Ye){var rt,it=Ye.length-1,lt,ct=new Array(it),ut=new Array(it),ht=new Array(it);for(ct[0]=0,ut[0]=2,ht[0]=Ye[0]+2*Ye[1],rt=1;rt<it-1;++rt)ct[rt]=1,ut[rt]=4,ht[rt]=4*Ye[rt]+2*Ye[rt+1];for(ct[it-1]=2,ut[it-1]=7,ht[it-1]=8*Ye[it-1]+Ye[it],rt=1;rt<it;++rt)lt=ct[rt]/ut[rt-1],ut[rt]-=lt,ht[rt]-=lt*ht[rt-1];for(ct[it-1]=ht[it-1]/ut[it-1],rt=it-2;rt>=0;--rt)ct[rt]=(ht[rt]-ct[rt+1])/ut[rt];for(ut[it-1]=(Ye[it]+ct[it-1])/2,rt=0;rt<it-1;++rt)ut[rt]=2*Ye[rt+1]-ct[rt+1];return[ct,ut]}function curveNatural(Ye){return new Natural(Ye)}function Step(Ye,rt){this._context=Ye,this._t=rt}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ye,rt){switch(Ye=+Ye,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ye,rt):this._context.moveTo(Ye,rt);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,rt),this._context.lineTo(Ye,rt);else{var it=this._x*(1-this._t)+Ye*this._t;this._context.lineTo(it,this._y),this._context.lineTo(it,rt)}break}}this._x=Ye,this._y=rt}};function curveStep(Ye){return new Step(Ye,.5)}function stepBefore(Ye){return new Step(Ye,0)}function stepAfter(Ye){return new Step(Ye,1)}function Transform(Ye,rt,it){this.k=Ye,this.x=rt,this.y=it}Transform.prototype={constructor:Transform,scale:function(Ye){return Ye===1?this:new Transform(this.k*Ye,this.x,this.y)},translate:function(Ye,rt){return Ye===0&rt===0?this:new Transform(this.k,this.x+this.k*Ye,this.y+this.k*rt)},apply:function(Ye){return[Ye[0]*this.k+this.x,Ye[1]*this.k+this.y]},applyX:function(Ye){return Ye*this.k+this.x},applyY:function(Ye){return Ye*this.k+this.y},invert:function(Ye){return[(Ye[0]-this.x)/this.k,(Ye[1]-this.y)/this.k]},invertX:function(Ye){return(Ye-this.x)/this.k},invertY:function(Ye){return(Ye-this.y)/this.k},rescaleX:function(Ye){return Ye.copy().domain(Ye.range().map(this.invertX,this).map(Ye.invert,Ye))},rescaleY:function(Ye){return Ye.copy().domain(Ye.range().map(this.invertY,this).map(Ye.invert,Ye))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;var selectSvgElement=__name(Ye=>{const{securityLevel:rt}=getConfig2();let it=select("body");if(rt==="sandbox"){const ut=select(`#i${Ye}`).node()?.contentDocument??document;it=select(ut.body)}return it.select(`#${Ye}`)},"selectSvgElement");function isNothing(Ye){return typeof Ye>"u"||Ye===null}__name(isNothing,"isNothing");function isObject$3(Ye){return typeof Ye=="object"&&Ye!==null}__name(isObject$3,"isObject");function toArray(Ye){return Array.isArray(Ye)?Ye:isNothing(Ye)?[]:[Ye]}__name(toArray,"toArray");function extend$2(Ye,rt){var it,lt,ct,ut;if(rt)for(ut=Object.keys(rt),it=0,lt=ut.length;it<lt;it+=1)ct=ut[it],Ye[ct]=rt[ct];return Ye}__name(extend$2,"extend");function repeat(Ye,rt){var it="",lt;for(lt=0;lt<rt;lt+=1)it+=Ye;return it}__name(repeat,"repeat");function isNegativeZero(Ye){return Ye===0&&Number.NEGATIVE_INFINITY===1/Ye}__name(isNegativeZero,"isNegativeZero");var isNothing_1=isNothing,isObject_1=isObject$3,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend$2,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(Ye,rt){var it="",lt=Ye.reason||"(unknown reason)";return Ye.mark?(Ye.mark.name&&(it+='in "'+Ye.mark.name+'" '),it+="("+(Ye.mark.line+1)+":"+(Ye.mark.column+1)+")",!rt&&Ye.mark.snippet&&(it+=`

`+Ye.mark.snippet),lt+" "+it):lt}__name(formatError,"formatError");function YAMLException$1(Ye,rt){Error.call(this),this.name="YAMLException",this.reason=Ye,this.mark=rt,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}__name(YAMLException$1,"YAMLException$1");YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=__name(function Ye(rt){return this.name+": "+formatError(this,rt)},"toString");var exception=YAMLException$1;function getLine(Ye,rt,it,lt,ct){var ut="",ht="",ft=Math.floor(ct/2)-1;return lt-rt>ft&&(ut=" ... ",rt=lt-ft+ut.length),it-lt>ft&&(ht=" ...",it=lt+ft-ht.length),{str:ut+Ye.slice(rt,it).replace(/\t/g,"")+ht,pos:lt-rt+ut.length}}__name(getLine,"getLine");function padStart(Ye,rt){return common.repeat(" ",rt-Ye.length)+Ye}__name(padStart,"padStart");function makeSnippet(Ye,rt){if(rt=Object.create(rt||null),!Ye.buffer)return null;rt.maxLength||(rt.maxLength=79),typeof rt.indent!="number"&&(rt.indent=1),typeof rt.linesBefore!="number"&&(rt.linesBefore=3),typeof rt.linesAfter!="number"&&(rt.linesAfter=2);for(var it=/\r?\n|\r|\0/g,lt=[0],ct=[],ut,ht=-1;ut=it.exec(Ye.buffer);)ct.push(ut.index),lt.push(ut.index+ut[0].length),Ye.position<=ut.index&&ht<0&&(ht=lt.length-2);ht<0&&(ht=lt.length-1);var ft="",pt,mt,gt=Math.min(Ye.line+rt.linesAfter,ct.length).toString().length,yt=rt.maxLength-(rt.indent+gt+3);for(pt=1;pt<=rt.linesBefore&&!(ht-pt<0);pt++)mt=getLine(Ye.buffer,lt[ht-pt],ct[ht-pt],Ye.position-(lt[ht]-lt[ht-pt]),yt),ft=common.repeat(" ",rt.indent)+padStart((Ye.line-pt+1).toString(),gt)+" | "+mt.str+`
`+ft;for(mt=getLine(Ye.buffer,lt[ht],ct[ht],Ye.position,yt),ft+=common.repeat(" ",rt.indent)+padStart((Ye.line+1).toString(),gt)+" | "+mt.str+`
`,ft+=common.repeat("-",rt.indent+gt+3+mt.pos)+`^
`,pt=1;pt<=rt.linesAfter&&!(ht+pt>=ct.length);pt++)mt=getLine(Ye.buffer,lt[ht+pt],ct[ht+pt],Ye.position-(lt[ht]-lt[ht+pt]),yt),ft+=common.repeat(" ",rt.indent)+padStart((Ye.line+pt+1).toString(),gt)+" | "+mt.str+`
`;return ft.replace(/\n$/,"")}__name(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(Ye){var rt={};return Ye!==null&&Object.keys(Ye).forEach(function(it){Ye[it].forEach(function(lt){rt[String(lt)]=it})}),rt}__name(compileStyleAliases,"compileStyleAliases");function Type$1(Ye,rt){if(rt=rt||{},Object.keys(rt).forEach(function(it){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(it)===-1)throw new exception('Unknown option "'+it+'" is met in definition of "'+Ye+'" YAML type.')}),this.options=rt,this.tag=Ye,this.kind=rt.kind||null,this.resolve=rt.resolve||function(){return!0},this.construct=rt.construct||function(it){return it},this.instanceOf=rt.instanceOf||null,this.predicate=rt.predicate||null,this.represent=rt.represent||null,this.representName=rt.representName||null,this.defaultStyle=rt.defaultStyle||null,this.multi=rt.multi||!1,this.styleAliases=compileStyleAliases(rt.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+Ye+'" YAML type.')}__name(Type$1,"Type$1");var type=Type$1;function compileList(Ye,rt){var it=[];return Ye[rt].forEach(function(lt){var ct=it.length;it.forEach(function(ut,ht){ut.tag===lt.tag&&ut.kind===lt.kind&&ut.multi===lt.multi&&(ct=ht)}),it[ct]=lt}),it}__name(compileList,"compileList");function compileMap(){var Ye={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},rt,it;function lt(ct){ct.multi?(Ye.multi[ct.kind].push(ct),Ye.multi.fallback.push(ct)):Ye[ct.kind][ct.tag]=Ye.fallback[ct.tag]=ct}for(__name(lt,"collectType"),rt=0,it=arguments.length;rt<it;rt+=1)arguments[rt].forEach(lt);return Ye}__name(compileMap,"compileMap");function Schema$1(Ye){return this.extend(Ye)}__name(Schema$1,"Schema$1");Schema$1.prototype.extend=__name(function Ye(rt){var it=[],lt=[];if(rt instanceof type)lt.push(rt);else if(Array.isArray(rt))lt=lt.concat(rt);else if(rt&&(Array.isArray(rt.implicit)||Array.isArray(rt.explicit)))rt.implicit&&(it=it.concat(rt.implicit)),rt.explicit&&(lt=lt.concat(rt.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");it.forEach(function(ut){if(!(ut instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ut.loadKind&&ut.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ut.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),lt.forEach(function(ut){if(!(ut instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ct=Object.create(Schema$1.prototype);return ct.implicit=(this.implicit||[]).concat(it),ct.explicit=(this.explicit||[]).concat(lt),ct.compiledImplicit=compileList(ct,"implicit"),ct.compiledExplicit=compileList(ct,"explicit"),ct.compiledTypeMap=compileMap(ct.compiledImplicit,ct.compiledExplicit),ct},"extend");var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:__name(function(Ye){return Ye!==null?Ye:""},"construct")}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name(function(Ye){return Ye!==null?Ye:[]},"construct")}),map$3=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:__name(function(Ye){return Ye!==null?Ye:{}},"construct")}),failsafe=new schema({explicit:[str,seq,map$3]});function resolveYamlNull(Ye){if(Ye===null)return!0;var rt=Ye.length;return rt===1&&Ye==="~"||rt===4&&(Ye==="null"||Ye==="Null"||Ye==="NULL")}__name(resolveYamlNull,"resolveYamlNull");function constructYamlNull(){return null}__name(constructYamlNull,"constructYamlNull");function isNull(Ye){return Ye===null}__name(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name(function(){return"~"},"canonical"),lowercase:__name(function(){return"null"},"lowercase"),uppercase:__name(function(){return"NULL"},"uppercase"),camelcase:__name(function(){return"Null"},"camelcase"),empty:__name(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(Ye){if(Ye===null)return!1;var rt=Ye.length;return rt===4&&(Ye==="true"||Ye==="True"||Ye==="TRUE")||rt===5&&(Ye==="false"||Ye==="False"||Ye==="FALSE")}__name(resolveYamlBoolean,"resolveYamlBoolean");function constructYamlBoolean(Ye){return Ye==="true"||Ye==="True"||Ye==="TRUE"}__name(constructYamlBoolean,"constructYamlBoolean");function isBoolean(Ye){return Object.prototype.toString.call(Ye)==="[object Boolean]"}__name(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name(function(Ye){return Ye?"true":"false"},"lowercase"),uppercase:__name(function(Ye){return Ye?"TRUE":"FALSE"},"uppercase"),camelcase:__name(function(Ye){return Ye?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(Ye){return 48<=Ye&&Ye<=57||65<=Ye&&Ye<=70||97<=Ye&&Ye<=102}__name(isHexCode,"isHexCode");function isOctCode(Ye){return 48<=Ye&&Ye<=55}__name(isOctCode,"isOctCode");function isDecCode(Ye){return 48<=Ye&&Ye<=57}__name(isDecCode,"isDecCode");function resolveYamlInteger(Ye){if(Ye===null)return!1;var rt=Ye.length,it=0,lt=!1,ct;if(!rt)return!1;if(ct=Ye[it],(ct==="-"||ct==="+")&&(ct=Ye[++it]),ct==="0"){if(it+1===rt)return!0;if(ct=Ye[++it],ct==="b"){for(it++;it<rt;it++)if(ct=Ye[it],ct!=="_"){if(ct!=="0"&&ct!=="1")return!1;lt=!0}return lt&&ct!=="_"}if(ct==="x"){for(it++;it<rt;it++)if(ct=Ye[it],ct!=="_"){if(!isHexCode(Ye.charCodeAt(it)))return!1;lt=!0}return lt&&ct!=="_"}if(ct==="o"){for(it++;it<rt;it++)if(ct=Ye[it],ct!=="_"){if(!isOctCode(Ye.charCodeAt(it)))return!1;lt=!0}return lt&&ct!=="_"}}if(ct==="_")return!1;for(;it<rt;it++)if(ct=Ye[it],ct!=="_"){if(!isDecCode(Ye.charCodeAt(it)))return!1;lt=!0}return!(!lt||ct==="_")}__name(resolveYamlInteger,"resolveYamlInteger");function constructYamlInteger(Ye){var rt=Ye,it=1,lt;if(rt.indexOf("_")!==-1&&(rt=rt.replace(/_/g,"")),lt=rt[0],(lt==="-"||lt==="+")&&(lt==="-"&&(it=-1),rt=rt.slice(1),lt=rt[0]),rt==="0")return 0;if(lt==="0"){if(rt[1]==="b")return it*parseInt(rt.slice(2),2);if(rt[1]==="x")return it*parseInt(rt.slice(2),16);if(rt[1]==="o")return it*parseInt(rt.slice(2),8)}return it*parseInt(rt,10)}__name(constructYamlInteger,"constructYamlInteger");function isInteger(Ye){return Object.prototype.toString.call(Ye)==="[object Number]"&&Ye%1===0&&!common.isNegativeZero(Ye)}__name(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name(function(Ye){return Ye>=0?"0b"+Ye.toString(2):"-0b"+Ye.toString(2).slice(1)},"binary"),octal:__name(function(Ye){return Ye>=0?"0o"+Ye.toString(8):"-0o"+Ye.toString(8).slice(1)},"octal"),decimal:__name(function(Ye){return Ye.toString(10)},"decimal"),hexadecimal:__name(function(Ye){return Ye>=0?"0x"+Ye.toString(16).toUpperCase():"-0x"+Ye.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(Ye){return!(Ye===null||!YAML_FLOAT_PATTERN.test(Ye)||Ye[Ye.length-1]==="_")}__name(resolveYamlFloat,"resolveYamlFloat");function constructYamlFloat(Ye){var rt,it;return rt=Ye.replace(/_/g,"").toLowerCase(),it=rt[0]==="-"?-1:1,"+-".indexOf(rt[0])>=0&&(rt=rt.slice(1)),rt===".inf"?it===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:rt===".nan"?NaN:it*parseFloat(rt,10)}__name(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(Ye,rt){var it;if(isNaN(Ye))switch(rt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Ye)switch(rt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Ye)switch(rt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(Ye))return"-0.0";return it=Ye.toString(10),SCIENTIFIC_WITHOUT_DOT.test(it)?it.replace("e",".e"):it}__name(representYamlFloat,"representYamlFloat");function isFloat(Ye){return Object.prototype.toString.call(Ye)==="[object Number]"&&(Ye%1!==0||common.isNegativeZero(Ye))}__name(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(Ye){return Ye===null?!1:YAML_DATE_REGEXP.exec(Ye)!==null||YAML_TIMESTAMP_REGEXP.exec(Ye)!==null}__name(resolveYamlTimestamp,"resolveYamlTimestamp");function constructYamlTimestamp(Ye){var rt,it,lt,ct,ut,ht,ft,pt=0,mt=null,gt,yt,xt;if(rt=YAML_DATE_REGEXP.exec(Ye),rt===null&&(rt=YAML_TIMESTAMP_REGEXP.exec(Ye)),rt===null)throw new Error("Date resolve error");if(it=+rt[1],lt=+rt[2]-1,ct=+rt[3],!rt[4])return new Date(Date.UTC(it,lt,ct));if(ut=+rt[4],ht=+rt[5],ft=+rt[6],rt[7]){for(pt=rt[7].slice(0,3);pt.length<3;)pt+="0";pt=+pt}return rt[9]&&(gt=+rt[10],yt=+(rt[11]||0),mt=(gt*60+yt)*6e4,rt[9]==="-"&&(mt=-mt)),xt=new Date(Date.UTC(it,lt,ct,ut,ht,ft,pt)),mt&&xt.setTime(xt.getTime()-mt),xt}__name(constructYamlTimestamp,"constructYamlTimestamp");function representYamlTimestamp(Ye){return Ye.toISOString()}__name(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(Ye){return Ye==="<<"||Ye===null}__name(resolveYamlMerge,"resolveYamlMerge");var merge$2=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(Ye){if(Ye===null)return!1;var rt,it,lt=0,ct=Ye.length,ut=BASE64_MAP;for(it=0;it<ct;it++)if(rt=ut.indexOf(Ye.charAt(it)),!(rt>64)){if(rt<0)return!1;lt+=6}return lt%8===0}__name(resolveYamlBinary,"resolveYamlBinary");function constructYamlBinary(Ye){var rt,it,lt=Ye.replace(/[\r\n=]/g,""),ct=lt.length,ut=BASE64_MAP,ht=0,ft=[];for(rt=0;rt<ct;rt++)rt%4===0&&rt&&(ft.push(ht>>16&255),ft.push(ht>>8&255),ft.push(ht&255)),ht=ht<<6|ut.indexOf(lt.charAt(rt));return it=ct%4*6,it===0?(ft.push(ht>>16&255),ft.push(ht>>8&255),ft.push(ht&255)):it===18?(ft.push(ht>>10&255),ft.push(ht>>2&255)):it===12&&ft.push(ht>>4&255),new Uint8Array(ft)}__name(constructYamlBinary,"constructYamlBinary");function representYamlBinary(Ye){var rt="",it=0,lt,ct,ut=Ye.length,ht=BASE64_MAP;for(lt=0;lt<ut;lt++)lt%3===0&&lt&&(rt+=ht[it>>18&63],rt+=ht[it>>12&63],rt+=ht[it>>6&63],rt+=ht[it&63]),it=(it<<8)+Ye[lt];return ct=ut%3,ct===0?(rt+=ht[it>>18&63],rt+=ht[it>>12&63],rt+=ht[it>>6&63],rt+=ht[it&63]):ct===2?(rt+=ht[it>>10&63],rt+=ht[it>>4&63],rt+=ht[it<<2&63],rt+=ht[64]):ct===1&&(rt+=ht[it>>2&63],rt+=ht[it<<4&63],rt+=ht[64],rt+=ht[64]),rt}__name(representYamlBinary,"representYamlBinary");function isBinary(Ye){return Object.prototype.toString.call(Ye)==="[object Uint8Array]"}__name(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(Ye){if(Ye===null)return!0;var rt=[],it,lt,ct,ut,ht,ft=Ye;for(it=0,lt=ft.length;it<lt;it+=1){if(ct=ft[it],ht=!1,_toString$2.call(ct)!=="[object Object]")return!1;for(ut in ct)if(_hasOwnProperty$3.call(ct,ut))if(!ht)ht=!0;else return!1;if(!ht)return!1;if(rt.indexOf(ut)===-1)rt.push(ut);else return!1}return!0}__name(resolveYamlOmap,"resolveYamlOmap");function constructYamlOmap(Ye){return Ye!==null?Ye:[]}__name(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(Ye){if(Ye===null)return!0;var rt,it,lt,ct,ut,ht=Ye;for(ut=new Array(ht.length),rt=0,it=ht.length;rt<it;rt+=1){if(lt=ht[rt],_toString$1.call(lt)!=="[object Object]"||(ct=Object.keys(lt),ct.length!==1))return!1;ut[rt]=[ct[0],lt[ct[0]]]}return!0}__name(resolveYamlPairs,"resolveYamlPairs");function constructYamlPairs(Ye){if(Ye===null)return[];var rt,it,lt,ct,ut,ht=Ye;for(ut=new Array(ht.length),rt=0,it=ht.length;rt<it;rt+=1)lt=ht[rt],ct=Object.keys(lt),ut[rt]=[ct[0],lt[ct[0]]];return ut}__name(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(Ye){if(Ye===null)return!0;var rt,it=Ye;for(rt in it)if(_hasOwnProperty$2.call(it,rt)&&it[rt]!==null)return!1;return!0}__name(resolveYamlSet,"resolveYamlSet");function constructYamlSet(Ye){return Ye!==null?Ye:{}}__name(constructYamlSet,"constructYamlSet");var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$2],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(Ye){return Object.prototype.toString.call(Ye)}__name(_class,"_class");function is_EOL(Ye){return Ye===10||Ye===13}__name(is_EOL,"is_EOL");function is_WHITE_SPACE(Ye){return Ye===9||Ye===32}__name(is_WHITE_SPACE,"is_WHITE_SPACE");function is_WS_OR_EOL(Ye){return Ye===9||Ye===32||Ye===10||Ye===13}__name(is_WS_OR_EOL,"is_WS_OR_EOL");function is_FLOW_INDICATOR(Ye){return Ye===44||Ye===91||Ye===93||Ye===123||Ye===125}__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR");function fromHexCode(Ye){var rt;return 48<=Ye&&Ye<=57?Ye-48:(rt=Ye|32,97<=rt&&rt<=102?rt-97+10:-1)}__name(fromHexCode,"fromHexCode");function escapedHexLen(Ye){return Ye===120?2:Ye===117?4:Ye===85?8:0}__name(escapedHexLen,"escapedHexLen");function fromDecimalCode(Ye){return 48<=Ye&&Ye<=57?Ye-48:-1}__name(fromDecimalCode,"fromDecimalCode");function simpleEscapeSequence(Ye){return Ye===48?"\0":Ye===97?"\x07":Ye===98?"\b":Ye===116||Ye===9?"	":Ye===110?`
`:Ye===118?"\v":Ye===102?"\f":Ye===114?"\r":Ye===101?"\x1B":Ye===32?" ":Ye===34?'"':Ye===47?"/":Ye===92?"\\":Ye===78?"":Ye===95?"":Ye===76?"\u2028":Ye===80?"\u2029":""}__name(simpleEscapeSequence,"simpleEscapeSequence");function charFromCodepoint(Ye){return Ye<=65535?String.fromCharCode(Ye):String.fromCharCode((Ye-65536>>10)+55296,(Ye-65536&1023)+56320)}__name(charFromCodepoint,"charFromCodepoint");var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);var i$1;function State$1(Ye,rt){this.input=Ye,this.filename=rt.filename||null,this.schema=rt.schema||_default,this.onWarning=rt.onWarning||null,this.legacy=rt.legacy||!1,this.json=rt.json||!1,this.listener=rt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=Ye.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}__name(State$1,"State$1");function generateError(Ye,rt){var it={name:Ye.filename,buffer:Ye.input.slice(0,-1),position:Ye.position,line:Ye.line,column:Ye.position-Ye.lineStart};return it.snippet=snippet(it),new exception(rt,it)}__name(generateError,"generateError");function throwError(Ye,rt){throw generateError(Ye,rt)}__name(throwError,"throwError");function throwWarning(Ye,rt){Ye.onWarning&&Ye.onWarning.call(null,generateError(Ye,rt))}__name(throwWarning,"throwWarning");var directiveHandlers={YAML:__name(function Ye(rt,it,lt){var ct,ut,ht;rt.version!==null&&throwError(rt,"duplication of %YAML directive"),lt.length!==1&&throwError(rt,"YAML directive accepts exactly one argument"),ct=/^([0-9]+)\.([0-9]+)$/.exec(lt[0]),ct===null&&throwError(rt,"ill-formed argument of the YAML directive"),ut=parseInt(ct[1],10),ht=parseInt(ct[2],10),ut!==1&&throwError(rt,"unacceptable YAML version of the document"),rt.version=lt[0],rt.checkLineBreaks=ht<2,ht!==1&&ht!==2&&throwWarning(rt,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:__name(function Ye(rt,it,lt){var ct,ut;lt.length!==2&&throwError(rt,"TAG directive accepts exactly two arguments"),ct=lt[0],ut=lt[1],PATTERN_TAG_HANDLE.test(ct)||throwError(rt,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(rt.tagMap,ct)&&throwError(rt,'there is a previously declared suffix for "'+ct+'" tag handle'),PATTERN_TAG_URI.test(ut)||throwError(rt,"ill-formed tag prefix (second argument) of the TAG directive");try{ut=decodeURIComponent(ut)}catch{throwError(rt,"tag prefix is malformed: "+ut)}rt.tagMap[ct]=ut},"handleTagDirective")};function captureSegment(Ye,rt,it,lt){var ct,ut,ht,ft;if(rt<it){if(ft=Ye.input.slice(rt,it),lt)for(ct=0,ut=ft.length;ct<ut;ct+=1)ht=ft.charCodeAt(ct),ht===9||32<=ht&&ht<=1114111||throwError(Ye,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(ft)&&throwError(Ye,"the stream contains non-printable characters");Ye.result+=ft}}__name(captureSegment,"captureSegment");function mergeMappings(Ye,rt,it,lt){var ct,ut,ht,ft;for(common.isObject(it)||throwError(Ye,"cannot merge mappings; the provided source object is unacceptable"),ct=Object.keys(it),ht=0,ft=ct.length;ht<ft;ht+=1)ut=ct[ht],_hasOwnProperty$1.call(rt,ut)||(rt[ut]=it[ut],lt[ut]=!0)}__name(mergeMappings,"mergeMappings");function storeMappingPair(Ye,rt,it,lt,ct,ut,ht,ft,pt){var mt,gt;if(Array.isArray(ct))for(ct=Array.prototype.slice.call(ct),mt=0,gt=ct.length;mt<gt;mt+=1)Array.isArray(ct[mt])&&throwError(Ye,"nested arrays are not supported inside keys"),typeof ct=="object"&&_class(ct[mt])==="[object Object]"&&(ct[mt]="[object Object]");if(typeof ct=="object"&&_class(ct)==="[object Object]"&&(ct="[object Object]"),ct=String(ct),rt===null&&(rt={}),lt==="tag:yaml.org,2002:merge")if(Array.isArray(ut))for(mt=0,gt=ut.length;mt<gt;mt+=1)mergeMappings(Ye,rt,ut[mt],it);else mergeMappings(Ye,rt,ut,it);else!Ye.json&&!_hasOwnProperty$1.call(it,ct)&&_hasOwnProperty$1.call(rt,ct)&&(Ye.line=ht||Ye.line,Ye.lineStart=ft||Ye.lineStart,Ye.position=pt||Ye.position,throwError(Ye,"duplicated mapping key")),ct==="__proto__"?Object.defineProperty(rt,ct,{configurable:!0,enumerable:!0,writable:!0,value:ut}):rt[ct]=ut,delete it[ct];return rt}__name(storeMappingPair,"storeMappingPair");function readLineBreak(Ye){var rt;rt=Ye.input.charCodeAt(Ye.position),rt===10?Ye.position++:rt===13?(Ye.position++,Ye.input.charCodeAt(Ye.position)===10&&Ye.position++):throwError(Ye,"a line break is expected"),Ye.line+=1,Ye.lineStart=Ye.position,Ye.firstTabInLine=-1}__name(readLineBreak,"readLineBreak");function skipSeparationSpace(Ye,rt,it){for(var lt=0,ct=Ye.input.charCodeAt(Ye.position);ct!==0;){for(;is_WHITE_SPACE(ct);)ct===9&&Ye.firstTabInLine===-1&&(Ye.firstTabInLine=Ye.position),ct=Ye.input.charCodeAt(++Ye.position);if(rt&&ct===35)do ct=Ye.input.charCodeAt(++Ye.position);while(ct!==10&&ct!==13&&ct!==0);if(is_EOL(ct))for(readLineBreak(Ye),ct=Ye.input.charCodeAt(Ye.position),lt++,Ye.lineIndent=0;ct===32;)Ye.lineIndent++,ct=Ye.input.charCodeAt(++Ye.position);else break}return it!==-1&&lt!==0&&Ye.lineIndent<it&&throwWarning(Ye,"deficient indentation"),lt}__name(skipSeparationSpace,"skipSeparationSpace");function testDocumentSeparator(Ye){var rt=Ye.position,it;return it=Ye.input.charCodeAt(rt),!!((it===45||it===46)&&it===Ye.input.charCodeAt(rt+1)&&it===Ye.input.charCodeAt(rt+2)&&(rt+=3,it=Ye.input.charCodeAt(rt),it===0||is_WS_OR_EOL(it)))}__name(testDocumentSeparator,"testDocumentSeparator");function writeFoldedLines(Ye,rt){rt===1?Ye.result+=" ":rt>1&&(Ye.result+=common.repeat(`
`,rt-1))}__name(writeFoldedLines,"writeFoldedLines");function readPlainScalar(Ye,rt,it){var lt,ct,ut,ht,ft,pt,mt,gt,yt=Ye.kind,xt=Ye.result,bt;if(bt=Ye.input.charCodeAt(Ye.position),is_WS_OR_EOL(bt)||is_FLOW_INDICATOR(bt)||bt===35||bt===38||bt===42||bt===33||bt===124||bt===62||bt===39||bt===34||bt===37||bt===64||bt===96||(bt===63||bt===45)&&(ct=Ye.input.charCodeAt(Ye.position+1),is_WS_OR_EOL(ct)||it&&is_FLOW_INDICATOR(ct)))return!1;for(Ye.kind="scalar",Ye.result="",ut=ht=Ye.position,ft=!1;bt!==0;){if(bt===58){if(ct=Ye.input.charCodeAt(Ye.position+1),is_WS_OR_EOL(ct)||it&&is_FLOW_INDICATOR(ct))break}else if(bt===35){if(lt=Ye.input.charCodeAt(Ye.position-1),is_WS_OR_EOL(lt))break}else{if(Ye.position===Ye.lineStart&&testDocumentSeparator(Ye)||it&&is_FLOW_INDICATOR(bt))break;if(is_EOL(bt))if(pt=Ye.line,mt=Ye.lineStart,gt=Ye.lineIndent,skipSeparationSpace(Ye,!1,-1),Ye.lineIndent>=rt){ft=!0,bt=Ye.input.charCodeAt(Ye.position);continue}else{Ye.position=ht,Ye.line=pt,Ye.lineStart=mt,Ye.lineIndent=gt;break}}ft&&(captureSegment(Ye,ut,ht,!1),writeFoldedLines(Ye,Ye.line-pt),ut=ht=Ye.position,ft=!1),is_WHITE_SPACE(bt)||(ht=Ye.position+1),bt=Ye.input.charCodeAt(++Ye.position)}return captureSegment(Ye,ut,ht,!1),Ye.result?!0:(Ye.kind=yt,Ye.result=xt,!1)}__name(readPlainScalar,"readPlainScalar");function readSingleQuotedScalar(Ye,rt){var it,lt,ct;if(it=Ye.input.charCodeAt(Ye.position),it!==39)return!1;for(Ye.kind="scalar",Ye.result="",Ye.position++,lt=ct=Ye.position;(it=Ye.input.charCodeAt(Ye.position))!==0;)if(it===39)if(captureSegment(Ye,lt,Ye.position,!0),it=Ye.input.charCodeAt(++Ye.position),it===39)lt=Ye.position,Ye.position++,ct=Ye.position;else return!0;else is_EOL(it)?(captureSegment(Ye,lt,ct,!0),writeFoldedLines(Ye,skipSeparationSpace(Ye,!1,rt)),lt=ct=Ye.position):Ye.position===Ye.lineStart&&testDocumentSeparator(Ye)?throwError(Ye,"unexpected end of the document within a single quoted scalar"):(Ye.position++,ct=Ye.position);throwError(Ye,"unexpected end of the stream within a single quoted scalar")}__name(readSingleQuotedScalar,"readSingleQuotedScalar");function readDoubleQuotedScalar(Ye,rt){var it,lt,ct,ut,ht,ft;if(ft=Ye.input.charCodeAt(Ye.position),ft!==34)return!1;for(Ye.kind="scalar",Ye.result="",Ye.position++,it=lt=Ye.position;(ft=Ye.input.charCodeAt(Ye.position))!==0;){if(ft===34)return captureSegment(Ye,it,Ye.position,!0),Ye.position++,!0;if(ft===92){if(captureSegment(Ye,it,Ye.position,!0),ft=Ye.input.charCodeAt(++Ye.position),is_EOL(ft))skipSeparationSpace(Ye,!1,rt);else if(ft<256&&simpleEscapeCheck[ft])Ye.result+=simpleEscapeMap[ft],Ye.position++;else if((ht=escapedHexLen(ft))>0){for(ct=ht,ut=0;ct>0;ct--)ft=Ye.input.charCodeAt(++Ye.position),(ht=fromHexCode(ft))>=0?ut=(ut<<4)+ht:throwError(Ye,"expected hexadecimal character");Ye.result+=charFromCodepoint(ut),Ye.position++}else throwError(Ye,"unknown escape sequence");it=lt=Ye.position}else is_EOL(ft)?(captureSegment(Ye,it,lt,!0),writeFoldedLines(Ye,skipSeparationSpace(Ye,!1,rt)),it=lt=Ye.position):Ye.position===Ye.lineStart&&testDocumentSeparator(Ye)?throwError(Ye,"unexpected end of the document within a double quoted scalar"):(Ye.position++,lt=Ye.position)}throwError(Ye,"unexpected end of the stream within a double quoted scalar")}__name(readDoubleQuotedScalar,"readDoubleQuotedScalar");function readFlowCollection(Ye,rt){var it=!0,lt,ct,ut,ht=Ye.tag,ft,pt=Ye.anchor,mt,gt,yt,xt,bt,_t=Object.create(null),Ct,kt,St,Rt;if(Rt=Ye.input.charCodeAt(Ye.position),Rt===91)gt=93,bt=!1,ft=[];else if(Rt===123)gt=125,bt=!0,ft={};else return!1;for(Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=ft),Rt=Ye.input.charCodeAt(++Ye.position);Rt!==0;){if(skipSeparationSpace(Ye,!0,rt),Rt=Ye.input.charCodeAt(Ye.position),Rt===gt)return Ye.position++,Ye.tag=ht,Ye.anchor=pt,Ye.kind=bt?"mapping":"sequence",Ye.result=ft,!0;it?Rt===44&&throwError(Ye,"expected the node content, but found ','"):throwError(Ye,"missed comma between flow collection entries"),kt=Ct=St=null,yt=xt=!1,Rt===63&&(mt=Ye.input.charCodeAt(Ye.position+1),is_WS_OR_EOL(mt)&&(yt=xt=!0,Ye.position++,skipSeparationSpace(Ye,!0,rt))),lt=Ye.line,ct=Ye.lineStart,ut=Ye.position,composeNode(Ye,rt,CONTEXT_FLOW_IN,!1,!0),kt=Ye.tag,Ct=Ye.result,skipSeparationSpace(Ye,!0,rt),Rt=Ye.input.charCodeAt(Ye.position),(xt||Ye.line===lt)&&Rt===58&&(yt=!0,Rt=Ye.input.charCodeAt(++Ye.position),skipSeparationSpace(Ye,!0,rt),composeNode(Ye,rt,CONTEXT_FLOW_IN,!1,!0),St=Ye.result),bt?storeMappingPair(Ye,ft,_t,kt,Ct,St,lt,ct,ut):yt?ft.push(storeMappingPair(Ye,null,_t,kt,Ct,St,lt,ct,ut)):ft.push(Ct),skipSeparationSpace(Ye,!0,rt),Rt=Ye.input.charCodeAt(Ye.position),Rt===44?(it=!0,Rt=Ye.input.charCodeAt(++Ye.position)):it=!1}throwError(Ye,"unexpected end of the stream within a flow collection")}__name(readFlowCollection,"readFlowCollection");function readBlockScalar(Ye,rt){var it,lt,ct=CHOMPING_CLIP,ut=!1,ht=!1,ft=rt,pt=0,mt=!1,gt,yt;if(yt=Ye.input.charCodeAt(Ye.position),yt===124)lt=!1;else if(yt===62)lt=!0;else return!1;for(Ye.kind="scalar",Ye.result="";yt!==0;)if(yt=Ye.input.charCodeAt(++Ye.position),yt===43||yt===45)CHOMPING_CLIP===ct?ct=yt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(Ye,"repeat of a chomping mode identifier");else if((gt=fromDecimalCode(yt))>=0)gt===0?throwError(Ye,"bad explicit indentation width of a block scalar; it cannot be less than one"):ht?throwError(Ye,"repeat of an indentation width identifier"):(ft=rt+gt-1,ht=!0);else break;if(is_WHITE_SPACE(yt)){do yt=Ye.input.charCodeAt(++Ye.position);while(is_WHITE_SPACE(yt));if(yt===35)do yt=Ye.input.charCodeAt(++Ye.position);while(!is_EOL(yt)&&yt!==0)}for(;yt!==0;){for(readLineBreak(Ye),Ye.lineIndent=0,yt=Ye.input.charCodeAt(Ye.position);(!ht||Ye.lineIndent<ft)&&yt===32;)Ye.lineIndent++,yt=Ye.input.charCodeAt(++Ye.position);if(!ht&&Ye.lineIndent>ft&&(ft=Ye.lineIndent),is_EOL(yt)){pt++;continue}if(Ye.lineIndent<ft){ct===CHOMPING_KEEP?Ye.result+=common.repeat(`
`,ut?1+pt:pt):ct===CHOMPING_CLIP&&ut&&(Ye.result+=`
`);break}for(lt?is_WHITE_SPACE(yt)?(mt=!0,Ye.result+=common.repeat(`
`,ut?1+pt:pt)):mt?(mt=!1,Ye.result+=common.repeat(`
`,pt+1)):pt===0?ut&&(Ye.result+=" "):Ye.result+=common.repeat(`
`,pt):Ye.result+=common.repeat(`
`,ut?1+pt:pt),ut=!0,ht=!0,pt=0,it=Ye.position;!is_EOL(yt)&&yt!==0;)yt=Ye.input.charCodeAt(++Ye.position);captureSegment(Ye,it,Ye.position,!1)}return!0}__name(readBlockScalar,"readBlockScalar");function readBlockSequence(Ye,rt){var it,lt=Ye.tag,ct=Ye.anchor,ut=[],ht,ft=!1,pt;if(Ye.firstTabInLine!==-1)return!1;for(Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=ut),pt=Ye.input.charCodeAt(Ye.position);pt!==0&&(Ye.firstTabInLine!==-1&&(Ye.position=Ye.firstTabInLine,throwError(Ye,"tab characters must not be used in indentation")),!(pt!==45||(ht=Ye.input.charCodeAt(Ye.position+1),!is_WS_OR_EOL(ht))));){if(ft=!0,Ye.position++,skipSeparationSpace(Ye,!0,-1)&&Ye.lineIndent<=rt){ut.push(null),pt=Ye.input.charCodeAt(Ye.position);continue}if(it=Ye.line,composeNode(Ye,rt,CONTEXT_BLOCK_IN,!1,!0),ut.push(Ye.result),skipSeparationSpace(Ye,!0,-1),pt=Ye.input.charCodeAt(Ye.position),(Ye.line===it||Ye.lineIndent>rt)&&pt!==0)throwError(Ye,"bad indentation of a sequence entry");else if(Ye.lineIndent<rt)break}return ft?(Ye.tag=lt,Ye.anchor=ct,Ye.kind="sequence",Ye.result=ut,!0):!1}__name(readBlockSequence,"readBlockSequence");function readBlockMapping(Ye,rt,it){var lt,ct,ut,ht,ft,pt,mt=Ye.tag,gt=Ye.anchor,yt={},xt=Object.create(null),bt=null,_t=null,Ct=null,kt=!1,St=!1,Rt;if(Ye.firstTabInLine!==-1)return!1;for(Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=yt),Rt=Ye.input.charCodeAt(Ye.position);Rt!==0;){if(!kt&&Ye.firstTabInLine!==-1&&(Ye.position=Ye.firstTabInLine,throwError(Ye,"tab characters must not be used in indentation")),lt=Ye.input.charCodeAt(Ye.position+1),ut=Ye.line,(Rt===63||Rt===58)&&is_WS_OR_EOL(lt))Rt===63?(kt&&(storeMappingPair(Ye,yt,xt,bt,_t,null,ht,ft,pt),bt=_t=Ct=null),St=!0,kt=!0,ct=!0):kt?(kt=!1,ct=!0):throwError(Ye,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Ye.position+=1,Rt=lt;else{if(ht=Ye.line,ft=Ye.lineStart,pt=Ye.position,!composeNode(Ye,it,CONTEXT_FLOW_OUT,!1,!0))break;if(Ye.line===ut){for(Rt=Ye.input.charCodeAt(Ye.position);is_WHITE_SPACE(Rt);)Rt=Ye.input.charCodeAt(++Ye.position);if(Rt===58)Rt=Ye.input.charCodeAt(++Ye.position),is_WS_OR_EOL(Rt)||throwError(Ye,"a whitespace character is expected after the key-value separator within a block mapping"),kt&&(storeMappingPair(Ye,yt,xt,bt,_t,null,ht,ft,pt),bt=_t=Ct=null),St=!0,kt=!1,ct=!1,bt=Ye.tag,_t=Ye.result;else if(St)throwError(Ye,"can not read an implicit mapping pair; a colon is missed");else return Ye.tag=mt,Ye.anchor=gt,!0}else if(St)throwError(Ye,"can not read a block mapping entry; a multiline key may not be an implicit key");else return Ye.tag=mt,Ye.anchor=gt,!0}if((Ye.line===ut||Ye.lineIndent>rt)&&(kt&&(ht=Ye.line,ft=Ye.lineStart,pt=Ye.position),composeNode(Ye,rt,CONTEXT_BLOCK_OUT,!0,ct)&&(kt?_t=Ye.result:Ct=Ye.result),kt||(storeMappingPair(Ye,yt,xt,bt,_t,Ct,ht,ft,pt),bt=_t=Ct=null),skipSeparationSpace(Ye,!0,-1),Rt=Ye.input.charCodeAt(Ye.position)),(Ye.line===ut||Ye.lineIndent>rt)&&Rt!==0)throwError(Ye,"bad indentation of a mapping entry");else if(Ye.lineIndent<rt)break}return kt&&storeMappingPair(Ye,yt,xt,bt,_t,null,ht,ft,pt),St&&(Ye.tag=mt,Ye.anchor=gt,Ye.kind="mapping",Ye.result=yt),St}__name(readBlockMapping,"readBlockMapping");function readTagProperty(Ye){var rt,it=!1,lt=!1,ct,ut,ht;if(ht=Ye.input.charCodeAt(Ye.position),ht!==33)return!1;if(Ye.tag!==null&&throwError(Ye,"duplication of a tag property"),ht=Ye.input.charCodeAt(++Ye.position),ht===60?(it=!0,ht=Ye.input.charCodeAt(++Ye.position)):ht===33?(lt=!0,ct="!!",ht=Ye.input.charCodeAt(++Ye.position)):ct="!",rt=Ye.position,it){do ht=Ye.input.charCodeAt(++Ye.position);while(ht!==0&&ht!==62);Ye.position<Ye.length?(ut=Ye.input.slice(rt,Ye.position),ht=Ye.input.charCodeAt(++Ye.position)):throwError(Ye,"unexpected end of the stream within a verbatim tag")}else{for(;ht!==0&&!is_WS_OR_EOL(ht);)ht===33&&(lt?throwError(Ye,"tag suffix cannot contain exclamation marks"):(ct=Ye.input.slice(rt-1,Ye.position+1),PATTERN_TAG_HANDLE.test(ct)||throwError(Ye,"named tag handle cannot contain such characters"),lt=!0,rt=Ye.position+1)),ht=Ye.input.charCodeAt(++Ye.position);ut=Ye.input.slice(rt,Ye.position),PATTERN_FLOW_INDICATORS.test(ut)&&throwError(Ye,"tag suffix cannot contain flow indicator characters")}ut&&!PATTERN_TAG_URI.test(ut)&&throwError(Ye,"tag name cannot contain such characters: "+ut);try{ut=decodeURIComponent(ut)}catch{throwError(Ye,"tag name is malformed: "+ut)}return it?Ye.tag=ut:_hasOwnProperty$1.call(Ye.tagMap,ct)?Ye.tag=Ye.tagMap[ct]+ut:ct==="!"?Ye.tag="!"+ut:ct==="!!"?Ye.tag="tag:yaml.org,2002:"+ut:throwError(Ye,'undeclared tag handle "'+ct+'"'),!0}__name(readTagProperty,"readTagProperty");function readAnchorProperty(Ye){var rt,it;if(it=Ye.input.charCodeAt(Ye.position),it!==38)return!1;for(Ye.anchor!==null&&throwError(Ye,"duplication of an anchor property"),it=Ye.input.charCodeAt(++Ye.position),rt=Ye.position;it!==0&&!is_WS_OR_EOL(it)&&!is_FLOW_INDICATOR(it);)it=Ye.input.charCodeAt(++Ye.position);return Ye.position===rt&&throwError(Ye,"name of an anchor node must contain at least one character"),Ye.anchor=Ye.input.slice(rt,Ye.position),!0}__name(readAnchorProperty,"readAnchorProperty");function readAlias(Ye){var rt,it,lt;if(lt=Ye.input.charCodeAt(Ye.position),lt!==42)return!1;for(lt=Ye.input.charCodeAt(++Ye.position),rt=Ye.position;lt!==0&&!is_WS_OR_EOL(lt)&&!is_FLOW_INDICATOR(lt);)lt=Ye.input.charCodeAt(++Ye.position);return Ye.position===rt&&throwError(Ye,"name of an alias node must contain at least one character"),it=Ye.input.slice(rt,Ye.position),_hasOwnProperty$1.call(Ye.anchorMap,it)||throwError(Ye,'unidentified alias "'+it+'"'),Ye.result=Ye.anchorMap[it],skipSeparationSpace(Ye,!0,-1),!0}__name(readAlias,"readAlias");function composeNode(Ye,rt,it,lt,ct){var ut,ht,ft,pt=1,mt=!1,gt=!1,yt,xt,bt,_t,Ct,kt;if(Ye.listener!==null&&Ye.listener("open",Ye),Ye.tag=null,Ye.anchor=null,Ye.kind=null,Ye.result=null,ut=ht=ft=CONTEXT_BLOCK_OUT===it||CONTEXT_BLOCK_IN===it,lt&&skipSeparationSpace(Ye,!0,-1)&&(mt=!0,Ye.lineIndent>rt?pt=1:Ye.lineIndent===rt?pt=0:Ye.lineIndent<rt&&(pt=-1)),pt===1)for(;readTagProperty(Ye)||readAnchorProperty(Ye);)skipSeparationSpace(Ye,!0,-1)?(mt=!0,ft=ut,Ye.lineIndent>rt?pt=1:Ye.lineIndent===rt?pt=0:Ye.lineIndent<rt&&(pt=-1)):ft=!1;if(ft&&(ft=mt||ct),(pt===1||CONTEXT_BLOCK_OUT===it)&&(CONTEXT_FLOW_IN===it||CONTEXT_FLOW_OUT===it?Ct=rt:Ct=rt+1,kt=Ye.position-Ye.lineStart,pt===1?ft&&(readBlockSequence(Ye,kt)||readBlockMapping(Ye,kt,Ct))||readFlowCollection(Ye,Ct)?gt=!0:(ht&&readBlockScalar(Ye,Ct)||readSingleQuotedScalar(Ye,Ct)||readDoubleQuotedScalar(Ye,Ct)?gt=!0:readAlias(Ye)?(gt=!0,(Ye.tag!==null||Ye.anchor!==null)&&throwError(Ye,"alias node should not have any properties")):readPlainScalar(Ye,Ct,CONTEXT_FLOW_IN===it)&&(gt=!0,Ye.tag===null&&(Ye.tag="?")),Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=Ye.result)):pt===0&&(gt=ft&&readBlockSequence(Ye,kt))),Ye.tag===null)Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=Ye.result);else if(Ye.tag==="?"){for(Ye.result!==null&&Ye.kind!=="scalar"&&throwError(Ye,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+Ye.kind+'"'),yt=0,xt=Ye.implicitTypes.length;yt<xt;yt+=1)if(_t=Ye.implicitTypes[yt],_t.resolve(Ye.result)){Ye.result=_t.construct(Ye.result),Ye.tag=_t.tag,Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=Ye.result);break}}else if(Ye.tag!=="!"){if(_hasOwnProperty$1.call(Ye.typeMap[Ye.kind||"fallback"],Ye.tag))_t=Ye.typeMap[Ye.kind||"fallback"][Ye.tag];else for(_t=null,bt=Ye.typeMap.multi[Ye.kind||"fallback"],yt=0,xt=bt.length;yt<xt;yt+=1)if(Ye.tag.slice(0,bt[yt].tag.length)===bt[yt].tag){_t=bt[yt];break}_t||throwError(Ye,"unknown tag !<"+Ye.tag+">"),Ye.result!==null&&_t.kind!==Ye.kind&&throwError(Ye,"unacceptable node kind for !<"+Ye.tag+'> tag; it should be "'+_t.kind+'", not "'+Ye.kind+'"'),_t.resolve(Ye.result,Ye.tag)?(Ye.result=_t.construct(Ye.result,Ye.tag),Ye.anchor!==null&&(Ye.anchorMap[Ye.anchor]=Ye.result)):throwError(Ye,"cannot resolve a node with !<"+Ye.tag+"> explicit tag")}return Ye.listener!==null&&Ye.listener("close",Ye),Ye.tag!==null||Ye.anchor!==null||gt}__name(composeNode,"composeNode");function readDocument(Ye){var rt=Ye.position,it,lt,ct,ut=!1,ht;for(Ye.version=null,Ye.checkLineBreaks=Ye.legacy,Ye.tagMap=Object.create(null),Ye.anchorMap=Object.create(null);(ht=Ye.input.charCodeAt(Ye.position))!==0&&(skipSeparationSpace(Ye,!0,-1),ht=Ye.input.charCodeAt(Ye.position),!(Ye.lineIndent>0||ht!==37));){for(ut=!0,ht=Ye.input.charCodeAt(++Ye.position),it=Ye.position;ht!==0&&!is_WS_OR_EOL(ht);)ht=Ye.input.charCodeAt(++Ye.position);for(lt=Ye.input.slice(it,Ye.position),ct=[],lt.length<1&&throwError(Ye,"directive name must not be less than one character in length");ht!==0;){for(;is_WHITE_SPACE(ht);)ht=Ye.input.charCodeAt(++Ye.position);if(ht===35){do ht=Ye.input.charCodeAt(++Ye.position);while(ht!==0&&!is_EOL(ht));break}if(is_EOL(ht))break;for(it=Ye.position;ht!==0&&!is_WS_OR_EOL(ht);)ht=Ye.input.charCodeAt(++Ye.position);ct.push(Ye.input.slice(it,Ye.position))}ht!==0&&readLineBreak(Ye),_hasOwnProperty$1.call(directiveHandlers,lt)?directiveHandlers[lt](Ye,lt,ct):throwWarning(Ye,'unknown document directive "'+lt+'"')}if(skipSeparationSpace(Ye,!0,-1),Ye.lineIndent===0&&Ye.input.charCodeAt(Ye.position)===45&&Ye.input.charCodeAt(Ye.position+1)===45&&Ye.input.charCodeAt(Ye.position+2)===45?(Ye.position+=3,skipSeparationSpace(Ye,!0,-1)):ut&&throwError(Ye,"directives end mark is expected"),composeNode(Ye,Ye.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(Ye,!0,-1),Ye.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(Ye.input.slice(rt,Ye.position))&&throwWarning(Ye,"non-ASCII line breaks are interpreted as content"),Ye.documents.push(Ye.result),Ye.position===Ye.lineStart&&testDocumentSeparator(Ye)){Ye.input.charCodeAt(Ye.position)===46&&(Ye.position+=3,skipSeparationSpace(Ye,!0,-1));return}if(Ye.position<Ye.length-1)throwError(Ye,"end of the stream or a document separator is expected");else return}__name(readDocument,"readDocument");function loadDocuments(Ye,rt){Ye=String(Ye),rt=rt||{},Ye.length!==0&&(Ye.charCodeAt(Ye.length-1)!==10&&Ye.charCodeAt(Ye.length-1)!==13&&(Ye+=`
`),Ye.charCodeAt(0)===65279&&(Ye=Ye.slice(1)));var it=new State$1(Ye,rt),lt=Ye.indexOf("\0");for(lt!==-1&&(it.position=lt,throwError(it,"null byte is not allowed in input")),it.input+="\0";it.input.charCodeAt(it.position)===32;)it.lineIndent+=1,it.position+=1;for(;it.position<it.length-1;)readDocument(it);return it.documents}__name(loadDocuments,"loadDocuments");function loadAll$1(Ye,rt,it){rt!==null&&typeof rt=="object"&&typeof it>"u"&&(it=rt,rt=null);var lt=loadDocuments(Ye,it);if(typeof rt!="function")return lt;for(var ct=0,ut=lt.length;ct<ut;ct+=1)rt(lt[ct])}__name(loadAll$1,"loadAll$1");function load$1(Ye,rt){var it=loadDocuments(Ye,rt);if(it.length!==0){if(it.length===1)return it[0];throw new exception("expected a single document in the stream, but found more")}}__name(load$1,"load$1");var load_1=load$1,loader$1={load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(Ye,rt){var it,lt,ct,ut,ht,ft,pt;if(rt===null)return{};for(it={},lt=Object.keys(rt),ct=0,ut=lt.length;ct<ut;ct+=1)ht=lt[ct],ft=String(rt[ht]),ht.slice(0,2)==="!!"&&(ht="tag:yaml.org,2002:"+ht.slice(2)),pt=Ye.compiledTypeMap.fallback[ht],pt&&_hasOwnProperty.call(pt.styleAliases,ft)&&(ft=pt.styleAliases[ft]),it[ht]=ft;return it}__name(compileStyleMap,"compileStyleMap");function encodeHex(Ye){var rt,it,lt;if(rt=Ye.toString(16).toUpperCase(),Ye<=255)it="x",lt=2;else if(Ye<=65535)it="u",lt=4;else if(Ye<=4294967295)it="U",lt=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+it+common.repeat("0",lt-rt.length)+rt}__name(encodeHex,"encodeHex");var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(Ye){this.schema=Ye.schema||_default,this.indent=Math.max(1,Ye.indent||2),this.noArrayIndent=Ye.noArrayIndent||!1,this.skipInvalid=Ye.skipInvalid||!1,this.flowLevel=common.isNothing(Ye.flowLevel)?-1:Ye.flowLevel,this.styleMap=compileStyleMap(this.schema,Ye.styles||null),this.sortKeys=Ye.sortKeys||!1,this.lineWidth=Ye.lineWidth||80,this.noRefs=Ye.noRefs||!1,this.noCompatMode=Ye.noCompatMode||!1,this.condenseFlow=Ye.condenseFlow||!1,this.quotingType=Ye.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=Ye.forceQuotes||!1,this.replacer=typeof Ye.replacer=="function"?Ye.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}__name(State,"State");function indentString(Ye,rt){for(var it=common.repeat(" ",rt),lt=0,ct=-1,ut="",ht,ft=Ye.length;lt<ft;)ct=Ye.indexOf(`
`,lt),ct===-1?(ht=Ye.slice(lt),lt=ft):(ht=Ye.slice(lt,ct+1),lt=ct+1),ht.length&&ht!==`
`&&(ut+=it),ut+=ht;return ut}__name(indentString,"indentString");function generateNextLine(Ye,rt){return`
`+common.repeat(" ",Ye.indent*rt)}__name(generateNextLine,"generateNextLine");function testImplicitResolving(Ye,rt){var it,lt,ct;for(it=0,lt=Ye.implicitTypes.length;it<lt;it+=1)if(ct=Ye.implicitTypes[it],ct.resolve(rt))return!0;return!1}__name(testImplicitResolving,"testImplicitResolving");function isWhitespace(Ye){return Ye===CHAR_SPACE||Ye===CHAR_TAB}__name(isWhitespace,"isWhitespace");function isPrintable(Ye){return 32<=Ye&&Ye<=126||161<=Ye&&Ye<=55295&&Ye!==8232&&Ye!==8233||57344<=Ye&&Ye<=65533&&Ye!==CHAR_BOM||65536<=Ye&&Ye<=1114111}__name(isPrintable,"isPrintable");function isNsCharOrWhitespace(Ye){return isPrintable(Ye)&&Ye!==CHAR_BOM&&Ye!==CHAR_CARRIAGE_RETURN&&Ye!==CHAR_LINE_FEED}__name(isNsCharOrWhitespace,"isNsCharOrWhitespace");function isPlainSafe(Ye,rt,it){var lt=isNsCharOrWhitespace(Ye),ct=lt&&!isWhitespace(Ye);return(it?lt:lt&&Ye!==CHAR_COMMA&&Ye!==CHAR_LEFT_SQUARE_BRACKET&&Ye!==CHAR_RIGHT_SQUARE_BRACKET&&Ye!==CHAR_LEFT_CURLY_BRACKET&&Ye!==CHAR_RIGHT_CURLY_BRACKET)&&Ye!==CHAR_SHARP&&!(rt===CHAR_COLON&&!ct)||isNsCharOrWhitespace(rt)&&!isWhitespace(rt)&&Ye===CHAR_SHARP||rt===CHAR_COLON&&ct}__name(isPlainSafe,"isPlainSafe");function isPlainSafeFirst(Ye){return isPrintable(Ye)&&Ye!==CHAR_BOM&&!isWhitespace(Ye)&&Ye!==CHAR_MINUS&&Ye!==CHAR_QUESTION&&Ye!==CHAR_COLON&&Ye!==CHAR_COMMA&&Ye!==CHAR_LEFT_SQUARE_BRACKET&&Ye!==CHAR_RIGHT_SQUARE_BRACKET&&Ye!==CHAR_LEFT_CURLY_BRACKET&&Ye!==CHAR_RIGHT_CURLY_BRACKET&&Ye!==CHAR_SHARP&&Ye!==CHAR_AMPERSAND&&Ye!==CHAR_ASTERISK&&Ye!==CHAR_EXCLAMATION&&Ye!==CHAR_VERTICAL_LINE&&Ye!==CHAR_EQUALS&&Ye!==CHAR_GREATER_THAN&&Ye!==CHAR_SINGLE_QUOTE&&Ye!==CHAR_DOUBLE_QUOTE&&Ye!==CHAR_PERCENT&&Ye!==CHAR_COMMERCIAL_AT&&Ye!==CHAR_GRAVE_ACCENT}__name(isPlainSafeFirst,"isPlainSafeFirst");function isPlainSafeLast(Ye){return!isWhitespace(Ye)&&Ye!==CHAR_COLON}__name(isPlainSafeLast,"isPlainSafeLast");function codePointAt(Ye,rt){var it=Ye.charCodeAt(rt),lt;return it>=55296&&it<=56319&&rt+1<Ye.length&&(lt=Ye.charCodeAt(rt+1),lt>=56320&&lt<=57343)?(it-55296)*1024+lt-56320+65536:it}__name(codePointAt,"codePointAt");function needIndentIndicator(Ye){var rt=/^\n* /;return rt.test(Ye)}__name(needIndentIndicator,"needIndentIndicator");var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(Ye,rt,it,lt,ct,ut,ht,ft){var pt,mt=0,gt=null,yt=!1,xt=!1,bt=lt!==-1,_t=-1,Ct=isPlainSafeFirst(codePointAt(Ye,0))&&isPlainSafeLast(codePointAt(Ye,Ye.length-1));if(rt||ht)for(pt=0;pt<Ye.length;mt>=65536?pt+=2:pt++){if(mt=codePointAt(Ye,pt),!isPrintable(mt))return STYLE_DOUBLE;Ct=Ct&&isPlainSafe(mt,gt,ft),gt=mt}else{for(pt=0;pt<Ye.length;mt>=65536?pt+=2:pt++){if(mt=codePointAt(Ye,pt),mt===CHAR_LINE_FEED)yt=!0,bt&&(xt=xt||pt-_t-1>lt&&Ye[_t+1]!==" ",_t=pt);else if(!isPrintable(mt))return STYLE_DOUBLE;Ct=Ct&&isPlainSafe(mt,gt,ft),gt=mt}xt=xt||bt&&pt-_t-1>lt&&Ye[_t+1]!==" "}return!yt&&!xt?Ct&&!ht&&!ct(Ye)?STYLE_PLAIN:ut===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:it>9&&needIndentIndicator(Ye)?STYLE_DOUBLE:ht?ut===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:xt?STYLE_FOLDED:STYLE_LITERAL}__name(chooseScalarStyle,"chooseScalarStyle");function writeScalar(Ye,rt,it,lt,ct){Ye.dump=(function(){if(rt.length===0)return Ye.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!Ye.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(rt)!==-1||DEPRECATED_BASE60_SYNTAX.test(rt)))return Ye.quotingType===QUOTING_TYPE_DOUBLE?'"'+rt+'"':"'"+rt+"'";var ut=Ye.indent*Math.max(1,it),ht=Ye.lineWidth===-1?-1:Math.max(Math.min(Ye.lineWidth,40),Ye.lineWidth-ut),ft=lt||Ye.flowLevel>-1&&it>=Ye.flowLevel;function pt(mt){return testImplicitResolving(Ye,mt)}switch(__name(pt,"testAmbiguity"),chooseScalarStyle(rt,ft,Ye.indent,ht,pt,Ye.quotingType,Ye.forceQuotes&&!lt,ct)){case STYLE_PLAIN:return rt;case STYLE_SINGLE:return"'"+rt.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(rt,Ye.indent)+dropEndingNewline(indentString(rt,ut));case STYLE_FOLDED:return">"+blockHeader(rt,Ye.indent)+dropEndingNewline(indentString(foldString(rt,ht),ut));case STYLE_DOUBLE:return'"'+escapeString(rt)+'"';default:throw new exception("impossible error: invalid scalar style")}})()}__name(writeScalar,"writeScalar");function blockHeader(Ye,rt){var it=needIndentIndicator(Ye)?String(rt):"",lt=Ye[Ye.length-1]===`
`,ct=lt&&(Ye[Ye.length-2]===`
`||Ye===`
`),ut=ct?"+":lt?"":"-";return it+ut+`
`}__name(blockHeader,"blockHeader");function dropEndingNewline(Ye){return Ye[Ye.length-1]===`
`?Ye.slice(0,-1):Ye}__name(dropEndingNewline,"dropEndingNewline");function foldString(Ye,rt){for(var it=/(\n+)([^\n]*)/g,lt=(function(){var mt=Ye.indexOf(`
`);return mt=mt!==-1?mt:Ye.length,it.lastIndex=mt,foldLine(Ye.slice(0,mt),rt)})(),ct=Ye[0]===`
`||Ye[0]===" ",ut,ht;ht=it.exec(Ye);){var ft=ht[1],pt=ht[2];ut=pt[0]===" ",lt+=ft+(!ct&&!ut&&pt!==""?`
`:"")+foldLine(pt,rt),ct=ut}return lt}__name(foldString,"foldString");function foldLine(Ye,rt){if(Ye===""||Ye[0]===" ")return Ye;for(var it=/ [^ ]/g,lt,ct=0,ut,ht=0,ft=0,pt="";lt=it.exec(Ye);)ft=lt.index,ft-ct>rt&&(ut=ht>ct?ht:ft,pt+=`
`+Ye.slice(ct,ut),ct=ut+1),ht=ft;return pt+=`
`,Ye.length-ct>rt&&ht>ct?pt+=Ye.slice(ct,ht)+`
`+Ye.slice(ht+1):pt+=Ye.slice(ct),pt.slice(1)}__name(foldLine,"foldLine");function escapeString(Ye){for(var rt="",it=0,lt,ct=0;ct<Ye.length;it>=65536?ct+=2:ct++)it=codePointAt(Ye,ct),lt=ESCAPE_SEQUENCES[it],!lt&&isPrintable(it)?(rt+=Ye[ct],it>=65536&&(rt+=Ye[ct+1])):rt+=lt||encodeHex(it);return rt}__name(escapeString,"escapeString");function writeFlowSequence(Ye,rt,it){var lt="",ct=Ye.tag,ut,ht,ft;for(ut=0,ht=it.length;ut<ht;ut+=1)ft=it[ut],Ye.replacer&&(ft=Ye.replacer.call(it,String(ut),ft)),(writeNode(Ye,rt,ft,!1,!1)||typeof ft>"u"&&writeNode(Ye,rt,null,!1,!1))&&(lt!==""&&(lt+=","+(Ye.condenseFlow?"":" ")),lt+=Ye.dump);Ye.tag=ct,Ye.dump="["+lt+"]"}__name(writeFlowSequence,"writeFlowSequence");function writeBlockSequence(Ye,rt,it,lt){var ct="",ut=Ye.tag,ht,ft,pt;for(ht=0,ft=it.length;ht<ft;ht+=1)pt=it[ht],Ye.replacer&&(pt=Ye.replacer.call(it,String(ht),pt)),(writeNode(Ye,rt+1,pt,!0,!0,!1,!0)||typeof pt>"u"&&writeNode(Ye,rt+1,null,!0,!0,!1,!0))&&((!lt||ct!=="")&&(ct+=generateNextLine(Ye,rt)),Ye.dump&&CHAR_LINE_FEED===Ye.dump.charCodeAt(0)?ct+="-":ct+="- ",ct+=Ye.dump);Ye.tag=ut,Ye.dump=ct||"[]"}__name(writeBlockSequence,"writeBlockSequence");function writeFlowMapping(Ye,rt,it){var lt="",ct=Ye.tag,ut=Object.keys(it),ht,ft,pt,mt,gt;for(ht=0,ft=ut.length;ht<ft;ht+=1)gt="",lt!==""&&(gt+=", "),Ye.condenseFlow&&(gt+='"'),pt=ut[ht],mt=it[pt],Ye.replacer&&(mt=Ye.replacer.call(it,pt,mt)),writeNode(Ye,rt,pt,!1,!1)&&(Ye.dump.length>1024&&(gt+="? "),gt+=Ye.dump+(Ye.condenseFlow?'"':"")+":"+(Ye.condenseFlow?"":" "),writeNode(Ye,rt,mt,!1,!1)&&(gt+=Ye.dump,lt+=gt));Ye.tag=ct,Ye.dump="{"+lt+"}"}__name(writeFlowMapping,"writeFlowMapping");function writeBlockMapping(Ye,rt,it,lt){var ct="",ut=Ye.tag,ht=Object.keys(it),ft,pt,mt,gt,yt,xt;if(Ye.sortKeys===!0)ht.sort();else if(typeof Ye.sortKeys=="function")ht.sort(Ye.sortKeys);else if(Ye.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(ft=0,pt=ht.length;ft<pt;ft+=1)xt="",(!lt||ct!=="")&&(xt+=generateNextLine(Ye,rt)),mt=ht[ft],gt=it[mt],Ye.replacer&&(gt=Ye.replacer.call(it,mt,gt)),writeNode(Ye,rt+1,mt,!0,!0,!0)&&(yt=Ye.tag!==null&&Ye.tag!=="?"||Ye.dump&&Ye.dump.length>1024,yt&&(Ye.dump&&CHAR_LINE_FEED===Ye.dump.charCodeAt(0)?xt+="?":xt+="? "),xt+=Ye.dump,yt&&(xt+=generateNextLine(Ye,rt)),writeNode(Ye,rt+1,gt,!0,yt)&&(Ye.dump&&CHAR_LINE_FEED===Ye.dump.charCodeAt(0)?xt+=":":xt+=": ",xt+=Ye.dump,ct+=xt));Ye.tag=ut,Ye.dump=ct||"{}"}__name(writeBlockMapping,"writeBlockMapping");function detectType(Ye,rt,it){var lt,ct,ut,ht,ft,pt;for(ct=it?Ye.explicitTypes:Ye.implicitTypes,ut=0,ht=ct.length;ut<ht;ut+=1)if(ft=ct[ut],(ft.instanceOf||ft.predicate)&&(!ft.instanceOf||typeof rt=="object"&&rt instanceof ft.instanceOf)&&(!ft.predicate||ft.predicate(rt))){if(it?ft.multi&&ft.representName?Ye.tag=ft.representName(rt):Ye.tag=ft.tag:Ye.tag="?",ft.represent){if(pt=Ye.styleMap[ft.tag]||ft.defaultStyle,_toString.call(ft.represent)==="[object Function]")lt=ft.represent(rt,pt);else if(_hasOwnProperty.call(ft.represent,pt))lt=ft.represent[pt](rt,pt);else throw new exception("!<"+ft.tag+'> tag resolver accepts not "'+pt+'" style');Ye.dump=lt}return!0}return!1}__name(detectType,"detectType");function writeNode(Ye,rt,it,lt,ct,ut,ht){Ye.tag=null,Ye.dump=it,detectType(Ye,it,!1)||detectType(Ye,it,!0);var ft=_toString.call(Ye.dump),pt=lt,mt;lt&&(lt=Ye.flowLevel<0||Ye.flowLevel>rt);var gt=ft==="[object Object]"||ft==="[object Array]",yt,xt;if(gt&&(yt=Ye.duplicates.indexOf(it),xt=yt!==-1),(Ye.tag!==null&&Ye.tag!=="?"||xt||Ye.indent!==2&&rt>0)&&(ct=!1),xt&&Ye.usedDuplicates[yt])Ye.dump="*ref_"+yt;else{if(gt&&xt&&!Ye.usedDuplicates[yt]&&(Ye.usedDuplicates[yt]=!0),ft==="[object Object]")lt&&Object.keys(Ye.dump).length!==0?(writeBlockMapping(Ye,rt,Ye.dump,ct),xt&&(Ye.dump="&ref_"+yt+Ye.dump)):(writeFlowMapping(Ye,rt,Ye.dump),xt&&(Ye.dump="&ref_"+yt+" "+Ye.dump));else if(ft==="[object Array]")lt&&Ye.dump.length!==0?(Ye.noArrayIndent&&!ht&&rt>0?writeBlockSequence(Ye,rt-1,Ye.dump,ct):writeBlockSequence(Ye,rt,Ye.dump,ct),xt&&(Ye.dump="&ref_"+yt+Ye.dump)):(writeFlowSequence(Ye,rt,Ye.dump),xt&&(Ye.dump="&ref_"+yt+" "+Ye.dump));else if(ft==="[object String]")Ye.tag!=="?"&&writeScalar(Ye,Ye.dump,rt,ut,pt);else{if(ft==="[object Undefined]")return!1;if(Ye.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+ft)}Ye.tag!==null&&Ye.tag!=="?"&&(mt=encodeURI(Ye.tag[0]==="!"?Ye.tag.slice(1):Ye.tag).replace(/!/g,"%21"),Ye.tag[0]==="!"?mt="!"+mt:mt.slice(0,18)==="tag:yaml.org,2002:"?mt="!!"+mt.slice(18):mt="!<"+mt+">",Ye.dump=mt+" "+Ye.dump)}return!0}__name(writeNode,"writeNode");function getDuplicateReferences(Ye,rt){var it=[],lt=[],ct,ut;for(inspectNode(Ye,it,lt),ct=0,ut=lt.length;ct<ut;ct+=1)rt.duplicates.push(it[lt[ct]]);rt.usedDuplicates=new Array(ut)}__name(getDuplicateReferences,"getDuplicateReferences");function inspectNode(Ye,rt,it){var lt,ct,ut;if(Ye!==null&&typeof Ye=="object")if(ct=rt.indexOf(Ye),ct!==-1)it.indexOf(ct)===-1&&it.push(ct);else if(rt.push(Ye),Array.isArray(Ye))for(ct=0,ut=Ye.length;ct<ut;ct+=1)inspectNode(Ye[ct],rt,it);else for(lt=Object.keys(Ye),ct=0,ut=lt.length;ct<ut;ct+=1)inspectNode(Ye[lt[ct]],rt,it)}__name(inspectNode,"inspectNode");function dump$1(Ye,rt){rt=rt||{};var it=new State(rt);it.noRefs||getDuplicateReferences(Ye,it);var lt=Ye;return it.replacer&&(lt=it.replacer.call({"":lt},"",lt)),writeNode(it,0,lt,!0,!0)?it.dump+`
`:""}__name(dump$1,"dump$1");function renamed(Ye,rt){return function(){throw new Error("Function yaml."+Ye+" is removed in js-yaml 4. Use yaml."+rt+" instead, which is now safe by default.")}}__name(renamed,"renamed");var JSON_SCHEMA=json,load=loader$1.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var markerOffsets={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},markerOffsets2={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function calculateDeltaAndAngle$1(Ye,rt){if(Ye===void 0||rt===void 0)return{angle:0,deltaX:0,deltaY:0};Ye=pointTransformer(Ye),rt=pointTransformer(rt);const[it,lt]=[Ye.x,Ye.y],[ct,ut]=[rt.x,rt.y],ht=ct-it,ft=ut-lt;return{angle:Math.atan(ft/ht),deltaX:ht,deltaY:ft}}__name(calculateDeltaAndAngle$1,"calculateDeltaAndAngle");var pointTransformer=__name(Ye=>Array.isArray(Ye)?{x:Ye[0],y:Ye[1]}:Ye,"pointTransformer"),getLineFunctionsWithOffset=__name(Ye=>({x:__name(function(rt,it,lt){let ct=0;const ut=pointTransformer(lt[0]).x<pointTransformer(lt[lt.length-1]).x?"left":"right";if(it===0&&Object.hasOwn(markerOffsets,Ye.arrowTypeStart)){const{angle:bt,deltaX:_t}=calculateDeltaAndAngle$1(lt[0],lt[1]);ct=markerOffsets[Ye.arrowTypeStart]*Math.cos(bt)*(_t>=0?1:-1)}else if(it===lt.length-1&&Object.hasOwn(markerOffsets,Ye.arrowTypeEnd)){const{angle:bt,deltaX:_t}=calculateDeltaAndAngle$1(lt[lt.length-1],lt[lt.length-2]);ct=markerOffsets[Ye.arrowTypeEnd]*Math.cos(bt)*(_t>=0?1:-1)}const ht=Math.abs(pointTransformer(rt).x-pointTransformer(lt[lt.length-1]).x),ft=Math.abs(pointTransformer(rt).y-pointTransformer(lt[lt.length-1]).y),pt=Math.abs(pointTransformer(rt).x-pointTransformer(lt[0]).x),mt=Math.abs(pointTransformer(rt).y-pointTransformer(lt[0]).y),gt=markerOffsets[Ye.arrowTypeStart],yt=markerOffsets[Ye.arrowTypeEnd],xt=1;if(ht<yt&&ht>0&&ft<yt){let bt=yt+xt-ht;bt*=ut==="right"?-1:1,ct-=bt}if(pt<gt&&pt>0&&mt<gt){let bt=gt+xt-pt;bt*=ut==="right"?-1:1,ct+=bt}return pointTransformer(rt).x+ct},"x"),y:__name(function(rt,it,lt){let ct=0;const ut=pointTransformer(lt[0]).y<pointTransformer(lt[lt.length-1]).y?"down":"up";if(it===0&&Object.hasOwn(markerOffsets,Ye.arrowTypeStart)){const{angle:bt,deltaY:_t}=calculateDeltaAndAngle$1(lt[0],lt[1]);ct=markerOffsets[Ye.arrowTypeStart]*Math.abs(Math.sin(bt))*(_t>=0?1:-1)}else if(it===lt.length-1&&Object.hasOwn(markerOffsets,Ye.arrowTypeEnd)){const{angle:bt,deltaY:_t}=calculateDeltaAndAngle$1(lt[lt.length-1],lt[lt.length-2]);ct=markerOffsets[Ye.arrowTypeEnd]*Math.abs(Math.sin(bt))*(_t>=0?1:-1)}const ht=Math.abs(pointTransformer(rt).y-pointTransformer(lt[lt.length-1]).y),ft=Math.abs(pointTransformer(rt).x-pointTransformer(lt[lt.length-1]).x),pt=Math.abs(pointTransformer(rt).y-pointTransformer(lt[0]).y),mt=Math.abs(pointTransformer(rt).x-pointTransformer(lt[0]).x),gt=markerOffsets[Ye.arrowTypeStart],yt=markerOffsets[Ye.arrowTypeEnd],xt=1;if(ht<yt&&ht>0&&ft<yt){let bt=yt+xt-ht;bt*=ut==="up"?-1:1,ct-=bt}if(pt<gt&&pt>0&&mt<gt){let bt=gt+xt-pt;bt*=ut==="up"?-1:1,ct+=bt}return pointTransformer(rt).y+ct},"y")}),"getLineFunctionsWithOffset"),getSubGraphTitleMargins=__name(({flowchart:Ye})=>{const rt=Ye?.subGraphTitleMargin?.top??0,it=Ye?.subGraphTitleMargin?.bottom??0,lt=rt+it;return{subGraphTitleTopMargin:rt,subGraphTitleBottomMargin:it,subGraphTitleTotalMargin:lt}},"getSubGraphTitleMargins"),solidStateFill=__name(Ye=>{const{handDrawnSeed:rt}=getConfig2();return{fill:Ye,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:Ye,seed:rt}},"solidStateFill"),compileStyles=__name(Ye=>{const rt=styles2Map([...Ye.cssCompiledStyles||[],...Ye.cssStyles||[],...Ye.labelStyle||[]]);return{stylesMap:rt,stylesArray:[...rt]}},"compileStyles"),styles2Map=__name(Ye=>{const rt=new Map;return Ye.forEach(it=>{const[lt,ct]=it.split(":");rt.set(lt.trim(),ct?.trim())}),rt},"styles2Map"),isLabelStyle=__name(Ye=>Ye==="color"||Ye==="font-size"||Ye==="font-family"||Ye==="font-weight"||Ye==="font-style"||Ye==="text-decoration"||Ye==="text-align"||Ye==="text-transform"||Ye==="line-height"||Ye==="letter-spacing"||Ye==="word-spacing"||Ye==="text-shadow"||Ye==="text-overflow"||Ye==="white-space"||Ye==="word-wrap"||Ye==="word-break"||Ye==="overflow-wrap"||Ye==="hyphens","isLabelStyle"),styles2String=__name(Ye=>{const{stylesArray:rt}=compileStyles(Ye),it=[],lt=[],ct=[],ut=[];return rt.forEach(ht=>{const ft=ht[0];isLabelStyle(ft)?it.push(ht.join(":")+" !important"):(lt.push(ht.join(":")+" !important"),ft.includes("stroke")&&ct.push(ht.join(":")+" !important"),ft==="fill"&&ut.push(ht.join(":")+" !important"))}),{labelStyles:it.join(";"),nodeStyles:lt.join(";"),stylesArray:rt,borderStyles:ct,backgroundStyles:ut}},"styles2String"),userNodeOverrides=__name((Ye,rt)=>{const{themeVariables:it,handDrawnSeed:lt}=getConfig2(),{nodeBorder:ct,mainBkg:ut}=it,{stylesMap:ht}=compileStyles(Ye);return Object.assign({roughness:.7,fill:ht.get("fill")||ut,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:ht.get("stroke")||ct,seed:lt,strokeWidth:ht.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:getStrokeDashArray(ht.get("stroke-dasharray"))},rt)},"userNodeOverrides"),getStrokeDashArray=__name(Ye=>{if(!Ye)return[0,0];const rt=Ye.trim().split(/\s+/).map(Number);if(rt.length===1){const ct=isNaN(rt[0])?0:rt[0];return[ct,ct]}const it=isNaN(rt[0])?0:rt[0],lt=isNaN(rt[1])?0:rt[1];return[it,lt]},"getStrokeDashArray"),dist={},constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.BLANK_URL=constants.relativeFirstCharacters=constants.whitespaceEscapeCharsRegex=constants.urlSchemeRegex=constants.ctrlCharactersRegex=constants.htmlCtrlEntityRegex=constants.htmlEntitiesRegex=constants.invalidProtocolRegex=void 0,constants.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,constants.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,constants.htmlCtrlEntityRegex=/&(newline|tab);/gi,constants.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,constants.urlSchemeRegex=/^.+(:|&colon;)/gim,constants.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,constants.relativeFirstCharacters=[".","/"],constants.BLANK_URL="about:blank"),constants}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.sanitizeUrl=void 0;var Ye=requireConstants();function rt(ht){return Ye.relativeFirstCharacters.indexOf(ht[0])>-1}function it(ht){var ft=ht.replace(Ye.ctrlCharactersRegex,"");return ft.replace(Ye.htmlEntitiesRegex,function(pt,mt){return String.fromCharCode(mt)})}function lt(ht){return URL.canParse(ht)}function ct(ht){try{return decodeURIComponent(ht)}catch{return ht}}function ut(ht){if(!ht)return Ye.BLANK_URL;var ft,pt=ct(ht.trim());do pt=it(pt).replace(Ye.htmlCtrlEntityRegex,"").replace(Ye.ctrlCharactersRegex,"").replace(Ye.whitespaceEscapeCharsRegex,"").trim(),pt=ct(pt),ft=pt.match(Ye.ctrlCharactersRegex)||pt.match(Ye.htmlEntitiesRegex)||pt.match(Ye.htmlCtrlEntityRegex)||pt.match(Ye.whitespaceEscapeCharsRegex);while(ft&&ft.length>0);var mt=pt;if(!mt)return Ye.BLANK_URL;if(rt(mt))return mt;var gt=mt.trimStart(),yt=gt.match(Ye.urlSchemeRegex);if(!yt)return mt;var xt=yt[0].toLowerCase().trim();if(Ye.invalidProtocolRegex.test(xt))return Ye.BLANK_URL;var bt=gt.replace(/\\/g,"/");if(xt==="mailto:"||xt.includes("://"))return bt;if(xt==="http:"||xt==="https:"){if(!lt(bt))return Ye.BLANK_URL;var _t=new URL(bt);return _t.protocol=_t.protocol.toLowerCase(),_t.hostname=_t.hostname.toLowerCase(),_t.toString()}return bt}return dist.sanitizeUrl=ut,dist}var distExports=requireDist(),freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$3.Symbol,objectProto$c=Object.prototype,hasOwnProperty$b=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(Ye){var rt=hasOwnProperty$b.call(Ye,symToStringTag$1),it=Ye[symToStringTag$1];try{Ye[symToStringTag$1]=void 0;var lt=!0}catch{}var ct=nativeObjectToString$1.call(Ye);return lt&&(rt?Ye[symToStringTag$1]=it:delete Ye[symToStringTag$1]),ct}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$2(Ye){return nativeObjectToString.call(Ye)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(Ye){return Ye==null?Ye===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(Ye)?getRawTag(Ye):objectToString$2(Ye)}function isObject$2(Ye){var rt=typeof Ye;return Ye!=null&&(rt=="object"||rt=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(Ye){if(!isObject$2(Ye))return!1;var rt=baseGetTag(Ye);return rt==funcTag$1||rt==genTag||rt==asyncTag||rt==proxyTag}var coreJsData=root$3["__core-js_shared__"],maskSrcKey=(function(){var Ye=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return Ye?"Symbol(src)_1."+Ye:""})();function isMasked(Ye){return!!maskSrcKey&&maskSrcKey in Ye}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(Ye){if(Ye!=null){try{return funcToString$2.call(Ye)}catch{}try{return Ye+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(Ye){if(!isObject$2(Ye)||isMasked(Ye))return!1;var rt=isFunction(Ye)?reIsNative:reIsHostCtor;return rt.test(toSource(Ye))}function getValue(Ye,rt){return Ye?.[rt]}function getNative(Ye,rt){var it=getValue(Ye,rt);return baseIsNative(it)?it:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(Ye){var rt=this.has(Ye)&&delete this.__data__[Ye];return this.size-=rt?1:0,rt}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty;function hashGet(Ye){var rt=this.__data__;if(nativeCreate){var it=rt[Ye];return it===HASH_UNDEFINED$1?void 0:it}return hasOwnProperty$9.call(rt,Ye)?rt[Ye]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function hashHas(Ye){var rt=this.__data__;return nativeCreate?rt[Ye]!==void 0:hasOwnProperty$8.call(rt,Ye)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(Ye,rt){var it=this.__data__;return this.size+=this.has(Ye)?0:1,it[Ye]=nativeCreate&&rt===void 0?HASH_UNDEFINED:rt,this}function Hash(Ye){var rt=-1,it=Ye==null?0:Ye.length;for(this.clear();++rt<it;){var lt=Ye[rt];this.set(lt[0],lt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(Ye,rt){return Ye===rt||Ye!==Ye&&rt!==rt}function assocIndexOf(Ye,rt){for(var it=Ye.length;it--;)if(eq(Ye[it][0],rt))return it;return-1}var arrayProto=Array.prototype,splice$5=arrayProto.splice;function listCacheDelete(Ye){var rt=this.__data__,it=assocIndexOf(rt,Ye);if(it<0)return!1;var lt=rt.length-1;return it==lt?rt.pop():splice$5.call(rt,it,1),--this.size,!0}function listCacheGet(Ye){var rt=this.__data__,it=assocIndexOf(rt,Ye);return it<0?void 0:rt[it][1]}function listCacheHas(Ye){return assocIndexOf(this.__data__,Ye)>-1}function listCacheSet(Ye,rt){var it=this.__data__,lt=assocIndexOf(it,Ye);return lt<0?(++this.size,it.push([Ye,rt])):it[lt][1]=rt,this}function ListCache(Ye){var rt=-1,it=Ye==null?0:Ye.length;for(this.clear();++rt<it;){var lt=Ye[rt];this.set(lt[0],lt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$3,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(Ye){var rt=typeof Ye;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?Ye!=="__proto__":Ye===null}function getMapData(Ye,rt){var it=Ye.__data__;return isKeyable(rt)?it[typeof rt=="string"?"string":"hash"]:it.map}function mapCacheDelete(Ye){var rt=getMapData(this,Ye).delete(Ye);return this.size-=rt?1:0,rt}function mapCacheGet(Ye){return getMapData(this,Ye).get(Ye)}function mapCacheHas(Ye){return getMapData(this,Ye).has(Ye)}function mapCacheSet(Ye,rt){var it=getMapData(this,Ye),lt=it.size;return it.set(Ye,rt),this.size+=it.size==lt?0:1,this}function MapCache(Ye){var rt=-1,it=Ye==null?0:Ye.length;for(this.clear();++rt<it;){var lt=Ye[rt];this.set(lt[0],lt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize$1(Ye,rt){if(typeof Ye!="function"||rt!=null&&typeof rt!="function")throw new TypeError(FUNC_ERROR_TEXT);var it=function(){var lt=arguments,ct=rt?rt.apply(this,lt):lt[0],ut=it.cache;if(ut.has(ct))return ut.get(ct);var ht=Ye.apply(this,lt);return it.cache=ut.set(ct,ht)||ut,ht};return it.cache=new(memoize$1.Cache||MapCache),it}memoize$1.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(Ye){var rt=this.__data__,it=rt.delete(Ye);return this.size=rt.size,it}function stackGet(Ye){return this.__data__.get(Ye)}function stackHas(Ye){return this.__data__.has(Ye)}var LARGE_ARRAY_SIZE=200;function stackSet(Ye,rt){var it=this.__data__;if(it instanceof ListCache){var lt=it.__data__;if(!Map$1||lt.length<LARGE_ARRAY_SIZE-1)return lt.push([Ye,rt]),this.size=++it.size,this;it=this.__data__=new MapCache(lt)}return it.set(Ye,rt),this.size=it.size,this}function Stack(Ye){var rt=this.__data__=new ListCache(Ye);this.size=rt.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty$6=(function(){try{var Ye=getNative(Object,"defineProperty");return Ye({},"",{}),Ye}catch{}})();function baseAssignValue(Ye,rt,it){rt=="__proto__"&&defineProperty$6?defineProperty$6(Ye,rt,{configurable:!0,enumerable:!0,value:it,writable:!0}):Ye[rt]=it}function assignMergeValue(Ye,rt,it){(it!==void 0&&!eq(Ye[rt],it)||it===void 0&&!(rt in Ye))&&baseAssignValue(Ye,rt,it)}function createBaseFor(Ye){return function(rt,it,lt){for(var ct=-1,ut=Object(rt),ht=lt(rt),ft=ht.length;ft--;){var pt=ht[++ct];if(it(ut[pt],pt,ut)===!1)break}return rt}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$3.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(Ye,rt){if(rt)return Ye.slice();var it=Ye.length,lt=allocUnsafe?allocUnsafe(it):new Ye.constructor(it);return Ye.copy(lt),lt}var Uint8Array$1=root$3.Uint8Array;function cloneArrayBuffer(Ye){var rt=new Ye.constructor(Ye.byteLength);return new Uint8Array$1(rt).set(new Uint8Array$1(Ye)),rt}function cloneTypedArray(Ye,rt){var it=rt?cloneArrayBuffer(Ye.buffer):Ye.buffer;return new Ye.constructor(it,Ye.byteOffset,Ye.length)}function copyArray(Ye,rt){var it=-1,lt=Ye.length;for(rt||(rt=Array(lt));++it<lt;)rt[it]=Ye[it];return rt}var objectCreate$2=Object.create,baseCreate=(function(){function Ye(){}return function(rt){if(!isObject$2(rt))return{};if(objectCreate$2)return objectCreate$2(rt);Ye.prototype=rt;var it=new Ye;return Ye.prototype=void 0,it}})();function overArg(Ye,rt){return function(it){return Ye(rt(it))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(Ye){var rt=Ye&&Ye.constructor,it=typeof rt=="function"&&rt.prototype||objectProto$7;return Ye===it}function initCloneObject(Ye){return typeof Ye.constructor=="function"&&!isPrototype(Ye)?baseCreate(getPrototype(Ye)):{}}function isObjectLike(Ye){return Ye!=null&&typeof Ye=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(Ye){return isObjectLike(Ye)&&baseGetTag(Ye)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(Ye){return isObjectLike(Ye)&&hasOwnProperty$7.call(Ye,"callee")&&!propertyIsEnumerable.call(Ye,"callee")},isArray$7=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(Ye){return typeof Ye=="number"&&Ye>-1&&Ye%1==0&&Ye<=MAX_SAFE_INTEGER$1}function isArrayLike(Ye){return Ye!=null&&isLength(Ye.length)&&!isFunction(Ye)}function isArrayLikeObject(Ye){return isObjectLike(Ye)&&isArrayLike(Ye)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root$3.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(Ye){if(!isObjectLike(Ye)||baseGetTag(Ye)!=objectTag$2)return!1;var rt=getPrototype(Ye);if(rt===null)return!0;var it=hasOwnProperty$6.call(rt,"constructor")&&rt.constructor;return typeof it=="function"&&it instanceof it&&funcToString.call(it)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(Ye){return isObjectLike(Ye)&&isLength(Ye.length)&&!!typedArrayTags[baseGetTag(Ye)]}function baseUnary(Ye){return function(rt){return Ye(rt)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=(function(){try{var Ye=freeModule&&freeModule.require&&freeModule.require("util").types;return Ye||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(Ye,rt){if(!(rt==="constructor"&&typeof Ye[rt]=="function")&&rt!="__proto__")return Ye[rt]}var objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function assignValue(Ye,rt,it){var lt=Ye[rt];(!(hasOwnProperty$5.call(Ye,rt)&&eq(lt,it))||it===void 0&&!(rt in Ye))&&baseAssignValue(Ye,rt,it)}function copyObject(Ye,rt,it,lt){var ct=!it;it||(it={});for(var ut=-1,ht=rt.length;++ut<ht;){var ft=rt[ut],pt=void 0;pt===void 0&&(pt=Ye[ft]),ct?baseAssignValue(it,ft,pt):assignValue(it,ft,pt)}return it}function baseTimes(Ye,rt){for(var it=-1,lt=Array(Ye);++it<Ye;)lt[it]=rt(it);return lt}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(Ye,rt){var it=typeof Ye;return rt=rt??MAX_SAFE_INTEGER,!!rt&&(it=="number"||it!="symbol"&&reIsUint.test(Ye))&&Ye>-1&&Ye%1==0&&Ye<rt}var objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function arrayLikeKeys(Ye,rt){var it=isArray$7(Ye),lt=!it&&isArguments(Ye),ct=!it&&!lt&&isBuffer(Ye),ut=!it&&!lt&&!ct&&isTypedArray(Ye),ht=it||lt||ct||ut,ft=ht?baseTimes(Ye.length,String):[],pt=ft.length;for(var mt in Ye)(rt||hasOwnProperty$4.call(Ye,mt))&&!(ht&&(mt=="length"||ct&&(mt=="offset"||mt=="parent")||ut&&(mt=="buffer"||mt=="byteLength"||mt=="byteOffset")||isIndex(mt,pt)))&&ft.push(mt);return ft}function nativeKeysIn(Ye){var rt=[];if(Ye!=null)for(var it in Object(Ye))rt.push(it);return rt}var objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function baseKeysIn(Ye){if(!isObject$2(Ye))return nativeKeysIn(Ye);var rt=isPrototype(Ye),it=[];for(var lt in Ye)lt=="constructor"&&(rt||!hasOwnProperty$3.call(Ye,lt))||it.push(lt);return it}function keysIn(Ye){return isArrayLike(Ye)?arrayLikeKeys(Ye,!0):baseKeysIn(Ye)}function toPlainObject(Ye){return copyObject(Ye,keysIn(Ye))}function baseMergeDeep(Ye,rt,it,lt,ct,ut,ht){var ft=safeGet(Ye,it),pt=safeGet(rt,it),mt=ht.get(pt);if(mt){assignMergeValue(Ye,it,mt);return}var gt=ut?ut(ft,pt,it+"",Ye,rt,ht):void 0,yt=gt===void 0;if(yt){var xt=isArray$7(pt),bt=!xt&&isBuffer(pt),_t=!xt&&!bt&&isTypedArray(pt);gt=pt,xt||bt||_t?isArray$7(ft)?gt=ft:isArrayLikeObject(ft)?gt=copyArray(ft):bt?(yt=!1,gt=cloneBuffer(pt,!0)):_t?(yt=!1,gt=cloneTypedArray(pt,!0)):gt=[]:isPlainObject$1(pt)||isArguments(pt)?(gt=ft,isArguments(ft)?gt=toPlainObject(ft):(!isObject$2(ft)||isFunction(ft))&&(gt=initCloneObject(pt))):yt=!1}yt&&(ht.set(pt,gt),ct(gt,pt,lt,ut,ht),ht.delete(pt)),assignMergeValue(Ye,it,gt)}function baseMerge(Ye,rt,it,lt,ct){Ye!==rt&&baseFor(rt,function(ut,ht){if(ct||(ct=new Stack),isObject$2(ut))baseMergeDeep(Ye,rt,ht,it,baseMerge,lt,ct);else{var ft=lt?lt(safeGet(Ye,ht),ut,ht+"",Ye,rt,ct):void 0;ft===void 0&&(ft=ut),assignMergeValue(Ye,ht,ft)}},keysIn)}function identity(Ye){return Ye}function apply(Ye,rt,it){switch(it.length){case 0:return Ye.call(rt);case 1:return Ye.call(rt,it[0]);case 2:return Ye.call(rt,it[0],it[1]);case 3:return Ye.call(rt,it[0],it[1],it[2])}return Ye.apply(rt,it)}var nativeMax=Math.max;function overRest(Ye,rt,it){return rt=nativeMax(rt===void 0?Ye.length-1:rt,0),function(){for(var lt=arguments,ct=-1,ut=nativeMax(lt.length-rt,0),ht=Array(ut);++ct<ut;)ht[ct]=lt[rt+ct];ct=-1;for(var ft=Array(rt+1);++ct<rt;)ft[ct]=lt[ct];return ft[rt]=it(ht),apply(Ye,this,ft)}}function constant(Ye){return function(){return Ye}}var baseSetToString=defineProperty$6?function(Ye,rt){return defineProperty$6(Ye,"toString",{configurable:!0,enumerable:!1,value:constant(rt),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(Ye){var rt=0,it=0;return function(){var lt=nativeNow(),ct=HOT_SPAN-(lt-it);if(it=lt,ct>0){if(++rt>=HOT_COUNT)return arguments[0]}else rt=0;return Ye.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(Ye,rt){return setToString(overRest(Ye,rt,identity),Ye+"")}function isIterateeCall(Ye,rt,it){if(!isObject$2(it))return!1;var lt=typeof rt;return(lt=="number"?isArrayLike(it)&&isIndex(rt,it.length):lt=="string"&&rt in it)?eq(it[rt],Ye):!1}function createAssigner(Ye){return baseRest(function(rt,it){var lt=-1,ct=it.length,ut=ct>1?it[ct-1]:void 0,ht=ct>2?it[2]:void 0;for(ut=Ye.length>3&&typeof ut=="function"?(ct--,ut):void 0,ht&&isIterateeCall(it[0],it[1],ht)&&(ut=ct<3?void 0:ut,ct=1),rt=Object(rt);++lt<ct;){var ft=it[lt];ft&&Ye(rt,ft,lt,ut)}return rt})}var merge$1=createAssigner(function(Ye,rt,it){baseMerge(Ye,rt,it)}),ZERO_WIDTH_SPACE="",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=__name(function(Ye,rt){const it=detectDirective(Ye,/(?:init\b)|(?:initialize\b)/);let lt={};if(Array.isArray(it)){const ht=it.map(ft=>ft.args);sanitizeDirective(ht),lt=assignWithDepth_default(lt,[...ht])}else lt=it.args;if(!lt)return;let ct=detectType$1(Ye,rt);const ut="config";return lt[ut]!==void 0&&(ct==="flowchart-v2"&&(ct="flowchart"),lt[ct]=lt[ut],delete lt[ut]),lt},"detectInit"),detectDirective=__name(function(Ye,rt=null){try{const it=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");Ye=Ye.trim().replace(it,"").replace(/'/gm,'"'),log.debug(`Detecting diagram directive${rt!==null?" type:"+rt:""} based on the text:${Ye}`);let lt;const ct=[];for(;(lt=directiveRegex.exec(Ye))!==null;)if(lt.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,lt&&!rt||rt&&lt[1]?.match(rt)||rt&&lt[2]?.match(rt)){const ut=lt[1]?lt[1]:lt[2],ht=lt[3]?lt[3].trim():lt[4]?JSON.parse(lt[4].trim()):null;ct.push({type:ut,args:ht})}return ct.length===0?{type:Ye,args:null}:ct.length===1?ct[0]:ct}catch(it){return log.error(`ERROR: ${it.message} - Unable to parse directive type: '${rt}' based on the text: '${Ye}'`),{type:void 0,args:null}}},"detectDirective"),removeDirectives=__name(function(Ye){return Ye.replace(directiveRegex,"")},"removeDirectives"),isSubstringInArray=__name(function(Ye,rt){for(const[it,lt]of rt.entries())if(lt.match(Ye))return it;return-1},"isSubstringInArray");function interpolateToCurve(Ye,rt){if(!Ye)return rt;const it=`curve${Ye.charAt(0).toUpperCase()+Ye.slice(1)}`;return d3CurveTypes[it]??rt}__name(interpolateToCurve,"interpolateToCurve");function formatUrl(Ye,rt){const it=Ye.trim();if(it)return rt.securityLevel!=="loose"?distExports.sanitizeUrl(it):it}__name(formatUrl,"formatUrl");var runFunc=__name((Ye,...rt)=>{const it=Ye.split("."),lt=it.length-1,ct=it[lt];let ut=window;for(let ht=0;ht<lt;ht++)if(ut=ut[it[ht]],!ut){log.error(`Function name: ${Ye} not found in window`);return}ut[ct](...rt)},"runFunc");function distance(Ye,rt){return!Ye||!rt?0:Math.sqrt(Math.pow(rt.x-Ye.x,2)+Math.pow(rt.y-Ye.y,2))}__name(distance,"distance");function traverseEdge(Ye){let rt,it=0;Ye.forEach(ct=>{it+=distance(ct,rt),rt=ct});const lt=it/2;return calculatePoint(Ye,lt)}__name(traverseEdge,"traverseEdge");function calcLabelPosition(Ye){return Ye.length===1?Ye[0]:traverseEdge(Ye)}__name(calcLabelPosition,"calcLabelPosition");var roundNumber=__name((Ye,rt=2)=>{const it=Math.pow(10,rt);return Math.round(Ye*it)/it},"roundNumber"),calculatePoint=__name((Ye,rt)=>{let it,lt=rt;for(const ct of Ye){if(it){const ut=distance(ct,it);if(ut===0)return it;if(ut<lt)lt-=ut;else{const ht=lt/ut;if(ht<=0)return it;if(ht>=1)return{x:ct.x,y:ct.y};if(ht>0&&ht<1)return{x:roundNumber((1-ht)*it.x+ht*ct.x,5),y:roundNumber((1-ht)*it.y+ht*ct.y,5)}}}it=ct}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),calcCardinalityPosition=__name((Ye,rt,it)=>{log.info(`our points ${JSON.stringify(rt)}`),rt[0]!==it&&(rt=rt.reverse());const ct=calculatePoint(rt,25),ut=Ye?10:5,ht=Math.atan2(rt[0].y-ct.y,rt[0].x-ct.x),ft={x:0,y:0};return ft.x=Math.sin(ht)*ut+(rt[0].x+ct.x)/2,ft.y=-Math.cos(ht)*ut+(rt[0].y+ct.y)/2,ft},"calcCardinalityPosition");function calcTerminalLabelPosition(Ye,rt,it){const lt=structuredClone(it);log.info("our points",lt),rt!=="start_left"&&rt!=="start_right"&&lt.reverse();const ct=25+Ye,ut=calculatePoint(lt,ct),ht=10+Ye*.5,ft=Math.atan2(lt[0].y-ut.y,lt[0].x-ut.x),pt={x:0,y:0};return rt==="start_left"?(pt.x=Math.sin(ft+Math.PI)*ht+(lt[0].x+ut.x)/2,pt.y=-Math.cos(ft+Math.PI)*ht+(lt[0].y+ut.y)/2):rt==="end_right"?(pt.x=Math.sin(ft-Math.PI)*ht+(lt[0].x+ut.x)/2-5,pt.y=-Math.cos(ft-Math.PI)*ht+(lt[0].y+ut.y)/2-5):rt==="end_left"?(pt.x=Math.sin(ft)*ht+(lt[0].x+ut.x)/2-5,pt.y=-Math.cos(ft)*ht+(lt[0].y+ut.y)/2-5):(pt.x=Math.sin(ft)*ht+(lt[0].x+ut.x)/2,pt.y=-Math.cos(ft)*ht+(lt[0].y+ut.y)/2),pt}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition");function getStylesFromArray(Ye){let rt="",it="";for(const lt of Ye)lt!==void 0&&(lt.startsWith("color:")||lt.startsWith("text-align:")?it=it+lt+";":rt=rt+lt+";");return{style:rt,labelStyle:it}}__name(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=__name(()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt),"generateId");function makeRandomHex(Ye){let rt="";const it="0123456789abcdef",lt=it.length;for(let ct=0;ct<Ye;ct++)rt+=it.charAt(Math.floor(Math.random()*lt));return rt}__name(makeRandomHex,"makeRandomHex");var random$1=__name(Ye=>makeRandomHex(Ye.length),"random"),getTextObj=__name(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),drawSimpleText=__name(function(Ye,rt){const it=rt.text.replace(common_default.lineBreakRegex," "),[,lt]=parseFontSize(rt.fontSize),ct=Ye.append("text");ct.attr("x",rt.x),ct.attr("y",rt.y),ct.style("text-anchor",rt.anchor),ct.style("font-family",rt.fontFamily),ct.style("font-size",lt),ct.style("font-weight",rt.fontWeight),ct.attr("fill",rt.fill),rt.class!==void 0&&ct.attr("class",rt.class);const ut=ct.append("tspan");return ut.attr("x",rt.x+rt.textMargin*2),ut.attr("fill",rt.fill),ut.text(it),ct},"drawSimpleText"),wrapLabel=memoize$1((Ye,rt,it)=>{if(!Ye||(it=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},it),common_default.lineBreakRegex.test(Ye)))return Ye;const lt=Ye.split(" ").filter(Boolean),ct=[];let ut="";return lt.forEach((ht,ft)=>{const pt=calculateTextWidth(`${ht} `,it),mt=calculateTextWidth(ut,it);if(pt>rt){const{hyphenatedStrings:xt,remainingWord:bt}=breakString(ht,rt,"-",it);ct.push(ut,...xt),ut=bt}else mt+pt>=rt?(ct.push(ut),ut=ht):ut=[ut,ht].filter(Boolean).join(" ");ft+1===lt.length&&ct.push(ut)}),ct.filter(ht=>ht!=="").join(it.joinWith)},(Ye,rt,it)=>`${Ye}${rt}${it.fontSize}${it.fontWeight}${it.fontFamily}${it.joinWith}`),breakString=memoize$1((Ye,rt,it="-",lt)=>{lt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},lt);const ct=[...Ye],ut=[];let ht="";return ct.forEach((ft,pt)=>{const mt=`${ht}${ft}`;if(calculateTextWidth(mt,lt)>=rt){const yt=pt+1,xt=ct.length===yt,bt=`${mt}${it}`;ut.push(xt?mt:bt),ht=""}else ht=mt}),{hyphenatedStrings:ut,remainingWord:ht}},(Ye,rt,it="-",lt)=>`${Ye}${rt}${it}${lt.fontSize}${lt.fontWeight}${lt.fontFamily}`);function calculateTextHeight(Ye,rt){return calculateTextDimensions(Ye,rt).height}__name(calculateTextHeight,"calculateTextHeight");function calculateTextWidth(Ye,rt){return calculateTextDimensions(Ye,rt).width}__name(calculateTextWidth,"calculateTextWidth");var calculateTextDimensions=memoize$1((Ye,rt)=>{const{fontSize:it=12,fontFamily:lt="Arial",fontWeight:ct=400}=rt;if(!Ye)return{width:0,height:0};const[,ut]=parseFontSize(it),ht=["sans-serif",lt],ft=Ye.split(common_default.lineBreakRegex),pt=[],mt=select("body");if(!mt.remove)return{width:0,height:0,lineHeight:0};const gt=mt.append("svg");for(const xt of ht){let bt=0;const _t={width:0,height:0,lineHeight:0};for(const Ct of ft){const kt=getTextObj();kt.text=Ct||ZERO_WIDTH_SPACE;const St=drawSimpleText(gt,kt).style("font-size",ut).style("font-weight",ct).style("font-family",xt),Rt=(St._groups||St)[0][0].getBBox();if(Rt.width===0&&Rt.height===0)throw new Error("svg element not in render tree");_t.width=Math.round(Math.max(_t.width,Rt.width)),bt=Math.round(Rt.height),_t.height+=bt,_t.lineHeight=Math.round(Math.max(_t.lineHeight,bt))}pt.push(_t)}gt.remove();const yt=isNaN(pt[1].height)||isNaN(pt[1].width)||isNaN(pt[1].lineHeight)||pt[0].height>pt[1].height&&pt[0].width>pt[1].width&&pt[0].lineHeight>pt[1].lineHeight?0:1;return pt[yt]},(Ye,rt)=>`${Ye}${rt.fontSize}${rt.fontWeight}${rt.fontFamily}`),Qa,InitIDGenerator=(Qa=class{constructor(rt=!1,it){this.count=0,this.count=it?it.length:0,this.next=rt?()=>this.count++:()=>Date.now()}},__name(Qa,"InitIDGenerator"),Qa),decoder,entityDecode=__name(function(Ye){return decoder=decoder||document.createElement("div"),Ye=escape(Ye).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=Ye,unescape(decoder.textContent)},"entityDecode");function isDetailedError(Ye){return"str"in Ye}__name(isDetailedError,"isDetailedError");var insertTitle=__name((Ye,rt,it,lt)=>{if(!lt)return;const ct=Ye.node()?.getBBox();ct&&Ye.append("text").text(lt).attr("text-anchor","middle").attr("x",ct.x+ct.width/2).attr("y",-it).attr("class",rt)},"insertTitle"),parseFontSize=__name(Ye=>{if(typeof Ye=="number")return[Ye,Ye+"px"];const rt=parseInt(Ye??"",10);return Number.isNaN(rt)?[void 0,void 0]:Ye===String(rt)?[rt,Ye+"px"]:[rt,Ye]},"parseFontSize");function cleanAndMerge(Ye,rt){return merge$1({},Ye,rt)}__name(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:assignWithDepth_default,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random:random$1,runFunc,entityDecode,insertTitle,isLabelCoordinateInPath,parseFontSize,InitIDGenerator},encodeEntities=__name(function(Ye){let rt=Ye;return rt=rt.replace(/style.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),rt=rt.replace(/classDef.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),rt=rt.replace(/#\w+;/g,function(it){const lt=it.substring(1,it.length-1);return/^\+?\d+$/.test(lt)?""+lt+"":""+lt+""}),rt},"encodeEntities"),decodeEntities=__name(function(Ye){return Ye.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),getEdgeId=__name((Ye,rt,{counter:it=0,prefix:lt,suffix:ct},ut)=>ut||`${lt?`${lt}_`:""}${Ye}_${rt}_${it}${ct?`_${ct}`:""}`,"getEdgeId");function handleUndefinedAttr(Ye){return Ye??null}__name(handleUndefinedAttr,"handleUndefinedAttr");function isLabelCoordinateInPath(Ye,rt){const it=Math.round(Ye.x),lt=Math.round(Ye.y),ct=rt.replace(/(\d+\.\d+)/g,ut=>Math.round(parseFloat(ut)).toString());return ct.includes(it.toString())||ct.includes(lt.toString())}__name(isLabelCoordinateInPath,"isLabelCoordinateInPath");const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1}),defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),stringToIcon=(Ye,rt,it,lt="")=>{const ct=Ye.split(":");if(Ye.slice(0,1)==="@"){if(ct.length<2||ct.length>3)return null;lt=ct.shift().slice(1)}if(ct.length>3||!ct.length)return null;if(ct.length>1){const ft=ct.pop(),pt=ct.pop(),mt={provider:ct.length>0?ct[0]:lt,prefix:pt,name:ft};return validateIconName(mt)?mt:null}const ut=ct[0],ht=ut.split("-");if(ht.length>1){const ft={provider:lt,prefix:ht.shift(),name:ht.join("-")};return validateIconName(ft)?ft:null}if(it&&lt===""){const ft={provider:lt,prefix:"",name:ut};return validateIconName(ft,it)?ft:null}return null},validateIconName=(Ye,rt)=>Ye?!!((rt&&Ye.prefix===""||Ye.prefix)&&Ye.name):!1;function mergeIconTransformations(Ye,rt){const it={};!Ye.hFlip!=!rt.hFlip&&(it.hFlip=!0),!Ye.vFlip!=!rt.vFlip&&(it.vFlip=!0);const lt=((Ye.rotate||0)+(rt.rotate||0))%4;return lt&&(it.rotate=lt),it}function mergeIconData(Ye,rt){const it=mergeIconTransformations(Ye,rt);for(const lt in defaultExtendedIconProps)lt in defaultIconTransformations?lt in Ye&&!(lt in it)&&(it[lt]=defaultIconTransformations[lt]):lt in rt?it[lt]=rt[lt]:lt in Ye&&(it[lt]=Ye[lt]);return it}function getIconsTree(Ye,rt){const it=Ye.icons,lt=Ye.aliases||Object.create(null),ct=Object.create(null);function ut(ht){if(it[ht])return ct[ht]=[];if(!(ht in ct)){ct[ht]=null;const ft=lt[ht]&&lt[ht].parent,pt=ft&&ut(ft);pt&&(ct[ht]=[ft].concat(pt))}return ct[ht]}return(rt||Object.keys(it).concat(Object.keys(lt))).forEach(ut),ct}function internalGetIconData(Ye,rt,it){const lt=Ye.icons,ct=Ye.aliases||Object.create(null);let ut={};function ht(ft){ut=mergeIconData(lt[ft]||ct[ft],ut)}return ht(rt),it.forEach(ht),mergeIconData(Ye,ut)}function getIconData(Ye,rt){if(Ye.icons[rt])return internalGetIconData(Ye,rt,[]);const it=getIconsTree(Ye,[rt])[rt];return it?internalGetIconData(Ye,rt,it):null}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(Ye,rt,it){if(rt===1)return Ye;if(it=it||100,typeof Ye=="number")return Math.ceil(Ye*rt*it)/it;if(typeof Ye!="string")return Ye;const lt=Ye.split(unitsSplit);if(lt===null||!lt.length)return Ye;const ct=[];let ut=lt.shift(),ht=unitsTest.test(ut);for(;;){if(ht){const ft=parseFloat(ut);isNaN(ft)?ct.push(ut):ct.push(Math.ceil(ft*rt*it)/it)}else ct.push(ut);if(ut=lt.shift(),ut===void 0)return ct.join("");ht=!ht}}function splitSVGDefs(Ye,rt="defs"){let it="";const lt=Ye.indexOf("<"+rt);for(;lt>=0;){const ct=Ye.indexOf(">",lt),ut=Ye.indexOf("</"+rt);if(ct===-1||ut===-1)break;const ht=Ye.indexOf(">",ut);if(ht===-1)break;it+=Ye.slice(ct+1,ut).trim(),Ye=Ye.slice(0,lt).trim()+Ye.slice(ht+1)}return{defs:it,content:Ye}}function mergeDefsAndContent(Ye,rt){return Ye?"<defs>"+Ye+"</defs>"+rt:rt}function wrapSVGContent(Ye,rt,it){const lt=splitSVGDefs(Ye);return mergeDefsAndContent(lt.defs,rt+lt.content+it)}const isUnsetKeyword=Ye=>Ye==="unset"||Ye==="undefined"||Ye==="none";function iconToSVG(Ye,rt){const it={...defaultIconProps,...Ye},lt={...defaultIconCustomisations,...rt},ct={left:it.left,top:it.top,width:it.width,height:it.height};let ut=it.body;[it,lt].forEach(Ct=>{const kt=[],St=Ct.hFlip,Rt=Ct.vFlip;let Tt=Ct.rotate;St?Rt?Tt+=2:(kt.push("translate("+(ct.width+ct.left).toString()+" "+(0-ct.top).toString()+")"),kt.push("scale(-1 1)"),ct.top=ct.left=0):Rt&&(kt.push("translate("+(0-ct.left).toString()+" "+(ct.height+ct.top).toString()+")"),kt.push("scale(1 -1)"),ct.top=ct.left=0);let Mt;switch(Tt<0&&(Tt-=Math.floor(Tt/4)*4),Tt=Tt%4,Tt){case 1:Mt=ct.height/2+ct.top,kt.unshift("rotate(90 "+Mt.toString()+" "+Mt.toString()+")");break;case 2:kt.unshift("rotate(180 "+(ct.width/2+ct.left).toString()+" "+(ct.height/2+ct.top).toString()+")");break;case 3:Mt=ct.width/2+ct.left,kt.unshift("rotate(-90 "+Mt.toString()+" "+Mt.toString()+")");break}Tt%2===1&&(ct.left!==ct.top&&(Mt=ct.left,ct.left=ct.top,ct.top=Mt),ct.width!==ct.height&&(Mt=ct.width,ct.width=ct.height,ct.height=Mt)),kt.length&&(ut=wrapSVGContent(ut,'<g transform="'+kt.join(" ")+'">',"</g>"))});const ht=lt.width,ft=lt.height,pt=ct.width,mt=ct.height;let gt,yt;ht===null?(yt=ft===null?"1em":ft==="auto"?mt:ft,gt=calculateSize(yt,pt/mt)):(gt=ht==="auto"?pt:ht,yt=ft===null?calculateSize(gt,mt/pt):ft==="auto"?mt:ft);const xt={},bt=(Ct,kt)=>{isUnsetKeyword(kt)||(xt[Ct]=kt.toString())};bt("width",gt),bt("height",yt);const _t=[ct.left,ct.top,pt,mt];return xt.viewBox=_t.join(" "),{attributes:xt,viewBox:_t,body:ut}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter$1=0;function replaceIDs(Ye,rt=randomPrefix){const it=[];let lt;for(;lt=regex.exec(Ye);)it.push(lt[1]);if(!it.length)return Ye;const ct="suffix"+(Math.random()*16777216|Date.now()).toString(16);return it.forEach(ut=>{const ht=typeof rt=="function"?rt(ut):rt+(counter$1++).toString(),ft=ut.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Ye=Ye.replace(new RegExp('([#;"])('+ft+')([")]|\\.[a-z])',"g"),"$1"+ht+ct+"$3")}),Ye=Ye.replace(new RegExp(ct,"g"),""),Ye}function iconToHTML(Ye,rt){let it=Ye.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const lt in rt)it+=" "+lt+'="'+rt[lt]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+it+">"+Ye+"</svg>"}function L$1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T$1=L$1();function G$1(Ye){T$1=Ye}var I$1={exec:()=>null};function h$1(Ye,rt=""){let it=typeof Ye=="string"?Ye:Ye.source,lt={replace:(ct,ut)=>{let ht=typeof ut=="string"?ut:ut.source;return ht=ht.replace(m$1.caret,"$1"),it=it.replace(ct,ht),lt},getRegex:()=>new RegExp(it,rt)};return lt}var m$1={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:Ye=>new RegExp(`^( {0,3}${Ye})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:Ye=>new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:Ye=>new RegExp(`^ {0,${Math.min(3,Ye-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:Ye=>new RegExp(`^ {0,${Math.min(3,Ye-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:Ye=>new RegExp(`^ {0,${Math.min(3,Ye-1)}}#`),htmlBeginRegex:Ye=>new RegExp(`^ {0,${Math.min(3,Ye-1)}}<(?:[a-z].*>|!--)`,"i")},be=/^(?:[ \t]*(?:\n|$))+/,Re=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Te=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,E$1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Oe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,F$1=/(?:[*+-]|\d{1,9}[.)])/,ie=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,oe=h$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),we=h$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j$1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ye=/^[^\n]+/,Q$1=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Pe=h$1(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q$1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Se=h$1(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,F$1).getRegex(),v$1="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U$1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$e=h$1("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",U$1).replace("tag",v$1).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae=h$1(j$1).replace("hr",E$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),_e=h$1(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ae).getRegex(),K$1={blockquote:_e,code:Re,def:Pe,fences:Te,heading:Oe,hr:E$1,html:$e,lheading:oe,list:Se,newline:be,paragraph:ae,table:I$1,text:ye},re=h$1("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",E$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),Le={...K$1,lheading:we,table:re,paragraph:h$1(j$1).replace("hr",E$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",re).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex()},Me={...K$1,html:h$1(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U$1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I$1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h$1(j$1).replace("hr",E$1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ze=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,le=/^( {2,}|\\)\n(?!\s*$)/,Ie=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D$1=/[\p{P}\p{S}]/u,W$1=/[\s\p{P}\p{S}]/u,ue=/[^\s\p{P}\p{S}]/u,Ee=h$1(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,W$1).getRegex(),pe=/(?!~)[\p{P}\p{S}]/u,Ce=/(?!~)[\s\p{P}\p{S}]/u,Be=/(?:[^\s\p{P}\p{S}]|~)/u,qe=h$1(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),ce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ve=h$1(ce,"u").replace(/punct/g,D$1).getRegex(),De=h$1(ce,"u").replace(/punct/g,pe).getRegex(),he="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",He=h$1(he,"gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$1).getRegex(),Ze=h$1(he,"gu").replace(/notPunctSpace/g,Be).replace(/punctSpace/g,Ce).replace(/punct/g,pe).getRegex(),Ge=h$1("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$1).getRegex(),Ne=h$1(/\\(punct)/,"gu").replace(/punct/g,D$1).getRegex(),Fe=h$1(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),je=h$1(U$1).replace("(?:-->|$)","-->").getRegex(),Qe=h$1("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",je).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q$1=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ue=h$1(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q$1).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),de=h$1(/^!?\[(label)\]\[(ref)\]/).replace("label",q$1).replace("ref",Q$1).getRegex(),ke=h$1(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q$1).getRegex(),Ke=h$1("reflink|nolink(?!\\()","g").replace("reflink",de).replace("nolink",ke).getRegex(),se=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,X$1={_backpedal:I$1,anyPunctuation:Ne,autolink:Fe,blockSkip:qe,br:le,code:Ae,del:I$1,emStrongLDelim:ve,emStrongRDelimAst:He,emStrongRDelimUnd:Ge,escape:ze,link:Ue,nolink:ke,punctuation:Ee,reflink:de,reflinkSearch:Ke,tag:Qe,text:Ie,url:I$1},We={...X$1,link:h$1(/^!?\[(label)\]\((.*?)\)/).replace("label",q$1).getRegex(),reflink:h$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q$1).getRegex()},N$1={...X$1,emStrongRDelimAst:Ze,emStrongLDelim:De,url:h$1(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",se).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:h$1(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",se).getRegex()},Xe={...N$1,br:h$1(le).replace("{2,}","*").getRegex(),text:h$1(N$1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},C$1={normal:K$1,gfm:Le,pedantic:Me},M$1={normal:X$1,gfm:N$1,breaks:Xe,pedantic:We},Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge=Ye=>Je[Ye];function w$1(Ye,rt){if(rt){if(m$1.escapeTest.test(Ye))return Ye.replace(m$1.escapeReplace,ge)}else if(m$1.escapeTestNoEncode.test(Ye))return Ye.replace(m$1.escapeReplaceNoEncode,ge);return Ye}function J$1(Ye){try{Ye=encodeURI(Ye).replace(m$1.percentDecode,"%")}catch{return null}return Ye}function V$1(Ye,rt){let it=Ye.replace(m$1.findPipe,(ut,ht,ft)=>{let pt=!1,mt=ht;for(;--mt>=0&&ft[mt]==="\\";)pt=!pt;return pt?"|":" |"}),lt=it.split(m$1.splitPipe),ct=0;if(lt[0].trim()||lt.shift(),lt.length>0&&!lt.at(-1)?.trim()&&lt.pop(),rt)if(lt.length>rt)lt.splice(rt);else for(;lt.length<rt;)lt.push("");for(;ct<lt.length;ct++)lt[ct]=lt[ct].trim().replace(m$1.slashPipe,"|");return lt}function z$1(Ye,rt,it){let lt=Ye.length;if(lt===0)return"";let ct=0;for(;ct<lt&&Ye.charAt(lt-ct-1)===rt;)ct++;return Ye.slice(0,lt-ct)}function fe(Ye,rt){if(Ye.indexOf(rt[1])===-1)return-1;let it=0;for(let lt=0;lt<Ye.length;lt++)if(Ye[lt]==="\\")lt++;else if(Ye[lt]===rt[0])it++;else if(Ye[lt]===rt[1]&&(it--,it<0))return lt;return it>0?-2:-1}function me(Ye,rt,it,lt,ct){let ut=rt.href,ht=rt.title||null,ft=Ye[1].replace(ct.other.outputLinkReplace,"$1");lt.state.inLink=!0;let pt={type:Ye[0].charAt(0)==="!"?"image":"link",raw:it,href:ut,title:ht,text:ft,tokens:lt.inlineTokens(ft)};return lt.state.inLink=!1,pt}function Ve(Ye,rt,it){let lt=Ye.match(it.other.indentCodeCompensation);if(lt===null)return rt;let ct=lt[1];return rt.split(`
`).map(ut=>{let ht=ut.match(it.other.beginningSpace);if(ht===null)return ut;let[ft]=ht;return ft.length>=ct.length?ut.slice(ct.length):ut}).join(`
`)}var y$1=class{options;rules;lexer;constructor(rt){this.options=rt||T$1}space(rt){let it=this.rules.block.newline.exec(rt);if(it&&it[0].length>0)return{type:"space",raw:it[0]}}code(rt){let it=this.rules.block.code.exec(rt);if(it){let lt=it[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:it[0],codeBlockStyle:"indented",text:this.options.pedantic?lt:z$1(lt,`
`)}}}fences(rt){let it=this.rules.block.fences.exec(rt);if(it){let lt=it[0],ct=Ve(lt,it[3]||"",this.rules);return{type:"code",raw:lt,lang:it[2]?it[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):it[2],text:ct}}}heading(rt){let it=this.rules.block.heading.exec(rt);if(it){let lt=it[2].trim();if(this.rules.other.endingHash.test(lt)){let ct=z$1(lt,"#");(this.options.pedantic||!ct||this.rules.other.endingSpaceChar.test(ct))&&(lt=ct.trim())}return{type:"heading",raw:it[0],depth:it[1].length,text:lt,tokens:this.lexer.inline(lt)}}}hr(rt){let it=this.rules.block.hr.exec(rt);if(it)return{type:"hr",raw:z$1(it[0],`
`)}}blockquote(rt){let it=this.rules.block.blockquote.exec(rt);if(it){let lt=z$1(it[0],`
`).split(`
`),ct="",ut="",ht=[];for(;lt.length>0;){let ft=!1,pt=[],mt;for(mt=0;mt<lt.length;mt++)if(this.rules.other.blockquoteStart.test(lt[mt]))pt.push(lt[mt]),ft=!0;else if(!ft)pt.push(lt[mt]);else break;lt=lt.slice(mt);let gt=pt.join(`
`),yt=gt.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");ct=ct?`${ct}
${gt}`:gt,ut=ut?`${ut}
${yt}`:yt;let xt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(yt,ht,!0),this.lexer.state.top=xt,lt.length===0)break;let bt=ht.at(-1);if(bt?.type==="code")break;if(bt?.type==="blockquote"){let _t=bt,Ct=_t.raw+`
`+lt.join(`
`),kt=this.blockquote(Ct);ht[ht.length-1]=kt,ct=ct.substring(0,ct.length-_t.raw.length)+kt.raw,ut=ut.substring(0,ut.length-_t.text.length)+kt.text;break}else if(bt?.type==="list"){let _t=bt,Ct=_t.raw+`
`+lt.join(`
`),kt=this.list(Ct);ht[ht.length-1]=kt,ct=ct.substring(0,ct.length-bt.raw.length)+kt.raw,ut=ut.substring(0,ut.length-_t.raw.length)+kt.raw,lt=Ct.substring(ht.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:ct,tokens:ht,text:ut}}}list(rt){let it=this.rules.block.list.exec(rt);if(it){let lt=it[1].trim(),ct=lt.length>1,ut={type:"list",raw:"",ordered:ct,start:ct?+lt.slice(0,-1):"",loose:!1,items:[]};lt=ct?`\\d{1,9}\\${lt.slice(-1)}`:`\\${lt}`,this.options.pedantic&&(lt=ct?lt:"[*+-]");let ht=this.rules.other.listItemRegex(lt),ft=!1;for(;rt;){let mt=!1,gt="",yt="";if(!(it=ht.exec(rt))||this.rules.block.hr.test(rt))break;gt=it[0],rt=rt.substring(gt.length);let xt=it[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Rt=>" ".repeat(3*Rt.length)),bt=rt.split(`
`,1)[0],_t=!xt.trim(),Ct=0;if(this.options.pedantic?(Ct=2,yt=xt.trimStart()):_t?Ct=it[1].length+1:(Ct=it[2].search(this.rules.other.nonSpaceChar),Ct=Ct>4?1:Ct,yt=xt.slice(Ct),Ct+=it[1].length),_t&&this.rules.other.blankLine.test(bt)&&(gt+=bt+`
`,rt=rt.substring(bt.length+1),mt=!0),!mt){let Rt=this.rules.other.nextBulletRegex(Ct),Tt=this.rules.other.hrRegex(Ct),Mt=this.rules.other.fencesBeginRegex(Ct),Pt=this.rules.other.headingBeginRegex(Ct),It=this.rules.other.htmlBeginRegex(Ct);for(;rt;){let Lt=rt.split(`
`,1)[0],Ot;if(bt=Lt,this.options.pedantic?(bt=bt.replace(this.rules.other.listReplaceNesting,"  "),Ot=bt):Ot=bt.replace(this.rules.other.tabCharGlobal,"    "),Mt.test(bt)||Pt.test(bt)||It.test(bt)||Rt.test(bt)||Tt.test(bt))break;if(Ot.search(this.rules.other.nonSpaceChar)>=Ct||!bt.trim())yt+=`
`+Ot.slice(Ct);else{if(_t||xt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Mt.test(xt)||Pt.test(xt)||Tt.test(xt))break;yt+=`
`+bt}!_t&&!bt.trim()&&(_t=!0),gt+=Lt+`
`,rt=rt.substring(Lt.length+1),xt=Ot.slice(Ct)}}ut.loose||(ft?ut.loose=!0:this.rules.other.doubleBlankLine.test(gt)&&(ft=!0));let kt=null,St;this.options.gfm&&(kt=this.rules.other.listIsTask.exec(yt),kt&&(St=kt[0]!=="[ ] ",yt=yt.replace(this.rules.other.listReplaceTask,""))),ut.items.push({type:"list_item",raw:gt,task:!!kt,checked:St,loose:!1,text:yt,tokens:[]}),ut.raw+=gt}let pt=ut.items.at(-1);if(pt)pt.raw=pt.raw.trimEnd(),pt.text=pt.text.trimEnd();else return;ut.raw=ut.raw.trimEnd();for(let mt=0;mt<ut.items.length;mt++)if(this.lexer.state.top=!1,ut.items[mt].tokens=this.lexer.blockTokens(ut.items[mt].text,[]),!ut.loose){let gt=ut.items[mt].tokens.filter(xt=>xt.type==="space"),yt=gt.length>0&&gt.some(xt=>this.rules.other.anyLine.test(xt.raw));ut.loose=yt}if(ut.loose)for(let mt=0;mt<ut.items.length;mt++)ut.items[mt].loose=!0;return ut}}html(rt){let it=this.rules.block.html.exec(rt);if(it)return{type:"html",block:!0,raw:it[0],pre:it[1]==="pre"||it[1]==="script"||it[1]==="style",text:it[0]}}def(rt){let it=this.rules.block.def.exec(rt);if(it){let lt=it[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),ct=it[2]?it[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",ut=it[3]?it[3].substring(1,it[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):it[3];return{type:"def",tag:lt,raw:it[0],href:ct,title:ut}}}table(rt){let it=this.rules.block.table.exec(rt);if(!it||!this.rules.other.tableDelimiter.test(it[2]))return;let lt=V$1(it[1]),ct=it[2].replace(this.rules.other.tableAlignChars,"").split("|"),ut=it[3]?.trim()?it[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],ht={type:"table",raw:it[0],header:[],align:[],rows:[]};if(lt.length===ct.length){for(let ft of ct)this.rules.other.tableAlignRight.test(ft)?ht.align.push("right"):this.rules.other.tableAlignCenter.test(ft)?ht.align.push("center"):this.rules.other.tableAlignLeft.test(ft)?ht.align.push("left"):ht.align.push(null);for(let ft=0;ft<lt.length;ft++)ht.header.push({text:lt[ft],tokens:this.lexer.inline(lt[ft]),header:!0,align:ht.align[ft]});for(let ft of ut)ht.rows.push(V$1(ft,ht.header.length).map((pt,mt)=>({text:pt,tokens:this.lexer.inline(pt),header:!1,align:ht.align[mt]})));return ht}}lheading(rt){let it=this.rules.block.lheading.exec(rt);if(it)return{type:"heading",raw:it[0],depth:it[2].charAt(0)==="="?1:2,text:it[1],tokens:this.lexer.inline(it[1])}}paragraph(rt){let it=this.rules.block.paragraph.exec(rt);if(it){let lt=it[1].charAt(it[1].length-1)===`
`?it[1].slice(0,-1):it[1];return{type:"paragraph",raw:it[0],text:lt,tokens:this.lexer.inline(lt)}}}text(rt){let it=this.rules.block.text.exec(rt);if(it)return{type:"text",raw:it[0],text:it[0],tokens:this.lexer.inline(it[0])}}escape(rt){let it=this.rules.inline.escape.exec(rt);if(it)return{type:"escape",raw:it[0],text:it[1]}}tag(rt){let it=this.rules.inline.tag.exec(rt);if(it)return!this.lexer.state.inLink&&this.rules.other.startATag.test(it[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(it[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(it[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(it[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:it[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:it[0]}}link(rt){let it=this.rules.inline.link.exec(rt);if(it){let lt=it[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(lt)){if(!this.rules.other.endAngleBracket.test(lt))return;let ht=z$1(lt.slice(0,-1),"\\");if((lt.length-ht.length)%2===0)return}else{let ht=fe(it[2],"()");if(ht===-2)return;if(ht>-1){let ft=(it[0].indexOf("!")===0?5:4)+it[1].length+ht;it[2]=it[2].substring(0,ht),it[0]=it[0].substring(0,ft).trim(),it[3]=""}}let ct=it[2],ut="";if(this.options.pedantic){let ht=this.rules.other.pedanticHrefTitle.exec(ct);ht&&(ct=ht[1],ut=ht[3])}else ut=it[3]?it[3].slice(1,-1):"";return ct=ct.trim(),this.rules.other.startAngleBracket.test(ct)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(lt)?ct=ct.slice(1):ct=ct.slice(1,-1)),me(it,{href:ct&&ct.replace(this.rules.inline.anyPunctuation,"$1"),title:ut&&ut.replace(this.rules.inline.anyPunctuation,"$1")},it[0],this.lexer,this.rules)}}reflink(rt,it){let lt;if((lt=this.rules.inline.reflink.exec(rt))||(lt=this.rules.inline.nolink.exec(rt))){let ct=(lt[2]||lt[1]).replace(this.rules.other.multipleSpaceGlobal," "),ut=it[ct.toLowerCase()];if(!ut){let ht=lt[0].charAt(0);return{type:"text",raw:ht,text:ht}}return me(lt,ut,lt[0],this.lexer,this.rules)}}emStrong(rt,it,lt=""){let ct=this.rules.inline.emStrongLDelim.exec(rt);if(!(!ct||ct[3]&&lt.match(this.rules.other.unicodeAlphaNumeric))&&(!(ct[1]||ct[2])||!lt||this.rules.inline.punctuation.exec(lt))){let ut=[...ct[0]].length-1,ht,ft,pt=ut,mt=0,gt=ct[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(gt.lastIndex=0,it=it.slice(-1*rt.length+ut);(ct=gt.exec(it))!=null;){if(ht=ct[1]||ct[2]||ct[3]||ct[4]||ct[5]||ct[6],!ht)continue;if(ft=[...ht].length,ct[3]||ct[4]){pt+=ft;continue}else if((ct[5]||ct[6])&&ut%3&&!((ut+ft)%3)){mt+=ft;continue}if(pt-=ft,pt>0)continue;ft=Math.min(ft,ft+pt+mt);let yt=[...ct[0]][0].length,xt=rt.slice(0,ut+ct.index+yt+ft);if(Math.min(ut,ft)%2){let _t=xt.slice(1,-1);return{type:"em",raw:xt,text:_t,tokens:this.lexer.inlineTokens(_t)}}let bt=xt.slice(2,-2);return{type:"strong",raw:xt,text:bt,tokens:this.lexer.inlineTokens(bt)}}}}codespan(rt){let it=this.rules.inline.code.exec(rt);if(it){let lt=it[2].replace(this.rules.other.newLineCharGlobal," "),ct=this.rules.other.nonSpaceChar.test(lt),ut=this.rules.other.startingSpaceChar.test(lt)&&this.rules.other.endingSpaceChar.test(lt);return ct&&ut&&(lt=lt.substring(1,lt.length-1)),{type:"codespan",raw:it[0],text:lt}}}br(rt){let it=this.rules.inline.br.exec(rt);if(it)return{type:"br",raw:it[0]}}del(rt){let it=this.rules.inline.del.exec(rt);if(it)return{type:"del",raw:it[0],text:it[2],tokens:this.lexer.inlineTokens(it[2])}}autolink(rt){let it=this.rules.inline.autolink.exec(rt);if(it){let lt,ct;return it[2]==="@"?(lt=it[1],ct="mailto:"+lt):(lt=it[1],ct=lt),{type:"link",raw:it[0],text:lt,href:ct,tokens:[{type:"text",raw:lt,text:lt}]}}}url(rt){let it;if(it=this.rules.inline.url.exec(rt)){let lt,ct;if(it[2]==="@")lt=it[0],ct="mailto:"+lt;else{let ut;do ut=it[0],it[0]=this.rules.inline._backpedal.exec(it[0])?.[0]??"";while(ut!==it[0]);lt=it[0],it[1]==="www."?ct="http://"+it[0]:ct=it[0]}return{type:"link",raw:it[0],text:lt,href:ct,tokens:[{type:"text",raw:lt,text:lt}]}}}inlineText(rt){let it=this.rules.inline.text.exec(rt);if(it){let lt=this.lexer.state.inRawBlock;return{type:"text",raw:it[0],text:it[0],escaped:lt}}}},x$1=class fd{tokens;options;state;tokenizer;inlineQueue;constructor(rt){this.tokens=[],this.tokens.links=Object.create(null),this.options=rt||T$1,this.options.tokenizer=this.options.tokenizer||new y$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let it={other:m$1,block:C$1.normal,inline:M$1.normal};this.options.pedantic?(it.block=C$1.pedantic,it.inline=M$1.pedantic):this.options.gfm&&(it.block=C$1.gfm,this.options.breaks?it.inline=M$1.breaks:it.inline=M$1.gfm),this.tokenizer.rules=it}static get rules(){return{block:C$1,inline:M$1}}static lex(rt,it){return new fd(it).lex(rt)}static lexInline(rt,it){return new fd(it).inlineTokens(rt)}lex(rt){rt=rt.replace(m$1.carriageReturn,`
`),this.blockTokens(rt,this.tokens);for(let it=0;it<this.inlineQueue.length;it++){let lt=this.inlineQueue[it];this.inlineTokens(lt.src,lt.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(rt,it=[],lt=!1){for(this.options.pedantic&&(rt=rt.replace(m$1.tabCharGlobal,"    ").replace(m$1.spaceLine,""));rt;){let ct;if(this.options.extensions?.block?.some(ht=>(ct=ht.call({lexer:this},rt,it))?(rt=rt.substring(ct.raw.length),it.push(ct),!0):!1))continue;if(ct=this.tokenizer.space(rt)){rt=rt.substring(ct.raw.length);let ht=it.at(-1);ct.raw.length===1&&ht!==void 0?ht.raw+=`
`:it.push(ct);continue}if(ct=this.tokenizer.code(rt)){rt=rt.substring(ct.raw.length);let ht=it.at(-1);ht?.type==="paragraph"||ht?.type==="text"?(ht.raw+=(ht.raw.endsWith(`
`)?"":`
`)+ct.raw,ht.text+=`
`+ct.text,this.inlineQueue.at(-1).src=ht.text):it.push(ct);continue}if(ct=this.tokenizer.fences(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.heading(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.hr(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.blockquote(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.list(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.html(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.def(rt)){rt=rt.substring(ct.raw.length);let ht=it.at(-1);ht?.type==="paragraph"||ht?.type==="text"?(ht.raw+=(ht.raw.endsWith(`
`)?"":`
`)+ct.raw,ht.text+=`
`+ct.raw,this.inlineQueue.at(-1).src=ht.text):this.tokens.links[ct.tag]||(this.tokens.links[ct.tag]={href:ct.href,title:ct.title},it.push(ct));continue}if(ct=this.tokenizer.table(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}if(ct=this.tokenizer.lheading(rt)){rt=rt.substring(ct.raw.length),it.push(ct);continue}let ut=rt;if(this.options.extensions?.startBlock){let ht=1/0,ft=rt.slice(1),pt;this.options.extensions.startBlock.forEach(mt=>{pt=mt.call({lexer:this},ft),typeof pt=="number"&&pt>=0&&(ht=Math.min(ht,pt))}),ht<1/0&&ht>=0&&(ut=rt.substring(0,ht+1))}if(this.state.top&&(ct=this.tokenizer.paragraph(ut))){let ht=it.at(-1);lt&&ht?.type==="paragraph"?(ht.raw+=(ht.raw.endsWith(`
`)?"":`
`)+ct.raw,ht.text+=`
`+ct.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ht.text):it.push(ct),lt=ut.length!==rt.length,rt=rt.substring(ct.raw.length);continue}if(ct=this.tokenizer.text(rt)){rt=rt.substring(ct.raw.length);let ht=it.at(-1);ht?.type==="text"?(ht.raw+=(ht.raw.endsWith(`
`)?"":`
`)+ct.raw,ht.text+=`
`+ct.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=ht.text):it.push(ct);continue}if(rt){let ht="Infinite loop on byte: "+rt.charCodeAt(0);if(this.options.silent){console.error(ht);break}else throw new Error(ht)}}return this.state.top=!0,it}inline(rt,it=[]){return this.inlineQueue.push({src:rt,tokens:it}),it}inlineTokens(rt,it=[]){let lt=rt,ct=null;if(this.tokens.links){let ft=Object.keys(this.tokens.links);if(ft.length>0)for(;(ct=this.tokenizer.rules.inline.reflinkSearch.exec(lt))!=null;)ft.includes(ct[0].slice(ct[0].lastIndexOf("[")+1,-1))&&(lt=lt.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ct=this.tokenizer.rules.inline.anyPunctuation.exec(lt))!=null;)lt=lt.slice(0,ct.index)+"++"+lt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(ct=this.tokenizer.rules.inline.blockSkip.exec(lt))!=null;)lt=lt.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+lt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);lt=this.options.hooks?.emStrongMask?.call({lexer:this},lt)??lt;let ut=!1,ht="";for(;rt;){ut||(ht=""),ut=!1;let ft;if(this.options.extensions?.inline?.some(mt=>(ft=mt.call({lexer:this},rt,it))?(rt=rt.substring(ft.raw.length),it.push(ft),!0):!1))continue;if(ft=this.tokenizer.escape(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.tag(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.link(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.reflink(rt,this.tokens.links)){rt=rt.substring(ft.raw.length);let mt=it.at(-1);ft.type==="text"&&mt?.type==="text"?(mt.raw+=ft.raw,mt.text+=ft.text):it.push(ft);continue}if(ft=this.tokenizer.emStrong(rt,lt,ht)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.codespan(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.br(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.del(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(ft=this.tokenizer.autolink(rt)){rt=rt.substring(ft.raw.length),it.push(ft);continue}if(!this.state.inLink&&(ft=this.tokenizer.url(rt))){rt=rt.substring(ft.raw.length),it.push(ft);continue}let pt=rt;if(this.options.extensions?.startInline){let mt=1/0,gt=rt.slice(1),yt;this.options.extensions.startInline.forEach(xt=>{yt=xt.call({lexer:this},gt),typeof yt=="number"&&yt>=0&&(mt=Math.min(mt,yt))}),mt<1/0&&mt>=0&&(pt=rt.substring(0,mt+1))}if(ft=this.tokenizer.inlineText(pt)){rt=rt.substring(ft.raw.length),ft.raw.slice(-1)!=="_"&&(ht=ft.raw.slice(-1)),ut=!0;let mt=it.at(-1);mt?.type==="text"?(mt.raw+=ft.raw,mt.text+=ft.text):it.push(ft);continue}if(rt){let mt="Infinite loop on byte: "+rt.charCodeAt(0);if(this.options.silent){console.error(mt);break}else throw new Error(mt)}}return it}},P$1=class{options;parser;constructor(rt){this.options=rt||T$1}space(rt){return""}code({text:rt,lang:it,escaped:lt}){let ct=(it||"").match(m$1.notSpaceStart)?.[0],ut=rt.replace(m$1.endingNewline,"")+`
`;return ct?'<pre><code class="language-'+w$1(ct)+'">'+(lt?ut:w$1(ut,!0))+`</code></pre>
`:"<pre><code>"+(lt?ut:w$1(ut,!0))+`</code></pre>
`}blockquote({tokens:rt}){return`<blockquote>
${this.parser.parse(rt)}</blockquote>
`}html({text:rt}){return rt}def(rt){return""}heading({tokens:rt,depth:it}){return`<h${it}>${this.parser.parseInline(rt)}</h${it}>
`}hr(rt){return`<hr>
`}list(rt){let it=rt.ordered,lt=rt.start,ct="";for(let ft=0;ft<rt.items.length;ft++){let pt=rt.items[ft];ct+=this.listitem(pt)}let ut=it?"ol":"ul",ht=it&&lt!==1?' start="'+lt+'"':"";return"<"+ut+ht+`>
`+ct+"</"+ut+`>
`}listitem(rt){let it="";if(rt.task){let lt=this.checkbox({checked:!!rt.checked});rt.loose?rt.tokens[0]?.type==="paragraph"?(rt.tokens[0].text=lt+" "+rt.tokens[0].text,rt.tokens[0].tokens&&rt.tokens[0].tokens.length>0&&rt.tokens[0].tokens[0].type==="text"&&(rt.tokens[0].tokens[0].text=lt+" "+w$1(rt.tokens[0].tokens[0].text),rt.tokens[0].tokens[0].escaped=!0)):rt.tokens.unshift({type:"text",raw:lt+" ",text:lt+" ",escaped:!0}):it+=lt+" "}return it+=this.parser.parse(rt.tokens,!!rt.loose),`<li>${it}</li>
`}checkbox({checked:rt}){return"<input "+(rt?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:rt}){return`<p>${this.parser.parseInline(rt)}</p>
`}table(rt){let it="",lt="";for(let ut=0;ut<rt.header.length;ut++)lt+=this.tablecell(rt.header[ut]);it+=this.tablerow({text:lt});let ct="";for(let ut=0;ut<rt.rows.length;ut++){let ht=rt.rows[ut];lt="";for(let ft=0;ft<ht.length;ft++)lt+=this.tablecell(ht[ft]);ct+=this.tablerow({text:lt})}return ct&&(ct=`<tbody>${ct}</tbody>`),`<table>
<thead>
`+it+`</thead>
`+ct+`</table>
`}tablerow({text:rt}){return`<tr>
${rt}</tr>
`}tablecell(rt){let it=this.parser.parseInline(rt.tokens),lt=rt.header?"th":"td";return(rt.align?`<${lt} align="${rt.align}">`:`<${lt}>`)+it+`</${lt}>
`}strong({tokens:rt}){return`<strong>${this.parser.parseInline(rt)}</strong>`}em({tokens:rt}){return`<em>${this.parser.parseInline(rt)}</em>`}codespan({text:rt}){return`<code>${w$1(rt,!0)}</code>`}br(rt){return"<br>"}del({tokens:rt}){return`<del>${this.parser.parseInline(rt)}</del>`}link({href:rt,title:it,tokens:lt}){let ct=this.parser.parseInline(lt),ut=J$1(rt);if(ut===null)return ct;rt=ut;let ht='<a href="'+rt+'"';return it&&(ht+=' title="'+w$1(it)+'"'),ht+=">"+ct+"</a>",ht}image({href:rt,title:it,text:lt,tokens:ct}){ct&&(lt=this.parser.parseInline(ct,this.parser.textRenderer));let ut=J$1(rt);if(ut===null)return w$1(lt);rt=ut;let ht=`<img src="${rt}" alt="${lt}"`;return it&&(ht+=` title="${w$1(it)}"`),ht+=">",ht}text(rt){return"tokens"in rt&&rt.tokens?this.parser.parseInline(rt.tokens):"escaped"in rt&&rt.escaped?rt.text:w$1(rt.text)}},$$1=class{strong({text:rt}){return rt}em({text:rt}){return rt}codespan({text:rt}){return rt}del({text:rt}){return rt}html({text:rt}){return rt}text({text:rt}){return rt}link({text:rt}){return""+rt}image({text:rt}){return""+rt}br(){return""}},b$1=class pd{options;renderer;textRenderer;constructor(rt){this.options=rt||T$1,this.options.renderer=this.options.renderer||new P$1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $$1}static parse(rt,it){return new pd(it).parse(rt)}static parseInline(rt,it){return new pd(it).parseInline(rt)}parse(rt,it=!0){let lt="";for(let ct=0;ct<rt.length;ct++){let ut=rt[ct];if(this.options.extensions?.renderers?.[ut.type]){let ft=ut,pt=this.options.extensions.renderers[ft.type].call({parser:this},ft);if(pt!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(ft.type)){lt+=pt||"";continue}}let ht=ut;switch(ht.type){case"space":{lt+=this.renderer.space(ht);continue}case"hr":{lt+=this.renderer.hr(ht);continue}case"heading":{lt+=this.renderer.heading(ht);continue}case"code":{lt+=this.renderer.code(ht);continue}case"table":{lt+=this.renderer.table(ht);continue}case"blockquote":{lt+=this.renderer.blockquote(ht);continue}case"list":{lt+=this.renderer.list(ht);continue}case"html":{lt+=this.renderer.html(ht);continue}case"def":{lt+=this.renderer.def(ht);continue}case"paragraph":{lt+=this.renderer.paragraph(ht);continue}case"text":{let ft=ht,pt=this.renderer.text(ft);for(;ct+1<rt.length&&rt[ct+1].type==="text";)ft=rt[++ct],pt+=`
`+this.renderer.text(ft);it?lt+=this.renderer.paragraph({type:"paragraph",raw:pt,text:pt,tokens:[{type:"text",raw:pt,text:pt,escaped:!0}]}):lt+=pt;continue}default:{let ft='Token with "'+ht.type+'" type was not found.';if(this.options.silent)return console.error(ft),"";throw new Error(ft)}}}return lt}parseInline(rt,it=this.renderer){let lt="";for(let ct=0;ct<rt.length;ct++){let ut=rt[ct];if(this.options.extensions?.renderers?.[ut.type]){let ft=this.options.extensions.renderers[ut.type].call({parser:this},ut);if(ft!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ut.type)){lt+=ft||"";continue}}let ht=ut;switch(ht.type){case"escape":{lt+=it.text(ht);break}case"html":{lt+=it.html(ht);break}case"link":{lt+=it.link(ht);break}case"image":{lt+=it.image(ht);break}case"strong":{lt+=it.strong(ht);break}case"em":{lt+=it.em(ht);break}case"codespan":{lt+=it.codespan(ht);break}case"br":{lt+=it.br(ht);break}case"del":{lt+=it.del(ht);break}case"text":{lt+=it.text(ht);break}default:{let ft='Token with "'+ht.type+'" type was not found.';if(this.options.silent)return console.error(ft),"";throw new Error(ft)}}}return lt}},S$1=class{options;block;constructor(rt){this.options=rt||T$1}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(rt){return rt}postprocess(rt){return rt}processAllTokens(rt){return rt}emStrongMask(rt){return rt}provideLexer(){return this.block?x$1.lex:x$1.lexInline}provideParser(){return this.block?b$1.parse:b$1.parseInline}},B$1=class{defaults=L$1();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b$1;Renderer=P$1;TextRenderer=$$1;Lexer=x$1;Tokenizer=y$1;Hooks=S$1;constructor(...rt){this.use(...rt)}walkTokens(rt,it){let lt=[];for(let ct of rt)switch(lt=lt.concat(it.call(this,ct)),ct.type){case"table":{let ut=ct;for(let ht of ut.header)lt=lt.concat(this.walkTokens(ht.tokens,it));for(let ht of ut.rows)for(let ft of ht)lt=lt.concat(this.walkTokens(ft.tokens,it));break}case"list":{let ut=ct;lt=lt.concat(this.walkTokens(ut.items,it));break}default:{let ut=ct;this.defaults.extensions?.childTokens?.[ut.type]?this.defaults.extensions.childTokens[ut.type].forEach(ht=>{let ft=ut[ht].flat(1/0);lt=lt.concat(this.walkTokens(ft,it))}):ut.tokens&&(lt=lt.concat(this.walkTokens(ut.tokens,it)))}}return lt}use(...rt){let it=this.defaults.extensions||{renderers:{},childTokens:{}};return rt.forEach(lt=>{let ct={...lt};if(ct.async=this.defaults.async||ct.async||!1,lt.extensions&&(lt.extensions.forEach(ut=>{if(!ut.name)throw new Error("extension name required");if("renderer"in ut){let ht=it.renderers[ut.name];ht?it.renderers[ut.name]=function(...ft){let pt=ut.renderer.apply(this,ft);return pt===!1&&(pt=ht.apply(this,ft)),pt}:it.renderers[ut.name]=ut.renderer}if("tokenizer"in ut){if(!ut.level||ut.level!=="block"&&ut.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let ht=it[ut.level];ht?ht.unshift(ut.tokenizer):it[ut.level]=[ut.tokenizer],ut.start&&(ut.level==="block"?it.startBlock?it.startBlock.push(ut.start):it.startBlock=[ut.start]:ut.level==="inline"&&(it.startInline?it.startInline.push(ut.start):it.startInline=[ut.start]))}"childTokens"in ut&&ut.childTokens&&(it.childTokens[ut.name]=ut.childTokens)}),ct.extensions=it),lt.renderer){let ut=this.defaults.renderer||new P$1(this.defaults);for(let ht in lt.renderer){if(!(ht in ut))throw new Error(`renderer '${ht}' does not exist`);if(["options","parser"].includes(ht))continue;let ft=ht,pt=lt.renderer[ft],mt=ut[ft];ut[ft]=(...gt)=>{let yt=pt.apply(ut,gt);return yt===!1&&(yt=mt.apply(ut,gt)),yt||""}}ct.renderer=ut}if(lt.tokenizer){let ut=this.defaults.tokenizer||new y$1(this.defaults);for(let ht in lt.tokenizer){if(!(ht in ut))throw new Error(`tokenizer '${ht}' does not exist`);if(["options","rules","lexer"].includes(ht))continue;let ft=ht,pt=lt.tokenizer[ft],mt=ut[ft];ut[ft]=(...gt)=>{let yt=pt.apply(ut,gt);return yt===!1&&(yt=mt.apply(ut,gt)),yt}}ct.tokenizer=ut}if(lt.hooks){let ut=this.defaults.hooks||new S$1;for(let ht in lt.hooks){if(!(ht in ut))throw new Error(`hook '${ht}' does not exist`);if(["options","block"].includes(ht))continue;let ft=ht,pt=lt.hooks[ft],mt=ut[ft];S$1.passThroughHooks.has(ht)?ut[ft]=gt=>{if(this.defaults.async&&S$1.passThroughHooksRespectAsync.has(ht))return(async()=>{let xt=await pt.call(ut,gt);return mt.call(ut,xt)})();let yt=pt.call(ut,gt);return mt.call(ut,yt)}:ut[ft]=(...gt)=>{if(this.defaults.async)return(async()=>{let xt=await pt.apply(ut,gt);return xt===!1&&(xt=await mt.apply(ut,gt)),xt})();let yt=pt.apply(ut,gt);return yt===!1&&(yt=mt.apply(ut,gt)),yt}}ct.hooks=ut}if(lt.walkTokens){let ut=this.defaults.walkTokens,ht=lt.walkTokens;ct.walkTokens=function(ft){let pt=[];return pt.push(ht.call(this,ft)),ut&&(pt=pt.concat(ut.call(this,ft))),pt}}this.defaults={...this.defaults,...ct}}),this}setOptions(rt){return this.defaults={...this.defaults,...rt},this}lexer(rt,it){return x$1.lex(rt,it??this.defaults)}parser(rt,it){return b$1.parse(rt,it??this.defaults)}parseMarkdown(rt){return(it,lt)=>{let ct={...lt},ut={...this.defaults,...ct},ht=this.onError(!!ut.silent,!!ut.async);if(this.defaults.async===!0&&ct.async===!1)return ht(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof it>"u"||it===null)return ht(new Error("marked(): input parameter is undefined or null"));if(typeof it!="string")return ht(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(it)+", string expected"));if(ut.hooks&&(ut.hooks.options=ut,ut.hooks.block=rt),ut.async)return(async()=>{let ft=ut.hooks?await ut.hooks.preprocess(it):it,pt=await(ut.hooks?await ut.hooks.provideLexer():rt?x$1.lex:x$1.lexInline)(ft,ut),mt=ut.hooks?await ut.hooks.processAllTokens(pt):pt;ut.walkTokens&&await Promise.all(this.walkTokens(mt,ut.walkTokens));let gt=await(ut.hooks?await ut.hooks.provideParser():rt?b$1.parse:b$1.parseInline)(mt,ut);return ut.hooks?await ut.hooks.postprocess(gt):gt})().catch(ht);try{ut.hooks&&(it=ut.hooks.preprocess(it));let ft=(ut.hooks?ut.hooks.provideLexer():rt?x$1.lex:x$1.lexInline)(it,ut);ut.hooks&&(ft=ut.hooks.processAllTokens(ft)),ut.walkTokens&&this.walkTokens(ft,ut.walkTokens);let pt=(ut.hooks?ut.hooks.provideParser():rt?b$1.parse:b$1.parseInline)(ft,ut);return ut.hooks&&(pt=ut.hooks.postprocess(pt)),pt}catch(ft){return ht(ft)}}}onError(rt,it){return lt=>{if(lt.message+=`
Please report this to https://github.com/markedjs/marked.`,rt){let ct="<p>An error occurred:</p><pre>"+w$1(lt.message+"",!0)+"</pre>";return it?Promise.resolve(ct):ct}if(it)return Promise.reject(lt);throw lt}}},_$1=new B$1;function k$1(Ye,rt){return _$1.parse(Ye,rt)}k$1.options=k$1.setOptions=function(Ye){return _$1.setOptions(Ye),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.getDefaults=L$1;k$1.defaults=T$1;k$1.use=function(...Ye){return _$1.use(...Ye),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.walkTokens=function(Ye,rt){return _$1.walkTokens(Ye,rt)};k$1.parseInline=_$1.parseInline;k$1.Parser=b$1;k$1.parser=b$1.parse;k$1.Renderer=P$1;k$1.TextRenderer=$$1;k$1.Lexer=x$1;k$1.lexer=x$1.lex;k$1.Tokenizer=y$1;k$1.Hooks=S$1;k$1.parse=k$1;k$1.options;k$1.setOptions;k$1.use;k$1.walkTokens;k$1.parseInline;b$1.parse;x$1.lex;function dedent(Ye){for(var rt=[],it=1;it<arguments.length;it++)rt[it-1]=arguments[it];var lt=Array.from(typeof Ye=="string"?[Ye]:Ye);lt[lt.length-1]=lt[lt.length-1].replace(/\r?\n([\t ]*)$/,"");var ct=lt.reduce(function(ft,pt){var mt=pt.match(/\n([\t ]+|(?!\s).)/g);return mt?ft.concat(mt.map(function(gt){var yt,xt;return(xt=(yt=gt.match(/[\t ]/g))===null||yt===void 0?void 0:yt.length)!==null&&xt!==void 0?xt:0})):ft},[]);if(ct.length){var ut=new RegExp(`
[	 ]{`+Math.min.apply(Math,ct)+"}","g");lt=lt.map(function(ft){return ft.replace(ut,`
`)})}lt[0]=lt[0].replace(/^\r?\n/,"");var ht=lt[0];return rt.forEach(function(ft,pt){var mt=ht.match(/(?:^|\n)( *)$/),gt=mt?mt[1]:"",yt=ft;typeof ft=="string"&&ft.includes(`
`)&&(yt=String(ft).split(`
`).map(function(xt,bt){return bt===0?xt:""+gt+xt}).join(`
`)),ht+=yt+lt[pt+1]}),ht}var unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=__name(Ye=>{for(const rt of Ye){if(!rt.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(log.debug("Registering icon pack:",rt.name),"loader"in rt)loaderStore.set(rt.name,rt.loader);else if("icons"in rt)iconsStore.set(rt.name,rt.icons);else throw log.error("Invalid icon loader:",rt),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),getRegisteredIconData=__name(async(Ye,rt)=>{const it=stringToIcon(Ye,!0,rt!==void 0);if(!it)throw new Error(`Invalid icon name: ${Ye}`);const lt=it.prefix||rt;if(!lt)throw new Error(`Icon name must contain a prefix: ${Ye}`);let ct=iconsStore.get(lt);if(!ct){const ht=loaderStore.get(lt);if(!ht)throw new Error(`Icon set not found: ${it.prefix}`);try{ct={...await ht(),prefix:lt},iconsStore.set(lt,ct)}catch(ft){throw log.error(ft),new Error(`Failed to load icon set: ${it.prefix}`)}}const ut=getIconData(ct,it.name);if(!ut)throw new Error(`Icon not found: ${Ye}`);return ut},"getRegisteredIconData"),isIconAvailable=__name(async Ye=>{try{return await getRegisteredIconData(Ye),!0}catch{return!1}},"isIconAvailable"),getIconSVG=__name(async(Ye,rt,it)=>{let lt;try{lt=await getRegisteredIconData(Ye,rt?.fallbackPrefix)}catch(ht){log.error(ht),lt=unknownIcon}const ct=iconToSVG(lt,rt),ut=iconToHTML(replaceIDs(ct.body),{...ct.attributes,...it});return sanitizeText(ut,getConfig())},"getIconSVG");function preprocessMarkdown(Ye,{markdownAutoWrap:rt}){const lt=Ye.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),ct=dedent(lt);return rt===!1?ct.replace(/ /g,"&nbsp;"):ct}__name(preprocessMarkdown,"preprocessMarkdown");function markdownToLines(Ye,rt={}){const it=preprocessMarkdown(Ye,rt),lt=k$1.lexer(it),ct=[[]];let ut=0;function ht(ft,pt="normal"){ft.type==="text"?ft.text.split(`
`).forEach((gt,yt)=>{yt!==0&&(ut++,ct.push([])),gt.split(" ").forEach(xt=>{xt=xt.replace(/&#39;/g,"'"),xt&&ct[ut].push({content:xt,type:pt})})}):ft.type==="strong"||ft.type==="em"?ft.tokens.forEach(mt=>{ht(mt,ft.type)}):ft.type==="html"&&ct[ut].push({content:ft.text,type:"normal"})}return __name(ht,"processNode"),lt.forEach(ft=>{ft.type==="paragraph"?ft.tokens?.forEach(pt=>{ht(pt)}):ft.type==="html"?ct[ut].push({content:ft.text,type:"normal"}):ct[ut].push({content:ft.raw,type:"normal"})}),ct}__name(markdownToLines,"markdownToLines");function markdownToHTML(Ye,{markdownAutoWrap:rt}={}){const it=k$1.lexer(Ye);function lt(ct){return ct.type==="text"?rt===!1?ct.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):ct.text.replace(/\n */g,"<br/>"):ct.type==="strong"?`<strong>${ct.tokens?.map(lt).join("")}</strong>`:ct.type==="em"?`<em>${ct.tokens?.map(lt).join("")}</em>`:ct.type==="paragraph"?`<p>${ct.tokens?.map(lt).join("")}</p>`:ct.type==="space"?"":ct.type==="html"?`${ct.text}`:ct.type==="escape"?ct.text:(log.warn(`Unsupported markdown: ${ct.type}`),ct.raw)}return __name(lt,"output"),it.map(lt).join("")}__name(markdownToHTML,"markdownToHTML");function splitTextToChars(Ye){return Intl.Segmenter?[...new Intl.Segmenter().segment(Ye)].map(rt=>rt.segment):[...Ye]}__name(splitTextToChars,"splitTextToChars");function splitWordToFitWidth(Ye,rt){const it=splitTextToChars(rt.content);return splitWordToFitWidthRecursion(Ye,[],it,rt.type)}__name(splitWordToFitWidth,"splitWordToFitWidth");function splitWordToFitWidthRecursion(Ye,rt,it,lt){if(it.length===0)return[{content:rt.join(""),type:lt},{content:"",type:lt}];const[ct,...ut]=it,ht=[...rt,ct];return Ye([{content:ht.join(""),type:lt}])?splitWordToFitWidthRecursion(Ye,ht,ut,lt):(rt.length===0&&ct&&(rt.push(ct),it.shift()),[{content:rt.join(""),type:lt},{content:it.join(""),type:lt}])}__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion");function splitLineToFitWidth(Ye,rt){if(Ye.some(({content:it})=>it.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(Ye,rt)}__name(splitLineToFitWidth,"splitLineToFitWidth");function splitLineToFitWidthRecursion(Ye,rt,it=[],lt=[]){if(Ye.length===0)return lt.length>0&&it.push(lt),it.length>0?it:[];let ct="";Ye[0].content===" "&&(ct=" ",Ye.shift());const ut=Ye.shift()??{content:" ",type:"normal"},ht=[...lt];if(ct!==""&&ht.push({content:ct,type:"normal"}),ht.push(ut),rt(ht))return splitLineToFitWidthRecursion(Ye,rt,it,ht);if(lt.length>0)it.push(lt),Ye.unshift(ut);else if(ut.content){const[ft,pt]=splitWordToFitWidth(rt,ut);it.push([ft]),pt.content&&Ye.unshift(pt)}return splitLineToFitWidthRecursion(Ye,rt,it)}__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion");function applyStyle$1(Ye,rt){rt&&Ye.attr("style",rt)}__name(applyStyle$1,"applyStyle");async function addHtmlSpan(Ye,rt,it,lt,ct=!1,ut=getConfig()){const ht=Ye.append("foreignObject");ht.attr("width",`${10*it}px`),ht.attr("height",`${10*it}px`);const ft=ht.append("xhtml:div"),pt=hasKatex(rt.label)?await renderKatexSanitized(rt.label.replace(common_default.lineBreakRegex,`
`),ut):sanitizeText(rt.label,ut),mt=rt.isNode?"nodeLabel":"edgeLabel",gt=ft.append("span");gt.html(pt),applyStyle$1(gt,rt.labelStyle),gt.attr("class",`${mt} ${lt}`),applyStyle$1(ft,rt.labelStyle),ft.style("display","table-cell"),ft.style("white-space","nowrap"),ft.style("line-height","1.5"),ft.style("max-width",it+"px"),ft.style("text-align","center"),ft.attr("xmlns","http://www.w3.org/1999/xhtml"),ct&&ft.attr("class","labelBkg");let yt=ft.node().getBoundingClientRect();return yt.width===it&&(ft.style("display","table"),ft.style("white-space","break-spaces"),ft.style("width",it+"px"),yt=ft.node().getBoundingClientRect()),ht.node()}__name(addHtmlSpan,"addHtmlSpan");function createTspan(Ye,rt,it){return Ye.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",rt*it-.1+"em").attr("dy",it+"em")}__name(createTspan,"createTspan");function computeWidthOfText(Ye,rt,it){const lt=Ye.append("text"),ct=createTspan(lt,1,rt);updateTextContentAndStyles(ct,it);const ut=ct.node().getComputedTextLength();return lt.remove(),ut}__name(computeWidthOfText,"computeWidthOfText");function computeDimensionOfText(Ye,rt,it){const lt=Ye.append("text"),ct=createTspan(lt,1,rt);updateTextContentAndStyles(ct,[{content:it,type:"normal"}]);const ut=ct.node()?.getBoundingClientRect();return ut&&lt.remove(),ut}__name(computeDimensionOfText,"computeDimensionOfText");function createFormattedText(Ye,rt,it,lt=!1){const ut=rt.append("g"),ht=ut.insert("rect").attr("class","background").attr("style","stroke: none"),ft=ut.append("text").attr("y","-10.1");let pt=0;for(const mt of it){const gt=__name(xt=>computeWidthOfText(ut,1.1,xt)<=Ye,"checkWidth"),yt=gt(mt)?[mt]:splitLineToFitWidth(mt,gt);for(const xt of yt){const bt=createTspan(ft,pt,1.1);updateTextContentAndStyles(bt,xt),pt++}}if(lt){const mt=ft.node().getBBox(),gt=2;return ht.attr("x",mt.x-gt).attr("y",mt.y-gt).attr("width",mt.width+2*gt).attr("height",mt.height+2*gt),ut.node()}else return ft.node()}__name(createFormattedText,"createFormattedText");function updateTextContentAndStyles(Ye,rt){Ye.text(""),rt.forEach((it,lt)=>{const ct=Ye.append("tspan").attr("font-style",it.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",it.type==="strong"?"bold":"normal");lt===0?ct.text(it.content):ct.text(" "+it.content)})}__name(updateTextContentAndStyles,"updateTextContentAndStyles");async function replaceIconSubstring(Ye,rt={}){const it=[];Ye.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(ct,ut,ht)=>(it.push((async()=>{const ft=`${ut}:${ht}`;return await isIconAvailable(ft)?await getIconSVG(ft,void 0,{class:"label-icon"}):`<i class='${sanitizeText(ct,rt).replace(":"," ")}'></i>`})()),ct));const lt=await Promise.all(it);return Ye.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>lt.shift()??"")}__name(replaceIconSubstring,"replaceIconSubstring");var createText=__name(async(Ye,rt="",{style:it="",isTitle:lt=!1,classes:ct="",useHtmlLabels:ut=!0,isNode:ht=!0,width:ft=200,addSvgBackground:pt=!1}={},mt)=>{if(log.debug("XYZ createText",rt,it,lt,ct,ut,ht,"addSvgBackground: ",pt),ut){const gt=markdownToHTML(rt,mt),yt=await replaceIconSubstring(decodeEntities(gt),mt),xt=rt.replace(/\\\\/g,"\\"),bt={isNode:ht,label:hasKatex(rt)?xt:yt,labelStyle:it.replace("fill:","color:")};return await addHtmlSpan(Ye,bt,ft,ct,pt,mt)}else{const gt=rt.replace(/<br\s*\/?>/g,"<br/>"),yt=markdownToLines(gt.replace("<br>","<br/>"),mt),xt=createFormattedText(ft,Ye,yt,rt?pt:!1);if(ht){/stroke:/.exec(it)&&(it=it.replace("stroke:","lineColor:"));const bt=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(xt).attr("style",bt)}else{const bt=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(xt).select("rect").attr("style",bt.replace(/background:/g,"fill:"));const _t=it.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(xt).select("text").attr("style",_t)}return xt}},"createText");function t(Ye,rt,it){if(Ye&&Ye.length){const[lt,ct]=rt,ut=Math.PI/180*it,ht=Math.cos(ut),ft=Math.sin(ut);for(const pt of Ye){const[mt,gt]=pt;pt[0]=(mt-lt)*ht-(gt-ct)*ft+lt,pt[1]=(mt-lt)*ft+(gt-ct)*ht+ct}}}function e(Ye,rt){return Ye[0]===rt[0]&&Ye[1]===rt[1]}function s(Ye,rt,it,lt=1){const ct=it,ut=Math.max(rt,.1),ht=Ye[0]&&Ye[0][0]&&typeof Ye[0][0]=="number"?[Ye]:Ye,ft=[0,0];if(ct)for(const mt of ht)t(mt,ft,ct);const pt=(function(mt,gt,yt){const xt=[];for(const Rt of mt){const Tt=[...Rt];e(Tt[0],Tt[Tt.length-1])||Tt.push([Tt[0][0],Tt[0][1]]),Tt.length>2&&xt.push(Tt)}const bt=[];gt=Math.max(gt,.1);const _t=[];for(const Rt of xt)for(let Tt=0;Tt<Rt.length-1;Tt++){const Mt=Rt[Tt],Pt=Rt[Tt+1];if(Mt[1]!==Pt[1]){const It=Math.min(Mt[1],Pt[1]);_t.push({ymin:It,ymax:Math.max(Mt[1],Pt[1]),x:It===Mt[1]?Mt[0]:Pt[0],islope:(Pt[0]-Mt[0])/(Pt[1]-Mt[1])})}}if(_t.sort(((Rt,Tt)=>Rt.ymin<Tt.ymin?-1:Rt.ymin>Tt.ymin?1:Rt.x<Tt.x?-1:Rt.x>Tt.x?1:Rt.ymax===Tt.ymax?0:(Rt.ymax-Tt.ymax)/Math.abs(Rt.ymax-Tt.ymax))),!_t.length)return bt;let Ct=[],kt=_t[0].ymin,St=0;for(;Ct.length||_t.length;){if(_t.length){let Rt=-1;for(let Tt=0;Tt<_t.length&&!(_t[Tt].ymin>kt);Tt++)Rt=Tt;_t.splice(0,Rt+1).forEach((Tt=>{Ct.push({s:kt,edge:Tt})}))}if(Ct=Ct.filter((Rt=>!(Rt.edge.ymax<=kt))),Ct.sort(((Rt,Tt)=>Rt.edge.x===Tt.edge.x?0:(Rt.edge.x-Tt.edge.x)/Math.abs(Rt.edge.x-Tt.edge.x))),(yt!==1||St%gt==0)&&Ct.length>1)for(let Rt=0;Rt<Ct.length;Rt+=2){const Tt=Rt+1;if(Tt>=Ct.length)break;const Mt=Ct[Rt].edge,Pt=Ct[Tt].edge;bt.push([[Math.round(Mt.x),kt],[Math.round(Pt.x),kt]])}kt+=yt,Ct.forEach((Rt=>{Rt.edge.x=Rt.edge.x+yt*Rt.edge.islope})),St++}return bt})(ht,ut,lt);if(ct){for(const mt of ht)t(mt,ft,-ct);(function(mt,gt,yt){const xt=[];mt.forEach((bt=>xt.push(...bt))),t(xt,gt,yt)})(pt,ft,-ct)}return pt}function n(Ye,rt){var it;const lt=rt.hachureAngle+90;let ct=rt.hachureGap;ct<0&&(ct=4*rt.strokeWidth),ct=Math.round(Math.max(ct,.1));let ut=1;return rt.roughness>=1&&(((it=rt.randomizer)===null||it===void 0?void 0:it.next())||Math.random())>.7&&(ut=ct),s(Ye,ct,lt,ut||1)}class o{constructor(rt){this.helper=rt}fillPolygons(rt,it){return this._fillPolygons(rt,it)}_fillPolygons(rt,it){const lt=n(rt,it);return{type:"fillSketch",ops:this.renderLines(lt,it)}}renderLines(rt,it){const lt=[];for(const ct of rt)lt.push(...this.helper.doubleLineOps(ct[0][0],ct[0][1],ct[1][0],ct[1][1],it));return lt}}function a(Ye){const rt=Ye[0],it=Ye[1];return Math.sqrt(Math.pow(rt[0]-it[0],2)+Math.pow(rt[1]-it[1],2))}class h extends o{fillPolygons(rt,it){let lt=it.hachureGap;lt<0&&(lt=4*it.strokeWidth),lt=Math.max(lt,.1);const ct=n(rt,Object.assign({},it,{hachureGap:lt})),ut=Math.PI/180*it.hachureAngle,ht=[],ft=.5*lt*Math.cos(ut),pt=.5*lt*Math.sin(ut);for(const[mt,gt]of ct)a([mt,gt])&&ht.push([[mt[0]-ft,mt[1]+pt],[...gt]],[[mt[0]+ft,mt[1]-pt],[...gt]]);return{type:"fillSketch",ops:this.renderLines(ht,it)}}}class r extends o{fillPolygons(rt,it){const lt=this._fillPolygons(rt,it),ct=Object.assign({},it,{hachureAngle:it.hachureAngle+90}),ut=this._fillPolygons(rt,ct);return lt.ops=lt.ops.concat(ut.ops),lt}}class i{constructor(rt){this.helper=rt}fillPolygons(rt,it){const lt=n(rt,it=Object.assign({},it,{hachureAngle:0}));return this.dotsOnLines(lt,it)}dotsOnLines(rt,it){const lt=[];let ct=it.hachureGap;ct<0&&(ct=4*it.strokeWidth),ct=Math.max(ct,.1);let ut=it.fillWeight;ut<0&&(ut=it.strokeWidth/2);const ht=ct/4;for(const ft of rt){const pt=a(ft),mt=pt/ct,gt=Math.ceil(mt)-1,yt=pt-gt*ct,xt=(ft[0][0]+ft[1][0])/2-ct/4,bt=Math.min(ft[0][1],ft[1][1]);for(let _t=0;_t<gt;_t++){const Ct=bt+yt+_t*ct,kt=xt-ht+2*Math.random()*ht,St=Ct-ht+2*Math.random()*ht,Rt=this.helper.ellipse(kt,St,ut,ut,it);lt.push(...Rt.ops)}}return{type:"fillSketch",ops:lt}}}class c{constructor(rt){this.helper=rt}fillPolygons(rt,it){const lt=n(rt,it);return{type:"fillSketch",ops:this.dashedLine(lt,it)}}dashedLine(rt,it){const lt=it.dashOffset<0?it.hachureGap<0?4*it.strokeWidth:it.hachureGap:it.dashOffset,ct=it.dashGap<0?it.hachureGap<0?4*it.strokeWidth:it.hachureGap:it.dashGap,ut=[];return rt.forEach((ht=>{const ft=a(ht),pt=Math.floor(ft/(lt+ct)),mt=(ft+ct-pt*(lt+ct))/2;let gt=ht[0],yt=ht[1];gt[0]>yt[0]&&(gt=ht[1],yt=ht[0]);const xt=Math.atan((yt[1]-gt[1])/(yt[0]-gt[0]));for(let bt=0;bt<pt;bt++){const _t=bt*(lt+ct),Ct=_t+lt,kt=[gt[0]+_t*Math.cos(xt)+mt*Math.cos(xt),gt[1]+_t*Math.sin(xt)+mt*Math.sin(xt)],St=[gt[0]+Ct*Math.cos(xt)+mt*Math.cos(xt),gt[1]+Ct*Math.sin(xt)+mt*Math.sin(xt)];ut.push(...this.helper.doubleLineOps(kt[0],kt[1],St[0],St[1],it))}})),ut}}class l{constructor(rt){this.helper=rt}fillPolygons(rt,it){const lt=it.hachureGap<0?4*it.strokeWidth:it.hachureGap,ct=it.zigzagOffset<0?lt:it.zigzagOffset,ut=n(rt,it=Object.assign({},it,{hachureGap:lt+ct}));return{type:"fillSketch",ops:this.zigzagLines(ut,ct,it)}}zigzagLines(rt,it,lt){const ct=[];return rt.forEach((ut=>{const ht=a(ut),ft=Math.round(ht/(2*it));let pt=ut[0],mt=ut[1];pt[0]>mt[0]&&(pt=ut[1],mt=ut[0]);const gt=Math.atan((mt[1]-pt[1])/(mt[0]-pt[0]));for(let yt=0;yt<ft;yt++){const xt=2*yt*it,bt=2*(yt+1)*it,_t=Math.sqrt(2*Math.pow(it,2)),Ct=[pt[0]+xt*Math.cos(gt),pt[1]+xt*Math.sin(gt)],kt=[pt[0]+bt*Math.cos(gt),pt[1]+bt*Math.sin(gt)],St=[Ct[0]+_t*Math.cos(gt+Math.PI/4),Ct[1]+_t*Math.sin(gt+Math.PI/4)];ct.push(...this.helper.doubleLineOps(Ct[0],Ct[1],St[0],St[1],lt),...this.helper.doubleLineOps(St[0],St[1],kt[0],kt[1],lt))}})),ct}}const u={};class p{constructor(rt){this.seed=rt}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(Ye,rt){return Ye.type===rt}function b(Ye){const rt=[],it=(function(ht){const ft=new Array;for(;ht!=="";)if(ht.match(/^([ \t\r\n,]+)/))ht=ht.substr(RegExp.$1.length);else if(ht.match(/^([aAcChHlLmMqQsStTvVzZ])/))ft[ft.length]={type:f,text:RegExp.$1},ht=ht.substr(RegExp.$1.length);else{if(!ht.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ft[ft.length]={type:d,text:`${parseFloat(RegExp.$1)}`},ht=ht.substr(RegExp.$1.length)}return ft[ft.length]={type:g,text:""},ft})(Ye);let lt="BOD",ct=0,ut=it[ct];for(;!k(ut,g);){let ht=0;const ft=[];if(lt==="BOD"){if(ut.text!=="M"&&ut.text!=="m")return b("M0,0"+Ye);ct++,ht=M[ut.text],lt=ut.text}else k(ut,d)?ht=M[lt]:(ct++,ht=M[ut.text],lt=ut.text);if(!(ct+ht<it.length))throw new Error("Path data ended short");for(let pt=ct;pt<ct+ht;pt++){const mt=it[pt];if(!k(mt,d))throw new Error("Param not a number: "+lt+","+mt.text);ft[ft.length]=+mt.text}if(typeof M[lt]!="number")throw new Error("Bad segment: "+lt);{const pt={key:lt,data:ft};rt.push(pt),ct+=ht,ut=it[ct],lt==="M"&&(lt="L"),lt==="m"&&(lt="l")}}return rt}function y(Ye){let rt=0,it=0,lt=0,ct=0;const ut=[];for(const{key:ht,data:ft}of Ye)switch(ht){case"M":ut.push({key:"M",data:[...ft]}),[rt,it]=ft,[lt,ct]=ft;break;case"m":rt+=ft[0],it+=ft[1],ut.push({key:"M",data:[rt,it]}),lt=rt,ct=it;break;case"L":ut.push({key:"L",data:[...ft]}),[rt,it]=ft;break;case"l":rt+=ft[0],it+=ft[1],ut.push({key:"L",data:[rt,it]});break;case"C":ut.push({key:"C",data:[...ft]}),rt=ft[4],it=ft[5];break;case"c":{const pt=ft.map(((mt,gt)=>gt%2?mt+it:mt+rt));ut.push({key:"C",data:pt}),rt=pt[4],it=pt[5];break}case"Q":ut.push({key:"Q",data:[...ft]}),rt=ft[2],it=ft[3];break;case"q":{const pt=ft.map(((mt,gt)=>gt%2?mt+it:mt+rt));ut.push({key:"Q",data:pt}),rt=pt[2],it=pt[3];break}case"A":ut.push({key:"A",data:[...ft]}),rt=ft[5],it=ft[6];break;case"a":rt+=ft[5],it+=ft[6],ut.push({key:"A",data:[ft[0],ft[1],ft[2],ft[3],ft[4],rt,it]});break;case"H":ut.push({key:"H",data:[...ft]}),rt=ft[0];break;case"h":rt+=ft[0],ut.push({key:"H",data:[rt]});break;case"V":ut.push({key:"V",data:[...ft]}),it=ft[0];break;case"v":it+=ft[0],ut.push({key:"V",data:[it]});break;case"S":ut.push({key:"S",data:[...ft]}),rt=ft[2],it=ft[3];break;case"s":{const pt=ft.map(((mt,gt)=>gt%2?mt+it:mt+rt));ut.push({key:"S",data:pt}),rt=pt[2],it=pt[3];break}case"T":ut.push({key:"T",data:[...ft]}),rt=ft[0],it=ft[1];break;case"t":rt+=ft[0],it+=ft[1],ut.push({key:"T",data:[rt,it]});break;case"Z":case"z":ut.push({key:"Z",data:[]}),rt=lt,it=ct}return ut}function m(Ye){const rt=[];let it="",lt=0,ct=0,ut=0,ht=0,ft=0,pt=0;for(const{key:mt,data:gt}of Ye){switch(mt){case"M":rt.push({key:"M",data:[...gt]}),[lt,ct]=gt,[ut,ht]=gt;break;case"C":rt.push({key:"C",data:[...gt]}),lt=gt[4],ct=gt[5],ft=gt[2],pt=gt[3];break;case"L":rt.push({key:"L",data:[...gt]}),[lt,ct]=gt;break;case"H":lt=gt[0],rt.push({key:"L",data:[lt,ct]});break;case"V":ct=gt[0],rt.push({key:"L",data:[lt,ct]});break;case"S":{let yt=0,xt=0;it==="C"||it==="S"?(yt=lt+(lt-ft),xt=ct+(ct-pt)):(yt=lt,xt=ct),rt.push({key:"C",data:[yt,xt,...gt]}),ft=gt[0],pt=gt[1],lt=gt[2],ct=gt[3];break}case"T":{const[yt,xt]=gt;let bt=0,_t=0;it==="Q"||it==="T"?(bt=lt+(lt-ft),_t=ct+(ct-pt)):(bt=lt,_t=ct);const Ct=lt+2*(bt-lt)/3,kt=ct+2*(_t-ct)/3,St=yt+2*(bt-yt)/3,Rt=xt+2*(_t-xt)/3;rt.push({key:"C",data:[Ct,kt,St,Rt,yt,xt]}),ft=bt,pt=_t,lt=yt,ct=xt;break}case"Q":{const[yt,xt,bt,_t]=gt,Ct=lt+2*(yt-lt)/3,kt=ct+2*(xt-ct)/3,St=bt+2*(yt-bt)/3,Rt=_t+2*(xt-_t)/3;rt.push({key:"C",data:[Ct,kt,St,Rt,bt,_t]}),ft=yt,pt=xt,lt=bt,ct=_t;break}case"A":{const yt=Math.abs(gt[0]),xt=Math.abs(gt[1]),bt=gt[2],_t=gt[3],Ct=gt[4],kt=gt[5],St=gt[6];yt===0||xt===0?(rt.push({key:"C",data:[lt,ct,kt,St,kt,St]}),lt=kt,ct=St):(lt!==kt||ct!==St)&&(x(lt,ct,kt,St,yt,xt,bt,_t,Ct).forEach((function(Rt){rt.push({key:"C",data:Rt})})),lt=kt,ct=St);break}case"Z":rt.push({key:"Z",data:[]}),lt=ut,ct=ht}it=mt}return rt}function w(Ye,rt,it){return[Ye*Math.cos(it)-rt*Math.sin(it),Ye*Math.sin(it)+rt*Math.cos(it)]}function x(Ye,rt,it,lt,ct,ut,ht,ft,pt,mt){const gt=(yt=ht,Math.PI*yt/180);var yt;let xt=[],bt=0,_t=0,Ct=0,kt=0;if(mt)[bt,_t,Ct,kt]=mt;else{[Ye,rt]=w(Ye,rt,-gt),[it,lt]=w(it,lt,-gt);const Qt=(Ye-it)/2,Zt=(rt-lt)/2;let Vt=Qt*Qt/(ct*ct)+Zt*Zt/(ut*ut);Vt>1&&(Vt=Math.sqrt(Vt),ct*=Vt,ut*=Vt);const $t=ct*ct,zt=ut*ut,Nt=$t*zt-$t*Zt*Zt-zt*Qt*Qt,qt=$t*Zt*Zt+zt*Qt*Qt,Gt=(ft===pt?-1:1)*Math.sqrt(Math.abs(Nt/qt));Ct=Gt*ct*Zt/ut+(Ye+it)/2,kt=Gt*-ut*Qt/ct+(rt+lt)/2,bt=Math.asin(parseFloat(((rt-kt)/ut).toFixed(9))),_t=Math.asin(parseFloat(((lt-kt)/ut).toFixed(9))),Ye<Ct&&(bt=Math.PI-bt),it<Ct&&(_t=Math.PI-_t),bt<0&&(bt=2*Math.PI+bt),_t<0&&(_t=2*Math.PI+_t),pt&&bt>_t&&(bt-=2*Math.PI),!pt&&_t>bt&&(_t-=2*Math.PI)}let St=_t-bt;if(Math.abs(St)>120*Math.PI/180){const Qt=_t,Zt=it,Vt=lt;_t=pt&&_t>bt?bt+120*Math.PI/180*1:bt+120*Math.PI/180*-1,xt=x(it=Ct+ct*Math.cos(_t),lt=kt+ut*Math.sin(_t),Zt,Vt,ct,ut,ht,0,pt,[_t,Qt,Ct,kt])}St=_t-bt;const Rt=Math.cos(bt),Tt=Math.sin(bt),Mt=Math.cos(_t),Pt=Math.sin(_t),It=Math.tan(St/4),Lt=4/3*ct*It,Ot=4/3*ut*It,Ft=[Ye,rt],Ut=[Ye+Lt*Tt,rt-Ot*Rt],Wt=[it+Lt*Pt,lt-Ot*Mt],Kt=[it,lt];if(Ut[0]=2*Ft[0]-Ut[0],Ut[1]=2*Ft[1]-Ut[1],mt)return[Ut,Wt,Kt].concat(xt);{xt=[Ut,Wt,Kt].concat(xt);const Qt=[];for(let Zt=0;Zt<xt.length;Zt+=3){const Vt=w(xt[Zt][0],xt[Zt][1],gt),$t=w(xt[Zt+1][0],xt[Zt+1][1],gt),zt=w(xt[Zt+2][0],xt[Zt+2][1],gt);Qt.push([Vt[0],Vt[1],$t[0],$t[1],zt[0],zt[1]])}return Qt}}const P={randOffset:function(Ye,rt){return G(Ye,rt)},randOffsetWithRange:function(Ye,rt,it){return E(Ye,rt,it)},ellipse:function(Ye,rt,it,lt,ct){const ut=T(it,lt,ct);return D(Ye,rt,ct,ut).opset},doubleLineOps:function(Ye,rt,it,lt,ct){return $(Ye,rt,it,lt,ct,!0)}};function v(Ye,rt,it,lt,ct){return{type:"path",ops:$(Ye,rt,it,lt,ct)}}function S(Ye,rt,it){const lt=(Ye||[]).length;if(lt>2){const ct=[];for(let ut=0;ut<lt-1;ut++)ct.push(...$(Ye[ut][0],Ye[ut][1],Ye[ut+1][0],Ye[ut+1][1],it));return rt&&ct.push(...$(Ye[lt-1][0],Ye[lt-1][1],Ye[0][0],Ye[0][1],it)),{type:"path",ops:ct}}return lt===2?v(Ye[0][0],Ye[0][1],Ye[1][0],Ye[1][1],it):{type:"path",ops:[]}}function O(Ye,rt,it,lt,ct){return(function(ut,ht){return S(ut,!0,ht)})([[Ye,rt],[Ye+it,rt],[Ye+it,rt+lt],[Ye,rt+lt]],ct)}function L(Ye,rt){if(Ye.length){const it=typeof Ye[0][0]=="number"?[Ye]:Ye,lt=j(it[0],1*(1+.2*rt.roughness),rt),ct=rt.disableMultiStroke?[]:j(it[0],1.5*(1+.22*rt.roughness),z(rt));for(let ut=1;ut<it.length;ut++){const ht=it[ut];if(ht.length){const ft=j(ht,1*(1+.2*rt.roughness),rt),pt=rt.disableMultiStroke?[]:j(ht,1.5*(1+.22*rt.roughness),z(rt));for(const mt of ft)mt.op!=="move"&&lt.push(mt);for(const mt of pt)mt.op!=="move"&&ct.push(mt)}}return{type:"path",ops:lt.concat(ct)}}return{type:"path",ops:[]}}function T(Ye,rt,it){const lt=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Ye/2,2)+Math.pow(rt/2,2))/2)),ct=Math.ceil(Math.max(it.curveStepCount,it.curveStepCount/Math.sqrt(200)*lt)),ut=2*Math.PI/ct;let ht=Math.abs(Ye/2),ft=Math.abs(rt/2);const pt=1-it.curveFitting;return ht+=G(ht*pt,it),ft+=G(ft*pt,it),{increment:ut,rx:ht,ry:ft}}function D(Ye,rt,it,lt){const[ct,ut]=F(lt.increment,Ye,rt,lt.rx,lt.ry,1,lt.increment*E(.1,E(.4,1,it),it),it);let ht=q(ct,null,it);if(!it.disableMultiStroke&&it.roughness!==0){const[ft]=F(lt.increment,Ye,rt,lt.rx,lt.ry,1.5,0,it),pt=q(ft,null,it);ht=ht.concat(pt)}return{estimatedPoints:ut,opset:{type:"path",ops:ht}}}function A(Ye,rt,it,lt,ct,ut,ht,ft,pt){const mt=Ye,gt=rt;let yt=Math.abs(it/2),xt=Math.abs(lt/2);yt+=G(.01*yt,pt),xt+=G(.01*xt,pt);let bt=ct,_t=ut;for(;bt<0;)bt+=2*Math.PI,_t+=2*Math.PI;_t-bt>2*Math.PI&&(bt=0,_t=2*Math.PI);const Ct=2*Math.PI/pt.curveStepCount,kt=Math.min(Ct/2,(_t-bt)/2),St=V(kt,mt,gt,yt,xt,bt,_t,1,pt);if(!pt.disableMultiStroke){const Rt=V(kt,mt,gt,yt,xt,bt,_t,1.5,pt);St.push(...Rt)}return ht&&(ft?St.push(...$(mt,gt,mt+yt*Math.cos(bt),gt+xt*Math.sin(bt),pt),...$(mt,gt,mt+yt*Math.cos(_t),gt+xt*Math.sin(_t),pt)):St.push({op:"lineTo",data:[mt,gt]},{op:"lineTo",data:[mt+yt*Math.cos(bt),gt+xt*Math.sin(bt)]})),{type:"path",ops:St}}function _(Ye,rt){const it=m(y(b(Ye))),lt=[];let ct=[0,0],ut=[0,0];for(const{key:ht,data:ft}of it)switch(ht){case"M":ut=[ft[0],ft[1]],ct=[ft[0],ft[1]];break;case"L":lt.push(...$(ut[0],ut[1],ft[0],ft[1],rt)),ut=[ft[0],ft[1]];break;case"C":{const[pt,mt,gt,yt,xt,bt]=ft;lt.push(...Z(pt,mt,gt,yt,xt,bt,ut,rt)),ut=[xt,bt];break}case"Z":lt.push(...$(ut[0],ut[1],ct[0],ct[1],rt)),ut=[ct[0],ct[1]]}return{type:"path",ops:lt}}function I(Ye,rt){const it=[];for(const lt of Ye)if(lt.length){const ct=rt.maxRandomnessOffset||0,ut=lt.length;if(ut>2){it.push({op:"move",data:[lt[0][0]+G(ct,rt),lt[0][1]+G(ct,rt)]});for(let ht=1;ht<ut;ht++)it.push({op:"lineTo",data:[lt[ht][0]+G(ct,rt),lt[ht][1]+G(ct,rt)]})}}return{type:"fillPath",ops:it}}function C(Ye,rt){return(function(it,lt){let ct=it.fillStyle||"hachure";if(!u[ct])switch(ct){case"zigzag":u[ct]||(u[ct]=new h(lt));break;case"cross-hatch":u[ct]||(u[ct]=new r(lt));break;case"dots":u[ct]||(u[ct]=new i(lt));break;case"dashed":u[ct]||(u[ct]=new c(lt));break;case"zigzag-line":u[ct]||(u[ct]=new l(lt));break;default:ct="hachure",u[ct]||(u[ct]=new o(lt))}return u[ct]})(rt,P).fillPolygons(Ye,rt)}function z(Ye){const rt=Object.assign({},Ye);return rt.randomizer=void 0,Ye.seed&&(rt.seed=Ye.seed+1),rt}function W(Ye){return Ye.randomizer||(Ye.randomizer=new p(Ye.seed||0)),Ye.randomizer.next()}function E(Ye,rt,it,lt=1){return it.roughness*lt*(W(it)*(rt-Ye)+Ye)}function G(Ye,rt,it=1){return E(-Ye,Ye,rt,it)}function $(Ye,rt,it,lt,ct,ut=!1){const ht=ut?ct.disableMultiStrokeFill:ct.disableMultiStroke,ft=R(Ye,rt,it,lt,ct,!0,!1);if(ht)return ft;const pt=R(Ye,rt,it,lt,ct,!0,!0);return ft.concat(pt)}function R(Ye,rt,it,lt,ct,ut,ht){const ft=Math.pow(Ye-it,2)+Math.pow(rt-lt,2),pt=Math.sqrt(ft);let mt=1;mt=pt<200?1:pt>500?.4:-.0016668*pt+1.233334;let gt=ct.maxRandomnessOffset||0;gt*gt*100>ft&&(gt=pt/10);const yt=gt/2,xt=.2+.2*W(ct);let bt=ct.bowing*ct.maxRandomnessOffset*(lt-rt)/200,_t=ct.bowing*ct.maxRandomnessOffset*(Ye-it)/200;bt=G(bt,ct,mt),_t=G(_t,ct,mt);const Ct=[],kt=()=>G(yt,ct,mt),St=()=>G(gt,ct,mt),Rt=ct.preserveVertices;return ht?Ct.push({op:"move",data:[Ye+(Rt?0:kt()),rt+(Rt?0:kt())]}):Ct.push({op:"move",data:[Ye+(Rt?0:G(gt,ct,mt)),rt+(Rt?0:G(gt,ct,mt))]}),ht?Ct.push({op:"bcurveTo",data:[bt+Ye+(it-Ye)*xt+kt(),_t+rt+(lt-rt)*xt+kt(),bt+Ye+2*(it-Ye)*xt+kt(),_t+rt+2*(lt-rt)*xt+kt(),it+(Rt?0:kt()),lt+(Rt?0:kt())]}):Ct.push({op:"bcurveTo",data:[bt+Ye+(it-Ye)*xt+St(),_t+rt+(lt-rt)*xt+St(),bt+Ye+2*(it-Ye)*xt+St(),_t+rt+2*(lt-rt)*xt+St(),it+(Rt?0:St()),lt+(Rt?0:St())]}),Ct}function j(Ye,rt,it){if(!Ye.length)return[];const lt=[];lt.push([Ye[0][0]+G(rt,it),Ye[0][1]+G(rt,it)]),lt.push([Ye[0][0]+G(rt,it),Ye[0][1]+G(rt,it)]);for(let ct=1;ct<Ye.length;ct++)lt.push([Ye[ct][0]+G(rt,it),Ye[ct][1]+G(rt,it)]),ct===Ye.length-1&&lt.push([Ye[ct][0]+G(rt,it),Ye[ct][1]+G(rt,it)]);return q(lt,null,it)}function q(Ye,rt,it){const lt=Ye.length,ct=[];if(lt>3){const ut=[],ht=1-it.curveTightness;ct.push({op:"move",data:[Ye[1][0],Ye[1][1]]});for(let ft=1;ft+2<lt;ft++){const pt=Ye[ft];ut[0]=[pt[0],pt[1]],ut[1]=[pt[0]+(ht*Ye[ft+1][0]-ht*Ye[ft-1][0])/6,pt[1]+(ht*Ye[ft+1][1]-ht*Ye[ft-1][1])/6],ut[2]=[Ye[ft+1][0]+(ht*Ye[ft][0]-ht*Ye[ft+2][0])/6,Ye[ft+1][1]+(ht*Ye[ft][1]-ht*Ye[ft+2][1])/6],ut[3]=[Ye[ft+1][0],Ye[ft+1][1]],ct.push({op:"bcurveTo",data:[ut[1][0],ut[1][1],ut[2][0],ut[2][1],ut[3][0],ut[3][1]]})}}else lt===3?(ct.push({op:"move",data:[Ye[1][0],Ye[1][1]]}),ct.push({op:"bcurveTo",data:[Ye[1][0],Ye[1][1],Ye[2][0],Ye[2][1],Ye[2][0],Ye[2][1]]})):lt===2&&ct.push(...R(Ye[0][0],Ye[0][1],Ye[1][0],Ye[1][1],it,!0,!0));return ct}function F(Ye,rt,it,lt,ct,ut,ht,ft){const pt=[],mt=[];if(ft.roughness===0){Ye/=4,mt.push([rt+lt*Math.cos(-Ye),it+ct*Math.sin(-Ye)]);for(let gt=0;gt<=2*Math.PI;gt+=Ye){const yt=[rt+lt*Math.cos(gt),it+ct*Math.sin(gt)];pt.push(yt),mt.push(yt)}mt.push([rt+lt*Math.cos(0),it+ct*Math.sin(0)]),mt.push([rt+lt*Math.cos(Ye),it+ct*Math.sin(Ye)])}else{const gt=G(.5,ft)-Math.PI/2;mt.push([G(ut,ft)+rt+.9*lt*Math.cos(gt-Ye),G(ut,ft)+it+.9*ct*Math.sin(gt-Ye)]);const yt=2*Math.PI+gt-.01;for(let xt=gt;xt<yt;xt+=Ye){const bt=[G(ut,ft)+rt+lt*Math.cos(xt),G(ut,ft)+it+ct*Math.sin(xt)];pt.push(bt),mt.push(bt)}mt.push([G(ut,ft)+rt+lt*Math.cos(gt+2*Math.PI+.5*ht),G(ut,ft)+it+ct*Math.sin(gt+2*Math.PI+.5*ht)]),mt.push([G(ut,ft)+rt+.98*lt*Math.cos(gt+ht),G(ut,ft)+it+.98*ct*Math.sin(gt+ht)]),mt.push([G(ut,ft)+rt+.9*lt*Math.cos(gt+.5*ht),G(ut,ft)+it+.9*ct*Math.sin(gt+.5*ht)])}return[mt,pt]}function V(Ye,rt,it,lt,ct,ut,ht,ft,pt){const mt=ut+G(.1,pt),gt=[];gt.push([G(ft,pt)+rt+.9*lt*Math.cos(mt-Ye),G(ft,pt)+it+.9*ct*Math.sin(mt-Ye)]);for(let yt=mt;yt<=ht;yt+=Ye)gt.push([G(ft,pt)+rt+lt*Math.cos(yt),G(ft,pt)+it+ct*Math.sin(yt)]);return gt.push([rt+lt*Math.cos(ht),it+ct*Math.sin(ht)]),gt.push([rt+lt*Math.cos(ht),it+ct*Math.sin(ht)]),q(gt,null,pt)}function Z(Ye,rt,it,lt,ct,ut,ht,ft){const pt=[],mt=[ft.maxRandomnessOffset||1,(ft.maxRandomnessOffset||1)+.3];let gt=[0,0];const yt=ft.disableMultiStroke?1:2,xt=ft.preserveVertices;for(let bt=0;bt<yt;bt++)bt===0?pt.push({op:"move",data:[ht[0],ht[1]]}):pt.push({op:"move",data:[ht[0]+(xt?0:G(mt[0],ft)),ht[1]+(xt?0:G(mt[0],ft))]}),gt=xt?[ct,ut]:[ct+G(mt[bt],ft),ut+G(mt[bt],ft)],pt.push({op:"bcurveTo",data:[Ye+G(mt[bt],ft),rt+G(mt[bt],ft),it+G(mt[bt],ft),lt+G(mt[bt],ft),gt[0],gt[1]]});return pt}function Q(Ye){return[...Ye]}function H(Ye,rt=0){const it=Ye.length;if(it<3)throw new Error("A curve must have at least three points.");const lt=[];if(it===3)lt.push(Q(Ye[0]),Q(Ye[1]),Q(Ye[2]),Q(Ye[2]));else{const ct=[];ct.push(Ye[0],Ye[0]);for(let ft=1;ft<Ye.length;ft++)ct.push(Ye[ft]),ft===Ye.length-1&&ct.push(Ye[ft]);const ut=[],ht=1-rt;lt.push(Q(ct[0]));for(let ft=1;ft+2<ct.length;ft++){const pt=ct[ft];ut[0]=[pt[0],pt[1]],ut[1]=[pt[0]+(ht*ct[ft+1][0]-ht*ct[ft-1][0])/6,pt[1]+(ht*ct[ft+1][1]-ht*ct[ft-1][1])/6],ut[2]=[ct[ft+1][0]+(ht*ct[ft][0]-ht*ct[ft+2][0])/6,ct[ft+1][1]+(ht*ct[ft][1]-ht*ct[ft+2][1])/6],ut[3]=[ct[ft+1][0],ct[ft+1][1]],lt.push(ut[1],ut[2],ut[3])}}return lt}function N(Ye,rt){return Math.pow(Ye[0]-rt[0],2)+Math.pow(Ye[1]-rt[1],2)}function B(Ye,rt,it){const lt=N(rt,it);if(lt===0)return N(Ye,rt);let ct=((Ye[0]-rt[0])*(it[0]-rt[0])+(Ye[1]-rt[1])*(it[1]-rt[1]))/lt;return ct=Math.max(0,Math.min(1,ct)),N(Ye,J(rt,it,ct))}function J(Ye,rt,it){return[Ye[0]+(rt[0]-Ye[0])*it,Ye[1]+(rt[1]-Ye[1])*it]}function K(Ye,rt,it,lt){const ct=lt||[];if((function(ft,pt){const mt=ft[pt+0],gt=ft[pt+1],yt=ft[pt+2],xt=ft[pt+3];let bt=3*gt[0]-2*mt[0]-xt[0];bt*=bt;let _t=3*gt[1]-2*mt[1]-xt[1];_t*=_t;let Ct=3*yt[0]-2*xt[0]-mt[0];Ct*=Ct;let kt=3*yt[1]-2*xt[1]-mt[1];return kt*=kt,bt<Ct&&(bt=Ct),_t<kt&&(_t=kt),bt+_t})(Ye,rt)<it){const ft=Ye[rt+0];ct.length?(ut=ct[ct.length-1],ht=ft,Math.sqrt(N(ut,ht))>1&&ct.push(ft)):ct.push(ft),ct.push(Ye[rt+3])}else{const pt=Ye[rt+0],mt=Ye[rt+1],gt=Ye[rt+2],yt=Ye[rt+3],xt=J(pt,mt,.5),bt=J(mt,gt,.5),_t=J(gt,yt,.5),Ct=J(xt,bt,.5),kt=J(bt,_t,.5),St=J(Ct,kt,.5);K([pt,xt,Ct,St],0,it,ct),K([St,kt,_t,yt],0,it,ct)}var ut,ht;return ct}function U(Ye,rt){return X(Ye,0,Ye.length,rt)}function X(Ye,rt,it,lt,ct){const ut=ct||[],ht=Ye[rt],ft=Ye[it-1];let pt=0,mt=1;for(let gt=rt+1;gt<it-1;++gt){const yt=B(Ye[gt],ht,ft);yt>pt&&(pt=yt,mt=gt)}return Math.sqrt(pt)>lt?(X(Ye,rt,mt+1,lt,ut),X(Ye,mt,it,lt,ut)):(ut.length||ut.push(ht),ut.push(ft)),ut}function Y(Ye,rt=.15,it){const lt=[],ct=(Ye.length-1)/3;for(let ut=0;ut<ct;ut++)K(Ye,3*ut,rt,lt);return it&&it>0?X(lt,0,lt.length,it):lt}const tt="none";class et{constructor(rt){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=rt||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(rt){return rt?Object.assign({},this.defaultOptions,rt):this.defaultOptions}_d(rt,it,lt){return{shape:rt,sets:it||[],options:lt||this.defaultOptions}}line(rt,it,lt,ct,ut){const ht=this._o(ut);return this._d("line",[v(rt,it,lt,ct,ht)],ht)}rectangle(rt,it,lt,ct,ut){const ht=this._o(ut),ft=[],pt=O(rt,it,lt,ct,ht);if(ht.fill){const mt=[[rt,it],[rt+lt,it],[rt+lt,it+ct],[rt,it+ct]];ht.fillStyle==="solid"?ft.push(I([mt],ht)):ft.push(C([mt],ht))}return ht.stroke!==tt&&ft.push(pt),this._d("rectangle",ft,ht)}ellipse(rt,it,lt,ct,ut){const ht=this._o(ut),ft=[],pt=T(lt,ct,ht),mt=D(rt,it,ht,pt);if(ht.fill)if(ht.fillStyle==="solid"){const gt=D(rt,it,ht,pt).opset;gt.type="fillPath",ft.push(gt)}else ft.push(C([mt.estimatedPoints],ht));return ht.stroke!==tt&&ft.push(mt.opset),this._d("ellipse",ft,ht)}circle(rt,it,lt,ct){const ut=this.ellipse(rt,it,lt,lt,ct);return ut.shape="circle",ut}linearPath(rt,it){const lt=this._o(it);return this._d("linearPath",[S(rt,!1,lt)],lt)}arc(rt,it,lt,ct,ut,ht,ft=!1,pt){const mt=this._o(pt),gt=[],yt=A(rt,it,lt,ct,ut,ht,ft,!0,mt);if(ft&&mt.fill)if(mt.fillStyle==="solid"){const xt=Object.assign({},mt);xt.disableMultiStroke=!0;const bt=A(rt,it,lt,ct,ut,ht,!0,!1,xt);bt.type="fillPath",gt.push(bt)}else gt.push((function(xt,bt,_t,Ct,kt,St,Rt){const Tt=xt,Mt=bt;let Pt=Math.abs(_t/2),It=Math.abs(Ct/2);Pt+=G(.01*Pt,Rt),It+=G(.01*It,Rt);let Lt=kt,Ot=St;for(;Lt<0;)Lt+=2*Math.PI,Ot+=2*Math.PI;Ot-Lt>2*Math.PI&&(Lt=0,Ot=2*Math.PI);const Ft=(Ot-Lt)/Rt.curveStepCount,Ut=[];for(let Wt=Lt;Wt<=Ot;Wt+=Ft)Ut.push([Tt+Pt*Math.cos(Wt),Mt+It*Math.sin(Wt)]);return Ut.push([Tt+Pt*Math.cos(Ot),Mt+It*Math.sin(Ot)]),Ut.push([Tt,Mt]),C([Ut],Rt)})(rt,it,lt,ct,ut,ht,mt));return mt.stroke!==tt&&gt.push(yt),this._d("arc",gt,mt)}curve(rt,it){const lt=this._o(it),ct=[],ut=L(rt,lt);if(lt.fill&&lt.fill!==tt)if(lt.fillStyle==="solid"){const ht=L(rt,Object.assign(Object.assign({},lt),{disableMultiStroke:!0,roughness:lt.roughness?lt.roughness+lt.fillShapeRoughnessGain:0}));ct.push({type:"fillPath",ops:this._mergedShape(ht.ops)})}else{const ht=[],ft=rt;if(ft.length){const pt=typeof ft[0][0]=="number"?[ft]:ft;for(const mt of pt)mt.length<3?ht.push(...mt):mt.length===3?ht.push(...Y(H([mt[0],mt[0],mt[1],mt[2]]),10,(1+lt.roughness)/2)):ht.push(...Y(H(mt),10,(1+lt.roughness)/2))}ht.length&&ct.push(C([ht],lt))}return lt.stroke!==tt&&ct.push(ut),this._d("curve",ct,lt)}polygon(rt,it){const lt=this._o(it),ct=[],ut=S(rt,!0,lt);return lt.fill&&(lt.fillStyle==="solid"?ct.push(I([rt],lt)):ct.push(C([rt],lt))),lt.stroke!==tt&&ct.push(ut),this._d("polygon",ct,lt)}path(rt,it){const lt=this._o(it),ct=[];if(!rt)return this._d("path",ct,lt);rt=(rt||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const ut=lt.fill&&lt.fill!=="transparent"&&lt.fill!==tt,ht=lt.stroke!==tt,ft=!!(lt.simplification&&lt.simplification<1),pt=(function(gt,yt,xt){const bt=m(y(b(gt))),_t=[];let Ct=[],kt=[0,0],St=[];const Rt=()=>{St.length>=4&&Ct.push(...Y(St,yt)),St=[]},Tt=()=>{Rt(),Ct.length&&(_t.push(Ct),Ct=[])};for(const{key:Pt,data:It}of bt)switch(Pt){case"M":Tt(),kt=[It[0],It[1]],Ct.push(kt);break;case"L":Rt(),Ct.push([It[0],It[1]]);break;case"C":if(!St.length){const Lt=Ct.length?Ct[Ct.length-1]:kt;St.push([Lt[0],Lt[1]])}St.push([It[0],It[1]]),St.push([It[2],It[3]]),St.push([It[4],It[5]]);break;case"Z":Rt(),Ct.push([kt[0],kt[1]])}if(Tt(),!xt)return _t;const Mt=[];for(const Pt of _t){const It=U(Pt,xt);It.length&&Mt.push(It)}return Mt})(rt,1,ft?4-4*(lt.simplification||1):(1+lt.roughness)/2),mt=_(rt,lt);if(ut)if(lt.fillStyle==="solid")if(pt.length===1){const gt=_(rt,Object.assign(Object.assign({},lt),{disableMultiStroke:!0,roughness:lt.roughness?lt.roughness+lt.fillShapeRoughnessGain:0}));ct.push({type:"fillPath",ops:this._mergedShape(gt.ops)})}else ct.push(I(pt,lt));else ct.push(C(pt,lt));return ht&&(ft?pt.forEach((gt=>{ct.push(S(gt,!1,lt))})):ct.push(mt)),this._d("path",ct,lt)}opsToPath(rt,it){let lt="";for(const ct of rt.ops){const ut=typeof it=="number"&&it>=0?ct.data.map((ht=>+ht.toFixed(it))):ct.data;switch(ct.op){case"move":lt+=`M${ut[0]} ${ut[1]} `;break;case"bcurveTo":lt+=`C${ut[0]} ${ut[1]}, ${ut[2]} ${ut[3]}, ${ut[4]} ${ut[5]} `;break;case"lineTo":lt+=`L${ut[0]} ${ut[1]} `}}return lt.trim()}toPaths(rt){const it=rt.sets||[],lt=rt.options||this.defaultOptions,ct=[];for(const ut of it){let ht=null;switch(ut.type){case"path":ht={d:this.opsToPath(ut),stroke:lt.stroke,strokeWidth:lt.strokeWidth,fill:tt};break;case"fillPath":ht={d:this.opsToPath(ut),stroke:tt,strokeWidth:0,fill:lt.fill||tt};break;case"fillSketch":ht=this.fillSketch(ut,lt)}ht&&ct.push(ht)}return ct}fillSketch(rt,it){let lt=it.fillWeight;return lt<0&&(lt=it.strokeWidth/2),{d:this.opsToPath(rt),stroke:it.fill||tt,strokeWidth:lt,fill:tt}}_mergedShape(rt){return rt.filter(((it,lt)=>lt===0||it.op!=="move"))}}class st{constructor(rt,it){this.canvas=rt,this.ctx=this.canvas.getContext("2d"),this.gen=new et(it)}draw(rt){const it=rt.sets||[],lt=rt.options||this.getDefaultOptions(),ct=this.ctx,ut=rt.options.fixedDecimalPlaceDigits;for(const ht of it)switch(ht.type){case"path":ct.save(),ct.strokeStyle=lt.stroke==="none"?"transparent":lt.stroke,ct.lineWidth=lt.strokeWidth,lt.strokeLineDash&&ct.setLineDash(lt.strokeLineDash),lt.strokeLineDashOffset&&(ct.lineDashOffset=lt.strokeLineDashOffset),this._drawToContext(ct,ht,ut),ct.restore();break;case"fillPath":{ct.save(),ct.fillStyle=lt.fill||"";const ft=rt.shape==="curve"||rt.shape==="polygon"||rt.shape==="path"?"evenodd":"nonzero";this._drawToContext(ct,ht,ut,ft),ct.restore();break}case"fillSketch":this.fillSketch(ct,ht,lt)}}fillSketch(rt,it,lt){let ct=lt.fillWeight;ct<0&&(ct=lt.strokeWidth/2),rt.save(),lt.fillLineDash&&rt.setLineDash(lt.fillLineDash),lt.fillLineDashOffset&&(rt.lineDashOffset=lt.fillLineDashOffset),rt.strokeStyle=lt.fill||"",rt.lineWidth=ct,this._drawToContext(rt,it,lt.fixedDecimalPlaceDigits),rt.restore()}_drawToContext(rt,it,lt,ct="nonzero"){rt.beginPath();for(const ut of it.ops){const ht=typeof lt=="number"&&lt>=0?ut.data.map((ft=>+ft.toFixed(lt))):ut.data;switch(ut.op){case"move":rt.moveTo(ht[0],ht[1]);break;case"bcurveTo":rt.bezierCurveTo(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]);break;case"lineTo":rt.lineTo(ht[0],ht[1])}}it.type==="fillPath"?rt.fill(ct):rt.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(rt,it,lt,ct,ut){const ht=this.gen.line(rt,it,lt,ct,ut);return this.draw(ht),ht}rectangle(rt,it,lt,ct,ut){const ht=this.gen.rectangle(rt,it,lt,ct,ut);return this.draw(ht),ht}ellipse(rt,it,lt,ct,ut){const ht=this.gen.ellipse(rt,it,lt,ct,ut);return this.draw(ht),ht}circle(rt,it,lt,ct){const ut=this.gen.circle(rt,it,lt,ct);return this.draw(ut),ut}linearPath(rt,it){const lt=this.gen.linearPath(rt,it);return this.draw(lt),lt}polygon(rt,it){const lt=this.gen.polygon(rt,it);return this.draw(lt),lt}arc(rt,it,lt,ct,ut,ht,ft=!1,pt){const mt=this.gen.arc(rt,it,lt,ct,ut,ht,ft,pt);return this.draw(mt),mt}curve(rt,it){const lt=this.gen.curve(rt,it);return this.draw(lt),lt}path(rt,it){const lt=this.gen.path(rt,it);return this.draw(lt),lt}}const nt="http://www.w3.org/2000/svg";class ot{constructor(rt,it){this.svg=rt,this.gen=new et(it)}draw(rt){const it=rt.sets||[],lt=rt.options||this.getDefaultOptions(),ct=this.svg.ownerDocument||window.document,ut=ct.createElementNS(nt,"g"),ht=rt.options.fixedDecimalPlaceDigits;for(const ft of it){let pt=null;switch(ft.type){case"path":pt=ct.createElementNS(nt,"path"),pt.setAttribute("d",this.opsToPath(ft,ht)),pt.setAttribute("stroke",lt.stroke),pt.setAttribute("stroke-width",lt.strokeWidth+""),pt.setAttribute("fill","none"),lt.strokeLineDash&&pt.setAttribute("stroke-dasharray",lt.strokeLineDash.join(" ").trim()),lt.strokeLineDashOffset&&pt.setAttribute("stroke-dashoffset",`${lt.strokeLineDashOffset}`);break;case"fillPath":pt=ct.createElementNS(nt,"path"),pt.setAttribute("d",this.opsToPath(ft,ht)),pt.setAttribute("stroke","none"),pt.setAttribute("stroke-width","0"),pt.setAttribute("fill",lt.fill||""),rt.shape!=="curve"&&rt.shape!=="polygon"||pt.setAttribute("fill-rule","evenodd");break;case"fillSketch":pt=this.fillSketch(ct,ft,lt)}pt&&ut.appendChild(pt)}return ut}fillSketch(rt,it,lt){let ct=lt.fillWeight;ct<0&&(ct=lt.strokeWidth/2);const ut=rt.createElementNS(nt,"path");return ut.setAttribute("d",this.opsToPath(it,lt.fixedDecimalPlaceDigits)),ut.setAttribute("stroke",lt.fill||""),ut.setAttribute("stroke-width",ct+""),ut.setAttribute("fill","none"),lt.fillLineDash&&ut.setAttribute("stroke-dasharray",lt.fillLineDash.join(" ").trim()),lt.fillLineDashOffset&&ut.setAttribute("stroke-dashoffset",`${lt.fillLineDashOffset}`),ut}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(rt,it){return this.gen.opsToPath(rt,it)}line(rt,it,lt,ct,ut){const ht=this.gen.line(rt,it,lt,ct,ut);return this.draw(ht)}rectangle(rt,it,lt,ct,ut){const ht=this.gen.rectangle(rt,it,lt,ct,ut);return this.draw(ht)}ellipse(rt,it,lt,ct,ut){const ht=this.gen.ellipse(rt,it,lt,ct,ut);return this.draw(ht)}circle(rt,it,lt,ct){const ut=this.gen.circle(rt,it,lt,ct);return this.draw(ut)}linearPath(rt,it){const lt=this.gen.linearPath(rt,it);return this.draw(lt)}polygon(rt,it){const lt=this.gen.polygon(rt,it);return this.draw(lt)}arc(rt,it,lt,ct,ut,ht,ft=!1,pt){const mt=this.gen.arc(rt,it,lt,ct,ut,ht,ft,pt);return this.draw(mt)}curve(rt,it){const lt=this.gen.curve(rt,it);return this.draw(lt)}path(rt,it){const lt=this.gen.path(rt,it);return this.draw(lt)}}var at={canvas:(Ye,rt)=>new st(Ye,rt),svg:(Ye,rt)=>new ot(Ye,rt),generator:Ye=>new et(Ye),newSeed:()=>et.newSeed()},labelHelper=__name(async(Ye,rt,it)=>{let lt;const ct=rt.useHtmlLabels||evaluate(getConfig2()?.htmlLabels);it?lt=it:lt="node default";const ut=Ye.insert("g").attr("class",lt).attr("id",rt.domId||rt.id),ht=ut.insert("g").attr("class","label").attr("style",handleUndefinedAttr(rt.labelStyle));let ft;rt.label===void 0?ft="":ft=typeof rt.label=="string"?rt.label:rt.label[0];const pt=await createText(ht,sanitizeText(decodeEntities(ft),getConfig2()),{useHtmlLabels:ct,width:rt.width||getConfig2().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:rt.labelStyle,addSvgBackground:!!rt.icon||!!rt.img});let mt=pt.getBBox();const gt=(rt?.padding??0)/2;if(ct){const yt=pt.children[0],xt=select(pt),bt=yt.getElementsByTagName("img");if(bt){const _t=ft.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...bt].map(Ct=>new Promise(kt=>{function St(){if(Ct.style.display="flex",Ct.style.flexDirection="column",_t){const Rt=getConfig2().fontSize?getConfig2().fontSize:window.getComputedStyle(document.body).fontSize,Tt=5,[Mt=defaultConfig_default.fontSize]=parseFontSize(Rt),Pt=Mt*Tt+"px";Ct.style.minWidth=Pt,Ct.style.maxWidth=Pt}else Ct.style.width="100%";kt(Ct)}__name(St,"setupImage"),setTimeout(()=>{Ct.complete&&St()}),Ct.addEventListener("error",St),Ct.addEventListener("load",St)})))}mt=yt.getBoundingClientRect(),xt.attr("width",mt.width),xt.attr("height",mt.height)}return ct?ht.attr("transform","translate("+-mt.width/2+", "+-mt.height/2+")"):ht.attr("transform","translate(0, "+-mt.height/2+")"),rt.centerLabel&&ht.attr("transform","translate("+-mt.width/2+", "+-mt.height/2+")"),ht.insert("rect",":first-child"),{shapeSvg:ut,bbox:mt,halfPadding:gt,label:ht}},"labelHelper"),insertLabel=__name(async(Ye,rt,it)=>{const lt=it.useHtmlLabels||evaluate(getConfig2()?.flowchart?.htmlLabels),ct=Ye.insert("g").attr("class","label").attr("style",it.labelStyle||""),ut=await createText(ct,sanitizeText(decodeEntities(rt),getConfig2()),{useHtmlLabels:lt,width:it.width||getConfig2()?.flowchart?.wrappingWidth,style:it.labelStyle,addSvgBackground:!!it.icon||!!it.img});let ht=ut.getBBox();const ft=it.padding/2;if(evaluate(getConfig2()?.flowchart?.htmlLabels)){const pt=ut.children[0],mt=select(ut);ht=pt.getBoundingClientRect(),mt.attr("width",ht.width),mt.attr("height",ht.height)}return lt?ct.attr("transform","translate("+-ht.width/2+", "+-ht.height/2+")"):ct.attr("transform","translate(0, "+-ht.height/2+")"),it.centerLabel&&ct.attr("transform","translate("+-ht.width/2+", "+-ht.height/2+")"),ct.insert("rect",":first-child"),{shapeSvg:Ye,bbox:ht,halfPadding:ft,label:ct}},"insertLabel"),updateNodeBounds=__name((Ye,rt)=>{const it=rt.node().getBBox();Ye.width=it.width,Ye.height=it.height},"updateNodeBounds"),getNodeClasses=__name((Ye,rt)=>(Ye.look==="handDrawn"?"rough-node":"node")+" "+Ye.cssClasses+" "+(rt||""),"getNodeClasses");function createPathFromPoints(Ye){const rt=Ye.map((it,lt)=>`${lt===0?"M":"L"}${it.x},${it.y}`);return rt.push("Z"),rt.join(" ")}__name(createPathFromPoints,"createPathFromPoints");function generateFullSineWavePoints(Ye,rt,it,lt,ct,ut){const ht=[],pt=it-Ye,mt=lt-rt,gt=pt/ut,yt=2*Math.PI/gt,xt=rt+mt/2;for(let bt=0;bt<=50;bt++){const _t=bt/50,Ct=Ye+_t*pt,kt=xt+ct*Math.sin(yt*(Ct-Ye));ht.push({x:Ct,y:kt})}return ht}__name(generateFullSineWavePoints,"generateFullSineWavePoints");function generateCirclePoints(Ye,rt,it,lt,ct,ut){const ht=[],ft=ct*Math.PI/180,gt=(ut*Math.PI/180-ft)/(lt-1);for(let yt=0;yt<lt;yt++){const xt=ft+yt*gt,bt=Ye+it*Math.cos(xt),_t=rt+it*Math.sin(xt);ht.push({x:-bt,y:-_t})}return ht}__name(generateCirclePoints,"generateCirclePoints");var intersectRect=__name((Ye,rt)=>{var it=Ye.x,lt=Ye.y,ct=rt.x-it,ut=rt.y-lt,ht=Ye.width/2,ft=Ye.height/2,pt,mt;return Math.abs(ut)*ht>Math.abs(ct)*ft?(ut<0&&(ft=-ft),pt=ut===0?0:ft*ct/ut,mt=ft):(ct<0&&(ht=-ht),pt=ht,mt=ct===0?0:ht*ut/ct),{x:it+pt,y:lt+mt}},"intersectRect"),intersect_rect_default=intersectRect;function applyStyle(Ye,rt){rt&&Ye.attr("style",rt)}__name(applyStyle,"applyStyle");async function addHtmlLabel(Ye){const rt=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),it=rt.append("xhtml:div"),lt=getConfig2();let ct=Ye.label;Ye.label&&hasKatex(Ye.label)&&(ct=await renderKatexSanitized(Ye.label.replace(common_default.lineBreakRegex,`
`),lt));const ht='<span class="'+(Ye.isNode?"nodeLabel":"edgeLabel")+'" '+(Ye.labelStyle?'style="'+Ye.labelStyle+'"':"")+">"+ct+"</span>";return it.html(sanitizeText(ht,lt)),applyStyle(it,Ye.labelStyle),it.style("display","inline-block"),it.style("padding-right","1px"),it.style("white-space","nowrap"),it.attr("xmlns","http://www.w3.org/1999/xhtml"),rt.node()}__name(addHtmlLabel,"addHtmlLabel");var createLabel=__name(async(Ye,rt,it,lt)=>{let ct=Ye||"";if(typeof ct=="object"&&(ct=ct[0]),evaluate(getConfig2().flowchart.htmlLabels)){ct=ct.replace(/\\n|\n/g,"<br />"),log.info("vertexText"+ct);const ut={isNode:lt,label:decodeEntities(ct).replace(/fa[blrs]?:fa-[\w-]+/g,ft=>`<i class='${ft.replace(":"," ")}'></i>`),labelStyle:rt&&rt.replace("fill:","color:")};return await addHtmlLabel(ut)}else{const ut=document.createElementNS("http://www.w3.org/2000/svg","text");ut.setAttribute("style",rt.replace("color:","fill:"));let ht=[];typeof ct=="string"?ht=ct.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(ct)?ht=ct:ht=[];for(const ft of ht){const pt=document.createElementNS("http://www.w3.org/2000/svg","tspan");pt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),pt.setAttribute("dy","1em"),pt.setAttribute("x","0"),it?pt.setAttribute("class","title-row"):pt.setAttribute("class","row"),pt.textContent=ft.trim(),ut.appendChild(pt)}return ut}},"createLabel"),createLabel_default=createLabel,createRoundedRectPathD=__name((Ye,rt,it,lt,ct)=>["M",Ye+ct,rt,"H",Ye+it-ct,"A",ct,ct,0,0,1,Ye+it,rt+ct,"V",rt+lt-ct,"A",ct,ct,0,0,1,Ye+it-ct,rt+lt,"H",Ye+ct,"A",ct,ct,0,0,1,Ye,rt+lt-ct,"V",rt+ct,"A",ct,ct,0,0,1,Ye+ct,rt,"Z"].join(" "),"createRoundedRectPathD"),rect=__name(async(Ye,rt)=>{log.info("Creating subgraph rect for ",rt.id,rt);const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{clusterBkg:ut,clusterBorder:ht}=lt,{labelStyles:ft,nodeStyles:pt,borderStyles:mt,backgroundStyles:gt}=styles2String(rt),yt=Ye.insert("g").attr("class","cluster "+rt.cssClasses).attr("id",rt.id).attr("data-look",rt.look),xt=evaluate(it.flowchart.htmlLabels),bt=yt.insert("g").attr("class","cluster-label "),_t=await createText(bt,rt.label,{style:rt.labelStyle,useHtmlLabels:xt,isNode:!0});let Ct=_t.getBBox();if(evaluate(it.flowchart.htmlLabels)){const Lt=_t.children[0],Ot=select(_t);Ct=Lt.getBoundingClientRect(),Ot.attr("width",Ct.width),Ot.attr("height",Ct.height)}const kt=rt.width<=Ct.width+rt.padding?Ct.width+rt.padding:rt.width;rt.width<=Ct.width+rt.padding?rt.diff=(kt-rt.width)/2-rt.padding:rt.diff=-rt.padding;const St=rt.height,Rt=rt.x-kt/2,Tt=rt.y-St/2;log.trace("Data ",rt,JSON.stringify(rt));let Mt;if(rt.look==="handDrawn"){const Lt=at.svg(yt),Ot=userNodeOverrides(rt,{roughness:.7,fill:ut,stroke:ht,fillWeight:3,seed:ct}),Ft=Lt.path(createRoundedRectPathD(Rt,Tt,kt,St,0),Ot);Mt=yt.insert(()=>(log.debug("Rough node insert CXC",Ft),Ft),":first-child"),Mt.select("path:nth-child(2)").attr("style",mt.join(";")),Mt.select("path").attr("style",gt.join(";").replace("fill","stroke"))}else Mt=yt.insert("rect",":first-child"),Mt.attr("style",pt).attr("rx",rt.rx).attr("ry",rt.ry).attr("x",Rt).attr("y",Tt).attr("width",kt).attr("height",St);const{subGraphTitleTopMargin:Pt}=getSubGraphTitleMargins(it);if(bt.attr("transform",`translate(${rt.x-Ct.width/2}, ${rt.y-rt.height/2+Pt})`),ft){const Lt=bt.select("span");Lt&&Lt.attr("style",ft)}const It=Mt.node().getBBox();return rt.offsetX=0,rt.width=It.width,rt.height=It.height,rt.offsetY=Ct.height-rt.padding/2,rt.intersect=function(Lt){return intersect_rect_default(rt,Lt)},{cluster:yt,labelBBox:Ct}},"rect"),noteGroup=__name((Ye,rt)=>{const it=Ye.insert("g").attr("class","note-cluster").attr("id",rt.id),lt=it.insert("rect",":first-child"),ct=0*rt.padding,ut=ct/2;lt.attr("rx",rt.rx).attr("ry",rt.ry).attr("x",rt.x-rt.width/2-ut).attr("y",rt.y-rt.height/2-ut).attr("width",rt.width+ct).attr("height",rt.height+ct).attr("fill","none");const ht=lt.node().getBBox();return rt.width=ht.width,rt.height=ht.height,rt.intersect=function(ft){return intersect_rect_default(rt,ft)},{cluster:it,labelBBox:{width:0,height:0}}},"noteGroup"),roundedWithTitle=__name(async(Ye,rt)=>{const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{altBackground:ut,compositeBackground:ht,compositeTitleBackground:ft,nodeBorder:pt}=lt,mt=Ye.insert("g").attr("class",rt.cssClasses).attr("id",rt.id).attr("data-id",rt.id).attr("data-look",rt.look),gt=mt.insert("g",":first-child"),yt=mt.insert("g").attr("class","cluster-label");let xt=mt.append("rect");const bt=yt.node().appendChild(await createLabel_default(rt.label,rt.labelStyle,void 0,!0));let _t=bt.getBBox();if(evaluate(it.flowchart.htmlLabels)){const Ft=bt.children[0],Ut=select(bt);_t=Ft.getBoundingClientRect(),Ut.attr("width",_t.width),Ut.attr("height",_t.height)}const Ct=0*rt.padding,kt=Ct/2,St=(rt.width<=_t.width+rt.padding?_t.width+rt.padding:rt.width)+Ct;rt.width<=_t.width+rt.padding?rt.diff=(St-rt.width)/2-rt.padding:rt.diff=-rt.padding;const Rt=rt.height+Ct,Tt=rt.height+Ct-_t.height-6,Mt=rt.x-St/2,Pt=rt.y-Rt/2;rt.width=St;const It=rt.y-rt.height/2-kt+_t.height+2;let Lt;if(rt.look==="handDrawn"){const Ft=rt.cssClasses.includes("statediagram-cluster-alt"),Ut=at.svg(mt),Wt=rt.rx||rt.ry?Ut.path(createRoundedRectPathD(Mt,Pt,St,Rt,10),{roughness:.7,fill:ft,fillStyle:"solid",stroke:pt,seed:ct}):Ut.rectangle(Mt,Pt,St,Rt,{seed:ct});Lt=mt.insert(()=>Wt,":first-child");const Kt=Ut.rectangle(Mt,It,St,Tt,{fill:Ft?ut:ht,fillStyle:Ft?"hachure":"solid",stroke:pt,seed:ct});Lt=mt.insert(()=>Wt,":first-child"),xt=mt.insert(()=>Kt)}else Lt=gt.insert("rect",":first-child"),Lt.attr("class","outer").attr("x",Mt).attr("y",Pt).attr("width",St).attr("height",Rt).attr("data-look",rt.look),xt.attr("class","inner").attr("x",Mt).attr("y",It).attr("width",St).attr("height",Tt);yt.attr("transform",`translate(${rt.x-_t.width/2}, ${Pt+1-(evaluate(it.flowchart.htmlLabels)?0:3)})`);const Ot=Lt.node().getBBox();return rt.height=Ot.height,rt.offsetX=0,rt.offsetY=_t.height-rt.padding/2,rt.labelBBox=_t,rt.intersect=function(Ft){return intersect_rect_default(rt,Ft)},{cluster:mt,labelBBox:_t}},"roundedWithTitle"),kanbanSection=__name(async(Ye,rt)=>{log.info("Creating subgraph rect for ",rt.id,rt);const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{clusterBkg:ut,clusterBorder:ht}=lt,{labelStyles:ft,nodeStyles:pt,borderStyles:mt,backgroundStyles:gt}=styles2String(rt),yt=Ye.insert("g").attr("class","cluster "+rt.cssClasses).attr("id",rt.id).attr("data-look",rt.look),xt=evaluate(it.flowchart.htmlLabels),bt=yt.insert("g").attr("class","cluster-label "),_t=await createText(bt,rt.label,{style:rt.labelStyle,useHtmlLabels:xt,isNode:!0,width:rt.width});let Ct=_t.getBBox();if(evaluate(it.flowchart.htmlLabels)){const Lt=_t.children[0],Ot=select(_t);Ct=Lt.getBoundingClientRect(),Ot.attr("width",Ct.width),Ot.attr("height",Ct.height)}const kt=rt.width<=Ct.width+rt.padding?Ct.width+rt.padding:rt.width;rt.width<=Ct.width+rt.padding?rt.diff=(kt-rt.width)/2-rt.padding:rt.diff=-rt.padding;const St=rt.height,Rt=rt.x-kt/2,Tt=rt.y-St/2;log.trace("Data ",rt,JSON.stringify(rt));let Mt;if(rt.look==="handDrawn"){const Lt=at.svg(yt),Ot=userNodeOverrides(rt,{roughness:.7,fill:ut,stroke:ht,fillWeight:4,seed:ct}),Ft=Lt.path(createRoundedRectPathD(Rt,Tt,kt,St,rt.rx),Ot);Mt=yt.insert(()=>(log.debug("Rough node insert CXC",Ft),Ft),":first-child"),Mt.select("path:nth-child(2)").attr("style",mt.join(";")),Mt.select("path").attr("style",gt.join(";").replace("fill","stroke"))}else Mt=yt.insert("rect",":first-child"),Mt.attr("style",pt).attr("rx",rt.rx).attr("ry",rt.ry).attr("x",Rt).attr("y",Tt).attr("width",kt).attr("height",St);const{subGraphTitleTopMargin:Pt}=getSubGraphTitleMargins(it);if(bt.attr("transform",`translate(${rt.x-Ct.width/2}, ${rt.y-rt.height/2+Pt})`),ft){const Lt=bt.select("span");Lt&&Lt.attr("style",ft)}const It=Mt.node().getBBox();return rt.offsetX=0,rt.width=It.width,rt.height=It.height,rt.offsetY=Ct.height-rt.padding/2,rt.intersect=function(Lt){return intersect_rect_default(rt,Lt)},{cluster:yt,labelBBox:Ct}},"kanbanSection"),divider=__name((Ye,rt)=>{const it=getConfig2(),{themeVariables:lt,handDrawnSeed:ct}=it,{nodeBorder:ut}=lt,ht=Ye.insert("g").attr("class",rt.cssClasses).attr("id",rt.id).attr("data-look",rt.look),ft=ht.insert("g",":first-child"),pt=0*rt.padding,mt=rt.width+pt;rt.diff=-rt.padding;const gt=rt.height+pt,yt=rt.x-mt/2,xt=rt.y-gt/2;rt.width=mt;let bt;if(rt.look==="handDrawn"){const kt=at.svg(ht).rectangle(yt,xt,mt,gt,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:ut,seed:ct});bt=ht.insert(()=>kt,":first-child")}else bt=ft.insert("rect",":first-child"),bt.attr("class","divider").attr("x",yt).attr("y",xt).attr("width",mt).attr("height",gt).attr("data-look",rt.look);const _t=bt.node().getBBox();return rt.height=_t.height,rt.offsetX=0,rt.offsetY=0,rt.intersect=function(Ct){return intersect_rect_default(rt,Ct)},{cluster:ht,labelBBox:{}}},"divider"),squareRect=rect,shapes={rect,squareRect,roundedWithTitle,noteGroup,divider,kanbanSection},clusterElems=new Map,insertCluster=__name(async(Ye,rt)=>{const it=rt.shape||"rect",lt=await shapes[it](Ye,rt);return clusterElems.set(rt.id,lt),lt},"insertCluster"),clear$1=__name(()=>{clusterElems=new Map},"clear");function intersectNode(Ye,rt){return Ye.intersect(rt)}__name(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(Ye,rt,it,lt){var ct=Ye.x,ut=Ye.y,ht=ct-lt.x,ft=ut-lt.y,pt=Math.sqrt(rt*rt*ft*ft+it*it*ht*ht),mt=Math.abs(rt*it*ht/pt);lt.x<ct&&(mt=-mt);var gt=Math.abs(rt*it*ft/pt);return lt.y<ut&&(gt=-gt),{x:ct+mt,y:ut+gt}}__name(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(Ye,rt,it){return intersect_ellipse_default(Ye,rt,rt,it)}__name(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(Ye,rt,it,lt){{const ct=rt.y-Ye.y,ut=Ye.x-rt.x,ht=rt.x*Ye.y-Ye.x*rt.y,ft=ct*it.x+ut*it.y+ht,pt=ct*lt.x+ut*lt.y+ht,mt=1e-6;if(ft!==0&&pt!==0&&sameSign(ft,pt))return;const gt=lt.y-it.y,yt=it.x-lt.x,xt=lt.x*it.y-it.x*lt.y,bt=gt*Ye.x+yt*Ye.y+xt,_t=gt*rt.x+yt*rt.y+xt;if(Math.abs(bt)<mt&&Math.abs(_t)<mt&&sameSign(bt,_t))return;const Ct=ct*yt-gt*ut;if(Ct===0)return;const kt=Math.abs(Ct/2);let St=ut*xt-yt*ht;const Rt=St<0?(St-kt)/Ct:(St+kt)/Ct;St=gt*ht-ct*xt;const Tt=St<0?(St-kt)/Ct:(St+kt)/Ct;return{x:Rt,y:Tt}}}__name(intersectLine,"intersectLine");function sameSign(Ye,rt){return Ye*rt>0}__name(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(Ye,rt,it){let lt=Ye.x,ct=Ye.y,ut=[],ht=Number.POSITIVE_INFINITY,ft=Number.POSITIVE_INFINITY;typeof rt.forEach=="function"?rt.forEach(function(gt){ht=Math.min(ht,gt.x),ft=Math.min(ft,gt.y)}):(ht=Math.min(ht,rt.x),ft=Math.min(ft,rt.y));let pt=lt-Ye.width/2-ht,mt=ct-Ye.height/2-ft;for(let gt=0;gt<rt.length;gt++){let yt=rt[gt],xt=rt[gt<rt.length-1?gt+1:0],bt=intersect_line_default(Ye,it,{x:pt+yt.x,y:mt+yt.y},{x:pt+xt.x,y:mt+xt.y});bt&&ut.push(bt)}return ut.length?(ut.length>1&&ut.sort(function(gt,yt){let xt=gt.x-it.x,bt=gt.y-it.y,_t=Math.sqrt(xt*xt+bt*bt),Ct=yt.x-it.x,kt=yt.y-it.y,St=Math.sqrt(Ct*Ct+kt*kt);return _t<St?-1:_t===St?0:1}),ut[0]):Ye}__name(intersectPolygon,"intersectPolygon");var intersect_polygon_default=intersectPolygon,intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersect_polygon_default,rect:intersect_rect_default};function anchor(Ye,rt){const{labelStyles:it}=styles2String(rt);rt.labelStyle=it;const lt=getNodeClasses(rt);let ct=lt;lt||(ct="anchor");const ut=Ye.insert("g").attr("class",ct).attr("id",rt.domId||rt.id),ht=1,{cssStyles:ft}=rt,pt=at.svg(ut),mt=userNodeOverrides(rt,{fill:"black",stroke:"none",fillStyle:"solid"});rt.look!=="handDrawn"&&(mt.roughness=0);const gt=pt.circle(0,0,ht*2,mt),yt=ut.insert(()=>gt,":first-child");return yt.attr("class","anchor").attr("style",handleUndefinedAttr(ft)),updateNodeBounds(rt,yt),rt.intersect=function(xt){return log.info("Circle intersect",rt,ht,xt),intersect_default.circle(rt,ht,xt)},ut}__name(anchor,"anchor");function generateArcPoints(Ye,rt,it,lt,ct,ut,ht){const pt=(Ye+it)/2,mt=(rt+lt)/2,gt=Math.atan2(lt-rt,it-Ye),yt=(it-Ye)/2,xt=(lt-rt)/2,bt=yt/ct,_t=xt/ut,Ct=Math.sqrt(bt**2+_t**2);if(Ct>1)throw new Error("The given radii are too small to create an arc between the points.");const kt=Math.sqrt(1-Ct**2),St=pt+kt*ut*Math.sin(gt)*(ht?-1:1),Rt=mt-kt*ct*Math.cos(gt)*(ht?-1:1),Tt=Math.atan2((rt-Rt)/ut,(Ye-St)/ct);let Pt=Math.atan2((lt-Rt)/ut,(it-St)/ct)-Tt;ht&&Pt<0&&(Pt+=2*Math.PI),!ht&&Pt>0&&(Pt-=2*Math.PI);const It=[];for(let Lt=0;Lt<20;Lt++){const Ot=Lt/19,Ft=Tt+Ot*Pt,Ut=St+ct*Math.cos(Ft),Wt=Rt+ut*Math.sin(Ft);It.push({x:Ut,y:Wt})}return It}__name(generateArcPoints,"generateArcPoints");async function bowTieRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.width+rt.padding+20,ft=ut.height+rt.padding,pt=ft/2,mt=pt/(2.5+ft/50),{cssStyles:gt}=rt,yt=[{x:ht/2,y:-ft/2},{x:-ht/2,y:-ft/2},...generateArcPoints(-ht/2,-ft/2,-ht/2,ft/2,mt,pt,!1),{x:ht/2,y:ft/2},...generateArcPoints(ht/2,ft/2,ht/2,-ft/2,mt,pt,!0)],xt=at.svg(ct),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=createPathFromPoints(yt),Ct=xt.path(_t,bt),kt=ct.insert(()=>Ct,":first-child");return kt.attr("class","basic label-container"),gt&&rt.look!=="handDrawn"&&kt.selectAll("path").attr("style",gt),lt&&rt.look!=="handDrawn"&&kt.selectAll("path").attr("style",lt),kt.attr("transform",`translate(${mt/2}, 0)`),updateNodeBounds(rt,kt),rt.intersect=function(St){return intersect_default.polygon(rt,yt,St)},ct}__name(bowTieRect,"bowTieRect");function insertPolygonShape(Ye,rt,it,lt){return Ye.insert("polygon",":first-child").attr("points",lt.map(function(ct){return ct.x+","+ct.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-rt/2+","+it/2+")")}__name(insertPolygonShape,"insertPolygonShape");async function card(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.height+rt.padding,ft=12,pt=ut.width+rt.padding+ft,mt=0,gt=pt,yt=-ht,xt=0,bt=[{x:mt+ft,y:yt},{x:gt,y:yt},{x:gt,y:xt},{x:mt,y:xt},{x:mt,y:yt+ft},{x:mt+ft,y:yt}];let _t;const{cssStyles:Ct}=rt;if(rt.look==="handDrawn"){const kt=at.svg(ct),St=userNodeOverrides(rt,{}),Rt=createPathFromPoints(bt),Tt=kt.path(Rt,St);_t=ct.insert(()=>Tt,":first-child").attr("transform",`translate(${-pt/2}, ${ht/2})`),Ct&&_t.attr("style",Ct)}else _t=insertPolygonShape(ct,pt,ht,bt);return lt&&_t.attr("style",lt),updateNodeBounds(rt,_t),rt.intersect=function(kt){return intersect_default.polygon(rt,bt,kt)},ct}__name(card,"card");function choice(Ye,rt){const{nodeStyles:it}=styles2String(rt);rt.label="";const lt=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId??rt.id),{cssStyles:ct}=rt,ut=Math.max(28,rt.width??0),ht=[{x:0,y:ut/2},{x:ut/2,y:0},{x:0,y:-ut/2},{x:-ut/2,y:0}],ft=at.svg(lt),pt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");const mt=createPathFromPoints(ht),gt=ft.path(mt,pt),yt=lt.insert(()=>gt,":first-child");return ct&&rt.look!=="handDrawn"&&yt.selectAll("path").attr("style",ct),it&&rt.look!=="handDrawn"&&yt.selectAll("path").attr("style",it),rt.width=28,rt.height=28,rt.intersect=function(xt){return intersect_default.polygon(rt,ht,xt)},lt}__name(choice,"choice");async function circle$1(Ye,rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.labelStyle=lt;const{shapeSvg:ut,bbox:ht,halfPadding:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=it?.padding??ft,mt=ht.width/2+pt;let gt;const{cssStyles:yt}=rt;if(rt.look==="handDrawn"){const xt=at.svg(ut),bt=userNodeOverrides(rt,{}),_t=xt.circle(0,0,mt*2,bt);gt=ut.insert(()=>_t,":first-child"),gt.attr("class","basic label-container").attr("style",handleUndefinedAttr(yt))}else gt=ut.insert("circle",":first-child").attr("class","basic label-container").attr("style",ct).attr("r",mt).attr("cx",0).attr("cy",0);return updateNodeBounds(rt,gt),rt.calcIntersect=function(xt,bt){const _t=xt.width/2;return intersect_default.circle(xt,_t,bt)},rt.intersect=function(xt){return log.info("Circle intersect",rt,mt,xt),intersect_default.circle(rt,mt,xt)},ut}__name(circle$1,"circle");function createLine(Ye){const rt=Math.cos(Math.PI/4),it=Math.sin(Math.PI/4),lt=Ye*2,ct={x:lt/2*rt,y:lt/2*it},ut={x:-(lt/2)*rt,y:lt/2*it},ht={x:-(lt/2)*rt,y:-(lt/2)*it},ft={x:lt/2*rt,y:-(lt/2)*it};return`M ${ut.x},${ut.y} L ${ft.x},${ft.y}
                   M ${ct.x},${ct.y} L ${ht.x},${ht.y}`}__name(createLine,"createLine");function crossedCircle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it,rt.label="";const ct=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId??rt.id),ut=Math.max(30,rt?.width??0),{cssStyles:ht}=rt,ft=at.svg(ct),pt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");const mt=ft.circle(0,0,ut*2,pt),gt=createLine(ut),yt=ft.path(gt,pt),xt=ct.insert(()=>mt,":first-child");return xt.insert(()=>yt),ht&&rt.look!=="handDrawn"&&xt.selectAll("path").attr("style",ht),lt&&rt.look!=="handDrawn"&&xt.selectAll("path").attr("style",lt),updateNodeBounds(rt,xt),rt.intersect=function(bt){return log.info("crossedCircle intersect",rt,{radius:ut,point:bt}),intersect_default.circle(rt,ut,bt)},ct}__name(crossedCircle,"crossedCircle");function generateCirclePoints2(Ye,rt,it,lt=100,ct=0,ut=180){const ht=[],ft=ct*Math.PI/180,gt=(ut*Math.PI/180-ft)/(lt-1);for(let yt=0;yt<lt;yt++){const xt=ft+yt*gt,bt=Ye+it*Math.cos(xt),_t=rt+it*Math.sin(xt);ht.push({x:-bt,y:-_t})}return ht}__name(generateCirclePoints2,"generateCirclePoints");async function curlyBraceLeft(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=ut.width+(rt.padding??0),pt=ut.height+(rt.padding??0),mt=Math.max(5,pt*.1),{cssStyles:gt}=rt,yt=[...generateCirclePoints2(ft/2,-pt/2,mt,30,-90,0),{x:-ft/2-mt,y:mt},...generateCirclePoints2(ft/2+mt*2,-mt,mt,20,-180,-270),...generateCirclePoints2(ft/2+mt*2,mt,mt,20,-90,-180),{x:-ft/2-mt,y:-pt/2},...generateCirclePoints2(ft/2,pt/2,mt,20,0,90)],xt=[{x:ft/2,y:-pt/2-mt},{x:-ft/2,y:-pt/2-mt},...generateCirclePoints2(ft/2,-pt/2,mt,20,-90,0),{x:-ft/2-mt,y:-mt},...generateCirclePoints2(ft/2+ft*.1,-mt,mt,20,-180,-270),...generateCirclePoints2(ft/2+ft*.1,mt,mt,20,-90,-180),{x:-ft/2-mt,y:pt/2},...generateCirclePoints2(ft/2,pt/2,mt,20,0,90),{x:-ft/2,y:pt/2+mt},{x:ft/2,y:pt/2+mt}],bt=at.svg(ct),_t=userNodeOverrides(rt,{fill:"none"});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const kt=createPathFromPoints(yt).replace("Z",""),St=bt.path(kt,_t),Rt=createPathFromPoints(xt),Tt=bt.path(Rt,{..._t}),Mt=ct.insert("g",":first-child");return Mt.insert(()=>Tt,":first-child").attr("stroke-opacity",0),Mt.insert(()=>St,":first-child"),Mt.attr("class","text"),gt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",gt),lt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(${mt}, 0)`),ht.attr("transform",`translate(${-ft/2+mt-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Mt),rt.intersect=function(Pt){return intersect_default.polygon(rt,xt,Pt)},ct}__name(curlyBraceLeft,"curlyBraceLeft");function generateCirclePoints3(Ye,rt,it,lt=100,ct=0,ut=180){const ht=[],ft=ct*Math.PI/180,gt=(ut*Math.PI/180-ft)/(lt-1);for(let yt=0;yt<lt;yt++){const xt=ft+yt*gt,bt=Ye+it*Math.cos(xt),_t=rt+it*Math.sin(xt);ht.push({x:bt,y:_t})}return ht}__name(generateCirclePoints3,"generateCirclePoints");async function curlyBraceRight(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=ut.width+(rt.padding??0),pt=ut.height+(rt.padding??0),mt=Math.max(5,pt*.1),{cssStyles:gt}=rt,yt=[...generateCirclePoints3(ft/2,-pt/2,mt,20,-90,0),{x:ft/2+mt,y:-mt},...generateCirclePoints3(ft/2+mt*2,-mt,mt,20,-180,-270),...generateCirclePoints3(ft/2+mt*2,mt,mt,20,-90,-180),{x:ft/2+mt,y:pt/2},...generateCirclePoints3(ft/2,pt/2,mt,20,0,90)],xt=[{x:-ft/2,y:-pt/2-mt},{x:ft/2,y:-pt/2-mt},...generateCirclePoints3(ft/2,-pt/2,mt,20,-90,0),{x:ft/2+mt,y:-mt},...generateCirclePoints3(ft/2+mt*2,-mt,mt,20,-180,-270),...generateCirclePoints3(ft/2+mt*2,mt,mt,20,-90,-180),{x:ft/2+mt,y:pt/2},...generateCirclePoints3(ft/2,pt/2,mt,20,0,90),{x:ft/2,y:pt/2+mt},{x:-ft/2,y:pt/2+mt}],bt=at.svg(ct),_t=userNodeOverrides(rt,{fill:"none"});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const kt=createPathFromPoints(yt).replace("Z",""),St=bt.path(kt,_t),Rt=createPathFromPoints(xt),Tt=bt.path(Rt,{..._t}),Mt=ct.insert("g",":first-child");return Mt.insert(()=>Tt,":first-child").attr("stroke-opacity",0),Mt.insert(()=>St,":first-child"),Mt.attr("class","text"),gt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",gt),lt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(${-mt}, 0)`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)/2-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Mt),rt.intersect=function(Pt){return intersect_default.polygon(rt,xt,Pt)},ct}__name(curlyBraceRight,"curlyBraceRight");function generateCirclePoints4(Ye,rt,it,lt=100,ct=0,ut=180){const ht=[],ft=ct*Math.PI/180,gt=(ut*Math.PI/180-ft)/(lt-1);for(let yt=0;yt<lt;yt++){const xt=ft+yt*gt,bt=Ye+it*Math.cos(xt),_t=rt+it*Math.sin(xt);ht.push({x:-bt,y:-_t})}return ht}__name(generateCirclePoints4,"generateCirclePoints");async function curlyBraces(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=ut.width+(rt.padding??0),pt=ut.height+(rt.padding??0),mt=Math.max(5,pt*.1),{cssStyles:gt}=rt,yt=[...generateCirclePoints4(ft/2,-pt/2,mt,30,-90,0),{x:-ft/2-mt,y:mt},...generateCirclePoints4(ft/2+mt*2,-mt,mt,20,-180,-270),...generateCirclePoints4(ft/2+mt*2,mt,mt,20,-90,-180),{x:-ft/2-mt,y:-pt/2},...generateCirclePoints4(ft/2,pt/2,mt,20,0,90)],xt=[...generateCirclePoints4(-ft/2+mt+mt/2,-pt/2,mt,20,-90,-180),{x:ft/2-mt/2,y:mt},...generateCirclePoints4(-ft/2-mt/2,-mt,mt,20,0,90),...generateCirclePoints4(-ft/2-mt/2,mt,mt,20,-90,0),{x:ft/2-mt/2,y:-mt},...generateCirclePoints4(-ft/2+mt+mt/2,pt/2,mt,30,-180,-270)],bt=[{x:ft/2,y:-pt/2-mt},{x:-ft/2,y:-pt/2-mt},...generateCirclePoints4(ft/2,-pt/2,mt,20,-90,0),{x:-ft/2-mt,y:-mt},...generateCirclePoints4(ft/2+mt*2,-mt,mt,20,-180,-270),...generateCirclePoints4(ft/2+mt*2,mt,mt,20,-90,-180),{x:-ft/2-mt,y:pt/2},...generateCirclePoints4(ft/2,pt/2,mt,20,0,90),{x:-ft/2,y:pt/2+mt},{x:ft/2-mt-mt/2,y:pt/2+mt},...generateCirclePoints4(-ft/2+mt+mt/2,-pt/2,mt,20,-90,-180),{x:ft/2-mt/2,y:mt},...generateCirclePoints4(-ft/2-mt/2,-mt,mt,20,0,90),...generateCirclePoints4(-ft/2-mt/2,mt,mt,20,-90,0),{x:ft/2-mt/2,y:-mt},...generateCirclePoints4(-ft/2+mt+mt/2,pt/2,mt,30,-180,-270)],_t=at.svg(ct),Ct=userNodeOverrides(rt,{fill:"none"});rt.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const St=createPathFromPoints(yt).replace("Z",""),Rt=_t.path(St,Ct),Mt=createPathFromPoints(xt).replace("Z",""),Pt=_t.path(Mt,Ct),It=createPathFromPoints(bt),Lt=_t.path(It,{...Ct}),Ot=ct.insert("g",":first-child");return Ot.insert(()=>Lt,":first-child").attr("stroke-opacity",0),Ot.insert(()=>Rt,":first-child"),Ot.insert(()=>Pt,":first-child"),Ot.attr("class","text"),gt&&rt.look!=="handDrawn"&&Ot.selectAll("path").attr("style",gt),lt&&rt.look!=="handDrawn"&&Ot.selectAll("path").attr("style",lt),Ot.attr("transform",`translate(${mt-mt/4}, 0)`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)/2-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Ot),rt.intersect=function(Ft){return intersect_default.polygon(rt,bt,Ft)},ct}__name(curlyBraces,"curlyBraces");async function curvedTrapezoid(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=80,ft=20,pt=Math.max(ht,(ut.width+(rt.padding??0)*2)*1.25,rt?.width??0),mt=Math.max(ft,ut.height+(rt.padding??0)*2,rt?.height??0),gt=mt/2,{cssStyles:yt}=rt,xt=at.svg(ct),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=pt,Ct=mt,kt=_t-gt,St=Ct/4,Rt=[{x:kt,y:0},{x:St,y:0},{x:0,y:Ct/2},{x:St,y:Ct},{x:kt,y:Ct},...generateCirclePoints(-kt,-Ct/2,gt,50,270,90)],Tt=createPathFromPoints(Rt),Mt=xt.path(Tt,bt),Pt=ct.insert(()=>Mt,":first-child");return Pt.attr("class","basic label-container"),yt&&rt.look!=="handDrawn"&&Pt.selectChildren("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&Pt.selectChildren("path").attr("style",lt),Pt.attr("transform",`translate(${-pt/2}, ${-mt/2})`),updateNodeBounds(rt,Pt),rt.intersect=function(It){return intersect_default.polygon(rt,Rt,It)},ct}__name(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye},${rt+ut}`,`a${ct},${ut} 0,0,0 ${it},0`,`a${ct},${ut} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ut} 0,0,0 ${it},0`,`l0,${-lt}`].join(" "),"createCylinderPathD"),createOuterCylinderPathD=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye},${rt+ut}`,`M${Ye+it},${rt+ut}`,`a${ct},${ut} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ut} 0,0,0 ${it},0`,`l0,${-lt}`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye-it/2},${-lt/2}`,`a${ct},${ut} 0,0,0 ${it},0`].join(" "),"createInnerCylinderPathD");async function cylinder(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+rt.padding,rt.width??0),pt=ft/2,mt=pt/(2.5+ft/50),gt=Math.max(ut.height+mt+rt.padding,rt.height??0);let yt;const{cssStyles:xt}=rt;if(rt.look==="handDrawn"){const bt=at.svg(ct),_t=createOuterCylinderPathD(0,0,ft,gt,pt,mt),Ct=createInnerCylinderPathD(0,mt,ft,gt,pt,mt),kt=bt.path(_t,userNodeOverrides(rt,{})),St=bt.path(Ct,userNodeOverrides(rt,{fill:"none"}));yt=ct.insert(()=>St,":first-child"),yt=ct.insert(()=>kt,":first-child"),yt.attr("class","basic label-container"),xt&&yt.attr("style",xt)}else{const bt=createCylinderPathD(0,0,ft,gt,pt,mt);yt=ct.insert("path",":first-child").attr("d",bt).attr("class","basic label-container").attr("style",handleUndefinedAttr(xt)).attr("style",lt)}return yt.attr("label-offset-y",mt),yt.attr("transform",`translate(${-ft/2}, ${-(gt/2+mt)})`),updateNodeBounds(rt,yt),ht.attr("transform",`translate(${-(ut.width/2)-(ut.x-(ut.left??0))}, ${-(ut.height/2)+(rt.padding??0)/1.5-(ut.y-(ut.top??0))})`),rt.intersect=function(bt){const _t=intersect_default.rect(rt,bt),Ct=_t.x-(rt.x??0);if(pt!=0&&(Math.abs(Ct)<(rt.width??0)/2||Math.abs(Ct)==(rt.width??0)/2&&Math.abs(_t.y-(rt.y??0))>(rt.height??0)/2-mt)){let kt=mt*mt*(1-Ct*Ct/(pt*pt));kt>0&&(kt=Math.sqrt(kt)),kt=mt-kt,bt.y-(rt.y??0)>0&&(kt=-kt),_t.y+=kt}return _t},ct}__name(cylinder,"cylinder");async function dividedRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=ut.width+rt.padding,pt=ut.height+rt.padding,mt=pt*.2,gt=-ft/2,yt=-pt/2-mt/2,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const Ct=[{x:gt,y:yt+mt},{x:-gt,y:yt+mt},{x:-gt,y:-yt},{x:gt,y:-yt},{x:gt,y:yt},{x:-gt,y:yt},{x:-gt,y:yt+mt}],kt=bt.polygon(Ct.map(Rt=>[Rt.x,Rt.y]),_t),St=ct.insert(()=>kt,":first-child");return St.attr("class","basic label-container"),xt&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),ht.attr("transform",`translate(${gt+(rt.padding??0)/2-(ut.x-(ut.left??0))}, ${yt+mt+(rt.padding??0)/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,St),rt.intersect=function(Rt){return intersect_default.rect(rt,Rt)},ct}__name(dividedRectangle,"dividedRectangle");async function doublecircle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,halfPadding:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=ut.width/2+ht+5,mt=ut.width/2+ht;let gt;const{cssStyles:yt}=rt;if(rt.look==="handDrawn"){const xt=at.svg(ct),bt=userNodeOverrides(rt,{roughness:.2,strokeWidth:2.5}),_t=userNodeOverrides(rt,{roughness:.2,strokeWidth:1.5}),Ct=xt.circle(0,0,pt*2,bt),kt=xt.circle(0,0,mt*2,_t);gt=ct.insert("g",":first-child"),gt.attr("class",handleUndefinedAttr(rt.cssClasses)).attr("style",handleUndefinedAttr(yt)),gt.node()?.appendChild(Ct),gt.node()?.appendChild(kt)}else{gt=ct.insert("g",":first-child");const xt=gt.insert("circle",":first-child"),bt=gt.insert("circle");gt.attr("class","basic label-container").attr("style",lt),xt.attr("class","outer-circle").attr("style",lt).attr("r",pt).attr("cx",0).attr("cy",0),bt.attr("class","inner-circle").attr("style",lt).attr("r",mt).attr("cx",0).attr("cy",0)}return updateNodeBounds(rt,gt),rt.intersect=function(xt){return log.info("DoubleCircle intersect",rt,pt,xt),intersect_default.circle(rt,pt,xt)},ct}__name(doublecircle,"doublecircle");function filledCircle(Ye,rt,{config:{themeVariables:it}}){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.label="",rt.labelStyle=lt;const ut=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId??rt.id),ht=7,{cssStyles:ft}=rt,pt=at.svg(ut),{nodeBorder:mt}=it,gt=userNodeOverrides(rt,{fillStyle:"solid"});rt.look!=="handDrawn"&&(gt.roughness=0);const yt=pt.circle(0,0,ht*2,gt),xt=ut.insert(()=>yt,":first-child");return xt.selectAll("path").attr("style",`fill: ${mt} !important;`),ft&&ft.length>0&&rt.look!=="handDrawn"&&xt.selectAll("path").attr("style",ft),ct&&rt.look!=="handDrawn"&&xt.selectAll("path").attr("style",ct),updateNodeBounds(rt,xt),rt.intersect=function(bt){return log.info("filledCircle intersect",rt,{radius:ht,point:bt}),intersect_default.circle(rt,ht,bt)},ut}__name(filledCircle,"filledCircle");async function flippedTriangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=ut.width+(rt.padding??0),pt=ft+ut.height,mt=ft+ut.height,gt=[{x:0,y:-pt},{x:mt,y:-pt},{x:mt/2,y:0}],{cssStyles:yt}=rt,xt=at.svg(ct),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=createPathFromPoints(gt),Ct=xt.path(_t,bt),kt=ct.insert(()=>Ct,":first-child").attr("transform",`translate(${-pt/2}, ${pt/2})`);return yt&&rt.look!=="handDrawn"&&kt.selectChildren("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&kt.selectChildren("path").attr("style",lt),rt.width=ft,rt.height=pt,updateNodeBounds(rt,kt),ht.attr("transform",`translate(${-ut.width/2-(ut.x-(ut.left??0))}, ${-pt/2+(rt.padding??0)/2+(ut.y-(ut.top??0))})`),rt.intersect=function(St){return log.info("Triangle intersect",rt,gt,St),intersect_default.polygon(rt,gt,St)},ct}__name(flippedTriangle,"flippedTriangle");function forkJoin(Ye,rt,{dir:it,config:{state:lt,themeVariables:ct}}){const{nodeStyles:ut}=styles2String(rt);rt.label="";const ht=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId??rt.id),{cssStyles:ft}=rt;let pt=Math.max(70,rt?.width??0),mt=Math.max(10,rt?.height??0);it==="LR"&&(pt=Math.max(10,rt?.width??0),mt=Math.max(70,rt?.height??0));const gt=-1*pt/2,yt=-1*mt/2,xt=at.svg(ht),bt=userNodeOverrides(rt,{stroke:ct.lineColor,fill:ct.lineColor});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=xt.rectangle(gt,yt,pt,mt,bt),Ct=ht.insert(()=>_t,":first-child");ft&&rt.look!=="handDrawn"&&Ct.selectAll("path").attr("style",ft),ut&&rt.look!=="handDrawn"&&Ct.selectAll("path").attr("style",ut),updateNodeBounds(rt,Ct);const kt=lt?.padding??0;return rt.width&&rt.height&&(rt.width+=kt/2||0,rt.height+=kt/2||0),rt.intersect=function(St){return intersect_default.rect(rt,St)},ht}__name(forkJoin,"forkJoin");async function halfRoundedRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const ct=80,ut=50,{shapeSvg:ht,bbox:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=Math.max(ct,ft.width+(rt.padding??0)*2,rt?.width??0),mt=Math.max(ut,ft.height+(rt.padding??0)*2,rt?.height??0),gt=mt/2,{cssStyles:yt}=rt,xt=at.svg(ht),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=[{x:-pt/2,y:-mt/2},{x:pt/2-gt,y:-mt/2},...generateCirclePoints(-pt/2+gt,0,gt,50,90,270),{x:pt/2-gt,y:mt/2},{x:-pt/2,y:mt/2}],Ct=createPathFromPoints(_t),kt=xt.path(Ct,bt),St=ht.insert(()=>kt,":first-child");return St.attr("class","basic label-container"),yt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),updateNodeBounds(rt,St),rt.intersect=function(Rt){return log.info("Pill intersect",rt,{radius:gt,point:Rt}),intersect_default.polygon(rt,_t,Rt)},ht}__name(halfRoundedRectangle,"halfRoundedRectangle");async function hexagon(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.height+(rt.padding??0),ft=ut.width+(rt.padding??0)*2.5,{cssStyles:pt}=rt,mt=at.svg(ct),gt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(gt.roughness=0,gt.fillStyle="solid");let yt=ft/2;const xt=yt/6;yt=yt+xt;const bt=ht/2,_t=bt/2,Ct=yt-_t,kt=[{x:-Ct,y:-bt},{x:0,y:-bt},{x:Ct,y:-bt},{x:yt,y:0},{x:Ct,y:bt},{x:0,y:bt},{x:-Ct,y:bt},{x:-yt,y:0}],St=createPathFromPoints(kt),Rt=mt.path(St,gt),Tt=ct.insert(()=>Rt,":first-child");return Tt.attr("class","basic label-container"),pt&&rt.look!=="handDrawn"&&Tt.selectChildren("path").attr("style",pt),lt&&rt.look!=="handDrawn"&&Tt.selectChildren("path").attr("style",lt),rt.width=ft,rt.height=ht,updateNodeBounds(rt,Tt),rt.intersect=function(Mt){return intersect_default.polygon(rt,kt,Mt)},ct}__name(hexagon,"hexagon");async function hourglass(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.label="",rt.labelStyle=it;const{shapeSvg:ct}=await labelHelper(Ye,rt,getNodeClasses(rt)),ut=Math.max(30,rt?.width??0),ht=Math.max(30,rt?.height??0),{cssStyles:ft}=rt,pt=at.svg(ct),mt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const gt=[{x:0,y:0},{x:ut,y:0},{x:0,y:ht},{x:ut,y:ht}],yt=createPathFromPoints(gt),xt=pt.path(yt,mt),bt=ct.insert(()=>xt,":first-child");return bt.attr("class","basic label-container"),ft&&rt.look!=="handDrawn"&&bt.selectChildren("path").attr("style",ft),lt&&rt.look!=="handDrawn"&&bt.selectChildren("path").attr("style",lt),bt.attr("transform",`translate(${-ut/2}, ${-ht/2})`),updateNodeBounds(rt,bt),rt.intersect=function(_t){return log.info("Pill intersect",rt,{points:gt}),intersect_default.polygon(rt,gt,_t)},ct}__name(hourglass,"hourglass");async function icon(Ye,rt,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(rt);rt.labelStyle=ct;const ut=rt.assetHeight??48,ht=rt.assetWidth??48,ft=Math.max(ut,ht),pt=lt?.wrappingWidth;rt.width=Math.max(ft,pt??0);const{shapeSvg:mt,bbox:gt,label:yt}=await labelHelper(Ye,rt,"icon-shape default"),xt=rt.pos==="t",bt=ft,_t=ft,{nodeBorder:Ct}=it,{stylesMap:kt}=compileStyles(rt),St=-_t/2,Rt=-bt/2,Tt=rt.label?8:0,Mt=at.svg(mt),Pt=userNodeOverrides(rt,{stroke:"none",fill:"none"});rt.look!=="handDrawn"&&(Pt.roughness=0,Pt.fillStyle="solid");const It=Mt.rectangle(St,Rt,_t,bt,Pt),Lt=Math.max(_t,gt.width),Ot=bt+gt.height+Tt,Ft=Mt.rectangle(-Lt/2,-Ot/2,Lt,Ot,{...Pt,fill:"transparent",stroke:"none"}),Ut=mt.insert(()=>It,":first-child"),Wt=mt.insert(()=>Ft);if(rt.icon){const Kt=mt.append("g");Kt.html(`<g>${await getIconSVG(rt.icon,{height:ft,width:ft,fallbackPrefix:""})}</g>`);const Qt=Kt.node().getBBox(),Zt=Qt.width,Vt=Qt.height,$t=Qt.x,zt=Qt.y;Kt.attr("transform",`translate(${-Zt/2-$t},${xt?gt.height/2+Tt/2-Vt/2-zt:-gt.height/2-Tt/2-Vt/2-zt})`),Kt.attr("style",`color: ${kt.get("stroke")??Ct};`)}return yt.attr("transform",`translate(${-gt.width/2-(gt.x-(gt.left??0))},${xt?-Ot/2:Ot/2-gt.height})`),Ut.attr("transform",`translate(0,${xt?gt.height/2+Tt/2:-gt.height/2-Tt/2})`),updateNodeBounds(rt,Wt),rt.intersect=function(Kt){if(log.info("iconSquare intersect",rt,Kt),!rt.label)return intersect_default.rect(rt,Kt);const Qt=rt.x??0,Zt=rt.y??0,Vt=rt.height??0;let $t=[];return xt?$t=[{x:Qt-gt.width/2,y:Zt-Vt/2},{x:Qt+gt.width/2,y:Zt-Vt/2},{x:Qt+gt.width/2,y:Zt-Vt/2+gt.height+Tt},{x:Qt+_t/2,y:Zt-Vt/2+gt.height+Tt},{x:Qt+_t/2,y:Zt+Vt/2},{x:Qt-_t/2,y:Zt+Vt/2},{x:Qt-_t/2,y:Zt-Vt/2+gt.height+Tt},{x:Qt-gt.width/2,y:Zt-Vt/2+gt.height+Tt}]:$t=[{x:Qt-_t/2,y:Zt-Vt/2},{x:Qt+_t/2,y:Zt-Vt/2},{x:Qt+_t/2,y:Zt-Vt/2+bt},{x:Qt+gt.width/2,y:Zt-Vt/2+bt},{x:Qt+gt.width/2/2,y:Zt+Vt/2},{x:Qt-gt.width/2,y:Zt+Vt/2},{x:Qt-gt.width/2,y:Zt-Vt/2+bt},{x:Qt-_t/2,y:Zt-Vt/2+bt}],intersect_default.polygon(rt,$t,Kt)},mt}__name(icon,"icon");async function iconCircle(Ye,rt,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(rt);rt.labelStyle=ct;const ut=rt.assetHeight??48,ht=rt.assetWidth??48,ft=Math.max(ut,ht),pt=lt?.wrappingWidth;rt.width=Math.max(ft,pt??0);const{shapeSvg:mt,bbox:gt,label:yt}=await labelHelper(Ye,rt,"icon-shape default"),xt=20,bt=rt.label?8:0,_t=rt.pos==="t",{nodeBorder:Ct,mainBkg:kt}=it,{stylesMap:St}=compileStyles(rt),Rt=at.svg(mt),Tt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Tt.roughness=0,Tt.fillStyle="solid");const Mt=St.get("fill");Tt.stroke=Mt??kt;const Pt=mt.append("g");rt.icon&&Pt.html(`<g>${await getIconSVG(rt.icon,{height:ft,width:ft,fallbackPrefix:""})}</g>`);const It=Pt.node().getBBox(),Lt=It.width,Ot=It.height,Ft=It.x,Ut=It.y,Wt=Math.max(Lt,Ot)*Math.SQRT2+xt*2,Kt=Rt.circle(0,0,Wt,Tt),Qt=Math.max(Wt,gt.width),Zt=Wt+gt.height+bt,Vt=Rt.rectangle(-Qt/2,-Zt/2,Qt,Zt,{...Tt,fill:"transparent",stroke:"none"}),$t=mt.insert(()=>Kt,":first-child"),zt=mt.insert(()=>Vt);return Pt.attr("transform",`translate(${-Lt/2-Ft},${_t?gt.height/2+bt/2-Ot/2-Ut:-gt.height/2-bt/2-Ot/2-Ut})`),Pt.attr("style",`color: ${St.get("stroke")??Ct};`),yt.attr("transform",`translate(${-gt.width/2-(gt.x-(gt.left??0))},${_t?-Zt/2:Zt/2-gt.height})`),$t.attr("transform",`translate(0,${_t?gt.height/2+bt/2:-gt.height/2-bt/2})`),updateNodeBounds(rt,zt),rt.intersect=function(Nt){return log.info("iconSquare intersect",rt,Nt),intersect_default.rect(rt,Nt)},mt}__name(iconCircle,"iconCircle");async function iconRounded(Ye,rt,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(rt);rt.labelStyle=ct;const ut=rt.assetHeight??48,ht=rt.assetWidth??48,ft=Math.max(ut,ht),pt=lt?.wrappingWidth;rt.width=Math.max(ft,pt??0);const{shapeSvg:mt,bbox:gt,halfPadding:yt,label:xt}=await labelHelper(Ye,rt,"icon-shape default"),bt=rt.pos==="t",_t=ft+yt*2,Ct=ft+yt*2,{nodeBorder:kt,mainBkg:St}=it,{stylesMap:Rt}=compileStyles(rt),Tt=-Ct/2,Mt=-_t/2,Pt=rt.label?8:0,It=at.svg(mt),Lt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Lt.roughness=0,Lt.fillStyle="solid");const Ot=Rt.get("fill");Lt.stroke=Ot??St;const Ft=It.path(createRoundedRectPathD(Tt,Mt,Ct,_t,5),Lt),Ut=Math.max(Ct,gt.width),Wt=_t+gt.height+Pt,Kt=It.rectangle(-Ut/2,-Wt/2,Ut,Wt,{...Lt,fill:"transparent",stroke:"none"}),Qt=mt.insert(()=>Ft,":first-child").attr("class","icon-shape2"),Zt=mt.insert(()=>Kt);if(rt.icon){const Vt=mt.append("g");Vt.html(`<g>${await getIconSVG(rt.icon,{height:ft,width:ft,fallbackPrefix:""})}</g>`);const $t=Vt.node().getBBox(),zt=$t.width,Nt=$t.height,qt=$t.x,Gt=$t.y;Vt.attr("transform",`translate(${-zt/2-qt},${bt?gt.height/2+Pt/2-Nt/2-Gt:-gt.height/2-Pt/2-Nt/2-Gt})`),Vt.attr("style",`color: ${Rt.get("stroke")??kt};`)}return xt.attr("transform",`translate(${-gt.width/2-(gt.x-(gt.left??0))},${bt?-Wt/2:Wt/2-gt.height})`),Qt.attr("transform",`translate(0,${bt?gt.height/2+Pt/2:-gt.height/2-Pt/2})`),updateNodeBounds(rt,Zt),rt.intersect=function(Vt){if(log.info("iconSquare intersect",rt,Vt),!rt.label)return intersect_default.rect(rt,Vt);const $t=rt.x??0,zt=rt.y??0,Nt=rt.height??0;let qt=[];return bt?qt=[{x:$t-gt.width/2,y:zt-Nt/2},{x:$t+gt.width/2,y:zt-Nt/2},{x:$t+gt.width/2,y:zt-Nt/2+gt.height+Pt},{x:$t+Ct/2,y:zt-Nt/2+gt.height+Pt},{x:$t+Ct/2,y:zt+Nt/2},{x:$t-Ct/2,y:zt+Nt/2},{x:$t-Ct/2,y:zt-Nt/2+gt.height+Pt},{x:$t-gt.width/2,y:zt-Nt/2+gt.height+Pt}]:qt=[{x:$t-Ct/2,y:zt-Nt/2},{x:$t+Ct/2,y:zt-Nt/2},{x:$t+Ct/2,y:zt-Nt/2+_t},{x:$t+gt.width/2,y:zt-Nt/2+_t},{x:$t+gt.width/2/2,y:zt+Nt/2},{x:$t-gt.width/2,y:zt+Nt/2},{x:$t-gt.width/2,y:zt-Nt/2+_t},{x:$t-Ct/2,y:zt-Nt/2+_t}],intersect_default.polygon(rt,qt,Vt)},mt}__name(iconRounded,"iconRounded");async function iconSquare(Ye,rt,{config:{themeVariables:it,flowchart:lt}}){const{labelStyles:ct}=styles2String(rt);rt.labelStyle=ct;const ut=rt.assetHeight??48,ht=rt.assetWidth??48,ft=Math.max(ut,ht),pt=lt?.wrappingWidth;rt.width=Math.max(ft,pt??0);const{shapeSvg:mt,bbox:gt,halfPadding:yt,label:xt}=await labelHelper(Ye,rt,"icon-shape default"),bt=rt.pos==="t",_t=ft+yt*2,Ct=ft+yt*2,{nodeBorder:kt,mainBkg:St}=it,{stylesMap:Rt}=compileStyles(rt),Tt=-Ct/2,Mt=-_t/2,Pt=rt.label?8:0,It=at.svg(mt),Lt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Lt.roughness=0,Lt.fillStyle="solid");const Ot=Rt.get("fill");Lt.stroke=Ot??St;const Ft=It.path(createRoundedRectPathD(Tt,Mt,Ct,_t,.1),Lt),Ut=Math.max(Ct,gt.width),Wt=_t+gt.height+Pt,Kt=It.rectangle(-Ut/2,-Wt/2,Ut,Wt,{...Lt,fill:"transparent",stroke:"none"}),Qt=mt.insert(()=>Ft,":first-child"),Zt=mt.insert(()=>Kt);if(rt.icon){const Vt=mt.append("g");Vt.html(`<g>${await getIconSVG(rt.icon,{height:ft,width:ft,fallbackPrefix:""})}</g>`);const $t=Vt.node().getBBox(),zt=$t.width,Nt=$t.height,qt=$t.x,Gt=$t.y;Vt.attr("transform",`translate(${-zt/2-qt},${bt?gt.height/2+Pt/2-Nt/2-Gt:-gt.height/2-Pt/2-Nt/2-Gt})`),Vt.attr("style",`color: ${Rt.get("stroke")??kt};`)}return xt.attr("transform",`translate(${-gt.width/2-(gt.x-(gt.left??0))},${bt?-Wt/2:Wt/2-gt.height})`),Qt.attr("transform",`translate(0,${bt?gt.height/2+Pt/2:-gt.height/2-Pt/2})`),updateNodeBounds(rt,Zt),rt.intersect=function(Vt){if(log.info("iconSquare intersect",rt,Vt),!rt.label)return intersect_default.rect(rt,Vt);const $t=rt.x??0,zt=rt.y??0,Nt=rt.height??0;let qt=[];return bt?qt=[{x:$t-gt.width/2,y:zt-Nt/2},{x:$t+gt.width/2,y:zt-Nt/2},{x:$t+gt.width/2,y:zt-Nt/2+gt.height+Pt},{x:$t+Ct/2,y:zt-Nt/2+gt.height+Pt},{x:$t+Ct/2,y:zt+Nt/2},{x:$t-Ct/2,y:zt+Nt/2},{x:$t-Ct/2,y:zt-Nt/2+gt.height+Pt},{x:$t-gt.width/2,y:zt-Nt/2+gt.height+Pt}]:qt=[{x:$t-Ct/2,y:zt-Nt/2},{x:$t+Ct/2,y:zt-Nt/2},{x:$t+Ct/2,y:zt-Nt/2+_t},{x:$t+gt.width/2,y:zt-Nt/2+_t},{x:$t+gt.width/2/2,y:zt+Nt/2},{x:$t-gt.width/2,y:zt+Nt/2},{x:$t-gt.width/2,y:zt-Nt/2+_t},{x:$t-Ct/2,y:zt-Nt/2+_t}],intersect_default.polygon(rt,qt,Vt)},mt}__name(iconSquare,"iconSquare");async function imageSquare(Ye,rt,{config:{flowchart:it}}){const lt=new Image;lt.src=rt?.img??"",await lt.decode();const ct=Number(lt.naturalWidth.toString().replace("px","")),ut=Number(lt.naturalHeight.toString().replace("px",""));rt.imageAspectRatio=ct/ut;const{labelStyles:ht}=styles2String(rt);rt.labelStyle=ht;const ft=it?.wrappingWidth;rt.defaultWidth=it?.wrappingWidth;const pt=Math.max(rt.label?ft??0:0,rt?.assetWidth??ct),mt=rt.constraint==="on"&&rt?.assetHeight?rt.assetHeight*rt.imageAspectRatio:pt,gt=rt.constraint==="on"?mt/rt.imageAspectRatio:rt?.assetHeight??ut;rt.width=Math.max(mt,ft??0);const{shapeSvg:yt,bbox:xt,label:bt}=await labelHelper(Ye,rt,"image-shape default"),_t=rt.pos==="t",Ct=-mt/2,kt=-gt/2,St=rt.label?8:0,Rt=at.svg(yt),Tt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Tt.roughness=0,Tt.fillStyle="solid");const Mt=Rt.rectangle(Ct,kt,mt,gt,Tt),Pt=Math.max(mt,xt.width),It=gt+xt.height+St,Lt=Rt.rectangle(-Pt/2,-It/2,Pt,It,{...Tt,fill:"none",stroke:"none"}),Ot=yt.insert(()=>Mt,":first-child"),Ft=yt.insert(()=>Lt);if(rt.img){const Ut=yt.append("image");Ut.attr("href",rt.img),Ut.attr("width",mt),Ut.attr("height",gt),Ut.attr("preserveAspectRatio","none"),Ut.attr("transform",`translate(${-mt/2},${_t?It/2-gt:-It/2})`)}return bt.attr("transform",`translate(${-xt.width/2-(xt.x-(xt.left??0))},${_t?-gt/2-xt.height/2-St/2:gt/2-xt.height/2+St/2})`),Ot.attr("transform",`translate(0,${_t?xt.height/2+St/2:-xt.height/2-St/2})`),updateNodeBounds(rt,Ft),rt.intersect=function(Ut){if(log.info("iconSquare intersect",rt,Ut),!rt.label)return intersect_default.rect(rt,Ut);const Wt=rt.x??0,Kt=rt.y??0,Qt=rt.height??0;let Zt=[];return _t?Zt=[{x:Wt-xt.width/2,y:Kt-Qt/2},{x:Wt+xt.width/2,y:Kt-Qt/2},{x:Wt+xt.width/2,y:Kt-Qt/2+xt.height+St},{x:Wt+mt/2,y:Kt-Qt/2+xt.height+St},{x:Wt+mt/2,y:Kt+Qt/2},{x:Wt-mt/2,y:Kt+Qt/2},{x:Wt-mt/2,y:Kt-Qt/2+xt.height+St},{x:Wt-xt.width/2,y:Kt-Qt/2+xt.height+St}]:Zt=[{x:Wt-mt/2,y:Kt-Qt/2},{x:Wt+mt/2,y:Kt-Qt/2},{x:Wt+mt/2,y:Kt-Qt/2+gt},{x:Wt+xt.width/2,y:Kt-Qt/2+gt},{x:Wt+xt.width/2/2,y:Kt+Qt/2},{x:Wt-xt.width/2,y:Kt+Qt/2},{x:Wt-xt.width/2,y:Kt-Qt/2+gt},{x:Wt-mt/2,y:Kt-Qt/2+gt}],intersect_default.polygon(rt,Zt,Ut)},yt}__name(imageSquare,"imageSquare");async function inv_trapezoid(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),ft=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),pt=[{x:0,y:0},{x:ht,y:0},{x:ht+3*ft/6,y:-ft},{x:-3*ft/6,y:-ft}];let mt;const{cssStyles:gt}=rt;if(rt.look==="handDrawn"){const yt=at.svg(ct),xt=userNodeOverrides(rt,{}),bt=createPathFromPoints(pt),_t=yt.path(bt,xt);mt=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-ht/2}, ${ft/2})`),gt&&mt.attr("style",gt)}else mt=insertPolygonShape(ct,ht,ft,pt);return lt&&mt.attr("style",lt),rt.width=ht,rt.height=ft,updateNodeBounds(rt,mt),rt.intersect=function(yt){return intersect_default.polygon(rt,pt,yt)},ct}__name(inv_trapezoid,"inv_trapezoid");async function drawRect(Ye,rt,it){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.labelStyle=lt;const{shapeSvg:ut,bbox:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ht.width+it.labelPaddingX*2,rt?.width||0),pt=Math.max(ht.height+it.labelPaddingY*2,rt?.height||0),mt=-ft/2,gt=-pt/2;let yt,{rx:xt,ry:bt}=rt;const{cssStyles:_t}=rt;if(it?.rx&&it.ry&&(xt=it.rx,bt=it.ry),rt.look==="handDrawn"){const Ct=at.svg(ut),kt=userNodeOverrides(rt,{}),St=xt||bt?Ct.path(createRoundedRectPathD(mt,gt,ft,pt,xt||0),kt):Ct.rectangle(mt,gt,ft,pt,kt);yt=ut.insert(()=>St,":first-child"),yt.attr("class","basic label-container").attr("style",handleUndefinedAttr(_t))}else yt=ut.insert("rect",":first-child"),yt.attr("class","basic label-container").attr("style",ct).attr("rx",handleUndefinedAttr(xt)).attr("ry",handleUndefinedAttr(bt)).attr("x",mt).attr("y",gt).attr("width",ft).attr("height",pt);return updateNodeBounds(rt,yt),rt.calcIntersect=function(Ct,kt){return intersect_default.rect(Ct,kt)},rt.intersect=function(Ct){return intersect_default.rect(rt,Ct)},ut}__name(drawRect,"drawRect");async function labelRect(Ye,rt){const{shapeSvg:it,bbox:lt,label:ct}=await labelHelper(Ye,rt,"label"),ut=it.insert("rect",":first-child");return ut.attr("width",.1).attr("height",.1),it.attr("class","label edgeLabel"),ct.attr("transform",`translate(${-(lt.width/2)-(lt.x-(lt.left??0))}, ${-(lt.height/2)-(lt.y-(lt.top??0))})`),updateNodeBounds(rt,ut),rt.intersect=function(pt){return intersect_default.rect(rt,pt)},it}__name(labelRect,"labelRect");async function lean_left(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=Math.max(ut.width+(rt.padding??0),rt?.width??0),ft=Math.max(ut.height+(rt.padding??0),rt?.height??0),pt=[{x:0,y:0},{x:ht+3*ft/6,y:0},{x:ht,y:-ft},{x:-(3*ft)/6,y:-ft}];let mt;const{cssStyles:gt}=rt;if(rt.look==="handDrawn"){const yt=at.svg(ct),xt=userNodeOverrides(rt,{}),bt=createPathFromPoints(pt),_t=yt.path(bt,xt);mt=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-ht/2}, ${ft/2})`),gt&&mt.attr("style",gt)}else mt=insertPolygonShape(ct,ht,ft,pt);return lt&&mt.attr("style",lt),rt.width=ht,rt.height=ft,updateNodeBounds(rt,mt),rt.intersect=function(yt){return intersect_default.polygon(rt,pt,yt)},ct}__name(lean_left,"lean_left");async function lean_right(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=Math.max(ut.width+(rt.padding??0),rt?.width??0),ft=Math.max(ut.height+(rt.padding??0),rt?.height??0),pt=[{x:-3*ft/6,y:0},{x:ht,y:0},{x:ht+3*ft/6,y:-ft},{x:0,y:-ft}];let mt;const{cssStyles:gt}=rt;if(rt.look==="handDrawn"){const yt=at.svg(ct),xt=userNodeOverrides(rt,{}),bt=createPathFromPoints(pt),_t=yt.path(bt,xt);mt=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-ht/2}, ${ft/2})`),gt&&mt.attr("style",gt)}else mt=insertPolygonShape(ct,ht,ft,pt);return lt&&mt.attr("style",lt),rt.width=ht,rt.height=ft,updateNodeBounds(rt,mt),rt.intersect=function(yt){return intersect_default.polygon(rt,pt,yt)},ct}__name(lean_right,"lean_right");function lightningBolt(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.label="",rt.labelStyle=it;const ct=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId??rt.id),{cssStyles:ut}=rt,ht=Math.max(35,rt?.width??0),ft=Math.max(35,rt?.height??0),pt=7,mt=[{x:ht,y:0},{x:0,y:ft+pt/2},{x:ht-2*pt,y:ft+pt/2},{x:0,y:2*ft},{x:ht,y:ft-pt/2},{x:2*pt,y:ft-pt/2}],gt=at.svg(ct),yt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=createPathFromPoints(mt),bt=gt.path(xt,yt),_t=ct.insert(()=>bt,":first-child");return ut&&rt.look!=="handDrawn"&&_t.selectAll("path").attr("style",ut),lt&&rt.look!=="handDrawn"&&_t.selectAll("path").attr("style",lt),_t.attr("transform",`translate(-${ht/2},${-ft})`),updateNodeBounds(rt,_t),rt.intersect=function(Ct){return log.info("lightningBolt intersect",rt,Ct),intersect_default.polygon(rt,mt,Ct)},ct}__name(lightningBolt,"lightningBolt");var createCylinderPathD2=__name((Ye,rt,it,lt,ct,ut,ht)=>[`M${Ye},${rt+ut}`,`a${ct},${ut} 0,0,0 ${it},0`,`a${ct},${ut} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ut} 0,0,0 ${it},0`,`l0,${-lt}`,`M${Ye},${rt+ut+ht}`,`a${ct},${ut} 0,0,0 ${it},0`].join(" "),"createCylinderPathD"),createOuterCylinderPathD2=__name((Ye,rt,it,lt,ct,ut,ht)=>[`M${Ye},${rt+ut}`,`M${Ye+it},${rt+ut}`,`a${ct},${ut} 0,0,0 ${-it},0`,`l0,${lt}`,`a${ct},${ut} 0,0,0 ${it},0`,`l0,${-lt}`,`M${Ye},${rt+ut+ht}`,`a${ct},${ut} 0,0,0 ${it},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD2=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye-it/2},${-lt/2}`,`a${ct},${ut} 0,0,0 ${it},0`].join(" "),"createInnerCylinderPathD");async function linedCylinder(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0),rt.width??0),pt=ft/2,mt=pt/(2.5+ft/50),gt=Math.max(ut.height+mt+(rt.padding??0),rt.height??0),yt=gt*.1;let xt;const{cssStyles:bt}=rt;if(rt.look==="handDrawn"){const _t=at.svg(ct),Ct=createOuterCylinderPathD2(0,0,ft,gt,pt,mt,yt),kt=createInnerCylinderPathD2(0,mt,ft,gt,pt,mt),St=userNodeOverrides(rt,{}),Rt=_t.path(Ct,St),Tt=_t.path(kt,St);ct.insert(()=>Tt,":first-child").attr("class","line"),xt=ct.insert(()=>Rt,":first-child"),xt.attr("class","basic label-container"),bt&&xt.attr("style",bt)}else{const _t=createCylinderPathD2(0,0,ft,gt,pt,mt,yt);xt=ct.insert("path",":first-child").attr("d",_t).attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)).attr("style",lt)}return xt.attr("label-offset-y",mt),xt.attr("transform",`translate(${-ft/2}, ${-(gt/2+mt)})`),updateNodeBounds(rt,xt),ht.attr("transform",`translate(${-(ut.width/2)-(ut.x-(ut.left??0))}, ${-(ut.height/2)+mt-(ut.y-(ut.top??0))})`),rt.intersect=function(_t){const Ct=intersect_default.rect(rt,_t),kt=Ct.x-(rt.x??0);if(pt!=0&&(Math.abs(kt)<(rt.width??0)/2||Math.abs(kt)==(rt.width??0)/2&&Math.abs(Ct.y-(rt.y??0))>(rt.height??0)/2-mt)){let St=mt*mt*(1-kt*kt/(pt*pt));St>0&&(St=Math.sqrt(St)),St=mt-St,_t.y-(rt.y??0)>0&&(St=-St),Ct.y+=St}return Ct},ct}__name(linedCylinder,"linedCylinder");async function linedWaveEdgedRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=pt/4,gt=pt+mt,{cssStyles:yt}=rt,xt=at.svg(ct),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=[{x:-ft/2-ft/2*.1,y:-gt/2},{x:-ft/2-ft/2*.1,y:gt/2},...generateFullSineWavePoints(-ft/2-ft/2*.1,gt/2,ft/2+ft/2*.1,gt/2,mt,.8),{x:ft/2+ft/2*.1,y:-gt/2},{x:-ft/2-ft/2*.1,y:-gt/2},{x:-ft/2,y:-gt/2},{x:-ft/2,y:gt/2*1.1},{x:-ft/2,y:-gt/2}],Ct=xt.polygon(_t.map(St=>[St.x,St.y]),bt),kt=ct.insert(()=>Ct,":first-child");return kt.attr("class","basic label-container"),yt&&rt.look!=="handDrawn"&&kt.selectAll("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&kt.selectAll("path").attr("style",lt),kt.attr("transform",`translate(0,${-mt/2})`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)+ft/2*.1/2-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)-mt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,kt),rt.intersect=function(St){return intersect_default.polygon(rt,_t,St)},ct}__name(linedWaveEdgedRect,"linedWaveEdgedRect");async function multiRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=5,gt=-ft/2,yt=-pt/2,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{}),Ct=[{x:gt-mt,y:yt+mt},{x:gt-mt,y:yt+pt+mt},{x:gt+ft-mt,y:yt+pt+mt},{x:gt+ft-mt,y:yt+pt},{x:gt+ft,y:yt+pt},{x:gt+ft,y:yt+pt-mt},{x:gt+ft+mt,y:yt+pt-mt},{x:gt+ft+mt,y:yt-mt},{x:gt+mt,y:yt-mt},{x:gt+mt,y:yt},{x:gt,y:yt},{x:gt,y:yt+mt}],kt=[{x:gt,y:yt+mt},{x:gt+ft-mt,y:yt+mt},{x:gt+ft-mt,y:yt+pt},{x:gt+ft,y:yt+pt},{x:gt+ft,y:yt},{x:gt,y:yt}];rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const St=createPathFromPoints(Ct),Rt=bt.path(St,_t),Tt=createPathFromPoints(kt),Mt=bt.path(Tt,{..._t,fill:"none"}),Pt=ct.insert(()=>Mt,":first-child");return Pt.insert(()=>Rt,":first-child"),Pt.attr("class","basic label-container"),xt&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",lt),ht.attr("transform",`translate(${-(ut.width/2)-mt-(ut.x-(ut.left??0))}, ${-(ut.height/2)+mt-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Pt),rt.intersect=function(It){return intersect_default.polygon(rt,Ct,It)},ct}__name(multiRect,"multiRect");async function multiWaveEdgedRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=pt/4,gt=pt+mt,yt=-ft/2,xt=-gt/2,bt=5,{cssStyles:_t}=rt,Ct=generateFullSineWavePoints(yt-bt,xt+gt+bt,yt+ft-bt,xt+gt+bt,mt,.8),kt=Ct?.[Ct.length-1],St=[{x:yt-bt,y:xt+bt},{x:yt-bt,y:xt+gt+bt},...Ct,{x:yt+ft-bt,y:kt.y-bt},{x:yt+ft,y:kt.y-bt},{x:yt+ft,y:kt.y-2*bt},{x:yt+ft+bt,y:kt.y-2*bt},{x:yt+ft+bt,y:xt-bt},{x:yt+bt,y:xt-bt},{x:yt+bt,y:xt},{x:yt,y:xt},{x:yt,y:xt+bt}],Rt=[{x:yt,y:xt+bt},{x:yt+ft-bt,y:xt+bt},{x:yt+ft-bt,y:kt.y-bt},{x:yt+ft,y:kt.y-bt},{x:yt+ft,y:xt},{x:yt,y:xt}],Tt=at.svg(ct),Mt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Mt.roughness=0,Mt.fillStyle="solid");const Pt=createPathFromPoints(St),It=Tt.path(Pt,Mt),Lt=createPathFromPoints(Rt),Ot=Tt.path(Lt,Mt),Ft=ct.insert(()=>It,":first-child");return Ft.insert(()=>Ot),Ft.attr("class","basic label-container"),_t&&rt.look!=="handDrawn"&&Ft.selectAll("path").attr("style",_t),lt&&rt.look!=="handDrawn"&&Ft.selectAll("path").attr("style",lt),Ft.attr("transform",`translate(0,${-mt/2})`),ht.attr("transform",`translate(${-(ut.width/2)-bt-(ut.x-(ut.left??0))}, ${-(ut.height/2)+bt-mt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Ft),rt.intersect=function(Ut){return intersect_default.polygon(rt,St,Ut)},ct}__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle");async function note(Ye,rt,{config:{themeVariables:it}}){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.labelStyle=lt,rt.useHtmlLabels||getConfig().flowchart?.htmlLabels!==!1||(rt.centerLabel=!0);const{shapeSvg:ht,bbox:ft,label:pt}=await labelHelper(Ye,rt,getNodeClasses(rt)),mt=Math.max(ft.width+(rt.padding??0)*2,rt?.width??0),gt=Math.max(ft.height+(rt.padding??0)*2,rt?.height??0),yt=-mt/2,xt=-gt/2,{cssStyles:bt}=rt,_t=at.svg(ht),Ct=userNodeOverrides(rt,{fill:it.noteBkgColor,stroke:it.noteBorderColor});rt.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const kt=_t.rectangle(yt,xt,mt,gt,Ct),St=ht.insert(()=>kt,":first-child");return St.attr("class","basic label-container"),bt&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",bt),ct&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",ct),pt.attr("transform",`translate(${-ft.width/2-(ft.x-(ft.left??0))}, ${-(ft.height/2)-(ft.y-(ft.top??0))})`),updateNodeBounds(rt,St),rt.intersect=function(Rt){return intersect_default.rect(rt,Rt)},ht}__name(note,"note");var createDecisionBoxPathD=__name((Ye,rt,it)=>[`M${Ye+it/2},${rt}`,`L${Ye+it},${rt-it/2}`,`L${Ye+it/2},${rt-it}`,`L${Ye},${rt-it/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function question(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.width+rt.padding,ft=ut.height+rt.padding,pt=ht+ft,mt=.5,gt=[{x:pt/2,y:0},{x:pt,y:-pt/2},{x:pt/2,y:-pt},{x:0,y:-pt/2}];let yt;const{cssStyles:xt}=rt;if(rt.look==="handDrawn"){const bt=at.svg(ct),_t=userNodeOverrides(rt,{}),Ct=createDecisionBoxPathD(0,0,pt),kt=bt.path(Ct,_t);yt=ct.insert(()=>kt,":first-child").attr("transform",`translate(${-pt/2+mt}, ${pt/2})`),xt&&yt.attr("style",xt)}else yt=insertPolygonShape(ct,pt,pt,gt),yt.attr("transform",`translate(${-pt/2+mt}, ${pt/2})`);return lt&&yt.attr("style",lt),updateNodeBounds(rt,yt),rt.calcIntersect=function(bt,_t){const Ct=bt.width,kt=[{x:Ct/2,y:0},{x:Ct,y:-Ct/2},{x:Ct/2,y:-Ct},{x:0,y:-Ct/2}],St=intersect_default.polygon(bt,kt,_t);return{x:St.x-.5,y:St.y-.5}},rt.intersect=function(bt){return this.calcIntersect(rt,bt)},ct}__name(question,"question");async function rect_left_inv_arrow(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0),rt?.width??0),pt=Math.max(ut.height+(rt.padding??0),rt?.height??0),mt=-ft/2,gt=-pt/2,yt=gt/2,xt=[{x:mt+yt,y:gt},{x:mt,y:0},{x:mt+yt,y:-gt},{x:-mt,y:-gt},{x:-mt,y:gt}],{cssStyles:bt}=rt,_t=at.svg(ct),Ct=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const kt=createPathFromPoints(xt),St=_t.path(kt,Ct),Rt=ct.insert(()=>St,":first-child");return Rt.attr("class","basic label-container"),bt&&rt.look!=="handDrawn"&&Rt.selectAll("path").attr("style",bt),lt&&rt.look!=="handDrawn"&&Rt.selectAll("path").attr("style",lt),Rt.attr("transform",`translate(${-yt/2},0)`),ht.attr("transform",`translate(${-yt/2-ut.width/2-(ut.x-(ut.left??0))}, ${-(ut.height/2)-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Rt),rt.intersect=function(Tt){return intersect_default.polygon(rt,xt,Tt)},ct}__name(rect_left_inv_arrow,"rect_left_inv_arrow");async function rectWithTitle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;let ct;rt.cssClasses?ct="node "+rt.cssClasses:ct="node default";const ut=Ye.insert("g").attr("class",ct).attr("id",rt.domId||rt.id),ht=ut.insert("g"),ft=ut.insert("g").attr("class","label").attr("style",lt),pt=rt.description,mt=rt.label,gt=ft.node().appendChild(await createLabel_default(mt,rt.labelStyle,!0,!0));let yt={width:0,height:0};if(evaluate(getConfig2()?.flowchart?.htmlLabels)){const Ot=gt.children[0],Ft=select(gt);yt=Ot.getBoundingClientRect(),Ft.attr("width",yt.width),Ft.attr("height",yt.height)}log.info("Text 2",pt);const xt=pt||[],bt=gt.getBBox(),_t=ft.node().appendChild(await createLabel_default(xt.join?xt.join("<br/>"):xt,rt.labelStyle,!0,!0)),Ct=_t.children[0],kt=select(_t);yt=Ct.getBoundingClientRect(),kt.attr("width",yt.width),kt.attr("height",yt.height);const St=(rt.padding||0)/2;select(_t).attr("transform","translate( "+(yt.width>bt.width?0:(bt.width-yt.width)/2)+", "+(bt.height+St+5)+")"),select(gt).attr("transform","translate( "+(yt.width<bt.width?0:-(bt.width-yt.width)/2)+", 0)"),yt=ft.node().getBBox(),ft.attr("transform","translate("+-yt.width/2+", "+(-yt.height/2-St+3)+")");const Rt=yt.width+(rt.padding||0),Tt=yt.height+(rt.padding||0),Mt=-yt.width/2-St,Pt=-yt.height/2-St;let It,Lt;if(rt.look==="handDrawn"){const Ot=at.svg(ut),Ft=userNodeOverrides(rt,{}),Ut=Ot.path(createRoundedRectPathD(Mt,Pt,Rt,Tt,rt.rx||0),Ft),Wt=Ot.line(-yt.width/2-St,-yt.height/2-St+bt.height+St,yt.width/2+St,-yt.height/2-St+bt.height+St,Ft);Lt=ut.insert(()=>(log.debug("Rough node insert CXC",Ut),Wt),":first-child"),It=ut.insert(()=>(log.debug("Rough node insert CXC",Ut),Ut),":first-child")}else It=ht.insert("rect",":first-child"),Lt=ht.insert("line"),It.attr("class","outer title-state").attr("style",lt).attr("x",-yt.width/2-St).attr("y",-yt.height/2-St).attr("width",yt.width+(rt.padding||0)).attr("height",yt.height+(rt.padding||0)),Lt.attr("class","divider").attr("x1",-yt.width/2-St).attr("x2",yt.width/2+St).attr("y1",-yt.height/2-St+bt.height+St).attr("y2",-yt.height/2-St+bt.height+St);return updateNodeBounds(rt,It),rt.intersect=function(Ot){return intersect_default.rect(rt,Ot)},ut}__name(rectWithTitle,"rectWithTitle");function generateArcPoints2(Ye,rt,it,lt,ct,ut,ht){const pt=(Ye+it)/2,mt=(rt+lt)/2,gt=Math.atan2(lt-rt,it-Ye),yt=(it-Ye)/2,xt=(lt-rt)/2,bt=yt/ct,_t=xt/ut,Ct=Math.sqrt(bt**2+_t**2);if(Ct>1)throw new Error("The given radii are too small to create an arc between the points.");const kt=Math.sqrt(1-Ct**2),St=pt+kt*ut*Math.sin(gt)*(ht?-1:1),Rt=mt-kt*ct*Math.cos(gt)*(ht?-1:1),Tt=Math.atan2((rt-Rt)/ut,(Ye-St)/ct);let Pt=Math.atan2((lt-Rt)/ut,(it-St)/ct)-Tt;ht&&Pt<0&&(Pt+=2*Math.PI),!ht&&Pt>0&&(Pt-=2*Math.PI);const It=[];for(let Lt=0;Lt<20;Lt++){const Ot=Lt/19,Ft=Tt+Ot*Pt,Ut=St+ct*Math.cos(Ft),Wt=Rt+ut*Math.sin(Ft);It.push({x:Ut,y:Wt})}return It}__name(generateArcPoints2,"generateArcPoints");async function roundedRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=rt?.padding??0,ft=rt?.padding??0,pt=(rt?.width?rt?.width:ut.width)+ht*2,mt=(rt?.height?rt?.height:ut.height)+ft*2,gt=rt.radius||5,yt=rt.taper||5,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{});rt.stroke&&(_t.stroke=rt.stroke),rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const Ct=[{x:-pt/2+yt,y:-mt/2},{x:pt/2-yt,y:-mt/2},...generateArcPoints2(pt/2-yt,-mt/2,pt/2,-mt/2+yt,gt,gt,!0),{x:pt/2,y:-mt/2+yt},{x:pt/2,y:mt/2-yt},...generateArcPoints2(pt/2,mt/2-yt,pt/2-yt,mt/2,gt,gt,!0),{x:pt/2-yt,y:mt/2},{x:-pt/2+yt,y:mt/2},...generateArcPoints2(-pt/2+yt,mt/2,-pt/2,mt/2-yt,gt,gt,!0),{x:-pt/2,y:mt/2-yt},{x:-pt/2,y:-mt/2+yt},...generateArcPoints2(-pt/2,-mt/2+yt,-pt/2+yt,-mt/2,gt,gt,!0)],kt=createPathFromPoints(Ct),St=bt.path(kt,_t),Rt=ct.insert(()=>St,":first-child");return Rt.attr("class","basic label-container outer-path"),xt&&rt.look!=="handDrawn"&&Rt.selectChildren("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&Rt.selectChildren("path").attr("style",lt),updateNodeBounds(rt,Rt),rt.intersect=function(Tt){return intersect_default.polygon(rt,Ct,Tt)},ct}__name(roundedRect,"roundedRect");async function shadedProcess(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=rt?.padding??0,pt=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),mt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),gt=-ut.width/2-ft,yt=-ut.height/2-ft,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const Ct=[{x:gt,y:yt},{x:gt+pt+8,y:yt},{x:gt+pt+8,y:yt+mt},{x:gt-8,y:yt+mt},{x:gt-8,y:yt},{x:gt,y:yt},{x:gt,y:yt+mt}],kt=bt.polygon(Ct.map(Rt=>[Rt.x,Rt.y]),_t),St=ct.insert(()=>kt,":first-child");return St.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt)),lt&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),xt&&rt.look!=="handDrawn"&&St.selectAll("path").attr("style",lt),ht.attr("transform",`translate(${-pt/2+4+(rt.padding??0)-(ut.x-(ut.left??0))},${-mt/2+(rt.padding??0)-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,St),rt.intersect=function(Rt){return intersect_default.rect(rt,Rt)},ct}__name(shadedProcess,"shadedProcess");async function slopedRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=-ft/2,gt=-pt/2,{cssStyles:yt}=rt,xt=at.svg(ct),bt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(bt.roughness=0,bt.fillStyle="solid");const _t=[{x:mt,y:gt},{x:mt,y:gt+pt},{x:mt+ft,y:gt+pt},{x:mt+ft,y:gt-pt/2}],Ct=createPathFromPoints(_t),kt=xt.path(Ct,bt),St=ct.insert(()=>kt,":first-child");return St.attr("class","basic label-container"),yt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),St.attr("transform",`translate(0, ${pt/4})`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)-(ut.x-(ut.left??0))}, ${-pt/4+(rt.padding??0)-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,St),rt.intersect=function(Rt){return intersect_default.polygon(rt,_t,Rt)},ct}__name(slopedRect,"slopedRect");async function squareRect2(Ye,rt){const it={rx:0,ry:0,labelPaddingX:rt.labelPaddingX??(rt?.padding||0)*2,labelPaddingY:(rt?.padding||0)*1};return drawRect(Ye,rt,it)}__name(squareRect2,"squareRect");async function stadium(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.height+rt.padding,ft=ut.width+ht/4+rt.padding,pt=ht/2,{cssStyles:mt}=rt,gt=at.svg(ct),yt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=[{x:-ft/2+pt,y:-ht/2},{x:ft/2-pt,y:-ht/2},...generateCirclePoints(-ft/2+pt,0,pt,50,90,270),{x:ft/2-pt,y:ht/2},...generateCirclePoints(ft/2-pt,0,pt,50,270,450)],bt=createPathFromPoints(xt),_t=gt.path(bt,yt),Ct=ct.insert(()=>_t,":first-child");return Ct.attr("class","basic label-container outer-path"),mt&&rt.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",mt),lt&&rt.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",lt),updateNodeBounds(rt,Ct),rt.intersect=function(kt){return intersect_default.polygon(rt,xt,kt)},ct}__name(stadium,"stadium");async function state(Ye,rt){return drawRect(Ye,rt,{rx:5,ry:5})}__name(state,"state");function stateEnd(Ye,rt,{config:{themeVariables:it}}){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.labelStyle=lt;const{cssStyles:ut}=rt,{lineColor:ht,stateBorder:ft,nodeBorder:pt}=it,mt=Ye.insert("g").attr("class","node default").attr("id",rt.domId||rt.id),gt=at.svg(mt),yt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const xt=gt.circle(0,0,14,{...yt,stroke:ht,strokeWidth:2}),bt=ft??pt,_t=gt.circle(0,0,5,{...yt,fill:bt,stroke:bt,strokeWidth:2,fillStyle:"solid"}),Ct=mt.insert(()=>xt,":first-child");return Ct.insert(()=>_t),ut&&Ct.selectAll("path").attr("style",ut),ct&&Ct.selectAll("path").attr("style",ct),updateNodeBounds(rt,Ct),rt.intersect=function(kt){return intersect_default.circle(rt,7,kt)},mt}__name(stateEnd,"stateEnd");function stateStart(Ye,rt,{config:{themeVariables:it}}){const{lineColor:lt}=it,ct=Ye.insert("g").attr("class","node default").attr("id",rt.domId||rt.id);let ut;if(rt.look==="handDrawn"){const ft=at.svg(ct).circle(0,0,14,solidStateFill(lt));ut=ct.insert(()=>ft),ut.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else ut=ct.insert("circle",":first-child"),ut.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(rt,ut),rt.intersect=function(ht){return intersect_default.circle(rt,7,ht)},ct}__name(stateStart,"stateStart");async function subroutine(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=(rt?.padding||0)/2,ft=ut.width+rt.padding,pt=ut.height+rt.padding,mt=-ut.width/2-ht,gt=-ut.height/2-ht,yt=[{x:0,y:0},{x:ft,y:0},{x:ft,y:-pt},{x:0,y:-pt},{x:0,y:0},{x:-8,y:0},{x:ft+8,y:0},{x:ft+8,y:-pt},{x:-8,y:-pt},{x:-8,y:0}];if(rt.look==="handDrawn"){const xt=at.svg(ct),bt=userNodeOverrides(rt,{}),_t=xt.rectangle(mt-8,gt,ft+16,pt,bt),Ct=xt.line(mt,gt,mt,gt+pt,bt),kt=xt.line(mt+ft,gt,mt+ft,gt+pt,bt);ct.insert(()=>Ct,":first-child"),ct.insert(()=>kt,":first-child");const St=ct.insert(()=>_t,":first-child"),{cssStyles:Rt}=rt;St.attr("class","basic label-container").attr("style",handleUndefinedAttr(Rt)),updateNodeBounds(rt,St)}else{const xt=insertPolygonShape(ct,ft,pt,yt);lt&&xt.attr("style",lt),updateNodeBounds(rt,xt)}return rt.intersect=function(xt){return intersect_default.polygon(rt,yt,xt)},ct}__name(subroutine,"subroutine");async function taggedRect(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),ft=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),pt=-ht/2,mt=-ft/2,gt=.2*ft,yt=.2*ft,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{}),Ct=[{x:pt-gt/2,y:mt},{x:pt+ht+gt/2,y:mt},{x:pt+ht+gt/2,y:mt+ft},{x:pt-gt/2,y:mt+ft}],kt=[{x:pt+ht-gt/2,y:mt+ft},{x:pt+ht+gt/2,y:mt+ft},{x:pt+ht+gt/2,y:mt+ft-yt}];rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const St=createPathFromPoints(Ct),Rt=bt.path(St,_t),Tt=createPathFromPoints(kt),Mt=bt.path(Tt,{..._t,fillStyle:"solid"}),Pt=ct.insert(()=>Mt,":first-child");return Pt.insert(()=>Rt,":first-child"),Pt.attr("class","basic label-container"),xt&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",lt),updateNodeBounds(rt,Pt),rt.intersect=function(It){return intersect_default.polygon(rt,Ct,It)},ct}__name(taggedRect,"taggedRect");async function taggedWaveEdgedRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=pt/4,gt=.2*ft,yt=.2*pt,xt=pt+mt,{cssStyles:bt}=rt,_t=at.svg(ct),Ct=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const kt=[{x:-ft/2-ft/2*.1,y:xt/2},...generateFullSineWavePoints(-ft/2-ft/2*.1,xt/2,ft/2+ft/2*.1,xt/2,mt,.8),{x:ft/2+ft/2*.1,y:-xt/2},{x:-ft/2-ft/2*.1,y:-xt/2}],St=-ft/2+ft/2*.1,Rt=-xt/2-yt*.4,Tt=[{x:St+ft-gt,y:(Rt+pt)*1.4},{x:St+ft,y:Rt+pt-yt},{x:St+ft,y:(Rt+pt)*.9},...generateFullSineWavePoints(St+ft,(Rt+pt)*1.3,St+ft-gt,(Rt+pt)*1.5,-pt*.03,.5)],Mt=createPathFromPoints(kt),Pt=_t.path(Mt,Ct),It=createPathFromPoints(Tt),Lt=_t.path(It,{...Ct,fillStyle:"solid"}),Ot=ct.insert(()=>Lt,":first-child");return Ot.insert(()=>Pt,":first-child"),Ot.attr("class","basic label-container"),bt&&rt.look!=="handDrawn"&&Ot.selectAll("path").attr("style",bt),lt&&rt.look!=="handDrawn"&&Ot.selectAll("path").attr("style",lt),Ot.attr("transform",`translate(0,${-mt/2})`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)-mt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Ot),rt.intersect=function(Ft){return intersect_default.polygon(rt,kt,Ft)},ct}__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle");async function text$6(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=Math.max(ut.width+rt.padding,rt?.width||0),ft=Math.max(ut.height+rt.padding,rt?.height||0),pt=-ht/2,mt=-ft/2,gt=ct.insert("rect",":first-child");return gt.attr("class","text").attr("style",lt).attr("rx",0).attr("ry",0).attr("x",pt).attr("y",mt).attr("width",ht).attr("height",ft),updateNodeBounds(rt,gt),rt.intersect=function(yt){return intersect_default.rect(rt,yt)},ct}__name(text$6,"text");var createCylinderPathD3=__name((Ye,rt,it,lt,ct,ut)=>`M${Ye},${rt}
    a${ct},${ut} 0,0,1 0,${-lt}
    l${it},0
    a${ct},${ut} 0,0,1 0,${lt}
    M${it},${-lt}
    a${ct},${ut} 0,0,0 0,${lt}
    l${-it},0`,"createCylinderPathD"),createOuterCylinderPathD3=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye},${rt}`,`M${Ye+it},${rt}`,`a${ct},${ut} 0,0,0 0,${-lt}`,`l${-it},0`,`a${ct},${ut} 0,0,0 0,${lt}`,`l${it},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD3=__name((Ye,rt,it,lt,ct,ut)=>[`M${Ye+it/2},${-lt/2}`,`a${ct},${ut} 0,0,0 0,${lt}`].join(" "),"createInnerCylinderPathD");async function tiltedCylinder(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht,halfPadding:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=rt.look==="neo"?ft*2:ft,mt=ut.height+pt,gt=mt/2,yt=gt/(2.5+mt/50),xt=ut.width+yt+pt,{cssStyles:bt}=rt;let _t;if(rt.look==="handDrawn"){const Ct=at.svg(ct),kt=createOuterCylinderPathD3(0,0,xt,mt,yt,gt),St=createInnerCylinderPathD3(0,0,xt,mt,yt,gt),Rt=Ct.path(kt,userNodeOverrides(rt,{})),Tt=Ct.path(St,userNodeOverrides(rt,{fill:"none"}));_t=ct.insert(()=>Tt,":first-child"),_t=ct.insert(()=>Rt,":first-child"),_t.attr("class","basic label-container"),bt&&_t.attr("style",bt)}else{const Ct=createCylinderPathD3(0,0,xt,mt,yt,gt);_t=ct.insert("path",":first-child").attr("d",Ct).attr("class","basic label-container").attr("style",handleUndefinedAttr(bt)).attr("style",lt),_t.attr("class","basic label-container"),bt&&_t.selectAll("path").attr("style",bt),lt&&_t.selectAll("path").attr("style",lt)}return _t.attr("label-offset-x",yt),_t.attr("transform",`translate(${-xt/2}, ${mt/2} )`),ht.attr("transform",`translate(${-(ut.width/2)-yt-(ut.x-(ut.left??0))}, ${-(ut.height/2)-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,_t),rt.intersect=function(Ct){const kt=intersect_default.rect(rt,Ct),St=kt.y-(rt.y??0);if(gt!=0&&(Math.abs(St)<(rt.height??0)/2||Math.abs(St)==(rt.height??0)/2&&Math.abs(kt.x-(rt.x??0))>(rt.width??0)/2-yt)){let Rt=yt*yt*(1-St*St/(gt*gt));Rt!=0&&(Rt=Math.sqrt(Math.abs(Rt))),Rt=yt-Rt,Ct.x-(rt.x??0)>0&&(Rt=-Rt),kt.x+=Rt}return kt},ct}__name(tiltedCylinder,"tiltedCylinder");async function trapezoid(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=ut.width+rt.padding,ft=ut.height+rt.padding,pt=[{x:-3*ft/6,y:0},{x:ht+3*ft/6,y:0},{x:ht,y:-ft},{x:0,y:-ft}];let mt;const{cssStyles:gt}=rt;if(rt.look==="handDrawn"){const yt=at.svg(ct),xt=userNodeOverrides(rt,{}),bt=createPathFromPoints(pt),_t=yt.path(bt,xt);mt=ct.insert(()=>_t,":first-child").attr("transform",`translate(${-ht/2}, ${ft/2})`),gt&&mt.attr("style",gt)}else mt=insertPolygonShape(ct,ht,ft,pt);return lt&&mt.attr("style",lt),rt.width=ht,rt.height=ft,updateNodeBounds(rt,mt),rt.intersect=function(yt){return intersect_default.polygon(rt,pt,yt)},ct}__name(trapezoid,"trapezoid");async function trapezoidalPentagon(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=60,ft=20,pt=Math.max(ht,ut.width+(rt.padding??0)*2,rt?.width??0),mt=Math.max(ft,ut.height+(rt.padding??0)*2,rt?.height??0),{cssStyles:gt}=rt,yt=at.svg(ct),xt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const bt=[{x:-pt/2*.8,y:-mt/2},{x:pt/2*.8,y:-mt/2},{x:pt/2,y:-mt/2*.6},{x:pt/2,y:mt/2},{x:-pt/2,y:mt/2},{x:-pt/2,y:-mt/2*.6}],_t=createPathFromPoints(bt),Ct=yt.path(_t,xt),kt=ct.insert(()=>Ct,":first-child");return kt.attr("class","basic label-container"),gt&&rt.look!=="handDrawn"&&kt.selectChildren("path").attr("style",gt),lt&&rt.look!=="handDrawn"&&kt.selectChildren("path").attr("style",lt),updateNodeBounds(rt,kt),rt.intersect=function(St){return intersect_default.polygon(rt,bt,St)},ct}__name(trapezoidalPentagon,"trapezoidalPentagon");async function triangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=evaluate(getConfig2().flowchart?.htmlLabels),pt=ut.width+(rt.padding??0),mt=pt+ut.height,gt=pt+ut.height,yt=[{x:0,y:0},{x:gt,y:0},{x:gt/2,y:-mt}],{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const Ct=createPathFromPoints(yt),kt=bt.path(Ct,_t),St=ct.insert(()=>kt,":first-child").attr("transform",`translate(${-mt/2}, ${mt/2})`);return xt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&St.selectChildren("path").attr("style",lt),rt.width=pt,rt.height=mt,updateNodeBounds(rt,St),ht.attr("transform",`translate(${-ut.width/2-(ut.x-(ut.left??0))}, ${mt/2-(ut.height+(rt.padding??0)/(ft?2:1)-(ut.y-(ut.top??0)))})`),rt.intersect=function(Rt){return log.info("Triangle intersect",rt,yt,Rt),intersect_default.polygon(rt,yt,Rt)},ct}__name(triangle,"triangle");async function waveEdgedRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=pt/8,gt=pt+mt,{cssStyles:yt}=rt,bt=70-ft,_t=bt>0?bt/2:0,Ct=at.svg(ct),kt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(kt.roughness=0,kt.fillStyle="solid");const St=[{x:-ft/2-_t,y:gt/2},...generateFullSineWavePoints(-ft/2-_t,gt/2,ft/2+_t,gt/2,mt,.8),{x:ft/2+_t,y:-gt/2},{x:-ft/2-_t,y:-gt/2}],Rt=createPathFromPoints(St),Tt=Ct.path(Rt,kt),Mt=ct.insert(()=>Tt,":first-child");return Mt.attr("class","basic label-container"),yt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",yt),lt&&rt.look!=="handDrawn"&&Mt.selectAll("path").attr("style",lt),Mt.attr("transform",`translate(0,${-mt/2})`),ht.attr("transform",`translate(${-ft/2+(rt.padding??0)-(ut.x-(ut.left??0))},${-pt/2+(rt.padding??0)-mt-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Mt),rt.intersect=function(Pt){return intersect_default.polygon(rt,St,Pt)},ct}__name(waveEdgedRectangle,"waveEdgedRectangle");async function waveRectangle(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut}=await labelHelper(Ye,rt,getNodeClasses(rt)),ht=100,ft=50,pt=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),mt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),gt=pt/mt;let yt=pt,xt=mt;yt>xt*gt?xt=yt/gt:yt=xt*gt,yt=Math.max(yt,ht),xt=Math.max(xt,ft);const bt=Math.min(xt*.2,xt/4),_t=xt+bt*2,{cssStyles:Ct}=rt,kt=at.svg(ct),St=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(St.roughness=0,St.fillStyle="solid");const Rt=[{x:-yt/2,y:_t/2},...generateFullSineWavePoints(-yt/2,_t/2,yt/2,_t/2,bt,1),{x:yt/2,y:-_t/2},...generateFullSineWavePoints(yt/2,-_t/2,-yt/2,-_t/2,bt,-1)],Tt=createPathFromPoints(Rt),Mt=kt.path(Tt,St),Pt=ct.insert(()=>Mt,":first-child");return Pt.attr("class","basic label-container"),Ct&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",Ct),lt&&rt.look!=="handDrawn"&&Pt.selectAll("path").attr("style",lt),updateNodeBounds(rt,Pt),rt.intersect=function(It){return intersect_default.polygon(rt,Rt,It)},ct}__name(waveRectangle,"waveRectangle");async function windowPane(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,label:ht}=await labelHelper(Ye,rt,getNodeClasses(rt)),ft=Math.max(ut.width+(rt.padding??0)*2,rt?.width??0),pt=Math.max(ut.height+(rt.padding??0)*2,rt?.height??0),mt=5,gt=-ft/2,yt=-pt/2,{cssStyles:xt}=rt,bt=at.svg(ct),_t=userNodeOverrides(rt,{}),Ct=[{x:gt-mt,y:yt-mt},{x:gt-mt,y:yt+pt},{x:gt+ft,y:yt+pt},{x:gt+ft,y:yt-mt}],kt=`M${gt-mt},${yt-mt} L${gt+ft},${yt-mt} L${gt+ft},${yt+pt} L${gt-mt},${yt+pt} L${gt-mt},${yt-mt}
                M${gt-mt},${yt} L${gt+ft},${yt}
                M${gt},${yt-mt} L${gt},${yt+pt}`;rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const St=bt.path(kt,_t),Rt=ct.insert(()=>St,":first-child");return Rt.attr("transform",`translate(${mt/2}, ${mt/2})`),Rt.attr("class","basic label-container"),xt&&rt.look!=="handDrawn"&&Rt.selectAll("path").attr("style",xt),lt&&rt.look!=="handDrawn"&&Rt.selectAll("path").attr("style",lt),ht.attr("transform",`translate(${-(ut.width/2)+mt/2-(ut.x-(ut.left??0))}, ${-(ut.height/2)+mt/2-(ut.y-(ut.top??0))})`),updateNodeBounds(rt,Rt),rt.intersect=function(Tt){return intersect_default.polygon(rt,Ct,Tt)},ct}__name(windowPane,"windowPane");async function erBox(Ye,rt){const it=rt;if(it.alias&&(rt.label=it.alias),rt.look==="handDrawn"){const{themeVariables:Xt}=getConfig(),{background:Bt}=Xt,nr={...rt,id:rt.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Bt}`]};await erBox(Ye,nr)}const lt=getConfig();rt.useHtmlLabels=lt.htmlLabels;let ct=lt.er?.diagramPadding??10,ut=lt.er?.entityPadding??6;const{cssStyles:ht}=rt,{labelStyles:ft,nodeStyles:pt}=styles2String(rt);if(it.attributes.length===0&&rt.label){const Xt={rx:0,ry:0,labelPaddingX:ct,labelPaddingY:ct*1.5};calculateTextWidth(rt.label,lt)+Xt.labelPaddingX*2<lt.er.minEntityWidth&&(rt.width=lt.er.minEntityWidth);const Bt=await drawRect(Ye,rt,Xt);if(!evaluate(lt.htmlLabels)){const nr=Bt.select("text"),rr=nr.node()?.getBBox();nr.attr("transform",`translate(${-rr.width/2}, 0)`)}return Bt}lt.htmlLabels||(ct*=1.25,ut*=1.25);let mt=getNodeClasses(rt);mt||(mt="node default");const gt=Ye.insert("g").attr("class",mt).attr("id",rt.domId||rt.id),yt=await addText(gt,rt.label??"",lt,0,0,["name"],ft);yt.height+=ut;let xt=0;const bt=[],_t=[];let Ct=0,kt=0,St=0,Rt=0,Tt=!0,Mt=!0;for(const Xt of it.attributes){const Bt=await addText(gt,Xt.type,lt,0,xt,["attribute-type"],ft);Ct=Math.max(Ct,Bt.width+ct);const nr=await addText(gt,Xt.name,lt,0,xt,["attribute-name"],ft);kt=Math.max(kt,nr.width+ct);const rr=await addText(gt,Xt.keys.join(),lt,0,xt,["attribute-keys"],ft);St=Math.max(St,rr.width+ct);const Jt=await addText(gt,Xt.comment,lt,0,xt,["attribute-comment"],ft);Rt=Math.max(Rt,Jt.width+ct);const ir=Math.max(Bt.height,nr.height,rr.height,Jt.height)+ut;_t.push({yOffset:xt,rowHeight:ir}),xt+=ir}let Pt=4;St<=ct&&(Tt=!1,St=0,Pt--),Rt<=ct&&(Mt=!1,Rt=0,Pt--);const It=gt.node().getBBox();if(yt.width+ct*2-(Ct+kt+St+Rt)>0){const Xt=yt.width+ct*2-(Ct+kt+St+Rt);Ct+=Xt/Pt,kt+=Xt/Pt,St>0&&(St+=Xt/Pt),Rt>0&&(Rt+=Xt/Pt)}const Lt=Ct+kt+St+Rt,Ot=at.svg(gt),Ft=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Ft.roughness=0,Ft.fillStyle="solid");let Ut=0;_t.length>0&&(Ut=_t.reduce((Xt,Bt)=>Xt+(Bt?.rowHeight??0),0));const Wt=Math.max(It.width+ct*2,rt?.width||0,Lt),Kt=Math.max((Ut??0)+yt.height,rt?.height||0),Qt=-Wt/2,Zt=-Kt/2;gt.selectAll("g:not(:first-child)").each((Xt,Bt,nr)=>{const rr=select(nr[Bt]),Jt=rr.attr("transform");let ir=0,ar=0;if(Jt){const dr=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Jt);dr&&(ir=parseFloat(dr[1]),ar=parseFloat(dr[2]),rr.attr("class").includes("attribute-name")?ir+=Ct:rr.attr("class").includes("attribute-keys")?ir+=Ct+kt:rr.attr("class").includes("attribute-comment")&&(ir+=Ct+kt+St))}rr.attr("transform",`translate(${Qt+ct/2+ir}, ${ar+Zt+yt.height+ut/2})`)}),gt.select(".name").attr("transform","translate("+-yt.width/2+", "+(Zt+ut/2)+")");const Vt=Ot.rectangle(Qt,Zt,Wt,Kt,Ft),$t=gt.insert(()=>Vt,":first-child").attr("style",ht.join("")),{themeVariables:zt}=getConfig(),{rowEven:Nt,rowOdd:qt,nodeBorder:Gt}=zt;bt.push(0);for(const[Xt,Bt]of _t.entries()){const rr=(Xt+1)%2===0&&Bt.yOffset!==0,Jt=Ot.rectangle(Qt,yt.height+Zt+Bt?.yOffset,Wt,Bt?.rowHeight,{...Ft,fill:rr?Nt:qt,stroke:Gt});gt.insert(()=>Jt,"g.label").attr("style",ht.join("")).attr("class",`row-rect-${rr?"even":"odd"}`)}let Ht=Ot.line(Qt,yt.height+Zt,Wt+Qt,yt.height+Zt,Ft);gt.insert(()=>Ht).attr("class","divider"),Ht=Ot.line(Ct+Qt,yt.height+Zt,Ct+Qt,Kt+Zt,Ft),gt.insert(()=>Ht).attr("class","divider"),Tt&&(Ht=Ot.line(Ct+kt+Qt,yt.height+Zt,Ct+kt+Qt,Kt+Zt,Ft),gt.insert(()=>Ht).attr("class","divider")),Mt&&(Ht=Ot.line(Ct+kt+St+Qt,yt.height+Zt,Ct+kt+St+Qt,Kt+Zt,Ft),gt.insert(()=>Ht).attr("class","divider"));for(const Xt of bt)Ht=Ot.line(Qt,yt.height+Zt+Xt,Wt+Qt,yt.height+Zt+Xt,Ft),gt.insert(()=>Ht).attr("class","divider");if(updateNodeBounds(rt,$t),pt&&rt.look!=="handDrawn"){const Bt=pt.split(";")?.filter(nr=>nr.includes("stroke"))?.map(nr=>`${nr}`).join("; ");gt.selectAll("path").attr("style",Bt??""),gt.selectAll(".row-rect-even path").attr("style",pt)}return rt.intersect=function(Xt){return intersect_default.rect(rt,Xt)},gt}__name(erBox,"erBox");async function addText(Ye,rt,it,lt=0,ct=0,ut=[],ht=""){const ft=Ye.insert("g").attr("class",`label ${ut.join(" ")}`).attr("transform",`translate(${lt}, ${ct})`).attr("style",ht);rt!==parseGenericTypes(rt)&&(rt=parseGenericTypes(rt),rt=rt.replaceAll("<","&lt;").replaceAll(">","&gt;"));const pt=ft.node().appendChild(await createText(ft,rt,{width:calculateTextWidth(rt,it)+100,style:ht,useHtmlLabels:it.htmlLabels},it));if(rt.includes("&lt;")||rt.includes("&gt;")){let gt=pt.children[0];for(gt.textContent=gt.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");gt.childNodes[0];)gt=gt.childNodes[0],gt.textContent=gt.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let mt=pt.getBBox();if(evaluate(it.htmlLabels)){const gt=pt.children[0];gt.style.textAlign="start";const yt=select(pt);mt=gt.getBoundingClientRect(),yt.attr("width",mt.width),yt.attr("height",mt.height)}return mt}__name(addText,"addText");async function textHelper(Ye,rt,it,lt,ct=it.class.padding??12){const ut=lt?0:3,ht=Ye.insert("g").attr("class",getNodeClasses(rt)).attr("id",rt.domId||rt.id);let ft=null,pt=null,mt=null,gt=null,yt=0,xt=0,bt=0;if(ft=ht.insert("g").attr("class","annotation-group text"),rt.annotations.length>0){const Rt=rt.annotations[0];await addText2(ft,{text:`${Rt}`},0),yt=ft.node().getBBox().height}pt=ht.insert("g").attr("class","label-group text"),await addText2(pt,rt,0,["font-weight: bolder"]);const _t=pt.node().getBBox();xt=_t.height,mt=ht.insert("g").attr("class","members-group text");let Ct=0;for(const Rt of rt.members){const Tt=await addText2(mt,Rt,Ct,[Rt.parseClassifier()]);Ct+=Tt+ut}bt=mt.node().getBBox().height,bt<=0&&(bt=ct/2),gt=ht.insert("g").attr("class","methods-group text");let kt=0;for(const Rt of rt.methods){const Tt=await addText2(gt,Rt,kt,[Rt.parseClassifier()]);kt+=Tt+ut}let St=ht.node().getBBox();if(ft!==null){const Rt=ft.node().getBBox();ft.attr("transform",`translate(${-Rt.width/2})`)}return pt.attr("transform",`translate(${-_t.width/2}, ${yt})`),St=ht.node().getBBox(),mt.attr("transform",`translate(0, ${yt+xt+ct*2})`),St=ht.node().getBBox(),gt.attr("transform",`translate(0, ${yt+xt+(bt?bt+ct*4:ct*2)})`),St=ht.node().getBBox(),{shapeSvg:ht,bbox:St}}__name(textHelper,"textHelper");async function addText2(Ye,rt,it,lt=[]){const ct=Ye.insert("g").attr("class","label").attr("style",lt.join("; ")),ut=getConfig();let ht="useHtmlLabels"in rt?rt.useHtmlLabels:evaluate(ut.htmlLabels)??!0,ft="";"text"in rt?ft=rt.text:ft=rt.label,!ht&&ft.startsWith("\\")&&(ft=ft.substring(1)),hasKatex(ft)&&(ht=!0);const pt=await createText(ct,sanitizeText3(decodeEntities(ft)),{width:calculateTextWidth(ft,ut)+50,classes:"markdown-node-label",useHtmlLabels:ht},ut);let mt,gt=1;if(ht){const yt=pt.children[0],xt=select(pt);gt=yt.innerHTML.split("<br>").length,yt.innerHTML.includes("</math>")&&(gt+=yt.innerHTML.split("<mrow>").length-1);const bt=yt.getElementsByTagName("img");if(bt){const _t=ft.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...bt].map(Ct=>new Promise(kt=>{function St(){if(Ct.style.display="flex",Ct.style.flexDirection="column",_t){const Rt=ut.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,Mt=parseInt(Rt,10)*5+"px";Ct.style.minWidth=Mt,Ct.style.maxWidth=Mt}else Ct.style.width="100%";kt(Ct)}__name(St,"setupImage"),setTimeout(()=>{Ct.complete&&St()}),Ct.addEventListener("error",St),Ct.addEventListener("load",St)})))}mt=yt.getBoundingClientRect(),xt.attr("width",mt.width),xt.attr("height",mt.height)}else{lt.includes("font-weight: bolder")&&select(pt).selectAll("tspan").attr("font-weight",""),gt=pt.children.length;const yt=pt.children[0];(pt.textContent===""||pt.textContent.includes("&gt"))&&(yt.textContent=ft[0]+ft.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),ft[1]===" "&&(yt.textContent=yt.textContent[0]+" "+yt.textContent.substring(1))),yt.textContent==="undefined"&&(yt.textContent=""),mt=pt.getBBox()}return ct.attr("transform","translate(0,"+(-mt.height/(2*gt)+it)+")"),mt.height}__name(addText2,"addText");async function classBox(Ye,rt){const it=getConfig2(),lt=it.class.padding??12,ct=lt,ut=rt.useHtmlLabels??evaluate(it.htmlLabels)??!0,ht=rt;ht.annotations=ht.annotations??[],ht.members=ht.members??[],ht.methods=ht.methods??[];const{shapeSvg:ft,bbox:pt}=await textHelper(Ye,rt,it,ut,ct),{labelStyles:mt,nodeStyles:gt}=styles2String(rt);rt.labelStyle=mt,rt.cssStyles=ht.styles||"";const yt=ht.styles?.join(";")||gt||"";rt.cssStyles||(rt.cssStyles=yt.replaceAll("!important","").split(";"));const xt=ht.members.length===0&&ht.methods.length===0&&!it.class?.hideEmptyMembersBox,bt=at.svg(ft),_t=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(_t.roughness=0,_t.fillStyle="solid");const Ct=pt.width;let kt=pt.height;ht.members.length===0&&ht.methods.length===0?kt+=ct:ht.members.length>0&&ht.methods.length===0&&(kt+=ct*2);const St=-Ct/2,Rt=-kt/2,Tt=bt.rectangle(St-lt,Rt-lt-(xt?lt:ht.members.length===0&&ht.methods.length===0?-lt/2:0),Ct+2*lt,kt+2*lt+(xt?lt*2:ht.members.length===0&&ht.methods.length===0?-lt:0),_t),Mt=ft.insert(()=>Tt,":first-child");Mt.attr("class","basic label-container");const Pt=Mt.node().getBBox();ft.selectAll(".text").each((Ft,Ut,Wt)=>{const Kt=select(Wt[Ut]),Qt=Kt.attr("transform");let Zt=0;if(Qt){const Nt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Qt);Nt&&(Zt=parseFloat(Nt[2]))}let Vt=Zt+Rt+lt-(xt?lt:ht.members.length===0&&ht.methods.length===0?-lt/2:0);ut||(Vt-=4);let $t=St;(Kt.attr("class").includes("label-group")||Kt.attr("class").includes("annotation-group"))&&($t=-Kt.node()?.getBBox().width/2||0,ft.selectAll("text").each(function(zt,Nt,qt){window.getComputedStyle(qt[Nt]).textAnchor==="middle"&&($t=0)})),Kt.attr("transform",`translate(${$t}, ${Vt})`)});const It=ft.select(".annotation-group").node().getBBox().height-(xt?lt/2:0)||0,Lt=ft.select(".label-group").node().getBBox().height-(xt?lt/2:0)||0,Ot=ft.select(".members-group").node().getBBox().height-(xt?lt/2:0)||0;if(ht.members.length>0||ht.methods.length>0||xt){const Ft=bt.line(Pt.x,It+Lt+Rt+lt,Pt.x+Pt.width,It+Lt+Rt+lt,_t);ft.insert(()=>Ft).attr("class","divider").attr("style",yt)}if(xt||ht.members.length>0||ht.methods.length>0){const Ft=bt.line(Pt.x,It+Lt+Ot+Rt+ct*2+lt,Pt.x+Pt.width,It+Lt+Ot+Rt+lt+ct*2,_t);ft.insert(()=>Ft).attr("class","divider").attr("style",yt)}if(ht.look!=="handDrawn"&&ft.selectAll("path").attr("style",yt),Mt.select(":nth-child(2)").attr("style",yt),ft.selectAll(".divider").select("path").attr("style",yt),rt.labelStyle?ft.selectAll("span").attr("style",rt.labelStyle):ft.selectAll("span").attr("style",yt),!ut){const Ft=RegExp(/color\s*:\s*([^;]*)/),Ut=Ft.exec(yt);if(Ut){const Wt=Ut[0].replace("color","fill");ft.selectAll("tspan").attr("style",Wt)}else if(mt){const Wt=Ft.exec(mt);if(Wt){const Kt=Wt[0].replace("color","fill");ft.selectAll("tspan").attr("style",Kt)}}}return updateNodeBounds(rt,Mt),rt.intersect=function(Ft){return intersect_default.rect(rt,Ft)},ft}__name(classBox,"classBox");async function requirementBox(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const ct=rt,ut=rt,ht=20,ft=20,pt="verifyMethod"in rt,mt=getNodeClasses(rt),gt=Ye.insert("g").attr("class",mt).attr("id",rt.domId??rt.id);let yt;pt?yt=await addText3(gt,`&lt;&lt;${ct.type}&gt;&gt;`,0,rt.labelStyle):yt=await addText3(gt,"&lt;&lt;Element&gt;&gt;",0,rt.labelStyle);let xt=yt;const bt=await addText3(gt,ct.name,xt,rt.labelStyle+"; font-weight: bold;");if(xt+=bt+ft,pt){const It=await addText3(gt,`${ct.requirementId?`ID: ${ct.requirementId}`:""}`,xt,rt.labelStyle);xt+=It;const Lt=await addText3(gt,`${ct.text?`Text: ${ct.text}`:""}`,xt,rt.labelStyle);xt+=Lt;const Ot=await addText3(gt,`${ct.risk?`Risk: ${ct.risk}`:""}`,xt,rt.labelStyle);xt+=Ot,await addText3(gt,`${ct.verifyMethod?`Verification: ${ct.verifyMethod}`:""}`,xt,rt.labelStyle)}else{const It=await addText3(gt,`${ut.type?`Type: ${ut.type}`:""}`,xt,rt.labelStyle);xt+=It,await addText3(gt,`${ut.docRef?`Doc Ref: ${ut.docRef}`:""}`,xt,rt.labelStyle)}const _t=(gt.node()?.getBBox().width??200)+ht,Ct=(gt.node()?.getBBox().height??200)+ht,kt=-_t/2,St=-Ct/2,Rt=at.svg(gt),Tt=userNodeOverrides(rt,{});rt.look!=="handDrawn"&&(Tt.roughness=0,Tt.fillStyle="solid");const Mt=Rt.rectangle(kt,St,_t,Ct,Tt),Pt=gt.insert(()=>Mt,":first-child");if(Pt.attr("class","basic label-container").attr("style",lt),gt.selectAll(".label").each((It,Lt,Ot)=>{const Ft=select(Ot[Lt]),Ut=Ft.attr("transform");let Wt=0,Kt=0;if(Ut){const $t=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ut);$t&&(Wt=parseFloat($t[1]),Kt=parseFloat($t[2]))}const Qt=Kt-Ct/2;let Zt=kt+ht/2;(Lt===0||Lt===1)&&(Zt=Wt),Ft.attr("transform",`translate(${Zt}, ${Qt+ht})`)}),xt>yt+bt+ft){const It=Rt.line(kt,St+yt+bt+ft,kt+_t,St+yt+bt+ft,Tt);gt.insert(()=>It).attr("style",lt)}return updateNodeBounds(rt,Pt),rt.intersect=function(It){return intersect_default.rect(rt,It)},gt}__name(requirementBox,"requirementBox");async function addText3(Ye,rt,it,lt=""){if(rt==="")return 0;const ct=Ye.insert("g").attr("class","label").attr("style",lt),ut=getConfig2(),ht=ut.htmlLabels??!0,ft=await createText(ct,sanitizeText3(decodeEntities(rt)),{width:calculateTextWidth(rt,ut)+50,classes:"markdown-node-label",useHtmlLabels:ht,style:lt},ut);let pt;if(ht){const mt=ft.children[0],gt=select(ft);pt=mt.getBoundingClientRect(),gt.attr("width",pt.width),gt.attr("height",pt.height)}else{const mt=ft.children[0];for(const gt of mt.children)gt.textContent=gt.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),lt&&gt.setAttribute("style",lt);pt=ft.getBBox(),pt.height+=6}return ct.attr("transform",`translate(${-pt.width/2},${-pt.height/2+it})`),pt.height}__name(addText3,"addText");var colorFromPriority=__name(Ye=>{switch(Ye){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(Ye,rt,{config:it}){const{labelStyles:lt,nodeStyles:ct}=styles2String(rt);rt.labelStyle=lt||"";const ut=10,ht=rt.width;rt.width=(rt.width??200)-10;const{shapeSvg:ft,bbox:pt,label:mt}=await labelHelper(Ye,rt,getNodeClasses(rt)),gt=rt.padding||10;let yt="",xt;"ticket"in rt&&rt.ticket&&it?.kanban?.ticketBaseUrl&&(yt=it?.kanban?.ticketBaseUrl.replace("#TICKET#",rt.ticket),xt=ft.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",yt).attr("target","_blank"));const bt={useHtmlLabels:rt.useHtmlLabels,labelStyle:rt.labelStyle||"",width:rt.width,img:rt.img,padding:rt.padding||8,centerLabel:!1};let _t,Ct;xt?{label:_t,bbox:Ct}=await insertLabel(xt,"ticket"in rt&&rt.ticket||"",bt):{label:_t,bbox:Ct}=await insertLabel(ft,"ticket"in rt&&rt.ticket||"",bt);const{label:kt,bbox:St}=await insertLabel(ft,"assigned"in rt&&rt.assigned||"",bt);rt.width=ht;const Rt=10,Tt=rt?.width||0,Mt=Math.max(Ct.height,St.height)/2,Pt=Math.max(pt.height+Rt*2,rt?.height||0)+Mt,It=-Tt/2,Lt=-Pt/2;mt.attr("transform","translate("+(gt-Tt/2)+", "+(-Mt-pt.height/2)+")"),_t.attr("transform","translate("+(gt-Tt/2)+", "+(-Mt+pt.height/2)+")"),kt.attr("transform","translate("+(gt+Tt/2-St.width-2*ut)+", "+(-Mt+pt.height/2)+")");let Ot;const{rx:Ft,ry:Ut}=rt,{cssStyles:Wt}=rt;if(rt.look==="handDrawn"){const Kt=at.svg(ft),Qt=userNodeOverrides(rt,{}),Zt=Ft||Ut?Kt.path(createRoundedRectPathD(It,Lt,Tt,Pt,Ft||0),Qt):Kt.rectangle(It,Lt,Tt,Pt,Qt);Ot=ft.insert(()=>Zt,":first-child"),Ot.attr("class","basic label-container").attr("style",Wt||null)}else{Ot=ft.insert("rect",":first-child"),Ot.attr("class","basic label-container __APA__").attr("style",ct).attr("rx",Ft??5).attr("ry",Ut??5).attr("x",It).attr("y",Lt).attr("width",Tt).attr("height",Pt);const Kt="priority"in rt&&rt.priority;if(Kt){const Qt=ft.append("line"),Zt=It+2,Vt=Lt+Math.floor((Ft??0)/2),$t=Lt+Pt-Math.floor((Ft??0)/2);Qt.attr("x1",Zt).attr("y1",Vt).attr("x2",Zt).attr("y2",$t).attr("stroke-width","4").attr("stroke",colorFromPriority(Kt))}}return updateNodeBounds(rt,Ot),rt.height=Pt,rt.intersect=function(Kt){return intersect_default.rect(rt,Kt)},ft}__name(kanbanItem,"kanbanItem");async function bang(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,halfPadding:ht,label:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=ut.width+10*ht,mt=ut.height+8*ht,gt=.15*pt,{cssStyles:yt}=rt,xt=ut.width+20,bt=ut.height+20,_t=Math.max(pt,xt),Ct=Math.max(mt,bt);ft.attr("transform",`translate(${-ut.width/2}, ${-ut.height/2})`);let kt;const St=`M0 0 
    a${gt},${gt} 1 0,0 ${_t*.25},${-1*Ct*.1}
    a${gt},${gt} 1 0,0 ${_t*.25},0
    a${gt},${gt} 1 0,0 ${_t*.25},0
    a${gt},${gt} 1 0,0 ${_t*.25},${Ct*.1}

    a${gt},${gt} 1 0,0 ${_t*.15},${Ct*.33}
    a${gt*.8},${gt*.8} 1 0,0 0,${Ct*.34}
    a${gt},${gt} 1 0,0 ${-1*_t*.15},${Ct*.33}

    a${gt},${gt} 1 0,0 ${-1*_t*.25},${Ct*.15}
    a${gt},${gt} 1 0,0 ${-1*_t*.25},0
    a${gt},${gt} 1 0,0 ${-1*_t*.25},0
    a${gt},${gt} 1 0,0 ${-1*_t*.25},${-1*Ct*.15}

    a${gt},${gt} 1 0,0 ${-1*_t*.1},${-1*Ct*.33}
    a${gt*.8},${gt*.8} 1 0,0 0,${-1*Ct*.34}
    a${gt},${gt} 1 0,0 ${_t*.1},${-1*Ct*.33}
  H0 V0 Z`;if(rt.look==="handDrawn"){const Rt=at.svg(ct),Tt=userNodeOverrides(rt,{}),Mt=Rt.path(St,Tt);kt=ct.insert(()=>Mt,":first-child"),kt.attr("class","basic label-container").attr("style",handleUndefinedAttr(yt))}else kt=ct.insert("path",":first-child").attr("class","basic label-container").attr("style",lt).attr("d",St);return kt.attr("transform",`translate(${-_t/2}, ${-Ct/2})`),updateNodeBounds(rt,kt),rt.calcIntersect=function(Rt,Tt){return intersect_default.rect(Rt,Tt)},rt.intersect=function(Rt){return log.info("Bang intersect",rt,Rt),intersect_default.rect(rt,Rt)},ct}__name(bang,"bang");async function cloud(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,halfPadding:ht,label:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=ut.width+2*ht,mt=ut.height+2*ht,gt=.15*pt,yt=.25*pt,xt=.35*pt,bt=.2*pt,{cssStyles:_t}=rt;let Ct;const kt=`M0 0 
    a${gt},${gt} 0 0,1 ${pt*.25},${-1*pt*.1}
    a${xt},${xt} 1 0,1 ${pt*.4},${-1*pt*.1}
    a${yt},${yt} 1 0,1 ${pt*.35},${pt*.2}

    a${gt},${gt} 1 0,1 ${pt*.15},${mt*.35}
    a${bt},${bt} 1 0,1 ${-1*pt*.15},${mt*.65}

    a${yt},${gt} 1 0,1 ${-1*pt*.25},${pt*.15}
    a${xt},${xt} 1 0,1 ${-1*pt*.5},0
    a${gt},${gt} 1 0,1 ${-1*pt*.25},${-1*pt*.15}

    a${gt},${gt} 1 0,1 ${-1*pt*.1},${-1*mt*.35}
    a${bt},${bt} 1 0,1 ${pt*.1},${-1*mt*.65}
  H0 V0 Z`;if(rt.look==="handDrawn"){const St=at.svg(ct),Rt=userNodeOverrides(rt,{}),Tt=St.path(kt,Rt);Ct=ct.insert(()=>Tt,":first-child"),Ct.attr("class","basic label-container").attr("style",handleUndefinedAttr(_t))}else Ct=ct.insert("path",":first-child").attr("class","basic label-container").attr("style",lt).attr("d",kt);return ft.attr("transform",`translate(${-ut.width/2}, ${-ut.height/2})`),Ct.attr("transform",`translate(${-pt/2}, ${-mt/2})`),updateNodeBounds(rt,Ct),rt.calcIntersect=function(St,Rt){return intersect_default.rect(St,Rt)},rt.intersect=function(St){return log.info("Cloud intersect",rt,St),intersect_default.rect(rt,St)},ct}__name(cloud,"cloud");async function defaultMindmapNode(Ye,rt){const{labelStyles:it,nodeStyles:lt}=styles2String(rt);rt.labelStyle=it;const{shapeSvg:ct,bbox:ut,halfPadding:ht,label:ft}=await labelHelper(Ye,rt,getNodeClasses(rt)),pt=ut.width+8*ht,mt=ut.height+2*ht,gt=5,yt=`
    M${-pt/2} ${mt/2-gt}
    v${-mt+2*gt}
    q0,-${gt} ${gt},-${gt}
    h${pt-2*gt}
    q${gt},0 ${gt},${gt}
    v${mt-2*gt}
    q0,${gt} -${gt},${gt}
    h${-pt+2*gt}
    q-${gt},0 -${gt},-${gt}
    Z
  `,xt=ct.append("path").attr("id","node-"+rt.id).attr("class","node-bkg node-"+rt.type).attr("style",lt).attr("d",yt);return ct.append("line").attr("class","node-line-").attr("x1",-pt/2).attr("y1",mt/2).attr("x2",pt/2).attr("y2",mt/2),ft.attr("transform",`translate(${-ut.width/2}, ${-ut.height/2})`),ct.append(()=>ft.node()),updateNodeBounds(rt,xt),rt.calcIntersect=function(bt,_t){return intersect_default.rect(bt,_t)},rt.intersect=function(bt){return intersect_default.rect(rt,bt)},ct}__name(defaultMindmapNode,"defaultMindmapNode");async function mindmapCircle(Ye,rt){const it={padding:rt.padding??0};return circle$1(Ye,rt,it)}__name(mindmapCircle,"mindmapCircle");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:bang},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:cloud},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text$6},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],generateShapeMap=__name(()=>{const rt=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,mindmapCircle,defaultMindmapNode,classBox,erBox,requirementBox}),...shapesDefs.flatMap(it=>[it.shortName,..."aliases"in it?it.aliases:[],..."internalAliases"in it?it.internalAliases:[]].map(ct=>[ct,it.handler]))];return Object.fromEntries(rt)},"generateShapeMap"),shapes2=generateShapeMap();function isValidShape(Ye){return Ye in shapes2}__name(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(Ye,rt,it){let lt,ct;rt.shape==="rect"&&(rt.rx&&rt.ry?rt.shape="roundedRect":rt.shape="squareRect");const ut=rt.shape?shapes2[rt.shape]:void 0;if(!ut)throw new Error(`No such shape: ${rt.shape}. Please check your syntax.`);if(rt.link){let ht;it.config.securityLevel==="sandbox"?ht="_top":rt.linkTarget&&(ht=rt.linkTarget||"_blank"),lt=Ye.insert("svg:a").attr("xlink:href",rt.link).attr("target",ht??null),ct=await ut(lt,rt,it)}else ct=await ut(Ye,rt,it),lt=ct;return rt.tooltip&&ct.attr("title",rt.tooltip),nodeElems.set(rt.id,lt),rt.haveCallback&&lt.attr("class",lt.attr("class")+" clickable"),lt}__name(insertNode,"insertNode");var setNodeElem=__name((Ye,rt)=>{nodeElems.set(rt.id,Ye)},"setNodeElem"),clear2=__name(()=>{nodeElems.clear()},"clear"),positionNode=__name(Ye=>{const rt=nodeElems.get(Ye.id);log.trace("Transforming node",Ye.diff,Ye,"translate("+(Ye.x-Ye.width/2-5)+", "+Ye.width/2+")");const it=8,lt=Ye.diff||0;return Ye.clusterNode?rt.attr("transform","translate("+(Ye.x+lt-Ye.width/2)+", "+(Ye.y-Ye.height/2-it)+")"):rt.attr("transform","translate("+Ye.x+", "+Ye.y+")"),lt},"positionNode"),addEdgeMarkers=__name((Ye,rt,it,lt,ct,ut)=>{rt.arrowTypeStart&&addEdgeMarker(Ye,"start",rt.arrowTypeStart,it,lt,ct,ut),rt.arrowTypeEnd&&addEdgeMarker(Ye,"end",rt.arrowTypeEnd,it,lt,ct,ut)},"addEdgeMarkers"),arrowTypesMap={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},addEdgeMarker=__name((Ye,rt,it,lt,ct,ut,ht)=>{const ft=arrowTypesMap[it];if(!ft){log.warn(`Unknown arrow type: ${it}`);return}const pt=ft.type,gt=`${ct}_${ut}-${pt}${rt==="start"?"Start":"End"}`;if(ht&&ht.trim()!==""){const yt=ht.replace(/[^\dA-Za-z]/g,"_"),xt=`${gt}_${yt}`;if(!document.getElementById(xt)){const bt=document.getElementById(gt);if(bt){const _t=bt.cloneNode(!0);_t.id=xt,_t.querySelectorAll("path, circle, line").forEach(kt=>{kt.setAttribute("stroke",ht),ft.fill&&kt.setAttribute("fill",ht)}),bt.parentNode?.appendChild(_t)}}Ye.attr(`marker-${rt}`,`url(${lt}#${xt})`)}else Ye.attr(`marker-${rt}`,`url(${lt}#${gt})`)},"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear=__name(()=>{edgeLabels.clear(),terminalLabels.clear()},"clear"),getLabelStyles=__name(Ye=>Ye?Ye.reduce((it,lt)=>it+";"+lt,""):"","getLabelStyles"),insertEdgeLabel=__name(async(Ye,rt)=>{let it=evaluate(getConfig2().flowchart.htmlLabels);const{labelStyles:lt}=styles2String(rt);rt.labelStyle=lt;const ct=await createText(Ye,rt.label,{style:rt.labelStyle,useHtmlLabels:it,addSvgBackground:!0,isNode:!1});log.info("abc82",rt,rt.labelType);const ut=Ye.insert("g").attr("class","edgeLabel"),ht=ut.insert("g").attr("class","label").attr("data-id",rt.id);ht.node().appendChild(ct);let ft=ct.getBBox();if(it){const mt=ct.children[0],gt=select(ct);ft=mt.getBoundingClientRect(),gt.attr("width",ft.width),gt.attr("height",ft.height)}ht.attr("transform","translate("+-ft.width/2+", "+-ft.height/2+")"),edgeLabels.set(rt.id,ut),rt.width=ft.width,rt.height=ft.height;let pt;if(rt.startLabelLeft){const mt=await createLabel_default(rt.startLabelLeft,getLabelStyles(rt.labelStyle)),gt=Ye.insert("g").attr("class","edgeTerminals"),yt=gt.insert("g").attr("class","inner");pt=yt.node().appendChild(mt);const xt=mt.getBBox();yt.attr("transform","translate("+-xt.width/2+", "+-xt.height/2+")"),terminalLabels.get(rt.id)||terminalLabels.set(rt.id,{}),terminalLabels.get(rt.id).startLeft=gt,setTerminalWidth(pt,rt.startLabelLeft)}if(rt.startLabelRight){const mt=await createLabel_default(rt.startLabelRight,getLabelStyles(rt.labelStyle)),gt=Ye.insert("g").attr("class","edgeTerminals"),yt=gt.insert("g").attr("class","inner");pt=gt.node().appendChild(mt),yt.node().appendChild(mt);const xt=mt.getBBox();yt.attr("transform","translate("+-xt.width/2+", "+-xt.height/2+")"),terminalLabels.get(rt.id)||terminalLabels.set(rt.id,{}),terminalLabels.get(rt.id).startRight=gt,setTerminalWidth(pt,rt.startLabelRight)}if(rt.endLabelLeft){const mt=await createLabel_default(rt.endLabelLeft,getLabelStyles(rt.labelStyle)),gt=Ye.insert("g").attr("class","edgeTerminals"),yt=gt.insert("g").attr("class","inner");pt=yt.node().appendChild(mt);const xt=mt.getBBox();yt.attr("transform","translate("+-xt.width/2+", "+-xt.height/2+")"),gt.node().appendChild(mt),terminalLabels.get(rt.id)||terminalLabels.set(rt.id,{}),terminalLabels.get(rt.id).endLeft=gt,setTerminalWidth(pt,rt.endLabelLeft)}if(rt.endLabelRight){const mt=await createLabel_default(rt.endLabelRight,getLabelStyles(rt.labelStyle)),gt=Ye.insert("g").attr("class","edgeTerminals"),yt=gt.insert("g").attr("class","inner");pt=yt.node().appendChild(mt);const xt=mt.getBBox();yt.attr("transform","translate("+-xt.width/2+", "+-xt.height/2+")"),gt.node().appendChild(mt),terminalLabels.get(rt.id)||terminalLabels.set(rt.id,{}),terminalLabels.get(rt.id).endRight=gt,setTerminalWidth(pt,rt.endLabelRight)}return ct},"insertEdgeLabel");function setTerminalWidth(Ye,rt){getConfig2().flowchart.htmlLabels&&Ye&&(Ye.style.width=rt.length*9+"px",Ye.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=__name((Ye,rt)=>{log.debug("Moving label abc88 ",Ye.id,Ye.label,edgeLabels.get(Ye.id),rt);let it=rt.updatedPath?rt.updatedPath:rt.originalPath;const lt=getConfig2(),{subGraphTitleTotalMargin:ct}=getSubGraphTitleMargins(lt);if(Ye.label){const ut=edgeLabels.get(Ye.id);let ht=Ye.x,ft=Ye.y;if(it){const pt=utils_default.calcLabelPosition(it);log.debug("Moving label "+Ye.label+" from (",ht,",",ft,") to (",pt.x,",",pt.y,") abc88"),rt.updatedPath&&(ht=pt.x,ft=pt.y)}ut.attr("transform",`translate(${ht}, ${ft+ct/2})`)}if(Ye.startLabelLeft){const ut=terminalLabels.get(Ye.id).startLeft;let ht=Ye.x,ft=Ye.y;if(it){const pt=utils_default.calcTerminalLabelPosition(Ye.arrowTypeStart?10:0,"start_left",it);ht=pt.x,ft=pt.y}ut.attr("transform",`translate(${ht}, ${ft})`)}if(Ye.startLabelRight){const ut=terminalLabels.get(Ye.id).startRight;let ht=Ye.x,ft=Ye.y;if(it){const pt=utils_default.calcTerminalLabelPosition(Ye.arrowTypeStart?10:0,"start_right",it);ht=pt.x,ft=pt.y}ut.attr("transform",`translate(${ht}, ${ft})`)}if(Ye.endLabelLeft){const ut=terminalLabels.get(Ye.id).endLeft;let ht=Ye.x,ft=Ye.y;if(it){const pt=utils_default.calcTerminalLabelPosition(Ye.arrowTypeEnd?10:0,"end_left",it);ht=pt.x,ft=pt.y}ut.attr("transform",`translate(${ht}, ${ft})`)}if(Ye.endLabelRight){const ut=terminalLabels.get(Ye.id).endRight;let ht=Ye.x,ft=Ye.y;if(it){const pt=utils_default.calcTerminalLabelPosition(Ye.arrowTypeEnd?10:0,"end_right",it);ht=pt.x,ft=pt.y}ut.attr("transform",`translate(${ht}, ${ft})`)}},"positionEdgeLabel"),outsideNode=__name((Ye,rt)=>{const it=Ye.x,lt=Ye.y,ct=Math.abs(rt.x-it),ut=Math.abs(rt.y-lt),ht=Ye.width/2,ft=Ye.height/2;return ct>=ht||ut>=ft},"outsideNode"),intersection=__name((Ye,rt,it)=>{log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(rt)}
  insidePoint : ${JSON.stringify(it)}
  node        : x:${Ye.x} y:${Ye.y} w:${Ye.width} h:${Ye.height}`);const lt=Ye.x,ct=Ye.y,ut=Math.abs(lt-it.x),ht=Ye.width/2;let ft=it.x<rt.x?ht-ut:ht+ut;const pt=Ye.height/2,mt=Math.abs(rt.y-it.y),gt=Math.abs(rt.x-it.x);if(Math.abs(ct-rt.y)*ht>Math.abs(lt-rt.x)*pt){let yt=it.y<rt.y?rt.y-pt-ct:ct-pt-rt.y;ft=gt*yt/mt;const xt={x:it.x<rt.x?it.x+ft:it.x-gt+ft,y:it.y<rt.y?it.y+mt-yt:it.y-mt+yt};return ft===0&&(xt.x=rt.x,xt.y=rt.y),gt===0&&(xt.x=rt.x),mt===0&&(xt.y=rt.y),log.debug(`abc89 top/bottom calc, Q ${mt}, q ${yt}, R ${gt}, r ${ft}`,xt),xt}else{it.x<rt.x?ft=rt.x-ht-lt:ft=lt-ht-rt.x;let yt=mt*ft/gt,xt=it.x<rt.x?it.x+gt-ft:it.x-gt+ft,bt=it.y<rt.y?it.y+yt:it.y-yt;return log.debug(`sides calc abc89, Q ${mt}, q ${yt}, R ${gt}, r ${ft}`,{_x:xt,_y:bt}),ft===0&&(xt=rt.x,bt=rt.y),gt===0&&(xt=rt.x),mt===0&&(bt=rt.y),{x:xt,y:bt}}},"intersection"),cutPathAtIntersect=__name((Ye,rt)=>{log.warn("abc88 cutPathAtIntersect",Ye,rt);let it=[],lt=Ye[0],ct=!1;return Ye.forEach(ut=>{if(log.info("abc88 checking point",ut,rt),!outsideNode(rt,ut)&&!ct){const ht=intersection(rt,lt,ut);log.debug("abc88 inside",ut,lt,ht),log.debug("abc88 intersection",ht,rt);let ft=!1;it.forEach(pt=>{ft=ft||pt.x===ht.x&&pt.y===ht.y}),it.some(pt=>pt.x===ht.x&&pt.y===ht.y)?log.warn("abc88 no intersect",ht,it):it.push(ht),ct=!0}else log.warn("abc88 outside",ut,lt),lt=ut,ct||it.push(ut)}),log.debug("returning points",it),it},"cutPathAtIntersect");function extractCornerPoints(Ye){const rt=[],it=[];for(let lt=1;lt<Ye.length-1;lt++){const ct=Ye[lt-1],ut=Ye[lt],ht=Ye[lt+1];(ct.x===ut.x&&ut.y===ht.y&&Math.abs(ut.x-ht.x)>5&&Math.abs(ut.y-ct.y)>5||ct.y===ut.y&&ut.x===ht.x&&Math.abs(ut.x-ct.x)>5&&Math.abs(ut.y-ht.y)>5)&&(rt.push(ut),it.push(lt))}return{cornerPoints:rt,cornerPointPositions:it}}__name(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=__name(function(Ye,rt,it){const lt=rt.x-Ye.x,ct=rt.y-Ye.y,ut=Math.sqrt(lt*lt+ct*ct),ht=it/ut;return{x:rt.x-ht*lt,y:rt.y-ht*ct}},"findAdjacentPoint"),fixCorners=__name(function(Ye){const{cornerPointPositions:rt}=extractCornerPoints(Ye),it=[];for(let lt=0;lt<Ye.length;lt++)if(rt.includes(lt)){const ct=Ye[lt-1],ut=Ye[lt+1],ht=Ye[lt],ft=findAdjacentPoint(ct,ht,5),pt=findAdjacentPoint(ut,ht,5),mt=pt.x-ft.x,gt=pt.y-ft.y;it.push(ft);const yt=Math.sqrt(2)*2;let xt={x:ht.x,y:ht.y};if(Math.abs(ut.x-ct.x)>10&&Math.abs(ut.y-ct.y)>=10){log.debug("Corner point fixing",Math.abs(ut.x-ct.x),Math.abs(ut.y-ct.y));const bt=5;ht.x===ft.x?xt={x:mt<0?ft.x-bt+yt:ft.x+bt-yt,y:gt<0?ft.y-yt:ft.y+yt}:xt={x:mt<0?ft.x-yt:ft.x+yt,y:gt<0?ft.y-bt+yt:ft.y+bt-yt}}else log.debug("Corner point skipping fixing",Math.abs(ut.x-ct.x),Math.abs(ut.y-ct.y));it.push(xt,pt)}else it.push(Ye[lt]);return it},"fixCorners"),generateDashArray=__name((Ye,rt,it)=>{const lt=Ye-rt-it,ct=2,ut=2,ht=ct+ut,ft=Math.floor(lt/ht),pt=Array(ft).fill(`${ct} ${ut}`).join(" ");return`0 ${rt} ${pt} ${it}`},"generateDashArray"),insertEdge=__name(function(Ye,rt,it,lt,ct,ut,ht,ft=!1){const{handDrawnSeed:pt}=getConfig2();let mt=rt.points,gt=!1;const yt=ct;var xt=ut;const bt=[];for(const Zt in rt.cssCompiledStyles)isLabelStyle(Zt)||bt.push(rt.cssCompiledStyles[Zt]);log.debug("UIO intersect check",rt.points,xt.x,yt.x),xt.intersect&&yt.intersect&&!ft&&(mt=mt.slice(1,rt.points.length-1),mt.unshift(yt.intersect(mt[0])),log.debug("Last point UIO",rt.start,"-->",rt.end,mt[mt.length-1],xt,xt.intersect(mt[mt.length-1])),mt.push(xt.intersect(mt[mt.length-1])));const _t=btoa(JSON.stringify(mt));rt.toCluster&&(log.info("to cluster abc88",it.get(rt.toCluster)),mt=cutPathAtIntersect(rt.points,it.get(rt.toCluster).node),gt=!0),rt.fromCluster&&(log.debug("from cluster abc88",it.get(rt.fromCluster),JSON.stringify(mt,null,2)),mt=cutPathAtIntersect(mt.reverse(),it.get(rt.fromCluster).node).reverse(),gt=!0);let Ct=mt.filter(Zt=>!Number.isNaN(Zt.y));Ct=fixCorners(Ct);let kt=curveBasis;switch(kt=curveLinear,rt.curve){case"linear":kt=curveLinear;break;case"basis":kt=curveBasis;break;case"cardinal":kt=curveCardinal;break;case"bumpX":kt=bumpX;break;case"bumpY":kt=bumpY;break;case"catmullRom":kt=curveCatmullRom;break;case"monotoneX":kt=monotoneX;break;case"monotoneY":kt=monotoneY;break;case"natural":kt=curveNatural;break;case"step":kt=curveStep;break;case"stepAfter":kt=stepAfter;break;case"stepBefore":kt=stepBefore;break;default:kt=curveBasis}const{x:St,y:Rt}=getLineFunctionsWithOffset(rt),Tt=line$2().x(St).y(Rt).curve(kt);let Mt;switch(rt.thickness){case"normal":Mt="edge-thickness-normal";break;case"thick":Mt="edge-thickness-thick";break;case"invisible":Mt="edge-thickness-invisible";break;default:Mt="edge-thickness-normal"}switch(rt.pattern){case"solid":Mt+=" edge-pattern-solid";break;case"dotted":Mt+=" edge-pattern-dotted";break;case"dashed":Mt+=" edge-pattern-dashed";break;default:Mt+=" edge-pattern-solid"}let Pt,It=rt.curve==="rounded"?generateRoundedPath(applyMarkerOffsetsToPoints(Ct,rt),5):Tt(Ct);const Lt=Array.isArray(rt.style)?rt.style:[rt.style];let Ot=Lt.find(Zt=>Zt?.startsWith("stroke:")),Ft=!1;if(rt.look==="handDrawn"){const Zt=at.svg(Ye);Object.assign([],Ct);const Vt=Zt.path(It,{roughness:.3,seed:pt});Mt+=" transition",Pt=select(Vt).select("path").attr("id",rt.id).attr("class"," "+Mt+(rt.classes?" "+rt.classes:"")).attr("style",Lt?Lt.reduce((zt,Nt)=>zt+";"+Nt,""):"");let $t=Pt.attr("d");Pt.attr("d",$t),Ye.node().appendChild(Pt.node())}else{const Zt=bt.join(";"),Vt=Lt?Lt.reduce((Xt,Bt)=>Xt+Bt+";",""):"";let $t="";rt.animate&&($t=" edge-animation-fast"),rt.animation&&($t=" edge-animation-"+rt.animation);const zt=(Zt?Zt+";"+Vt+";":Vt)+";"+(Lt?Lt.reduce((Xt,Bt)=>Xt+";"+Bt,""):"");Pt=Ye.append("path").attr("d",It).attr("id",rt.id).attr("class"," "+Mt+(rt.classes?" "+rt.classes:"")+($t??"")).attr("style",zt),Ot=zt.match(/stroke:([^;]+)/)?.[1],Ft=rt.animate===!0||!!rt.animation||Zt.includes("animation");const Nt=Pt.node(),qt=typeof Nt.getTotalLength=="function"?Nt.getTotalLength():0,Gt=markerOffsets2[rt.arrowTypeStart]||0,Ht=markerOffsets2[rt.arrowTypeEnd]||0;if(rt.look==="neo"&&!Ft){const Bt=`stroke-dasharray: ${rt.pattern==="dotted"||rt.pattern==="dashed"?generateDashArray(qt,Gt,Ht):`0 ${Gt} ${qt-Gt-Ht} ${Ht}`}; stroke-dashoffset: 0;`;Pt.attr("style",Bt+Pt.attr("style"))}}Pt.attr("data-edge",!0),Pt.attr("data-et","edge"),Pt.attr("data-id",rt.id),Pt.attr("data-points",_t),rt.showPoints&&Ct.forEach(Zt=>{Ye.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",Zt.x).attr("cy",Zt.y)});let Ut="";(getConfig2().flowchart.arrowMarkerAbsolute||getConfig2().state.arrowMarkerAbsolute)&&(Ut=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ut=Ut.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),log.info("arrowTypeStart",rt.arrowTypeStart),log.info("arrowTypeEnd",rt.arrowTypeEnd),addEdgeMarkers(Pt,rt,Ut,ht,lt,Ot);const Wt=Math.floor(mt.length/2),Kt=mt[Wt];utils_default.isLabelCoordinateInPath(Kt,Pt.attr("d"))||(gt=!0);let Qt={};return gt&&(Qt.updatedPath=mt),Qt.originalPath=rt.points,Qt},"insertEdge");function generateRoundedPath(Ye,rt){if(Ye.length<2)return"";let it="";const lt=Ye.length,ct=1e-5;for(let ut=0;ut<lt;ut++){const ht=Ye[ut],ft=Ye[ut-1],pt=Ye[ut+1];if(ut===0)it+=`M${ht.x},${ht.y}`;else if(ut===lt-1)it+=`L${ht.x},${ht.y}`;else{const mt=ht.x-ft.x,gt=ht.y-ft.y,yt=pt.x-ht.x,xt=pt.y-ht.y,bt=Math.hypot(mt,gt),_t=Math.hypot(yt,xt);if(bt<ct||_t<ct){it+=`L${ht.x},${ht.y}`;continue}const Ct=mt/bt,kt=gt/bt,St=yt/_t,Rt=xt/_t,Tt=Ct*St+kt*Rt,Mt=Math.max(-1,Math.min(1,Tt)),Pt=Math.acos(Mt);if(Pt<ct||Math.abs(Math.PI-Pt)<ct){it+=`L${ht.x},${ht.y}`;continue}const It=Math.min(rt/Math.sin(Pt/2),bt/2,_t/2),Lt=ht.x-Ct*It,Ot=ht.y-kt*It,Ft=ht.x+St*It,Ut=ht.y+Rt*It;it+=`L${Lt},${Ot}`,it+=`Q${ht.x},${ht.y} ${Ft},${Ut}`}}return it}__name(generateRoundedPath,"generateRoundedPath");function calculateDeltaAndAngle(Ye,rt){if(!Ye||!rt)return{angle:0,deltaX:0,deltaY:0};const it=rt.x-Ye.x,lt=rt.y-Ye.y;return{angle:Math.atan2(lt,it),deltaX:it,deltaY:lt}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");function applyMarkerOffsetsToPoints(Ye,rt){const it=Ye.map(ct=>({...ct}));if(Ye.length>=2&&markerOffsets[rt.arrowTypeStart]){const ct=markerOffsets[rt.arrowTypeStart],ut=Ye[0],ht=Ye[1],{angle:ft}=calculateDeltaAndAngle(ut,ht),pt=ct*Math.cos(ft),mt=ct*Math.sin(ft);it[0].x=ut.x+pt,it[0].y=ut.y+mt}const lt=Ye.length;if(lt>=2&&markerOffsets[rt.arrowTypeEnd]){const ct=markerOffsets[rt.arrowTypeEnd],ut=Ye[lt-1],ht=Ye[lt-2],{angle:ft}=calculateDeltaAndAngle(ht,ut),pt=ct*Math.cos(ft),mt=ct*Math.sin(ft);it[lt-1].x=ut.x-pt,it[lt-1].y=ut.y-mt}return it}__name(applyMarkerOffsetsToPoints,"applyMarkerOffsetsToPoints");var insertMarkers=__name((Ye,rt,it,lt)=>{rt.forEach(ct=>{markers[ct](Ye,it,lt)})},"insertMarkers"),extension$1=__name((Ye,rt,it)=>{log.trace("Making markers for ",it),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-extensionStart").attr("class","marker extension "+rt).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-extensionEnd").attr("class","marker extension "+rt).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-compositionStart").attr("class","marker composition "+rt).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-compositionEnd").attr("class","marker composition "+rt).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-aggregationStart").attr("class","marker aggregation "+rt).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-aggregationEnd").attr("class","marker aggregation "+rt).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-dependencyStart").attr("class","marker dependency "+rt).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-dependencyEnd").attr("class","marker dependency "+rt).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-lollipopStart").attr("class","marker lollipop "+rt).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-lollipopEnd").attr("class","marker lollipop "+rt).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point$3=__name((Ye,rt,it)=>{Ye.append("marker").attr("id",it+"_"+rt+"-pointEnd").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Ye.append("marker").attr("id",it+"_"+rt+"-pointStart").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle=__name((Ye,rt,it)=>{Ye.append("marker").attr("id",it+"_"+rt+"-circleEnd").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Ye.append("marker").attr("id",it+"_"+rt+"-circleStart").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross=__name((Ye,rt,it)=>{Ye.append("marker").attr("id",it+"_"+rt+"-crossEnd").attr("class","marker cross "+rt).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Ye.append("marker").attr("id",it+"_"+rt+"-crossStart").attr("class","marker cross "+rt).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),only_one=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-onlyOneStart").attr("class","marker onlyOne "+rt).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-onlyOneEnd").attr("class","marker onlyOne "+rt).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),zero_or_one=__name((Ye,rt,it)=>{const lt=Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-zeroOrOneStart").attr("class","marker zeroOrOne "+rt).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");lt.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),lt.append("path").attr("d","M9,0 L9,18");const ct=Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+rt).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");ct.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),ct.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),one_or_more=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-oneOrMoreStart").attr("class","marker oneOrMore "+rt).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-oneOrMoreEnd").attr("class","marker oneOrMore "+rt).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),zero_or_more=__name((Ye,rt,it)=>{const lt=Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+rt).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");lt.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),lt.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const ct=Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+rt).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");ct.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),ct.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),requirement_arrow=__name((Ye,rt,it)=>{Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains=__name((Ye,rt,it)=>{const lt=Ye.append("defs").append("marker").attr("id",it+"_"+rt+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");lt.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),lt.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),lt.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),markers={extension:extension$1,composition,aggregation,dependency,lollipop,point:point$3,circle,cross,barb,only_one,zero_or_one,one_or_more,zero_or_more,requirement_arrow,requirement_contains},markers_default=insertMarkers,internalHelpers={common:common_default,getConfig,insertCluster,insertEdge,insertEdgeLabel,insertMarkers:markers_default,insertNode,interpolateToCurve,labelHelper,log,positionEdgeLabel},layoutAlgorithms={},registerLayoutLoaders=__name(Ye=>{for(const rt of Ye)layoutAlgorithms[rt.name]=rt},"registerLayoutLoaders"),registerDefaultLayoutLoaders=__name(()=>{registerLayoutLoaders([{name:"dagre",loader:__name(async()=>await __vitePreload(()=>import("./dagre-6UL2VRFP-DFMgsqQx.js"),__vite__mapDeps([97,98,99,100,101,102]),import.meta.url),"loader")},{name:"cose-bilkent",loader:__name(async()=>await __vitePreload(()=>import("./cose-bilkent-S5V4N54A-DBcyfv9h.js"),__vite__mapDeps([103,104]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");registerDefaultLayoutLoaders();var render$1=__name(async(Ye,rt)=>{if(!(Ye.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${Ye.layoutAlgorithm}`);const it=layoutAlgorithms[Ye.layoutAlgorithm];return(await it.loader()).render(Ye,rt,internalHelpers,{algorithm:it.algorithm})},"render"),getRegisteredLayoutAlgorithm=__name((Ye="",{fallback:rt="dagre"}={})=>{if(Ye in layoutAlgorithms)return Ye;if(rt in layoutAlgorithms)return log.warn(`Layout algorithm ${Ye} is not registered. Using ${rt} as fallback.`),rt;throw new Error(`Both layout algorithms ${Ye} and ${rt} are not registered.`)},"getRegisteredLayoutAlgorithm"),COMMENT$1="comm",RULESET$1="rule",DECLARATION$1="decl",IMPORT$1="@import",NAMESPACE="@namespace",KEYFRAMES$1="@keyframes",LAYER$1="@layer",abs$1=Math.abs,from$6=String.fromCharCode;function trim$1(Ye){return Ye.trim()}function replace$3(Ye,rt,it){return Ye.replace(rt,it)}function indexof$1(Ye,rt,it){return Ye.indexOf(rt,it)}function charat$1(Ye,rt){return Ye.charCodeAt(rt)|0}function substr$1(Ye,rt,it){return Ye.slice(rt,it)}function strlen$1(Ye){return Ye.length}function sizeof$1(Ye){return Ye.length}function append$1(Ye,rt){return rt.push(Ye),Ye}var line$1=1,column$1=1,length$1=0,position$3=0,character$1=0,characters$1="";function node$2(Ye,rt,it,lt,ct,ut,ht,ft){return{value:Ye,root:rt,parent:it,type:lt,props:ct,children:ut,line:line$1,column:column$1,length:ht,return:"",siblings:ft}}function char$1(){return character$1}function prev$1(){return character$1=position$3>0?charat$1(characters$1,--position$3):0,column$1--,character$1===10&&(column$1=1,line$1--),character$1}function next$1(){return character$1=position$3<length$1?charat$1(characters$1,position$3++):0,column$1++,character$1===10&&(column$1=1,line$1++),character$1}function peek$1(){return charat$1(characters$1,position$3)}function caret$1(){return position$3}function slice$7(Ye,rt){return substr$1(characters$1,Ye,rt)}function token$1(Ye){switch(Ye){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(Ye){return line$1=column$1=1,length$1=strlen$1(characters$1=Ye),position$3=0,[]}function dealloc$1(Ye){return characters$1="",Ye}function delimit$1(Ye){return trim$1(slice$7(position$3-1,delimiter$1(Ye===91?Ye+2:Ye===40?Ye+1:Ye)))}function whitespace$1(Ye){for(;(character$1=peek$1())&&character$1<33;)next$1();return token$1(Ye)>2||token$1(character$1)>3?"":" "}function escaping$1(Ye,rt){for(;--rt&&next$1()&&!(character$1<48||character$1>102||character$1>57&&character$1<65||character$1>70&&character$1<97););return slice$7(Ye,caret$1()+(rt<6&&peek$1()==32&&next$1()==32))}function delimiter$1(Ye){for(;next$1();)switch(character$1){case Ye:return position$3;case 34:case 39:Ye!==34&&Ye!==39&&delimiter$1(character$1);break;case 40:Ye===41&&delimiter$1(Ye);break;case 92:next$1();break}return position$3}function commenter$1(Ye,rt){for(;next$1()&&Ye+character$1!==57;)if(Ye+character$1===84&&peek$1()===47)break;return"/*"+slice$7(rt,position$3-1)+"*"+from$6(Ye===47?Ye:next$1())}function identifier$1(Ye){for(;!token$1(peek$1());)next$1();return slice$7(Ye,position$3)}function compile$1(Ye){return dealloc$1(parse$3("",null,null,null,[""],Ye=alloc$1(Ye),0,[0],Ye))}function parse$3(Ye,rt,it,lt,ct,ut,ht,ft,pt){for(var mt=0,gt=0,yt=ht,xt=0,bt=0,_t=0,Ct=1,kt=1,St=1,Rt=0,Tt="",Mt=ct,Pt=ut,It=lt,Lt=Tt;kt;)switch(_t=Rt,Rt=next$1()){case 40:if(_t!=108&&charat$1(Lt,yt-1)==58){indexof$1(Lt+=replace$3(delimit$1(Rt),"&","&\f"),"&\f",abs$1(mt?ft[mt-1]:0))!=-1&&(St=-1);break}case 34:case 39:case 91:Lt+=delimit$1(Rt);break;case 9:case 10:case 13:case 32:Lt+=whitespace$1(_t);break;case 92:Lt+=escaping$1(caret$1()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment$1(commenter$1(next$1(),caret$1()),rt,it,pt),pt),(token$1(_t||1)==5||token$1(peek$1()||1)==5)&&strlen$1(Lt)&&substr$1(Lt,-1,void 0)!==" "&&(Lt+=" ");break;default:Lt+="/"}break;case 123*Ct:ft[mt++]=strlen$1(Lt)*St;case 125*Ct:case 59:case 0:switch(Rt){case 0:case 125:kt=0;case 59+gt:St==-1&&(Lt=replace$3(Lt,/\f/g,"")),bt>0&&(strlen$1(Lt)-yt||Ct===0&&_t===47)&&append$1(bt>32?declaration$1(Lt+";",lt,it,yt-1,pt):declaration$1(replace$3(Lt," ","")+";",lt,it,yt-2,pt),pt);break;case 59:Lt+=";";default:if(append$1(It=ruleset$1(Lt,rt,it,mt,gt,ct,ft,Tt,Mt=[],Pt=[],yt,ut),ut),Rt===123)if(gt===0)parse$3(Lt,rt,It,It,Mt,ut,yt,ft,Pt);else{switch(xt){case 99:if(charat$1(Lt,3)===110)break;case 108:if(charat$1(Lt,2)===97)break;default:gt=0;case 100:case 109:case 115:}gt?parse$3(Ye,It,It,lt&&append$1(ruleset$1(Ye,It,It,0,0,ct,ft,Tt,ct,Mt=[],yt,Pt),Pt),ct,Pt,yt,ft,lt?Mt:Pt):parse$3(Lt,It,It,It,[""],Pt,0,ft,Pt)}}mt=gt=bt=0,Ct=St=1,Tt=Lt="",yt=ht;break;case 58:yt=1+strlen$1(Lt),bt=_t;default:if(Ct<1){if(Rt==123)--Ct;else if(Rt==125&&Ct++==0&&prev$1()==125)continue}switch(Lt+=from$6(Rt),Rt*Ct){case 38:St=gt>0?1:(Lt+="\f",-1);break;case 44:ft[mt++]=(strlen$1(Lt)-1)*St,St=1;break;case 64:peek$1()===45&&(Lt+=delimit$1(next$1())),xt=peek$1(),gt=yt=strlen$1(Tt=Lt+=identifier$1(caret$1())),Rt++;break;case 45:_t===45&&strlen$1(Lt)==2&&(Ct=0)}}return ut}function ruleset$1(Ye,rt,it,lt,ct,ut,ht,ft,pt,mt,gt,yt){for(var xt=ct-1,bt=ct===0?ut:[""],_t=sizeof$1(bt),Ct=0,kt=0,St=0;Ct<lt;++Ct)for(var Rt=0,Tt=substr$1(Ye,xt+1,xt=abs$1(kt=ht[Ct])),Mt=Ye;Rt<_t;++Rt)(Mt=trim$1(kt>0?bt[Rt]+" "+Tt:replace$3(Tt,/&\f/g,bt[Rt])))&&(pt[St++]=Mt);return node$2(Ye,rt,it,ct===0?RULESET$1:ft,pt,mt,gt,yt)}function comment$1(Ye,rt,it,lt){return node$2(Ye,rt,it,COMMENT$1,from$6(char$1()),substr$1(Ye,2,-2),0,lt)}function declaration$1(Ye,rt,it,lt,ct){return node$2(Ye,rt,it,DECLARATION$1,substr$1(Ye,0,lt),substr$1(Ye,lt+1,-1),lt,ct)}function serialize$3(Ye,rt){for(var it="",lt=0;lt<Ye.length;lt++)it+=rt(Ye[lt],lt,Ye,rt)||"";return it}function stringify$1(Ye,rt,it,lt){switch(Ye.type){case LAYER$1:if(Ye.children.length)break;case IMPORT$1:case NAMESPACE:case DECLARATION$1:return Ye.return=Ye.return||Ye.value;case COMMENT$1:return"";case KEYFRAMES$1:return Ye.return=Ye.value+"{"+serialize$3(Ye.children,lt)+"}";case RULESET$1:if(!strlen$1(Ye.value=Ye.props.join(",")))return""}return strlen$1(it=serialize$3(Ye.children,lt))?Ye.return=Ye.value+"{"+it+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseKeys(Ye){if(!isPrototype(Ye))return nativeKeys(Ye);var rt=[];for(var it in Object(Ye))hasOwnProperty$2.call(Ye,it)&&it!="constructor"&&rt.push(it);return rt}var DataView$1=getNative(root$3,"DataView"),Promise$1=getNative(root$3,"Promise"),Set$1=getNative(root$3,"Set"),WeakMap$1=getNative(root$3,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(Ye){var rt=baseGetTag(Ye),it=rt==objectTag?Ye.constructor:void 0,lt=it?toSource(it):"";if(lt)switch(lt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return rt});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function isEmpty(Ye){if(Ye==null)return!0;if(isArrayLike(Ye)&&(isArray$7(Ye)||typeof Ye=="string"||typeof Ye.splice=="function"||isBuffer(Ye)||isTypedArray(Ye)||isArguments(Ye)))return!Ye.length;var rt=getTag(Ye);if(rt==mapTag||rt==setTag)return!Ye.size;if(isPrototype(Ye))return!baseKeys(Ye).length;for(var it in Ye)if(hasOwnProperty$1.call(Ye,it))return!1;return!0}var id="c4",detector=__name(Ye=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(Ye),"detector"),loader=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./c4Diagram-YG6GDRKO-B3XKfzPO.js");return{diagram:rt}},__vite__mapDeps([105,106]),import.meta.url);return{id,diagram:Ye}},"loader"),plugin={id,detector,loader},c4Detector_default=plugin,id2="flowchart",detector2=__name((Ye,rt)=>rt?.flowchart?.defaultRenderer==="dagre-wrapper"||rt?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(Ye),"detector"),loader2=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./flowDiagram-NV44I4VS-DKEHsifo.js");return{diagram:rt}},__vite__mapDeps([107,108,109,110,111]),import.meta.url);return{id:id2,diagram:Ye}},"loader"),plugin2={id:id2,detector:detector2,loader:loader2},flowDetector_default=plugin2,id3="flowchart-v2",detector3=__name((Ye,rt)=>rt?.flowchart?.defaultRenderer==="dagre-d3"?!1:(rt?.flowchart?.defaultRenderer==="elk"&&(rt.layout="elk"),/^\s*graph/.test(Ye)&&rt?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(Ye)),"detector"),loader3=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./flowDiagram-NV44I4VS-DKEHsifo.js");return{diagram:rt}},__vite__mapDeps([107,108,109,110,111]),import.meta.url);return{id:id3,diagram:Ye}},"loader"),plugin3={id:id3,detector:detector3,loader:loader3},flowDetector_v2_default=plugin3,id4="er",detector4=__name(Ye=>/^\s*erDiagram/.test(Ye),"detector"),loader4=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./erDiagram-Q2GNP2WA-1t6LFuqi.js");return{diagram:rt}},__vite__mapDeps([112,109,110,111]),import.meta.url);return{id:id4,diagram:Ye}},"loader"),plugin4={id:id4,detector:detector4,loader:loader4},erDetector_default=plugin4,id5="gitGraph",detector5=__name(Ye=>/^\s*gitGraph/.test(Ye),"detector"),loader5=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./gitGraphDiagram-NY62KEGX-D4TE2ZsE.js");return{diagram:rt}},__vite__mapDeps([113,114,115,116,99,101,102]),import.meta.url);return{id:id5,diagram:Ye}},"loader"),plugin5={id:id5,detector:detector5,loader:loader5},gitGraphDetector_default=plugin5,id6="gantt",detector6=__name(Ye=>/^\s*gantt/.test(Ye),"detector"),loader6=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./ganttDiagram-LVOFAZNH-QBSt4V0H.js");return{diagram:rt}},__vite__mapDeps([117,118,119,120]),import.meta.url);return{id:id6,diagram:Ye}},"loader"),plugin6={id:id6,detector:detector6,loader:loader6},ganttDetector_default=plugin6,id7="info",detector7=__name(Ye=>/^\s*info/.test(Ye),"detector"),loader7=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./infoDiagram-F6ZHWCRC-D_9lmyyi.js");return{diagram:rt}},__vite__mapDeps([121,116,99,101,102]),import.meta.url);return{id:id7,diagram:Ye}},"loader"),info={id:id7,detector:detector7,loader:loader7},id8="pie",detector8=__name(Ye=>/^\s*pie/.test(Ye),"detector"),loader8=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./pieDiagram-ADFJNKIX-CJJKoAyb.js");return{diagram:rt}},__vite__mapDeps([122,114,116,99,101,102,123,124,119]),import.meta.url);return{id:id8,diagram:Ye}},"loader"),pie={id:id8,detector:detector8,loader:loader8},id9="quadrantChart",detector9=__name(Ye=>/^\s*quadrantChart/.test(Ye),"detector"),loader9=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./quadrantDiagram-AYHSOK5B-B_qEMvhL.js");return{diagram:rt}},__vite__mapDeps([125,118,119,120]),import.meta.url);return{id:id9,diagram:Ye}},"loader"),plugin7={id:id9,detector:detector9,loader:loader9},quadrantDetector_default=plugin7,id10="xychart",detector10=__name(Ye=>/^\s*xychart(-beta)?/.test(Ye),"detector"),loader10=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./xychartDiagram-PRI3JC2R-BYmOJmk_.js");return{diagram:rt}},__vite__mapDeps([126,119,124,118,120]),import.meta.url);return{id:id10,diagram:Ye}},"loader"),plugin8={id:id10,detector:detector10,loader:loader10},xychartDetector_default=plugin8,id11="requirement",detector11=__name(Ye=>/^\s*requirement(Diagram)?/.test(Ye),"detector"),loader11=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./requirementDiagram-UZGBJVZJ-B-I5dvy6.js");return{diagram:rt}},__vite__mapDeps([127,109,110]),import.meta.url);return{id:id11,diagram:Ye}},"loader"),plugin9={id:id11,detector:detector11,loader:loader11},requirementDetector_default=plugin9,id12="sequence",detector12=__name(Ye=>/^\s*sequenceDiagram/.test(Ye),"detector"),loader12=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./sequenceDiagram-WL72ISMW-B3RMbukn.js");return{diagram:rt}},__vite__mapDeps([128,106,115]),import.meta.url);return{id:id12,diagram:Ye}},"loader"),plugin10={id:id12,detector:detector12,loader:loader12},sequenceDetector_default=plugin10,id13="class",detector13=__name((Ye,rt)=>rt?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(Ye),"detector"),loader13=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./classDiagram-2ON5EDUG-CwGzo9tM.js");return{diagram:rt}},__vite__mapDeps([129,130,108,109,110]),import.meta.url);return{id:id13,diagram:Ye}},"loader"),plugin11={id:id13,detector:detector13,loader:loader13},classDetector_default=plugin11,id14="classDiagram",detector14=__name((Ye,rt)=>/^\s*classDiagram/.test(Ye)&&rt?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(Ye),"detector"),loader14=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./classDiagram-v2-WZHVMYZB-CwGzo9tM.js");return{diagram:rt}},__vite__mapDeps([131,130,108,109,110]),import.meta.url);return{id:id14,diagram:Ye}},"loader"),plugin12={id:id14,detector:detector14,loader:loader14},classDetector_V2_default=plugin12,id15="state",detector15=__name((Ye,rt)=>rt?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(Ye),"detector"),loader15=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./stateDiagram-FKZM4ZOC-DtSld5Ed.js");return{diagram:rt}},__vite__mapDeps([132,133,109,110,98,99,100,101]),import.meta.url);return{id:id15,diagram:Ye}},"loader"),plugin13={id:id15,detector:detector15,loader:loader15},stateDetector_default=plugin13,id16="stateDiagram",detector16=__name((Ye,rt)=>!!(/^\s*stateDiagram-v2/.test(Ye)||/^\s*stateDiagram/.test(Ye)&&rt?.state?.defaultRenderer==="dagre-wrapper"),"detector"),loader16=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./stateDiagram-v2-4FDKWEC3-vVgYPzIz.js");return{diagram:rt}},__vite__mapDeps([134,133,109,110]),import.meta.url);return{id:id16,diagram:Ye}},"loader"),plugin14={id:id16,detector:detector16,loader:loader16},stateDetector_V2_default=plugin14,id17="journey",detector17=__name(Ye=>/^\s*journey/.test(Ye),"detector"),loader17=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./journeyDiagram-XKPGCS4Q-4tS17qHF.js");return{diagram:rt}},__vite__mapDeps([135,106,108,123]),import.meta.url);return{id:id17,diagram:Ye}},"loader"),plugin15={id:id17,detector:detector17,loader:loader17},journeyDetector_default=plugin15,draw=__name((Ye,rt,it)=>{log.debug(`rendering svg for syntax error
`);const lt=selectSvgElement(rt),ct=lt.append("g");lt.attr("viewBox","0 0 2412 512"),configureSvgSize(lt,100,512,!0),ct.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),ct.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),ct.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),ct.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),ct.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),ct.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),ct.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),ct.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${it}`)},"draw"),renderer={draw},errorRenderer_default=renderer,diagram={db:{},renderer,parser:{parse:__name(()=>{},"parse")}},errorDiagram_default=diagram,id18="flowchart-elk",detector18=__name((Ye,rt={})=>/^\s*flowchart-elk/.test(Ye)||/^\s*(flowchart|graph)/.test(Ye)&&rt?.flowchart?.defaultRenderer==="elk"?(rt.layout="elk",!0):!1,"detector"),loader18=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./flowDiagram-NV44I4VS-DKEHsifo.js");return{diagram:rt}},__vite__mapDeps([107,108,109,110,111]),import.meta.url);return{id:id18,diagram:Ye}},"loader"),plugin16={id:id18,detector:detector18,loader:loader18},detector_default=plugin16,id19="timeline",detector19=__name(Ye=>/^\s*timeline/.test(Ye),"detector"),loader19=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./timeline-definition-IT6M3QCI-DIi4L9NN.js");return{diagram:rt}},__vite__mapDeps([136,123]),import.meta.url);return{id:id19,diagram:Ye}},"loader"),plugin17={id:id19,detector:detector19,loader:loader19},detector_default2=plugin17,id20="mindmap",detector20=__name(Ye=>/^\s*mindmap/.test(Ye),"detector"),loader20=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./mindmap-definition-VGOIOE7T-BdoNlQYS.js");return{diagram:rt}},__vite__mapDeps([137,109,110]),import.meta.url);return{id:id20,diagram:Ye}},"loader"),plugin18={id:id20,detector:detector20,loader:loader20},detector_default3=plugin18,id21="kanban",detector21=__name(Ye=>/^\s*kanban/.test(Ye),"detector"),loader21=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./kanban-definition-3W4ZIXB7-BOTvLP6d.js");return{diagram:rt}},__vite__mapDeps([138,108]),import.meta.url);return{id:id21,diagram:Ye}},"loader"),plugin19={id:id21,detector:detector21,loader:loader21},detector_default4=plugin19,id22="sankey",detector22=__name(Ye=>/^\s*sankey(-beta)?/.test(Ye),"detector"),loader22=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./sankeyDiagram-TZEHDZUN-CT3hE28k.js");return{diagram:rt}},__vite__mapDeps([139,124,119]),import.meta.url);return{id:id22,diagram:Ye}},"loader"),plugin20={id:id22,detector:detector22,loader:loader22},sankeyDetector_default=plugin20,id23="packet",detector23=__name(Ye=>/^\s*packet(-beta)?/.test(Ye),"detector"),loader23=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./diagram-S2PKOQOG-I-ALrjol.js");return{diagram:rt}},__vite__mapDeps([140,114,116,99,101,102]),import.meta.url);return{id:id23,diagram:Ye}},"loader"),packet={id:id23,detector:detector23,loader:loader23},id24="radar",detector24=__name(Ye=>/^\s*radar-beta/.test(Ye),"detector"),loader24=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./diagram-QEK2KX5R-C7hqUM_F.js");return{diagram:rt}},__vite__mapDeps([141,114,116,99,101,102]),import.meta.url);return{id:id24,diagram:Ye}},"loader"),radar={id:id24,detector:detector24,loader:loader24},id25="block",detector25=__name(Ye=>/^\s*block(-beta)?/.test(Ye),"detector"),loader25=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./blockDiagram-VD42YOAC-C2f4sJJM.js");return{diagram:rt}},__vite__mapDeps([142,108,102,99,98,111]),import.meta.url);return{id:id25,diagram:Ye}},"loader"),plugin21={id:id25,detector:detector25,loader:loader25},blockDetector_default=plugin21,id26="architecture",detector26=__name(Ye=>/^\s*architecture/.test(Ye),"detector"),loader26=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./architectureDiagram-VXUJARFQ-CXQgM991.js");return{diagram:rt}},__vite__mapDeps([143,114,116,99,101,102,104]),import.meta.url);return{id:id26,diagram:Ye}},"loader"),architecture={id:id26,detector:detector26,loader:loader26},architectureDetector_default=architecture,id27="treemap",detector27=__name(Ye=>/^\s*treemap/.test(Ye),"detector"),loader27=__name(async()=>{const{diagram:Ye}=await __vitePreload(async()=>{const{diagram:rt}=await import("./diagram-PSM6KHXK-DfGS7rKK.js");return{diagram:rt}},__vite__mapDeps([144,110,114,116,99,101,102,120,124,119]),import.meta.url);return{id:id27,diagram:Ye}},"loader"),treemap={id:id27,detector:detector27,loader:loader27},hasLoadedDiagrams=!1,addDiagrams=__name(()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram_default,Ye=>Ye.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:__name(()=>{},"clear")},styles:{},renderer:{draw:__name(()=>{},"draw")},parser:{parse:__name(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:__name(()=>null,"init")},Ye=>Ye.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(detector_default,detector_default3,architectureDetector_default),registerLazyLoadedDiagrams(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,flowDetector_v2_default,flowDetector_default,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,radar,treemap))},"addDiagrams"),loadRegisteredDiagrams=__name(async()=>{log.debug("Loading registered diagrams");const rt=(await Promise.allSettled(Object.entries(detectors).map(async([it,{detector:lt,loader:ct}])=>{if(ct)try{getDiagram(it)}catch{try{const{diagram:ut,id:ht}=await ct();registerDiagram(ht,ut,lt)}catch(ut){throw log.error(`Failed to load external diagram with key ${it}. Removing from detectors.`),delete detectors[it],ut}}}))).filter(it=>it.status==="rejected");if(rt.length>0){log.error(`Failed to load ${rt.length} external diagrams`);for(const it of rt)log.error(it);throw new Error(`Failed to load ${rt.length} external diagrams`)}},"loadRegisteredDiagrams"),SVG_ROLE="graphics-document document";function setA11yDiagramInfo(Ye,rt){Ye.attr("role",SVG_ROLE),rt!==""&&Ye.attr("aria-roledescription",rt)}__name(setA11yDiagramInfo,"setA11yDiagramInfo");function addSVGa11yTitleDescription(Ye,rt,it,lt){if(Ye.insert!==void 0){if(it){const ct=`chart-desc-${lt}`;Ye.attr("aria-describedby",ct),Ye.insert("desc",":first-child").attr("id",ct).text(it)}if(rt){const ct=`chart-title-${lt}`;Ye.attr("aria-labelledby",ct),Ye.insert("title",":first-child").attr("id",ct).text(rt)}}}__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var oa,Diagram=(oa=class{constructor(rt,it,lt,ct,ut){this.type=rt,this.text=it,this.db=lt,this.parser=ct,this.renderer=ut}static async fromText(rt,it={}){const lt=getConfig(),ct=detectType$1(rt,lt);rt=encodeEntities(rt)+`
`;try{getDiagram(ct)}catch{const mt=getDiagramLoader(ct);if(!mt)throw new UnknownDiagramError(`Diagram ${ct} not found.`);const{id:gt,diagram:yt}=await mt();registerDiagram(gt,yt)}const{db:ut,parser:ht,renderer:ft,init:pt}=getDiagram(ct);return ht.parser&&(ht.parser.yy=ut),ut.clear?.(),pt?.(lt),it.title&&ut.setDiagramTitle?.(it.title),await ht.parse(rt),new oa(ct,rt,ut,ht,ft)}async render(rt,it){await this.renderer.draw(this.text,rt,it,this)}getParser(){return this.parser}getType(){return this.type}},__name(oa,"Diagram"),oa),interactionFunctions=[],attachFunctions=__name(()=>{interactionFunctions.forEach(Ye=>{Ye()}),interactionFunctions=[]},"attachFunctions"),cleanupComments=__name(Ye=>Ye.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(Ye){const rt=Ye.match(frontMatterRegex);if(!rt)return{text:Ye,metadata:{}};let it=load(rt[1],{schema:JSON_SCHEMA})??{};it=typeof it=="object"&&!Array.isArray(it)?it:{};const lt={};return it.displayMode&&(lt.displayMode=it.displayMode.toString()),it.title&&(lt.title=it.title.toString()),it.config&&(lt.config=it.config),{text:Ye.slice(rt[0].length),metadata:lt}}__name(extractFrontMatter,"extractFrontMatter");var cleanupText=__name(Ye=>Ye.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(rt,it,lt)=>"<"+it+lt.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),processFrontmatter=__name(Ye=>{const{text:rt,metadata:it}=extractFrontMatter(Ye),{displayMode:lt,title:ct,config:ut={}}=it;return lt&&(ut.gantt||(ut.gantt={}),ut.gantt.displayMode=lt),{title:ct,config:ut,text:rt}},"processFrontmatter"),processDirectives=__name(Ye=>{const rt=utils_default.detectInit(Ye)??{},it=utils_default.detectDirective(Ye,"wrap");return Array.isArray(it)?rt.wrap=it.some(({type:lt})=>lt==="wrap"):it?.type==="wrap"&&(rt.wrap=!0),{text:removeDirectives(Ye),directive:rt}},"processDirectives");function preprocessDiagram(Ye){const rt=cleanupText(Ye),it=processFrontmatter(rt),lt=processDirectives(it.text),ct=cleanAndMerge(it.config,lt.directive);return Ye=cleanupComments(lt.text),{code:Ye,title:it.title,config:ct}}__name(preprocessDiagram,"preprocessDiagram");function toBase64(Ye){const rt=new TextEncoder().encode(Ye),it=Array.from(rt,lt=>String.fromCodePoint(lt)).join("");return btoa(it)}__name(toBase64,"toBase64");var MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(Ye){const rt=preprocessDiagram(Ye);return reset(),addDirective(rt.config??{}),rt}__name(processAndSetConfigs,"processAndSetConfigs");async function parse$2(Ye,rt){addDiagrams();try{const{code:it,config:lt}=processAndSetConfigs(Ye);return{diagramType:(await getDiagramFromText(it)).type,config:lt}}catch(it){if(rt?.suppressErrors)return!1;throw it}}__name(parse$2,"parse");var cssImportantStyles=__name((Ye,rt,it=[])=>`
.${Ye} ${rt} { ${it.join(" !important; ")} !important; }`,"cssImportantStyles"),createCssStyles=__name((Ye,rt=new Map)=>{let it="";if(Ye.themeCSS!==void 0&&(it+=`
${Ye.themeCSS}`),Ye.fontFamily!==void 0&&(it+=`
:root { --mermaid-font-family: ${Ye.fontFamily}}`),Ye.altFontFamily!==void 0&&(it+=`
:root { --mermaid-alt-font-family: ${Ye.altFontFamily}}`),rt instanceof Map){const ht=Ye.htmlLabels??Ye.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];rt.forEach(ft=>{isEmpty(ft.styles)||ht.forEach(pt=>{it+=cssImportantStyles(ft.id,pt,ft.styles)}),isEmpty(ft.textStyles)||(it+=cssImportantStyles(ft.id,"tspan",(ft?.textStyles||[]).map(pt=>pt.replace("color","fill"))))})}return it},"createCssStyles"),createUserStyles=__name((Ye,rt,it,lt)=>{const ct=createCssStyles(Ye,it),ut=styles_default(rt,ct,Ye.themeVariables);return serialize$3(compile$1(`${lt}{${ut}}`),stringify$1)},"createUserStyles"),cleanUpSvgCode=__name((Ye="",rt,it)=>{let lt=Ye;return!it&&!rt&&(lt=lt.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),lt=decodeEntities(lt),lt=lt.replace(/<br>/g,"<br/>"),lt},"cleanUpSvgCode"),putIntoIFrame=__name((Ye="",rt)=>{const it=rt?.viewBox?.baseVal?.height?rt.viewBox.baseVal.height+"px":IFRAME_HEIGHT,lt=toBase64(`<body style="${IFRAME_BODY_STYLE}">${Ye}</body>`);return`<iframe style="width:${IFRAME_WIDTH};height:${it};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${lt}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},"putIntoIFrame"),appendDivSvgG=__name((Ye,rt,it,lt,ct)=>{const ut=Ye.append("div");ut.attr("id",it),lt&&ut.attr("style",lt);const ht=ut.append("svg").attr("id",rt).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return ct&&ht.attr("xmlns:xlink",ct),ht.append("g"),Ye},"appendDivSvgG");function sandboxedIframe(Ye,rt){return Ye.append("iframe").attr("id",rt).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var removeExistingElements=__name((Ye,rt,it,lt)=>{Ye.getElementById(rt)?.remove(),Ye.getElementById(it)?.remove(),Ye.getElementById(lt)?.remove()},"removeExistingElements"),render=__name(async function(Ye,rt,it){addDiagrams();const lt=processAndSetConfigs(rt);rt=lt.code;const ct=getConfig();log.debug(ct),rt.length>(ct?.maxTextSize??MAX_TEXTLENGTH)&&(rt=MAX_TEXTLENGTH_EXCEEDED_MSG);const ut="#"+Ye,ht="i"+Ye,ft="#"+ht,pt="d"+Ye,mt="#"+pt,gt=__name(()=>{const Qt=select(xt?ft:mt).node();Qt&&"remove"in Qt&&Qt.remove()},"removeTempElements");let yt=select("body");const xt=ct.securityLevel===SECURITY_LVL_SANDBOX,bt=ct.securityLevel===SECURITY_LVL_LOOSE,_t=ct.fontFamily;if(it!==void 0){if(it&&(it.innerHTML=""),xt){const Kt=sandboxedIframe(select(it),ht);yt=select(Kt.nodes()[0].contentDocument.body),yt.node().style.margin=0}else yt=select(it);appendDivSvgG(yt,Ye,pt,`font-family: ${_t}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,Ye,pt,ht),xt){const Kt=sandboxedIframe(select("body"),ht);yt=select(Kt.nodes()[0].contentDocument.body),yt.node().style.margin=0}else yt=select("body");appendDivSvgG(yt,Ye,pt)}let Ct,kt;try{Ct=await Diagram.fromText(rt,{title:lt.title})}catch(Kt){if(ct.suppressErrorRendering)throw gt(),Kt;Ct=await Diagram.fromText("error"),kt=Kt}const St=yt.select(mt).node(),Rt=Ct.type,Tt=St.firstChild,Mt=Tt.firstChild,Pt=Ct.renderer.getClasses?.(rt,Ct),It=createUserStyles(ct,Rt,Pt,ut),Lt=document.createElement("style");Lt.innerHTML=It,Tt.insertBefore(Lt,Mt);try{await Ct.renderer.draw(rt,Ye,package_default.version,Ct)}catch(Kt){throw ct.suppressErrorRendering?gt():errorRenderer_default.draw(rt,Ye,package_default.version),Kt}const Ot=yt.select(`${mt} svg`),Ft=Ct.db.getAccTitle?.(),Ut=Ct.db.getAccDescription?.();addA11yInfo(Rt,Ot,Ft,Ut),yt.select(`[id="${Ye}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Wt=yt.select(mt).node().innerHTML;if(log.debug("config.arrowMarkerAbsolute",ct.arrowMarkerAbsolute),Wt=cleanUpSvgCode(Wt,xt,evaluate(ct.arrowMarkerAbsolute)),xt){const Kt=yt.select(mt+" svg").node();Wt=putIntoIFrame(Wt,Kt)}else bt||(Wt=purify.sanitize(Wt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(attachFunctions(),kt)throw kt;return gt(),{diagramType:Rt,svg:Wt,bindFunctions:Ct.db.bindFunctions}},"render");function initialize(Ye={}){const rt=assignWithDepth_default({},Ye);rt?.fontFamily&&!rt.themeVariables?.fontFamily&&(rt.themeVariables||(rt.themeVariables={}),rt.themeVariables.fontFamily=rt.fontFamily),saveConfigFromInitialize(rt),rt?.theme&&rt.theme in themes_default?rt.themeVariables=themes_default[rt.theme].getThemeVariables(rt.themeVariables):rt&&(rt.themeVariables=themes_default.default.getThemeVariables(rt.themeVariables));const it=typeof rt=="object"?setSiteConfig(rt):getSiteConfig();setLogLevel(it.logLevel),addDiagrams()}__name(initialize,"initialize");var getDiagramFromText=__name((Ye,rt={})=>{const{code:it}=preprocessDiagram(Ye);return Diagram.fromText(it,rt)},"getDiagramFromText");function addA11yInfo(Ye,rt,it,lt){setA11yDiagramInfo(rt,Ye),addSVGa11yTitleDescription(rt,it,lt,rt.attr("id"))}__name(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render,parse:parse$2,getDiagramFromText,initialize,getConfig,setConfig,getSiteConfig,updateSiteConfig,reset:__name(()=>{reset()},"reset"),globalReset:__name(()=>{reset(defaultConfig)},"globalReset"),defaultConfig});setLogLevel(getConfig().logLevel);reset(getConfig());var handleError=__name((Ye,rt,it)=>{log.warn(Ye),isDetailedError(Ye)?(it&&it(Ye.str,Ye.hash),rt.push({...Ye,message:Ye.str,error:Ye})):(it&&it(Ye),Ye instanceof Error&&rt.push({str:Ye.message,message:Ye.message,hash:Ye.name,error:Ye}))},"handleError"),run=__name(async function(Ye={querySelector:".mermaid"}){try{await runThrowsErrors(Ye)}catch(rt){if(isDetailedError(rt)&&log.error(rt.str),mermaid.parseError&&mermaid.parseError(rt),!Ye.suppressErrors)throw log.error("Use the suppressErrors option to suppress these errors"),rt}},"run"),runThrowsErrors=__name(async function({postRenderCallback:Ye,querySelector:rt,nodes:it}={querySelector:".mermaid"}){const lt=mermaidAPI.getConfig();log.debug(`${Ye?"":"No "}Callback function found`);let ct;if(it)ct=it;else if(rt)ct=document.querySelectorAll(rt);else throw new Error("Nodes and querySelector are both undefined");log.debug(`Found ${ct.length} diagrams`),lt?.startOnLoad!==void 0&&(log.debug("Start On Load: "+lt?.startOnLoad),mermaidAPI.updateSiteConfig({startOnLoad:lt?.startOnLoad}));const ut=new utils_default.InitIDGenerator(lt.deterministicIds,lt.deterministicIDSeed);let ht;const ft=[];for(const pt of Array.from(ct)){if(log.info("Rendering diagram: "+pt.id),pt.getAttribute("data-processed"))continue;pt.setAttribute("data-processed","true");const mt=`mermaid-${ut.next()}`;ht=pt.innerHTML,ht=dedent(utils_default.entityDecode(ht)).trim().replace(/<br\s*\/?>/gi,"<br/>");const gt=utils_default.detectInit(ht);gt&&log.debug("Detected early reinit: ",gt);try{const{svg:yt,bindFunctions:xt}=await render2(mt,ht,pt);pt.innerHTML=yt,Ye&&await Ye(mt),xt&&xt(pt)}catch(yt){handleError(yt,ft,mermaid.parseError)}}if(ft.length>0)throw ft[0]},"runThrowsErrors"),initialize2=__name(function(Ye){mermaidAPI.initialize(Ye)},"initialize"),init=__name(async function(Ye,rt,it){log.warn("mermaid.init is deprecated. Please use run instead."),Ye&&initialize2(Ye);const lt={postRenderCallback:it,querySelector:".mermaid"};typeof rt=="string"?lt.querySelector=rt:rt&&(rt instanceof HTMLElement?lt.nodes=[rt]:lt.nodes=rt),await run(lt)},"init"),registerExternalDiagrams=__name(async(Ye,{lazyLoad:rt=!0}={})=>{addDiagrams(),registerLazyLoadedDiagrams(...Ye),rt===!1&&await loadRegisteredDiagrams()},"registerExternalDiagrams"),contentLoaded=__name(function(){if(mermaid.startOnLoad){const{startOnLoad:Ye}=mermaidAPI.getConfig();Ye&&mermaid.run().catch(rt=>log.error("Mermaid failed to initialize",rt))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=__name(function(Ye){mermaid.parseError=Ye},"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=__name(async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const Ye=executionQueue.shift();if(Ye)try{await Ye()}catch(rt){log.error("Error executing queue",rt)}}executionQueueRunning=!1}},"executeQueue"),parse2=__name(async(Ye,rt)=>new Promise((it,lt)=>{const ct=__name(()=>new Promise((ut,ht)=>{mermaidAPI.parse(Ye,rt).then(ft=>{ut(ft),it(ft)},ft=>{log.error("Error parsing",ft),mermaid.parseError?.(ft),ht(ft),lt(ft)})}),"performCall");executionQueue.push(ct),executeQueue().catch(lt)}),"parse"),render2=__name((Ye,rt,it)=>new Promise((lt,ct)=>{const ut=__name(()=>new Promise((ht,ft)=>{mermaidAPI.render(Ye,rt,it).then(pt=>{ht(pt),lt(pt)},pt=>{log.error("Error parsing",pt),mermaid.parseError?.(pt),ft(pt),ct(pt)})}),"performCall");executionQueue.push(ut),executeQueue().catch(ct)}),"render"),getRegisteredDiagramsMetadata=__name(()=>Object.keys(detectors).map(Ye=>({id:Ye})),"getRegisteredDiagramsMetadata"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init,run,registerExternalDiagrams,registerLayoutLoaders,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:detectType$1,registerIconPacks,getRegisteredDiagramsMetadata},mermaid_default=mermaid;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const DIAGRAM_PADDING_CLASS="bg-token-text-code-block-background/10 border-token-input-background relative overflow-x-auto rounded-lg border px-4 py-3",DIRECTIVE_PATTERN=/%%\{[\s\S]*?\}%%/g,SECURITY_LEVEL_PATTERN=/securityLevel\s*:/i;function sanitizeMermaidCode(Ye){let rt=!1;const it=Ye.replace(DIRECTIVE_PATTERN,lt=>(SECURITY_LEVEL_PATTERN.test(lt)&&(rt=!0),""));if(!rt)return it}function ensureMermaidConfig(Ye){mermaid_default.initialize({startOnLoad:!1,securityLevel:"strict",theme:Ye})}function MermaidDiagram({code:Ye,className:rt,fallback:it}){const lt=useIsDark(),ct=reactExports.useId(),ut=reactExports.useMemo(()=>`mermaid-${ct.replace(/[^a-zA-Z0-9_-]/g,"")}`,[ct]),ht=reactExports.useMemo(()=>sanitizeMermaidCode(Ye),[Ye]),ft=reactExports.useMemo(()=>ht!=null?detectMermaidDiagramKind(ht):null,[ht]);return ht==null?jsxRuntimeExports.jsx("div",{className:clsx("my-2",rt),children:it}):jsxRuntimeExports.jsx("div",{className:clsx("my-2",rt),children:jsxRuntimeExports.jsx(MermaidDiagramContent,{code:Ye,diagramId:ut,diagramKind:ft,fallback:it,isDark:!!lt,sanitizedCode:ht})})}function MermaidDiagramContent({code:Ye,diagramId:rt,diagramKind:it,fallback:lt,isDark:ct,sanitizedCode:ut}){const ht=useIntl(),ft=reactExports.useRef(null),[pt,mt]=reactExports.useState(null),gt=reactExports.useMemo(()=>`${ct?"dark":"light"}::${ut}`,[ct,ut]);return reactExports.useEffect(()=>{if(typeof window>"u")return;const yt=ft.current;if(!yt)return;if(!Ye){yt.innerHTML="";return}const xt=ct?"dark":"default";let bt=!1;return yt.innerHTML="",(async()=>{try{ensureMermaidConfig(xt),await mermaid_default.parse(ut);const{svg:Ct}=await mermaid_default.render(rt,ut);if(bt)return;yt.innerHTML=Ct,yt.setAttribute("data-mermaid-theme",xt),it!=null?yt.setAttribute("data-mermaid-diagram",it):yt.removeAttribute("data-mermaid-diagram"),mt(kt=>kt===gt?null:kt)}catch{if(bt)return;yt.innerHTML="",mt(gt)}})(),()=>{bt=!0}},[Ye,rt,it,ct,gt,ut]),pt===gt?lt??null:jsxRuntimeExports.jsxs("div",{ref:ft,className:clsx(DIAGRAM_PADDING_CLASS,"[&>svg]:h-full [&>svg]:w-full [&>svg]:max-w-full [&>svg]:text-left"),"aria-label":ht.formatMessage({id:"mermaidDiagram.ariaLabel",defaultMessage:"Mermaid diagram",description:"ARIA label for rendered mermaid diagrams"}),role:"img",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"mermaidDiagram.originalCode",defaultMessage:"Mermaid source code",description:"Screen reader label for the hidden mermaid source code."})}),jsxRuntimeExports.jsx("pre",{className:"sr-only whitespace-pre-wrap",children:Ye})]})}const convert=(function(Ye){if(Ye==null)return ok$1;if(typeof Ye=="function")return castFactory(Ye);if(typeof Ye=="object")return Array.isArray(Ye)?anyFactory(Ye):propsFactory(Ye);if(typeof Ye=="string")return typeFactory(Ye);throw new Error("Expected function, string, or object as test")});function anyFactory(Ye){const rt=[];let it=-1;for(;++it<Ye.length;)rt[it]=convert(Ye[it]);return castFactory(lt);function lt(...ct){let ut=-1;for(;++ut<rt.length;)if(rt[ut].apply(this,ct))return!0;return!1}}function propsFactory(Ye){const rt=Ye;return castFactory(it);function it(lt){const ct=lt;let ut;for(ut in Ye)if(ct[ut]!==rt[ut])return!1;return!0}}function typeFactory(Ye){return castFactory(rt);function rt(it){return it&&it.type===Ye}}function castFactory(Ye){return rt;function rt(it,lt,ct){return!!(looksLikeANode(it)&&Ye.call(this,it,typeof lt=="number"?lt:void 0,ct||void 0))}}function ok$1(){return!0}function looksLikeANode(Ye){return Ye!==null&&typeof Ye=="object"&&"type"in Ye}function color(Ye){return Ye}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(Ye,rt,it,lt){let ct;typeof rt=="function"&&typeof it!="function"?(lt=it,it=rt):ct=rt;const ut=convert(ct),ht=lt?-1:1;ft(Ye,void 0,[])();function ft(pt,mt,gt){const yt=pt&&typeof pt=="object"?pt:{};if(typeof yt.type=="string"){const bt=typeof yt.tagName=="string"?yt.tagName:typeof yt.name=="string"?yt.name:void 0;Object.defineProperty(xt,"name",{value:"node ("+(pt.type+(bt?"<"+bt+">":""))+")"})}return xt;function xt(){let bt=empty,_t,Ct,kt;if((!rt||ut(pt,mt,gt[gt.length-1]||void 0))&&(bt=toResult(it(pt,gt)),bt[0]===EXIT))return bt;if("children"in pt&&pt.children){const St=pt;if(St.children&&bt[0]!==SKIP)for(Ct=(lt?St.children.length:-1)+ht,kt=gt.concat(St);Ct>-1&&Ct<St.children.length;){const Rt=St.children[Ct];if(_t=ft(Rt,Ct,kt)(),_t[0]===EXIT)return _t;Ct=typeof _t[1]=="number"?_t[1]:Ct+ht}}return bt}}}function toResult(Ye){return Array.isArray(Ye)?Ye:typeof Ye=="number"?[CONTINUE,Ye]:Ye==null?empty:[Ye]}function visit(Ye,rt,it,lt){let ct,ut,ht;typeof rt=="function"&&typeof it!="function"?(ut=void 0,ht=rt,ct=it):(ut=rt,ht=it,ct=lt),visitParents(Ye,ut,ft,ct);function ft(pt,mt){const gt=mt[mt.length-1],yt=gt?gt.children.indexOf(pt):void 0;return ht(pt,yt,gt)}}function isNodeElement(Ye){return Ye.type==="element"}function isNodeCodeElement(Ye){return isNodeElement(Ye)?Ye.tagName==="code":!1}function rehypeInlineCodeProperty(){return function(Ye){visit(Ye,"element",function(rt,it,lt){isNodeCodeElement(rt)&&(lt&&isNodeElement(lt)&&lt.tagName==="pre"?rt.properties.inline=!1:rt.properties.inline=!0)})}}const MARKDOWN_ESCAPABLE_CHARACTERS=new Set(["\\","`","*","_","{","}","[","]","(",")","#","+","-",".","!",">"]);function isBoundaryCharacter(Ye){return Ye==null?!0:/[\s()[\]{}<>]/.test(Ye)}function isLikelyWindowsPath(Ye,rt){const it=Ye[rt-1];if(Ye[rt+1]==="\\"&&(rt===0||isBoundaryCharacter(it))||it==="\\"&&(rt-1===0||isBoundaryCharacter(Ye[rt-2])))return!0;for(let ct=rt;ct>=0;ct-=1){const ut=Ye[ct];if(ut===`
`||ut==="\r")break;if(ut==="\\"&&ct>0&&Ye[ct-1]==="\\"&&(ct-1===0||isBoundaryCharacter(Ye[ct-2])))return!0;if(ut===":"&&ct>0){const ht=Ye[ct-1],ft=Ye[ct+1];if(/[A-Za-z]/.test(ht)&&ft==="\\")return!0}}return!1}function preserveWindowsPathBackslashes(Ye,rt){if(!rt||!rt.includes("\\"))return Ye;let it="",lt=0,ct=0,ut=!1;for(;lt<rt.length&&ct<Ye.length;){if(rt[lt]==="\\"&&lt+1<rt.length&&MARKDOWN_ESCAPABLE_CHARACTERS.has(rt[lt+1])){isLikelyWindowsPath(rt,lt)&&(it+="\\",ut=!0),it+=Ye[ct],ct+=1,lt+=2;continue}it+=Ye[ct],ct+=1,lt+=1}return ct<Ye.length&&(it+=Ye.slice(ct)),ut?it:Ye}const SKIP_PARENT_TYPES=new Set(["code","inlineCode"]),remarkPreserveWindowsPaths=()=>(Ye,rt)=>{visit(Ye,"text",(it,lt,ct)=>{if(ct&&SKIP_PARENT_TYPES.has(ct.type))return;const ut=it;if(typeof rt.value!="string")return;const ht=ut.position;if(!ht||ht.start.offset==null||ht.end.offset==null)return;const ft=rt.value.slice(ht.start.offset,ht.end.offset),pt=preserveWindowsPathBackslashes(ut.value,ft);pt!==ut.value&&(ut.value=pt)})},emptyOptions$4={};function toString$3(Ye,rt){const it=emptyOptions$4,lt=typeof it.includeImageAlt=="boolean"?it.includeImageAlt:!0,ct=typeof it.includeHtml=="boolean"?it.includeHtml:!0;return one$1(Ye,lt,ct)}function one$1(Ye,rt,it){if(node$1(Ye)){if("value"in Ye)return Ye.type==="html"&&!it?"":Ye.value;if(rt&&"alt"in Ye&&Ye.alt)return Ye.alt;if("children"in Ye)return all(Ye.children,rt,it)}return Array.isArray(Ye)?all(Ye,rt,it):""}function all(Ye,rt,it){const lt=[];let ct=-1;for(;++ct<Ye.length;)lt[ct]=one$1(Ye[ct],rt,it);return lt.join("")}function node$1(Ye){return!!(Ye&&typeof Ye=="object")}const WHAM_TASK_STUB_DIRECTIVE_NAME="task-stub",WHAM_FILE_DIRECTIVE_NAME="codex-file-citation",WHAM_TERMINAL_DIRECTIVE_NAME="codex-terminal-citation",WHAM_IMAGE_DIRECTIVE_NAME="codex-image-citation";function isDirectiveNode(Ye){return(Ye.type==="containerDirective"||Ye.type==="textDirective"||Ye.type==="leafDirective")&&"name"in Ye}const codexRemarkDirective=()=>Ye=>{visit(Ye,rt=>{if(!isDirectiveNode(rt))return;const it=rt.data??(rt.data={});switch(rt.name){case WHAM_FILE_DIRECTIVE_NAME:{it.hName=WHAM_FILE_DIRECTIVE_NAME;const lt=parseInt(rt.attributes?.line_range_start??"0",10),ct=parseInt(rt.attributes?.line_range_end??rt.attributes?.line_range_start??"0",10);it.hProperties={path:rt.attributes?.path,lineRangeStart:lt,lineRangeEnd:ct,gitUrl:rt.attributes?.git_url};break}case WHAM_TERMINAL_DIRECTIVE_NAME:{it.hName=WHAM_TERMINAL_DIRECTIVE_NAME;const lt=parseInt(rt.attributes?.line_range_start??"0",10),ct=parseInt(rt.attributes?.line_range_end??rt.attributes?.line_range_start??"0",10);it.hProperties={chunkId:rt.attributes?.terminal_chunk_id,lineRangeStart:lt,lineRangeEnd:ct};break}case WHAM_TASK_STUB_DIRECTIVE_NAME:{const lt=toString$3({type:"root",children:rt.children});it.hName=WHAM_TASK_STUB_DIRECTIVE_NAME,it.hProperties={title:rt.attributes?.title,prompt:lt};break}case WHAM_IMAGE_DIRECTIVE_NAME:{it.hName=WHAM_IMAGE_DIRECTIVE_NAME,it.hProperties={assetPointer:rt.attributes?.asset_pointer};break}}})};function fallbackDirective(){return Ye=>{visit(Ye,"textDirective",rt=>{rt.type="text",rt.value=`:${rt.name}`})}}function ProposedTaskDirectiveRenderer({title:Ye,prompt:rt}){const it=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"bg-token-bg-primary border-token-input-border mb-3 mt-1 flex w-full items-center rounded-xl border px-3 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-token-text-tertiary text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.whamProposedTask.title",defaultMessage:"Suggested task",description:"Label for a card that suggests a follow up Codex task"})}),jsxRuntimeExports.jsx("span",{className:clsx("text-sm font-medium"),children:Ye})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 text-sm",children:jsxRuntimeExports.jsx(Button,{color:"outline",onClick:()=>{it("/",{state:{prefillPrompt:rt}})},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"wham.whamProposedTask.useSuggestion",defaultMessage:"Use suggestion",description:"Button to open the Composer with a prefilled prompt from a suggestion"})})})]})}function ok(){}function unreachable(){}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name(Ye,rt){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(Ye)}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var Ye=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,rt=/\n/g,it=/^\s*/,lt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ct=/^:\s*/,ut=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ht=/^[;\s]*/,ft=/^\s+|\s+$/g,pt=`
`,mt="/",gt="*",yt="",xt="comment",bt="declaration";inlineStyleParser=function(Ct,kt){if(typeof Ct!="string")throw new TypeError("First argument must be a string");if(!Ct)return[];kt=kt||{};var St=1,Rt=1;function Tt(Qt){var Zt=Qt.match(rt);Zt&&(St+=Zt.length);var Vt=Qt.lastIndexOf(pt);Rt=~Vt?Qt.length-Vt:Rt+Qt.length}function Mt(){var Qt={line:St,column:Rt};return function(Zt){return Zt.position=new Pt(Qt),Ot(),Zt}}function Pt(Qt){this.start=Qt,this.end={line:St,column:Rt},this.source=kt.source}Pt.prototype.content=Ct;function It(Qt){var Zt=new Error(kt.source+":"+St+":"+Rt+": "+Qt);if(Zt.reason=Qt,Zt.filename=kt.source,Zt.line=St,Zt.column=Rt,Zt.source=Ct,!kt.silent)throw Zt}function Lt(Qt){var Zt=Qt.exec(Ct);if(Zt){var Vt=Zt[0];return Tt(Vt),Ct=Ct.slice(Vt.length),Zt}}function Ot(){Lt(it)}function Ft(Qt){var Zt;for(Qt=Qt||[];Zt=Ut();)Zt!==!1&&Qt.push(Zt);return Qt}function Ut(){var Qt=Mt();if(!(mt!=Ct.charAt(0)||gt!=Ct.charAt(1))){for(var Zt=2;yt!=Ct.charAt(Zt)&&(gt!=Ct.charAt(Zt)||mt!=Ct.charAt(Zt+1));)++Zt;if(Zt+=2,yt===Ct.charAt(Zt-1))return It("End of comment missing");var Vt=Ct.slice(2,Zt-2);return Rt+=2,Tt(Vt),Ct=Ct.slice(Zt),Rt+=2,Qt({type:xt,comment:Vt})}}function Wt(){var Qt=Mt(),Zt=Lt(lt);if(Zt){if(Ut(),!Lt(ct))return It("property missing ':'");var Vt=Lt(ut),$t=Qt({type:bt,property:_t(Zt[0].replace(Ye,yt)),value:Vt?_t(Vt[0].replace(Ye,yt)):yt});return Lt(ht),$t}}function Kt(){var Qt=[];Ft(Qt);for(var Zt;Zt=Wt();)Zt!==!1&&(Qt.push(Zt),Ft(Qt));return Qt}return Ot(),Kt()};function _t(Ct){return Ct?Ct.replace(ft,yt):yt}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var Ye=cjs$1&&cjs$1.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=it;var rt=Ye(requireInlineStyleParser());function it(lt,ct){var ut=null;if(!lt||typeof lt!="string")return ut;var ht=(0,rt.default)(lt),ft=typeof ct=="function";return ht.forEach(function(pt){if(pt.type==="declaration"){var mt=pt.property,gt=pt.value;ft?ct(mt,gt,pt):gt&&(ut=ut||{},ut[mt]=gt)}}),ut}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var Ye=/^--[a-zA-Z0-9_-]+$/,rt=/-([a-z])/g,it=/^[^-]+$/,lt=/^-(webkit|moz|ms|o|khtml)-/,ct=/^-(ms)-/,ut=function(mt){return!mt||it.test(mt)||Ye.test(mt)},ht=function(mt,gt){return gt.toUpperCase()},ft=function(mt,gt){return"".concat(gt,"-")},pt=function(mt,gt){return gt===void 0&&(gt={}),ut(mt)?mt:(mt=mt.toLowerCase(),gt.reactCompat?mt=mt.replace(ct,ft):mt=mt.replace(lt,ft),mt.replace(rt,ht))};return utilities.camelCase=pt,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var Ye=cjs&&cjs.__importDefault||function(ct){return ct&&ct.__esModule?ct:{default:ct}},rt=Ye(requireCjs$1()),it=requireUtilities();function lt(ct,ut){var ht={};return!ct||typeof ct!="string"||(0,rt.default)(ct,function(ft,pt){ft&&pt&&(ht[(0,it.camelCase)(ft,ut)]=pt)}),ht}return lt.default=lt,cjs=lt,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(Ye){return rt;function rt(it){const lt=it&&it.position&&it.position[Ye]||{};if(typeof lt.line=="number"&&lt.line>0&&typeof lt.column=="number"&&lt.column>0)return{line:lt.line,column:lt.column,offset:typeof lt.offset=="number"&&lt.offset>-1?lt.offset:void 0}}}function position$2(Ye){const rt=pointStart(Ye),it=pointEnd(Ye);if(rt&&it)return{start:rt,end:it}}function stringifyPosition(Ye){return!Ye||typeof Ye!="object"?"":"position"in Ye||"type"in Ye?position$1(Ye.position):"start"in Ye||"end"in Ye?position$1(Ye):"line"in Ye||"column"in Ye?point$1(Ye):""}function point$1(Ye){return index(Ye&&Ye.line)+":"+index(Ye&&Ye.column)}function position$1(Ye){return point$1(Ye&&Ye.start)+"-"+point$1(Ye&&Ye.end)}function index(Ye){return Ye&&typeof Ye=="number"?Ye:1}class VFileMessage extends Error{constructor(rt,it,lt){super(),typeof it=="string"&&(lt=it,it=void 0);let ct="",ut={},ht=!1;if(it&&("line"in it&&"column"in it?ut={place:it}:"start"in it&&"end"in it?ut={place:it}:"type"in it?ut={ancestors:[it],place:it.position}:ut={...it}),typeof rt=="string"?ct=rt:!ut.cause&&rt&&(ht=!0,ct=rt.message,ut.cause=rt),!ut.ruleId&&!ut.source&&typeof lt=="string"){const pt=lt.indexOf(":");pt===-1?ut.ruleId=lt:(ut.source=lt.slice(0,pt),ut.ruleId=lt.slice(pt+1))}if(!ut.place&&ut.ancestors&&ut.ancestors){const pt=ut.ancestors[ut.ancestors.length-1];pt&&(ut.place=pt.position)}const ft=ut.place&&"start"in ut.place?ut.place.start:ut.place;this.ancestors=ut.ancestors||void 0,this.cause=ut.cause||void 0,this.column=ft?ft.column:void 0,this.fatal=void 0,this.file,this.message=ct,this.line=ft?ft.line:void 0,this.name=stringifyPosition(ut.place)||"1:1",this.place=ut.place||void 0,this.reason=this.message,this.ruleId=ut.ruleId||void 0,this.source=ut.source||void 0,this.stack=ht&&ut.cause&&typeof ut.cause.stack=="string"?ut.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$5={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(Ye,rt){if(!rt||rt.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const it=rt.filePath||void 0;let lt;if(rt.development){if(typeof rt.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");lt=developmentCreate(it,rt.jsxDEV)}else{if(typeof rt.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof rt.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");lt=productionCreate(it,rt.jsx,rt.jsxs)}const ct={Fragment:rt.Fragment,ancestors:[],components:rt.components||{},create:lt,elementAttributeNameCase:rt.elementAttributeNameCase||"react",evaluater:rt.createEvaluater?rt.createEvaluater():void 0,filePath:it,ignoreInvalidStyle:rt.ignoreInvalidStyle||!1,passKeys:rt.passKeys!==!1,passNode:rt.passNode||!1,schema:rt.space==="svg"?svg$2:html$7,stylePropertyNameCase:rt.stylePropertyNameCase||"dom",tableCellAlignToStyle:rt.tableCellAlignToStyle!==!1},ut=one(ct,Ye,void 0);return ut&&typeof ut!="string"?ut:ct.create(Ye,ct.Fragment,{children:ut||void 0},void 0)}function one(Ye,rt,it){if(rt.type==="element")return element$1(Ye,rt,it);if(rt.type==="mdxFlowExpression"||rt.type==="mdxTextExpression")return mdxExpression(Ye,rt);if(rt.type==="mdxJsxFlowElement"||rt.type==="mdxJsxTextElement")return mdxJsxElement(Ye,rt,it);if(rt.type==="mdxjsEsm")return mdxEsm(Ye,rt);if(rt.type==="root")return root$2(Ye,rt,it);if(rt.type==="text")return text$5(Ye,rt)}function element$1(Ye,rt,it){const lt=Ye.schema;let ct=lt;rt.tagName.toLowerCase()==="svg"&&lt.space==="html"&&(ct=svg$2,Ye.schema=ct),Ye.ancestors.push(rt);const ut=findComponentFromName(Ye,rt.tagName,!1),ht=createElementProps(Ye,rt);let ft=createChildren(Ye,rt);return tableElements.has(rt.tagName)&&(ft=ft.filter(function(pt){return typeof pt=="string"?!whitespace$2(pt):!0})),addNode(Ye,ht,ut,rt),addChildren(ht,ft),Ye.ancestors.pop(),Ye.schema=lt,Ye.create(rt,ut,ht,it)}function mdxExpression(Ye,rt){if(rt.data&&rt.data.estree&&Ye.evaluater){const lt=rt.data.estree.body[0];return lt.type,Ye.evaluater.evaluateExpression(lt.expression)}crashEstree(Ye,rt.position)}function mdxEsm(Ye,rt){if(rt.data&&rt.data.estree&&Ye.evaluater)return Ye.evaluater.evaluateProgram(rt.data.estree);crashEstree(Ye,rt.position)}function mdxJsxElement(Ye,rt,it){const lt=Ye.schema;let ct=lt;rt.name==="svg"&&lt.space==="html"&&(ct=svg$2,Ye.schema=ct),Ye.ancestors.push(rt);const ut=rt.name===null?Ye.Fragment:findComponentFromName(Ye,rt.name,!0),ht=createJsxElementProps(Ye,rt),ft=createChildren(Ye,rt);return addNode(Ye,ht,ut,rt),addChildren(ht,ft),Ye.ancestors.pop(),Ye.schema=lt,Ye.create(rt,ut,ht,it)}function root$2(Ye,rt,it){const lt={};return addChildren(lt,createChildren(Ye,rt)),Ye.create(rt,Ye.Fragment,lt,it)}function text$5(Ye,rt){return rt.value}function addNode(Ye,rt,it,lt){typeof it!="string"&&it!==Ye.Fragment&&Ye.passNode&&(rt.node=lt)}function addChildren(Ye,rt){if(rt.length>0){const it=rt.length>1?rt:rt[0];it&&(Ye.children=it)}}function productionCreate(Ye,rt,it){return lt;function lt(ct,ut,ht,ft){const mt=Array.isArray(ht.children)?it:rt;return ft?mt(ut,ht,ft):mt(ut,ht)}}function developmentCreate(Ye,rt){return it;function it(lt,ct,ut,ht){const ft=Array.isArray(ut.children),pt=pointStart(lt);return rt(ct,ut,ht,ft,{columnNumber:pt?pt.column-1:void 0,fileName:Ye,lineNumber:pt?pt.line:void 0},void 0)}}function createElementProps(Ye,rt){const it={};let lt,ct;for(ct in rt.properties)if(ct!=="children"&&own$5.call(rt.properties,ct)){const ut=createProperty$1(Ye,ct,rt.properties[ct]);if(ut){const[ht,ft]=ut;Ye.tableCellAlignToStyle&&ht==="align"&&typeof ft=="string"&&tableCellElement.has(rt.tagName)?lt=ft:it[ht]=ft}}if(lt){const ut=it.style||(it.style={});ut[Ye.stylePropertyNameCase==="css"?"text-align":"textAlign"]=lt}return it}function createJsxElementProps(Ye,rt){const it={};for(const lt of rt.attributes)if(lt.type==="mdxJsxExpressionAttribute")if(lt.data&&lt.data.estree&&Ye.evaluater){const ut=lt.data.estree.body[0];ut.type;const ht=ut.expression;ht.type;const ft=ht.properties[0];ft.type,Object.assign(it,Ye.evaluater.evaluateExpression(ft.argument))}else crashEstree(Ye,rt.position);else{const ct=lt.name;let ut;if(lt.value&&typeof lt.value=="object")if(lt.value.data&&lt.value.data.estree&&Ye.evaluater){const ft=lt.value.data.estree.body[0];ft.type,ut=Ye.evaluater.evaluateExpression(ft.expression)}else crashEstree(Ye,rt.position);else ut=lt.value===null?!0:lt.value;it[ct]=ut}return it}function createChildren(Ye,rt){const it=[];let lt=-1;const ct=Ye.passKeys?new Map:emptyMap;for(;++lt<rt.children.length;){const ut=rt.children[lt];let ht;if(Ye.passKeys){const pt=ut.type==="element"?ut.tagName:ut.type==="mdxJsxFlowElement"||ut.type==="mdxJsxTextElement"?ut.name:void 0;if(pt){const mt=ct.get(pt)||0;ht=pt+"-"+mt,ct.set(pt,mt+1)}}const ft=one(Ye,ut,ht);ft!==void 0&&it.push(ft)}return it}function createProperty$1(Ye,rt,it){const lt=find$1(Ye.schema,rt);if(!(it==null||typeof it=="number"&&Number.isNaN(it))){if(Array.isArray(it)&&(it=lt.commaSeparated?stringify$4(it):stringify$3(it)),lt.property==="style"){let ct=typeof it=="object"?it:parseStyle(Ye,String(it));return Ye.stylePropertyNameCase==="css"&&(ct=transformStylesToCssCasing(ct)),["style",ct]}return[Ye.elementAttributeNameCase==="react"&&lt.space?hastToReact[lt.property]||lt.property:lt.attribute,it]}}function parseStyle(Ye,rt){try{return styleToJs(rt,{reactCompat:!0})}catch(it){if(Ye.ignoreInvalidStyle)return{};const lt=it,ct=new VFileMessage("Cannot parse `style` attribute",{ancestors:Ye.ancestors,cause:lt,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw ct.file=Ye.filePath||void 0,ct.url=docs+"#cannot-parse-style-attribute",ct}}function findComponentFromName(Ye,rt,it){let lt;if(!it)lt={type:"Literal",value:rt};else if(rt.includes(".")){const ct=rt.split(".");let ut=-1,ht;for(;++ut<ct.length;){const ft=name(ct[ut])?{type:"Identifier",name:ct[ut]}:{type:"Literal",value:ct[ut]};ht=ht?{type:"MemberExpression",object:ht,property:ft,computed:!!(ut&&ft.type==="Literal"),optional:!1}:ft}lt=ht}else lt=name(rt)&&!/^[a-z]/.test(rt)?{type:"Identifier",name:rt}:{type:"Literal",value:rt};if(lt.type==="Literal"){const ct=lt.value;return own$5.call(Ye.components,ct)?Ye.components[ct]:ct}if(Ye.evaluater)return Ye.evaluater.evaluateExpression(lt);crashEstree(Ye)}function crashEstree(Ye,rt){const it=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:Ye.ancestors,place:rt,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw it.file=Ye.filePath||void 0,it.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",it}function transformStylesToCssCasing(Ye){const rt={};let it;for(it in Ye)own$5.call(Ye,it)&&(rt[transformStyleToCssCasing(it)]=Ye[it]);return rt}function transformStyleToCssCasing(Ye){let rt=Ye.replace(cap,toDash);return rt.slice(0,3)==="ms-"&&(rt="-"+rt),rt}function toDash(Ye){return"-"+Ye.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},element=document.createElement("i");function decodeNamedCharacterReference(Ye){const rt="&"+Ye+";";element.innerHTML=rt;const it=element.textContent;return it.charCodeAt(it.length-1)===59&&Ye!=="semi"||it===rt?!1:it}function splice$4(Ye,rt,it,lt){const ct=Ye.length;let ut=0,ht;if(rt<0?rt=-rt>ct?0:ct+rt:rt=rt>ct?ct:rt,it=it>0?it:0,lt.length<1e4)ht=Array.from(lt),ht.unshift(rt,it),Ye.splice(...ht);else for(it&&Ye.splice(rt,it);ut<lt.length;)ht=lt.slice(ut,ut+1e4),ht.unshift(rt,0),Ye.splice(...ht),ut+=1e4,rt+=1e4}function push$6(Ye,rt){return Ye.length>0?(splice$4(Ye,Ye.length,0,rt),Ye):rt}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(Ye){const rt={};let it=-1;for(;++it<Ye.length;)syntaxExtension(rt,Ye[it]);return rt}function syntaxExtension(Ye,rt){let it;for(it in rt){const ct=(hasOwnProperty.call(Ye,it)?Ye[it]:void 0)||(Ye[it]={}),ut=rt[it];let ht;if(ut)for(ht in ut){hasOwnProperty.call(ct,ht)||(ct[ht]=[]);const ft=ut[ht];constructs(ct[ht],Array.isArray(ft)?ft:ft?[ft]:[])}}}function constructs(Ye,rt){let it=-1;const lt=[];for(;++it<rt.length;)(rt[it].add==="after"?Ye:lt).push(rt[it]);splice$4(Ye,0,0,lt)}function decodeNumericCharacterReference(Ye,rt){const it=Number.parseInt(Ye,rt);return it<9||it===11||it>13&&it<32||it>126&&it<160||it>55295&&it<57344||it>64975&&it<65008||(it&65535)===65535||(it&65535)===65534||it>1114111?"":String.fromCodePoint(it)}function normalizeIdentifier(Ye){return Ye.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(Ye){return Ye!==null&&(Ye<32||Ye===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(Ye){return Ye!==null&&Ye<-2}function markdownLineEndingOrSpace(Ye){return Ye!==null&&(Ye<0||Ye===32)}function markdownSpace(Ye){return Ye===-2||Ye===-1||Ye===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(Ye){return rt;function rt(it){return it!==null&&it>-1&&Ye.test(String.fromCharCode(it))}}function normalizeUri(Ye){const rt=[];let it=-1,lt=0,ct=0;for(;++it<Ye.length;){const ut=Ye.charCodeAt(it);let ht="";if(ut===37&&asciiAlphanumeric(Ye.charCodeAt(it+1))&&asciiAlphanumeric(Ye.charCodeAt(it+2)))ct=2;else if(ut<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(ut))||(ht=String.fromCharCode(ut));else if(ut>55295&&ut<57344){const ft=Ye.charCodeAt(it+1);ut<56320&&ft>56319&&ft<57344?(ht=String.fromCharCode(ut,ft),ct=1):ht=""}else ht=String.fromCharCode(ut);ht&&(rt.push(Ye.slice(lt,it),encodeURIComponent(ht)),lt=it+ct+1,ht=""),ct&&(it+=ct,ct=0)}return rt.join("")+Ye.slice(lt)}function factorySpace(Ye,rt,it,lt){const ct=lt?lt-1:Number.POSITIVE_INFINITY;let ut=0;return ht;function ht(pt){return markdownSpace(pt)?(Ye.enter(it),ft(pt)):rt(pt)}function ft(pt){return markdownSpace(pt)&&ut++<ct?(Ye.consume(pt),ft):(Ye.exit(it),rt(pt))}}const content$1={tokenize:initializeContent};function initializeContent(Ye){const rt=Ye.attempt(this.parser.constructs.contentInitial,lt,ct);let it;return rt;function lt(ft){if(ft===null){Ye.consume(ft);return}return Ye.enter("lineEnding"),Ye.consume(ft),Ye.exit("lineEnding"),factorySpace(Ye,rt,"linePrefix")}function ct(ft){return Ye.enter("paragraph"),ut(ft)}function ut(ft){const pt=Ye.enter("chunkText",{contentType:"text",previous:it});return it&&(it.next=pt),it=pt,ht(ft)}function ht(ft){if(ft===null){Ye.exit("chunkText"),Ye.exit("paragraph"),Ye.consume(ft);return}return markdownLineEnding(ft)?(Ye.consume(ft),Ye.exit("chunkText"),ut):(Ye.consume(ft),ht)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(Ye){const rt=this,it=[];let lt=0,ct,ut,ht;return ft;function ft(Tt){if(lt<it.length){const Mt=it[lt];return rt.containerState=Mt[1],Ye.attempt(Mt[0].continuation,pt,mt)(Tt)}return mt(Tt)}function pt(Tt){if(lt++,rt.containerState._closeFlow){rt.containerState._closeFlow=void 0,ct&&Rt();const Mt=rt.events.length;let Pt=Mt,It;for(;Pt--;)if(rt.events[Pt][0]==="exit"&&rt.events[Pt][1].type==="chunkFlow"){It=rt.events[Pt][1].end;break}St(lt);let Lt=Mt;for(;Lt<rt.events.length;)rt.events[Lt][1].end={...It},Lt++;return splice$4(rt.events,Pt+1,0,rt.events.slice(Mt)),rt.events.length=Lt,mt(Tt)}return ft(Tt)}function mt(Tt){if(lt===it.length){if(!ct)return xt(Tt);if(ct.currentConstruct&&ct.currentConstruct.concrete)return _t(Tt);rt.interrupt=!!(ct.currentConstruct&&!ct._gfmTableDynamicInterruptHack)}return rt.containerState={},Ye.check(containerConstruct,gt,yt)(Tt)}function gt(Tt){return ct&&Rt(),St(lt),xt(Tt)}function yt(Tt){return rt.parser.lazy[rt.now().line]=lt!==it.length,ht=rt.now().offset,_t(Tt)}function xt(Tt){return rt.containerState={},Ye.attempt(containerConstruct,bt,_t)(Tt)}function bt(Tt){return lt++,it.push([rt.currentConstruct,rt.containerState]),xt(Tt)}function _t(Tt){if(Tt===null){ct&&Rt(),St(0),Ye.consume(Tt);return}return ct=ct||rt.parser.flow(rt.now()),Ye.enter("chunkFlow",{_tokenizer:ct,contentType:"flow",previous:ut}),Ct(Tt)}function Ct(Tt){if(Tt===null){kt(Ye.exit("chunkFlow"),!0),St(0),Ye.consume(Tt);return}return markdownLineEnding(Tt)?(Ye.consume(Tt),kt(Ye.exit("chunkFlow")),lt=0,rt.interrupt=void 0,ft):(Ye.consume(Tt),Ct)}function kt(Tt,Mt){const Pt=rt.sliceStream(Tt);if(Mt&&Pt.push(null),Tt.previous=ut,ut&&(ut.next=Tt),ut=Tt,ct.defineSkip(Tt.start),ct.write(Pt),rt.parser.lazy[Tt.start.line]){let It=ct.events.length;for(;It--;)if(ct.events[It][1].start.offset<ht&&(!ct.events[It][1].end||ct.events[It][1].end.offset>ht))return;const Lt=rt.events.length;let Ot=Lt,Ft,Ut;for(;Ot--;)if(rt.events[Ot][0]==="exit"&&rt.events[Ot][1].type==="chunkFlow"){if(Ft){Ut=rt.events[Ot][1].end;break}Ft=!0}for(St(lt),It=Lt;It<rt.events.length;)rt.events[It][1].end={...Ut},It++;splice$4(rt.events,Ot+1,0,rt.events.slice(Lt)),rt.events.length=It}}function St(Tt){let Mt=it.length;for(;Mt-- >Tt;){const Pt=it[Mt];rt.containerState=Pt[1],Pt[0].exit.call(rt,Ye)}it.length=Tt}function Rt(){ct.write([null]),ut=void 0,ct=void 0,rt.containerState._closeFlow=void 0}}function tokenizeContainer(Ye,rt,it){return factorySpace(Ye,Ye.attempt(this.parser.constructs.document,rt,it),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(Ye){if(Ye===null||markdownLineEndingOrSpace(Ye)||unicodeWhitespace(Ye))return 1;if(unicodePunctuation(Ye))return 2}function resolveAll(Ye,rt,it){const lt=[];let ct=-1;for(;++ct<Ye.length;){const ut=Ye[ct].resolveAll;ut&&!lt.includes(ut)&&(rt=ut(rt,it),lt.push(ut))}return rt}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(Ye,rt){let it=-1,lt,ct,ut,ht,ft,pt,mt,gt;for(;++it<Ye.length;)if(Ye[it][0]==="enter"&&Ye[it][1].type==="attentionSequence"&&Ye[it][1]._close){for(lt=it;lt--;)if(Ye[lt][0]==="exit"&&Ye[lt][1].type==="attentionSequence"&&Ye[lt][1]._open&&rt.sliceSerialize(Ye[lt][1]).charCodeAt(0)===rt.sliceSerialize(Ye[it][1]).charCodeAt(0)){if((Ye[lt][1]._close||Ye[it][1]._open)&&(Ye[it][1].end.offset-Ye[it][1].start.offset)%3&&!((Ye[lt][1].end.offset-Ye[lt][1].start.offset+Ye[it][1].end.offset-Ye[it][1].start.offset)%3))continue;pt=Ye[lt][1].end.offset-Ye[lt][1].start.offset>1&&Ye[it][1].end.offset-Ye[it][1].start.offset>1?2:1;const yt={...Ye[lt][1].end},xt={...Ye[it][1].start};movePoint(yt,-pt),movePoint(xt,pt),ht={type:pt>1?"strongSequence":"emphasisSequence",start:yt,end:{...Ye[lt][1].end}},ft={type:pt>1?"strongSequence":"emphasisSequence",start:{...Ye[it][1].start},end:xt},ut={type:pt>1?"strongText":"emphasisText",start:{...Ye[lt][1].end},end:{...Ye[it][1].start}},ct={type:pt>1?"strong":"emphasis",start:{...ht.start},end:{...ft.end}},Ye[lt][1].end={...ht.start},Ye[it][1].start={...ft.end},mt=[],Ye[lt][1].end.offset-Ye[lt][1].start.offset&&(mt=push$6(mt,[["enter",Ye[lt][1],rt],["exit",Ye[lt][1],rt]])),mt=push$6(mt,[["enter",ct,rt],["enter",ht,rt],["exit",ht,rt],["enter",ut,rt]]),mt=push$6(mt,resolveAll(rt.parser.constructs.insideSpan.null,Ye.slice(lt+1,it),rt)),mt=push$6(mt,[["exit",ut,rt],["enter",ft,rt],["exit",ft,rt],["exit",ct,rt]]),Ye[it][1].end.offset-Ye[it][1].start.offset?(gt=2,mt=push$6(mt,[["enter",Ye[it][1],rt],["exit",Ye[it][1],rt]])):gt=0,splice$4(Ye,lt-1,it-lt+3,mt),it=lt+mt.length-gt-2;break}}for(it=-1;++it<Ye.length;)Ye[it][1].type==="attentionSequence"&&(Ye[it][1].type="data");return Ye}function tokenizeAttention(Ye,rt){const it=this.parser.constructs.attentionMarkers.null,lt=this.previous,ct=classifyCharacter(lt);let ut;return ht;function ht(pt){return ut=pt,Ye.enter("attentionSequence"),ft(pt)}function ft(pt){if(pt===ut)return Ye.consume(pt),ft;const mt=Ye.exit("attentionSequence"),gt=classifyCharacter(pt),yt=!gt||gt===2&&ct||it.includes(pt),xt=!ct||ct===2&&gt||it.includes(lt);return mt._open=!!(ut===42?yt:yt&&(ct||!xt)),mt._close=!!(ut===42?xt:xt&&(gt||!yt)),rt(pt)}}function movePoint(Ye,rt){Ye.column+=rt,Ye.offset+=rt,Ye._bufferIndex+=rt}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(Ye,rt,it){let lt=0;return ct;function ct(bt){return Ye.enter("autolink"),Ye.enter("autolinkMarker"),Ye.consume(bt),Ye.exit("autolinkMarker"),Ye.enter("autolinkProtocol"),ut}function ut(bt){return asciiAlpha(bt)?(Ye.consume(bt),ht):bt===64?it(bt):mt(bt)}function ht(bt){return bt===43||bt===45||bt===46||asciiAlphanumeric(bt)?(lt=1,ft(bt)):mt(bt)}function ft(bt){return bt===58?(Ye.consume(bt),lt=0,pt):(bt===43||bt===45||bt===46||asciiAlphanumeric(bt))&&lt++<32?(Ye.consume(bt),ft):(lt=0,mt(bt))}function pt(bt){return bt===62?(Ye.exit("autolinkProtocol"),Ye.enter("autolinkMarker"),Ye.consume(bt),Ye.exit("autolinkMarker"),Ye.exit("autolink"),rt):bt===null||bt===32||bt===60||asciiControl(bt)?it(bt):(Ye.consume(bt),pt)}function mt(bt){return bt===64?(Ye.consume(bt),gt):asciiAtext(bt)?(Ye.consume(bt),mt):it(bt)}function gt(bt){return asciiAlphanumeric(bt)?yt(bt):it(bt)}function yt(bt){return bt===46?(Ye.consume(bt),lt=0,gt):bt===62?(Ye.exit("autolinkProtocol").type="autolinkEmail",Ye.enter("autolinkMarker"),Ye.consume(bt),Ye.exit("autolinkMarker"),Ye.exit("autolink"),rt):xt(bt)}function xt(bt){if((bt===45||asciiAlphanumeric(bt))&&lt++<63){const _t=bt===45?xt:yt;return Ye.consume(bt),_t}return it(bt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(Ye,rt,it){return lt;function lt(ut){return markdownSpace(ut)?factorySpace(Ye,ct,"linePrefix")(ut):ct(ut)}function ct(ut){return ut===null||markdownLineEnding(ut)?rt(ut):it(ut)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$2,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(Ye,rt,it){const lt=this;return ct;function ct(ht){if(ht===62){const ft=lt.containerState;return ft.open||(Ye.enter("blockQuote",{_container:!0}),ft.open=!0),Ye.enter("blockQuotePrefix"),Ye.enter("blockQuoteMarker"),Ye.consume(ht),Ye.exit("blockQuoteMarker"),ut}return it(ht)}function ut(ht){return markdownSpace(ht)?(Ye.enter("blockQuotePrefixWhitespace"),Ye.consume(ht),Ye.exit("blockQuotePrefixWhitespace"),Ye.exit("blockQuotePrefix"),rt):(Ye.exit("blockQuotePrefix"),rt(ht))}}function tokenizeBlockQuoteContinuation(Ye,rt,it){const lt=this;return ct;function ct(ht){return markdownSpace(ht)?factorySpace(Ye,ut,"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ht):ut(ht)}function ut(ht){return Ye.attempt(blockQuote,rt,it)(ht)}}function exit$2(Ye){Ye.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(Ye,rt,it){return lt;function lt(ut){return Ye.enter("characterEscape"),Ye.enter("escapeMarker"),Ye.consume(ut),Ye.exit("escapeMarker"),ct}function ct(ut){return asciiPunctuation(ut)?(Ye.enter("characterEscapeValue"),Ye.consume(ut),Ye.exit("characterEscapeValue"),Ye.exit("characterEscape"),rt):it(ut)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(Ye,rt,it){const lt=this;let ct=0,ut,ht;return ft;function ft(yt){return Ye.enter("characterReference"),Ye.enter("characterReferenceMarker"),Ye.consume(yt),Ye.exit("characterReferenceMarker"),pt}function pt(yt){return yt===35?(Ye.enter("characterReferenceMarkerNumeric"),Ye.consume(yt),Ye.exit("characterReferenceMarkerNumeric"),mt):(Ye.enter("characterReferenceValue"),ut=31,ht=asciiAlphanumeric,gt(yt))}function mt(yt){return yt===88||yt===120?(Ye.enter("characterReferenceMarkerHexadecimal"),Ye.consume(yt),Ye.exit("characterReferenceMarkerHexadecimal"),Ye.enter("characterReferenceValue"),ut=6,ht=asciiHexDigit,gt):(Ye.enter("characterReferenceValue"),ut=7,ht=asciiDigit,gt(yt))}function gt(yt){if(yt===59&&ct){const xt=Ye.exit("characterReferenceValue");return ht===asciiAlphanumeric&&!decodeNamedCharacterReference(lt.sliceSerialize(xt))?it(yt):(Ye.enter("characterReferenceMarker"),Ye.consume(yt),Ye.exit("characterReferenceMarker"),Ye.exit("characterReference"),rt)}return ht(yt)&&ct++<ut?(Ye.consume(yt),gt):it(yt)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(Ye,rt,it){const lt=this,ct={partial:!0,tokenize:Pt};let ut=0,ht=0,ft;return pt;function pt(It){return mt(It)}function mt(It){const Lt=lt.events[lt.events.length-1];return ut=Lt&&Lt[1].type==="linePrefix"?Lt[2].sliceSerialize(Lt[1],!0).length:0,ft=It,Ye.enter("codeFenced"),Ye.enter("codeFencedFence"),Ye.enter("codeFencedFenceSequence"),gt(It)}function gt(It){return It===ft?(ht++,Ye.consume(It),gt):ht<3?it(It):(Ye.exit("codeFencedFenceSequence"),markdownSpace(It)?factorySpace(Ye,yt,"whitespace")(It):yt(It))}function yt(It){return It===null||markdownLineEnding(It)?(Ye.exit("codeFencedFence"),lt.interrupt?rt(It):Ye.check(nonLazyContinuation,Ct,Mt)(It)):(Ye.enter("codeFencedFenceInfo"),Ye.enter("chunkString",{contentType:"string"}),xt(It))}function xt(It){return It===null||markdownLineEnding(It)?(Ye.exit("chunkString"),Ye.exit("codeFencedFenceInfo"),yt(It)):markdownSpace(It)?(Ye.exit("chunkString"),Ye.exit("codeFencedFenceInfo"),factorySpace(Ye,bt,"whitespace")(It)):It===96&&It===ft?it(It):(Ye.consume(It),xt)}function bt(It){return It===null||markdownLineEnding(It)?yt(It):(Ye.enter("codeFencedFenceMeta"),Ye.enter("chunkString",{contentType:"string"}),_t(It))}function _t(It){return It===null||markdownLineEnding(It)?(Ye.exit("chunkString"),Ye.exit("codeFencedFenceMeta"),yt(It)):It===96&&It===ft?it(It):(Ye.consume(It),_t)}function Ct(It){return Ye.attempt(ct,Mt,kt)(It)}function kt(It){return Ye.enter("lineEnding"),Ye.consume(It),Ye.exit("lineEnding"),St}function St(It){return ut>0&&markdownSpace(It)?factorySpace(Ye,Rt,"linePrefix",ut+1)(It):Rt(It)}function Rt(It){return It===null||markdownLineEnding(It)?Ye.check(nonLazyContinuation,Ct,Mt)(It):(Ye.enter("codeFlowValue"),Tt(It))}function Tt(It){return It===null||markdownLineEnding(It)?(Ye.exit("codeFlowValue"),Rt(It)):(Ye.consume(It),Tt)}function Mt(It){return Ye.exit("codeFenced"),rt(It)}function Pt(It,Lt,Ot){let Ft=0;return Ut;function Ut(Vt){return It.enter("lineEnding"),It.consume(Vt),It.exit("lineEnding"),Wt}function Wt(Vt){return It.enter("codeFencedFence"),markdownSpace(Vt)?factorySpace(It,Kt,"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Vt):Kt(Vt)}function Kt(Vt){return Vt===ft?(It.enter("codeFencedFenceSequence"),Qt(Vt)):Ot(Vt)}function Qt(Vt){return Vt===ft?(Ft++,It.consume(Vt),Qt):Ft>=ht?(It.exit("codeFencedFenceSequence"),markdownSpace(Vt)?factorySpace(It,Zt,"whitespace")(Vt):Zt(Vt)):Ot(Vt)}function Zt(Vt){return Vt===null||markdownLineEnding(Vt)?(It.exit("codeFencedFence"),Lt(Vt)):Ot(Vt)}}}function tokenizeNonLazyContinuation(Ye,rt,it){const lt=this;return ct;function ct(ht){return ht===null?it(ht):(Ye.enter("lineEnding"),Ye.consume(ht),Ye.exit("lineEnding"),ut)}function ut(ht){return lt.parser.lazy[lt.now().line]?it(ht):rt(ht)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(Ye,rt,it){const lt=this;return ct;function ct(mt){return Ye.enter("codeIndented"),factorySpace(Ye,ut,"linePrefix",5)(mt)}function ut(mt){const gt=lt.events[lt.events.length-1];return gt&&gt[1].type==="linePrefix"&&gt[2].sliceSerialize(gt[1],!0).length>=4?ht(mt):it(mt)}function ht(mt){return mt===null?pt(mt):markdownLineEnding(mt)?Ye.attempt(furtherStart,ht,pt)(mt):(Ye.enter("codeFlowValue"),ft(mt))}function ft(mt){return mt===null||markdownLineEnding(mt)?(Ye.exit("codeFlowValue"),ht(mt)):(Ye.consume(mt),ft)}function pt(mt){return Ye.exit("codeIndented"),rt(mt)}}function tokenizeFurtherStart(Ye,rt,it){const lt=this;return ct;function ct(ht){return lt.parser.lazy[lt.now().line]?it(ht):markdownLineEnding(ht)?(Ye.enter("lineEnding"),Ye.consume(ht),Ye.exit("lineEnding"),ct):factorySpace(Ye,ut,"linePrefix",5)(ht)}function ut(ht){const ft=lt.events[lt.events.length-1];return ft&&ft[1].type==="linePrefix"&&ft[2].sliceSerialize(ft[1],!0).length>=4?rt(ht):markdownLineEnding(ht)?ct(ht):it(ht)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(Ye){let rt=Ye.length-4,it=3,lt,ct;if((Ye[it][1].type==="lineEnding"||Ye[it][1].type==="space")&&(Ye[rt][1].type==="lineEnding"||Ye[rt][1].type==="space")){for(lt=it;++lt<rt;)if(Ye[lt][1].type==="codeTextData"){Ye[it][1].type="codeTextPadding",Ye[rt][1].type="codeTextPadding",it+=2,rt-=2;break}}for(lt=it-1,rt++;++lt<=rt;)ct===void 0?lt!==rt&&Ye[lt][1].type!=="lineEnding"&&(ct=lt):(lt===rt||Ye[lt][1].type==="lineEnding")&&(Ye[ct][1].type="codeTextData",lt!==ct+2&&(Ye[ct][1].end=Ye[lt-1][1].end,Ye.splice(ct+2,lt-ct-2),rt-=lt-ct-2,lt=ct+2),ct=void 0);return Ye}function previous$2(Ye){return Ye!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(Ye,rt,it){let lt=0,ct,ut;return ht;function ht(yt){return Ye.enter("codeText"),Ye.enter("codeTextSequence"),ft(yt)}function ft(yt){return yt===96?(Ye.consume(yt),lt++,ft):(Ye.exit("codeTextSequence"),pt(yt))}function pt(yt){return yt===null?it(yt):yt===32?(Ye.enter("space"),Ye.consume(yt),Ye.exit("space"),pt):yt===96?(ut=Ye.enter("codeTextSequence"),ct=0,gt(yt)):markdownLineEnding(yt)?(Ye.enter("lineEnding"),Ye.consume(yt),Ye.exit("lineEnding"),pt):(Ye.enter("codeTextData"),mt(yt))}function mt(yt){return yt===null||yt===32||yt===96||markdownLineEnding(yt)?(Ye.exit("codeTextData"),pt(yt)):(Ye.consume(yt),mt)}function gt(yt){return yt===96?(Ye.consume(yt),ct++,gt):ct===lt?(Ye.exit("codeTextSequence"),Ye.exit("codeText"),rt(yt)):(ut.type="codeTextData",mt(yt))}}class SpliceBuffer{constructor(rt){this.left=rt?[...rt]:[],this.right=[]}get(rt){if(rt<0||rt>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+rt+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return rt<this.left.length?this.left[rt]:this.right[this.right.length-rt+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(rt,it){const lt=it??Number.POSITIVE_INFINITY;return lt<this.left.length?this.left.slice(rt,lt):rt>this.left.length?this.right.slice(this.right.length-lt+this.left.length,this.right.length-rt+this.left.length).reverse():this.left.slice(rt).concat(this.right.slice(this.right.length-lt+this.left.length).reverse())}splice(rt,it,lt){const ct=it||0;this.setCursor(Math.trunc(rt));const ut=this.right.splice(this.right.length-ct,Number.POSITIVE_INFINITY);return lt&&chunkedPush(this.left,lt),ut.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(rt){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(rt)}pushMany(rt){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,rt)}unshift(rt){this.setCursor(0),this.right.push(rt)}unshiftMany(rt){this.setCursor(0),chunkedPush(this.right,rt.reverse())}setCursor(rt){if(!(rt===this.left.length||rt>this.left.length&&this.right.length===0||rt<0&&this.left.length===0))if(rt<this.left.length){const it=this.left.splice(rt,Number.POSITIVE_INFINITY);chunkedPush(this.right,it.reverse())}else{const it=this.right.splice(this.left.length+this.right.length-rt,Number.POSITIVE_INFINITY);chunkedPush(this.left,it.reverse())}}}function chunkedPush(Ye,rt){let it=0;if(rt.length<1e4)Ye.push(...rt);else for(;it<rt.length;)Ye.push(...rt.slice(it,it+1e4)),it+=1e4}function subtokenize(Ye){const rt={};let it=-1,lt,ct,ut,ht,ft,pt,mt;const gt=new SpliceBuffer(Ye);for(;++it<gt.length;){for(;it in rt;)it=rt[it];if(lt=gt.get(it),it&&lt[1].type==="chunkFlow"&&gt.get(it-1)[1].type==="listItemPrefix"&&(pt=lt[1]._tokenizer.events,ut=0,ut<pt.length&&pt[ut][1].type==="lineEndingBlank"&&(ut+=2),ut<pt.length&&pt[ut][1].type==="content"))for(;++ut<pt.length&&pt[ut][1].type!=="content";)pt[ut][1].type==="chunkText"&&(pt[ut][1]._isInFirstContentOfListItem=!0,ut++);if(lt[0]==="enter")lt[1].contentType&&(Object.assign(rt,subcontent(gt,it)),it=rt[it],mt=!0);else if(lt[1]._container){for(ut=it,ct=void 0;ut--;)if(ht=gt.get(ut),ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank")ht[0]==="enter"&&(ct&&(gt.get(ct)[1].type="lineEndingBlank"),ht[1].type="lineEnding",ct=ut);else if(!(ht[1].type==="linePrefix"||ht[1].type==="listItemIndent"))break;ct&&(lt[1].end={...gt.get(ct)[1].start},ft=gt.slice(ct,it),ft.unshift(lt),gt.splice(ct,it-ct+1,ft))}}return splice$4(Ye,0,Number.POSITIVE_INFINITY,gt.slice(0)),!mt}function subcontent(Ye,rt){const it=Ye.get(rt)[1],lt=Ye.get(rt)[2];let ct=rt-1;const ut=[];let ht=it._tokenizer;ht||(ht=lt.parser[it.contentType](it.start),it._contentTypeTextTrailing&&(ht._contentTypeTextTrailing=!0));const ft=ht.events,pt=[],mt={};let gt,yt,xt=-1,bt=it,_t=0,Ct=0;const kt=[Ct];for(;bt;){for(;Ye.get(++ct)[1]!==bt;);ut.push(ct),bt._tokenizer||(gt=lt.sliceStream(bt),bt.next||gt.push(null),yt&&ht.defineSkip(bt.start),bt._isInFirstContentOfListItem&&(ht._gfmTasklistFirstContentOfListItem=!0),ht.write(gt),bt._isInFirstContentOfListItem&&(ht._gfmTasklistFirstContentOfListItem=void 0)),yt=bt,bt=bt.next}for(bt=it;++xt<ft.length;)ft[xt][0]==="exit"&&ft[xt-1][0]==="enter"&&ft[xt][1].type===ft[xt-1][1].type&&ft[xt][1].start.line!==ft[xt][1].end.line&&(Ct=xt+1,kt.push(Ct),bt._tokenizer=void 0,bt.previous=void 0,bt=bt.next);for(ht.events=[],bt?(bt._tokenizer=void 0,bt.previous=void 0):kt.pop(),xt=kt.length;xt--;){const St=ft.slice(kt[xt],kt[xt+1]),Rt=ut.pop();pt.push([Rt,Rt+St.length-1]),Ye.splice(Rt,2,St)}for(pt.reverse(),xt=-1;++xt<pt.length;)mt[_t+pt[xt][0]]=_t+pt[xt][1],_t+=pt[xt][1]-pt[xt][0]-1;return mt}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(Ye){return subtokenize(Ye),Ye}function tokenizeContent(Ye,rt){let it;return lt;function lt(ft){return Ye.enter("content"),it=Ye.enter("chunkContent",{contentType:"content"}),ct(ft)}function ct(ft){return ft===null?ut(ft):markdownLineEnding(ft)?Ye.check(continuationConstruct,ht,ut)(ft):(Ye.consume(ft),ct)}function ut(ft){return Ye.exit("chunkContent"),Ye.exit("content"),rt(ft)}function ht(ft){return Ye.consume(ft),Ye.exit("chunkContent"),it.next=Ye.enter("chunkContent",{contentType:"content",previous:it}),it=it.next,ct}}function tokenizeContinuation(Ye,rt,it){const lt=this;return ct;function ct(ht){return Ye.exit("chunkContent"),Ye.enter("lineEnding"),Ye.consume(ht),Ye.exit("lineEnding"),factorySpace(Ye,ut,"linePrefix")}function ut(ht){if(ht===null||markdownLineEnding(ht))return it(ht);const ft=lt.events[lt.events.length-1];return!lt.parser.constructs.disable.null.includes("codeIndented")&&ft&&ft[1].type==="linePrefix"&&ft[2].sliceSerialize(ft[1],!0).length>=4?rt(ht):Ye.interrupt(lt.parser.constructs.flow,it,rt)(ht)}}function factoryDestination(Ye,rt,it,lt,ct,ut,ht,ft,pt){const mt=pt||Number.POSITIVE_INFINITY;let gt=0;return yt;function yt(St){return St===60?(Ye.enter(lt),Ye.enter(ct),Ye.enter(ut),Ye.consume(St),Ye.exit(ut),xt):St===null||St===32||St===41||asciiControl(St)?it(St):(Ye.enter(lt),Ye.enter(ht),Ye.enter(ft),Ye.enter("chunkString",{contentType:"string"}),Ct(St))}function xt(St){return St===62?(Ye.enter(ut),Ye.consume(St),Ye.exit(ut),Ye.exit(ct),Ye.exit(lt),rt):(Ye.enter(ft),Ye.enter("chunkString",{contentType:"string"}),bt(St))}function bt(St){return St===62?(Ye.exit("chunkString"),Ye.exit(ft),xt(St)):St===null||St===60||markdownLineEnding(St)?it(St):(Ye.consume(St),St===92?_t:bt)}function _t(St){return St===60||St===62||St===92?(Ye.consume(St),bt):bt(St)}function Ct(St){return!gt&&(St===null||St===41||markdownLineEndingOrSpace(St))?(Ye.exit("chunkString"),Ye.exit(ft),Ye.exit(ht),Ye.exit(lt),rt(St)):gt<mt&&St===40?(Ye.consume(St),gt++,Ct):St===41?(Ye.consume(St),gt--,Ct):St===null||St===32||St===40||asciiControl(St)?it(St):(Ye.consume(St),St===92?kt:Ct)}function kt(St){return St===40||St===41||St===92?(Ye.consume(St),Ct):Ct(St)}}function factoryLabel$1(Ye,rt,it,lt,ct,ut){const ht=this;let ft=0,pt;return mt;function mt(bt){return Ye.enter(lt),Ye.enter(ct),Ye.consume(bt),Ye.exit(ct),Ye.enter(ut),gt}function gt(bt){return ft>999||bt===null||bt===91||bt===93&&!pt||bt===94&&!ft&&"_hiddenFootnoteSupport"in ht.parser.constructs?it(bt):bt===93?(Ye.exit(ut),Ye.enter(ct),Ye.consume(bt),Ye.exit(ct),Ye.exit(lt),rt):markdownLineEnding(bt)?(Ye.enter("lineEnding"),Ye.consume(bt),Ye.exit("lineEnding"),gt):(Ye.enter("chunkString",{contentType:"string"}),yt(bt))}function yt(bt){return bt===null||bt===91||bt===93||markdownLineEnding(bt)||ft++>999?(Ye.exit("chunkString"),gt(bt)):(Ye.consume(bt),pt||(pt=!markdownSpace(bt)),bt===92?xt:yt)}function xt(bt){return bt===91||bt===92||bt===93?(Ye.consume(bt),ft++,yt):yt(bt)}}function factoryTitle(Ye,rt,it,lt,ct,ut){let ht;return ft;function ft(xt){return xt===34||xt===39||xt===40?(Ye.enter(lt),Ye.enter(ct),Ye.consume(xt),Ye.exit(ct),ht=xt===40?41:xt,pt):it(xt)}function pt(xt){return xt===ht?(Ye.enter(ct),Ye.consume(xt),Ye.exit(ct),Ye.exit(lt),rt):(Ye.enter(ut),mt(xt))}function mt(xt){return xt===ht?(Ye.exit(ut),pt(ht)):xt===null?it(xt):markdownLineEnding(xt)?(Ye.enter("lineEnding"),Ye.consume(xt),Ye.exit("lineEnding"),factorySpace(Ye,mt,"linePrefix")):(Ye.enter("chunkString",{contentType:"string"}),gt(xt))}function gt(xt){return xt===ht||xt===null||markdownLineEnding(xt)?(Ye.exit("chunkString"),mt(xt)):(Ye.consume(xt),xt===92?yt:gt)}function yt(xt){return xt===ht||xt===92?(Ye.consume(xt),gt):gt(xt)}}function factoryWhitespace(Ye,rt){let it;return lt;function lt(ct){return markdownLineEnding(ct)?(Ye.enter("lineEnding"),Ye.consume(ct),Ye.exit("lineEnding"),it=!0,lt):markdownSpace(ct)?factorySpace(Ye,lt,it?"linePrefix":"lineSuffix")(ct):rt(ct)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(Ye,rt,it){const lt=this;let ct;return ut;function ut(bt){return Ye.enter("definition"),ht(bt)}function ht(bt){return factoryLabel$1.call(lt,Ye,ft,it,"definitionLabel","definitionLabelMarker","definitionLabelString")(bt)}function ft(bt){return ct=normalizeIdentifier(lt.sliceSerialize(lt.events[lt.events.length-1][1]).slice(1,-1)),bt===58?(Ye.enter("definitionMarker"),Ye.consume(bt),Ye.exit("definitionMarker"),pt):it(bt)}function pt(bt){return markdownLineEndingOrSpace(bt)?factoryWhitespace(Ye,mt)(bt):mt(bt)}function mt(bt){return factoryDestination(Ye,gt,it,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(bt)}function gt(bt){return Ye.attempt(titleBefore,yt,yt)(bt)}function yt(bt){return markdownSpace(bt)?factorySpace(Ye,xt,"whitespace")(bt):xt(bt)}function xt(bt){return bt===null||markdownLineEnding(bt)?(Ye.exit("definition"),lt.parser.defined.push(ct),rt(bt)):it(bt)}}function tokenizeTitleBefore(Ye,rt,it){return lt;function lt(ft){return markdownLineEndingOrSpace(ft)?factoryWhitespace(Ye,ct)(ft):it(ft)}function ct(ft){return factoryTitle(Ye,ut,it,"definitionTitle","definitionTitleMarker","definitionTitleString")(ft)}function ut(ft){return markdownSpace(ft)?factorySpace(Ye,ht,"whitespace")(ft):ht(ft)}function ht(ft){return ft===null||markdownLineEnding(ft)?rt(ft):it(ft)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(Ye,rt,it){return lt;function lt(ut){return Ye.enter("hardBreakEscape"),Ye.consume(ut),ct}function ct(ut){return markdownLineEnding(ut)?(Ye.exit("hardBreakEscape"),rt(ut)):it(ut)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(Ye,rt){let it=Ye.length-2,lt=3,ct,ut;return Ye[lt][1].type==="whitespace"&&(lt+=2),it-2>lt&&Ye[it][1].type==="whitespace"&&(it-=2),Ye[it][1].type==="atxHeadingSequence"&&(lt===it-1||it-4>lt&&Ye[it-2][1].type==="whitespace")&&(it-=lt+1===it?2:4),it>lt&&(ct={type:"atxHeadingText",start:Ye[lt][1].start,end:Ye[it][1].end},ut={type:"chunkText",start:Ye[lt][1].start,end:Ye[it][1].end,contentType:"text"},splice$4(Ye,lt,it-lt+1,[["enter",ct,rt],["enter",ut,rt],["exit",ut,rt],["exit",ct,rt]])),Ye}function tokenizeHeadingAtx(Ye,rt,it){let lt=0;return ct;function ct(gt){return Ye.enter("atxHeading"),ut(gt)}function ut(gt){return Ye.enter("atxHeadingSequence"),ht(gt)}function ht(gt){return gt===35&&lt++<6?(Ye.consume(gt),ht):gt===null||markdownLineEndingOrSpace(gt)?(Ye.exit("atxHeadingSequence"),ft(gt)):it(gt)}function ft(gt){return gt===35?(Ye.enter("atxHeadingSequence"),pt(gt)):gt===null||markdownLineEnding(gt)?(Ye.exit("atxHeading"),rt(gt)):markdownSpace(gt)?factorySpace(Ye,ft,"whitespace")(gt):(Ye.enter("atxHeadingText"),mt(gt))}function pt(gt){return gt===35?(Ye.consume(gt),pt):(Ye.exit("atxHeadingSequence"),ft(gt))}function mt(gt){return gt===null||gt===35||markdownLineEndingOrSpace(gt)?(Ye.exit("atxHeadingText"),ft(gt)):(Ye.consume(gt),mt)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(Ye){let rt=Ye.length;for(;rt--&&!(Ye[rt][0]==="enter"&&Ye[rt][1].type==="htmlFlow"););return rt>1&&Ye[rt-2][1].type==="linePrefix"&&(Ye[rt][1].start=Ye[rt-2][1].start,Ye[rt+1][1].start=Ye[rt-2][1].start,Ye.splice(rt-2,2)),Ye}function tokenizeHtmlFlow(Ye,rt,it){const lt=this;let ct,ut,ht,ft,pt;return mt;function mt(Bt){return gt(Bt)}function gt(Bt){return Ye.enter("htmlFlow"),Ye.enter("htmlFlowData"),Ye.consume(Bt),yt}function yt(Bt){return Bt===33?(Ye.consume(Bt),xt):Bt===47?(Ye.consume(Bt),ut=!0,Ct):Bt===63?(Ye.consume(Bt),ct=3,lt.interrupt?rt:Gt):asciiAlpha(Bt)?(Ye.consume(Bt),ht=String.fromCharCode(Bt),kt):it(Bt)}function xt(Bt){return Bt===45?(Ye.consume(Bt),ct=2,bt):Bt===91?(Ye.consume(Bt),ct=5,ft=0,_t):asciiAlpha(Bt)?(Ye.consume(Bt),ct=4,lt.interrupt?rt:Gt):it(Bt)}function bt(Bt){return Bt===45?(Ye.consume(Bt),lt.interrupt?rt:Gt):it(Bt)}function _t(Bt){const nr="CDATA[";return Bt===nr.charCodeAt(ft++)?(Ye.consume(Bt),ft===nr.length?lt.interrupt?rt:Kt:_t):it(Bt)}function Ct(Bt){return asciiAlpha(Bt)?(Ye.consume(Bt),ht=String.fromCharCode(Bt),kt):it(Bt)}function kt(Bt){if(Bt===null||Bt===47||Bt===62||markdownLineEndingOrSpace(Bt)){const nr=Bt===47,rr=ht.toLowerCase();return!nr&&!ut&&htmlRawNames.includes(rr)?(ct=1,lt.interrupt?rt(Bt):Kt(Bt)):htmlBlockNames.includes(ht.toLowerCase())?(ct=6,nr?(Ye.consume(Bt),St):lt.interrupt?rt(Bt):Kt(Bt)):(ct=7,lt.interrupt&&!lt.parser.lazy[lt.now().line]?it(Bt):ut?Rt(Bt):Tt(Bt))}return Bt===45||asciiAlphanumeric(Bt)?(Ye.consume(Bt),ht+=String.fromCharCode(Bt),kt):it(Bt)}function St(Bt){return Bt===62?(Ye.consume(Bt),lt.interrupt?rt:Kt):it(Bt)}function Rt(Bt){return markdownSpace(Bt)?(Ye.consume(Bt),Rt):Ut(Bt)}function Tt(Bt){return Bt===47?(Ye.consume(Bt),Ut):Bt===58||Bt===95||asciiAlpha(Bt)?(Ye.consume(Bt),Mt):markdownSpace(Bt)?(Ye.consume(Bt),Tt):Ut(Bt)}function Mt(Bt){return Bt===45||Bt===46||Bt===58||Bt===95||asciiAlphanumeric(Bt)?(Ye.consume(Bt),Mt):Pt(Bt)}function Pt(Bt){return Bt===61?(Ye.consume(Bt),It):markdownSpace(Bt)?(Ye.consume(Bt),Pt):Tt(Bt)}function It(Bt){return Bt===null||Bt===60||Bt===61||Bt===62||Bt===96?it(Bt):Bt===34||Bt===39?(Ye.consume(Bt),pt=Bt,Lt):markdownSpace(Bt)?(Ye.consume(Bt),It):Ot(Bt)}function Lt(Bt){return Bt===pt?(Ye.consume(Bt),pt=null,Ft):Bt===null||markdownLineEnding(Bt)?it(Bt):(Ye.consume(Bt),Lt)}function Ot(Bt){return Bt===null||Bt===34||Bt===39||Bt===47||Bt===60||Bt===61||Bt===62||Bt===96||markdownLineEndingOrSpace(Bt)?Pt(Bt):(Ye.consume(Bt),Ot)}function Ft(Bt){return Bt===47||Bt===62||markdownSpace(Bt)?Tt(Bt):it(Bt)}function Ut(Bt){return Bt===62?(Ye.consume(Bt),Wt):it(Bt)}function Wt(Bt){return Bt===null||markdownLineEnding(Bt)?Kt(Bt):markdownSpace(Bt)?(Ye.consume(Bt),Wt):it(Bt)}function Kt(Bt){return Bt===45&&ct===2?(Ye.consume(Bt),$t):Bt===60&&ct===1?(Ye.consume(Bt),zt):Bt===62&&ct===4?(Ye.consume(Bt),Ht):Bt===63&&ct===3?(Ye.consume(Bt),Gt):Bt===93&&ct===5?(Ye.consume(Bt),qt):markdownLineEnding(Bt)&&(ct===6||ct===7)?(Ye.exit("htmlFlowData"),Ye.check(blankLineBefore,Xt,Qt)(Bt)):Bt===null||markdownLineEnding(Bt)?(Ye.exit("htmlFlowData"),Qt(Bt)):(Ye.consume(Bt),Kt)}function Qt(Bt){return Ye.check(nonLazyContinuationStart,Zt,Xt)(Bt)}function Zt(Bt){return Ye.enter("lineEnding"),Ye.consume(Bt),Ye.exit("lineEnding"),Vt}function Vt(Bt){return Bt===null||markdownLineEnding(Bt)?Qt(Bt):(Ye.enter("htmlFlowData"),Kt(Bt))}function $t(Bt){return Bt===45?(Ye.consume(Bt),Gt):Kt(Bt)}function zt(Bt){return Bt===47?(Ye.consume(Bt),ht="",Nt):Kt(Bt)}function Nt(Bt){if(Bt===62){const nr=ht.toLowerCase();return htmlRawNames.includes(nr)?(Ye.consume(Bt),Ht):Kt(Bt)}return asciiAlpha(Bt)&&ht.length<8?(Ye.consume(Bt),ht+=String.fromCharCode(Bt),Nt):Kt(Bt)}function qt(Bt){return Bt===93?(Ye.consume(Bt),Gt):Kt(Bt)}function Gt(Bt){return Bt===62?(Ye.consume(Bt),Ht):Bt===45&&ct===2?(Ye.consume(Bt),Gt):Kt(Bt)}function Ht(Bt){return Bt===null||markdownLineEnding(Bt)?(Ye.exit("htmlFlowData"),Xt(Bt)):(Ye.consume(Bt),Ht)}function Xt(Bt){return Ye.exit("htmlFlow"),rt(Bt)}}function tokenizeNonLazyContinuationStart(Ye,rt,it){const lt=this;return ct;function ct(ht){return markdownLineEnding(ht)?(Ye.enter("lineEnding"),Ye.consume(ht),Ye.exit("lineEnding"),ut):it(ht)}function ut(ht){return lt.parser.lazy[lt.now().line]?it(ht):rt(ht)}}function tokenizeBlankLineBefore(Ye,rt,it){return lt;function lt(ct){return Ye.enter("lineEnding"),Ye.consume(ct),Ye.exit("lineEnding"),Ye.attempt(blankLine,rt,it)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(Ye,rt,it){const lt=this;let ct,ut,ht;return ft;function ft(Gt){return Ye.enter("htmlText"),Ye.enter("htmlTextData"),Ye.consume(Gt),pt}function pt(Gt){return Gt===33?(Ye.consume(Gt),mt):Gt===47?(Ye.consume(Gt),Pt):Gt===63?(Ye.consume(Gt),Tt):asciiAlpha(Gt)?(Ye.consume(Gt),Ot):it(Gt)}function mt(Gt){return Gt===45?(Ye.consume(Gt),gt):Gt===91?(Ye.consume(Gt),ut=0,_t):asciiAlpha(Gt)?(Ye.consume(Gt),Rt):it(Gt)}function gt(Gt){return Gt===45?(Ye.consume(Gt),bt):it(Gt)}function yt(Gt){return Gt===null?it(Gt):Gt===45?(Ye.consume(Gt),xt):markdownLineEnding(Gt)?(ht=yt,zt(Gt)):(Ye.consume(Gt),yt)}function xt(Gt){return Gt===45?(Ye.consume(Gt),bt):yt(Gt)}function bt(Gt){return Gt===62?$t(Gt):Gt===45?xt(Gt):yt(Gt)}function _t(Gt){const Ht="CDATA[";return Gt===Ht.charCodeAt(ut++)?(Ye.consume(Gt),ut===Ht.length?Ct:_t):it(Gt)}function Ct(Gt){return Gt===null?it(Gt):Gt===93?(Ye.consume(Gt),kt):markdownLineEnding(Gt)?(ht=Ct,zt(Gt)):(Ye.consume(Gt),Ct)}function kt(Gt){return Gt===93?(Ye.consume(Gt),St):Ct(Gt)}function St(Gt){return Gt===62?$t(Gt):Gt===93?(Ye.consume(Gt),St):Ct(Gt)}function Rt(Gt){return Gt===null||Gt===62?$t(Gt):markdownLineEnding(Gt)?(ht=Rt,zt(Gt)):(Ye.consume(Gt),Rt)}function Tt(Gt){return Gt===null?it(Gt):Gt===63?(Ye.consume(Gt),Mt):markdownLineEnding(Gt)?(ht=Tt,zt(Gt)):(Ye.consume(Gt),Tt)}function Mt(Gt){return Gt===62?$t(Gt):Tt(Gt)}function Pt(Gt){return asciiAlpha(Gt)?(Ye.consume(Gt),It):it(Gt)}function It(Gt){return Gt===45||asciiAlphanumeric(Gt)?(Ye.consume(Gt),It):Lt(Gt)}function Lt(Gt){return markdownLineEnding(Gt)?(ht=Lt,zt(Gt)):markdownSpace(Gt)?(Ye.consume(Gt),Lt):$t(Gt)}function Ot(Gt){return Gt===45||asciiAlphanumeric(Gt)?(Ye.consume(Gt),Ot):Gt===47||Gt===62||markdownLineEndingOrSpace(Gt)?Ft(Gt):it(Gt)}function Ft(Gt){return Gt===47?(Ye.consume(Gt),$t):Gt===58||Gt===95||asciiAlpha(Gt)?(Ye.consume(Gt),Ut):markdownLineEnding(Gt)?(ht=Ft,zt(Gt)):markdownSpace(Gt)?(Ye.consume(Gt),Ft):$t(Gt)}function Ut(Gt){return Gt===45||Gt===46||Gt===58||Gt===95||asciiAlphanumeric(Gt)?(Ye.consume(Gt),Ut):Wt(Gt)}function Wt(Gt){return Gt===61?(Ye.consume(Gt),Kt):markdownLineEnding(Gt)?(ht=Wt,zt(Gt)):markdownSpace(Gt)?(Ye.consume(Gt),Wt):Ft(Gt)}function Kt(Gt){return Gt===null||Gt===60||Gt===61||Gt===62||Gt===96?it(Gt):Gt===34||Gt===39?(Ye.consume(Gt),ct=Gt,Qt):markdownLineEnding(Gt)?(ht=Kt,zt(Gt)):markdownSpace(Gt)?(Ye.consume(Gt),Kt):(Ye.consume(Gt),Zt)}function Qt(Gt){return Gt===ct?(Ye.consume(Gt),ct=void 0,Vt):Gt===null?it(Gt):markdownLineEnding(Gt)?(ht=Qt,zt(Gt)):(Ye.consume(Gt),Qt)}function Zt(Gt){return Gt===null||Gt===34||Gt===39||Gt===60||Gt===61||Gt===96?it(Gt):Gt===47||Gt===62||markdownLineEndingOrSpace(Gt)?Ft(Gt):(Ye.consume(Gt),Zt)}function Vt(Gt){return Gt===47||Gt===62||markdownLineEndingOrSpace(Gt)?Ft(Gt):it(Gt)}function $t(Gt){return Gt===62?(Ye.consume(Gt),Ye.exit("htmlTextData"),Ye.exit("htmlText"),rt):it(Gt)}function zt(Gt){return Ye.exit("htmlTextData"),Ye.enter("lineEnding"),Ye.consume(Gt),Ye.exit("lineEnding"),Nt}function Nt(Gt){return markdownSpace(Gt)?factorySpace(Ye,qt,"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Gt):qt(Gt)}function qt(Gt){return Ye.enter("htmlTextData"),ht(Gt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(Ye){let rt=-1;const it=[];for(;++rt<Ye.length;){const lt=Ye[rt][1];if(it.push(Ye[rt]),lt.type==="labelImage"||lt.type==="labelLink"||lt.type==="labelEnd"){const ct=lt.type==="labelImage"?4:2;lt.type="data",rt+=ct}}return Ye.length!==it.length&&splice$4(Ye,0,Ye.length,it),Ye}function resolveToLabelEnd(Ye,rt){let it=Ye.length,lt=0,ct,ut,ht,ft;for(;it--;)if(ct=Ye[it][1],ut){if(ct.type==="link"||ct.type==="labelLink"&&ct._inactive)break;Ye[it][0]==="enter"&&ct.type==="labelLink"&&(ct._inactive=!0)}else if(ht){if(Ye[it][0]==="enter"&&(ct.type==="labelImage"||ct.type==="labelLink")&&!ct._balanced&&(ut=it,ct.type!=="labelLink")){lt=2;break}}else ct.type==="labelEnd"&&(ht=it);const pt={type:Ye[ut][1].type==="labelLink"?"link":"image",start:{...Ye[ut][1].start},end:{...Ye[Ye.length-1][1].end}},mt={type:"label",start:{...Ye[ut][1].start},end:{...Ye[ht][1].end}},gt={type:"labelText",start:{...Ye[ut+lt+2][1].end},end:{...Ye[ht-2][1].start}};return ft=[["enter",pt,rt],["enter",mt,rt]],ft=push$6(ft,Ye.slice(ut+1,ut+lt+3)),ft=push$6(ft,[["enter",gt,rt]]),ft=push$6(ft,resolveAll(rt.parser.constructs.insideSpan.null,Ye.slice(ut+lt+4,ht-3),rt)),ft=push$6(ft,[["exit",gt,rt],Ye[ht-2],Ye[ht-1],["exit",mt,rt]]),ft=push$6(ft,Ye.slice(ht+1)),ft=push$6(ft,[["exit",pt,rt]]),splice$4(Ye,ut,Ye.length,ft),Ye}function tokenizeLabelEnd(Ye,rt,it){const lt=this;let ct=lt.events.length,ut,ht;for(;ct--;)if((lt.events[ct][1].type==="labelImage"||lt.events[ct][1].type==="labelLink")&&!lt.events[ct][1]._balanced){ut=lt.events[ct][1];break}return ft;function ft(xt){return ut?ut._inactive?yt(xt):(ht=lt.parser.defined.includes(normalizeIdentifier(lt.sliceSerialize({start:ut.end,end:lt.now()}))),Ye.enter("labelEnd"),Ye.enter("labelMarker"),Ye.consume(xt),Ye.exit("labelMarker"),Ye.exit("labelEnd"),pt):it(xt)}function pt(xt){return xt===40?Ye.attempt(resourceConstruct,gt,ht?gt:yt)(xt):xt===91?Ye.attempt(referenceFullConstruct,gt,ht?mt:yt)(xt):ht?gt(xt):yt(xt)}function mt(xt){return Ye.attempt(referenceCollapsedConstruct,gt,yt)(xt)}function gt(xt){return rt(xt)}function yt(xt){return ut._balanced=!0,it(xt)}}function tokenizeResource(Ye,rt,it){return lt;function lt(yt){return Ye.enter("resource"),Ye.enter("resourceMarker"),Ye.consume(yt),Ye.exit("resourceMarker"),ct}function ct(yt){return markdownLineEndingOrSpace(yt)?factoryWhitespace(Ye,ut)(yt):ut(yt)}function ut(yt){return yt===41?gt(yt):factoryDestination(Ye,ht,ft,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(yt)}function ht(yt){return markdownLineEndingOrSpace(yt)?factoryWhitespace(Ye,pt)(yt):gt(yt)}function ft(yt){return it(yt)}function pt(yt){return yt===34||yt===39||yt===40?factoryTitle(Ye,mt,it,"resourceTitle","resourceTitleMarker","resourceTitleString")(yt):gt(yt)}function mt(yt){return markdownLineEndingOrSpace(yt)?factoryWhitespace(Ye,gt)(yt):gt(yt)}function gt(yt){return yt===41?(Ye.enter("resourceMarker"),Ye.consume(yt),Ye.exit("resourceMarker"),Ye.exit("resource"),rt):it(yt)}}function tokenizeReferenceFull(Ye,rt,it){const lt=this;return ct;function ct(ft){return factoryLabel$1.call(lt,Ye,ut,ht,"reference","referenceMarker","referenceString")(ft)}function ut(ft){return lt.parser.defined.includes(normalizeIdentifier(lt.sliceSerialize(lt.events[lt.events.length-1][1]).slice(1,-1)))?rt(ft):it(ft)}function ht(ft){return it(ft)}}function tokenizeReferenceCollapsed(Ye,rt,it){return lt;function lt(ut){return Ye.enter("reference"),Ye.enter("referenceMarker"),Ye.consume(ut),Ye.exit("referenceMarker"),ct}function ct(ut){return ut===93?(Ye.enter("referenceMarker"),Ye.consume(ut),Ye.exit("referenceMarker"),Ye.exit("reference"),rt):it(ut)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(Ye,rt,it){const lt=this;return ct;function ct(ft){return Ye.enter("labelImage"),Ye.enter("labelImageMarker"),Ye.consume(ft),Ye.exit("labelImageMarker"),ut}function ut(ft){return ft===91?(Ye.enter("labelMarker"),Ye.consume(ft),Ye.exit("labelMarker"),Ye.exit("labelImage"),ht):it(ft)}function ht(ft){return ft===94&&"_hiddenFootnoteSupport"in lt.parser.constructs?it(ft):rt(ft)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(Ye,rt,it){const lt=this;return ct;function ct(ht){return Ye.enter("labelLink"),Ye.enter("labelMarker"),Ye.consume(ht),Ye.exit("labelMarker"),Ye.exit("labelLink"),ut}function ut(ht){return ht===94&&"_hiddenFootnoteSupport"in lt.parser.constructs?it(ht):rt(ht)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(Ye,rt){return it;function it(lt){return Ye.enter("lineEnding"),Ye.consume(lt),Ye.exit("lineEnding"),factorySpace(Ye,rt,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(Ye,rt,it){let lt=0,ct;return ut;function ut(mt){return Ye.enter("thematicBreak"),ht(mt)}function ht(mt){return ct=mt,ft(mt)}function ft(mt){return mt===ct?(Ye.enter("thematicBreakSequence"),pt(mt)):lt>=3&&(mt===null||markdownLineEnding(mt))?(Ye.exit("thematicBreak"),rt(mt)):it(mt)}function pt(mt){return mt===ct?(Ye.consume(mt),lt++,pt):(Ye.exit("thematicBreakSequence"),markdownSpace(mt)?factorySpace(Ye,ft,"whitespace")(mt):ft(mt))}}const list$3={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(Ye,rt,it){const lt=this,ct=lt.events[lt.events.length-1];let ut=ct&&ct[1].type==="linePrefix"?ct[2].sliceSerialize(ct[1],!0).length:0,ht=0;return ft;function ft(bt){const _t=lt.containerState.type||(bt===42||bt===43||bt===45?"listUnordered":"listOrdered");if(_t==="listUnordered"?!lt.containerState.marker||bt===lt.containerState.marker:asciiDigit(bt)){if(lt.containerState.type||(lt.containerState.type=_t,Ye.enter(_t,{_container:!0})),_t==="listUnordered")return Ye.enter("listItemPrefix"),bt===42||bt===45?Ye.check(thematicBreak$2,it,mt)(bt):mt(bt);if(!lt.interrupt||bt===49)return Ye.enter("listItemPrefix"),Ye.enter("listItemValue"),pt(bt)}return it(bt)}function pt(bt){return asciiDigit(bt)&&++ht<10?(Ye.consume(bt),pt):(!lt.interrupt||ht<2)&&(lt.containerState.marker?bt===lt.containerState.marker:bt===41||bt===46)?(Ye.exit("listItemValue"),mt(bt)):it(bt)}function mt(bt){return Ye.enter("listItemMarker"),Ye.consume(bt),Ye.exit("listItemMarker"),lt.containerState.marker=lt.containerState.marker||bt,Ye.check(blankLine,lt.interrupt?it:gt,Ye.attempt(listItemPrefixWhitespaceConstruct,xt,yt))}function gt(bt){return lt.containerState.initialBlankLine=!0,ut++,xt(bt)}function yt(bt){return markdownSpace(bt)?(Ye.enter("listItemPrefixWhitespace"),Ye.consume(bt),Ye.exit("listItemPrefixWhitespace"),xt):it(bt)}function xt(bt){return lt.containerState.size=ut+lt.sliceSerialize(Ye.exit("listItemPrefix"),!0).length,rt(bt)}}function tokenizeListContinuation(Ye,rt,it){const lt=this;return lt.containerState._closeFlow=void 0,Ye.check(blankLine,ct,ut);function ct(ft){return lt.containerState.furtherBlankLines=lt.containerState.furtherBlankLines||lt.containerState.initialBlankLine,factorySpace(Ye,rt,"listItemIndent",lt.containerState.size+1)(ft)}function ut(ft){return lt.containerState.furtherBlankLines||!markdownSpace(ft)?(lt.containerState.furtherBlankLines=void 0,lt.containerState.initialBlankLine=void 0,ht(ft)):(lt.containerState.furtherBlankLines=void 0,lt.containerState.initialBlankLine=void 0,Ye.attempt(indentConstruct,rt,ht)(ft))}function ht(ft){return lt.containerState._closeFlow=!0,lt.interrupt=void 0,factorySpace(Ye,Ye.attempt(list$3,rt,it),"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ft)}}function tokenizeIndent$1(Ye,rt,it){const lt=this;return factorySpace(Ye,ct,"listItemIndent",lt.containerState.size+1);function ct(ut){const ht=lt.events[lt.events.length-1];return ht&&ht[1].type==="listItemIndent"&&ht[2].sliceSerialize(ht[1],!0).length===lt.containerState.size?rt(ut):it(ut)}}function tokenizeListEnd(Ye){Ye.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(Ye,rt,it){const lt=this;return factorySpace(Ye,ct,"listItemPrefixWhitespace",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function ct(ut){const ht=lt.events[lt.events.length-1];return!markdownSpace(ut)&&ht&&ht[1].type==="listItemPrefixWhitespace"?rt(ut):it(ut)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(Ye,rt){let it=Ye.length,lt,ct,ut;for(;it--;)if(Ye[it][0]==="enter"){if(Ye[it][1].type==="content"){lt=it;break}Ye[it][1].type==="paragraph"&&(ct=it)}else Ye[it][1].type==="content"&&Ye.splice(it,1),!ut&&Ye[it][1].type==="definition"&&(ut=it);const ht={type:"setextHeading",start:{...Ye[lt][1].start},end:{...Ye[Ye.length-1][1].end}};return Ye[ct][1].type="setextHeadingText",ut?(Ye.splice(ct,0,["enter",ht,rt]),Ye.splice(ut+1,0,["exit",Ye[lt][1],rt]),Ye[lt][1].end={...Ye[ut][1].end}):Ye[lt][1]=ht,Ye.push(["exit",ht,rt]),Ye}function tokenizeSetextUnderline(Ye,rt,it){const lt=this;let ct;return ut;function ut(mt){let gt=lt.events.length,yt;for(;gt--;)if(lt.events[gt][1].type!=="lineEnding"&&lt.events[gt][1].type!=="linePrefix"&&lt.events[gt][1].type!=="content"){yt=lt.events[gt][1].type==="paragraph";break}return!lt.parser.lazy[lt.now().line]&&(lt.interrupt||yt)?(Ye.enter("setextHeadingLine"),ct=mt,ht(mt)):it(mt)}function ht(mt){return Ye.enter("setextHeadingLineSequence"),ft(mt)}function ft(mt){return mt===ct?(Ye.consume(mt),ft):(Ye.exit("setextHeadingLineSequence"),markdownSpace(mt)?factorySpace(Ye,pt,"lineSuffix")(mt):pt(mt))}function pt(mt){return mt===null||markdownLineEnding(mt)?(Ye.exit("setextHeadingLine"),rt(mt)):it(mt)}}const flow$1={tokenize:initializeFlow};function initializeFlow(Ye){const rt=this,it=Ye.attempt(blankLine,lt,Ye.attempt(this.parser.constructs.flowInitial,ct,factorySpace(Ye,Ye.attempt(this.parser.constructs.flow,ct,Ye.attempt(content,ct)),"linePrefix")));return it;function lt(ut){if(ut===null){Ye.consume(ut);return}return Ye.enter("lineEndingBlank"),Ye.consume(ut),Ye.exit("lineEndingBlank"),rt.currentConstruct=void 0,it}function ct(ut){if(ut===null){Ye.consume(ut);return}return Ye.enter("lineEnding"),Ye.consume(ut),Ye.exit("lineEnding"),rt.currentConstruct=void 0,it}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(Ye){return{resolveAll:createResolver(Ye==="text"?resolveAllLineSuffixes:void 0),tokenize:rt};function rt(it){const lt=this,ct=this.parser.constructs[Ye],ut=it.attempt(ct,ht,ft);return ht;function ht(gt){return mt(gt)?ut(gt):ft(gt)}function ft(gt){if(gt===null){it.consume(gt);return}return it.enter("data"),it.consume(gt),pt}function pt(gt){return mt(gt)?(it.exit("data"),ut(gt)):(it.consume(gt),pt)}function mt(gt){if(gt===null)return!0;const yt=ct[gt];let xt=-1;if(yt)for(;++xt<yt.length;){const bt=yt[xt];if(!bt.previous||bt.previous.call(lt,lt.previous))return!0}return!1}}}function createResolver(Ye){return rt;function rt(it,lt){let ct=-1,ut;for(;++ct<=it.length;)ut===void 0?it[ct]&&it[ct][1].type==="data"&&(ut=ct,ct++):(!it[ct]||it[ct][1].type!=="data")&&(ct!==ut+2&&(it[ut][1].end=it[ct-1][1].end,it.splice(ut+2,ct-ut-2),ct=ut+2),ut=void 0);return Ye?Ye(it,lt):it}}function resolveAllLineSuffixes(Ye,rt){let it=0;for(;++it<=Ye.length;)if((it===Ye.length||Ye[it][1].type==="lineEnding")&&Ye[it-1][1].type==="data"){const lt=Ye[it-1][1],ct=rt.sliceStream(lt);let ut=ct.length,ht=-1,ft=0,pt;for(;ut--;){const mt=ct[ut];if(typeof mt=="string"){for(ht=mt.length;mt.charCodeAt(ht-1)===32;)ft++,ht--;if(ht)break;ht=-1}else if(mt===-2)pt=!0,ft++;else if(mt!==-1){ut++;break}}if(rt._contentTypeTextTrailing&&it===Ye.length&&(ft=0),ft){const mt={type:it===Ye.length||pt||ft<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:ut?ht:lt.start._bufferIndex+ht,_index:lt.start._index+ut,line:lt.end.line,column:lt.end.column-ft,offset:lt.end.offset-ft},end:{...lt.end}};lt.end={...mt.start},lt.start.offset===lt.end.offset?Object.assign(lt,mt):(Ye.splice(it,0,["enter",mt,rt],["exit",mt,rt]),it+=2)}it++}return Ye}const document$1={42:list$3,43:list$3,45:list$3,48:list$3,49:list$3,50:list$3,51:list$3,52:list$3,53:list$3,54:list$3,55:list$3,56:list$3,57:list$3,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(Ye,rt,it){let lt={_bufferIndex:-1,_index:0,line:it&&it.line||1,column:it&&it.column||1,offset:it&&it.offset||0};const ct={},ut=[];let ht=[],ft=[];const pt={attempt:Lt(Pt),check:Lt(It),consume:Rt,enter:Tt,exit:Mt,interrupt:Lt(It,{interrupt:!0})},mt={code:null,containerState:{},defineSkip:Ct,events:[],now:_t,parser:Ye,previous:null,sliceSerialize:xt,sliceStream:bt,write:yt};let gt=rt.tokenize.call(mt,pt);return rt.resolveAll&&ut.push(rt),mt;function yt(Wt){return ht=push$6(ht,Wt),kt(),ht[ht.length-1]!==null?[]:(Ot(rt,0),mt.events=resolveAll(ut,mt.events,mt),mt.events)}function xt(Wt,Kt){return serializeChunks(bt(Wt),Kt)}function bt(Wt){return sliceChunks(ht,Wt)}function _t(){const{_bufferIndex:Wt,_index:Kt,line:Qt,column:Zt,offset:Vt}=lt;return{_bufferIndex:Wt,_index:Kt,line:Qt,column:Zt,offset:Vt}}function Ct(Wt){ct[Wt.line]=Wt.column,Ut()}function kt(){let Wt;for(;lt._index<ht.length;){const Kt=ht[lt._index];if(typeof Kt=="string")for(Wt=lt._index,lt._bufferIndex<0&&(lt._bufferIndex=0);lt._index===Wt&&lt._bufferIndex<Kt.length;)St(Kt.charCodeAt(lt._bufferIndex));else St(Kt)}}function St(Wt){gt=gt(Wt)}function Rt(Wt){markdownLineEnding(Wt)?(lt.line++,lt.column=1,lt.offset+=Wt===-3?2:1,Ut()):Wt!==-1&&(lt.column++,lt.offset++),lt._bufferIndex<0?lt._index++:(lt._bufferIndex++,lt._bufferIndex===ht[lt._index].length&&(lt._bufferIndex=-1,lt._index++)),mt.previous=Wt}function Tt(Wt,Kt){const Qt=Kt||{};return Qt.type=Wt,Qt.start=_t(),mt.events.push(["enter",Qt,mt]),ft.push(Qt),Qt}function Mt(Wt){const Kt=ft.pop();return Kt.end=_t(),mt.events.push(["exit",Kt,mt]),Kt}function Pt(Wt,Kt){Ot(Wt,Kt.from)}function It(Wt,Kt){Kt.restore()}function Lt(Wt,Kt){return Qt;function Qt(Zt,Vt,$t){let zt,Nt,qt,Gt;return Array.isArray(Zt)?Xt(Zt):"tokenize"in Zt?Xt([Zt]):Ht(Zt);function Ht(Jt){return ir;function ir(ar){const cr=ar!==null&&Jt[ar],dr=ar!==null&&Jt.null,xr=[...Array.isArray(cr)?cr:cr?[cr]:[],...Array.isArray(dr)?dr:dr?[dr]:[]];return Xt(xr)(ar)}}function Xt(Jt){return zt=Jt,Nt=0,Jt.length===0?$t:Bt(Jt[Nt])}function Bt(Jt){return ir;function ir(ar){return Gt=Ft(),qt=Jt,Jt.partial||(mt.currentConstruct=Jt),Jt.name&&mt.parser.constructs.disable.null.includes(Jt.name)?rr():Jt.tokenize.call(Kt?Object.assign(Object.create(mt),Kt):mt,pt,nr,rr)(ar)}}function nr(Jt){return Wt(qt,Gt),Vt}function rr(Jt){return Gt.restore(),++Nt<zt.length?Bt(zt[Nt]):$t}}}function Ot(Wt,Kt){Wt.resolveAll&&!ut.includes(Wt)&&ut.push(Wt),Wt.resolve&&splice$4(mt.events,Kt,mt.events.length-Kt,Wt.resolve(mt.events.slice(Kt),mt)),Wt.resolveTo&&(mt.events=Wt.resolveTo(mt.events,mt))}function Ft(){const Wt=_t(),Kt=mt.previous,Qt=mt.currentConstruct,Zt=mt.events.length,Vt=Array.from(ft);return{from:Zt,restore:$t};function $t(){lt=Wt,mt.previous=Kt,mt.currentConstruct=Qt,mt.events.length=Zt,ft=Vt,Ut()}}function Ut(){lt.line in ct&&lt.column<2&&(lt.column=ct[lt.line],lt.offset+=ct[lt.line]-1)}}function sliceChunks(Ye,rt){const it=rt.start._index,lt=rt.start._bufferIndex,ct=rt.end._index,ut=rt.end._bufferIndex;let ht;if(it===ct)ht=[Ye[it].slice(lt,ut)];else{if(ht=Ye.slice(it,ct),lt>-1){const ft=ht[0];typeof ft=="string"?ht[0]=ft.slice(lt):ht.shift()}ut>0&&ht.push(Ye[ct].slice(0,ut))}return ht}function serializeChunks(Ye,rt){let it=-1;const lt=[];let ct;for(;++it<Ye.length;){const ut=Ye[it];let ht;if(typeof ut=="string")ht=ut;else switch(ut){case-5:{ht="\r";break}case-4:{ht=`
`;break}case-3:{ht=`\r
`;break}case-2:{ht=rt?" ":"	";break}case-1:{if(!rt&&ct)continue;ht=" ";break}default:ht=String.fromCharCode(ut)}ct=ut===-2,lt.push(ht)}return lt.join("")}function parse$1(Ye){const lt={constructs:combineExtensions([defaultConstructs,...(Ye||{}).extensions||[]]),content:ct(content$1),defined:[],document:ct(document$2),flow:ct(flow$1),lazy:{},string:ct(string$1),text:ct(text$4)};return lt;function ct(ut){return ht;function ht(ft){return createTokenizer(lt,ut,ft)}}}function postprocess(Ye){for(;!subtokenize(Ye););return Ye}const search=/[\0\t\n\r]/g;function preprocess(){let Ye=1,rt="",it=!0,lt;return ct;function ct(ut,ht,ft){const pt=[];let mt,gt,yt,xt,bt;for(ut=rt+(typeof ut=="string"?ut.toString():new TextDecoder(ht||void 0).decode(ut)),yt=0,rt="",it&&(ut.charCodeAt(0)===65279&&yt++,it=void 0);yt<ut.length;){if(search.lastIndex=yt,mt=search.exec(ut),xt=mt&&mt.index!==void 0?mt.index:ut.length,bt=ut.charCodeAt(xt),!mt){rt=ut.slice(yt);break}if(bt===10&&yt===xt&&lt)pt.push(-3),lt=void 0;else switch(lt&&(pt.push(-5),lt=void 0),yt<xt&&(pt.push(ut.slice(yt,xt)),Ye+=xt-yt),bt){case 0:{pt.push(65533),Ye++;break}case 9:{for(gt=Math.ceil(Ye/4)*4,pt.push(-2);Ye++<gt;)pt.push(-1);break}case 10:{pt.push(-4),Ye=1;break}default:lt=!0,Ye=1}yt=xt+1}return ft&&(lt&&pt.push(-5),rt&&pt.push(rt),pt.push(null)),pt}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(Ye){return Ye.replace(characterEscapeOrReference,decode)}function decode(Ye,rt,it){if(rt)return rt;if(it.charCodeAt(0)===35){const ct=it.charCodeAt(1),ut=ct===120||ct===88;return decodeNumericCharacterReference(it.slice(ut?2:1),ut?16:10)}return decodeNamedCharacterReference(it)||Ye}const own$4={}.hasOwnProperty;function fromMarkdown(Ye,rt,it){return typeof rt!="string"&&(it=rt,rt=void 0),compiler(it)(postprocess(parse$1(it).document().write(preprocess()(Ye,rt,!0))))}function compiler(Ye){const rt={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:ut(Xr),autolinkProtocol:Ft,autolinkEmail:Ft,atxHeading:ut(Rr),blockQuote:ut(dr),characterEscape:Ft,characterReference:Ft,codeFenced:ut(xr),codeFencedFenceInfo:ht,codeFencedFenceMeta:ht,codeIndented:ut(xr,ht),codeText:ut(br,ht),codeTextData:Ft,data:Ft,codeFlowValue:Ft,definition:ut(_r),definitionDestinationString:ht,definitionLabelString:ht,definitionTitleString:ht,emphasis:ut(Er),hardBreakEscape:ut(Lr),hardBreakTrailing:ut(Lr),htmlFlow:ut(Mr,ht),htmlFlowData:Ft,htmlText:ut(Mr,ht),htmlTextData:Ft,image:ut(Fr),label:ht,link:ut(Xr),listItem:ut(Kr),listItemValue:xt,listOrdered:ut(Jr,yt),listUnordered:ut(Jr),paragraph:ut(nn),reference:Bt,referenceString:ht,resourceDestinationString:ht,resourceTitleString:ht,setextHeading:ut(Rr),strong:ut(Qr),thematicBreak:ut(sn)},exit:{atxHeading:pt(),atxHeadingSequence:Pt,autolink:pt(),autolinkEmail:cr,autolinkProtocol:ar,blockQuote:pt(),characterEscapeValue:Ut,characterReferenceMarkerHexadecimal:rr,characterReferenceMarkerNumeric:rr,characterReferenceValue:Jt,characterReference:ir,codeFenced:pt(kt),codeFencedFence:Ct,codeFencedFenceInfo:bt,codeFencedFenceMeta:_t,codeFlowValue:Ut,codeIndented:pt(St),codeText:pt(Vt),codeTextData:Ut,data:Ut,definition:pt(),definitionDestinationString:Mt,definitionLabelString:Rt,definitionTitleString:Tt,emphasis:pt(),hardBreakEscape:pt(Kt),hardBreakTrailing:pt(Kt),htmlFlow:pt(Qt),htmlFlowData:Ut,htmlText:pt(Zt),htmlTextData:Ut,image:pt(zt),label:qt,labelText:Nt,lineEnding:Wt,link:pt($t),listItem:pt(),listOrdered:pt(),listUnordered:pt(),paragraph:pt(),referenceString:nr,resourceDestinationString:Gt,resourceTitleString:Ht,resource:Xt,setextHeading:pt(Ot),setextHeadingLineSequence:Lt,setextHeadingText:It,strong:pt(),thematicBreak:pt()}};configure$1(rt,(Ye||{}).mdastExtensions||[]);const it={};return lt;function lt(yr){let hr={type:"root",children:[]};const Tr={stack:[hr],tokenStack:[],config:rt,enter:ft,exit:mt,buffer:ht,resume:gt,data:it},Ir=[];let Dr=-1;for(;++Dr<yr.length;)if(yr[Dr][1].type==="listOrdered"||yr[Dr][1].type==="listUnordered")if(yr[Dr][0]==="enter")Ir.push(Dr);else{const jr=Ir.pop();Dr=ct(yr,jr,Dr)}for(Dr=-1;++Dr<yr.length;){const jr=rt[yr[Dr][0]];own$4.call(jr,yr[Dr][1].type)&&jr[yr[Dr][1].type].call(Object.assign({sliceSerialize:yr[Dr][2].sliceSerialize},Tr),yr[Dr][1])}if(Tr.tokenStack.length>0){const jr=Tr.tokenStack[Tr.tokenStack.length-1];(jr[1]||defaultOnError).call(Tr,void 0,jr[0])}for(hr.position={start:point(yr.length>0?yr[0][1].start:{line:1,column:1,offset:0}),end:point(yr.length>0?yr[yr.length-2][1].end:{line:1,column:1,offset:0})},Dr=-1;++Dr<rt.transforms.length;)hr=rt.transforms[Dr](hr)||hr;return hr}function ct(yr,hr,Tr){let Ir=hr-1,Dr=-1,jr=!1,Br,Or,$r,Ur;for(;++Ir<=Tr;){const qr=yr[Ir];switch(qr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qr[0]==="enter"?Dr++:Dr--,Ur=void 0;break}case"lineEndingBlank":{qr[0]==="enter"&&(Br&&!Ur&&!Dr&&!$r&&($r=Ir),Ur=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ur=void 0}if(!Dr&&qr[0]==="enter"&&qr[1].type==="listItemPrefix"||Dr===-1&&qr[0]==="exit"&&(qr[1].type==="listUnordered"||qr[1].type==="listOrdered")){if(Br){let fn=Ir;for(Or=void 0;fn--;){const xn=yr[fn];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Or&&(yr[Or][1].type="lineEndingBlank",jr=!0),xn[1].type="lineEnding",Or=fn}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}$r&&(!Or||$r<Or)&&(Br._spread=!0),Br.end=Object.assign({},Or?yr[Or][1].start:qr[1].end),yr.splice(Or||Ir,0,["exit",Br,qr[2]]),Ir++,Tr++}if(qr[1].type==="listItemPrefix"){const fn={type:"listItem",_spread:!1,start:Object.assign({},qr[1].start),end:void 0};Br=fn,yr.splice(Ir,0,["enter",fn,qr[2]]),Ir++,Tr++,$r=void 0,Ur=!0}}}return yr[hr][1]._spread=jr,Tr}function ut(yr,hr){return Tr;function Tr(Ir){ft.call(this,yr(Ir),Ir),hr&&hr.call(this,Ir)}}function ht(){this.stack.push({type:"fragment",children:[]})}function ft(yr,hr,Tr){this.stack[this.stack.length-1].children.push(yr),this.stack.push(yr),this.tokenStack.push([hr,Tr||void 0]),yr.position={start:point(hr.start),end:void 0}}function pt(yr){return hr;function hr(Tr){yr&&yr.call(this,Tr),mt.call(this,Tr)}}function mt(yr,hr){const Tr=this.stack.pop(),Ir=this.tokenStack.pop();if(Ir)Ir[0].type!==yr.type&&(hr?hr.call(this,yr,Ir[0]):(Ir[1]||defaultOnError).call(this,yr,Ir[0]));else throw new Error("Cannot close `"+yr.type+"` ("+stringifyPosition({start:yr.start,end:yr.end})+"): its not open");Tr.position.end=point(yr.end)}function gt(){return toString$3(this.stack.pop())}function yt(){this.data.expectingFirstListItemValue=!0}function xt(yr){if(this.data.expectingFirstListItemValue){const hr=this.stack[this.stack.length-2];hr.start=Number.parseInt(this.sliceSerialize(yr),10),this.data.expectingFirstListItemValue=void 0}}function bt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.lang=yr}function _t(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.meta=yr}function Ct(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function kt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.value=yr.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function St(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.value=yr.replace(/(\r?\n|\r)$/g,"")}function Rt(yr){const hr=this.resume(),Tr=this.stack[this.stack.length-1];Tr.label=hr,Tr.identifier=normalizeIdentifier(this.sliceSerialize(yr)).toLowerCase()}function Tt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.title=yr}function Mt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.url=yr}function Pt(yr){const hr=this.stack[this.stack.length-1];if(!hr.depth){const Tr=this.sliceSerialize(yr).length;hr.depth=Tr}}function It(){this.data.setextHeadingSlurpLineEnding=!0}function Lt(yr){const hr=this.stack[this.stack.length-1];hr.depth=this.sliceSerialize(yr).codePointAt(0)===61?1:2}function Ot(){this.data.setextHeadingSlurpLineEnding=void 0}function Ft(yr){const Tr=this.stack[this.stack.length-1].children;let Ir=Tr[Tr.length-1];(!Ir||Ir.type!=="text")&&(Ir=Zr(),Ir.position={start:point(yr.start),end:void 0},Tr.push(Ir)),this.stack.push(Ir)}function Ut(yr){const hr=this.stack.pop();hr.value+=this.sliceSerialize(yr),hr.position.end=point(yr.end)}function Wt(yr){const hr=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Tr=hr.children[hr.children.length-1];Tr.position.end=point(yr.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&rt.canContainEols.includes(hr.type)&&(Ft.call(this,yr),Ut.call(this,yr))}function Kt(){this.data.atHardBreak=!0}function Qt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.value=yr}function Zt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.value=yr}function Vt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.value=yr}function $t(){const yr=this.stack[this.stack.length-1];if(this.data.inReference){const hr=this.data.referenceType||"shortcut";yr.type+="Reference",yr.referenceType=hr,delete yr.url,delete yr.title}else delete yr.identifier,delete yr.label;this.data.referenceType=void 0}function zt(){const yr=this.stack[this.stack.length-1];if(this.data.inReference){const hr=this.data.referenceType||"shortcut";yr.type+="Reference",yr.referenceType=hr,delete yr.url,delete yr.title}else delete yr.identifier,delete yr.label;this.data.referenceType=void 0}function Nt(yr){const hr=this.sliceSerialize(yr),Tr=this.stack[this.stack.length-2];Tr.label=decodeString(hr),Tr.identifier=normalizeIdentifier(hr).toLowerCase()}function qt(){const yr=this.stack[this.stack.length-1],hr=this.resume(),Tr=this.stack[this.stack.length-1];if(this.data.inReference=!0,Tr.type==="link"){const Ir=yr.children;Tr.children=Ir}else Tr.alt=hr}function Gt(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.url=yr}function Ht(){const yr=this.resume(),hr=this.stack[this.stack.length-1];hr.title=yr}function Xt(){this.data.inReference=void 0}function Bt(){this.data.referenceType="collapsed"}function nr(yr){const hr=this.resume(),Tr=this.stack[this.stack.length-1];Tr.label=hr,Tr.identifier=normalizeIdentifier(this.sliceSerialize(yr)).toLowerCase(),this.data.referenceType="full"}function rr(yr){this.data.characterReferenceType=yr.type}function Jt(yr){const hr=this.sliceSerialize(yr),Tr=this.data.characterReferenceType;let Ir;Tr?(Ir=decodeNumericCharacterReference(hr,Tr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ir=decodeNamedCharacterReference(hr);const Dr=this.stack[this.stack.length-1];Dr.value+=Ir}function ir(yr){const hr=this.stack.pop();hr.position.end=point(yr.end)}function ar(yr){Ut.call(this,yr);const hr=this.stack[this.stack.length-1];hr.url=this.sliceSerialize(yr)}function cr(yr){Ut.call(this,yr);const hr=this.stack[this.stack.length-1];hr.url="mailto:"+this.sliceSerialize(yr)}function dr(){return{type:"blockquote",children:[]}}function xr(){return{type:"code",lang:null,meta:null,value:""}}function br(){return{type:"inlineCode",value:""}}function _r(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Er(){return{type:"emphasis",children:[]}}function Rr(){return{type:"heading",depth:0,children:[]}}function Lr(){return{type:"break"}}function Mr(){return{type:"html",value:""}}function Fr(){return{type:"image",title:null,url:"",alt:null}}function Xr(){return{type:"link",title:null,url:"",children:[]}}function Jr(yr){return{type:"list",ordered:yr.type==="listOrdered",start:null,spread:yr._spread,children:[]}}function Kr(yr){return{type:"listItem",spread:yr._spread,checked:null,children:[]}}function nn(){return{type:"paragraph",children:[]}}function Qr(){return{type:"strong",children:[]}}function Zr(){return{type:"text",value:""}}function sn(){return{type:"thematicBreak"}}}function point(Ye){return{line:Ye.line,column:Ye.column,offset:Ye.offset}}function configure$1(Ye,rt){let it=-1;for(;++it<rt.length;){const lt=rt[it];Array.isArray(lt)?configure$1(Ye,lt):extension(Ye,lt)}}function extension(Ye,rt){let it;for(it in rt)if(own$4.call(rt,it))switch(it){case"canContainEols":{const lt=rt[it];lt&&Ye[it].push(...lt);break}case"transforms":{const lt=rt[it];lt&&Ye[it].push(...lt);break}case"enter":case"exit":{const lt=rt[it];lt&&Object.assign(Ye[it],lt);break}}}function defaultOnError(Ye,rt){throw Ye?new Error("Cannot close `"+Ye.type+"` ("+stringifyPosition({start:Ye.start,end:Ye.end})+"): a different token (`"+rt.type+"`, "+stringifyPosition({start:rt.start,end:rt.end})+") is open"):new Error("Cannot close document, a token (`"+rt.type+"`, "+stringifyPosition({start:rt.start,end:rt.end})+") is still open")}function remarkParse(Ye){const rt=this;rt.parser=it;function it(lt){return fromMarkdown(lt,{...rt.data("settings"),...Ye,extensions:rt.data("micromarkExtensions")||[],mdastExtensions:rt.data("fromMarkdownExtensions")||[]})}}function blockquote$1(Ye,rt){const it={type:"element",tagName:"blockquote",properties:{},children:Ye.wrap(Ye.all(rt),!0)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function hardBreak$1(Ye,rt){const it={type:"element",tagName:"br",properties:{},children:[]};return Ye.patch(rt,it),[Ye.applyData(rt,it),{type:"text",value:`
`}]}function code$2(Ye,rt){const it=rt.value?rt.value+`
`:"",lt={};rt.lang&&(lt.className=["language-"+rt.lang]);let ct={type:"element",tagName:"code",properties:lt,children:[{type:"text",value:it}]};return rt.meta&&(ct.data={meta:rt.meta}),Ye.patch(rt,ct),ct=Ye.applyData(rt,ct),ct={type:"element",tagName:"pre",properties:{},children:[ct]},Ye.patch(rt,ct),ct}function strikethrough(Ye,rt){const it={type:"element",tagName:"del",properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function emphasis$1(Ye,rt){const it={type:"element",tagName:"em",properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function footnoteReference$1(Ye,rt){const it=typeof Ye.options.clobberPrefix=="string"?Ye.options.clobberPrefix:"user-content-",lt=String(rt.identifier).toUpperCase(),ct=normalizeUri(lt.toLowerCase()),ut=Ye.footnoteOrder.indexOf(lt);let ht,ft=Ye.footnoteCounts.get(lt);ft===void 0?(ft=0,Ye.footnoteOrder.push(lt),ht=Ye.footnoteOrder.length):ht=ut+1,ft+=1,Ye.footnoteCounts.set(lt,ft);const pt={type:"element",tagName:"a",properties:{href:"#"+it+"fn-"+ct,id:it+"fnref-"+ct+(ft>1?"-"+ft:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(ht)}]};Ye.patch(rt,pt);const mt={type:"element",tagName:"sup",properties:{},children:[pt]};return Ye.patch(rt,mt),Ye.applyData(rt,mt)}function heading$1(Ye,rt){const it={type:"element",tagName:"h"+rt.depth,properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function html$3(Ye,rt){if(Ye.options.allowDangerousHtml){const it={type:"raw",value:rt.value};return Ye.patch(rt,it),Ye.applyData(rt,it)}}function revert(Ye,rt){const it=rt.referenceType;let lt="]";if(it==="collapsed"?lt+="[]":it==="full"&&(lt+="["+(rt.label||rt.identifier)+"]"),rt.type==="imageReference")return[{type:"text",value:"!["+rt.alt+lt}];const ct=Ye.all(rt),ut=ct[0];ut&&ut.type==="text"?ut.value="["+ut.value:ct.unshift({type:"text",value:"["});const ht=ct[ct.length-1];return ht&&ht.type==="text"?ht.value+=lt:ct.push({type:"text",value:lt}),ct}function imageReference$1(Ye,rt){const it=String(rt.identifier).toUpperCase(),lt=Ye.definitionById.get(it);if(!lt)return revert(Ye,rt);const ct={src:normalizeUri(lt.url||""),alt:rt.alt};lt.title!==null&&lt.title!==void 0&&(ct.title=lt.title);const ut={type:"element",tagName:"img",properties:ct,children:[]};return Ye.patch(rt,ut),Ye.applyData(rt,ut)}function image$1(Ye,rt){const it={src:normalizeUri(rt.url)};rt.alt!==null&&rt.alt!==void 0&&(it.alt=rt.alt),rt.title!==null&&rt.title!==void 0&&(it.title=rt.title);const lt={type:"element",tagName:"img",properties:it,children:[]};return Ye.patch(rt,lt),Ye.applyData(rt,lt)}function inlineCode$1(Ye,rt){const it={type:"text",value:rt.value.replace(/\r?\n|\r/g," ")};Ye.patch(rt,it);const lt={type:"element",tagName:"code",properties:{},children:[it]};return Ye.patch(rt,lt),Ye.applyData(rt,lt)}function linkReference$1(Ye,rt){const it=String(rt.identifier).toUpperCase(),lt=Ye.definitionById.get(it);if(!lt)return revert(Ye,rt);const ct={href:normalizeUri(lt.url||"")};lt.title!==null&&lt.title!==void 0&&(ct.title=lt.title);const ut={type:"element",tagName:"a",properties:ct,children:Ye.all(rt)};return Ye.patch(rt,ut),Ye.applyData(rt,ut)}function link$1(Ye,rt){const it={href:normalizeUri(rt.url)};rt.title!==null&&rt.title!==void 0&&(it.title=rt.title);const lt={type:"element",tagName:"a",properties:it,children:Ye.all(rt)};return Ye.patch(rt,lt),Ye.applyData(rt,lt)}function listItem$1(Ye,rt,it){const lt=Ye.all(rt),ct=it?listLoose(it):listItemLoose(rt),ut={},ht=[];if(typeof rt.checked=="boolean"){const gt=lt[0];let yt;gt&&gt.type==="element"&&gt.tagName==="p"?yt=gt:(yt={type:"element",tagName:"p",properties:{},children:[]},lt.unshift(yt)),yt.children.length>0&&yt.children.unshift({type:"text",value:" "}),yt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:rt.checked,disabled:!0},children:[]}),ut.className=["task-list-item"]}let ft=-1;for(;++ft<lt.length;){const gt=lt[ft];(ct||ft!==0||gt.type!=="element"||gt.tagName!=="p")&&ht.push({type:"text",value:`
`}),gt.type==="element"&&gt.tagName==="p"&&!ct?ht.push(...gt.children):ht.push(gt)}const pt=lt[lt.length-1];pt&&(ct||pt.type!=="element"||pt.tagName!=="p")&&ht.push({type:"text",value:`
`});const mt={type:"element",tagName:"li",properties:ut,children:ht};return Ye.patch(rt,mt),Ye.applyData(rt,mt)}function listLoose(Ye){let rt=!1;if(Ye.type==="list"){rt=Ye.spread||!1;const it=Ye.children;let lt=-1;for(;!rt&&++lt<it.length;)rt=listItemLoose(it[lt])}return rt}function listItemLoose(Ye){const rt=Ye.spread;return rt??Ye.children.length>1}function list$2(Ye,rt){const it={},lt=Ye.all(rt);let ct=-1;for(typeof rt.start=="number"&&rt.start!==1&&(it.start=rt.start);++ct<lt.length;){const ht=lt[ct];if(ht.type==="element"&&ht.tagName==="li"&&ht.properties&&Array.isArray(ht.properties.className)&&ht.properties.className.includes("task-list-item")){it.className=["contains-task-list"];break}}const ut={type:"element",tagName:rt.ordered?"ol":"ul",properties:it,children:Ye.wrap(lt,!0)};return Ye.patch(rt,ut),Ye.applyData(rt,ut)}function paragraph$1(Ye,rt){const it={type:"element",tagName:"p",properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function root$1(Ye,rt){const it={type:"root",children:Ye.wrap(Ye.all(rt))};return Ye.patch(rt,it),Ye.applyData(rt,it)}function strong$1(Ye,rt){const it={type:"element",tagName:"strong",properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}function table(Ye,rt){const it=Ye.all(rt),lt=it.shift(),ct=[];if(lt){const ht={type:"element",tagName:"thead",properties:{},children:Ye.wrap([lt],!0)};Ye.patch(rt.children[0],ht),ct.push(ht)}if(it.length>0){const ht={type:"element",tagName:"tbody",properties:{},children:Ye.wrap(it,!0)},ft=pointStart(rt.children[1]),pt=pointEnd(rt.children[rt.children.length-1]);ft&&pt&&(ht.position={start:ft,end:pt}),ct.push(ht)}const ut={type:"element",tagName:"table",properties:{},children:Ye.wrap(ct,!0)};return Ye.patch(rt,ut),Ye.applyData(rt,ut)}function tableRow(Ye,rt,it){const lt=it?it.children:void 0,ut=(lt?lt.indexOf(rt):1)===0?"th":"td",ht=it&&it.type==="table"?it.align:void 0,ft=ht?ht.length:rt.children.length;let pt=-1;const mt=[];for(;++pt<ft;){const yt=rt.children[pt],xt={},bt=ht?ht[pt]:void 0;bt&&(xt.align=bt);let _t={type:"element",tagName:ut,properties:xt,children:[]};yt&&(_t.children=Ye.all(yt),Ye.patch(yt,_t),_t=Ye.applyData(yt,_t)),mt.push(_t)}const gt={type:"element",tagName:"tr",properties:{},children:Ye.wrap(mt,!0)};return Ye.patch(rt,gt),Ye.applyData(rt,gt)}function tableCell(Ye,rt){const it={type:"element",tagName:"td",properties:{},children:Ye.all(rt)};return Ye.patch(rt,it),Ye.applyData(rt,it)}const tab=9,space=32;function trimLines(Ye){const rt=String(Ye),it=/\r?\n|\r/g;let lt=it.exec(rt),ct=0;const ut=[];for(;lt;)ut.push(trimLine(rt.slice(ct,lt.index),ct>0,!0),lt[0]),ct=lt.index+lt[0].length,lt=it.exec(rt);return ut.push(trimLine(rt.slice(ct),ct>0,!1)),ut.join("")}function trimLine(Ye,rt,it){let lt=0,ct=Ye.length;if(rt){let ut=Ye.codePointAt(lt);for(;ut===tab||ut===space;)lt++,ut=Ye.codePointAt(lt)}if(it){let ut=Ye.codePointAt(ct-1);for(;ut===tab||ut===space;)ct--,ut=Ye.codePointAt(ct-1)}return ct>lt?Ye.slice(lt,ct):""}function text$2(Ye,rt){const it={type:"text",value:trimLines(String(rt.value))};return Ye.patch(rt,it),Ye.applyData(rt,it)}function thematicBreak$1(Ye,rt){const it={type:"element",tagName:"hr",properties:{},children:[]};return Ye.patch(rt,it),Ye.applyData(rt,it)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$3,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$2,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(Ye,rt)=>{const it=(ct,ut)=>(Ye.set(ut,ct),ct),lt=ct=>{if(Ye.has(ct))return Ye.get(ct);const[ut,ht]=rt[ct];switch(ut){case PRIMITIVE:case VOID:return it(ht,ct);case ARRAY:{const ft=it([],ct);for(const pt of ht)ft.push(lt(pt));return ft}case OBJECT:{const ft=it({},ct);for(const[pt,mt]of ht)ft[lt(pt)]=lt(mt);return ft}case DATE:return it(new Date(ht),ct);case REGEXP:{const{source:ft,flags:pt}=ht;return it(new RegExp(ft,pt),ct)}case MAP:{const ft=it(new Map,ct);for(const[pt,mt]of ht)ft.set(lt(pt),lt(mt));return ft}case SET:{const ft=it(new Set,ct);for(const pt of ht)ft.add(lt(pt));return ft}case ERROR:{const{name:ft,message:pt}=ht;return it(new env[ft](pt),ct)}case BIGINT:return it(BigInt(ht),ct);case"BigInt":return it(Object(BigInt(ht)),ct);case"ArrayBuffer":return it(new Uint8Array(ht).buffer,ht);case"DataView":{const{buffer:ft}=new Uint8Array(ht);return it(new DataView(ft),ht)}}return it(new env[ut](ht),ct)};return lt},deserialize=Ye=>deserializer(new Map,Ye)(0),EMPTY="",{toString:toString$2}={},{keys:keys$3}=Object,typeOf=Ye=>{const rt=typeof Ye;if(rt!=="object"||!Ye)return[PRIMITIVE,rt];const it=toString$2.call(Ye).slice(8,-1);switch(it){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,it]}return it.includes("Array")?[ARRAY,it]:it.includes("Error")?[ERROR,it]:[OBJECT,it]},shouldSkip=([Ye,rt])=>Ye===PRIMITIVE&&(rt==="function"||rt==="symbol"),serializer=(Ye,rt,it,lt)=>{const ct=(ht,ft)=>{const pt=lt.push(ht)-1;return it.set(ft,pt),pt},ut=ht=>{if(it.has(ht))return it.get(ht);let[ft,pt]=typeOf(ht);switch(ft){case PRIMITIVE:{let gt=ht;switch(pt){case"bigint":ft=BIGINT,gt=ht.toString();break;case"function":case"symbol":if(Ye)throw new TypeError("unable to serialize "+pt);gt=null;break;case"undefined":return ct([VOID],ht)}return ct([ft,gt],ht)}case ARRAY:{if(pt){let xt=ht;return pt==="DataView"?xt=new Uint8Array(ht.buffer):pt==="ArrayBuffer"&&(xt=new Uint8Array(ht)),ct([pt,[...xt]],ht)}const gt=[],yt=ct([ft,gt],ht);for(const xt of ht)gt.push(ut(xt));return yt}case OBJECT:{if(pt)switch(pt){case"BigInt":return ct([pt,ht.toString()],ht);case"Boolean":case"Number":case"String":return ct([pt,ht.valueOf()],ht)}if(rt&&"toJSON"in ht)return ut(ht.toJSON());const gt=[],yt=ct([ft,gt],ht);for(const xt of keys$3(ht))(Ye||!shouldSkip(typeOf(ht[xt])))&&gt.push([ut(xt),ut(ht[xt])]);return yt}case DATE:return ct([ft,ht.toISOString()],ht);case REGEXP:{const{source:gt,flags:yt}=ht;return ct([ft,{source:gt,flags:yt}],ht)}case MAP:{const gt=[],yt=ct([ft,gt],ht);for(const[xt,bt]of ht)(Ye||!(shouldSkip(typeOf(xt))||shouldSkip(typeOf(bt))))&&gt.push([ut(xt),ut(bt)]);return yt}case SET:{const gt=[],yt=ct([ft,gt],ht);for(const xt of ht)(Ye||!shouldSkip(typeOf(xt)))&&gt.push(ut(xt));return yt}}const{message:mt}=ht;return ct([ft,{name:pt,message:mt}],ht)};return ut},serialize$2=(Ye,{json:rt,lossy:it}={})=>{const lt=[];return serializer(!(rt||it),!!rt,new Map,lt)(Ye),lt},structuredClone$1=typeof structuredClone=="function"?(Ye,rt)=>rt&&("json"in rt||"lossy"in rt)?deserialize(serialize$2(Ye,rt)):structuredClone(Ye):(Ye,rt)=>deserialize(serialize$2(Ye,rt));function defaultFootnoteBackContent(Ye,rt){const it=[{type:"text",value:""}];return rt>1&&it.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(rt)}]}),it}function defaultFootnoteBackLabel(Ye,rt){return"Back to reference "+(Ye+1)+(rt>1?"-"+rt:"")}function footer(Ye){const rt=typeof Ye.options.clobberPrefix=="string"?Ye.options.clobberPrefix:"user-content-",it=Ye.options.footnoteBackContent||defaultFootnoteBackContent,lt=Ye.options.footnoteBackLabel||defaultFootnoteBackLabel,ct=Ye.options.footnoteLabel||"Footnotes",ut=Ye.options.footnoteLabelTagName||"h2",ht=Ye.options.footnoteLabelProperties||{className:["sr-only"]},ft=[];let pt=-1;for(;++pt<Ye.footnoteOrder.length;){const mt=Ye.footnoteById.get(Ye.footnoteOrder[pt]);if(!mt)continue;const gt=Ye.all(mt),yt=String(mt.identifier).toUpperCase(),xt=normalizeUri(yt.toLowerCase());let bt=0;const _t=[],Ct=Ye.footnoteCounts.get(yt);for(;Ct!==void 0&&++bt<=Ct;){_t.length>0&&_t.push({type:"text",value:" "});let Rt=typeof it=="string"?it:it(pt,bt);typeof Rt=="string"&&(Rt={type:"text",value:Rt}),_t.push({type:"element",tagName:"a",properties:{href:"#"+rt+"fnref-"+xt+(bt>1?"-"+bt:""),dataFootnoteBackref:"",ariaLabel:typeof lt=="string"?lt:lt(pt,bt),className:["data-footnote-backref"]},children:Array.isArray(Rt)?Rt:[Rt]})}const kt=gt[gt.length-1];if(kt&&kt.type==="element"&&kt.tagName==="p"){const Rt=kt.children[kt.children.length-1];Rt&&Rt.type==="text"?Rt.value+=" ":kt.children.push({type:"text",value:" "}),kt.children.push(..._t)}else gt.push(..._t);const St={type:"element",tagName:"li",properties:{id:rt+"fn-"+xt},children:Ye.wrap(gt,!0)};Ye.patch(mt,St),ft.push(St)}if(ft.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:ut,properties:{...structuredClone$1(ht),id:"footnote-label"},children:[{type:"text",value:ct}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Ye.wrap(ft,!0)},{type:"text",value:`
`}]}}const own$3={}.hasOwnProperty,emptyOptions$2={};function createState(Ye,rt){const it=rt||emptyOptions$2,lt=new Map,ct=new Map,ut=new Map,ht={...handlers,...it.handlers},ft={all:mt,applyData,definitionById:lt,footnoteById:ct,footnoteCounts:ut,footnoteOrder:[],handlers:ht,one:pt,options:it,patch,wrap:wrap$1};return visit(Ye,function(gt){if(gt.type==="definition"||gt.type==="footnoteDefinition"){const yt=gt.type==="definition"?lt:ct,xt=String(gt.identifier).toUpperCase();yt.has(xt)||yt.set(xt,gt)}}),ft;function pt(gt,yt){const xt=gt.type,bt=ft.handlers[xt];if(own$3.call(ft.handlers,xt)&&bt)return bt(ft,gt,yt);if(ft.options.passThrough&&ft.options.passThrough.includes(xt)){if("children"in gt){const{children:Ct,...kt}=gt,St=structuredClone$1(kt);return St.children=ft.all(gt),St}return structuredClone$1(gt)}return(ft.options.unknownHandler||defaultUnknownHandler)(ft,gt,yt)}function mt(gt){const yt=[];if("children"in gt){const xt=gt.children;let bt=-1;for(;++bt<xt.length;){const _t=ft.one(xt[bt],gt);if(_t){if(bt&&xt[bt-1].type==="break"&&(!Array.isArray(_t)&&_t.type==="text"&&(_t.value=trimMarkdownSpaceStart(_t.value)),!Array.isArray(_t)&&_t.type==="element")){const Ct=_t.children[0];Ct&&Ct.type==="text"&&(Ct.value=trimMarkdownSpaceStart(Ct.value))}Array.isArray(_t)?yt.push(..._t):yt.push(_t)}}}return yt}}function patch(Ye,rt){Ye.position&&(rt.position=position$2(Ye))}function applyData(Ye,rt){let it=rt;if(Ye&&Ye.data){const lt=Ye.data.hName,ct=Ye.data.hChildren,ut=Ye.data.hProperties;if(typeof lt=="string")if(it.type==="element")it.tagName=lt;else{const ht="children"in it?it.children:[it];it={type:"element",tagName:lt,properties:{},children:ht}}it.type==="element"&&ut&&Object.assign(it.properties,structuredClone$1(ut)),"children"in it&&it.children&&ct!==null&&ct!==void 0&&(it.children=ct)}return it}function defaultUnknownHandler(Ye,rt){const it=rt.data||{},lt="value"in rt&&!(own$3.call(it,"hProperties")||own$3.call(it,"hChildren"))?{type:"text",value:rt.value}:{type:"element",tagName:"div",properties:{},children:Ye.all(rt)};return Ye.patch(rt,lt),Ye.applyData(rt,lt)}function wrap$1(Ye,rt){const it=[];let lt=-1;for(rt&&it.push({type:"text",value:`
`});++lt<Ye.length;)lt&&it.push({type:"text",value:`
`}),it.push(Ye[lt]);return rt&&Ye.length>0&&it.push({type:"text",value:`
`}),it}function trimMarkdownSpaceStart(Ye){let rt=0,it=Ye.charCodeAt(rt);for(;it===9||it===32;)rt++,it=Ye.charCodeAt(rt);return Ye.slice(rt)}function toHast(Ye,rt){const it=createState(Ye,rt),lt=it.one(Ye,void 0),ct=footer(it),ut=Array.isArray(lt)?{type:"root",children:lt}:lt||{type:"root",children:[]};return ct&&ut.children.push({type:"text",value:`
`},ct),ut}function remarkRehype(Ye,rt){return Ye&&"run"in Ye?async function(it,lt){const ct=toHast(it,{file:lt,...rt});await Ye.run(ct,lt)}:function(it,lt){return toHast(it,{file:lt,...Ye||rt})}}function bail(Ye){if(Ye)throw Ye}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var Ye=Object.prototype.hasOwnProperty,rt=Object.prototype.toString,it=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,ct=function(mt){return typeof Array.isArray=="function"?Array.isArray(mt):rt.call(mt)==="[object Array]"},ut=function(mt){if(!mt||rt.call(mt)!=="[object Object]")return!1;var gt=Ye.call(mt,"constructor"),yt=mt.constructor&&mt.constructor.prototype&&Ye.call(mt.constructor.prototype,"isPrototypeOf");if(mt.constructor&&!gt&&!yt)return!1;var xt;for(xt in mt);return typeof xt>"u"||Ye.call(mt,xt)},ht=function(mt,gt){it&&gt.name==="__proto__"?it(mt,gt.name,{enumerable:!0,configurable:!0,value:gt.newValue,writable:!0}):mt[gt.name]=gt.newValue},ft=function(mt,gt){if(gt==="__proto__")if(Ye.call(mt,gt)){if(lt)return lt(mt,gt).value}else return;return mt[gt]};return extend$1=function pt(){var mt,gt,yt,xt,bt,_t,Ct=arguments[0],kt=1,St=arguments.length,Rt=!1;for(typeof Ct=="boolean"&&(Rt=Ct,Ct=arguments[1]||{},kt=2),(Ct==null||typeof Ct!="object"&&typeof Ct!="function")&&(Ct={});kt<St;++kt)if(mt=arguments[kt],mt!=null)for(gt in mt)yt=ft(Ct,gt),xt=ft(mt,gt),Ct!==xt&&(Rt&&xt&&(ut(xt)||(bt=ct(xt)))?(bt?(bt=!1,_t=yt&&ct(yt)?yt:[]):_t=yt&&ut(yt)?yt:{},ht(Ct,{name:gt,newValue:pt(Rt,_t,xt)})):typeof xt<"u"&&ht(Ct,{name:gt,newValue:xt}));return Ct},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(Ye){if(typeof Ye!="object"||Ye===null)return!1;const rt=Object.getPrototypeOf(Ye);return(rt===null||rt===Object.prototype||Object.getPrototypeOf(rt)===null)&&!(Symbol.toStringTag in Ye)&&!(Symbol.iterator in Ye)}function trough(){const Ye=[],rt={run:it,use:lt};return rt;function it(...ct){let ut=-1;const ht=ct.pop();if(typeof ht!="function")throw new TypeError("Expected function as last argument, not "+ht);ft(null,...ct);function ft(pt,...mt){const gt=Ye[++ut];let yt=-1;if(pt){ht(pt);return}for(;++yt<ct.length;)(mt[yt]===null||mt[yt]===void 0)&&(mt[yt]=ct[yt]);ct=mt,gt?wrap(gt,ft)(...mt):ht(null,...mt)}}function lt(ct){if(typeof ct!="function")throw new TypeError("Expected `middelware` to be a function, not "+ct);return Ye.push(ct),rt}}function wrap(Ye,rt){let it;return lt;function lt(...ht){const ft=Ye.length>ht.length;let pt;ft&&ht.push(ct);try{pt=Ye.apply(this,ht)}catch(mt){const gt=mt;if(ft&&it)throw gt;return ct(gt)}ft||(pt&&pt.then&&typeof pt.then=="function"?pt.then(ut,ct):pt instanceof Error?ct(pt):ut(pt))}function ct(ht,...ft){it||(it=!0,rt(ht,...ft))}function ut(ht){ct(null,ht)}}const minpath={basename,dirname,extname,join:join$1,sep:"/"};function basename(Ye,rt){if(rt!==void 0&&typeof rt!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(Ye);let it=0,lt=-1,ct=Ye.length,ut;if(rt===void 0||rt.length===0||rt.length>Ye.length){for(;ct--;)if(Ye.codePointAt(ct)===47){if(ut){it=ct+1;break}}else lt<0&&(ut=!0,lt=ct+1);return lt<0?"":Ye.slice(it,lt)}if(rt===Ye)return"";let ht=-1,ft=rt.length-1;for(;ct--;)if(Ye.codePointAt(ct)===47){if(ut){it=ct+1;break}}else ht<0&&(ut=!0,ht=ct+1),ft>-1&&(Ye.codePointAt(ct)===rt.codePointAt(ft--)?ft<0&&(lt=ct):(ft=-1,lt=ht));return it===lt?lt=ht:lt<0&&(lt=Ye.length),Ye.slice(it,lt)}function dirname(Ye){if(assertPath$1(Ye),Ye.length===0)return".";let rt=-1,it=Ye.length,lt;for(;--it;)if(Ye.codePointAt(it)===47){if(lt){rt=it;break}}else lt||(lt=!0);return rt<0?Ye.codePointAt(0)===47?"/":".":rt===1&&Ye.codePointAt(0)===47?"//":Ye.slice(0,rt)}function extname(Ye){assertPath$1(Ye);let rt=Ye.length,it=-1,lt=0,ct=-1,ut=0,ht;for(;rt--;){const ft=Ye.codePointAt(rt);if(ft===47){if(ht){lt=rt+1;break}continue}it<0&&(ht=!0,it=rt+1),ft===46?ct<0?ct=rt:ut!==1&&(ut=1):ct>-1&&(ut=-1)}return ct<0||it<0||ut===0||ut===1&&ct===it-1&&ct===lt+1?"":Ye.slice(ct,it)}function join$1(...Ye){let rt=-1,it;for(;++rt<Ye.length;)assertPath$1(Ye[rt]),Ye[rt]&&(it=it===void 0?Ye[rt]:it+"/"+Ye[rt]);return it===void 0?".":normalize(it)}function normalize(Ye){assertPath$1(Ye);const rt=Ye.codePointAt(0)===47;let it=normalizeString(Ye,!rt);return it.length===0&&!rt&&(it="."),it.length>0&&Ye.codePointAt(Ye.length-1)===47&&(it+="/"),rt?"/"+it:it}function normalizeString(Ye,rt){let it="",lt=0,ct=-1,ut=0,ht=-1,ft,pt;for(;++ht<=Ye.length;){if(ht<Ye.length)ft=Ye.codePointAt(ht);else{if(ft===47)break;ft=47}if(ft===47){if(!(ct===ht-1||ut===1))if(ct!==ht-1&&ut===2){if(it.length<2||lt!==2||it.codePointAt(it.length-1)!==46||it.codePointAt(it.length-2)!==46){if(it.length>2){if(pt=it.lastIndexOf("/"),pt!==it.length-1){pt<0?(it="",lt=0):(it=it.slice(0,pt),lt=it.length-1-it.lastIndexOf("/")),ct=ht,ut=0;continue}}else if(it.length>0){it="",lt=0,ct=ht,ut=0;continue}}rt&&(it=it.length>0?it+"/..":"..",lt=2)}else it.length>0?it+="/"+Ye.slice(ct+1,ht):it=Ye.slice(ct+1,ht),lt=ht-ct-1;ct=ht,ut=0}else ft===46&&ut>-1?ut++:ut=-1}return it}function assertPath$1(Ye){if(typeof Ye!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(Ye))}const minproc={cwd};function cwd(){return"/"}function isUrl(Ye){return!!(Ye!==null&&typeof Ye=="object"&&"href"in Ye&&Ye.href&&"protocol"in Ye&&Ye.protocol&&Ye.auth===void 0)}function urlToPath(Ye){if(typeof Ye=="string")Ye=new URL(Ye);else if(!isUrl(Ye)){const rt=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+Ye+"`");throw rt.code="ERR_INVALID_ARG_TYPE",rt}if(Ye.protocol!=="file:"){const rt=new TypeError("The URL must be of scheme file");throw rt.code="ERR_INVALID_URL_SCHEME",rt}return getPathFromURLPosix(Ye)}function getPathFromURLPosix(Ye){if(Ye.hostname!==""){const lt=new TypeError('File URL host must be "localhost" or empty on darwin');throw lt.code="ERR_INVALID_FILE_URL_HOST",lt}const rt=Ye.pathname;let it=-1;for(;++it<rt.length;)if(rt.codePointAt(it)===37&&rt.codePointAt(it+1)===50){const lt=rt.codePointAt(it+2);if(lt===70||lt===102){const ct=new TypeError("File URL path must not include encoded / characters");throw ct.code="ERR_INVALID_FILE_URL_PATH",ct}}return decodeURIComponent(rt)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(rt){let it;rt?isUrl(rt)?it={path:rt}:typeof rt=="string"||isUint8Array$1(rt)?it={value:rt}:it=rt:it={},this.cwd="cwd"in it?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let lt=-1;for(;++lt<order.length;){const ut=order[lt];ut in it&&it[ut]!==void 0&&it[ut]!==null&&(this[ut]=ut==="history"?[...it[ut]]:it[ut])}let ct;for(ct in it)order.includes(ct)||(this[ct]=it[ct])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(rt){assertNonEmpty(rt,"basename"),assertPart(rt,"basename"),this.path=minpath.join(this.dirname||"",rt)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(rt){assertPath(this.basename,"dirname"),this.path=minpath.join(rt||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(rt){if(assertPart(rt,"extname"),assertPath(this.dirname,"extname"),rt){if(rt.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(rt.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(rt||""))}get path(){return this.history[this.history.length-1]}set path(rt){isUrl(rt)&&(rt=urlToPath(rt)),assertNonEmpty(rt,"path"),this.path!==rt&&this.history.push(rt)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(rt){assertNonEmpty(rt,"stem"),assertPart(rt,"stem"),this.path=minpath.join(this.dirname||"",rt+(this.extname||""))}fail(rt,it,lt){const ct=this.message(rt,it,lt);throw ct.fatal=!0,ct}info(rt,it,lt){const ct=this.message(rt,it,lt);return ct.fatal=void 0,ct}message(rt,it,lt){const ct=new VFileMessage(rt,it,lt);return this.path&&(ct.name=this.path+":"+ct.name,ct.file=this.path),ct.fatal=!1,this.messages.push(ct),ct}toString(rt){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(rt||void 0).decode(this.value)}}function assertPart(Ye,rt){if(Ye&&Ye.includes(minpath.sep))throw new Error("`"+rt+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(Ye,rt){if(!Ye)throw new Error("`"+rt+"` cannot be empty")}function assertPath(Ye,rt){if(!Ye)throw new Error("Setting `"+rt+"` requires `path` to be set too")}function isUint8Array$1(Ye){return!!(Ye&&typeof Ye=="object"&&"byteLength"in Ye&&"byteOffset"in Ye)}const CallableInstance=(function(Ye){const lt=this.constructor.prototype,ct=lt[Ye],ut=function(){return ct.apply(ut,arguments)};return Object.setPrototypeOf(ut,lt),ut}),own$2={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const rt=new Processor;let it=-1;for(;++it<this.attachers.length;){const lt=this.attachers[it];rt.use(...lt)}return rt.data(extend(!0,{},this.namespace)),rt}data(rt,it){return typeof rt=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[rt]=it,this):own$2.call(this.namespace,rt)&&this.namespace[rt]||void 0:rt?(assertUnfrozen("data",this.frozen),this.namespace=rt,this):this.namespace}freeze(){if(this.frozen)return this;const rt=this;for(;++this.freezeIndex<this.attachers.length;){const[it,...lt]=this.attachers[this.freezeIndex];if(lt[0]===!1)continue;lt[0]===!0&&(lt[0]=void 0);const ct=it.call(rt,...lt);typeof ct=="function"&&this.transformers.use(ct)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(rt){this.freeze();const it=vfile(rt),lt=this.parser||this.Parser;return assertParser("parse",lt),lt(String(it),it)}process(rt,it){const lt=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),it?ct(void 0,it):new Promise(ct);function ct(ut,ht){const ft=vfile(rt),pt=lt.parse(ft);lt.run(pt,ft,function(gt,yt,xt){if(gt||!yt||!xt)return mt(gt);const bt=yt,_t=lt.stringify(bt,xt);looksLikeAValue(_t)?xt.value=_t:xt.result=_t,mt(gt,xt)});function mt(gt,yt){gt||!yt?ht(gt):ut?ut(yt):it(void 0,yt)}}}processSync(rt){let it=!1,lt;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(rt,ct),assertDone("processSync","process",it),lt;function ct(ut,ht){it=!0,bail(ut),lt=ht}}run(rt,it,lt){assertNode(rt),this.freeze();const ct=this.transformers;return!lt&&typeof it=="function"&&(lt=it,it=void 0),lt?ut(void 0,lt):new Promise(ut);function ut(ht,ft){const pt=vfile(it);ct.run(rt,pt,mt);function mt(gt,yt,xt){const bt=yt||rt;gt?ft(gt):ht?ht(bt):lt(void 0,bt,xt)}}}runSync(rt,it){let lt=!1,ct;return this.run(rt,it,ut),assertDone("runSync","run",lt),ct;function ut(ht,ft){bail(ht),ct=ft,lt=!0}}stringify(rt,it){this.freeze();const lt=vfile(it),ct=this.compiler||this.Compiler;return assertCompiler("stringify",ct),assertNode(rt),ct(rt,lt)}use(rt,...it){const lt=this.attachers,ct=this.namespace;if(assertUnfrozen("use",this.frozen),rt!=null)if(typeof rt=="function")pt(rt,it);else if(typeof rt=="object")Array.isArray(rt)?ft(rt):ht(rt);else throw new TypeError("Expected usable value, not `"+rt+"`");return this;function ut(mt){if(typeof mt=="function")pt(mt,[]);else if(typeof mt=="object")if(Array.isArray(mt)){const[gt,...yt]=mt;pt(gt,yt)}else ht(mt);else throw new TypeError("Expected usable value, not `"+mt+"`")}function ht(mt){if(!("plugins"in mt)&&!("settings"in mt))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");ft(mt.plugins),mt.settings&&(ct.settings=extend(!0,ct.settings,mt.settings))}function ft(mt){let gt=-1;if(mt!=null)if(Array.isArray(mt))for(;++gt<mt.length;){const yt=mt[gt];ut(yt)}else throw new TypeError("Expected a list of plugins, not `"+mt+"`")}function pt(mt,gt){let yt=-1,xt=-1;for(;++yt<lt.length;)if(lt[yt][0]===mt){xt=yt;break}if(xt===-1)lt.push([mt,...gt]);else if(gt.length>0){let[bt,..._t]=gt;const Ct=lt[xt][1];isPlainObject(Ct)&&isPlainObject(bt)&&(bt=extend(!0,Ct,bt)),lt[xt]=[mt,bt,..._t]}}}}const unified=new Processor().freeze();function assertParser(Ye,rt){if(typeof rt!="function")throw new TypeError("Cannot `"+Ye+"` without `parser`")}function assertCompiler(Ye,rt){if(typeof rt!="function")throw new TypeError("Cannot `"+Ye+"` without `compiler`")}function assertUnfrozen(Ye,rt){if(rt)throw new Error("Cannot call `"+Ye+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(Ye){if(!isPlainObject(Ye)||typeof Ye.type!="string")throw new TypeError("Expected node, got `"+Ye+"`")}function assertDone(Ye,rt,it){if(!it)throw new Error("`"+Ye+"` finished async. Use `"+rt+"` instead")}function vfile(Ye){return looksLikeAVFile(Ye)?Ye:new VFile(Ye)}function looksLikeAVFile(Ye){return!!(Ye&&typeof Ye=="object"&&"message"in Ye&&"messages"in Ye)}function looksLikeAValue(Ye){return typeof Ye=="string"||isUint8Array(Ye)}function isUint8Array(Ye){return!!(Ye&&typeof Ye=="object"&&"byteLength"in Ye&&"byteOffset"in Ye)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown$1(Ye){const rt=createProcessor(Ye),it=createFile(Ye);return post(rt.runSync(rt.parse(it),it),Ye)}function createProcessor(Ye){const rt=Ye.rehypePlugins||emptyPlugins,it=Ye.remarkPlugins||emptyPlugins,lt=Ye.remarkRehypeOptions?{...Ye.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(it).use(remarkRehype,lt).use(rt)}function createFile(Ye){const rt=Ye.children||"",it=new VFile;return typeof rt=="string"&&(it.value=rt),it}function post(Ye,rt){const it=rt.allowedElements,lt=rt.allowElement,ct=rt.components,ut=rt.disallowedElements,ht=rt.skipHtml,ft=rt.unwrapDisallowed,pt=rt.urlTransform||defaultUrlTransform;for(const gt of deprecations)Object.hasOwn(rt,gt.from)&&(""+gt.from+(gt.to?"use `"+gt.to+"` instead":"remove it")+changelog+gt.id,void 0);return visit(Ye,mt),toJsxRuntime(Ye,{Fragment:jsxRuntimeExports.Fragment,components:ct,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function mt(gt,yt,xt){if(gt.type==="raw"&&xt&&typeof yt=="number")return ht?xt.children.splice(yt,1):xt.children[yt]={type:"text",value:gt.value},yt;if(gt.type==="element"){let bt;for(bt in urlAttributes)if(Object.hasOwn(urlAttributes,bt)&&Object.hasOwn(gt.properties,bt)){const _t=gt.properties[bt],Ct=urlAttributes[bt];(Ct===null||Ct.includes(gt.tagName))&&(gt.properties[bt]=pt(String(_t||""),bt,gt))}}if(gt.type==="element"){let bt=it?!it.includes(gt.tagName):ut?ut.includes(gt.tagName):!1;if(!bt&&lt&&typeof yt=="number"&&(bt=!lt(gt,yt,xt)),bt&&xt&&typeof yt=="number")return ft&&gt.children?xt.children.splice(yt,1,...gt.children):xt.children.splice(yt,1),yt}}}function defaultUrlTransform(Ye){const rt=Ye.indexOf(":"),it=Ye.indexOf("?"),lt=Ye.indexOf("#"),ct=Ye.indexOf("/");return rt===-1||ct!==-1&&rt>ct||it!==-1&&rt>it||lt!==-1&&rt>lt||safeProtocol.test(Ye.slice(0,rt))?Ye:""}function escapeStringRegexp(Ye){if(typeof Ye!="string")throw new TypeError("Expected a string");return Ye.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(Ye,rt,it){const ct=convert((it||{}).ignore||[]),ut=toPairs(rt);let ht=-1;for(;++ht<ut.length;)visitParents(Ye,"text",ft);function ft(mt,gt){let yt=-1,xt;for(;++yt<gt.length;){const bt=gt[yt],_t=xt?xt.children:void 0;if(ct(bt,_t?_t.indexOf(bt):void 0,xt))return;xt=bt}if(xt)return pt(mt,gt)}function pt(mt,gt){const yt=gt[gt.length-1],xt=ut[ht][0],bt=ut[ht][1];let _t=0;const kt=yt.children.indexOf(mt);let St=!1,Rt=[];xt.lastIndex=0;let Tt=xt.exec(mt.value);for(;Tt;){const Mt=Tt.index,Pt={index:Tt.index,input:Tt.input,stack:[...gt,mt]};let It=bt(...Tt,Pt);if(typeof It=="string"&&(It=It.length>0?{type:"text",value:It}:void 0),It===!1?xt.lastIndex=Mt+1:(_t!==Mt&&Rt.push({type:"text",value:mt.value.slice(_t,Mt)}),Array.isArray(It)?Rt.push(...It):It&&Rt.push(It),_t=Mt+Tt[0].length,St=!0),!xt.global)break;Tt=xt.exec(mt.value)}return St?(_t<mt.value.length&&Rt.push({type:"text",value:mt.value.slice(_t)}),yt.children.splice(kt,1,...Rt)):Rt=[mt],kt+Rt.length}}function toPairs(Ye){const rt=[];if(!Array.isArray(Ye))throw new TypeError("Expected find and replace tuple or list of tuples");const it=!Ye[0]||Array.isArray(Ye[0])?Ye:[Ye];let lt=-1;for(;++lt<it.length;){const ct=it[lt];rt.push([toExpression(ct[0]),toFunction(ct[1])])}return rt}function toExpression(Ye){return typeof Ye=="string"?new RegExp(escapeStringRegexp(Ye),"g"):Ye}function toFunction(Ye){return typeof Ye=="function"?Ye:function(){return Ye}}function newlineToBreak(Ye){findAndReplace(Ye,[/\r?\n|\r/g,replace$2])}function replace$2(){return{type:"break"}}function remarkBreaks(){return function(Ye){newlineToBreak(Ye)}}const characterReferenceInvalid={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function isDecimal(Ye){const rt=typeof Ye=="string"?Ye.charCodeAt(0):Ye;return rt>=48&&rt<=57}function isHexadecimal(Ye){const rt=typeof Ye=="string"?Ye.charCodeAt(0):Ye;return rt>=97&&rt<=102||rt>=65&&rt<=70||rt>=48&&rt<=57}function isAlphabetical(Ye){const rt=typeof Ye=="string"?Ye.charCodeAt(0):Ye;return rt>=97&&rt<=122||rt>=65&&rt<=90}function isAlphanumerical(Ye){return isAlphabetical(Ye)||isDecimal(Ye)}const messages=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function parseEntities(Ye,rt){const it=rt||{},lt=typeof it.additional=="string"?it.additional.charCodeAt(0):it.additional,ct=[];let ut=0,ht=-1,ft="",pt,mt;it.position&&("start"in it.position||"indent"in it.position?(mt=it.position.indent,pt=it.position.start):pt=it.position);let gt=(pt?pt.line:0)||1,yt=(pt?pt.column:0)||1,xt=_t(),bt;for(ut--;++ut<=Ye.length;)if(bt===10&&(yt=(mt?mt[ht]:0)||1),bt=Ye.charCodeAt(ut),bt===38){const St=Ye.charCodeAt(ut+1);if(St===9||St===10||St===12||St===32||St===38||St===60||Number.isNaN(St)||lt&&St===lt){ft+=String.fromCharCode(bt),yt++;continue}const Rt=ut+1;let Tt=Rt,Mt=Rt,Pt;if(St===35){Mt=++Tt;const Qt=Ye.charCodeAt(Mt);Qt===88||Qt===120?(Pt="hexadecimal",Mt=++Tt):Pt="decimal"}else Pt="named";let It="",Lt="",Ot="";const Ft=Pt==="named"?isAlphanumerical:Pt==="decimal"?isDecimal:isHexadecimal;for(Mt--;++Mt<=Ye.length;){const Qt=Ye.charCodeAt(Mt);if(!Ft(Qt))break;Ot+=String.fromCharCode(Qt),Pt==="named"&&characterEntitiesLegacy.includes(Ot)&&(It=Ot,Lt=decodeNamedCharacterReference(Ot))}let Ut=Ye.charCodeAt(Mt)===59;if(Ut){Mt++;const Qt=Pt==="named"?decodeNamedCharacterReference(Ot):!1;Qt&&(It=Ot,Lt=Qt)}let Wt=1+Mt-Rt,Kt="";if(!(!Ut&&it.nonTerminated===!1))if(!Ot)Pt!=="named"&&Ct(4,Wt);else if(Pt==="named"){if(Ut&&!Lt)Ct(5,1);else if(It!==Ot&&(Mt=Tt+It.length,Wt=1+Mt-Tt,Ut=!1),!Ut){const Qt=It?1:3;if(it.attribute){const Zt=Ye.charCodeAt(Mt);Zt===61?(Ct(Qt,Wt),Lt=""):isAlphanumerical(Zt)?Lt="":Ct(Qt,Wt)}else Ct(Qt,Wt)}Kt=Lt}else{Ut||Ct(2,Wt);let Qt=Number.parseInt(Ot,Pt==="hexadecimal"?16:10);if(prohibited(Qt))Ct(7,Wt),Kt="";else if(Qt in characterReferenceInvalid)Ct(6,Wt),Kt=characterReferenceInvalid[Qt];else{let Zt="";disallowed(Qt)&&Ct(6,Wt),Qt>65535&&(Qt-=65536,Zt+=String.fromCharCode(Qt>>>10|55296),Qt=56320|Qt&1023),Kt=Zt+String.fromCharCode(Qt)}}if(Kt){kt(),xt=_t(),ut=Mt-1,yt+=Mt-Rt+1,ct.push(Kt);const Qt=_t();Qt.offset++,it.reference&&it.reference.call(it.referenceContext||void 0,Kt,{start:xt,end:Qt},Ye.slice(Rt-1,Mt)),xt=Qt}else Ot=Ye.slice(Rt-1,Mt),ft+=Ot,yt+=Ot.length,ut=Mt-1}else bt===10&&(gt++,ht++,yt=0),Number.isNaN(bt)?kt():(ft+=String.fromCharCode(bt),yt++);return ct.join("");function _t(){return{line:gt,column:yt,offset:ut+((pt?pt.offset:0)||0)}}function Ct(St,Rt){let Tt;it.warning&&(Tt=_t(),Tt.column+=Rt,Tt.offset+=Rt,it.warning.call(it.warningContext||void 0,messages[St],Tt,St))}function kt(){ft&&(ct.push(ft),it.text&&it.text.call(it.textContext||void 0,ft,{start:xt,end:_t()}),ft="")}}function prohibited(Ye){return Ye>=55296&&Ye<=57343||Ye>1114111}function disallowed(Ye){return Ye>=1&&Ye<=8||Ye===11||Ye>=13&&Ye<=31||Ye>=127&&Ye<=159||Ye>=64976&&Ye<=65007||(Ye&65535)===65535||(Ye&65535)===65534}const own$1={}.hasOwnProperty,emptyOptions$1={},shortcut=/^[^\t\n\r "#'.<=>`}]+$/,unquoted=/^[^\t\n\r "'<=>`}]+$/;function directiveFromMarkdown(){return{canContainEols:["textDirective"],enter:{directiveContainer:enterContainer,directiveContainerAttributes:enterAttributes,directiveContainerLabel:enterContainerLabel,directiveLeaf:enterLeaf,directiveLeafAttributes:enterAttributes,directiveText:enterText,directiveTextAttributes:enterAttributes},exit:{directiveContainer:exit$1,directiveContainerAttributeClassValue:exitAttributeClassValue,directiveContainerAttributeIdValue:exitAttributeIdValue,directiveContainerAttributeName:exitAttributeName,directiveContainerAttributeValue:exitAttributeValue,directiveContainerAttributes:exitAttributes,directiveContainerLabel:exitContainerLabel,directiveContainerName:exitName,directiveLeaf:exit$1,directiveLeafAttributeClassValue:exitAttributeClassValue,directiveLeafAttributeIdValue:exitAttributeIdValue,directiveLeafAttributeName:exitAttributeName,directiveLeafAttributeValue:exitAttributeValue,directiveLeafAttributes:exitAttributes,directiveLeafName:exitName,directiveText:exit$1,directiveTextAttributeClassValue:exitAttributeClassValue,directiveTextAttributeIdValue:exitAttributeIdValue,directiveTextAttributeName:exitAttributeName,directiveTextAttributeValue:exitAttributeValue,directiveTextAttributes:exitAttributes,directiveTextName:exitName}}}function directiveToMarkdown(Ye){const rt=emptyOptions$1;if(rt.quote!=='"'&&rt.quote!=="'"&&rt.quote!==null&&rt.quote!==void 0)throw new Error("Invalid quote `"+rt.quote+"`, expected `'` or `\"`");return it.peek=peekDirective,{handlers:{containerDirective:it,leafDirective:it,textDirective:it},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function it(ut,ht,ft,pt){const mt=ft.createTracker(pt),gt=fence(ut),yt=ft.enter(ut.type);let xt=mt.move(gt+(ut.name||"")),bt;if(ut.type==="containerDirective"){const _t=(ut.children||[])[0];bt=inlineDirectiveLabel(_t)?_t:void 0}else bt=ut;if(bt&&bt.children&&bt.children.length>0){const _t=ft.enter("label"),Ct=`${ut.type}Label`,kt=ft.enter(Ct);xt+=mt.move("["),xt+=mt.move(ft.containerPhrasing(bt,{...mt.current(),before:xt,after:"]"})),xt+=mt.move("]"),kt(),_t()}if(xt+=mt.move(lt(ut,ft)),ut.type==="containerDirective"){const _t=(ut.children||[])[0];let Ct=ut;inlineDirectiveLabel(_t)&&(Ct=Object.assign({},ut,{children:ut.children.slice(1)})),Ct&&Ct.children&&Ct.children.length>0&&(xt+=mt.move(`
`),xt+=mt.move(ft.containerFlow(Ct,mt.current()))),xt+=mt.move(`
`+gt)}return yt(),xt}function lt(ut,ht){const ft=ut.attributes||{},pt=[];let mt,gt,yt,xt;for(xt in ft)if(own$1.call(ft,xt)&&ft[xt]!==void 0&&ft[xt]!==null){const bt=String(ft[xt]);if(xt==="id")yt=rt.preferShortcut!==!1&&shortcut.test(bt)?"#"+bt:ct("id",bt,ut,ht);else if(xt==="class"){const _t=bt.split(/[\t\n\r ]+/g),Ct=[],kt=[];let St=-1;for(;++St<_t.length;)(rt.preferShortcut!==!1&&shortcut.test(_t[St])?kt:Ct).push(_t[St]);mt=Ct.length>0?ct("class",Ct.join(" "),ut,ht):"",gt=kt.length>0?"."+kt.join("."):""}else pt.push(ct(xt,bt,ut,ht))}return mt&&pt.unshift(mt),gt&&pt.unshift(gt),yt&&pt.unshift(yt),pt.length>0?"{"+pt.join(" ")+"}":""}function ct(ut,ht,ft,pt){if(rt.collapseEmptyAttributes!==!1&&!ht)return ut;if(rt.preferUnquoted&&unquoted.test(ht))return ut+"="+ht;const mt=rt.quote||pt.options.quote||'"',gt=mt==='"'?"'":'"',yt=rt.quoteSmart&&ccount(ht,mt)>ccount(ht,gt)?gt:mt,xt=ft.type==="textDirective"?[yt]:[yt,`
`,"\r"];return ut+"="+yt+stringifyEntitiesLight(ht,{subset:xt})+yt}}function enterContainer(Ye){enter.call(this,"containerDirective",Ye)}function enterLeaf(Ye){enter.call(this,"leafDirective",Ye)}function enterText(Ye){enter.call(this,"textDirective",Ye)}function enter(Ye,rt){this.enter({type:Ye,name:"",attributes:{},children:[]},rt)}function exitName(Ye){const rt=this.stack[this.stack.length-1];rt.type==="containerDirective"||rt.type==="leafDirective"||rt.type,rt.name=this.sliceSerialize(Ye)}function enterContainerLabel(Ye){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},Ye)}function exitContainerLabel(Ye){this.exit(Ye)}function enterAttributes(){this.data.directiveAttributes=[],this.buffer()}function exitAttributeIdValue(Ye){this.data.directiveAttributes.push(["id",parseEntities(this.sliceSerialize(Ye),{attribute:!0})])}function exitAttributeClassValue(Ye){this.data.directiveAttributes.push(["class",parseEntities(this.sliceSerialize(Ye),{attribute:!0})])}function exitAttributeValue(Ye){const rt=this.data.directiveAttributes;rt[rt.length-1][1]=parseEntities(this.sliceSerialize(Ye),{attribute:!0})}function exitAttributeName(Ye){this.data.directiveAttributes.push([this.sliceSerialize(Ye),""])}function exitAttributes(){const Ye=this.data.directiveAttributes,rt={};let it=-1;for(;++it<Ye.length;){const ct=Ye[it];ct[0]==="class"&&rt.class?rt.class+=" "+ct[1]:rt[ct[0]]=ct[1]}this.data.directiveAttributes=void 0,this.resume();const lt=this.stack[this.stack.length-1];lt.type==="containerDirective"||lt.type==="leafDirective"||lt.type,lt.attributes=rt}function exit$1(Ye){this.exit(Ye)}function peekDirective(){return":"}function inlineDirectiveLabel(Ye){return!!(Ye&&Ye.type==="paragraph"&&Ye.data&&Ye.data.directiveLabel)}function fence(Ye){let rt=0;return Ye.type==="containerDirective"?(visitParents(Ye,function(it,lt){if(it.type==="containerDirective"){let ct=lt.length,ut=0;for(;ct--;)lt[ct].type==="containerDirective"&&ut++;ut>rt&&(rt=ut)}}),rt+=3):Ye.type==="leafDirective"?rt=2:rt=1,":".repeat(rt)}function factoryAttributes(Ye,rt,it,lt,ct,ut,ht,ft,pt,mt,gt,yt,xt,bt,_t){let Ct,kt;return St;function St(Vt){return Ye.enter(lt),Ye.enter(ct),Ye.consume(Vt),Ye.exit(ct),Rt}function Rt(Vt){return Vt===35?(Ct=ht,Tt(Vt)):Vt===46?(Ct=ft,Tt(Vt)):_t&&markdownSpace(Vt)?factorySpace(Ye,Rt,"whitespace")(Vt):!_t&&markdownLineEndingOrSpace(Vt)?factoryWhitespace(Ye,Rt)(Vt):Vt===null||markdownLineEnding(Vt)||unicodeWhitespace(Vt)||unicodePunctuation(Vt)&&Vt!==45&&Vt!==95?Zt(Vt):(Ye.enter(ut),Ye.enter(pt),Ye.consume(Vt),It)}function Tt(Vt){const $t=Ct+"Marker";return Ye.enter(ut),Ye.enter(Ct),Ye.enter($t),Ye.consume(Vt),Ye.exit($t),Mt}function Mt(Vt){if(Vt===null||Vt===34||Vt===35||Vt===39||Vt===46||Vt===60||Vt===61||Vt===62||Vt===96||Vt===125||markdownLineEndingOrSpace(Vt))return it(Vt);const $t=Ct+"Value";return Ye.enter($t),Ye.consume(Vt),Pt}function Pt(Vt){if(Vt===null||Vt===34||Vt===39||Vt===60||Vt===61||Vt===62||Vt===96)return it(Vt);if(Vt===35||Vt===46||Vt===125||markdownLineEndingOrSpace(Vt)){const $t=Ct+"Value";return Ye.exit($t),Ye.exit(Ct),Ye.exit(ut),Rt(Vt)}return Ye.consume(Vt),Pt}function It(Vt){return Vt===null||markdownLineEnding(Vt)||unicodeWhitespace(Vt)||unicodePunctuation(Vt)&&Vt!==45&&Vt!==46&&Vt!==58&&Vt!==95?(Ye.exit(pt),_t&&markdownSpace(Vt)?factorySpace(Ye,Lt,"whitespace")(Vt):!_t&&markdownLineEndingOrSpace(Vt)?factoryWhitespace(Ye,Lt)(Vt):Lt(Vt)):(Ye.consume(Vt),It)}function Lt(Vt){return Vt===61?(Ye.enter(mt),Ye.consume(Vt),Ye.exit(mt),Ot):(Ye.exit(ut),Rt(Vt))}function Ot(Vt){return Vt===null||Vt===60||Vt===61||Vt===62||Vt===96||Vt===125||_t&&markdownLineEnding(Vt)?it(Vt):Vt===34||Vt===39?(Ye.enter(gt),Ye.enter(xt),Ye.consume(Vt),Ye.exit(xt),kt=Vt,Ut):_t&&markdownSpace(Vt)?factorySpace(Ye,Ot,"whitespace")(Vt):!_t&&markdownLineEndingOrSpace(Vt)?factoryWhitespace(Ye,Ot)(Vt):(Ye.enter(yt),Ye.enter(bt),Ye.consume(Vt),kt=void 0,Ft)}function Ft(Vt){return Vt===null||Vt===34||Vt===39||Vt===60||Vt===61||Vt===62||Vt===96?it(Vt):Vt===125||markdownLineEndingOrSpace(Vt)?(Ye.exit(bt),Ye.exit(yt),Ye.exit(ut),Rt(Vt)):(Ye.consume(Vt),Ft)}function Ut(Vt){return Vt===kt?(Ye.enter(xt),Ye.consume(Vt),Ye.exit(xt),Ye.exit(gt),Ye.exit(ut),Qt):(Ye.enter(yt),Wt(Vt))}function Wt(Vt){return Vt===kt?(Ye.exit(yt),Ut(Vt)):Vt===null?it(Vt):markdownLineEnding(Vt)?_t?it(Vt):factoryWhitespace(Ye,Wt)(Vt):(Ye.enter(bt),Ye.consume(Vt),Kt)}function Kt(Vt){return Vt===kt||Vt===null||markdownLineEnding(Vt)?(Ye.exit(bt),Wt(Vt)):(Ye.consume(Vt),Kt)}function Qt(Vt){return Vt===125||markdownLineEndingOrSpace(Vt)?Rt(Vt):Zt(Vt)}function Zt(Vt){return Vt===125?(Ye.enter(ct),Ye.consume(Vt),Ye.exit(ct),Ye.exit(lt),rt):it(Vt)}}function factoryLabel(Ye,rt,it,lt,ct,ut,ht){let ft=0,pt=0,mt;return gt;function gt(kt){return Ye.enter(lt),Ye.enter(ct),Ye.consume(kt),Ye.exit(ct),yt}function yt(kt){return kt===93?(Ye.enter(ct),Ye.consume(kt),Ye.exit(ct),Ye.exit(lt),rt):(Ye.enter(ut),xt(kt))}function xt(kt){if(kt===93&&!pt)return Ct(kt);const St=Ye.enter("chunkText",{_contentTypeTextTrailing:!0,contentType:"text",previous:mt});return mt&&(mt.next=St),mt=St,bt(kt)}function bt(kt){return kt===null||ft>999||kt===91&&++pt>32?it(kt):kt===93&&!pt--?(Ye.exit("chunkText"),Ct(kt)):markdownLineEnding(kt)?ht?it(kt):(Ye.consume(kt),Ye.exit("chunkText"),xt):(Ye.consume(kt),kt===92?_t:bt)}function _t(kt){return kt===91||kt===92||kt===93?(Ye.consume(kt),ft++,bt):bt(kt)}function Ct(kt){return Ye.exit(ut),Ye.enter(ct),Ye.consume(kt),Ye.exit(ct),Ye.exit(lt),rt}}function factoryName(Ye,rt,it,lt){const ct=this;return ut;function ut(ft){return ft===null||markdownLineEnding(ft)||unicodePunctuation(ft)||unicodeWhitespace(ft)?it(ft):(Ye.enter(lt),Ye.consume(ft),ht)}function ht(ft){return ft===null||markdownLineEnding(ft)||unicodeWhitespace(ft)||unicodePunctuation(ft)&&ft!==45&&ft!==95?(Ye.exit(lt),ct.previous===45||ct.previous===95?it(ft):rt(ft)):(Ye.consume(ft),ht)}}const directiveContainer={tokenize:tokenizeDirectiveContainer,concrete:!0},label$2={tokenize:tokenizeLabel$2,partial:!0},attributes$2={tokenize:tokenizeAttributes$2,partial:!0},nonLazyLine={tokenize:tokenizeNonLazyLine,partial:!0};function tokenizeDirectiveContainer(Ye,rt,it){const lt=this,ct=lt.events[lt.events.length-1],ut=ct&&ct[1].type==="linePrefix"?ct[2].sliceSerialize(ct[1],!0).length:0;let ht=0,ft;return pt;function pt(Ft){return Ye.enter("directiveContainer"),Ye.enter("directiveContainerFence"),Ye.enter("directiveContainerSequence"),mt(Ft)}function mt(Ft){return Ft===58?(Ye.consume(Ft),ht++,mt):ht<3?it(Ft):(Ye.exit("directiveContainerSequence"),factoryName.call(lt,Ye,gt,it,"directiveContainerName")(Ft))}function gt(Ft){return Ft===91?Ye.attempt(label$2,yt,yt)(Ft):yt(Ft)}function yt(Ft){return Ft===123?Ye.attempt(attributes$2,xt,xt)(Ft):xt(Ft)}function xt(Ft){return factorySpace(Ye,bt,"whitespace")(Ft)}function bt(Ft){return Ye.exit("directiveContainerFence"),Ft===null?Lt(Ft):markdownLineEnding(Ft)?lt.interrupt?rt(Ft):Ye.attempt(nonLazyLine,_t,Lt)(Ft):it(Ft)}function _t(Ft){return Ft===null?Lt(Ft):markdownLineEnding(Ft)?Ye.check(nonLazyLine,Tt,Lt)(Ft):(Ye.enter("directiveContainerContent"),Ct(Ft))}function Ct(Ft){return Ye.attempt({tokenize:Ot,partial:!0},It,ut?factorySpace(Ye,kt,"linePrefix",ut+1):kt)(Ft)}function kt(Ft){return Ft===null?It(Ft):markdownLineEnding(Ft)?Ye.check(nonLazyLine,Rt,It)(Ft):Rt(Ft)}function St(Ft){if(Ft===null){const Ut=Ye.exit("chunkDocument");return lt.parser.lazy[Ut.start.line]=!1,It(Ft)}return markdownLineEnding(Ft)?Ye.check(nonLazyLine,Mt,Pt)(Ft):(Ye.consume(Ft),St)}function Rt(Ft){const Ut=Ye.enter("chunkDocument",{contentType:"document",previous:ft});return ft&&(ft.next=Ut),ft=Ut,St(Ft)}function Tt(Ft){return Ye.enter("directiveContainerContent"),Ct(Ft)}function Mt(Ft){Ye.consume(Ft);const Ut=Ye.exit("chunkDocument");return lt.parser.lazy[Ut.start.line]=!1,Ct}function Pt(Ft){const Ut=Ye.exit("chunkDocument");return lt.parser.lazy[Ut.start.line]=!1,It(Ft)}function It(Ft){return Ye.exit("directiveContainerContent"),Lt(Ft)}function Lt(Ft){return Ye.exit("directiveContainer"),rt(Ft)}function Ot(Ft,Ut,Wt){let Kt=0;return factorySpace(Ft,Qt,"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Qt($t){return Ft.enter("directiveContainerFence"),Ft.enter("directiveContainerSequence"),Zt($t)}function Zt($t){return $t===58?(Ft.consume($t),Kt++,Zt):Kt<ht?Wt($t):(Ft.exit("directiveContainerSequence"),factorySpace(Ft,Vt,"whitespace")($t))}function Vt($t){return $t===null||markdownLineEnding($t)?(Ft.exit("directiveContainerFence"),Ut($t)):Wt($t)}}}function tokenizeLabel$2(Ye,rt,it){return factoryLabel(Ye,rt,it,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function tokenizeAttributes$2(Ye,rt,it){return factoryAttributes(Ye,rt,it,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function tokenizeNonLazyLine(Ye,rt,it){const lt=this;return ct;function ct(ht){return Ye.enter("lineEnding"),Ye.consume(ht),Ye.exit("lineEnding"),ut}function ut(ht){return lt.parser.lazy[lt.now().line]?it(ht):rt(ht)}}const directiveLeaf={tokenize:tokenizeDirectiveLeaf},label$1={tokenize:tokenizeLabel$1,partial:!0},attributes$1={tokenize:tokenizeAttributes$1,partial:!0};function tokenizeDirectiveLeaf(Ye,rt,it){const lt=this;return ct;function ct(gt){return Ye.enter("directiveLeaf"),Ye.enter("directiveLeafSequence"),Ye.consume(gt),ut}function ut(gt){return gt===58?(Ye.consume(gt),Ye.exit("directiveLeafSequence"),factoryName.call(lt,Ye,ht,it,"directiveLeafName")):it(gt)}function ht(gt){return gt===91?Ye.attempt(label$1,ft,ft)(gt):ft(gt)}function ft(gt){return gt===123?Ye.attempt(attributes$1,pt,pt)(gt):pt(gt)}function pt(gt){return factorySpace(Ye,mt,"whitespace")(gt)}function mt(gt){return gt===null||markdownLineEnding(gt)?(Ye.exit("directiveLeaf"),rt(gt)):it(gt)}}function tokenizeLabel$1(Ye,rt,it){return factoryLabel(Ye,rt,it,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function tokenizeAttributes$1(Ye,rt,it){return factoryAttributes(Ye,rt,it,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const directiveText={tokenize:tokenizeDirectiveText,previous:previous$1},label={tokenize:tokenizeLabel,partial:!0},attributes={tokenize:tokenizeAttributes,partial:!0};function previous$1(Ye){return Ye!==58||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeDirectiveText(Ye,rt,it){const lt=this;return ct;function ct(pt){return Ye.enter("directiveText"),Ye.enter("directiveTextMarker"),Ye.consume(pt),Ye.exit("directiveTextMarker"),factoryName.call(lt,Ye,ut,it,"directiveTextName")}function ut(pt){return pt===58?it(pt):pt===91?Ye.attempt(label,ht,ht)(pt):ht(pt)}function ht(pt){return pt===123?Ye.attempt(attributes,ft,ft)(pt):ft(pt)}function ft(pt){return Ye.exit("directiveText"),rt(pt)}}function tokenizeLabel(Ye,rt,it){return factoryLabel(Ye,rt,it,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function tokenizeAttributes(Ye,rt,it){return factoryAttributes(Ye,rt,it,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function directive(){return{text:{58:directiveText},flow:{58:[directiveContainer,directiveLeaf]}}}function remarkDirective(){const rt=this.data(),it=rt.micromarkExtensions||(rt.micromarkExtensions=[]),lt=rt.fromMarkdownExtensions||(rt.fromMarkdownExtensions=[]),ct=rt.toMarkdownExtensions||(rt.toMarkdownExtensions=[]);it.push(directive()),lt.push(directiveFromMarkdown()),ct.push(directiveToMarkdown())}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(Ye){this.enter({type:"link",title:null,url:"",children:[]},Ye)}function enterLiteralAutolinkValue(Ye){this.config.enter.autolinkProtocol.call(this,Ye)}function exitLiteralAutolinkHttp(Ye){this.config.exit.autolinkProtocol.call(this,Ye)}function exitLiteralAutolinkWww(Ye){this.config.exit.data.call(this,Ye);const rt=this.stack[this.stack.length-1];rt.type,rt.url="http://"+this.sliceSerialize(Ye)}function exitLiteralAutolinkEmail(Ye){this.config.exit.autolinkEmail.call(this,Ye)}function exitLiteralAutolink(Ye){this.exit(Ye)}function transformGfmAutolinkLiterals(Ye){findAndReplace(Ye,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(Ye,rt,it,lt,ct){let ut="";if(!previous(ct)||(/^w/i.test(rt)&&(it=rt+it,rt="",ut="http://"),!isCorrectDomain(it)))return!1;const ht=splitUrl(it+lt);if(!ht[0])return!1;const ft={type:"link",title:null,url:ut+rt+ht[0],children:[{type:"text",value:rt+ht[0]}]};return ht[1]?[ft,{type:"text",value:ht[1]}]:ft}function findEmail(Ye,rt,it,lt){return!previous(lt,!0)||/[-\d_]$/.test(it)?!1:{type:"link",title:null,url:"mailto:"+rt+"@"+it,children:[{type:"text",value:rt+"@"+it}]}}function isCorrectDomain(Ye){const rt=Ye.split(".");return!(rt.length<2||rt[rt.length-1]&&(/_/.test(rt[rt.length-1])||!/[a-zA-Z\d]/.test(rt[rt.length-1]))||rt[rt.length-2]&&(/_/.test(rt[rt.length-2])||!/[a-zA-Z\d]/.test(rt[rt.length-2])))}function splitUrl(Ye){const rt=/[!"&'),.:;<>?\]}]+$/.exec(Ye);if(!rt)return[Ye,void 0];Ye=Ye.slice(0,rt.index);let it=rt[0],lt=it.indexOf(")");const ct=ccount(Ye,"(");let ut=ccount(Ye,")");for(;lt!==-1&&ct>ut;)Ye+=it.slice(0,lt+1),it=it.slice(lt+1),lt=it.indexOf(")"),ut++;return[Ye,it]}function previous(Ye,rt){const it=Ye.input.charCodeAt(Ye.index-1);return(Ye.index===0||unicodeWhitespace(it)||unicodePunctuation(it))&&(!rt||it!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(Ye){this.enter({type:"footnoteReference",identifier:"",label:""},Ye)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(Ye){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},Ye)}function exitFootnoteCallString(Ye){const rt=this.resume(),it=this.stack[this.stack.length-1];it.type,it.identifier=normalizeIdentifier(this.sliceSerialize(Ye)).toLowerCase(),it.label=rt}function exitFootnoteCall(Ye){this.exit(Ye)}function exitFootnoteDefinitionLabelString(Ye){const rt=this.resume(),it=this.stack[this.stack.length-1];it.type,it.identifier=normalizeIdentifier(this.sliceSerialize(Ye)).toLowerCase(),it.label=rt}function exitFootnoteDefinition(Ye){this.exit(Ye)}function footnoteReferencePeek(){return"["}function footnoteReference(Ye,rt,it,lt){const ct=it.createTracker(lt);let ut=ct.move("[^");const ht=it.enter("footnoteReference"),ft=it.enter("reference");return ut+=ct.move(it.safe(it.associationId(Ye),{after:"]",before:ut})),ft(),ht(),ut+=ct.move("]"),ut}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(Ye){let rt=!1;return Ye&&Ye.firstLineBlank&&(rt=!0),{handlers:{footnoteDefinition:it,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function it(lt,ct,ut,ht){const ft=ut.createTracker(ht);let pt=ft.move("[^");const mt=ut.enter("footnoteDefinition"),gt=ut.enter("label");return pt+=ft.move(ut.safe(ut.associationId(lt),{before:pt,after:"]"})),gt(),pt+=ft.move("]:"),lt.children&&lt.children.length>0&&(ft.shift(4),pt+=ft.move((rt?`
`:" ")+ut.indentLines(ut.containerFlow(lt,ft.current()),rt?mapAll:mapExceptFirst))),mt(),pt}}function mapExceptFirst(Ye,rt,it){return rt===0?Ye:mapAll(Ye,rt,it)}function mapAll(Ye,rt,it){return(it?"":"    ")+Ye}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(Ye){this.enter({type:"delete",children:[]},Ye)}function exitStrikethrough(Ye){this.exit(Ye)}function handleDelete(Ye,rt,it,lt){const ct=it.createTracker(lt),ut=it.enter("strikethrough");let ht=ct.move("~~");return ht+=it.containerPhrasing(Ye,{...ct.current(),before:ht,after:"~"}),ht+=ct.move("~~"),ut(),ht}function peekDelete(){return"~"}function defaultStringLength(Ye){return Ye.length}function markdownTable(Ye,rt){const it=rt||{},lt=(it.align||[]).concat(),ct=it.stringLength||defaultStringLength,ut=[],ht=[],ft=[],pt=[];let mt=0,gt=-1;for(;++gt<Ye.length;){const Ct=[],kt=[];let St=-1;for(Ye[gt].length>mt&&(mt=Ye[gt].length);++St<Ye[gt].length;){const Rt=serialize$1(Ye[gt][St]);if(it.alignDelimiters!==!1){const Tt=ct(Rt);kt[St]=Tt,(pt[St]===void 0||Tt>pt[St])&&(pt[St]=Tt)}Ct.push(Rt)}ht[gt]=Ct,ft[gt]=kt}let yt=-1;if(typeof lt=="object"&&"length"in lt)for(;++yt<mt;)ut[yt]=toAlignment(lt[yt]);else{const Ct=toAlignment(lt);for(;++yt<mt;)ut[yt]=Ct}yt=-1;const xt=[],bt=[];for(;++yt<mt;){const Ct=ut[yt];let kt="",St="";Ct===99?(kt=":",St=":"):Ct===108?kt=":":Ct===114&&(St=":");let Rt=it.alignDelimiters===!1?1:Math.max(1,pt[yt]-kt.length-St.length);const Tt=kt+"-".repeat(Rt)+St;it.alignDelimiters!==!1&&(Rt=kt.length+Rt+St.length,Rt>pt[yt]&&(pt[yt]=Rt),bt[yt]=Rt),xt[yt]=Tt}ht.splice(1,0,xt),ft.splice(1,0,bt),gt=-1;const _t=[];for(;++gt<ht.length;){const Ct=ht[gt],kt=ft[gt];yt=-1;const St=[];for(;++yt<mt;){const Rt=Ct[yt]||"";let Tt="",Mt="";if(it.alignDelimiters!==!1){const Pt=pt[yt]-(kt[yt]||0),It=ut[yt];It===114?Tt=" ".repeat(Pt):It===99?Pt%2?(Tt=" ".repeat(Pt/2+.5),Mt=" ".repeat(Pt/2-.5)):(Tt=" ".repeat(Pt/2),Mt=Tt):Mt=" ".repeat(Pt)}it.delimiterStart!==!1&&!yt&&St.push("|"),it.padding!==!1&&!(it.alignDelimiters===!1&&Rt==="")&&(it.delimiterStart!==!1||yt)&&St.push(" "),it.alignDelimiters!==!1&&St.push(Tt),St.push(Rt),it.alignDelimiters!==!1&&St.push(Mt),it.padding!==!1&&St.push(" "),(it.delimiterEnd!==!1||yt!==mt-1)&&St.push("|")}_t.push(it.delimiterEnd===!1?St.join("").replace(/ +$/,""):St.join(""))}return _t.join(`
`)}function serialize$1(Ye){return Ye==null?"":String(Ye)}function toAlignment(Ye){const rt=typeof Ye=="string"?Ye.codePointAt(0):0;return rt===67||rt===99?99:rt===76||rt===108?108:rt===82||rt===114?114:0}const own={}.hasOwnProperty;function configure(Ye,rt){let it=-1,lt;if(rt.extensions)for(;++it<rt.extensions.length;)configure(Ye,rt.extensions[it]);for(lt in rt)if(own.call(rt,lt))switch(lt){case"extensions":break;case"unsafe":{list$1(Ye[lt],rt[lt]);break}case"join":{list$1(Ye[lt],rt[lt]);break}case"handlers":{map$2(Ye[lt],rt[lt]);break}default:Ye.options[lt]=rt[lt]}return Ye}function list$1(Ye,rt){rt&&Ye.push(...rt)}function map$2(Ye,rt){rt&&Object.assign(Ye,rt)}function blockquote(Ye,rt,it,lt){const ct=it.enter("blockquote"),ut=it.createTracker(lt);ut.move("> "),ut.shift(2);const ht=it.indentLines(it.containerFlow(Ye,ut.current()),map$1);return ct(),ht}function map$1(Ye,rt,it){return">"+(it?"":" ")+Ye}function patternInScope(Ye,rt){return listInScope(Ye,rt.inConstruct,!0)&&!listInScope(Ye,rt.notInConstruct,!1)}function listInScope(Ye,rt,it){if(typeof rt=="string"&&(rt=[rt]),!rt||rt.length===0)return it;let lt=-1;for(;++lt<rt.length;)if(Ye.includes(rt[lt]))return!0;return!1}function hardBreak(Ye,rt,it,lt){let ct=-1;for(;++ct<it.unsafe.length;)if(it.unsafe[ct].character===`
`&&patternInScope(it.stack,it.unsafe[ct]))return/[ \t]/.test(lt.before)?"":" ";return`\\
`}function longestStreak(Ye,rt){const it=String(Ye);let lt=it.indexOf(rt),ct=lt,ut=0,ht=0;if(typeof rt!="string")throw new TypeError("Expected substring");for(;lt!==-1;)lt===ct?++ut>ht&&(ht=ut):ut=1,ct=lt+rt.length,lt=it.indexOf(rt,ct);return ht}function formatCodeAsIndented(Ye,rt){return!!(rt.options.fences===!1&&Ye.value&&!Ye.lang&&/[^ \r\n]/.test(Ye.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(Ye.value))}function checkFence(Ye){const rt=Ye.options.fence||"`";if(rt!=="`"&&rt!=="~")throw new Error("Cannot serialize code with `"+rt+"` for `options.fence`, expected `` ` `` or `~`");return rt}function code$1(Ye,rt,it,lt){const ct=checkFence(it),ut=Ye.value||"",ht=ct==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(Ye,it)){const yt=it.enter("codeIndented"),xt=it.indentLines(ut,map);return yt(),xt}const ft=it.createTracker(lt),pt=ct.repeat(Math.max(longestStreak(ut,ct)+1,3)),mt=it.enter("codeFenced");let gt=ft.move(pt);if(Ye.lang){const yt=it.enter(`codeFencedLang${ht}`);gt+=ft.move(it.safe(Ye.lang,{before:gt,after:" ",encode:["`"],...ft.current()})),yt()}if(Ye.lang&&Ye.meta){const yt=it.enter(`codeFencedMeta${ht}`);gt+=ft.move(" "),gt+=ft.move(it.safe(Ye.meta,{before:gt,after:`
`,encode:["`"],...ft.current()})),yt()}return gt+=ft.move(`
`),ut&&(gt+=ft.move(ut+`
`)),gt+=ft.move(pt),mt(),gt}function map(Ye,rt,it){return(it?"":"    ")+Ye}function checkQuote(Ye){const rt=Ye.options.quote||'"';if(rt!=='"'&&rt!=="'")throw new Error("Cannot serialize title with `"+rt+"` for `options.quote`, expected `\"`, or `'`");return rt}function definition(Ye,rt,it,lt){const ct=checkQuote(it),ut=ct==='"'?"Quote":"Apostrophe",ht=it.enter("definition");let ft=it.enter("label");const pt=it.createTracker(lt);let mt=pt.move("[");return mt+=pt.move(it.safe(it.associationId(Ye),{before:mt,after:"]",...pt.current()})),mt+=pt.move("]: "),ft(),!Ye.url||/[\0- \u007F]/.test(Ye.url)?(ft=it.enter("destinationLiteral"),mt+=pt.move("<"),mt+=pt.move(it.safe(Ye.url,{before:mt,after:">",...pt.current()})),mt+=pt.move(">")):(ft=it.enter("destinationRaw"),mt+=pt.move(it.safe(Ye.url,{before:mt,after:Ye.title?" ":`
`,...pt.current()}))),ft(),Ye.title&&(ft=it.enter(`title${ut}`),mt+=pt.move(" "+ct),mt+=pt.move(it.safe(Ye.title,{before:mt,after:ct,...pt.current()})),mt+=pt.move(ct),ft()),ht(),mt}function checkEmphasis(Ye){const rt=Ye.options.emphasis||"*";if(rt!=="*"&&rt!=="_")throw new Error("Cannot serialize emphasis with `"+rt+"` for `options.emphasis`, expected `*`, or `_`");return rt}function encodeCharacterReference(Ye){return"&#x"+Ye.toString(16).toUpperCase()+";"}function encodeInfo(Ye,rt,it){const lt=classifyCharacter(Ye),ct=classifyCharacter(rt);return lt===void 0?ct===void 0?it==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:ct===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:lt===1?ct===void 0?{inside:!1,outside:!1}:ct===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:ct===void 0?{inside:!1,outside:!1}:ct===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(Ye,rt,it,lt){const ct=checkEmphasis(it),ut=it.enter("emphasis"),ht=it.createTracker(lt),ft=ht.move(ct);let pt=ht.move(it.containerPhrasing(Ye,{after:ct,before:ft,...ht.current()}));const mt=pt.charCodeAt(0),gt=encodeInfo(lt.before.charCodeAt(lt.before.length-1),mt,ct);gt.inside&&(pt=encodeCharacterReference(mt)+pt.slice(1));const yt=pt.charCodeAt(pt.length-1),xt=encodeInfo(lt.after.charCodeAt(0),yt,ct);xt.inside&&(pt=pt.slice(0,-1)+encodeCharacterReference(yt));const bt=ht.move(ct);return ut(),it.attentionEncodeSurroundingInfo={after:xt.outside,before:gt.outside},ft+pt+bt}function emphasisPeek(Ye,rt,it){return it.options.emphasis||"*"}function formatHeadingAsSetext(Ye,rt){let it=!1;return visit(Ye,function(lt){if("value"in lt&&/\r?\n|\r/.test(lt.value)||lt.type==="break")return it=!0,EXIT}),!!((!Ye.depth||Ye.depth<3)&&toString$3(Ye)&&(rt.options.setext||it))}function heading(Ye,rt,it,lt){const ct=Math.max(Math.min(6,Ye.depth||1),1),ut=it.createTracker(lt);if(formatHeadingAsSetext(Ye,it)){const gt=it.enter("headingSetext"),yt=it.enter("phrasing"),xt=it.containerPhrasing(Ye,{...ut.current(),before:`
`,after:`
`});return yt(),gt(),xt+`
`+(ct===1?"=":"-").repeat(xt.length-(Math.max(xt.lastIndexOf("\r"),xt.lastIndexOf(`
`))+1))}const ht="#".repeat(ct),ft=it.enter("headingAtx"),pt=it.enter("phrasing");ut.move(ht+" ");let mt=it.containerPhrasing(Ye,{before:"# ",after:`
`,...ut.current()});return/^[\t ]/.test(mt)&&(mt=encodeCharacterReference(mt.charCodeAt(0))+mt.slice(1)),mt=mt?ht+" "+mt:ht,it.options.closeAtx&&(mt+=" "+ht),pt(),ft(),mt}html$2.peek=htmlPeek;function html$2(Ye){return Ye.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(Ye,rt,it,lt){const ct=checkQuote(it),ut=ct==='"'?"Quote":"Apostrophe",ht=it.enter("image");let ft=it.enter("label");const pt=it.createTracker(lt);let mt=pt.move("![");return mt+=pt.move(it.safe(Ye.alt,{before:mt,after:"]",...pt.current()})),mt+=pt.move("]("),ft(),!Ye.url&&Ye.title||/[\0- \u007F]/.test(Ye.url)?(ft=it.enter("destinationLiteral"),mt+=pt.move("<"),mt+=pt.move(it.safe(Ye.url,{before:mt,after:">",...pt.current()})),mt+=pt.move(">")):(ft=it.enter("destinationRaw"),mt+=pt.move(it.safe(Ye.url,{before:mt,after:Ye.title?" ":")",...pt.current()}))),ft(),Ye.title&&(ft=it.enter(`title${ut}`),mt+=pt.move(" "+ct),mt+=pt.move(it.safe(Ye.title,{before:mt,after:ct,...pt.current()})),mt+=pt.move(ct),ft()),mt+=pt.move(")"),ht(),mt}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(Ye,rt,it,lt){const ct=Ye.referenceType,ut=it.enter("imageReference");let ht=it.enter("label");const ft=it.createTracker(lt);let pt=ft.move("![");const mt=it.safe(Ye.alt,{before:pt,after:"]",...ft.current()});pt+=ft.move(mt+"]["),ht();const gt=it.stack;it.stack=[],ht=it.enter("reference");const yt=it.safe(it.associationId(Ye),{before:pt,after:"]",...ft.current()});return ht(),it.stack=gt,ut(),ct==="full"||!mt||mt!==yt?pt+=ft.move(yt+"]"):ct==="shortcut"?pt=pt.slice(0,-1):pt+=ft.move("]"),pt}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(Ye,rt,it){let lt=Ye.value||"",ct="`",ut=-1;for(;new RegExp("(^|[^`])"+ct+"([^`]|$)").test(lt);)ct+="`";for(/[^ \r\n]/.test(lt)&&(/^[ \r\n]/.test(lt)&&/[ \r\n]$/.test(lt)||/^`|`$/.test(lt))&&(lt=" "+lt+" ");++ut<it.unsafe.length;){const ht=it.unsafe[ut],ft=it.compilePattern(ht);let pt;if(ht.atBreak)for(;pt=ft.exec(lt);){let mt=pt.index;lt.charCodeAt(mt)===10&&lt.charCodeAt(mt-1)===13&&mt--,lt=lt.slice(0,mt)+" "+lt.slice(pt.index+1)}}return ct+lt+ct}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(Ye,rt){const it=toString$3(Ye);return!!(!rt.options.resourceLink&&Ye.url&&!Ye.title&&Ye.children&&Ye.children.length===1&&Ye.children[0].type==="text"&&(it===Ye.url||"mailto:"+it===Ye.url)&&/^[a-z][a-z+.-]+:/i.test(Ye.url)&&!/[\0- <>\u007F]/.test(Ye.url))}link.peek=linkPeek;function link(Ye,rt,it,lt){const ct=checkQuote(it),ut=ct==='"'?"Quote":"Apostrophe",ht=it.createTracker(lt);let ft,pt;if(formatLinkAsAutolink(Ye,it)){const gt=it.stack;it.stack=[],ft=it.enter("autolink");let yt=ht.move("<");return yt+=ht.move(it.containerPhrasing(Ye,{before:yt,after:">",...ht.current()})),yt+=ht.move(">"),ft(),it.stack=gt,yt}ft=it.enter("link"),pt=it.enter("label");let mt=ht.move("[");return mt+=ht.move(it.containerPhrasing(Ye,{before:mt,after:"](",...ht.current()})),mt+=ht.move("]("),pt(),!Ye.url&&Ye.title||/[\0- \u007F]/.test(Ye.url)?(pt=it.enter("destinationLiteral"),mt+=ht.move("<"),mt+=ht.move(it.safe(Ye.url,{before:mt,after:">",...ht.current()})),mt+=ht.move(">")):(pt=it.enter("destinationRaw"),mt+=ht.move(it.safe(Ye.url,{before:mt,after:Ye.title?" ":")",...ht.current()}))),pt(),Ye.title&&(pt=it.enter(`title${ut}`),mt+=ht.move(" "+ct),mt+=ht.move(it.safe(Ye.title,{before:mt,after:ct,...ht.current()})),mt+=ht.move(ct),pt()),mt+=ht.move(")"),ft(),mt}function linkPeek(Ye,rt,it){return formatLinkAsAutolink(Ye,it)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(Ye,rt,it,lt){const ct=Ye.referenceType,ut=it.enter("linkReference");let ht=it.enter("label");const ft=it.createTracker(lt);let pt=ft.move("[");const mt=it.containerPhrasing(Ye,{before:pt,after:"]",...ft.current()});pt+=ft.move(mt+"]["),ht();const gt=it.stack;it.stack=[],ht=it.enter("reference");const yt=it.safe(it.associationId(Ye),{before:pt,after:"]",...ft.current()});return ht(),it.stack=gt,ut(),ct==="full"||!mt||mt!==yt?pt+=ft.move(yt+"]"):ct==="shortcut"?pt=pt.slice(0,-1):pt+=ft.move("]"),pt}function linkReferencePeek(){return"["}function checkBullet(Ye){const rt=Ye.options.bullet||"*";if(rt!=="*"&&rt!=="+"&&rt!=="-")throw new Error("Cannot serialize items with `"+rt+"` for `options.bullet`, expected `*`, `+`, or `-`");return rt}function checkBulletOther(Ye){const rt=checkBullet(Ye),it=Ye.options.bulletOther;if(!it)return rt==="*"?"-":"*";if(it!=="*"&&it!=="+"&&it!=="-")throw new Error("Cannot serialize items with `"+it+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(it===rt)throw new Error("Expected `bullet` (`"+rt+"`) and `bulletOther` (`"+it+"`) to be different");return it}function checkBulletOrdered(Ye){const rt=Ye.options.bulletOrdered||".";if(rt!=="."&&rt!==")")throw new Error("Cannot serialize items with `"+rt+"` for `options.bulletOrdered`, expected `.` or `)`");return rt}function checkRule(Ye){const rt=Ye.options.rule||"*";if(rt!=="*"&&rt!=="-"&&rt!=="_")throw new Error("Cannot serialize rules with `"+rt+"` for `options.rule`, expected `*`, `-`, or `_`");return rt}function list(Ye,rt,it,lt){const ct=it.enter("list"),ut=it.bulletCurrent;let ht=Ye.ordered?checkBulletOrdered(it):checkBullet(it);const ft=Ye.ordered?ht==="."?")":".":checkBulletOther(it);let pt=rt&&it.bulletLastUsed?ht===it.bulletLastUsed:!1;if(!Ye.ordered){const gt=Ye.children?Ye.children[0]:void 0;if((ht==="*"||ht==="-")&&gt&&(!gt.children||!gt.children[0])&&it.stack[it.stack.length-1]==="list"&&it.stack[it.stack.length-2]==="listItem"&&it.stack[it.stack.length-3]==="list"&&it.stack[it.stack.length-4]==="listItem"&&it.indexStack[it.indexStack.length-1]===0&&it.indexStack[it.indexStack.length-2]===0&&it.indexStack[it.indexStack.length-3]===0&&(pt=!0),checkRule(it)===ht&&gt){let yt=-1;for(;++yt<Ye.children.length;){const xt=Ye.children[yt];if(xt&&xt.type==="listItem"&&xt.children&&xt.children[0]&&xt.children[0].type==="thematicBreak"){pt=!0;break}}}}pt&&(ht=ft),it.bulletCurrent=ht;const mt=it.containerFlow(Ye,lt);return it.bulletLastUsed=ht,it.bulletCurrent=ut,ct(),mt}function checkListItemIndent(Ye){const rt=Ye.options.listItemIndent||"one";if(rt!=="tab"&&rt!=="one"&&rt!=="mixed")throw new Error("Cannot serialize items with `"+rt+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return rt}function listItem(Ye,rt,it,lt){const ct=checkListItemIndent(it);let ut=it.bulletCurrent||checkBullet(it);rt&&rt.type==="list"&&rt.ordered&&(ut=(typeof rt.start=="number"&&rt.start>-1?rt.start:1)+(it.options.incrementListMarker===!1?0:rt.children.indexOf(Ye))+ut);let ht=ut.length+1;(ct==="tab"||ct==="mixed"&&(rt&&rt.type==="list"&&rt.spread||Ye.spread))&&(ht=Math.ceil(ht/4)*4);const ft=it.createTracker(lt);ft.move(ut+" ".repeat(ht-ut.length)),ft.shift(ht);const pt=it.enter("listItem"),mt=it.indentLines(it.containerFlow(Ye,ft.current()),gt);return pt(),mt;function gt(yt,xt,bt){return xt?(bt?"":" ".repeat(ht))+yt:(bt?ut:ut+" ".repeat(ht-ut.length))+yt}}function paragraph(Ye,rt,it,lt){const ct=it.enter("paragraph"),ut=it.enter("phrasing"),ht=it.containerPhrasing(Ye,lt);return ut(),ct(),ht}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(Ye,rt,it,lt){return(Ye.children.some(function(ht){return phrasing(ht)})?it.containerPhrasing:it.containerFlow).call(it,Ye,lt)}function checkStrong(Ye){const rt=Ye.options.strong||"*";if(rt!=="*"&&rt!=="_")throw new Error("Cannot serialize strong with `"+rt+"` for `options.strong`, expected `*`, or `_`");return rt}strong.peek=strongPeek;function strong(Ye,rt,it,lt){const ct=checkStrong(it),ut=it.enter("strong"),ht=it.createTracker(lt),ft=ht.move(ct+ct);let pt=ht.move(it.containerPhrasing(Ye,{after:ct,before:ft,...ht.current()}));const mt=pt.charCodeAt(0),gt=encodeInfo(lt.before.charCodeAt(lt.before.length-1),mt,ct);gt.inside&&(pt=encodeCharacterReference(mt)+pt.slice(1));const yt=pt.charCodeAt(pt.length-1),xt=encodeInfo(lt.after.charCodeAt(0),yt,ct);xt.inside&&(pt=pt.slice(0,-1)+encodeCharacterReference(yt));const bt=ht.move(ct+ct);return ut(),it.attentionEncodeSurroundingInfo={after:xt.outside,before:gt.outside},ft+pt+bt}function strongPeek(Ye,rt,it){return it.options.strong||"*"}function text$1(Ye,rt,it,lt){return it.safe(Ye.value,lt)}function checkRuleRepetition(Ye){const rt=Ye.options.ruleRepetition||3;if(rt<3)throw new Error("Cannot serialize rules with repetition `"+rt+"` for `options.ruleRepetition`, expected `3` or more");return rt}function thematicBreak(Ye,rt,it){const lt=(checkRule(it)+(it.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(it));return it.options.ruleSpaces?lt.slice(0,-1):lt}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html:html$2,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak},join=[joinDefaults];function joinDefaults(Ye,rt,it,lt){if(rt.type==="code"&&formatCodeAsIndented(rt,lt)&&(Ye.type==="list"||Ye.type===rt.type&&formatCodeAsIndented(Ye,lt)))return!1;if("spread"in it&&typeof it.spread=="boolean")return Ye.type==="paragraph"&&(Ye.type===rt.type||rt.type==="definition"||rt.type==="heading"&&formatHeadingAsSetext(rt,lt))?void 0:it.spread?1:0}const fullPhrasingSpans=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],unsafe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:fullPhrasingSpans},{atBreak:!0,character:"~"}];function association(Ye){return Ye.label||!Ye.identifier?Ye.label||"":decodeString(Ye.identifier)}function compilePattern(Ye){if(!Ye._compiled){const rt=(Ye.atBreak?"[\\r\\n][\\t ]*":"")+(Ye.before?"(?:"+Ye.before+")":"");Ye._compiled=new RegExp((rt?"("+rt+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(Ye.character)?"\\":"")+Ye.character+(Ye.after?"(?:"+Ye.after+")":""),"g")}return Ye._compiled}function containerPhrasing(Ye,rt,it){const lt=rt.indexStack,ct=Ye.children||[],ut=[];let ht=-1,ft=it.before,pt;lt.push(-1);let mt=rt.createTracker(it);for(;++ht<ct.length;){const gt=ct[ht];let yt;if(lt[lt.length-1]=ht,ht+1<ct.length){let _t=rt.handle.handlers[ct[ht+1].type];_t&&_t.peek&&(_t=_t.peek),yt=_t?_t(ct[ht+1],Ye,rt,{before:"",after:"",...mt.current()}).charAt(0):""}else yt=it.after;ut.length>0&&(ft==="\r"||ft===`
`)&&gt.type==="html"&&(ut[ut.length-1]=ut[ut.length-1].replace(/(\r?\n|\r)$/," "),ft=" ",mt=rt.createTracker(it),mt.move(ut.join("")));let xt=rt.handle(gt,Ye,rt,{...mt.current(),after:yt,before:ft});pt&&pt===xt.slice(0,1)&&(xt=encodeCharacterReference(pt.charCodeAt(0))+xt.slice(1));const bt=rt.attentionEncodeSurroundingInfo;rt.attentionEncodeSurroundingInfo=void 0,pt=void 0,bt&&(ut.length>0&&bt.before&&ft===ut[ut.length-1].slice(-1)&&(ut[ut.length-1]=ut[ut.length-1].slice(0,-1)+encodeCharacterReference(ft.charCodeAt(0))),bt.after&&(pt=yt)),mt.move(xt),ut.push(xt),ft=xt.slice(-1)}return lt.pop(),ut.join("")}function containerFlow(Ye,rt,it){const lt=rt.indexStack,ct=Ye.children||[],ut=rt.createTracker(it),ht=[];let ft=-1;for(lt.push(-1);++ft<ct.length;){const pt=ct[ft];lt[lt.length-1]=ft,ht.push(ut.move(rt.handle(pt,Ye,rt,{before:`
`,after:`
`,...ut.current()}))),pt.type!=="list"&&(rt.bulletLastUsed=void 0),ft<ct.length-1&&ht.push(ut.move(between(pt,ct[ft+1],Ye,rt)))}return lt.pop(),ht.join("")}function between(Ye,rt,it,lt){let ct=lt.join.length;for(;ct--;){const ut=lt.join[ct](Ye,rt,it,lt);if(ut===!0||ut===1)break;if(typeof ut=="number")return`
`.repeat(1+ut);if(ut===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(Ye,rt){const it=[];let lt=0,ct=0,ut;for(;ut=eol.exec(Ye);)ht(Ye.slice(lt,ut.index)),it.push(ut[0]),lt=ut.index+ut[0].length,ct++;return ht(Ye.slice(lt)),it.join("");function ht(ft){it.push(rt(ft,ct,!ft))}}function safe(Ye,rt,it){const lt=(it.before||"")+(rt||"")+(it.after||""),ct=[],ut=[],ht={};let ft=-1;for(;++ft<Ye.unsafe.length;){const gt=Ye.unsafe[ft];if(!patternInScope(Ye.stack,gt))continue;const yt=Ye.compilePattern(gt);let xt;for(;xt=yt.exec(lt);){const bt="before"in gt||!!gt.atBreak,_t="after"in gt,Ct=xt.index+(bt?xt[1].length:0);ct.includes(Ct)?(ht[Ct].before&&!bt&&(ht[Ct].before=!1),ht[Ct].after&&!_t&&(ht[Ct].after=!1)):(ct.push(Ct),ht[Ct]={before:bt,after:_t})}}ct.sort(numerical);let pt=it.before?it.before.length:0;const mt=lt.length-(it.after?it.after.length:0);for(ft=-1;++ft<ct.length;){const gt=ct[ft];gt<pt||gt>=mt||gt+1<mt&&ct[ft+1]===gt+1&&ht[gt].after&&!ht[gt+1].before&&!ht[gt+1].after||ct[ft-1]===gt-1&&ht[gt].before&&!ht[gt-1].before&&!ht[gt-1].after||(pt!==gt&&ut.push(escapeBackslashes(lt.slice(pt,gt),"\\")),pt=gt,/[!-/:-@[-`{-~]/.test(lt.charAt(gt))&&(!it.encode||!it.encode.includes(lt.charAt(gt)))?ut.push("\\"):(ut.push(encodeCharacterReference(lt.charCodeAt(gt))),pt++))}return ut.push(escapeBackslashes(lt.slice(pt,mt),it.after)),ut.join("")}function numerical(Ye,rt){return Ye-rt}function escapeBackslashes(Ye,rt){const it=/\\(?=[!-/:-@[-`{-~])/g,lt=[],ct=[],ut=Ye+rt;let ht=-1,ft=0,pt;for(;pt=it.exec(ut);)lt.push(pt.index);for(;++ht<lt.length;)ft!==lt[ht]&&ct.push(Ye.slice(ft,lt[ht])),ct.push("\\"),ft=lt[ht];return ct.push(Ye.slice(ft)),ct.join("")}function track(Ye){const rt=Ye||{},it=rt.now||{};let lt=rt.lineShift||0,ct=it.line||1,ut=it.column||1;return{move:pt,current:ht,shift:ft};function ht(){return{now:{line:ct,column:ut},lineShift:lt}}function ft(mt){lt+=mt}function pt(mt){const gt=mt||"",yt=gt.split(/\r?\n|\r/g),xt=yt[yt.length-1];return ct+=yt.length-1,ut=yt.length===1?ut+xt.length:1+xt.length+lt,gt}}function toMarkdown(Ye,rt){const it={},lt={associationId:association,containerPhrasing:containerPhrasingBound,containerFlow:containerFlowBound,createTracker:track,compilePattern,enter:ut,handlers:{...handle},handle:void 0,indentLines,indexStack:[],join:[...join],options:{},safe:safeBound,stack:[],unsafe:[...unsafe]};configure(lt,it),lt.options.tightDefinitions&&lt.join.push(joinDefinition),lt.handle=zwitch("type",{invalid,unknown,handlers:lt.handlers});let ct=lt.handle(Ye,void 0,lt,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return ct&&ct.charCodeAt(ct.length-1)!==10&&ct.charCodeAt(ct.length-1)!==13&&(ct+=`
`),ct;function ut(ht){return lt.stack.push(ht),ft;function ft(){lt.stack.pop()}}}function invalid(Ye){throw new Error("Cannot handle value `"+Ye+"`, expected node")}function unknown(Ye){const rt=Ye;throw new Error("Cannot handle unknown node `"+rt.type+"`")}function joinDefinition(Ye,rt){if(Ye.type==="definition"&&Ye.type===rt.type)return 0}function containerPhrasingBound(Ye,rt){return containerPhrasing(Ye,this,rt)}function containerFlowBound(Ye,rt){return containerFlow(Ye,this,rt)}function safeBound(Ye,rt){return safe(this,Ye,rt)}function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(Ye){const rt=Ye._align;this.enter({type:"table",align:rt.map(function(it){return it==="none"?null:it}),children:[]},Ye),this.data.inTable=!0}function exitTable(Ye){this.exit(Ye),this.data.inTable=void 0}function enterRow(Ye){this.enter({type:"tableRow",children:[]},Ye)}function exit(Ye){this.exit(Ye)}function enterCell(Ye){this.enter({type:"tableCell",children:[]},Ye)}function exitCodeText(Ye){let rt=this.resume();this.data.inTable&&(rt=rt.replace(/\\([\\|])/g,replace$1));const it=this.stack[this.stack.length-1];it.type,it.value=rt,this.exit(Ye)}function replace$1(Ye,rt){return rt==="|"?rt:Ye}function gfmTableToMarkdown(Ye){const rt=Ye||{},it=rt.tableCellPadding,lt=rt.tablePipeAlign,ct=rt.stringLength,ut=it?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:xt,table:ht,tableCell:pt,tableRow:ft}};function ht(bt,_t,Ct,kt){return mt(gt(bt,Ct,kt),bt.align)}function ft(bt,_t,Ct,kt){const St=yt(bt,Ct,kt),Rt=mt([St]);return Rt.slice(0,Rt.indexOf(`
`))}function pt(bt,_t,Ct,kt){const St=Ct.enter("tableCell"),Rt=Ct.enter("phrasing"),Tt=Ct.containerPhrasing(bt,{...kt,before:ut,after:ut});return Rt(),St(),Tt}function mt(bt,_t){return markdownTable(bt,{align:_t,alignDelimiters:lt,padding:it,stringLength:ct})}function gt(bt,_t,Ct){const kt=bt.children;let St=-1;const Rt=[],Tt=_t.enter("table");for(;++St<kt.length;)Rt[St]=yt(kt[St],_t,Ct);return Tt(),Rt}function yt(bt,_t,Ct){const kt=bt.children;let St=-1;const Rt=[],Tt=_t.enter("tableRow");for(;++St<kt.length;)Rt[St]=pt(kt[St],bt,_t,Ct);return Tt(),Rt}function xt(bt,_t,Ct){let kt=handle.inlineCode(bt,_t,Ct);return Ct.stack.includes("tableCell")&&(kt=kt.replace(/\|/g,"\\$&")),kt}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(Ye){const rt=this.stack[this.stack.length-2];rt.type,rt.checked=Ye.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(Ye){const rt=this.stack[this.stack.length-2];if(rt&&rt.type==="listItem"&&typeof rt.checked=="boolean"){const it=this.stack[this.stack.length-1];it.type;const lt=it.children[0];if(lt&&lt.type==="text"){const ct=rt.children;let ut=-1,ht;for(;++ut<ct.length;){const ft=ct[ut];if(ft.type==="paragraph"){ht=ft;break}}ht===it&&(lt.value=lt.value.slice(1),lt.value.length===0?it.children.shift():it.position&&lt.position&&typeof lt.position.start.offset=="number"&&(lt.position.start.column++,lt.position.start.offset++,it.position.start=Object.assign({},lt.position.start)))}}this.exit(Ye)}function listItemWithTaskListItem(Ye,rt,it,lt){const ct=Ye.children[0],ut=typeof Ye.checked=="boolean"&&ct&&ct.type==="paragraph",ht="["+(Ye.checked?"x":" ")+"] ",ft=it.createTracker(lt);ut&&ft.move(ht);let pt=handle.listItem(Ye,rt,it,{...lt,...ft.current()});return ut&&(pt=pt.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,mt)),pt;function mt(gt){return gt+ht}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(Ye){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(Ye),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(Ye),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(Ye,rt,it){const lt=this;let ct,ut;return ht;function ht(yt){return!gfmAtext(yt)||!previousEmail.call(lt,lt.previous)||previousUnbalanced(lt.events)?it(yt):(Ye.enter("literalAutolink"),Ye.enter("literalAutolinkEmail"),ft(yt))}function ft(yt){return gfmAtext(yt)?(Ye.consume(yt),ft):yt===64?(Ye.consume(yt),pt):it(yt)}function pt(yt){return yt===46?Ye.check(emailDomainDotTrail,gt,mt)(yt):yt===45||yt===95||asciiAlphanumeric(yt)?(ut=!0,Ye.consume(yt),pt):gt(yt)}function mt(yt){return Ye.consume(yt),ct=!0,pt}function gt(yt){return ut&&ct&&asciiAlpha(lt.previous)?(Ye.exit("literalAutolinkEmail"),Ye.exit("literalAutolink"),rt(yt)):it(yt)}}function tokenizeWwwAutolink(Ye,rt,it){const lt=this;return ct;function ct(ht){return ht!==87&&ht!==119||!previousWww.call(lt,lt.previous)||previousUnbalanced(lt.events)?it(ht):(Ye.enter("literalAutolink"),Ye.enter("literalAutolinkWww"),Ye.check(wwwPrefix,Ye.attempt(domain,Ye.attempt(path$1,ut),it),it)(ht))}function ut(ht){return Ye.exit("literalAutolinkWww"),Ye.exit("literalAutolink"),rt(ht)}}function tokenizeProtocolAutolink(Ye,rt,it){const lt=this;let ct="",ut=!1;return ht;function ht(yt){return(yt===72||yt===104)&&previousProtocol.call(lt,lt.previous)&&!previousUnbalanced(lt.events)?(Ye.enter("literalAutolink"),Ye.enter("literalAutolinkHttp"),ct+=String.fromCodePoint(yt),Ye.consume(yt),ft):it(yt)}function ft(yt){if(asciiAlpha(yt)&&ct.length<5)return ct+=String.fromCodePoint(yt),Ye.consume(yt),ft;if(yt===58){const xt=ct.toLowerCase();if(xt==="http"||xt==="https")return Ye.consume(yt),pt}return it(yt)}function pt(yt){return yt===47?(Ye.consume(yt),ut?mt:(ut=!0,pt)):it(yt)}function mt(yt){return yt===null||asciiControl(yt)||markdownLineEndingOrSpace(yt)||unicodeWhitespace(yt)||unicodePunctuation(yt)?it(yt):Ye.attempt(domain,Ye.attempt(path$1,gt),it)(yt)}function gt(yt){return Ye.exit("literalAutolinkHttp"),Ye.exit("literalAutolink"),rt(yt)}}function tokenizeWwwPrefix(Ye,rt,it){let lt=0;return ct;function ct(ht){return(ht===87||ht===119)&&lt<3?(lt++,Ye.consume(ht),ct):ht===46&&lt===3?(Ye.consume(ht),ut):it(ht)}function ut(ht){return ht===null?it(ht):rt(ht)}}function tokenizeDomain(Ye,rt,it){let lt,ct,ut;return ht;function ht(mt){return mt===46||mt===95?Ye.check(trail,pt,ft)(mt):mt===null||markdownLineEndingOrSpace(mt)||unicodeWhitespace(mt)||mt!==45&&unicodePunctuation(mt)?pt(mt):(ut=!0,Ye.consume(mt),ht)}function ft(mt){return mt===95?lt=!0:(ct=lt,lt=void 0),Ye.consume(mt),ht}function pt(mt){return ct||lt||!ut?it(mt):rt(mt)}}function tokenizePath(Ye,rt){let it=0,lt=0;return ct;function ct(ht){return ht===40?(it++,Ye.consume(ht),ct):ht===41&&lt<it?ut(ht):ht===33||ht===34||ht===38||ht===39||ht===41||ht===42||ht===44||ht===46||ht===58||ht===59||ht===60||ht===63||ht===93||ht===95||ht===126?Ye.check(trail,rt,ut)(ht):ht===null||markdownLineEndingOrSpace(ht)||unicodeWhitespace(ht)?rt(ht):(Ye.consume(ht),ct)}function ut(ht){return ht===41&&lt++,Ye.consume(ht),ct}}function tokenizeTrail(Ye,rt,it){return lt;function lt(ft){return ft===33||ft===34||ft===39||ft===41||ft===42||ft===44||ft===46||ft===58||ft===59||ft===63||ft===95||ft===126?(Ye.consume(ft),lt):ft===38?(Ye.consume(ft),ut):ft===93?(Ye.consume(ft),ct):ft===60||ft===null||markdownLineEndingOrSpace(ft)||unicodeWhitespace(ft)?rt(ft):it(ft)}function ct(ft){return ft===null||ft===40||ft===91||markdownLineEndingOrSpace(ft)||unicodeWhitespace(ft)?rt(ft):lt(ft)}function ut(ft){return asciiAlpha(ft)?ht(ft):it(ft)}function ht(ft){return ft===59?(Ye.consume(ft),lt):asciiAlpha(ft)?(Ye.consume(ft),ht):it(ft)}}function tokenizeEmailDomainDotTrail(Ye,rt,it){return lt;function lt(ut){return Ye.consume(ut),ct}function ct(ut){return asciiAlphanumeric(ut)?it(ut):rt(ut)}}function previousWww(Ye){return Ye===null||Ye===40||Ye===42||Ye===95||Ye===91||Ye===93||Ye===126||markdownLineEndingOrSpace(Ye)}function previousProtocol(Ye){return!asciiAlpha(Ye)}function previousEmail(Ye){return!(Ye===47||gfmAtext(Ye))}function gfmAtext(Ye){return Ye===43||Ye===45||Ye===46||Ye===95||asciiAlphanumeric(Ye)}function previousUnbalanced(Ye){let rt=Ye.length,it=!1;for(;rt--;){const lt=Ye[rt][1];if((lt.type==="labelLink"||lt.type==="labelImage")&&!lt._balanced){it=!0;break}if(lt._gfmAutolinkLiteralWalkedInto){it=!1;break}}return Ye.length>0&&!it&&(Ye[Ye.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),it}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(Ye,rt,it){const lt=this;let ct=lt.events.length;const ut=lt.parser.gfmFootnotes||(lt.parser.gfmFootnotes=[]);let ht;for(;ct--;){const pt=lt.events[ct][1];if(pt.type==="labelImage"){ht=pt;break}if(pt.type==="gfmFootnoteCall"||pt.type==="labelLink"||pt.type==="label"||pt.type==="image"||pt.type==="link")break}return ft;function ft(pt){if(!ht||!ht._balanced)return it(pt);const mt=normalizeIdentifier(lt.sliceSerialize({start:ht.end,end:lt.now()}));return mt.codePointAt(0)!==94||!ut.includes(mt.slice(1))?it(pt):(Ye.enter("gfmFootnoteCallLabelMarker"),Ye.consume(pt),Ye.exit("gfmFootnoteCallLabelMarker"),rt(pt))}}function resolveToPotentialGfmFootnoteCall(Ye,rt){let it=Ye.length;for(;it--;)if(Ye[it][1].type==="labelImage"&&Ye[it][0]==="enter"){Ye[it][1];break}Ye[it+1][1].type="data",Ye[it+3][1].type="gfmFootnoteCallLabelMarker";const lt={type:"gfmFootnoteCall",start:Object.assign({},Ye[it+3][1].start),end:Object.assign({},Ye[Ye.length-1][1].end)},ct={type:"gfmFootnoteCallMarker",start:Object.assign({},Ye[it+3][1].end),end:Object.assign({},Ye[it+3][1].end)};ct.end.column++,ct.end.offset++,ct.end._bufferIndex++;const ut={type:"gfmFootnoteCallString",start:Object.assign({},ct.end),end:Object.assign({},Ye[Ye.length-1][1].start)},ht={type:"chunkString",contentType:"string",start:Object.assign({},ut.start),end:Object.assign({},ut.end)},ft=[Ye[it+1],Ye[it+2],["enter",lt,rt],Ye[it+3],Ye[it+4],["enter",ct,rt],["exit",ct,rt],["enter",ut,rt],["enter",ht,rt],["exit",ht,rt],["exit",ut,rt],Ye[Ye.length-2],Ye[Ye.length-1],["exit",lt,rt]];return Ye.splice(it,Ye.length-it+1,...ft),Ye}function tokenizeGfmFootnoteCall(Ye,rt,it){const lt=this,ct=lt.parser.gfmFootnotes||(lt.parser.gfmFootnotes=[]);let ut=0,ht;return ft;function ft(yt){return Ye.enter("gfmFootnoteCall"),Ye.enter("gfmFootnoteCallLabelMarker"),Ye.consume(yt),Ye.exit("gfmFootnoteCallLabelMarker"),pt}function pt(yt){return yt!==94?it(yt):(Ye.enter("gfmFootnoteCallMarker"),Ye.consume(yt),Ye.exit("gfmFootnoteCallMarker"),Ye.enter("gfmFootnoteCallString"),Ye.enter("chunkString").contentType="string",mt)}function mt(yt){if(ut>999||yt===93&&!ht||yt===null||yt===91||markdownLineEndingOrSpace(yt))return it(yt);if(yt===93){Ye.exit("chunkString");const xt=Ye.exit("gfmFootnoteCallString");return ct.includes(normalizeIdentifier(lt.sliceSerialize(xt)))?(Ye.enter("gfmFootnoteCallLabelMarker"),Ye.consume(yt),Ye.exit("gfmFootnoteCallLabelMarker"),Ye.exit("gfmFootnoteCall"),rt):it(yt)}return markdownLineEndingOrSpace(yt)||(ht=!0),ut++,Ye.consume(yt),yt===92?gt:mt}function gt(yt){return yt===91||yt===92||yt===93?(Ye.consume(yt),ut++,mt):mt(yt)}}function tokenizeDefinitionStart(Ye,rt,it){const lt=this,ct=lt.parser.gfmFootnotes||(lt.parser.gfmFootnotes=[]);let ut,ht=0,ft;return pt;function pt(_t){return Ye.enter("gfmFootnoteDefinition")._container=!0,Ye.enter("gfmFootnoteDefinitionLabel"),Ye.enter("gfmFootnoteDefinitionLabelMarker"),Ye.consume(_t),Ye.exit("gfmFootnoteDefinitionLabelMarker"),mt}function mt(_t){return _t===94?(Ye.enter("gfmFootnoteDefinitionMarker"),Ye.consume(_t),Ye.exit("gfmFootnoteDefinitionMarker"),Ye.enter("gfmFootnoteDefinitionLabelString"),Ye.enter("chunkString").contentType="string",gt):it(_t)}function gt(_t){if(ht>999||_t===93&&!ft||_t===null||_t===91||markdownLineEndingOrSpace(_t))return it(_t);if(_t===93){Ye.exit("chunkString");const Ct=Ye.exit("gfmFootnoteDefinitionLabelString");return ut=normalizeIdentifier(lt.sliceSerialize(Ct)),Ye.enter("gfmFootnoteDefinitionLabelMarker"),Ye.consume(_t),Ye.exit("gfmFootnoteDefinitionLabelMarker"),Ye.exit("gfmFootnoteDefinitionLabel"),xt}return markdownLineEndingOrSpace(_t)||(ft=!0),ht++,Ye.consume(_t),_t===92?yt:gt}function yt(_t){return _t===91||_t===92||_t===93?(Ye.consume(_t),ht++,gt):gt(_t)}function xt(_t){return _t===58?(Ye.enter("definitionMarker"),Ye.consume(_t),Ye.exit("definitionMarker"),ct.includes(ut)||ct.push(ut),factorySpace(Ye,bt,"gfmFootnoteDefinitionWhitespace")):it(_t)}function bt(_t){return rt(_t)}}function tokenizeDefinitionContinuation(Ye,rt,it){return Ye.check(blankLine,rt,Ye.attempt(indent,rt,it))}function gfmFootnoteDefinitionEnd(Ye){Ye.exit("gfmFootnoteDefinition")}function tokenizeIndent(Ye,rt,it){const lt=this;return factorySpace(Ye,ct,"gfmFootnoteDefinitionIndent",5);function ct(ut){const ht=lt.events[lt.events.length-1];return ht&&ht[1].type==="gfmFootnoteDefinitionIndent"&&ht[2].sliceSerialize(ht[1],!0).length===4?rt(ut):it(ut)}}function gfmStrikethrough(Ye){let it=(Ye||{}).singleTilde;const lt={name:"strikethrough",tokenize:ut,resolveAll:ct};return it==null&&(it=!0),{text:{126:lt},insideSpan:{null:[lt]},attentionMarkers:{null:[126]}};function ct(ht,ft){let pt=-1;for(;++pt<ht.length;)if(ht[pt][0]==="enter"&&ht[pt][1].type==="strikethroughSequenceTemporary"&&ht[pt][1]._close){let mt=pt;for(;mt--;)if(ht[mt][0]==="exit"&&ht[mt][1].type==="strikethroughSequenceTemporary"&&ht[mt][1]._open&&ht[pt][1].end.offset-ht[pt][1].start.offset===ht[mt][1].end.offset-ht[mt][1].start.offset){ht[pt][1].type="strikethroughSequence",ht[mt][1].type="strikethroughSequence";const gt={type:"strikethrough",start:Object.assign({},ht[mt][1].start),end:Object.assign({},ht[pt][1].end)},yt={type:"strikethroughText",start:Object.assign({},ht[mt][1].end),end:Object.assign({},ht[pt][1].start)},xt=[["enter",gt,ft],["enter",ht[mt][1],ft],["exit",ht[mt][1],ft],["enter",yt,ft]],bt=ft.parser.constructs.insideSpan.null;bt&&splice$4(xt,xt.length,0,resolveAll(bt,ht.slice(mt+1,pt),ft)),splice$4(xt,xt.length,0,[["exit",yt,ft],["enter",ht[pt][1],ft],["exit",ht[pt][1],ft],["exit",gt,ft]]),splice$4(ht,mt-1,pt-mt+3,xt),pt=mt+xt.length-2;break}}for(pt=-1;++pt<ht.length;)ht[pt][1].type==="strikethroughSequenceTemporary"&&(ht[pt][1].type="data");return ht}function ut(ht,ft,pt){const mt=this.previous,gt=this.events;let yt=0;return xt;function xt(_t){return mt===126&&gt[gt.length-1][1].type!=="characterEscape"?pt(_t):(ht.enter("strikethroughSequenceTemporary"),bt(_t))}function bt(_t){const Ct=classifyCharacter(mt);if(_t===126)return yt>1?pt(_t):(ht.consume(_t),yt++,bt);if(yt<2&&!it)return pt(_t);const kt=ht.exit("strikethroughSequenceTemporary"),St=classifyCharacter(_t);return kt._open=!St||St===2&&!!Ct,kt._close=!Ct||Ct===2&&!!St,ft(_t)}}}class EditMap{constructor(){this.map=[]}add(rt,it,lt){addImplementation(this,rt,it,lt)}consume(rt){if(this.map.sort(function(ut,ht){return ut[0]-ht[0]}),this.map.length===0)return;let it=this.map.length;const lt=[];for(;it>0;)it-=1,lt.push(rt.slice(this.map[it][0]+this.map[it][1]),this.map[it][2]),rt.length=this.map[it][0];lt.push(rt.slice()),rt.length=0;let ct=lt.pop();for(;ct;){for(const ut of ct)rt.push(ut);ct=lt.pop()}this.map.length=0}}function addImplementation(Ye,rt,it,lt){let ct=0;if(!(it===0&&lt.length===0)){for(;ct<Ye.map.length;){if(Ye.map[ct][0]===rt){Ye.map[ct][1]+=it,Ye.map[ct][2].push(...lt);return}ct+=1}Ye.map.push([rt,it,lt])}}function gfmTableAlign(Ye,rt){let it=!1;const lt=[];for(;rt<Ye.length;){const ct=Ye[rt];if(it){if(ct[0]==="enter")ct[1].type==="tableContent"&&lt.push(Ye[rt+1][1].type==="tableDelimiterMarker"?"left":"none");else if(ct[1].type==="tableContent"){if(Ye[rt-1][1].type==="tableDelimiterMarker"){const ut=lt.length-1;lt[ut]=lt[ut]==="left"?"center":"right"}}else if(ct[1].type==="tableDelimiterRow")break}else ct[0]==="enter"&&ct[1].type==="tableDelimiterRow"&&(it=!0);rt+=1}return lt}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(Ye,rt,it){const lt=this;let ct=0,ut=0,ht;return ft;function ft(Ut){let Wt=lt.events.length-1;for(;Wt>-1;){const Zt=lt.events[Wt][1].type;if(Zt==="lineEnding"||Zt==="linePrefix")Wt--;else break}const Kt=Wt>-1?lt.events[Wt][1].type:null,Qt=Kt==="tableHead"||Kt==="tableRow"?It:pt;return Qt===It&&lt.parser.lazy[lt.now().line]?it(Ut):Qt(Ut)}function pt(Ut){return Ye.enter("tableHead"),Ye.enter("tableRow"),mt(Ut)}function mt(Ut){return Ut===124||(ht=!0,ut+=1),gt(Ut)}function gt(Ut){return Ut===null?it(Ut):markdownLineEnding(Ut)?ut>1?(ut=0,lt.interrupt=!0,Ye.exit("tableRow"),Ye.enter("lineEnding"),Ye.consume(Ut),Ye.exit("lineEnding"),bt):it(Ut):markdownSpace(Ut)?factorySpace(Ye,gt,"whitespace")(Ut):(ut+=1,ht&&(ht=!1,ct+=1),Ut===124?(Ye.enter("tableCellDivider"),Ye.consume(Ut),Ye.exit("tableCellDivider"),ht=!0,gt):(Ye.enter("data"),yt(Ut)))}function yt(Ut){return Ut===null||Ut===124||markdownLineEndingOrSpace(Ut)?(Ye.exit("data"),gt(Ut)):(Ye.consume(Ut),Ut===92?xt:yt)}function xt(Ut){return Ut===92||Ut===124?(Ye.consume(Ut),yt):yt(Ut)}function bt(Ut){return lt.interrupt=!1,lt.parser.lazy[lt.now().line]?it(Ut):(Ye.enter("tableDelimiterRow"),ht=!1,markdownSpace(Ut)?factorySpace(Ye,_t,"linePrefix",lt.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ut):_t(Ut))}function _t(Ut){return Ut===45||Ut===58?kt(Ut):Ut===124?(ht=!0,Ye.enter("tableCellDivider"),Ye.consume(Ut),Ye.exit("tableCellDivider"),Ct):Pt(Ut)}function Ct(Ut){return markdownSpace(Ut)?factorySpace(Ye,kt,"whitespace")(Ut):kt(Ut)}function kt(Ut){return Ut===58?(ut+=1,ht=!0,Ye.enter("tableDelimiterMarker"),Ye.consume(Ut),Ye.exit("tableDelimiterMarker"),St):Ut===45?(ut+=1,St(Ut)):Ut===null||markdownLineEnding(Ut)?Mt(Ut):Pt(Ut)}function St(Ut){return Ut===45?(Ye.enter("tableDelimiterFiller"),Rt(Ut)):Pt(Ut)}function Rt(Ut){return Ut===45?(Ye.consume(Ut),Rt):Ut===58?(ht=!0,Ye.exit("tableDelimiterFiller"),Ye.enter("tableDelimiterMarker"),Ye.consume(Ut),Ye.exit("tableDelimiterMarker"),Tt):(Ye.exit("tableDelimiterFiller"),Tt(Ut))}function Tt(Ut){return markdownSpace(Ut)?factorySpace(Ye,Mt,"whitespace")(Ut):Mt(Ut)}function Mt(Ut){return Ut===124?_t(Ut):Ut===null||markdownLineEnding(Ut)?!ht||ct!==ut?Pt(Ut):(Ye.exit("tableDelimiterRow"),Ye.exit("tableHead"),rt(Ut)):Pt(Ut)}function Pt(Ut){return it(Ut)}function It(Ut){return Ye.enter("tableRow"),Lt(Ut)}function Lt(Ut){return Ut===124?(Ye.enter("tableCellDivider"),Ye.consume(Ut),Ye.exit("tableCellDivider"),Lt):Ut===null||markdownLineEnding(Ut)?(Ye.exit("tableRow"),rt(Ut)):markdownSpace(Ut)?factorySpace(Ye,Lt,"whitespace")(Ut):(Ye.enter("data"),Ot(Ut))}function Ot(Ut){return Ut===null||Ut===124||markdownLineEndingOrSpace(Ut)?(Ye.exit("data"),Lt(Ut)):(Ye.consume(Ut),Ut===92?Ft:Ot)}function Ft(Ut){return Ut===92||Ut===124?(Ye.consume(Ut),Ot):Ot(Ut)}}function resolveTable(Ye,rt){let it=-1,lt=!0,ct=0,ut=[0,0,0,0],ht=[0,0,0,0],ft=!1,pt=0,mt,gt,yt;const xt=new EditMap;for(;++it<Ye.length;){const bt=Ye[it],_t=bt[1];bt[0]==="enter"?_t.type==="tableHead"?(ft=!1,pt!==0&&(flushTableEnd(xt,rt,pt,mt,gt),gt=void 0,pt=0),mt={type:"table",start:Object.assign({},_t.start),end:Object.assign({},_t.end)},xt.add(it,0,[["enter",mt,rt]])):_t.type==="tableRow"||_t.type==="tableDelimiterRow"?(lt=!0,yt=void 0,ut=[0,0,0,0],ht=[0,it+1,0,0],ft&&(ft=!1,gt={type:"tableBody",start:Object.assign({},_t.start),end:Object.assign({},_t.end)},xt.add(it,0,[["enter",gt,rt]])),ct=_t.type==="tableDelimiterRow"?2:gt?3:1):ct&&(_t.type==="data"||_t.type==="tableDelimiterMarker"||_t.type==="tableDelimiterFiller")?(lt=!1,ht[2]===0&&(ut[1]!==0&&(ht[0]=ht[1],yt=flushCell(xt,rt,ut,ct,void 0,yt),ut=[0,0,0,0]),ht[2]=it)):_t.type==="tableCellDivider"&&(lt?lt=!1:(ut[1]!==0&&(ht[0]=ht[1],yt=flushCell(xt,rt,ut,ct,void 0,yt)),ut=ht,ht=[ut[1],it,0,0])):_t.type==="tableHead"?(ft=!0,pt=it):_t.type==="tableRow"||_t.type==="tableDelimiterRow"?(pt=it,ut[1]!==0?(ht[0]=ht[1],yt=flushCell(xt,rt,ut,ct,it,yt)):ht[1]!==0&&(yt=flushCell(xt,rt,ht,ct,it,yt)),ct=0):ct&&(_t.type==="data"||_t.type==="tableDelimiterMarker"||_t.type==="tableDelimiterFiller")&&(ht[3]=it)}for(pt!==0&&flushTableEnd(xt,rt,pt,mt,gt),xt.consume(rt.events),it=-1;++it<rt.events.length;){const bt=rt.events[it];bt[0]==="enter"&&bt[1].type==="table"&&(bt[1]._align=gfmTableAlign(rt.events,it))}return Ye}function flushCell(Ye,rt,it,lt,ct,ut){const ht=lt===1?"tableHeader":lt===2?"tableDelimiter":"tableData",ft="tableContent";it[0]!==0&&(ut.end=Object.assign({},getPoint(rt.events,it[0])),Ye.add(it[0],0,[["exit",ut,rt]]));const pt=getPoint(rt.events,it[1]);if(ut={type:ht,start:Object.assign({},pt),end:Object.assign({},pt)},Ye.add(it[1],0,[["enter",ut,rt]]),it[2]!==0){const mt=getPoint(rt.events,it[2]),gt=getPoint(rt.events,it[3]),yt={type:ft,start:Object.assign({},mt),end:Object.assign({},gt)};if(Ye.add(it[2],0,[["enter",yt,rt]]),lt!==2){const xt=rt.events[it[2]],bt=rt.events[it[3]];if(xt[1].end=Object.assign({},bt[1].end),xt[1].type="chunkText",xt[1].contentType="text",it[3]>it[2]+1){const _t=it[2]+1,Ct=it[3]-it[2]-1;Ye.add(_t,Ct,[])}}Ye.add(it[3]+1,0,[["exit",yt,rt]])}return ct!==void 0&&(ut.end=Object.assign({},getPoint(rt.events,ct)),Ye.add(ct,0,[["exit",ut,rt]]),ut=void 0),ut}function flushTableEnd(Ye,rt,it,lt,ct){const ut=[],ht=getPoint(rt.events,it);ct&&(ct.end=Object.assign({},ht),ut.push(["exit",ct,rt])),lt.end=Object.assign({},ht),ut.push(["exit",lt,rt]),Ye.add(it+1,0,ut)}function getPoint(Ye,rt){const it=Ye[rt],lt=it[0]==="enter"?"start":"end";return it[1][lt]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(Ye,rt,it){const lt=this;return ct;function ct(pt){return lt.previous!==null||!lt._gfmTasklistFirstContentOfListItem?it(pt):(Ye.enter("taskListCheck"),Ye.enter("taskListCheckMarker"),Ye.consume(pt),Ye.exit("taskListCheckMarker"),ut)}function ut(pt){return markdownLineEndingOrSpace(pt)?(Ye.enter("taskListCheckValueUnchecked"),Ye.consume(pt),Ye.exit("taskListCheckValueUnchecked"),ht):pt===88||pt===120?(Ye.enter("taskListCheckValueChecked"),Ye.consume(pt),Ye.exit("taskListCheckValueChecked"),ht):it(pt)}function ht(pt){return pt===93?(Ye.enter("taskListCheckMarker"),Ye.consume(pt),Ye.exit("taskListCheckMarker"),Ye.exit("taskListCheck"),ft):it(pt)}function ft(pt){return markdownLineEnding(pt)?rt(pt):markdownSpace(pt)?Ye.check({tokenize:spaceThenNonSpace},rt,it)(pt):it(pt)}}function spaceThenNonSpace(Ye,rt,it){return factorySpace(Ye,lt,"whitespace");function lt(ct){return ct===null?it(ct):rt(ct)}}function gfm(Ye){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(Ye),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(Ye){const rt=this,it=Ye||emptyOptions,lt=rt.data(),ct=lt.micromarkExtensions||(lt.micromarkExtensions=[]),ut=lt.fromMarkdownExtensions||(lt.fromMarkdownExtensions=[]),ht=lt.toMarkdownExtensions||(lt.toMarkdownExtensions=[]);ct.push(gfm(it)),ut.push(gfmFromMarkdown()),ht.push(gfmToMarkdown(it))}const baseHeadingStyle="font-semibold";function FileReferenceButton({className:Ye,title:rt,children:it,path:lt,line:ct,column:ut}){const ht=useMutationFromVSCode("open-file"),ft=()=>{ht.mutate({path:lt,line:ct,column:ut??1})},pt=mt=>{(mt.key==="Enter"||mt.key===" ")&&(mt.preventDefault(),ft())};return jsxRuntimeExports.jsx("span",{role:"link",tabIndex:0,title:rt??lt,className:Ye,onClick:ft,onKeyDown:pt,children:it})}const generateComponents=Ye=>{const rt=`${Ye}`,it={code({className:lt,children:ct,...ut}){const ht=ct;if(ut.inline){if(isFileReference(ht??"")){const mt=parseFileReference(ht??""),{path:gt,line:yt,column:xt}=mt,bt=formatFileReferenceLabel(mt);return jsxRuntimeExports.jsx(FileReferenceButton,{title:bt,className:clsx(rt,"text-token-text-link-foreground hover:bg-token-foreground/3 cursor-interaction inline whitespace-pre-wrap break-all rounded-md px-1 text-start hover:underline",lt),path:gt,line:yt,column:xt,children:bt})}return jsxRuntimeExports.jsx("span",{className:clsx(rt,"bg-token-foreground/10 rounded-sm px-1"),children:ct})}const pt=lt?.split(" ").find(mt=>mt.startsWith("language-"))?.split("-")[1];return pt==="mermaid"?jsxRuntimeExports.jsx(MermaidDiagram,{code:ht??"",fallback:jsxRuntimeExports.jsx(CodeSnippet,{wrapperClassName:"my-2",content:ht??"",language:pt})}):jsxRuntimeExports.jsx(CodeSnippet,{wrapperClassName:"my-2",content:ht,language:pt,...ut})},pre({children:lt}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lt})},p({children:lt}){return jsxRuntimeExports.jsx("p",{className:rt,children:lt})},h1({children:lt}){return jsxRuntimeExports.jsx("h1",{className:clsx(baseHeadingStyle,"text-md mb-1 mt-3 leading-snug"),children:lt})},h2({children:lt}){return jsxRuntimeExports.jsx("h2",{className:clsx(baseHeadingStyle,"mb-1 mt-1.5 text-sm leading-snug"),children:lt})},h3({children:lt}){return jsxRuntimeExports.jsx("h3",{className:clsx(baseHeadingStyle,"mb-1 mt-2 text-base leading-snug"),children:lt})},ul({children:lt}){return jsxRuntimeExports.jsx("ul",{className:clsx(rt,"my-3 ml-4 list-disc"),children:lt})},ol({children:lt}){return jsxRuntimeExports.jsx("ol",{className:clsx(rt,"my-3 ml-4 list-decimal"),children:lt})},li({children:lt}){return jsxRuntimeExports.jsx("li",{className:clsx(rt,"mb-2"),children:lt})},a({href:lt,children:ct}){if(lt&&isFileReference(lt)){const ut=parseFileReference(lt),{path:ht,line:ft,column:pt}=ut,mt=formatFileReferenceLabel(ut),gt=`@${mt}`;return jsxRuntimeExports.jsx(FileReferenceButton,{title:mt,className:clsx(rt,"text-token-text-link-foreground hover:bg-token-foreground/10 inline whitespace-pre-wrap break-all rounded-sm px-1 hover:underline"),path:ht,line:ft,column:pt,children:gt})}return jsxRuntimeExports.jsx("a",{href:lt,className:"text-token-text-link-foreground hover:underline",target:"_blank",rel:"noopener noreferrer",children:ct})},blockquote({children:lt}){return jsxRuntimeExports.jsx("blockquote",{className:clsx(rt,"my-3 border-l-2 border-gray-300 pl-4 italic"),children:lt})},hr(){return jsxRuntimeExports.jsx("hr",{className:"my-4 border-t border-gray-300"})},table({children:lt}){return jsxRuntimeExports.jsx("table",{className:clsx(rt,"my-3 w-full border-collapse"),children:lt})},thead({children:lt}){return jsxRuntimeExports.jsx("thead",{className:"bg-gray-800",children:lt})},tbody({children:lt}){return jsxRuntimeExports.jsx("tbody",{children:lt})},tr({children:lt}){return jsxRuntimeExports.jsx("tr",{className:"border-b border-gray-200",children:lt})},th({children:lt}){return jsxRuntimeExports.jsx("th",{className:"p-2 text-left font-semibold",children:lt})},td({children:lt}){return jsxRuntimeExports.jsx("td",{className:"p-2",children:lt})}};return it[WHAM_TASK_STUB_DIRECTIVE_NAME]=ProposedTaskDirectiveRenderer,it},Markdown=reactExports.memo(function Ye({children:rt,id:it,className:lt,components:ct,textSize:ut="text-sm"}){const ht=reactExports.useId(),ft=it??ht,pt=reactExports.useMemo(()=>generateComponents(ut),[ut]);return jsxRuntimeExports.jsx("div",{className:lt,children:jsxRuntimeExports.jsx(Markdown$1,{rehypePlugins:[rehypeInlineCodeProperty],remarkPlugins:[remarkGfm,remarkBreaks,remarkPreserveWindowsPaths,remarkDirective,codexRemarkDirective,fallbackDirective],components:{...pt,...ct},children:rt},`${ft}-block`)})});Markdown.displayName="Markdown";function setMetaTag(Ye,rt){try{var it=global,lt=it.document;if(typeof lt<"u"&&lt.createElement&&lt.head&&lt.head.appendChild){var ct=lt.querySelector('html meta[name="'.concat(encodeURI(Ye),'"]'))||lt.createElement("meta");ct.setAttribute("name",Ye),ct.setAttribute("content",rt),lt.head.appendChild(ct)}}catch{}}function addVersionToMetaTag(){setMetaTag("react-scroll-to-bottom:version","4.2.0")}var es_array_isArray={},globalThis_1,hasRequiredGlobalThis;function requireGlobalThis(){if(hasRequiredGlobalThis)return globalThis_1;hasRequiredGlobalThis=1;var Ye=function(rt){return rt&&rt.Math===Math&&rt};return globalThis_1=Ye(typeof globalThis=="object"&&globalThis)||Ye(typeof window=="object"&&window)||Ye(typeof self=="object"&&self)||Ye(typeof commonjsGlobal=="object"&&commonjsGlobal)||Ye(typeof globalThis_1=="object"&&globalThis_1)||(function(){return this})()||Function("return this")(),globalThis_1}var fails$1,hasRequiredFails$1;function requireFails$1(){return hasRequiredFails$1||(hasRequiredFails$1=1,fails$1=function(Ye){try{return!!Ye()}catch{return!0}}),fails$1}var functionBindNative,hasRequiredFunctionBindNative;function requireFunctionBindNative(){if(hasRequiredFunctionBindNative)return functionBindNative;hasRequiredFunctionBindNative=1;var Ye=requireFails$1();return functionBindNative=!Ye(function(){var rt=(function(){}).bind();return typeof rt!="function"||rt.hasOwnProperty("prototype")}),functionBindNative}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){if(hasRequiredFunctionApply)return functionApply;hasRequiredFunctionApply=1;var Ye=requireFunctionBindNative(),rt=Function.prototype,it=rt.apply,lt=rt.call;return functionApply=typeof Reflect=="object"&&Reflect.apply||(Ye?lt.bind(it):function(){return lt.apply(it,arguments)}),functionApply}var functionUncurryThis,hasRequiredFunctionUncurryThis;function requireFunctionUncurryThis(){if(hasRequiredFunctionUncurryThis)return functionUncurryThis;hasRequiredFunctionUncurryThis=1;var Ye=requireFunctionBindNative(),rt=Function.prototype,it=rt.call,lt=Ye&&rt.bind.bind(it,it);return functionUncurryThis=Ye?lt:function(ct){return function(){return it.apply(ct,arguments)}},functionUncurryThis}var classofRaw$1,hasRequiredClassofRaw$1;function requireClassofRaw$1(){if(hasRequiredClassofRaw$1)return classofRaw$1;hasRequiredClassofRaw$1=1;var Ye=requireFunctionUncurryThis(),rt=Ye({}.toString),it=Ye("".slice);return classofRaw$1=function(lt){return it(rt(lt),8,-1)},classofRaw$1}var functionUncurryThisClause,hasRequiredFunctionUncurryThisClause;function requireFunctionUncurryThisClause(){if(hasRequiredFunctionUncurryThisClause)return functionUncurryThisClause;hasRequiredFunctionUncurryThisClause=1;var Ye=requireClassofRaw$1(),rt=requireFunctionUncurryThis();return functionUncurryThisClause=function(it){if(Ye(it)==="Function")return rt(it)},functionUncurryThisClause}var isCallable$1,hasRequiredIsCallable$1;function requireIsCallable$1(){if(hasRequiredIsCallable$1)return isCallable$1;hasRequiredIsCallable$1=1;var Ye=typeof document=="object"&&document.all;return isCallable$1=typeof Ye>"u"&&Ye!==void 0?function(rt){return typeof rt=="function"||rt===Ye}:function(rt){return typeof rt=="function"},isCallable$1}var objectGetOwnPropertyDescriptor$1={},descriptors$1,hasRequiredDescriptors$1;function requireDescriptors$1(){if(hasRequiredDescriptors$1)return descriptors$1;hasRequiredDescriptors$1=1;var Ye=requireFails$1();return descriptors$1=!Ye(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),descriptors$1}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){if(hasRequiredFunctionCall)return functionCall;hasRequiredFunctionCall=1;var Ye=requireFunctionBindNative(),rt=Function.prototype.call;return functionCall=Ye?rt.bind(rt):function(){return rt.apply(rt,arguments)},functionCall}var objectPropertyIsEnumerable$1={},hasRequiredObjectPropertyIsEnumerable$1;function requireObjectPropertyIsEnumerable$1(){if(hasRequiredObjectPropertyIsEnumerable$1)return objectPropertyIsEnumerable$1;hasRequiredObjectPropertyIsEnumerable$1=1;var Ye={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,it=rt&&!Ye.call({1:2},1);return objectPropertyIsEnumerable$1.f=it?function(ct){var ut=rt(this,ct);return!!ut&&ut.enumerable}:Ye,objectPropertyIsEnumerable$1}var createPropertyDescriptor$1,hasRequiredCreatePropertyDescriptor$1;function requireCreatePropertyDescriptor$1(){return hasRequiredCreatePropertyDescriptor$1||(hasRequiredCreatePropertyDescriptor$1=1,createPropertyDescriptor$1=function(Ye,rt){return{enumerable:!(Ye&1),configurable:!(Ye&2),writable:!(Ye&4),value:rt}}),createPropertyDescriptor$1}var indexedObject$1,hasRequiredIndexedObject$1;function requireIndexedObject$1(){if(hasRequiredIndexedObject$1)return indexedObject$1;hasRequiredIndexedObject$1=1;var Ye=requireFunctionUncurryThis(),rt=requireFails$1(),it=requireClassofRaw$1(),lt=Object,ct=Ye("".split);return indexedObject$1=rt(function(){return!lt("z").propertyIsEnumerable(0)})?function(ut){return it(ut)==="String"?ct(ut,""):lt(ut)}:lt,indexedObject$1}var isNullOrUndefined,hasRequiredIsNullOrUndefined;function requireIsNullOrUndefined(){return hasRequiredIsNullOrUndefined||(hasRequiredIsNullOrUndefined=1,isNullOrUndefined=function(Ye){return Ye==null}),isNullOrUndefined}var requireObjectCoercible$1,hasRequiredRequireObjectCoercible$1;function requireRequireObjectCoercible$1(){if(hasRequiredRequireObjectCoercible$1)return requireObjectCoercible$1;hasRequiredRequireObjectCoercible$1=1;var Ye=requireIsNullOrUndefined(),rt=TypeError;return requireObjectCoercible$1=function(it){if(Ye(it))throw new rt("Can't call method on "+it);return it},requireObjectCoercible$1}var toIndexedObject$1,hasRequiredToIndexedObject$1;function requireToIndexedObject$1(){if(hasRequiredToIndexedObject$1)return toIndexedObject$1;hasRequiredToIndexedObject$1=1;var Ye=requireIndexedObject$1(),rt=requireRequireObjectCoercible$1();return toIndexedObject$1=function(it){return Ye(rt(it))},toIndexedObject$1}var isObject$1,hasRequiredIsObject$1;function requireIsObject$1(){if(hasRequiredIsObject$1)return isObject$1;hasRequiredIsObject$1=1;var Ye=requireIsCallable$1();return isObject$1=function(rt){return typeof rt=="object"?rt!==null:Ye(rt)},isObject$1}var path,hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,path={}),path}var getBuiltIn$1,hasRequiredGetBuiltIn$1;function requireGetBuiltIn$1(){if(hasRequiredGetBuiltIn$1)return getBuiltIn$1;hasRequiredGetBuiltIn$1=1;var Ye=requirePath(),rt=requireGlobalThis(),it=requireIsCallable$1(),lt=function(ct){return it(ct)?ct:void 0};return getBuiltIn$1=function(ct,ut){return arguments.length<2?lt(Ye[ct])||lt(rt[ct]):Ye[ct]&&Ye[ct][ut]||rt[ct]&&rt[ct][ut]},getBuiltIn$1}var objectIsPrototypeOf,hasRequiredObjectIsPrototypeOf;function requireObjectIsPrototypeOf(){if(hasRequiredObjectIsPrototypeOf)return objectIsPrototypeOf;hasRequiredObjectIsPrototypeOf=1;var Ye=requireFunctionUncurryThis();return objectIsPrototypeOf=Ye({}.isPrototypeOf),objectIsPrototypeOf}var environmentUserAgent,hasRequiredEnvironmentUserAgent;function requireEnvironmentUserAgent(){if(hasRequiredEnvironmentUserAgent)return environmentUserAgent;hasRequiredEnvironmentUserAgent=1;var Ye=requireGlobalThis(),rt=Ye.navigator,it=rt&&rt.userAgent;return environmentUserAgent=it?String(it):"",environmentUserAgent}var environmentV8Version,hasRequiredEnvironmentV8Version;function requireEnvironmentV8Version(){if(hasRequiredEnvironmentV8Version)return environmentV8Version;hasRequiredEnvironmentV8Version=1;var Ye=requireGlobalThis(),rt=requireEnvironmentUserAgent(),it=Ye.process,lt=Ye.Deno,ct=it&&it.versions||lt&&lt.version,ut=ct&&ct.v8,ht,ft;return ut&&(ht=ut.split("."),ft=ht[0]>0&&ht[0]<4?1:+(ht[0]+ht[1])),!ft&&rt&&(ht=rt.match(/Edge\/(\d+)/),(!ht||ht[1]>=74)&&(ht=rt.match(/Chrome\/(\d+)/),ht&&(ft=+ht[1]))),environmentV8Version=ft,environmentV8Version}var symbolConstructorDetection,hasRequiredSymbolConstructorDetection;function requireSymbolConstructorDetection(){if(hasRequiredSymbolConstructorDetection)return symbolConstructorDetection;hasRequiredSymbolConstructorDetection=1;var Ye=requireEnvironmentV8Version(),rt=requireFails$1(),it=requireGlobalThis(),lt=it.String;return symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!rt(function(){var ct=Symbol("symbol detection");return!lt(ct)||!(Object(ct)instanceof Symbol)||!Symbol.sham&&Ye&&Ye<41}),symbolConstructorDetection}var useSymbolAsUid$1,hasRequiredUseSymbolAsUid$1;function requireUseSymbolAsUid$1(){if(hasRequiredUseSymbolAsUid$1)return useSymbolAsUid$1;hasRequiredUseSymbolAsUid$1=1;var Ye=requireSymbolConstructorDetection();return useSymbolAsUid$1=Ye&&!Symbol.sham&&typeof Symbol.iterator=="symbol",useSymbolAsUid$1}var isSymbol$1,hasRequiredIsSymbol$1;function requireIsSymbol$1(){if(hasRequiredIsSymbol$1)return isSymbol$1;hasRequiredIsSymbol$1=1;var Ye=requireGetBuiltIn$1(),rt=requireIsCallable$1(),it=requireObjectIsPrototypeOf(),lt=requireUseSymbolAsUid$1(),ct=Object;return isSymbol$1=lt?function(ut){return typeof ut=="symbol"}:function(ut){var ht=Ye("Symbol");return rt(ht)&&it(ht.prototype,ct(ut))},isSymbol$1}var tryToString$1,hasRequiredTryToString$1;function requireTryToString$1(){if(hasRequiredTryToString$1)return tryToString$1;hasRequiredTryToString$1=1;var Ye=String;return tryToString$1=function(rt){try{return Ye(rt)}catch{return"Object"}},tryToString$1}var aCallable$1,hasRequiredACallable$1;function requireACallable$1(){if(hasRequiredACallable$1)return aCallable$1;hasRequiredACallable$1=1;var Ye=requireIsCallable$1(),rt=requireTryToString$1(),it=TypeError;return aCallable$1=function(lt){if(Ye(lt))return lt;throw new it(rt(lt)+" is not a function")},aCallable$1}var getMethod$1,hasRequiredGetMethod$1;function requireGetMethod$1(){if(hasRequiredGetMethod$1)return getMethod$1;hasRequiredGetMethod$1=1;var Ye=requireACallable$1(),rt=requireIsNullOrUndefined();return getMethod$1=function(it,lt){var ct=it[lt];return rt(ct)?void 0:Ye(ct)},getMethod$1}var ordinaryToPrimitive$1,hasRequiredOrdinaryToPrimitive$1;function requireOrdinaryToPrimitive$1(){if(hasRequiredOrdinaryToPrimitive$1)return ordinaryToPrimitive$1;hasRequiredOrdinaryToPrimitive$1=1;var Ye=requireFunctionCall(),rt=requireIsCallable$1(),it=requireIsObject$1(),lt=TypeError;return ordinaryToPrimitive$1=function(ct,ut){var ht,ft;if(ut==="string"&&rt(ht=ct.toString)&&!it(ft=Ye(ht,ct))||rt(ht=ct.valueOf)&&!it(ft=Ye(ht,ct))||ut!=="string"&&rt(ht=ct.toString)&&!it(ft=Ye(ht,ct)))return ft;throw new lt("Can't convert object to primitive value")},ordinaryToPrimitive$1}var sharedStore$1={exports:{}},isPure$1,hasRequiredIsPure$1;function requireIsPure$1(){return hasRequiredIsPure$1||(hasRequiredIsPure$1=1,isPure$1=!0),isPure$1}var defineGlobalProperty,hasRequiredDefineGlobalProperty;function requireDefineGlobalProperty(){if(hasRequiredDefineGlobalProperty)return defineGlobalProperty;hasRequiredDefineGlobalProperty=1;var Ye=requireGlobalThis(),rt=Object.defineProperty;return defineGlobalProperty=function(it,lt){try{rt(Ye,it,{value:lt,configurable:!0,writable:!0})}catch{Ye[it]=lt}return lt},defineGlobalProperty}var hasRequiredSharedStore$1;function requireSharedStore$1(){if(hasRequiredSharedStore$1)return sharedStore$1.exports;hasRequiredSharedStore$1=1;var Ye=requireIsPure$1(),rt=requireGlobalThis(),it=requireDefineGlobalProperty(),lt="__core-js_shared__",ct=sharedStore$1.exports=rt[lt]||it(lt,{});return(ct.versions||(ct.versions=[])).push({version:"3.44.0",mode:Ye?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),sharedStore$1.exports}var shared$1,hasRequiredShared$1;function requireShared$1(){if(hasRequiredShared$1)return shared$1;hasRequiredShared$1=1;var Ye=requireSharedStore$1();return shared$1=function(rt,it){return Ye[rt]||(Ye[rt]=it||{})},shared$1}var toObject$1,hasRequiredToObject$1;function requireToObject$1(){if(hasRequiredToObject$1)return toObject$1;hasRequiredToObject$1=1;var Ye=requireRequireObjectCoercible$1(),rt=Object;return toObject$1=function(it){return rt(Ye(it))},toObject$1}var hasOwnProperty_1$1,hasRequiredHasOwnProperty$1;function requireHasOwnProperty$1(){if(hasRequiredHasOwnProperty$1)return hasOwnProperty_1$1;hasRequiredHasOwnProperty$1=1;var Ye=requireFunctionUncurryThis(),rt=requireToObject$1(),it=Ye({}.hasOwnProperty);return hasOwnProperty_1$1=Object.hasOwn||function(ct,ut){return it(rt(ct),ut)},hasOwnProperty_1$1}var uid$1,hasRequiredUid$1;function requireUid$1(){if(hasRequiredUid$1)return uid$1;hasRequiredUid$1=1;var Ye=requireFunctionUncurryThis(),rt=0,it=Math.random(),lt=Ye(1.1.toString);return uid$1=function(ct){return"Symbol("+(ct===void 0?"":ct)+")_"+lt(++rt+it,36)},uid$1}var wellKnownSymbol$1,hasRequiredWellKnownSymbol$1;function requireWellKnownSymbol$1(){if(hasRequiredWellKnownSymbol$1)return wellKnownSymbol$1;hasRequiredWellKnownSymbol$1=1;var Ye=requireGlobalThis(),rt=requireShared$1(),it=requireHasOwnProperty$1(),lt=requireUid$1(),ct=requireSymbolConstructorDetection(),ut=requireUseSymbolAsUid$1(),ht=Ye.Symbol,ft=rt("wks"),pt=ut?ht.for||ht:ht&&ht.withoutSetter||lt;return wellKnownSymbol$1=function(mt){return it(ft,mt)||(ft[mt]=ct&&it(ht,mt)?ht[mt]:pt("Symbol."+mt)),ft[mt]},wellKnownSymbol$1}var toPrimitive$7,hasRequiredToPrimitive$6;function requireToPrimitive$6(){if(hasRequiredToPrimitive$6)return toPrimitive$7;hasRequiredToPrimitive$6=1;var Ye=requireFunctionCall(),rt=requireIsObject$1(),it=requireIsSymbol$1(),lt=requireGetMethod$1(),ct=requireOrdinaryToPrimitive$1(),ut=requireWellKnownSymbol$1(),ht=TypeError,ft=ut("toPrimitive");return toPrimitive$7=function(pt,mt){if(!rt(pt)||it(pt))return pt;var gt=lt(pt,ft),yt;if(gt){if(mt===void 0&&(mt="default"),yt=Ye(gt,pt,mt),!rt(yt)||it(yt))return yt;throw new ht("Can't convert object to primitive value")}return mt===void 0&&(mt="number"),ct(pt,mt)},toPrimitive$7}var toPropertyKey$2,hasRequiredToPropertyKey$1;function requireToPropertyKey$1(){if(hasRequiredToPropertyKey$1)return toPropertyKey$2;hasRequiredToPropertyKey$1=1;var Ye=requireToPrimitive$6(),rt=requireIsSymbol$1();return toPropertyKey$2=function(it){var lt=Ye(it,"string");return rt(lt)?lt:lt+""},toPropertyKey$2}var documentCreateElement$1,hasRequiredDocumentCreateElement$1;function requireDocumentCreateElement$1(){if(hasRequiredDocumentCreateElement$1)return documentCreateElement$1;hasRequiredDocumentCreateElement$1=1;var Ye=requireGlobalThis(),rt=requireIsObject$1(),it=Ye.document,lt=rt(it)&&rt(it.createElement);return documentCreateElement$1=function(ct){return lt?it.createElement(ct):{}},documentCreateElement$1}var ie8DomDefine$1,hasRequiredIe8DomDefine$1;function requireIe8DomDefine$1(){if(hasRequiredIe8DomDefine$1)return ie8DomDefine$1;hasRequiredIe8DomDefine$1=1;var Ye=requireDescriptors$1(),rt=requireFails$1(),it=requireDocumentCreateElement$1();return ie8DomDefine$1=!Ye&&!rt(function(){return Object.defineProperty(it("div"),"a",{get:function(){return 7}}).a!==7}),ie8DomDefine$1}var hasRequiredObjectGetOwnPropertyDescriptor$1;function requireObjectGetOwnPropertyDescriptor$1(){if(hasRequiredObjectGetOwnPropertyDescriptor$1)return objectGetOwnPropertyDescriptor$1;hasRequiredObjectGetOwnPropertyDescriptor$1=1;var Ye=requireDescriptors$1(),rt=requireFunctionCall(),it=requireObjectPropertyIsEnumerable$1(),lt=requireCreatePropertyDescriptor$1(),ct=requireToIndexedObject$1(),ut=requireToPropertyKey$1(),ht=requireHasOwnProperty$1(),ft=requireIe8DomDefine$1(),pt=Object.getOwnPropertyDescriptor;return objectGetOwnPropertyDescriptor$1.f=Ye?pt:function(gt,yt){if(gt=ct(gt),yt=ut(yt),ft)try{return pt(gt,yt)}catch{}if(ht(gt,yt))return lt(!rt(it.f,gt,yt),gt[yt])},objectGetOwnPropertyDescriptor$1}var isForced_1$1,hasRequiredIsForced$1;function requireIsForced$1(){if(hasRequiredIsForced$1)return isForced_1$1;hasRequiredIsForced$1=1;var Ye=requireFails$1(),rt=requireIsCallable$1(),it=/#|\.prototype\./,lt=function(pt,mt){var gt=ut[ct(pt)];return gt===ft?!0:gt===ht?!1:rt(mt)?Ye(mt):!!mt},ct=lt.normalize=function(pt){return String(pt).replace(it,".").toLowerCase()},ut=lt.data={},ht=lt.NATIVE="N",ft=lt.POLYFILL="P";return isForced_1$1=lt,isForced_1$1}var functionBindContext,hasRequiredFunctionBindContext;function requireFunctionBindContext(){if(hasRequiredFunctionBindContext)return functionBindContext;hasRequiredFunctionBindContext=1;var Ye=requireFunctionUncurryThisClause(),rt=requireACallable$1(),it=requireFunctionBindNative(),lt=Ye(Ye.bind);return functionBindContext=function(ct,ut){return rt(ct),ut===void 0?ct:it?lt(ct,ut):function(){return ct.apply(ut,arguments)}},functionBindContext}var objectDefineProperty$1={},v8PrototypeDefineBug,hasRequiredV8PrototypeDefineBug;function requireV8PrototypeDefineBug(){if(hasRequiredV8PrototypeDefineBug)return v8PrototypeDefineBug;hasRequiredV8PrototypeDefineBug=1;var Ye=requireDescriptors$1(),rt=requireFails$1();return v8PrototypeDefineBug=Ye&&rt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),v8PrototypeDefineBug}var anObject$1,hasRequiredAnObject$1;function requireAnObject$1(){if(hasRequiredAnObject$1)return anObject$1;hasRequiredAnObject$1=1;var Ye=requireIsObject$1(),rt=String,it=TypeError;return anObject$1=function(lt){if(Ye(lt))return lt;throw new it(rt(lt)+" is not an object")},anObject$1}var hasRequiredObjectDefineProperty$1;function requireObjectDefineProperty$1(){if(hasRequiredObjectDefineProperty$1)return objectDefineProperty$1;hasRequiredObjectDefineProperty$1=1;var Ye=requireDescriptors$1(),rt=requireIe8DomDefine$1(),it=requireV8PrototypeDefineBug(),lt=requireAnObject$1(),ct=requireToPropertyKey$1(),ut=TypeError,ht=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,pt="enumerable",mt="configurable",gt="writable";return objectDefineProperty$1.f=Ye?it?function(xt,bt,_t){if(lt(xt),bt=ct(bt),lt(_t),typeof xt=="function"&&bt==="prototype"&&"value"in _t&&gt in _t&&!_t[gt]){var Ct=ft(xt,bt);Ct&&Ct[gt]&&(xt[bt]=_t.value,_t={configurable:mt in _t?_t[mt]:Ct[mt],enumerable:pt in _t?_t[pt]:Ct[pt],writable:!1})}return ht(xt,bt,_t)}:ht:function(xt,bt,_t){if(lt(xt),bt=ct(bt),lt(_t),rt)try{return ht(xt,bt,_t)}catch{}if("get"in _t||"set"in _t)throw new ut("Accessors not supported");return"value"in _t&&(xt[bt]=_t.value),xt},objectDefineProperty$1}var createNonEnumerableProperty$1,hasRequiredCreateNonEnumerableProperty$1;function requireCreateNonEnumerableProperty$1(){if(hasRequiredCreateNonEnumerableProperty$1)return createNonEnumerableProperty$1;hasRequiredCreateNonEnumerableProperty$1=1;var Ye=requireDescriptors$1(),rt=requireObjectDefineProperty$1(),it=requireCreatePropertyDescriptor$1();return createNonEnumerableProperty$1=Ye?function(lt,ct,ut){return rt.f(lt,ct,it(1,ut))}:function(lt,ct,ut){return lt[ct]=ut,lt},createNonEnumerableProperty$1}var _export$1,hasRequired_export$1;function require_export$1(){if(hasRequired_export$1)return _export$1;hasRequired_export$1=1;var Ye=requireGlobalThis(),rt=requireFunctionApply(),it=requireFunctionUncurryThisClause(),lt=requireIsCallable$1(),ct=requireObjectGetOwnPropertyDescriptor$1().f,ut=requireIsForced$1(),ht=requirePath(),ft=requireFunctionBindContext(),pt=requireCreateNonEnumerableProperty$1(),mt=requireHasOwnProperty$1(),gt=function(yt){var xt=function(bt,_t,Ct){if(this instanceof xt){switch(arguments.length){case 0:return new yt;case 1:return new yt(bt);case 2:return new yt(bt,_t)}return new yt(bt,_t,Ct)}return rt(yt,this,arguments)};return xt.prototype=yt.prototype,xt};return _export$1=function(yt,xt){var bt=yt.target,_t=yt.global,Ct=yt.stat,kt=yt.proto,St=_t?Ye:Ct?Ye[bt]:Ye[bt]&&Ye[bt].prototype,Rt=_t?ht:ht[bt]||pt(ht,bt,{})[bt],Tt=Rt.prototype,Mt,Pt,It,Lt,Ot,Ft,Ut,Wt,Kt;for(Lt in xt)Mt=ut(_t?Lt:bt+(Ct?".":"#")+Lt,yt.forced),Pt=!Mt&&St&&mt(St,Lt),Ft=Rt[Lt],Pt&&(yt.dontCallGetSet?(Kt=ct(St,Lt),Ut=Kt&&Kt.value):Ut=St[Lt]),Ot=Pt&&Ut?Ut:xt[Lt],!(!Mt&&!kt&&typeof Ft==typeof Ot)&&(yt.bind&&Pt?Wt=ft(Ot,Ye):yt.wrap&&Pt?Wt=gt(Ot):kt&&lt(Ot)?Wt=it(Ot):Wt=Ot,(yt.sham||Ot&&Ot.sham||Ft&&Ft.sham)&&pt(Wt,"sham",!0),pt(Rt,Lt,Wt),kt&&(It=bt+"Prototype",mt(ht,It)||pt(ht,It,{}),pt(ht[It],Lt,Ot),yt.real&&Tt&&(Mt||!Tt[Lt])&&pt(Tt,Lt,Ot)))},_export$1}var isArray$6,hasRequiredIsArray$6;function requireIsArray$6(){if(hasRequiredIsArray$6)return isArray$6;hasRequiredIsArray$6=1;var Ye=requireClassofRaw$1();return isArray$6=Array.isArray||function(it){return Ye(it)==="Array"},isArray$6}var hasRequiredEs_array_isArray;function requireEs_array_isArray(){if(hasRequiredEs_array_isArray)return es_array_isArray;hasRequiredEs_array_isArray=1;var Ye=require_export$1(),rt=requireIsArray$6();return Ye({target:"Array",stat:!0},{isArray:rt}),es_array_isArray}var isArray$5,hasRequiredIsArray$5;function requireIsArray$5(){if(hasRequiredIsArray$5)return isArray$5;hasRequiredIsArray$5=1,requireEs_array_isArray();var Ye=requirePath();return isArray$5=Ye.Array.isArray,isArray$5}var isArray$4,hasRequiredIsArray$4;function requireIsArray$4(){if(hasRequiredIsArray$4)return isArray$4;hasRequiredIsArray$4=1;var Ye=requireIsArray$5();return isArray$4=Ye,isArray$4}var isArray$3,hasRequiredIsArray$3;function requireIsArray$3(){if(hasRequiredIsArray$3)return isArray$3;hasRequiredIsArray$3=1;var Ye=requireIsArray$4();return isArray$3=Ye,isArray$3}var isArray$2,hasRequiredIsArray$2;function requireIsArray$2(){if(hasRequiredIsArray$2)return isArray$2;hasRequiredIsArray$2=1;var Ye=requireIsArray$3();return isArray$2=Ye,isArray$2}var isArray$1,hasRequiredIsArray$1;function requireIsArray$1(){return hasRequiredIsArray$1||(hasRequiredIsArray$1=1,isArray$1=requireIsArray$2()),isArray$1}var isArrayExports$1=requireIsArray$1();const _Array$isArray$1=getDefaultExportFromCjs(isArrayExports$1);function _arrayWithHoles(Ye){if(_Array$isArray$1(Ye))return Ye}var es_array_concat={},mathTrunc,hasRequiredMathTrunc;function requireMathTrunc(){if(hasRequiredMathTrunc)return mathTrunc;hasRequiredMathTrunc=1;var Ye=Math.ceil,rt=Math.floor;return mathTrunc=Math.trunc||function(lt){var ct=+lt;return(ct>0?rt:Ye)(ct)},mathTrunc}var toIntegerOrInfinity$1,hasRequiredToIntegerOrInfinity$1;function requireToIntegerOrInfinity$1(){if(hasRequiredToIntegerOrInfinity$1)return toIntegerOrInfinity$1;hasRequiredToIntegerOrInfinity$1=1;var Ye=requireMathTrunc();return toIntegerOrInfinity$1=function(rt){var it=+rt;return it!==it||it===0?0:Ye(it)},toIntegerOrInfinity$1}var toLength$1,hasRequiredToLength$1;function requireToLength$1(){if(hasRequiredToLength$1)return toLength$1;hasRequiredToLength$1=1;var Ye=requireToIntegerOrInfinity$1(),rt=Math.min;return toLength$1=function(it){var lt=Ye(it);return lt>0?rt(lt,9007199254740991):0},toLength$1}var lengthOfArrayLike$1,hasRequiredLengthOfArrayLike$1;function requireLengthOfArrayLike$1(){if(hasRequiredLengthOfArrayLike$1)return lengthOfArrayLike$1;hasRequiredLengthOfArrayLike$1=1;var Ye=requireToLength$1();return lengthOfArrayLike$1=function(rt){return Ye(rt.length)},lengthOfArrayLike$1}var doesNotExceedSafeInteger,hasRequiredDoesNotExceedSafeInteger;function requireDoesNotExceedSafeInteger(){if(hasRequiredDoesNotExceedSafeInteger)return doesNotExceedSafeInteger;hasRequiredDoesNotExceedSafeInteger=1;var Ye=TypeError,rt=9007199254740991;return doesNotExceedSafeInteger=function(it){if(it>rt)throw Ye("Maximum allowed index exceeded");return it},doesNotExceedSafeInteger}var createProperty,hasRequiredCreateProperty;function requireCreateProperty(){if(hasRequiredCreateProperty)return createProperty;hasRequiredCreateProperty=1;var Ye=requireDescriptors$1(),rt=requireObjectDefineProperty$1(),it=requireCreatePropertyDescriptor$1();return createProperty=function(lt,ct,ut){Ye?rt.f(lt,ct,it(0,ut)):lt[ct]=ut},createProperty}var toStringTagSupport$1,hasRequiredToStringTagSupport$1;function requireToStringTagSupport$1(){if(hasRequiredToStringTagSupport$1)return toStringTagSupport$1;hasRequiredToStringTagSupport$1=1;var Ye=requireWellKnownSymbol$1(),rt=Ye("toStringTag"),it={};return it[rt]="z",toStringTagSupport$1=String(it)==="[object z]",toStringTagSupport$1}var classof$1,hasRequiredClassof$1;function requireClassof$1(){if(hasRequiredClassof$1)return classof$1;hasRequiredClassof$1=1;var Ye=requireToStringTagSupport$1(),rt=requireIsCallable$1(),it=requireClassofRaw$1(),lt=requireWellKnownSymbol$1(),ct=lt("toStringTag"),ut=Object,ht=it((function(){return arguments})())==="Arguments",ft=function(pt,mt){try{return pt[mt]}catch{}};return classof$1=Ye?it:function(pt){var mt,gt,yt;return pt===void 0?"Undefined":pt===null?"Null":typeof(gt=ft(mt=ut(pt),ct))=="string"?gt:ht?it(mt):(yt=it(mt))==="Object"&&rt(mt.callee)?"Arguments":yt},classof$1}var inspectSource$1,hasRequiredInspectSource$1;function requireInspectSource$1(){if(hasRequiredInspectSource$1)return inspectSource$1;hasRequiredInspectSource$1=1;var Ye=requireFunctionUncurryThis(),rt=requireIsCallable$1(),it=requireSharedStore$1(),lt=Ye(Function.toString);return rt(it.inspectSource)||(it.inspectSource=function(ct){return lt(ct)}),inspectSource$1=it.inspectSource,inspectSource$1}var isConstructor,hasRequiredIsConstructor;function requireIsConstructor(){if(hasRequiredIsConstructor)return isConstructor;hasRequiredIsConstructor=1;var Ye=requireFunctionUncurryThis(),rt=requireFails$1(),it=requireIsCallable$1(),lt=requireClassof$1(),ct=requireGetBuiltIn$1(),ut=requireInspectSource$1(),ht=function(){},ft=ct("Reflect","construct"),pt=/^\s*(?:class|function)\b/,mt=Ye(pt.exec),gt=!pt.test(ht),yt=function(_t){if(!it(_t))return!1;try{return ft(ht,[],_t),!0}catch{return!1}},xt=function(_t){if(!it(_t))return!1;switch(lt(_t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gt||!!mt(pt,ut(_t))}catch{return!0}};return xt.sham=!0,isConstructor=!ft||rt(function(){var bt;return yt(yt.call)||!yt(Object)||!yt(function(){bt=!0})||bt})?xt:yt,isConstructor}var arraySpeciesConstructor,hasRequiredArraySpeciesConstructor;function requireArraySpeciesConstructor(){if(hasRequiredArraySpeciesConstructor)return arraySpeciesConstructor;hasRequiredArraySpeciesConstructor=1;var Ye=requireIsArray$6(),rt=requireIsConstructor(),it=requireIsObject$1(),lt=requireWellKnownSymbol$1(),ct=lt("species"),ut=Array;return arraySpeciesConstructor=function(ht){var ft;return Ye(ht)&&(ft=ht.constructor,rt(ft)&&(ft===ut||Ye(ft.prototype))?ft=void 0:it(ft)&&(ft=ft[ct],ft===null&&(ft=void 0))),ft===void 0?ut:ft},arraySpeciesConstructor}var arraySpeciesCreate,hasRequiredArraySpeciesCreate;function requireArraySpeciesCreate(){if(hasRequiredArraySpeciesCreate)return arraySpeciesCreate;hasRequiredArraySpeciesCreate=1;var Ye=requireArraySpeciesConstructor();return arraySpeciesCreate=function(rt,it){return new(Ye(rt))(it===0?0:it)},arraySpeciesCreate}var arrayMethodHasSpeciesSupport,hasRequiredArrayMethodHasSpeciesSupport;function requireArrayMethodHasSpeciesSupport(){if(hasRequiredArrayMethodHasSpeciesSupport)return arrayMethodHasSpeciesSupport;hasRequiredArrayMethodHasSpeciesSupport=1;var Ye=requireFails$1(),rt=requireWellKnownSymbol$1(),it=requireEnvironmentV8Version(),lt=rt("species");return arrayMethodHasSpeciesSupport=function(ct){return it>=51||!Ye(function(){var ut=[],ht=ut.constructor={};return ht[lt]=function(){return{foo:1}},ut[ct](Boolean).foo!==1})},arrayMethodHasSpeciesSupport}var hasRequiredEs_array_concat;function requireEs_array_concat(){if(hasRequiredEs_array_concat)return es_array_concat;hasRequiredEs_array_concat=1;var Ye=require_export$1(),rt=requireFails$1(),it=requireIsArray$6(),lt=requireIsObject$1(),ct=requireToObject$1(),ut=requireLengthOfArrayLike$1(),ht=requireDoesNotExceedSafeInteger(),ft=requireCreateProperty(),pt=requireArraySpeciesCreate(),mt=requireArrayMethodHasSpeciesSupport(),gt=requireWellKnownSymbol$1(),yt=requireEnvironmentV8Version(),xt=gt("isConcatSpreadable"),bt=yt>=51||!rt(function(){var kt=[];return kt[xt]=!1,kt.concat()[0]!==kt}),_t=function(kt){if(!lt(kt))return!1;var St=kt[xt];return St!==void 0?!!St:it(kt)},Ct=!bt||!mt("concat");return Ye({target:"Array",proto:!0,arity:1,forced:Ct},{concat:function(St){var Rt=ct(this),Tt=pt(Rt,0),Mt=0,Pt,It,Lt,Ot,Ft;for(Pt=-1,Lt=arguments.length;Pt<Lt;Pt++)if(Ft=Pt===-1?Rt:arguments[Pt],_t(Ft))for(Ot=ut(Ft),ht(Mt+Ot),It=0;It<Ot;It++,Mt++)It in Ft&&ft(Tt,Mt,Ft[It]);else ht(Mt+1),ft(Tt,Mt++,Ft);return Tt.length=Mt,Tt}}),es_array_concat}var es_symbol={},es_symbol_constructor={},toString$1,hasRequiredToString$1;function requireToString$1(){if(hasRequiredToString$1)return toString$1;hasRequiredToString$1=1;var Ye=requireClassof$1(),rt=String;return toString$1=function(it){if(Ye(it)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return rt(it)},toString$1}var objectDefineProperties$1={},toAbsoluteIndex$1,hasRequiredToAbsoluteIndex$1;function requireToAbsoluteIndex$1(){if(hasRequiredToAbsoluteIndex$1)return toAbsoluteIndex$1;hasRequiredToAbsoluteIndex$1=1;var Ye=requireToIntegerOrInfinity$1(),rt=Math.max,it=Math.min;return toAbsoluteIndex$1=function(lt,ct){var ut=Ye(lt);return ut<0?rt(ut+ct,0):it(ut,ct)},toAbsoluteIndex$1}var arrayIncludes$1,hasRequiredArrayIncludes$1;function requireArrayIncludes$1(){if(hasRequiredArrayIncludes$1)return arrayIncludes$1;hasRequiredArrayIncludes$1=1;var Ye=requireToIndexedObject$1(),rt=requireToAbsoluteIndex$1(),it=requireLengthOfArrayLike$1(),lt=function(ct){return function(ut,ht,ft){var pt=Ye(ut),mt=it(pt);if(mt===0)return!ct&&-1;var gt=rt(ft,mt),yt;if(ct&&ht!==ht){for(;mt>gt;)if(yt=pt[gt++],yt!==yt)return!0}else for(;mt>gt;gt++)if((ct||gt in pt)&&pt[gt]===ht)return ct||gt||0;return!ct&&-1}};return arrayIncludes$1={includes:lt(!0),indexOf:lt(!1)},arrayIncludes$1}var hiddenKeys$1,hasRequiredHiddenKeys$1;function requireHiddenKeys$1(){return hasRequiredHiddenKeys$1||(hasRequiredHiddenKeys$1=1,hiddenKeys$1={}),hiddenKeys$1}var objectKeysInternal$1,hasRequiredObjectKeysInternal$1;function requireObjectKeysInternal$1(){if(hasRequiredObjectKeysInternal$1)return objectKeysInternal$1;hasRequiredObjectKeysInternal$1=1;var Ye=requireFunctionUncurryThis(),rt=requireHasOwnProperty$1(),it=requireToIndexedObject$1(),lt=requireArrayIncludes$1().indexOf,ct=requireHiddenKeys$1(),ut=Ye([].push);return objectKeysInternal$1=function(ht,ft){var pt=it(ht),mt=0,gt=[],yt;for(yt in pt)!rt(ct,yt)&&rt(pt,yt)&&ut(gt,yt);for(;ft.length>mt;)rt(pt,yt=ft[mt++])&&(~lt(gt,yt)||ut(gt,yt));return gt},objectKeysInternal$1}var enumBugKeys$1,hasRequiredEnumBugKeys$1;function requireEnumBugKeys$1(){return hasRequiredEnumBugKeys$1||(hasRequiredEnumBugKeys$1=1,enumBugKeys$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),enumBugKeys$1}var objectKeys$1,hasRequiredObjectKeys$1;function requireObjectKeys$1(){if(hasRequiredObjectKeys$1)return objectKeys$1;hasRequiredObjectKeys$1=1;var Ye=requireObjectKeysInternal$1(),rt=requireEnumBugKeys$1();return objectKeys$1=Object.keys||function(lt){return Ye(lt,rt)},objectKeys$1}var hasRequiredObjectDefineProperties$1;function requireObjectDefineProperties$1(){if(hasRequiredObjectDefineProperties$1)return objectDefineProperties$1;hasRequiredObjectDefineProperties$1=1;var Ye=requireDescriptors$1(),rt=requireV8PrototypeDefineBug(),it=requireObjectDefineProperty$1(),lt=requireAnObject$1(),ct=requireToIndexedObject$1(),ut=requireObjectKeys$1();return objectDefineProperties$1.f=Ye&&!rt?Object.defineProperties:function(ft,pt){lt(ft);for(var mt=ct(pt),gt=ut(pt),yt=gt.length,xt=0,bt;yt>xt;)it.f(ft,bt=gt[xt++],mt[bt]);return ft},objectDefineProperties$1}var html$1,hasRequiredHtml$1;function requireHtml$1(){if(hasRequiredHtml$1)return html$1;hasRequiredHtml$1=1;var Ye=requireGetBuiltIn$1();return html$1=Ye("document","documentElement"),html$1}var sharedKey$1,hasRequiredSharedKey$1;function requireSharedKey$1(){if(hasRequiredSharedKey$1)return sharedKey$1;hasRequiredSharedKey$1=1;var Ye=requireShared$1(),rt=requireUid$1(),it=Ye("keys");return sharedKey$1=function(lt){return it[lt]||(it[lt]=rt(lt))},sharedKey$1}var objectCreate$1,hasRequiredObjectCreate$1;function requireObjectCreate$1(){if(hasRequiredObjectCreate$1)return objectCreate$1;hasRequiredObjectCreate$1=1;var Ye=requireAnObject$1(),rt=requireObjectDefineProperties$1(),it=requireEnumBugKeys$1(),lt=requireHiddenKeys$1(),ct=requireHtml$1(),ut=requireDocumentCreateElement$1(),ht=requireSharedKey$1(),ft=">",pt="<",mt="prototype",gt="script",yt=ht("IE_PROTO"),xt=function(){},bt=function(Rt){return pt+gt+ft+Rt+pt+"/"+gt+ft},_t=function(Rt){Rt.write(bt("")),Rt.close();var Tt=Rt.parentWindow.Object;return Rt=null,Tt},Ct=function(){var Rt=ut("iframe"),Tt="java"+gt+":",Mt;return Rt.style.display="none",ct.appendChild(Rt),Rt.src=String(Tt),Mt=Rt.contentWindow.document,Mt.open(),Mt.write(bt("document.F=Object")),Mt.close(),Mt.F},kt,St=function(){try{kt=new ActiveXObject("htmlfile")}catch{}St=typeof document<"u"?document.domain&&kt?_t(kt):Ct():_t(kt);for(var Rt=it.length;Rt--;)delete St[mt][it[Rt]];return St()};return lt[yt]=!0,objectCreate$1=Object.create||function(Tt,Mt){var Pt;return Tt!==null?(xt[mt]=Ye(Tt),Pt=new xt,xt[mt]=null,Pt[yt]=Tt):Pt=St(),Mt===void 0?Pt:rt.f(Pt,Mt)},objectCreate$1}var objectGetOwnPropertyNames$1={},hasRequiredObjectGetOwnPropertyNames$1;function requireObjectGetOwnPropertyNames$1(){if(hasRequiredObjectGetOwnPropertyNames$1)return objectGetOwnPropertyNames$1;hasRequiredObjectGetOwnPropertyNames$1=1;var Ye=requireObjectKeysInternal$1(),rt=requireEnumBugKeys$1(),it=rt.concat("length","prototype");return objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function(ct){return Ye(ct,it)},objectGetOwnPropertyNames$1}var objectGetOwnPropertyNamesExternal={},arraySlice,hasRequiredArraySlice;function requireArraySlice(){if(hasRequiredArraySlice)return arraySlice;hasRequiredArraySlice=1;var Ye=requireFunctionUncurryThis();return arraySlice=Ye([].slice),arraySlice}var hasRequiredObjectGetOwnPropertyNamesExternal;function requireObjectGetOwnPropertyNamesExternal(){if(hasRequiredObjectGetOwnPropertyNamesExternal)return objectGetOwnPropertyNamesExternal;hasRequiredObjectGetOwnPropertyNamesExternal=1;var Ye=requireClassofRaw$1(),rt=requireToIndexedObject$1(),it=requireObjectGetOwnPropertyNames$1().f,lt=requireArraySlice(),ct=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ut=function(ht){try{return it(ht)}catch{return lt(ct)}};return objectGetOwnPropertyNamesExternal.f=function(ft){return ct&&Ye(ft)==="Window"?ut(ft):it(rt(ft))},objectGetOwnPropertyNamesExternal}var objectGetOwnPropertySymbols$1={},hasRequiredObjectGetOwnPropertySymbols$1;function requireObjectGetOwnPropertySymbols$1(){return hasRequiredObjectGetOwnPropertySymbols$1||(hasRequiredObjectGetOwnPropertySymbols$1=1,objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols),objectGetOwnPropertySymbols$1}var defineBuiltIn,hasRequiredDefineBuiltIn;function requireDefineBuiltIn(){if(hasRequiredDefineBuiltIn)return defineBuiltIn;hasRequiredDefineBuiltIn=1;var Ye=requireCreateNonEnumerableProperty$1();return defineBuiltIn=function(rt,it,lt,ct){return ct&&ct.enumerable?rt[it]=lt:Ye(rt,it,lt),rt},defineBuiltIn}var defineBuiltInAccessor,hasRequiredDefineBuiltInAccessor;function requireDefineBuiltInAccessor(){if(hasRequiredDefineBuiltInAccessor)return defineBuiltInAccessor;hasRequiredDefineBuiltInAccessor=1;var Ye=requireObjectDefineProperty$1();return defineBuiltInAccessor=function(rt,it,lt){return Ye.f(rt,it,lt)},defineBuiltInAccessor}var wellKnownSymbolWrapped={},hasRequiredWellKnownSymbolWrapped;function requireWellKnownSymbolWrapped(){if(hasRequiredWellKnownSymbolWrapped)return wellKnownSymbolWrapped;hasRequiredWellKnownSymbolWrapped=1;var Ye=requireWellKnownSymbol$1();return wellKnownSymbolWrapped.f=Ye,wellKnownSymbolWrapped}var wellKnownSymbolDefine,hasRequiredWellKnownSymbolDefine;function requireWellKnownSymbolDefine(){if(hasRequiredWellKnownSymbolDefine)return wellKnownSymbolDefine;hasRequiredWellKnownSymbolDefine=1;var Ye=requirePath(),rt=requireHasOwnProperty$1(),it=requireWellKnownSymbolWrapped(),lt=requireObjectDefineProperty$1().f;return wellKnownSymbolDefine=function(ct){var ut=Ye.Symbol||(Ye.Symbol={});rt(ut,ct)||lt(ut,ct,{value:it.f(ct)})},wellKnownSymbolDefine}var symbolDefineToPrimitive,hasRequiredSymbolDefineToPrimitive;function requireSymbolDefineToPrimitive(){if(hasRequiredSymbolDefineToPrimitive)return symbolDefineToPrimitive;hasRequiredSymbolDefineToPrimitive=1;var Ye=requireFunctionCall(),rt=requireGetBuiltIn$1(),it=requireWellKnownSymbol$1(),lt=requireDefineBuiltIn();return symbolDefineToPrimitive=function(){var ct=rt("Symbol"),ut=ct&&ct.prototype,ht=ut&&ut.valueOf,ft=it("toPrimitive");ut&&!ut[ft]&&lt(ut,ft,function(pt){return Ye(ht,this)},{arity:1})},symbolDefineToPrimitive}var objectToString$1,hasRequiredObjectToString$1;function requireObjectToString$1(){if(hasRequiredObjectToString$1)return objectToString$1;hasRequiredObjectToString$1=1;var Ye=requireToStringTagSupport$1(),rt=requireClassof$1();return objectToString$1=Ye?{}.toString:function(){return"[object "+rt(this)+"]"},objectToString$1}var setToStringTag,hasRequiredSetToStringTag;function requireSetToStringTag(){if(hasRequiredSetToStringTag)return setToStringTag;hasRequiredSetToStringTag=1;var Ye=requireToStringTagSupport$1(),rt=requireObjectDefineProperty$1().f,it=requireCreateNonEnumerableProperty$1(),lt=requireHasOwnProperty$1(),ct=requireObjectToString$1(),ut=requireWellKnownSymbol$1(),ht=ut("toStringTag");return setToStringTag=function(ft,pt,mt,gt){var yt=mt?ft:ft&&ft.prototype;yt&&(lt(yt,ht)||rt(yt,ht,{configurable:!0,value:pt}),gt&&!Ye&&it(yt,"toString",ct))},setToStringTag}var weakMapBasicDetection,hasRequiredWeakMapBasicDetection;function requireWeakMapBasicDetection(){if(hasRequiredWeakMapBasicDetection)return weakMapBasicDetection;hasRequiredWeakMapBasicDetection=1;var Ye=requireGlobalThis(),rt=requireIsCallable$1(),it=Ye.WeakMap;return weakMapBasicDetection=rt(it)&&/native code/.test(String(it)),weakMapBasicDetection}var internalState$1,hasRequiredInternalState$1;function requireInternalState$1(){if(hasRequiredInternalState$1)return internalState$1;hasRequiredInternalState$1=1;var Ye=requireWeakMapBasicDetection(),rt=requireGlobalThis(),it=requireIsObject$1(),lt=requireCreateNonEnumerableProperty$1(),ct=requireHasOwnProperty$1(),ut=requireSharedStore$1(),ht=requireSharedKey$1(),ft=requireHiddenKeys$1(),pt="Object already initialized",mt=rt.TypeError,gt=rt.WeakMap,yt,xt,bt,_t=function(Rt){return bt(Rt)?xt(Rt):yt(Rt,{})},Ct=function(Rt){return function(Tt){var Mt;if(!it(Tt)||(Mt=xt(Tt)).type!==Rt)throw new mt("Incompatible receiver, "+Rt+" required");return Mt}};if(Ye||ut.state){var kt=ut.state||(ut.state=new gt);kt.get=kt.get,kt.has=kt.has,kt.set=kt.set,yt=function(Rt,Tt){if(kt.has(Rt))throw new mt(pt);return Tt.facade=Rt,kt.set(Rt,Tt),Tt},xt=function(Rt){return kt.get(Rt)||{}},bt=function(Rt){return kt.has(Rt)}}else{var St=ht("state");ft[St]=!0,yt=function(Rt,Tt){if(ct(Rt,St))throw new mt(pt);return Tt.facade=Rt,lt(Rt,St,Tt),Tt},xt=function(Rt){return ct(Rt,St)?Rt[St]:{}},bt=function(Rt){return ct(Rt,St)}}return internalState$1={set:yt,get:xt,has:bt,enforce:_t,getterFor:Ct},internalState$1}var arrayIteration,hasRequiredArrayIteration;function requireArrayIteration(){if(hasRequiredArrayIteration)return arrayIteration;hasRequiredArrayIteration=1;var Ye=requireFunctionBindContext(),rt=requireFunctionUncurryThis(),it=requireIndexedObject$1(),lt=requireToObject$1(),ct=requireLengthOfArrayLike$1(),ut=requireArraySpeciesCreate(),ht=rt([].push),ft=function(pt){var mt=pt===1,gt=pt===2,yt=pt===3,xt=pt===4,bt=pt===6,_t=pt===7,Ct=pt===5||bt;return function(kt,St,Rt,Tt){for(var Mt=lt(kt),Pt=it(Mt),It=ct(Pt),Lt=Ye(St,Rt),Ot=0,Ft=Tt||ut,Ut=mt?Ft(kt,It):gt||_t?Ft(kt,0):void 0,Wt,Kt;It>Ot;Ot++)if((Ct||Ot in Pt)&&(Wt=Pt[Ot],Kt=Lt(Wt,Ot,Mt),pt))if(mt)Ut[Ot]=Kt;else if(Kt)switch(pt){case 3:return!0;case 5:return Wt;case 6:return Ot;case 2:ht(Ut,Wt)}else switch(pt){case 4:return!1;case 7:ht(Ut,Wt)}return bt?-1:yt||xt?xt:Ut}};return arrayIteration={forEach:ft(0),map:ft(1),filter:ft(2),some:ft(3),every:ft(4),find:ft(5),findIndex:ft(6),filterReject:ft(7)},arrayIteration}var hasRequiredEs_symbol_constructor;function requireEs_symbol_constructor(){if(hasRequiredEs_symbol_constructor)return es_symbol_constructor;hasRequiredEs_symbol_constructor=1;var Ye=require_export$1(),rt=requireGlobalThis(),it=requireFunctionCall(),lt=requireFunctionUncurryThis(),ct=requireIsPure$1(),ut=requireDescriptors$1(),ht=requireSymbolConstructorDetection(),ft=requireFails$1(),pt=requireHasOwnProperty$1(),mt=requireObjectIsPrototypeOf(),gt=requireAnObject$1(),yt=requireToIndexedObject$1(),xt=requireToPropertyKey$1(),bt=requireToString$1(),_t=requireCreatePropertyDescriptor$1(),Ct=requireObjectCreate$1(),kt=requireObjectKeys$1(),St=requireObjectGetOwnPropertyNames$1(),Rt=requireObjectGetOwnPropertyNamesExternal(),Tt=requireObjectGetOwnPropertySymbols$1(),Mt=requireObjectGetOwnPropertyDescriptor$1(),Pt=requireObjectDefineProperty$1(),It=requireObjectDefineProperties$1(),Lt=requireObjectPropertyIsEnumerable$1(),Ot=requireDefineBuiltIn(),Ft=requireDefineBuiltInAccessor(),Ut=requireShared$1(),Wt=requireSharedKey$1(),Kt=requireHiddenKeys$1(),Qt=requireUid$1(),Zt=requireWellKnownSymbol$1(),Vt=requireWellKnownSymbolWrapped(),$t=requireWellKnownSymbolDefine(),zt=requireSymbolDefineToPrimitive(),Nt=requireSetToStringTag(),qt=requireInternalState$1(),Gt=requireArrayIteration().forEach,Ht=Wt("hidden"),Xt="Symbol",Bt="prototype",nr=qt.set,rr=qt.getterFor(Xt),Jt=Object[Bt],ir=rt.Symbol,ar=ir&&ir[Bt],cr=rt.RangeError,dr=rt.TypeError,xr=rt.QObject,br=Mt.f,_r=Pt.f,Er=Rt.f,Rr=Lt.f,Lr=lt([].push),Mr=Ut("symbols"),Fr=Ut("op-symbols"),Xr=Ut("wks"),Jr=!xr||!xr[Bt]||!xr[Bt].findChild,Kr=function(jr,Br,Or){var $r=br(Jt,Br);$r&&delete Jt[Br],_r(jr,Br,Or),$r&&jr!==Jt&&_r(Jt,Br,$r)},nn=ut&&ft(function(){return Ct(_r({},"a",{get:function(){return _r(this,"a",{value:7}).a}})).a!==7})?Kr:_r,Qr=function(jr,Br){var Or=Mr[jr]=Ct(ar);return nr(Or,{type:Xt,tag:jr,description:Br}),ut||(Or.description=Br),Or},Zr=function(Br,Or,$r){Br===Jt&&Zr(Fr,Or,$r),gt(Br);var Ur=xt(Or);return gt($r),pt(Mr,Ur)?($r.enumerable?(pt(Br,Ht)&&Br[Ht][Ur]&&(Br[Ht][Ur]=!1),$r=Ct($r,{enumerable:_t(0,!1)})):(pt(Br,Ht)||_r(Br,Ht,_t(1,Ct(null))),Br[Ht][Ur]=!0),nn(Br,Ur,$r)):_r(Br,Ur,$r)},sn=function(Br,Or){gt(Br);var $r=yt(Or),Ur=kt($r).concat(Dr($r));return Gt(Ur,function(qr){(!ut||it(hr,$r,qr))&&Zr(Br,qr,$r[qr])}),Br},yr=function(Br,Or){return Or===void 0?Ct(Br):sn(Ct(Br),Or)},hr=function(Br){var Or=xt(Br),$r=it(Rr,this,Or);return this===Jt&&pt(Mr,Or)&&!pt(Fr,Or)?!1:$r||!pt(this,Or)||!pt(Mr,Or)||pt(this,Ht)&&this[Ht][Or]?$r:!0},Tr=function(Br,Or){var $r=yt(Br),Ur=xt(Or);if(!($r===Jt&&pt(Mr,Ur)&&!pt(Fr,Ur))){var qr=br($r,Ur);return qr&&pt(Mr,Ur)&&!(pt($r,Ht)&&$r[Ht][Ur])&&(qr.enumerable=!0),qr}},Ir=function(Br){var Or=Er(yt(Br)),$r=[];return Gt(Or,function(Ur){!pt(Mr,Ur)&&!pt(Kt,Ur)&&Lr($r,Ur)}),$r},Dr=function(jr){var Br=jr===Jt,Or=Er(Br?Fr:yt(jr)),$r=[];return Gt(Or,function(Ur){pt(Mr,Ur)&&(!Br||pt(Jt,Ur))&&Lr($r,Mr[Ur])}),$r};return ht||(ir=function(){if(mt(ar,this))throw new dr("Symbol is not a constructor");var Br=!arguments.length||arguments[0]===void 0?void 0:bt(arguments[0]),Or=Qt(Br),$r=function(Ur){var qr=this===void 0?rt:this;qr===Jt&&it($r,Fr,Ur),pt(qr,Ht)&&pt(qr[Ht],Or)&&(qr[Ht][Or]=!1);var fn=_t(1,Ur);try{nn(qr,Or,fn)}catch(xn){if(!(xn instanceof cr))throw xn;Kr(qr,Or,fn)}};return ut&&Jr&&nn(Jt,Or,{configurable:!0,set:$r}),Qr(Or,Br)},ar=ir[Bt],Ot(ar,"toString",function(){return rr(this).tag}),Ot(ir,"withoutSetter",function(jr){return Qr(Qt(jr),jr)}),Lt.f=hr,Pt.f=Zr,It.f=sn,Mt.f=Tr,St.f=Rt.f=Ir,Tt.f=Dr,Vt.f=function(jr){return Qr(Zt(jr),jr)},ut&&(Ft(ar,"description",{configurable:!0,get:function(){return rr(this).description}}),ct||Ot(Jt,"propertyIsEnumerable",hr,{unsafe:!0}))),Ye({global:!0,constructor:!0,wrap:!0,forced:!ht,sham:!ht},{Symbol:ir}),Gt(kt(Xr),function(jr){$t(jr)}),Ye({target:Xt,stat:!0,forced:!ht},{useSetter:function(){Jr=!0},useSimple:function(){Jr=!1}}),Ye({target:"Object",stat:!0,forced:!ht,sham:!ut},{create:yr,defineProperty:Zr,defineProperties:sn,getOwnPropertyDescriptor:Tr}),Ye({target:"Object",stat:!0,forced:!ht},{getOwnPropertyNames:Ir}),zt(),Nt(ir,Xt),Kt[Ht]=!0,es_symbol_constructor}var es_symbol_for={},symbolRegistryDetection,hasRequiredSymbolRegistryDetection;function requireSymbolRegistryDetection(){if(hasRequiredSymbolRegistryDetection)return symbolRegistryDetection;hasRequiredSymbolRegistryDetection=1;var Ye=requireSymbolConstructorDetection();return symbolRegistryDetection=Ye&&!!Symbol.for&&!!Symbol.keyFor,symbolRegistryDetection}var hasRequiredEs_symbol_for;function requireEs_symbol_for(){if(hasRequiredEs_symbol_for)return es_symbol_for;hasRequiredEs_symbol_for=1;var Ye=require_export$1(),rt=requireGetBuiltIn$1(),it=requireHasOwnProperty$1(),lt=requireToString$1(),ct=requireShared$1(),ut=requireSymbolRegistryDetection(),ht=ct("string-to-symbol-registry"),ft=ct("symbol-to-string-registry");return Ye({target:"Symbol",stat:!0,forced:!ut},{for:function(pt){var mt=lt(pt);if(it(ht,mt))return ht[mt];var gt=rt("Symbol")(mt);return ht[mt]=gt,ft[gt]=mt,gt}}),es_symbol_for}var es_symbol_keyFor={},hasRequiredEs_symbol_keyFor;function requireEs_symbol_keyFor(){if(hasRequiredEs_symbol_keyFor)return es_symbol_keyFor;hasRequiredEs_symbol_keyFor=1;var Ye=require_export$1(),rt=requireHasOwnProperty$1(),it=requireIsSymbol$1(),lt=requireTryToString$1(),ct=requireShared$1(),ut=requireSymbolRegistryDetection(),ht=ct("symbol-to-string-registry");return Ye({target:"Symbol",stat:!0,forced:!ut},{keyFor:function(pt){if(!it(pt))throw new TypeError(lt(pt)+" is not a symbol");if(rt(ht,pt))return ht[pt]}}),es_symbol_keyFor}var es_json_stringify={},getJsonReplacerFunction,hasRequiredGetJsonReplacerFunction;function requireGetJsonReplacerFunction(){if(hasRequiredGetJsonReplacerFunction)return getJsonReplacerFunction;hasRequiredGetJsonReplacerFunction=1;var Ye=requireFunctionUncurryThis(),rt=requireIsArray$6(),it=requireIsCallable$1(),lt=requireClassofRaw$1(),ct=requireToString$1(),ut=Ye([].push);return getJsonReplacerFunction=function(ht){if(it(ht))return ht;if(rt(ht)){for(var ft=ht.length,pt=[],mt=0;mt<ft;mt++){var gt=ht[mt];typeof gt=="string"?ut(pt,gt):(typeof gt=="number"||lt(gt)==="Number"||lt(gt)==="String")&&ut(pt,ct(gt))}var yt=pt.length,xt=!0;return function(bt,_t){if(xt)return xt=!1,_t;if(rt(this))return _t;for(var Ct=0;Ct<yt;Ct++)if(pt[Ct]===bt)return _t}}},getJsonReplacerFunction}var hasRequiredEs_json_stringify;function requireEs_json_stringify(){if(hasRequiredEs_json_stringify)return es_json_stringify;hasRequiredEs_json_stringify=1;var Ye=require_export$1(),rt=requireGetBuiltIn$1(),it=requireFunctionApply(),lt=requireFunctionCall(),ct=requireFunctionUncurryThis(),ut=requireFails$1(),ht=requireIsCallable$1(),ft=requireIsSymbol$1(),pt=requireArraySlice(),mt=requireGetJsonReplacerFunction(),gt=requireSymbolConstructorDetection(),yt=String,xt=rt("JSON","stringify"),bt=ct(/./.exec),_t=ct("".charAt),Ct=ct("".charCodeAt),kt=ct("".replace),St=ct(1.1.toString),Rt=/[\uD800-\uDFFF]/g,Tt=/^[\uD800-\uDBFF]$/,Mt=/^[\uDC00-\uDFFF]$/,Pt=!gt||ut(function(){var Ft=rt("Symbol")("stringify detection");return xt([Ft])!=="[null]"||xt({a:Ft})!=="{}"||xt(Object(Ft))!=="{}"}),It=ut(function(){return xt("\uDF06\uD834")!=='"\\udf06\\ud834"'||xt("\uDEAD")!=='"\\udead"'}),Lt=function(Ft,Ut){var Wt=pt(arguments),Kt=mt(Ut);if(!(!ht(Kt)&&(Ft===void 0||ft(Ft))))return Wt[1]=function(Qt,Zt){if(ht(Kt)&&(Zt=lt(Kt,this,yt(Qt),Zt)),!ft(Zt))return Zt},it(xt,null,Wt)},Ot=function(Ft,Ut,Wt){var Kt=_t(Wt,Ut-1),Qt=_t(Wt,Ut+1);return bt(Tt,Ft)&&!bt(Mt,Qt)||bt(Mt,Ft)&&!bt(Tt,Kt)?"\\u"+St(Ct(Ft,0),16):Ft};return xt&&Ye({target:"JSON",stat:!0,arity:3,forced:Pt||It},{stringify:function(Ut,Wt,Kt){var Qt=pt(arguments),Zt=it(Pt?Lt:xt,null,Qt);return It&&typeof Zt=="string"?kt(Zt,Rt,Ot):Zt}}),es_json_stringify}var es_object_getOwnPropertySymbols={},hasRequiredEs_object_getOwnPropertySymbols;function requireEs_object_getOwnPropertySymbols(){if(hasRequiredEs_object_getOwnPropertySymbols)return es_object_getOwnPropertySymbols;hasRequiredEs_object_getOwnPropertySymbols=1;var Ye=require_export$1(),rt=requireSymbolConstructorDetection(),it=requireFails$1(),lt=requireObjectGetOwnPropertySymbols$1(),ct=requireToObject$1(),ut=!rt||it(function(){lt.f(1)});return Ye({target:"Object",stat:!0,forced:ut},{getOwnPropertySymbols:function(ft){var pt=lt.f;return pt?pt(ct(ft)):[]}}),es_object_getOwnPropertySymbols}var hasRequiredEs_symbol;function requireEs_symbol(){return hasRequiredEs_symbol||(hasRequiredEs_symbol=1,requireEs_symbol_constructor(),requireEs_symbol_for(),requireEs_symbol_keyFor(),requireEs_json_stringify(),requireEs_object_getOwnPropertySymbols()),es_symbol}var es_symbol_asyncDispose={},hasRequiredEs_symbol_asyncDispose;function requireEs_symbol_asyncDispose(){if(hasRequiredEs_symbol_asyncDispose)return es_symbol_asyncDispose;hasRequiredEs_symbol_asyncDispose=1;var Ye=requireWellKnownSymbolDefine();return Ye("asyncDispose"),es_symbol_asyncDispose}var es_symbol_asyncIterator={},hasRequiredEs_symbol_asyncIterator;function requireEs_symbol_asyncIterator(){if(hasRequiredEs_symbol_asyncIterator)return es_symbol_asyncIterator;hasRequiredEs_symbol_asyncIterator=1;var Ye=requireWellKnownSymbolDefine();return Ye("asyncIterator"),es_symbol_asyncIterator}var es_symbol_dispose={},hasRequiredEs_symbol_dispose;function requireEs_symbol_dispose(){if(hasRequiredEs_symbol_dispose)return es_symbol_dispose;hasRequiredEs_symbol_dispose=1;var Ye=requireWellKnownSymbolDefine();return Ye("dispose"),es_symbol_dispose}var es_symbol_hasInstance={},hasRequiredEs_symbol_hasInstance;function requireEs_symbol_hasInstance(){if(hasRequiredEs_symbol_hasInstance)return es_symbol_hasInstance;hasRequiredEs_symbol_hasInstance=1;var Ye=requireWellKnownSymbolDefine();return Ye("hasInstance"),es_symbol_hasInstance}var es_symbol_isConcatSpreadable={},hasRequiredEs_symbol_isConcatSpreadable;function requireEs_symbol_isConcatSpreadable(){if(hasRequiredEs_symbol_isConcatSpreadable)return es_symbol_isConcatSpreadable;hasRequiredEs_symbol_isConcatSpreadable=1;var Ye=requireWellKnownSymbolDefine();return Ye("isConcatSpreadable"),es_symbol_isConcatSpreadable}var es_symbol_iterator={},hasRequiredEs_symbol_iterator;function requireEs_symbol_iterator(){if(hasRequiredEs_symbol_iterator)return es_symbol_iterator;hasRequiredEs_symbol_iterator=1;var Ye=requireWellKnownSymbolDefine();return Ye("iterator"),es_symbol_iterator}var es_symbol_match={},hasRequiredEs_symbol_match;function requireEs_symbol_match(){if(hasRequiredEs_symbol_match)return es_symbol_match;hasRequiredEs_symbol_match=1;var Ye=requireWellKnownSymbolDefine();return Ye("match"),es_symbol_match}var es_symbol_matchAll={},hasRequiredEs_symbol_matchAll;function requireEs_symbol_matchAll(){if(hasRequiredEs_symbol_matchAll)return es_symbol_matchAll;hasRequiredEs_symbol_matchAll=1;var Ye=requireWellKnownSymbolDefine();return Ye("matchAll"),es_symbol_matchAll}var es_symbol_replace={},hasRequiredEs_symbol_replace;function requireEs_symbol_replace(){if(hasRequiredEs_symbol_replace)return es_symbol_replace;hasRequiredEs_symbol_replace=1;var Ye=requireWellKnownSymbolDefine();return Ye("replace"),es_symbol_replace}var es_symbol_search={},hasRequiredEs_symbol_search;function requireEs_symbol_search(){if(hasRequiredEs_symbol_search)return es_symbol_search;hasRequiredEs_symbol_search=1;var Ye=requireWellKnownSymbolDefine();return Ye("search"),es_symbol_search}var es_symbol_species={},hasRequiredEs_symbol_species;function requireEs_symbol_species(){if(hasRequiredEs_symbol_species)return es_symbol_species;hasRequiredEs_symbol_species=1;var Ye=requireWellKnownSymbolDefine();return Ye("species"),es_symbol_species}var es_symbol_split={},hasRequiredEs_symbol_split;function requireEs_symbol_split(){if(hasRequiredEs_symbol_split)return es_symbol_split;hasRequiredEs_symbol_split=1;var Ye=requireWellKnownSymbolDefine();return Ye("split"),es_symbol_split}var es_symbol_toPrimitive={},hasRequiredEs_symbol_toPrimitive;function requireEs_symbol_toPrimitive(){if(hasRequiredEs_symbol_toPrimitive)return es_symbol_toPrimitive;hasRequiredEs_symbol_toPrimitive=1;var Ye=requireWellKnownSymbolDefine(),rt=requireSymbolDefineToPrimitive();return Ye("toPrimitive"),rt(),es_symbol_toPrimitive}var es_symbol_toStringTag={},hasRequiredEs_symbol_toStringTag;function requireEs_symbol_toStringTag(){if(hasRequiredEs_symbol_toStringTag)return es_symbol_toStringTag;hasRequiredEs_symbol_toStringTag=1;var Ye=requireGetBuiltIn$1(),rt=requireWellKnownSymbolDefine(),it=requireSetToStringTag();return rt("toStringTag"),it(Ye("Symbol"),"Symbol"),es_symbol_toStringTag}var es_symbol_unscopables={},hasRequiredEs_symbol_unscopables;function requireEs_symbol_unscopables(){if(hasRequiredEs_symbol_unscopables)return es_symbol_unscopables;hasRequiredEs_symbol_unscopables=1;var Ye=requireWellKnownSymbolDefine();return Ye("unscopables"),es_symbol_unscopables}var es_json_toStringTag={},hasRequiredEs_json_toStringTag;function requireEs_json_toStringTag(){if(hasRequiredEs_json_toStringTag)return es_json_toStringTag;hasRequiredEs_json_toStringTag=1;var Ye=requireGlobalThis(),rt=requireSetToStringTag();return rt(Ye.JSON,"JSON",!0),es_json_toStringTag}var symbol$4,hasRequiredSymbol$4;function requireSymbol$4(){if(hasRequiredSymbol$4)return symbol$4;hasRequiredSymbol$4=1,requireEs_array_concat(),requireEs_symbol(),requireEs_symbol_asyncDispose(),requireEs_symbol_asyncIterator(),requireEs_symbol_dispose(),requireEs_symbol_hasInstance(),requireEs_symbol_isConcatSpreadable(),requireEs_symbol_iterator(),requireEs_symbol_match(),requireEs_symbol_matchAll(),requireEs_symbol_replace(),requireEs_symbol_search(),requireEs_symbol_species(),requireEs_symbol_split(),requireEs_symbol_toPrimitive(),requireEs_symbol_toStringTag(),requireEs_symbol_unscopables(),requireEs_json_toStringTag();var Ye=requirePath();return symbol$4=Ye.Symbol,symbol$4}var web_domCollections_iterator={},addToUnscopables,hasRequiredAddToUnscopables;function requireAddToUnscopables(){return hasRequiredAddToUnscopables||(hasRequiredAddToUnscopables=1,addToUnscopables=function(){}),addToUnscopables}var iterators,hasRequiredIterators;function requireIterators(){return hasRequiredIterators||(hasRequiredIterators=1,iterators={}),iterators}var functionName$1,hasRequiredFunctionName$1;function requireFunctionName$1(){if(hasRequiredFunctionName$1)return functionName$1;hasRequiredFunctionName$1=1;var Ye=requireDescriptors$1(),rt=requireHasOwnProperty$1(),it=Function.prototype,lt=Ye&&Object.getOwnPropertyDescriptor,ct=rt(it,"name"),ut=ct&&(function(){}).name==="something",ht=ct&&(!Ye||Ye&&lt(it,"name").configurable);return functionName$1={EXISTS:ct,PROPER:ut,CONFIGURABLE:ht},functionName$1}var correctPrototypeGetter,hasRequiredCorrectPrototypeGetter;function requireCorrectPrototypeGetter(){if(hasRequiredCorrectPrototypeGetter)return correctPrototypeGetter;hasRequiredCorrectPrototypeGetter=1;var Ye=requireFails$1();return correctPrototypeGetter=!Ye(function(){function rt(){}return rt.prototype.constructor=null,Object.getPrototypeOf(new rt)!==rt.prototype}),correctPrototypeGetter}var objectGetPrototypeOf,hasRequiredObjectGetPrototypeOf;function requireObjectGetPrototypeOf(){if(hasRequiredObjectGetPrototypeOf)return objectGetPrototypeOf;hasRequiredObjectGetPrototypeOf=1;var Ye=requireHasOwnProperty$1(),rt=requireIsCallable$1(),it=requireToObject$1(),lt=requireSharedKey$1(),ct=requireCorrectPrototypeGetter(),ut=lt("IE_PROTO"),ht=Object,ft=ht.prototype;return objectGetPrototypeOf=ct?ht.getPrototypeOf:function(pt){var mt=it(pt);if(Ye(mt,ut))return mt[ut];var gt=mt.constructor;return rt(gt)&&mt instanceof gt?gt.prototype:mt instanceof ht?ft:null},objectGetPrototypeOf}var iteratorsCore,hasRequiredIteratorsCore;function requireIteratorsCore(){if(hasRequiredIteratorsCore)return iteratorsCore;hasRequiredIteratorsCore=1;var Ye=requireFails$1(),rt=requireIsCallable$1(),it=requireIsObject$1(),lt=requireObjectCreate$1(),ct=requireObjectGetPrototypeOf(),ut=requireDefineBuiltIn(),ht=requireWellKnownSymbol$1(),ft=requireIsPure$1(),pt=ht("iterator"),mt=!1,gt,yt,xt;[].keys&&(xt=[].keys(),"next"in xt?(yt=ct(ct(xt)),yt!==Object.prototype&&(gt=yt)):mt=!0);var bt=!it(gt)||Ye(function(){var _t={};return gt[pt].call(_t)!==_t});return bt?gt={}:ft&&(gt=lt(gt)),rt(gt[pt])||ut(gt,pt,function(){return this}),iteratorsCore={IteratorPrototype:gt,BUGGY_SAFARI_ITERATORS:mt},iteratorsCore}var iteratorCreateConstructor,hasRequiredIteratorCreateConstructor;function requireIteratorCreateConstructor(){if(hasRequiredIteratorCreateConstructor)return iteratorCreateConstructor;hasRequiredIteratorCreateConstructor=1;var Ye=requireIteratorsCore().IteratorPrototype,rt=requireObjectCreate$1(),it=requireCreatePropertyDescriptor$1(),lt=requireSetToStringTag(),ct=requireIterators(),ut=function(){return this};return iteratorCreateConstructor=function(ht,ft,pt,mt){var gt=ft+" Iterator";return ht.prototype=rt(Ye,{next:it(+!mt,pt)}),lt(ht,gt,!1,!0),ct[gt]=ut,ht},iteratorCreateConstructor}var functionUncurryThisAccessor,hasRequiredFunctionUncurryThisAccessor;function requireFunctionUncurryThisAccessor(){if(hasRequiredFunctionUncurryThisAccessor)return functionUncurryThisAccessor;hasRequiredFunctionUncurryThisAccessor=1;var Ye=requireFunctionUncurryThis(),rt=requireACallable$1();return functionUncurryThisAccessor=function(it,lt,ct){try{return Ye(rt(Object.getOwnPropertyDescriptor(it,lt)[ct]))}catch{}},functionUncurryThisAccessor}var isPossiblePrototype,hasRequiredIsPossiblePrototype;function requireIsPossiblePrototype(){if(hasRequiredIsPossiblePrototype)return isPossiblePrototype;hasRequiredIsPossiblePrototype=1;var Ye=requireIsObject$1();return isPossiblePrototype=function(rt){return Ye(rt)||rt===null},isPossiblePrototype}var aPossiblePrototype,hasRequiredAPossiblePrototype;function requireAPossiblePrototype(){if(hasRequiredAPossiblePrototype)return aPossiblePrototype;hasRequiredAPossiblePrototype=1;var Ye=requireIsPossiblePrototype(),rt=String,it=TypeError;return aPossiblePrototype=function(lt){if(Ye(lt))return lt;throw new it("Can't set "+rt(lt)+" as a prototype")},aPossiblePrototype}var objectSetPrototypeOf,hasRequiredObjectSetPrototypeOf;function requireObjectSetPrototypeOf(){if(hasRequiredObjectSetPrototypeOf)return objectSetPrototypeOf;hasRequiredObjectSetPrototypeOf=1;var Ye=requireFunctionUncurryThisAccessor(),rt=requireIsObject$1(),it=requireRequireObjectCoercible$1(),lt=requireAPossiblePrototype();return objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?(function(){var ct=!1,ut={},ht;try{ht=Ye(Object.prototype,"__proto__","set"),ht(ut,[]),ct=ut instanceof Array}catch{}return function(pt,mt){return it(pt),lt(mt),rt(pt)&&(ct?ht(pt,mt):pt.__proto__=mt),pt}})():void 0),objectSetPrototypeOf}var iteratorDefine,hasRequiredIteratorDefine;function requireIteratorDefine(){if(hasRequiredIteratorDefine)return iteratorDefine;hasRequiredIteratorDefine=1;var Ye=require_export$1(),rt=requireFunctionCall(),it=requireIsPure$1(),lt=requireFunctionName$1(),ct=requireIsCallable$1(),ut=requireIteratorCreateConstructor(),ht=requireObjectGetPrototypeOf(),ft=requireObjectSetPrototypeOf(),pt=requireSetToStringTag(),mt=requireCreateNonEnumerableProperty$1(),gt=requireDefineBuiltIn(),yt=requireWellKnownSymbol$1(),xt=requireIterators(),bt=requireIteratorsCore(),_t=lt.PROPER,Ct=lt.CONFIGURABLE,kt=bt.IteratorPrototype,St=bt.BUGGY_SAFARI_ITERATORS,Rt=yt("iterator"),Tt="keys",Mt="values",Pt="entries",It=function(){return this};return iteratorDefine=function(Lt,Ot,Ft,Ut,Wt,Kt,Qt){ut(Ft,Ot,Ut);var Zt=function(nr){if(nr===Wt&&qt)return qt;if(!St&&nr&&nr in zt)return zt[nr];switch(nr){case Tt:return function(){return new Ft(this,nr)};case Mt:return function(){return new Ft(this,nr)};case Pt:return function(){return new Ft(this,nr)}}return function(){return new Ft(this)}},Vt=Ot+" Iterator",$t=!1,zt=Lt.prototype,Nt=zt[Rt]||zt["@@iterator"]||Wt&&zt[Wt],qt=!St&&Nt||Zt(Wt),Gt=Ot==="Array"&&zt.entries||Nt,Ht,Xt,Bt;if(Gt&&(Ht=ht(Gt.call(new Lt)),Ht!==Object.prototype&&Ht.next&&(!it&&ht(Ht)!==kt&&(ft?ft(Ht,kt):ct(Ht[Rt])||gt(Ht,Rt,It)),pt(Ht,Vt,!0,!0),it&&(xt[Vt]=It))),_t&&Wt===Mt&&Nt&&Nt.name!==Mt&&(!it&&Ct?mt(zt,"name",Mt):($t=!0,qt=function(){return rt(Nt,this)})),Wt)if(Xt={values:Zt(Mt),keys:Kt?qt:Zt(Tt),entries:Zt(Pt)},Qt)for(Bt in Xt)(St||$t||!(Bt in zt))&&gt(zt,Bt,Xt[Bt]);else Ye({target:Ot,proto:!0,forced:St||$t},Xt);return(!it||Qt)&&zt[Rt]!==qt&&gt(zt,Rt,qt,{name:Wt}),xt[Ot]=qt,Xt},iteratorDefine}var createIterResultObject,hasRequiredCreateIterResultObject;function requireCreateIterResultObject(){return hasRequiredCreateIterResultObject||(hasRequiredCreateIterResultObject=1,createIterResultObject=function(Ye,rt){return{value:Ye,done:rt}}),createIterResultObject}var es_array_iterator,hasRequiredEs_array_iterator;function requireEs_array_iterator(){if(hasRequiredEs_array_iterator)return es_array_iterator;hasRequiredEs_array_iterator=1;var Ye=requireToIndexedObject$1(),rt=requireAddToUnscopables(),it=requireIterators(),lt=requireInternalState$1(),ct=requireObjectDefineProperty$1().f,ut=requireIteratorDefine(),ht=requireCreateIterResultObject(),ft=requireIsPure$1(),pt=requireDescriptors$1(),mt="Array Iterator",gt=lt.set,yt=lt.getterFor(mt);es_array_iterator=ut(Array,"Array",function(bt,_t){gt(this,{type:mt,target:Ye(bt),index:0,kind:_t})},function(){var bt=yt(this),_t=bt.target,Ct=bt.index++;if(!_t||Ct>=_t.length)return bt.target=null,ht(void 0,!0);switch(bt.kind){case"keys":return ht(Ct,!1);case"values":return ht(_t[Ct],!1)}return ht([Ct,_t[Ct]],!1)},"values");var xt=it.Arguments=it.Array;if(rt("keys"),rt("values"),rt("entries"),!ft&&pt&&xt.name!=="values")try{ct(xt,"name",{value:"values"})}catch{}return es_array_iterator}var domIterables,hasRequiredDomIterables;function requireDomIterables(){return hasRequiredDomIterables||(hasRequiredDomIterables=1,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),domIterables}var hasRequiredWeb_domCollections_iterator;function requireWeb_domCollections_iterator(){if(hasRequiredWeb_domCollections_iterator)return web_domCollections_iterator;hasRequiredWeb_domCollections_iterator=1,requireEs_array_iterator();var Ye=requireDomIterables(),rt=requireGlobalThis(),it=requireSetToStringTag(),lt=requireIterators();for(var ct in Ye)it(rt[ct],ct),lt[ct]=lt.Array;return web_domCollections_iterator}var symbol$3,hasRequiredSymbol$3;function requireSymbol$3(){if(hasRequiredSymbol$3)return symbol$3;hasRequiredSymbol$3=1;var Ye=requireSymbol$4();return requireWeb_domCollections_iterator(),symbol$3=Ye,symbol$3}var esnext_function_metadata={},hasRequiredEsnext_function_metadata;function requireEsnext_function_metadata(){if(hasRequiredEsnext_function_metadata)return esnext_function_metadata;hasRequiredEsnext_function_metadata=1;var Ye=requireWellKnownSymbol$1(),rt=requireObjectDefineProperty$1().f,it=Ye("metadata"),lt=Function.prototype;return lt[it]===void 0&&rt(lt,it,{value:null}),esnext_function_metadata}var esnext_symbol_asyncDispose={},hasRequiredEsnext_symbol_asyncDispose;function requireEsnext_symbol_asyncDispose(){return hasRequiredEsnext_symbol_asyncDispose||(hasRequiredEsnext_symbol_asyncDispose=1,requireEs_symbol_asyncDispose()),esnext_symbol_asyncDispose}var esnext_symbol_dispose={},hasRequiredEsnext_symbol_dispose;function requireEsnext_symbol_dispose(){return hasRequiredEsnext_symbol_dispose||(hasRequiredEsnext_symbol_dispose=1,requireEs_symbol_dispose()),esnext_symbol_dispose}var esnext_symbol_metadata={},hasRequiredEsnext_symbol_metadata;function requireEsnext_symbol_metadata(){if(hasRequiredEsnext_symbol_metadata)return esnext_symbol_metadata;hasRequiredEsnext_symbol_metadata=1;var Ye=requireWellKnownSymbolDefine();return Ye("metadata"),esnext_symbol_metadata}var symbol$2,hasRequiredSymbol$2;function requireSymbol$2(){if(hasRequiredSymbol$2)return symbol$2;hasRequiredSymbol$2=1;var Ye=requireSymbol$3();return requireEsnext_function_metadata(),requireEsnext_symbol_asyncDispose(),requireEsnext_symbol_dispose(),requireEsnext_symbol_metadata(),symbol$2=Ye,symbol$2}var esnext_symbol_isRegisteredSymbol={},symbolIsRegistered,hasRequiredSymbolIsRegistered;function requireSymbolIsRegistered(){if(hasRequiredSymbolIsRegistered)return symbolIsRegistered;hasRequiredSymbolIsRegistered=1;var Ye=requireGetBuiltIn$1(),rt=requireFunctionUncurryThis(),it=Ye("Symbol"),lt=it.keyFor,ct=rt(it.prototype.valueOf);return symbolIsRegistered=it.isRegisteredSymbol||function(ht){try{return lt(ct(ht))!==void 0}catch{return!1}},symbolIsRegistered}var hasRequiredEsnext_symbol_isRegisteredSymbol;function requireEsnext_symbol_isRegisteredSymbol(){if(hasRequiredEsnext_symbol_isRegisteredSymbol)return esnext_symbol_isRegisteredSymbol;hasRequiredEsnext_symbol_isRegisteredSymbol=1;var Ye=require_export$1(),rt=requireSymbolIsRegistered();return Ye({target:"Symbol",stat:!0},{isRegisteredSymbol:rt}),esnext_symbol_isRegisteredSymbol}var esnext_symbol_isWellKnownSymbol={},symbolIsWellKnown,hasRequiredSymbolIsWellKnown;function requireSymbolIsWellKnown(){if(hasRequiredSymbolIsWellKnown)return symbolIsWellKnown;hasRequiredSymbolIsWellKnown=1;for(var Ye=requireShared$1(),rt=requireGetBuiltIn$1(),it=requireFunctionUncurryThis(),lt=requireIsSymbol$1(),ct=requireWellKnownSymbol$1(),ut=rt("Symbol"),ht=ut.isWellKnownSymbol,ft=rt("Object","getOwnPropertyNames"),pt=it(ut.prototype.valueOf),mt=Ye("wks"),gt=0,yt=ft(ut),xt=yt.length;gt<xt;gt++)try{var bt=yt[gt];lt(ut[bt])&&ct(bt)}catch{}return symbolIsWellKnown=function(Ct){if(ht&&ht(Ct))return!0;try{for(var kt=pt(Ct),St=0,Rt=ft(mt),Tt=Rt.length;St<Tt;St++)if(mt[Rt[St]]==kt)return!0}catch{}return!1},symbolIsWellKnown}var hasRequiredEsnext_symbol_isWellKnownSymbol;function requireEsnext_symbol_isWellKnownSymbol(){if(hasRequiredEsnext_symbol_isWellKnownSymbol)return esnext_symbol_isWellKnownSymbol;hasRequiredEsnext_symbol_isWellKnownSymbol=1;var Ye=require_export$1(),rt=requireSymbolIsWellKnown();return Ye({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:rt}),esnext_symbol_isWellKnownSymbol}var esnext_symbol_customMatcher={},hasRequiredEsnext_symbol_customMatcher;function requireEsnext_symbol_customMatcher(){if(hasRequiredEsnext_symbol_customMatcher)return esnext_symbol_customMatcher;hasRequiredEsnext_symbol_customMatcher=1;var Ye=requireWellKnownSymbolDefine();return Ye("customMatcher"),esnext_symbol_customMatcher}var esnext_symbol_observable={},hasRequiredEsnext_symbol_observable;function requireEsnext_symbol_observable(){if(hasRequiredEsnext_symbol_observable)return esnext_symbol_observable;hasRequiredEsnext_symbol_observable=1;var Ye=requireWellKnownSymbolDefine();return Ye("observable"),esnext_symbol_observable}var esnext_symbol_isRegistered={},hasRequiredEsnext_symbol_isRegistered;function requireEsnext_symbol_isRegistered(){if(hasRequiredEsnext_symbol_isRegistered)return esnext_symbol_isRegistered;hasRequiredEsnext_symbol_isRegistered=1;var Ye=require_export$1(),rt=requireSymbolIsRegistered();return Ye({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:rt}),esnext_symbol_isRegistered}var esnext_symbol_isWellKnown={},hasRequiredEsnext_symbol_isWellKnown;function requireEsnext_symbol_isWellKnown(){if(hasRequiredEsnext_symbol_isWellKnown)return esnext_symbol_isWellKnown;hasRequiredEsnext_symbol_isWellKnown=1;var Ye=require_export$1(),rt=requireSymbolIsWellKnown();return Ye({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:rt}),esnext_symbol_isWellKnown}var esnext_symbol_matcher={},hasRequiredEsnext_symbol_matcher;function requireEsnext_symbol_matcher(){if(hasRequiredEsnext_symbol_matcher)return esnext_symbol_matcher;hasRequiredEsnext_symbol_matcher=1;var Ye=requireWellKnownSymbolDefine();return Ye("matcher"),esnext_symbol_matcher}var esnext_symbol_metadataKey={},hasRequiredEsnext_symbol_metadataKey;function requireEsnext_symbol_metadataKey(){if(hasRequiredEsnext_symbol_metadataKey)return esnext_symbol_metadataKey;hasRequiredEsnext_symbol_metadataKey=1;var Ye=requireWellKnownSymbolDefine();return Ye("metadataKey"),esnext_symbol_metadataKey}var esnext_symbol_patternMatch={},hasRequiredEsnext_symbol_patternMatch;function requireEsnext_symbol_patternMatch(){if(hasRequiredEsnext_symbol_patternMatch)return esnext_symbol_patternMatch;hasRequiredEsnext_symbol_patternMatch=1;var Ye=requireWellKnownSymbolDefine();return Ye("patternMatch"),esnext_symbol_patternMatch}var esnext_symbol_replaceAll={},hasRequiredEsnext_symbol_replaceAll;function requireEsnext_symbol_replaceAll(){if(hasRequiredEsnext_symbol_replaceAll)return esnext_symbol_replaceAll;hasRequiredEsnext_symbol_replaceAll=1;var Ye=requireWellKnownSymbolDefine();return Ye("replaceAll"),esnext_symbol_replaceAll}var symbol$1,hasRequiredSymbol$1;function requireSymbol$1(){if(hasRequiredSymbol$1)return symbol$1;hasRequiredSymbol$1=1;var Ye=requireSymbol$2();return requireEsnext_symbol_isRegisteredSymbol(),requireEsnext_symbol_isWellKnownSymbol(),requireEsnext_symbol_customMatcher(),requireEsnext_symbol_observable(),requireEsnext_symbol_isRegistered(),requireEsnext_symbol_isWellKnown(),requireEsnext_symbol_matcher(),requireEsnext_symbol_metadataKey(),requireEsnext_symbol_patternMatch(),requireEsnext_symbol_replaceAll(),symbol$1=Ye,symbol$1}var symbol,hasRequiredSymbol;function requireSymbol(){return hasRequiredSymbol||(hasRequiredSymbol=1,symbol=requireSymbol$1()),symbol}var symbolExports=requireSymbol();const _Symbol=getDefaultExportFromCjs(symbolExports);var es_string_iterator={},stringMultibyte$1,hasRequiredStringMultibyte$1;function requireStringMultibyte$1(){if(hasRequiredStringMultibyte$1)return stringMultibyte$1;hasRequiredStringMultibyte$1=1;var Ye=requireFunctionUncurryThis(),rt=requireToIntegerOrInfinity$1(),it=requireToString$1(),lt=requireRequireObjectCoercible$1(),ct=Ye("".charAt),ut=Ye("".charCodeAt),ht=Ye("".slice),ft=function(pt){return function(mt,gt){var yt=it(lt(mt)),xt=rt(gt),bt=yt.length,_t,Ct;return xt<0||xt>=bt?pt?"":void 0:(_t=ut(yt,xt),_t<55296||_t>56319||xt+1===bt||(Ct=ut(yt,xt+1))<56320||Ct>57343?pt?ct(yt,xt):_t:pt?ht(yt,xt,xt+2):(_t-55296<<10)+(Ct-56320)+65536)}};return stringMultibyte$1={codeAt:ft(!1),charAt:ft(!0)},stringMultibyte$1}var hasRequiredEs_string_iterator;function requireEs_string_iterator(){if(hasRequiredEs_string_iterator)return es_string_iterator;hasRequiredEs_string_iterator=1;var Ye=requireStringMultibyte$1().charAt,rt=requireToString$1(),it=requireInternalState$1(),lt=requireIteratorDefine(),ct=requireCreateIterResultObject(),ut="String Iterator",ht=it.set,ft=it.getterFor(ut);return lt(String,"String",function(pt){ht(this,{type:ut,string:rt(pt),index:0})},function(){var mt=ft(this),gt=mt.string,yt=mt.index,xt;return yt>=gt.length?ct(void 0,!0):(xt=Ye(gt,yt),mt.index+=xt.length,ct(xt,!1))}),es_string_iterator}var getIteratorMethod$4,hasRequiredGetIteratorMethod$5;function requireGetIteratorMethod$5(){if(hasRequiredGetIteratorMethod$5)return getIteratorMethod$4;hasRequiredGetIteratorMethod$5=1;var Ye=requireClassof$1(),rt=requireGetMethod$1(),it=requireIsNullOrUndefined(),lt=requireIterators(),ct=requireWellKnownSymbol$1(),ut=ct("iterator");return getIteratorMethod$4=function(ht){if(!it(ht))return rt(ht,ut)||rt(ht,"@@iterator")||lt[Ye(ht)]},getIteratorMethod$4}var getIteratorMethod_1,hasRequiredGetIteratorMethod$4;function requireGetIteratorMethod$4(){if(hasRequiredGetIteratorMethod$4)return getIteratorMethod_1;hasRequiredGetIteratorMethod$4=1,requireEs_array_iterator(),requireEs_string_iterator();var Ye=requireGetIteratorMethod$5();return getIteratorMethod_1=Ye,getIteratorMethod_1}var getIteratorMethod$3,hasRequiredGetIteratorMethod$3;function requireGetIteratorMethod$3(){if(hasRequiredGetIteratorMethod$3)return getIteratorMethod$3;hasRequiredGetIteratorMethod$3=1;var Ye=requireGetIteratorMethod$4();return requireWeb_domCollections_iterator(),getIteratorMethod$3=Ye,getIteratorMethod$3}var getIteratorMethod$2,hasRequiredGetIteratorMethod$2;function requireGetIteratorMethod$2(){if(hasRequiredGetIteratorMethod$2)return getIteratorMethod$2;hasRequiredGetIteratorMethod$2=1;var Ye=requireGetIteratorMethod$3();return getIteratorMethod$2=Ye,getIteratorMethod$2}var getIteratorMethod$1,hasRequiredGetIteratorMethod$1;function requireGetIteratorMethod$1(){if(hasRequiredGetIteratorMethod$1)return getIteratorMethod$1;hasRequiredGetIteratorMethod$1=1;var Ye=requireGetIteratorMethod$2();return getIteratorMethod$1=Ye,getIteratorMethod$1}var getIteratorMethod,hasRequiredGetIteratorMethod;function requireGetIteratorMethod(){return hasRequiredGetIteratorMethod||(hasRequiredGetIteratorMethod=1,getIteratorMethod=requireGetIteratorMethod$1()),getIteratorMethod}var getIteratorMethodExports=requireGetIteratorMethod();const _getIteratorMethod=getDefaultExportFromCjs(getIteratorMethodExports);var es_array_push={},arraySetLength,hasRequiredArraySetLength;function requireArraySetLength(){if(hasRequiredArraySetLength)return arraySetLength;hasRequiredArraySetLength=1;var Ye=requireDescriptors$1(),rt=requireIsArray$6(),it=TypeError,lt=Object.getOwnPropertyDescriptor,ct=Ye&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(ut){return ut instanceof TypeError}})();return arraySetLength=ct?function(ut,ht){if(rt(ut)&&!lt(ut,"length").writable)throw new it("Cannot set read only .length");return ut.length=ht}:function(ut,ht){return ut.length=ht},arraySetLength}var hasRequiredEs_array_push;function requireEs_array_push(){if(hasRequiredEs_array_push)return es_array_push;hasRequiredEs_array_push=1;var Ye=require_export$1(),rt=requireToObject$1(),it=requireLengthOfArrayLike$1(),lt=requireArraySetLength(),ct=requireDoesNotExceedSafeInteger(),ut=requireFails$1(),ht=ut(function(){return[].push.call({length:4294967296},1)!==4294967297}),ft=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(mt){return mt instanceof TypeError}},pt=ht||!ft();return Ye({target:"Array",proto:!0,arity:1,forced:pt},{push:function(gt){var yt=rt(this),xt=it(yt),bt=arguments.length;ct(xt+bt);for(var _t=0;_t<bt;_t++)yt[xt]=arguments[_t],xt++;return lt(yt,xt),xt}}),es_array_push}var getBuiltInPrototypeMethod,hasRequiredGetBuiltInPrototypeMethod;function requireGetBuiltInPrototypeMethod(){if(hasRequiredGetBuiltInPrototypeMethod)return getBuiltInPrototypeMethod;hasRequiredGetBuiltInPrototypeMethod=1;var Ye=requireGlobalThis(),rt=requirePath();return getBuiltInPrototypeMethod=function(it,lt){var ct=rt[it+"Prototype"],ut=ct&&ct[lt];if(ut)return ut;var ht=Ye[it],ft=ht&&ht.prototype;return ft&&ft[lt]},getBuiltInPrototypeMethod}var push$5,hasRequiredPush$5;function requirePush$5(){if(hasRequiredPush$5)return push$5;hasRequiredPush$5=1,requireEs_array_push();var Ye=requireGetBuiltInPrototypeMethod();return push$5=Ye("Array","push"),push$5}var push$4,hasRequiredPush$4;function requirePush$4(){if(hasRequiredPush$4)return push$4;hasRequiredPush$4=1;var Ye=requireObjectIsPrototypeOf(),rt=requirePush$5(),it=Array.prototype;return push$4=function(lt){var ct=lt.push;return lt===it||Ye(it,lt)&&ct===it.push?rt:ct},push$4}var push$3,hasRequiredPush$3;function requirePush$3(){if(hasRequiredPush$3)return push$3;hasRequiredPush$3=1;var Ye=requirePush$4();return push$3=Ye,push$3}var push$2,hasRequiredPush$2;function requirePush$2(){if(hasRequiredPush$2)return push$2;hasRequiredPush$2=1;var Ye=requirePush$3();return push$2=Ye,push$2}var push$1,hasRequiredPush$1;function requirePush$1(){if(hasRequiredPush$1)return push$1;hasRequiredPush$1=1;var Ye=requirePush$2();return push$1=Ye,push$1}var push,hasRequiredPush;function requirePush(){return hasRequiredPush||(hasRequiredPush=1,push=requirePush$1()),push}var pushExports=requirePush();const _pushInstanceProperty=getDefaultExportFromCjs(pushExports);function _iterableToArrayLimit(Ye,rt){var it=Ye==null?null:typeof _Symbol<"u"&&_getIteratorMethod(Ye)||Ye["@@iterator"];if(it!=null){var lt,ct,ut,ht,ft=[],pt=!0,mt=!1;try{if(ut=(it=it.call(Ye)).next,rt===0){if(Object(it)!==it)return;pt=!1}else for(;!(pt=(lt=ut.call(it)).done)&&(_pushInstanceProperty(ft).call(ft,lt.value),ft.length!==rt);pt=!0);}catch(gt){mt=!0,ct=gt}finally{try{if(!pt&&it.return!=null&&(ht=it.return(),Object(ht)!==ht))return}finally{if(mt)throw ct}}return ft}}var es_array_slice={},hasRequiredEs_array_slice;function requireEs_array_slice(){if(hasRequiredEs_array_slice)return es_array_slice;hasRequiredEs_array_slice=1;var Ye=require_export$1(),rt=requireIsArray$6(),it=requireIsConstructor(),lt=requireIsObject$1(),ct=requireToAbsoluteIndex$1(),ut=requireLengthOfArrayLike$1(),ht=requireToIndexedObject$1(),ft=requireCreateProperty(),pt=requireWellKnownSymbol$1(),mt=requireArrayMethodHasSpeciesSupport(),gt=requireArraySlice(),yt=mt("slice"),xt=pt("species"),bt=Array,_t=Math.max;return Ye({target:"Array",proto:!0,forced:!yt},{slice:function(kt,St){var Rt=ht(this),Tt=ut(Rt),Mt=ct(kt,Tt),Pt=ct(St===void 0?Tt:St,Tt),It,Lt,Ot;if(rt(Rt)&&(It=Rt.constructor,it(It)&&(It===bt||rt(It.prototype))?It=void 0:lt(It)&&(It=It[xt],It===null&&(It=void 0)),It===bt||It===void 0))return gt(Rt,Mt,Pt);for(Lt=new(It===void 0?bt:It)(_t(Pt-Mt,0)),Ot=0;Mt<Pt;Mt++,Ot++)Mt in Rt&&ft(Lt,Ot,Rt[Mt]);return Lt.length=Ot,Lt}}),es_array_slice}var slice$6,hasRequiredSlice$5;function requireSlice$5(){if(hasRequiredSlice$5)return slice$6;hasRequiredSlice$5=1,requireEs_array_slice();var Ye=requireGetBuiltInPrototypeMethod();return slice$6=Ye("Array","slice"),slice$6}var slice$5,hasRequiredSlice$4;function requireSlice$4(){if(hasRequiredSlice$4)return slice$5;hasRequiredSlice$4=1;var Ye=requireObjectIsPrototypeOf(),rt=requireSlice$5(),it=Array.prototype;return slice$5=function(lt){var ct=lt.slice;return lt===it||Ye(it,lt)&&ct===it.slice?rt:ct},slice$5}var slice$4,hasRequiredSlice$3;function requireSlice$3(){if(hasRequiredSlice$3)return slice$4;hasRequiredSlice$3=1;var Ye=requireSlice$4();return slice$4=Ye,slice$4}var slice$3,hasRequiredSlice$2;function requireSlice$2(){if(hasRequiredSlice$2)return slice$3;hasRequiredSlice$2=1;var Ye=requireSlice$3();return slice$3=Ye,slice$3}var slice$2,hasRequiredSlice$1;function requireSlice$1(){if(hasRequiredSlice$1)return slice$2;hasRequiredSlice$1=1;var Ye=requireSlice$2();return slice$2=Ye,slice$2}var slice$1,hasRequiredSlice;function requireSlice(){return hasRequiredSlice||(hasRequiredSlice=1,slice$1=requireSlice$1()),slice$1}var sliceExports=requireSlice();const _sliceInstanceProperty=getDefaultExportFromCjs(sliceExports);var es_array_from={},iteratorClose,hasRequiredIteratorClose;function requireIteratorClose(){if(hasRequiredIteratorClose)return iteratorClose;hasRequiredIteratorClose=1;var Ye=requireFunctionCall(),rt=requireAnObject$1(),it=requireGetMethod$1();return iteratorClose=function(lt,ct,ut){var ht,ft;rt(lt);try{if(ht=it(lt,"return"),!ht){if(ct==="throw")throw ut;return ut}ht=Ye(ht,lt)}catch(pt){ft=!0,ht=pt}if(ct==="throw")throw ut;if(ft)throw ht;return rt(ht),ut},iteratorClose}var callWithSafeIterationClosing,hasRequiredCallWithSafeIterationClosing;function requireCallWithSafeIterationClosing(){if(hasRequiredCallWithSafeIterationClosing)return callWithSafeIterationClosing;hasRequiredCallWithSafeIterationClosing=1;var Ye=requireAnObject$1(),rt=requireIteratorClose();return callWithSafeIterationClosing=function(it,lt,ct,ut){try{return ut?lt(Ye(ct)[0],ct[1]):lt(ct)}catch(ht){rt(it,"throw",ht)}},callWithSafeIterationClosing}var isArrayIteratorMethod,hasRequiredIsArrayIteratorMethod;function requireIsArrayIteratorMethod(){if(hasRequiredIsArrayIteratorMethod)return isArrayIteratorMethod;hasRequiredIsArrayIteratorMethod=1;var Ye=requireWellKnownSymbol$1(),rt=requireIterators(),it=Ye("iterator"),lt=Array.prototype;return isArrayIteratorMethod=function(ct){return ct!==void 0&&(rt.Array===ct||lt[it]===ct)},isArrayIteratorMethod}var getIterator,hasRequiredGetIterator;function requireGetIterator(){if(hasRequiredGetIterator)return getIterator;hasRequiredGetIterator=1;var Ye=requireFunctionCall(),rt=requireACallable$1(),it=requireAnObject$1(),lt=requireTryToString$1(),ct=requireGetIteratorMethod$5(),ut=TypeError;return getIterator=function(ht,ft){var pt=arguments.length<2?ct(ht):ft;if(rt(pt))return it(Ye(pt,ht));throw new ut(lt(ht)+" is not iterable")},getIterator}var arrayFrom,hasRequiredArrayFrom;function requireArrayFrom(){if(hasRequiredArrayFrom)return arrayFrom;hasRequiredArrayFrom=1;var Ye=requireFunctionBindContext(),rt=requireFunctionCall(),it=requireToObject$1(),lt=requireCallWithSafeIterationClosing(),ct=requireIsArrayIteratorMethod(),ut=requireIsConstructor(),ht=requireLengthOfArrayLike$1(),ft=requireCreateProperty(),pt=requireGetIterator(),mt=requireGetIteratorMethod$5(),gt=Array;return arrayFrom=function(xt){var bt=it(xt),_t=ut(this),Ct=arguments.length,kt=Ct>1?arguments[1]:void 0,St=kt!==void 0;St&&(kt=Ye(kt,Ct>2?arguments[2]:void 0));var Rt=mt(bt),Tt=0,Mt,Pt,It,Lt,Ot,Ft;if(Rt&&!(this===gt&&ct(Rt)))for(Pt=_t?new this:[],Lt=pt(bt,Rt),Ot=Lt.next;!(It=rt(Ot,Lt)).done;Tt++)Ft=St?lt(Lt,kt,[It.value,Tt],!0):It.value,ft(Pt,Tt,Ft);else for(Mt=ht(bt),Pt=_t?new this(Mt):gt(Mt);Mt>Tt;Tt++)Ft=St?kt(bt[Tt],Tt):bt[Tt],ft(Pt,Tt,Ft);return Pt.length=Tt,Pt},arrayFrom}var checkCorrectnessOfIteration,hasRequiredCheckCorrectnessOfIteration;function requireCheckCorrectnessOfIteration(){if(hasRequiredCheckCorrectnessOfIteration)return checkCorrectnessOfIteration;hasRequiredCheckCorrectnessOfIteration=1;var Ye=requireWellKnownSymbol$1(),rt=Ye("iterator"),it=!1;try{var lt=0,ct={next:function(){return{done:!!lt++}},return:function(){it=!0}};ct[rt]=function(){return this},Array.from(ct,function(){throw 2})}catch{}return checkCorrectnessOfIteration=function(ut,ht){try{if(!ht&&!it)return!1}catch{return!1}var ft=!1;try{var pt={};pt[rt]=function(){return{next:function(){return{done:ft=!0}}}},ut(pt)}catch{}return ft},checkCorrectnessOfIteration}var hasRequiredEs_array_from;function requireEs_array_from(){if(hasRequiredEs_array_from)return es_array_from;hasRequiredEs_array_from=1;var Ye=require_export$1(),rt=requireArrayFrom(),it=requireCheckCorrectnessOfIteration(),lt=!it(function(ct){Array.from(ct)});return Ye({target:"Array",stat:!0,forced:lt},{from:rt}),es_array_from}var from$5,hasRequiredFrom$4;function requireFrom$4(){if(hasRequiredFrom$4)return from$5;hasRequiredFrom$4=1,requireEs_string_iterator(),requireEs_array_from();var Ye=requirePath();return from$5=Ye.Array.from,from$5}var from$4,hasRequiredFrom$3;function requireFrom$3(){if(hasRequiredFrom$3)return from$4;hasRequiredFrom$3=1;var Ye=requireFrom$4();return from$4=Ye,from$4}var from$3,hasRequiredFrom$2;function requireFrom$2(){if(hasRequiredFrom$2)return from$3;hasRequiredFrom$2=1;var Ye=requireFrom$3();return from$3=Ye,from$3}var from$2,hasRequiredFrom$1;function requireFrom$1(){if(hasRequiredFrom$1)return from$2;hasRequiredFrom$1=1;var Ye=requireFrom$2();return from$2=Ye,from$2}var from$1,hasRequiredFrom;function requireFrom(){return hasRequiredFrom||(hasRequiredFrom=1,from$1=requireFrom$1()),from$1}var fromExports=requireFrom();const _Array$from=getDefaultExportFromCjs(fromExports);function _arrayLikeToArray(Ye,rt){(rt==null||rt>Ye.length)&&(rt=Ye.length);for(var it=0,lt=Array(rt);it<rt;it++)lt[it]=Ye[it];return lt}function _unsupportedIterableToArray(Ye,rt){if(Ye){var it;if(typeof Ye=="string")return _arrayLikeToArray(Ye,rt);var lt=_sliceInstanceProperty(it={}.toString.call(Ye)).call(it,8,-1);return lt==="Object"&&Ye.constructor&&(lt=Ye.constructor.name),lt==="Map"||lt==="Set"?_Array$from(Ye):lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt)?_arrayLikeToArray(Ye,rt):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Ye,rt){return _arrayWithHoles(Ye)||_iterableToArrayLimit(Ye,rt)||_unsupportedIterableToArray(Ye,rt)||_nonIterableRest()}var classnames$1={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(Ye){(function(){var rt={}.hasOwnProperty;function it(){for(var lt=[],ct=0;ct<arguments.length;ct++){var ut=arguments[ct];if(ut){var ht=typeof ut;if(ht==="string"||ht==="number")lt.push(ut);else if(Array.isArray(ut)){if(ut.length){var ft=it.apply(null,ut);ft&&lt.push(ft)}}else if(ht==="object")if(ut.toString===Object.prototype.toString)for(var pt in ut)rt.call(ut,pt)&&ut[pt]&&lt.push(pt);else lt.push(ut.toString())}}return lt.join(" ")}Ye.exports?(it.default=it,Ye.exports=it):window.classNames=it})()})(classnames$1)),classnames$1.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var Ye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=Ye,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var Ye=requireReactPropTypesSecret();function rt(){}function it(){}return it.resetWarningCache=rt,factoryWithThrowingShims=function(){function lt(ht,ft,pt,mt,gt,yt){if(yt!==Ye){var xt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw xt.name="Invariant Violation",xt}}lt.isRequired=lt;function ct(){return lt}var ut={array:lt,bool:lt,func:lt,number:lt,object:lt,string:lt,symbol:lt,any:lt,arrayOf:ct,element:lt,elementType:lt,instanceOf:ct,node:lt,objectOf:ct,oneOf:ct,oneOfType:ct,shape:ct,exact:ct,checkPropTypes:it,resetWarningCache:rt};return ut.PropTypes=ut,ut},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var context$4=React.createContext({scrollTo:function Ye(){return 0},scrollToBottom:function Ye(){return 0},scrollToEnd:function Ye(){return 0},scrollToStart:function Ye(){return 0},scrollToTop:function Ye(){return 0}});context$4.displayName="ScrollToBottomFunctionContext";function useFunctionContext(){return reactExports.useContext(context$4)}function useScrollToEnd(){var Ye=useFunctionContext(),rt=Ye.scrollToEnd;return rt}var context$3=React.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});context$3.displayName="ScrollToBottomState1Context";var context$2=React.createContext({animating:!1,animatingToEnd:!1,sticky:!0});context$2.displayName="ScrollToBottomState2Context";var context$1=React.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});context$1.displayName="ScrollToBottomStateContext";var stateContexts=[context$1,context$3,context$2];function useStateContext(Ye){return reactExports.useContext(stateContexts[Ye]||stateContexts[0])}function useSticky(){var Ye=useStateContext(2),rt=Ye.sticky;return[rt]}var context=React.createContext({offsetHeight:0,scrollHeight:0,setTarget:function Ye(){return 0},styleToClassName:function Ye(){return""}});context.displayName="ScrollToBottomInternalContext";function useInternalContext(){return reactExports.useContext(context)}function useStyleToClassName(){var Ye=useInternalContext(),rt=Ye.styleToClassName;return rt}var ROOT_STYLE$2={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},AutoHideFollowButton=function Ye(rt){var it=rt.children,lt=rt.className,ct=useSticky(),ut=_slicedToArray(ct,1),ht=ut[0],ft=useStyleToClassName()(ROOT_STYLE$2),pt=useScrollToEnd();return!ht&&React.createElement("button",{className:classNames(ft,(lt||"")+""),onClick:pt,type:"button"},it)};AutoHideFollowButton.defaultProps={children:void 0,className:""};AutoHideFollowButton.propTypes={children:PropTypes.any,className:PropTypes.string};var defineProperty$5={exports:{}},es_object_defineProperty={},hasRequiredEs_object_defineProperty;function requireEs_object_defineProperty(){if(hasRequiredEs_object_defineProperty)return es_object_defineProperty;hasRequiredEs_object_defineProperty=1;var Ye=require_export$1(),rt=requireDescriptors$1(),it=requireObjectDefineProperty$1().f;return Ye({target:"Object",stat:!0,forced:Object.defineProperty!==it,sham:!rt},{defineProperty:it}),es_object_defineProperty}var hasRequiredDefineProperty$5;function requireDefineProperty$5(){if(hasRequiredDefineProperty$5)return defineProperty$5.exports;hasRequiredDefineProperty$5=1,requireEs_object_defineProperty();var Ye=requirePath(),rt=Ye.Object,it=defineProperty$5.exports=function(ct,ut,ht){return rt.defineProperty(ct,ut,ht)};return rt.defineProperty.sham&&(it.sham=!0),defineProperty$5.exports}var defineProperty$4,hasRequiredDefineProperty$4;function requireDefineProperty$4(){if(hasRequiredDefineProperty$4)return defineProperty$4;hasRequiredDefineProperty$4=1;var Ye=requireDefineProperty$5();return defineProperty$4=Ye,defineProperty$4}var defineProperty$3,hasRequiredDefineProperty$3;function requireDefineProperty$3(){if(hasRequiredDefineProperty$3)return defineProperty$3;hasRequiredDefineProperty$3=1;var Ye=requireDefineProperty$4();return defineProperty$3=Ye,defineProperty$3}var defineProperty$2,hasRequiredDefineProperty$2;function requireDefineProperty$2(){if(hasRequiredDefineProperty$2)return defineProperty$2;hasRequiredDefineProperty$2=1;var Ye=requireDefineProperty$3();return defineProperty$2=Ye,defineProperty$2}var defineProperty$1,hasRequiredDefineProperty$1;function requireDefineProperty$1(){return hasRequiredDefineProperty$1||(hasRequiredDefineProperty$1=1,defineProperty$1=requireDefineProperty$2()),defineProperty$1}var definePropertyExports$1=requireDefineProperty$1();const _Object$defineProperty$1=getDefaultExportFromCjs(definePropertyExports$1);var iterator$4,hasRequiredIterator$4;function requireIterator$4(){if(hasRequiredIterator$4)return iterator$4;hasRequiredIterator$4=1,requireEs_array_iterator(),requireEs_string_iterator(),requireEs_symbol_iterator();var Ye=requireWellKnownSymbolWrapped();return iterator$4=Ye.f("iterator"),iterator$4}var iterator$3,hasRequiredIterator$3;function requireIterator$3(){if(hasRequiredIterator$3)return iterator$3;hasRequiredIterator$3=1;var Ye=requireIterator$4();return requireWeb_domCollections_iterator(),iterator$3=Ye,iterator$3}var iterator$2,hasRequiredIterator$2;function requireIterator$2(){if(hasRequiredIterator$2)return iterator$2;hasRequiredIterator$2=1;var Ye=requireIterator$3();return iterator$2=Ye,iterator$2}var iterator$1,hasRequiredIterator$1;function requireIterator$1(){if(hasRequiredIterator$1)return iterator$1;hasRequiredIterator$1=1;var Ye=requireIterator$2();return iterator$1=Ye,iterator$1}var iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=requireIterator$1()),iterator}var iteratorExports=requireIterator();const _Symbol$iterator=getDefaultExportFromCjs(iteratorExports);function _typeof(Ye){"@babel/helpers - typeof";return _typeof=typeof _Symbol=="function"&&typeof _Symbol$iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof _Symbol=="function"&&rt.constructor===_Symbol&&rt!==_Symbol.prototype?"symbol":typeof rt},_typeof(Ye)}var toPrimitive$6,hasRequiredToPrimitive$5;function requireToPrimitive$5(){if(hasRequiredToPrimitive$5)return toPrimitive$6;hasRequiredToPrimitive$5=1,requireEs_symbol_toPrimitive();var Ye=requireWellKnownSymbolWrapped();return toPrimitive$6=Ye.f("toPrimitive"),toPrimitive$6}var toPrimitive$5,hasRequiredToPrimitive$4;function requireToPrimitive$4(){if(hasRequiredToPrimitive$4)return toPrimitive$5;hasRequiredToPrimitive$4=1;var Ye=requireToPrimitive$5();return toPrimitive$5=Ye,toPrimitive$5}var toPrimitive$4,hasRequiredToPrimitive$3;function requireToPrimitive$3(){if(hasRequiredToPrimitive$3)return toPrimitive$4;hasRequiredToPrimitive$3=1;var Ye=requireToPrimitive$4();return toPrimitive$4=Ye,toPrimitive$4}var toPrimitive$3,hasRequiredToPrimitive$2;function requireToPrimitive$2(){if(hasRequiredToPrimitive$2)return toPrimitive$3;hasRequiredToPrimitive$2=1;var Ye=requireToPrimitive$3();return toPrimitive$3=Ye,toPrimitive$3}var toPrimitive$2,hasRequiredToPrimitive$1;function requireToPrimitive$1(){return hasRequiredToPrimitive$1||(hasRequiredToPrimitive$1=1,toPrimitive$2=requireToPrimitive$2()),toPrimitive$2}var toPrimitiveExports=requireToPrimitive$1();const _Symbol$toPrimitive=getDefaultExportFromCjs(toPrimitiveExports);function toPrimitive$1(Ye,rt){if(_typeof(Ye)!="object"||!Ye)return Ye;var it=Ye[_Symbol$toPrimitive];if(it!==void 0){var lt=it.call(Ye,rt);if(_typeof(lt)!="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(Ye)}function toPropertyKey$1(Ye){var rt=toPrimitive$1(Ye,"string");return _typeof(rt)=="symbol"?rt:rt+""}function _defineProperty(Ye,rt,it){return(rt=toPropertyKey$1(rt))in Ye?_Object$defineProperty$1(Ye,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):Ye[rt]=it,Ye}function _arrayWithoutHoles(Ye){if(_Array$isArray$1(Ye))return _arrayLikeToArray(Ye)}function _iterableToArray(Ye){if(typeof _Symbol<"u"&&_getIteratorMethod(Ye)!=null||Ye["@@iterator"]!=null)return _Array$from(Ye)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(Ye){return _arrayWithoutHoles(Ye)||_iterableToArray(Ye)||_unsupportedIterableToArray(Ye)||_nonIterableSpread()}var es_regexp_exec={},global$1,hasRequiredGlobal;function requireGlobal(){if(hasRequiredGlobal)return global$1;hasRequiredGlobal=1;var Ye=function(rt){return rt&&rt.Math==Math&&rt};return global$1=Ye(typeof globalThis=="object"&&globalThis)||Ye(typeof window=="object"&&window)||Ye(typeof self=="object"&&self)||Ye(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||Function("return this")(),global$1}var objectGetOwnPropertyDescriptor={},fails,hasRequiredFails;function requireFails(){return hasRequiredFails||(hasRequiredFails=1,fails=function(Ye){try{return!!Ye()}catch{return!0}}),fails}var descriptors,hasRequiredDescriptors;function requireDescriptors(){if(hasRequiredDescriptors)return descriptors;hasRequiredDescriptors=1;var Ye=requireFails();return descriptors=!Ye(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),descriptors}var objectPropertyIsEnumerable={},hasRequiredObjectPropertyIsEnumerable;function requireObjectPropertyIsEnumerable(){if(hasRequiredObjectPropertyIsEnumerable)return objectPropertyIsEnumerable;hasRequiredObjectPropertyIsEnumerable=1;var Ye={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,it=rt&&!Ye.call({1:2},1);return objectPropertyIsEnumerable.f=it?function(ct){var ut=rt(this,ct);return!!ut&&ut.enumerable}:Ye,objectPropertyIsEnumerable}var createPropertyDescriptor,hasRequiredCreatePropertyDescriptor;function requireCreatePropertyDescriptor(){return hasRequiredCreatePropertyDescriptor||(hasRequiredCreatePropertyDescriptor=1,createPropertyDescriptor=function(Ye,rt){return{enumerable:!(Ye&1),configurable:!(Ye&2),writable:!(Ye&4),value:rt}}),createPropertyDescriptor}var classofRaw,hasRequiredClassofRaw;function requireClassofRaw(){if(hasRequiredClassofRaw)return classofRaw;hasRequiredClassofRaw=1;var Ye={}.toString;return classofRaw=function(rt){return Ye.call(rt).slice(8,-1)},classofRaw}var indexedObject,hasRequiredIndexedObject;function requireIndexedObject(){if(hasRequiredIndexedObject)return indexedObject;hasRequiredIndexedObject=1;var Ye=requireFails(),rt=requireClassofRaw(),it="".split;return indexedObject=Ye(function(){return!Object("z").propertyIsEnumerable(0)})?function(lt){return rt(lt)=="String"?it.call(lt,""):Object(lt)}:Object,indexedObject}var requireObjectCoercible,hasRequiredRequireObjectCoercible;function requireRequireObjectCoercible(){return hasRequiredRequireObjectCoercible||(hasRequiredRequireObjectCoercible=1,requireObjectCoercible=function(Ye){if(Ye==null)throw TypeError("Can't call method on "+Ye);return Ye}),requireObjectCoercible}var toIndexedObject,hasRequiredToIndexedObject;function requireToIndexedObject(){if(hasRequiredToIndexedObject)return toIndexedObject;hasRequiredToIndexedObject=1;var Ye=requireIndexedObject(),rt=requireRequireObjectCoercible();return toIndexedObject=function(it){return Ye(rt(it))},toIndexedObject}var isCallable,hasRequiredIsCallable;function requireIsCallable(){return hasRequiredIsCallable||(hasRequiredIsCallable=1,isCallable=function(Ye){return typeof Ye=="function"}),isCallable}var isObject,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject;hasRequiredIsObject=1;var Ye=requireIsCallable();return isObject=function(rt){return typeof rt=="object"?rt!==null:Ye(rt)},isObject}var getBuiltIn,hasRequiredGetBuiltIn;function requireGetBuiltIn(){if(hasRequiredGetBuiltIn)return getBuiltIn;hasRequiredGetBuiltIn=1;var Ye=requireGlobal(),rt=requireIsCallable(),it=function(lt){return rt(lt)?lt:void 0};return getBuiltIn=function(lt,ct){return arguments.length<2?it(Ye[lt]):Ye[lt]&&Ye[lt][ct]},getBuiltIn}var engineUserAgent,hasRequiredEngineUserAgent;function requireEngineUserAgent(){if(hasRequiredEngineUserAgent)return engineUserAgent;hasRequiredEngineUserAgent=1;var Ye=requireGetBuiltIn();return engineUserAgent=Ye("navigator","userAgent")||"",engineUserAgent}var engineV8Version,hasRequiredEngineV8Version;function requireEngineV8Version(){if(hasRequiredEngineV8Version)return engineV8Version;hasRequiredEngineV8Version=1;var Ye=requireGlobal(),rt=requireEngineUserAgent(),it=Ye.process,lt=Ye.Deno,ct=it&&it.versions||lt&&lt.version,ut=ct&&ct.v8,ht,ft;return ut?(ht=ut.split("."),ft=ht[0]<4?1:ht[0]+ht[1]):rt&&(ht=rt.match(/Edge\/(\d+)/),(!ht||ht[1]>=74)&&(ht=rt.match(/Chrome\/(\d+)/),ht&&(ft=ht[1]))),engineV8Version=ft&&+ft,engineV8Version}var nativeSymbol,hasRequiredNativeSymbol;function requireNativeSymbol(){if(hasRequiredNativeSymbol)return nativeSymbol;hasRequiredNativeSymbol=1;var Ye=requireEngineV8Version(),rt=requireFails();return nativeSymbol=!!Object.getOwnPropertySymbols&&!rt(function(){var it=Symbol();return!String(it)||!(Object(it)instanceof Symbol)||!Symbol.sham&&Ye&&Ye<41}),nativeSymbol}var useSymbolAsUid,hasRequiredUseSymbolAsUid;function requireUseSymbolAsUid(){if(hasRequiredUseSymbolAsUid)return useSymbolAsUid;hasRequiredUseSymbolAsUid=1;var Ye=requireNativeSymbol();return useSymbolAsUid=Ye&&!Symbol.sham&&typeof Symbol.iterator=="symbol",useSymbolAsUid}var isSymbol,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol;hasRequiredIsSymbol=1;var Ye=requireIsCallable(),rt=requireGetBuiltIn(),it=requireUseSymbolAsUid();return isSymbol=it?function(lt){return typeof lt=="symbol"}:function(lt){var ct=rt("Symbol");return Ye(ct)&&Object(lt)instanceof ct},isSymbol}var tryToString,hasRequiredTryToString;function requireTryToString(){return hasRequiredTryToString||(hasRequiredTryToString=1,tryToString=function(Ye){try{return String(Ye)}catch{return"Object"}}),tryToString}var aCallable,hasRequiredACallable;function requireACallable(){if(hasRequiredACallable)return aCallable;hasRequiredACallable=1;var Ye=requireIsCallable(),rt=requireTryToString();return aCallable=function(it){if(Ye(it))return it;throw TypeError(rt(it)+" is not a function")},aCallable}var getMethod,hasRequiredGetMethod;function requireGetMethod(){if(hasRequiredGetMethod)return getMethod;hasRequiredGetMethod=1;var Ye=requireACallable();return getMethod=function(rt,it){var lt=rt[it];return lt==null?void 0:Ye(lt)},getMethod}var ordinaryToPrimitive,hasRequiredOrdinaryToPrimitive;function requireOrdinaryToPrimitive(){if(hasRequiredOrdinaryToPrimitive)return ordinaryToPrimitive;hasRequiredOrdinaryToPrimitive=1;var Ye=requireIsCallable(),rt=requireIsObject();return ordinaryToPrimitive=function(it,lt){var ct,ut;if(lt==="string"&&Ye(ct=it.toString)&&!rt(ut=ct.call(it))||Ye(ct=it.valueOf)&&!rt(ut=ct.call(it))||lt!=="string"&&Ye(ct=it.toString)&&!rt(ut=ct.call(it)))return ut;throw TypeError("Can't convert object to primitive value")},ordinaryToPrimitive}var shared={exports:{}},isPure,hasRequiredIsPure;function requireIsPure(){return hasRequiredIsPure||(hasRequiredIsPure=1,isPure=!1),isPure}var setGlobal,hasRequiredSetGlobal;function requireSetGlobal(){if(hasRequiredSetGlobal)return setGlobal;hasRequiredSetGlobal=1;var Ye=requireGlobal();return setGlobal=function(rt,it){try{Object.defineProperty(Ye,rt,{value:it,configurable:!0,writable:!0})}catch{Ye[rt]=it}return it},setGlobal}var sharedStore,hasRequiredSharedStore;function requireSharedStore(){if(hasRequiredSharedStore)return sharedStore;hasRequiredSharedStore=1;var Ye=requireGlobal(),rt=requireSetGlobal(),it="__core-js_shared__",lt=Ye[it]||rt(it,{});return sharedStore=lt,sharedStore}var hasRequiredShared;function requireShared(){if(hasRequiredShared)return shared.exports;hasRequiredShared=1;var Ye=requireIsPure(),rt=requireSharedStore();return(shared.exports=function(it,lt){return rt[it]||(rt[it]=lt!==void 0?lt:{})})("versions",[]).push({version:"3.18.3",mode:Ye?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"}),shared.exports}var toObject,hasRequiredToObject;function requireToObject(){if(hasRequiredToObject)return toObject;hasRequiredToObject=1;var Ye=requireRequireObjectCoercible();return toObject=function(rt){return Object(Ye(rt))},toObject}var hasOwnProperty_1,hasRequiredHasOwnProperty;function requireHasOwnProperty(){if(hasRequiredHasOwnProperty)return hasOwnProperty_1;hasRequiredHasOwnProperty=1;var Ye=requireToObject(),rt={}.hasOwnProperty;return hasOwnProperty_1=Object.hasOwn||function(lt,ct){return rt.call(Ye(lt),ct)},hasOwnProperty_1}var uid,hasRequiredUid;function requireUid(){if(hasRequiredUid)return uid;hasRequiredUid=1;var Ye=0,rt=Math.random();return uid=function(it){return"Symbol("+String(it===void 0?"":it)+")_"+(++Ye+rt).toString(36)},uid}var wellKnownSymbol,hasRequiredWellKnownSymbol;function requireWellKnownSymbol(){if(hasRequiredWellKnownSymbol)return wellKnownSymbol;hasRequiredWellKnownSymbol=1;var Ye=requireGlobal(),rt=requireShared(),it=requireHasOwnProperty(),lt=requireUid(),ct=requireNativeSymbol(),ut=requireUseSymbolAsUid(),ht=rt("wks"),ft=Ye.Symbol,pt=ut?ft:ft&&ft.withoutSetter||lt;return wellKnownSymbol=function(mt){return(!it(ht,mt)||!(ct||typeof ht[mt]=="string"))&&(ct&&it(ft,mt)?ht[mt]=ft[mt]:ht[mt]=pt("Symbol."+mt)),ht[mt]},wellKnownSymbol}var toPrimitive,hasRequiredToPrimitive;function requireToPrimitive(){if(hasRequiredToPrimitive)return toPrimitive;hasRequiredToPrimitive=1;var Ye=requireIsObject(),rt=requireIsSymbol(),it=requireGetMethod(),lt=requireOrdinaryToPrimitive(),ct=requireWellKnownSymbol(),ut=ct("toPrimitive");return toPrimitive=function(ht,ft){if(!Ye(ht)||rt(ht))return ht;var pt=it(ht,ut),mt;if(pt){if(ft===void 0&&(ft="default"),mt=pt.call(ht,ft),!Ye(mt)||rt(mt))return mt;throw TypeError("Can't convert object to primitive value")}return ft===void 0&&(ft="number"),lt(ht,ft)},toPrimitive}var toPropertyKey,hasRequiredToPropertyKey;function requireToPropertyKey(){if(hasRequiredToPropertyKey)return toPropertyKey;hasRequiredToPropertyKey=1;var Ye=requireToPrimitive(),rt=requireIsSymbol();return toPropertyKey=function(it){var lt=Ye(it,"string");return rt(lt)?lt:String(lt)},toPropertyKey}var documentCreateElement,hasRequiredDocumentCreateElement;function requireDocumentCreateElement(){if(hasRequiredDocumentCreateElement)return documentCreateElement;hasRequiredDocumentCreateElement=1;var Ye=requireGlobal(),rt=requireIsObject(),it=Ye.document,lt=rt(it)&&rt(it.createElement);return documentCreateElement=function(ct){return lt?it.createElement(ct):{}},documentCreateElement}var ie8DomDefine,hasRequiredIe8DomDefine;function requireIe8DomDefine(){if(hasRequiredIe8DomDefine)return ie8DomDefine;hasRequiredIe8DomDefine=1;var Ye=requireDescriptors(),rt=requireFails(),it=requireDocumentCreateElement();return ie8DomDefine=!Ye&&!rt(function(){return Object.defineProperty(it("div"),"a",{get:function(){return 7}}).a!=7}),ie8DomDefine}var hasRequiredObjectGetOwnPropertyDescriptor;function requireObjectGetOwnPropertyDescriptor(){if(hasRequiredObjectGetOwnPropertyDescriptor)return objectGetOwnPropertyDescriptor;hasRequiredObjectGetOwnPropertyDescriptor=1;var Ye=requireDescriptors(),rt=requireObjectPropertyIsEnumerable(),it=requireCreatePropertyDescriptor(),lt=requireToIndexedObject(),ct=requireToPropertyKey(),ut=requireHasOwnProperty(),ht=requireIe8DomDefine(),ft=Object.getOwnPropertyDescriptor;return objectGetOwnPropertyDescriptor.f=Ye?ft:function(mt,gt){if(mt=lt(mt),gt=ct(gt),ht)try{return ft(mt,gt)}catch{}if(ut(mt,gt))return it(!rt.f.call(mt,gt),mt[gt])},objectGetOwnPropertyDescriptor}var objectDefineProperty={},anObject,hasRequiredAnObject;function requireAnObject(){if(hasRequiredAnObject)return anObject;hasRequiredAnObject=1;var Ye=requireIsObject();return anObject=function(rt){if(Ye(rt))return rt;throw TypeError(String(rt)+" is not an object")},anObject}var hasRequiredObjectDefineProperty;function requireObjectDefineProperty(){if(hasRequiredObjectDefineProperty)return objectDefineProperty;hasRequiredObjectDefineProperty=1;var Ye=requireDescriptors(),rt=requireIe8DomDefine(),it=requireAnObject(),lt=requireToPropertyKey(),ct=Object.defineProperty;return objectDefineProperty.f=Ye?ct:function(ht,ft,pt){if(it(ht),ft=lt(ft),it(pt),rt)try{return ct(ht,ft,pt)}catch{}if("get"in pt||"set"in pt)throw TypeError("Accessors not supported");return"value"in pt&&(ht[ft]=pt.value),ht},objectDefineProperty}var createNonEnumerableProperty,hasRequiredCreateNonEnumerableProperty;function requireCreateNonEnumerableProperty(){if(hasRequiredCreateNonEnumerableProperty)return createNonEnumerableProperty;hasRequiredCreateNonEnumerableProperty=1;var Ye=requireDescriptors(),rt=requireObjectDefineProperty(),it=requireCreatePropertyDescriptor();return createNonEnumerableProperty=Ye?function(lt,ct,ut){return rt.f(lt,ct,it(1,ut))}:function(lt,ct,ut){return lt[ct]=ut,lt},createNonEnumerableProperty}var redefine={exports:{}},inspectSource,hasRequiredInspectSource;function requireInspectSource(){if(hasRequiredInspectSource)return inspectSource;hasRequiredInspectSource=1;var Ye=requireIsCallable(),rt=requireSharedStore(),it=Function.toString;return Ye(rt.inspectSource)||(rt.inspectSource=function(lt){return it.call(lt)}),inspectSource=rt.inspectSource,inspectSource}var nativeWeakMap,hasRequiredNativeWeakMap;function requireNativeWeakMap(){if(hasRequiredNativeWeakMap)return nativeWeakMap;hasRequiredNativeWeakMap=1;var Ye=requireGlobal(),rt=requireIsCallable(),it=requireInspectSource(),lt=Ye.WeakMap;return nativeWeakMap=rt(lt)&&/native code/.test(it(lt)),nativeWeakMap}var sharedKey,hasRequiredSharedKey;function requireSharedKey(){if(hasRequiredSharedKey)return sharedKey;hasRequiredSharedKey=1;var Ye=requireShared(),rt=requireUid(),it=Ye("keys");return sharedKey=function(lt){return it[lt]||(it[lt]=rt(lt))},sharedKey}var hiddenKeys,hasRequiredHiddenKeys;function requireHiddenKeys(){return hasRequiredHiddenKeys||(hasRequiredHiddenKeys=1,hiddenKeys={}),hiddenKeys}var internalState,hasRequiredInternalState;function requireInternalState(){if(hasRequiredInternalState)return internalState;hasRequiredInternalState=1;var Ye=requireNativeWeakMap(),rt=requireGlobal(),it=requireIsObject(),lt=requireCreateNonEnumerableProperty(),ct=requireHasOwnProperty(),ut=requireSharedStore(),ht=requireSharedKey(),ft=requireHiddenKeys(),pt="Object already initialized",mt=rt.WeakMap,gt,yt,xt,bt=function(Mt){return xt(Mt)?yt(Mt):gt(Mt,{})},_t=function(Mt){return function(Pt){var It;if(!it(Pt)||(It=yt(Pt)).type!==Mt)throw TypeError("Incompatible receiver, "+Mt+" required");return It}};if(Ye||ut.state){var Ct=ut.state||(ut.state=new mt),kt=Ct.get,St=Ct.has,Rt=Ct.set;gt=function(Mt,Pt){if(St.call(Ct,Mt))throw new TypeError(pt);return Pt.facade=Mt,Rt.call(Ct,Mt,Pt),Pt},yt=function(Mt){return kt.call(Ct,Mt)||{}},xt=function(Mt){return St.call(Ct,Mt)}}else{var Tt=ht("state");ft[Tt]=!0,gt=function(Mt,Pt){if(ct(Mt,Tt))throw new TypeError(pt);return Pt.facade=Mt,lt(Mt,Tt,Pt),Pt},yt=function(Mt){return ct(Mt,Tt)?Mt[Tt]:{}},xt=function(Mt){return ct(Mt,Tt)}}return internalState={set:gt,get:yt,has:xt,enforce:bt,getterFor:_t},internalState}var functionName,hasRequiredFunctionName;function requireFunctionName(){if(hasRequiredFunctionName)return functionName;hasRequiredFunctionName=1;var Ye=requireDescriptors(),rt=requireHasOwnProperty(),it=Function.prototype,lt=Ye&&Object.getOwnPropertyDescriptor,ct=rt(it,"name"),ut=ct&&(function(){}).name==="something",ht=ct&&(!Ye||Ye&&lt(it,"name").configurable);return functionName={EXISTS:ct,PROPER:ut,CONFIGURABLE:ht},functionName}var hasRequiredRedefine;function requireRedefine(){if(hasRequiredRedefine)return redefine.exports;hasRequiredRedefine=1;var Ye=requireGlobal(),rt=requireIsCallable(),it=requireHasOwnProperty(),lt=requireCreateNonEnumerableProperty(),ct=requireSetGlobal(),ut=requireInspectSource(),ht=requireInternalState(),ft=requireFunctionName().CONFIGURABLE,pt=ht.get,mt=ht.enforce,gt=String(String).split("String");return(redefine.exports=function(yt,xt,bt,_t){var Ct=_t?!!_t.unsafe:!1,kt=_t?!!_t.enumerable:!1,St=_t?!!_t.noTargetGet:!1,Rt=_t&&_t.name!==void 0?_t.name:xt,Tt;if(rt(bt)&&(String(Rt).slice(0,7)==="Symbol("&&(Rt="["+String(Rt).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!it(bt,"name")||ft&&bt.name!==Rt)&&lt(bt,"name",Rt),Tt=mt(bt),Tt.source||(Tt.source=gt.join(typeof Rt=="string"?Rt:""))),yt===Ye){kt?yt[xt]=bt:ct(xt,bt);return}else Ct?!St&&yt[xt]&&(kt=!0):delete yt[xt];kt?yt[xt]=bt:lt(yt,xt,bt)})(Function.prototype,"toString",function(){return rt(this)&&pt(this).source||ut(this)}),redefine.exports}var objectGetOwnPropertyNames={},toIntegerOrInfinity,hasRequiredToIntegerOrInfinity;function requireToIntegerOrInfinity(){if(hasRequiredToIntegerOrInfinity)return toIntegerOrInfinity;hasRequiredToIntegerOrInfinity=1;var Ye=Math.ceil,rt=Math.floor;return toIntegerOrInfinity=function(it){var lt=+it;return lt!==lt||lt===0?0:(lt>0?rt:Ye)(lt)},toIntegerOrInfinity}var toAbsoluteIndex,hasRequiredToAbsoluteIndex;function requireToAbsoluteIndex(){if(hasRequiredToAbsoluteIndex)return toAbsoluteIndex;hasRequiredToAbsoluteIndex=1;var Ye=requireToIntegerOrInfinity(),rt=Math.max,it=Math.min;return toAbsoluteIndex=function(lt,ct){var ut=Ye(lt);return ut<0?rt(ut+ct,0):it(ut,ct)},toAbsoluteIndex}var toLength,hasRequiredToLength;function requireToLength(){if(hasRequiredToLength)return toLength;hasRequiredToLength=1;var Ye=requireToIntegerOrInfinity(),rt=Math.min;return toLength=function(it){return it>0?rt(Ye(it),9007199254740991):0},toLength}var lengthOfArrayLike,hasRequiredLengthOfArrayLike;function requireLengthOfArrayLike(){if(hasRequiredLengthOfArrayLike)return lengthOfArrayLike;hasRequiredLengthOfArrayLike=1;var Ye=requireToLength();return lengthOfArrayLike=function(rt){return Ye(rt.length)},lengthOfArrayLike}var arrayIncludes,hasRequiredArrayIncludes;function requireArrayIncludes(){if(hasRequiredArrayIncludes)return arrayIncludes;hasRequiredArrayIncludes=1;var Ye=requireToIndexedObject(),rt=requireToAbsoluteIndex(),it=requireLengthOfArrayLike(),lt=function(ct){return function(ut,ht,ft){var pt=Ye(ut),mt=it(pt),gt=rt(ft,mt),yt;if(ct&&ht!=ht){for(;mt>gt;)if(yt=pt[gt++],yt!=yt)return!0}else for(;mt>gt;gt++)if((ct||gt in pt)&&pt[gt]===ht)return ct||gt||0;return!ct&&-1}};return arrayIncludes={includes:lt(!0),indexOf:lt(!1)},arrayIncludes}var objectKeysInternal,hasRequiredObjectKeysInternal;function requireObjectKeysInternal(){if(hasRequiredObjectKeysInternal)return objectKeysInternal;hasRequiredObjectKeysInternal=1;var Ye=requireHasOwnProperty(),rt=requireToIndexedObject(),it=requireArrayIncludes().indexOf,lt=requireHiddenKeys();return objectKeysInternal=function(ct,ut){var ht=rt(ct),ft=0,pt=[],mt;for(mt in ht)!Ye(lt,mt)&&Ye(ht,mt)&&pt.push(mt);for(;ut.length>ft;)Ye(ht,mt=ut[ft++])&&(~it(pt,mt)||pt.push(mt));return pt},objectKeysInternal}var enumBugKeys,hasRequiredEnumBugKeys;function requireEnumBugKeys(){return hasRequiredEnumBugKeys||(hasRequiredEnumBugKeys=1,enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),enumBugKeys}var hasRequiredObjectGetOwnPropertyNames;function requireObjectGetOwnPropertyNames(){if(hasRequiredObjectGetOwnPropertyNames)return objectGetOwnPropertyNames;hasRequiredObjectGetOwnPropertyNames=1;var Ye=requireObjectKeysInternal(),rt=requireEnumBugKeys(),it=rt.concat("length","prototype");return objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(ct){return Ye(ct,it)},objectGetOwnPropertyNames}var objectGetOwnPropertySymbols={},hasRequiredObjectGetOwnPropertySymbols;function requireObjectGetOwnPropertySymbols(){return hasRequiredObjectGetOwnPropertySymbols||(hasRequiredObjectGetOwnPropertySymbols=1,objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols),objectGetOwnPropertySymbols}var ownKeys$2,hasRequiredOwnKeys$1;function requireOwnKeys$1(){if(hasRequiredOwnKeys$1)return ownKeys$2;hasRequiredOwnKeys$1=1;var Ye=requireGetBuiltIn(),rt=requireObjectGetOwnPropertyNames(),it=requireObjectGetOwnPropertySymbols(),lt=requireAnObject();return ownKeys$2=Ye("Reflect","ownKeys")||function(ut){var ht=rt.f(lt(ut)),ft=it.f;return ft?ht.concat(ft(ut)):ht},ownKeys$2}var copyConstructorProperties,hasRequiredCopyConstructorProperties;function requireCopyConstructorProperties(){if(hasRequiredCopyConstructorProperties)return copyConstructorProperties;hasRequiredCopyConstructorProperties=1;var Ye=requireHasOwnProperty(),rt=requireOwnKeys$1(),it=requireObjectGetOwnPropertyDescriptor(),lt=requireObjectDefineProperty();return copyConstructorProperties=function(ct,ut){for(var ht=rt(ut),ft=lt.f,pt=it.f,mt=0;mt<ht.length;mt++){var gt=ht[mt];Ye(ct,gt)||ft(ct,gt,pt(ut,gt))}},copyConstructorProperties}var isForced_1,hasRequiredIsForced;function requireIsForced(){if(hasRequiredIsForced)return isForced_1;hasRequiredIsForced=1;var Ye=requireFails(),rt=requireIsCallable(),it=/#|\.prototype\./,lt=function(pt,mt){var gt=ut[ct(pt)];return gt==ft?!0:gt==ht?!1:rt(mt)?Ye(mt):!!mt},ct=lt.normalize=function(pt){return String(pt).replace(it,".").toLowerCase()},ut=lt.data={},ht=lt.NATIVE="N",ft=lt.POLYFILL="P";return isForced_1=lt,isForced_1}var _export,hasRequired_export;function require_export(){if(hasRequired_export)return _export;hasRequired_export=1;var Ye=requireGlobal(),rt=requireObjectGetOwnPropertyDescriptor().f,it=requireCreateNonEnumerableProperty(),lt=requireRedefine(),ct=requireSetGlobal(),ut=requireCopyConstructorProperties(),ht=requireIsForced();return _export=function(ft,pt){var mt=ft.target,gt=ft.global,yt=ft.stat,xt,bt,_t,Ct,kt,St;if(gt?bt=Ye:yt?bt=Ye[mt]||ct(mt,{}):bt=(Ye[mt]||{}).prototype,bt)for(_t in pt){if(kt=pt[_t],ft.noTargetGet?(St=rt(bt,_t),Ct=St&&St.value):Ct=bt[_t],xt=ht(gt?_t:mt+(yt?".":"#")+_t,ft.forced),!xt&&Ct!==void 0){if(typeof kt==typeof Ct)continue;ut(kt,Ct)}(ft.sham||Ct&&Ct.sham)&&it(kt,"sham",!0),lt(bt,_t,kt,ft)}},_export}var toStringTagSupport,hasRequiredToStringTagSupport;function requireToStringTagSupport(){if(hasRequiredToStringTagSupport)return toStringTagSupport;hasRequiredToStringTagSupport=1;var Ye=requireWellKnownSymbol(),rt=Ye("toStringTag"),it={};return it[rt]="z",toStringTagSupport=String(it)==="[object z]",toStringTagSupport}var classof,hasRequiredClassof;function requireClassof(){if(hasRequiredClassof)return classof;hasRequiredClassof=1;var Ye=requireToStringTagSupport(),rt=requireIsCallable(),it=requireClassofRaw(),lt=requireWellKnownSymbol(),ct=lt("toStringTag"),ut=it((function(){return arguments})())=="Arguments",ht=function(ft,pt){try{return ft[pt]}catch{}};return classof=Ye?it:function(ft){var pt,mt,gt;return ft===void 0?"Undefined":ft===null?"Null":typeof(mt=ht(pt=Object(ft),ct))=="string"?mt:ut?it(pt):(gt=it(pt))=="Object"&&rt(pt.callee)?"Arguments":gt},classof}var toString,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString;hasRequiredToString=1;var Ye=requireClassof();return toString=function(rt){if(Ye(rt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(rt)},toString}var regexpFlags,hasRequiredRegexpFlags;function requireRegexpFlags(){if(hasRequiredRegexpFlags)return regexpFlags;hasRequiredRegexpFlags=1;var Ye=requireAnObject();return regexpFlags=function(){var rt=Ye(this),it="";return rt.global&&(it+="g"),rt.ignoreCase&&(it+="i"),rt.multiline&&(it+="m"),rt.dotAll&&(it+="s"),rt.unicode&&(it+="u"),rt.sticky&&(it+="y"),it},regexpFlags}var regexpStickyHelpers={},hasRequiredRegexpStickyHelpers;function requireRegexpStickyHelpers(){if(hasRequiredRegexpStickyHelpers)return regexpStickyHelpers;hasRequiredRegexpStickyHelpers=1;var Ye=requireFails(),rt=requireGlobal(),it=rt.RegExp;return regexpStickyHelpers.UNSUPPORTED_Y=Ye(function(){var lt=it("a","y");return lt.lastIndex=2,lt.exec("abcd")!=null}),regexpStickyHelpers.BROKEN_CARET=Ye(function(){var lt=it("^r","gy");return lt.lastIndex=2,lt.exec("str")!=null}),regexpStickyHelpers}var objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var Ye=requireObjectKeysInternal(),rt=requireEnumBugKeys();return objectKeys=Object.keys||function(lt){return Ye(lt,rt)},objectKeys}var objectDefineProperties,hasRequiredObjectDefineProperties;function requireObjectDefineProperties(){if(hasRequiredObjectDefineProperties)return objectDefineProperties;hasRequiredObjectDefineProperties=1;var Ye=requireDescriptors(),rt=requireObjectDefineProperty(),it=requireAnObject(),lt=requireObjectKeys();return objectDefineProperties=Ye?Object.defineProperties:function(ut,ht){it(ut);for(var ft=lt(ht),pt=ft.length,mt=0,gt;pt>mt;)rt.f(ut,gt=ft[mt++],ht[gt]);return ut},objectDefineProperties}var html,hasRequiredHtml;function requireHtml(){if(hasRequiredHtml)return html;hasRequiredHtml=1;var Ye=requireGetBuiltIn();return html=Ye("document","documentElement"),html}var objectCreate,hasRequiredObjectCreate;function requireObjectCreate(){if(hasRequiredObjectCreate)return objectCreate;hasRequiredObjectCreate=1;var Ye=requireAnObject(),rt=requireObjectDefineProperties(),it=requireEnumBugKeys(),lt=requireHiddenKeys(),ct=requireHtml(),ut=requireDocumentCreateElement(),ht=requireSharedKey(),ft=">",pt="<",mt="prototype",gt="script",yt=ht("IE_PROTO"),xt=function(){},bt=function(Rt){return pt+gt+ft+Rt+pt+"/"+gt+ft},_t=function(Rt){Rt.write(bt("")),Rt.close();var Tt=Rt.parentWindow.Object;return Rt=null,Tt},Ct=function(){var Rt=ut("iframe"),Tt="java"+gt+":",Mt;return Rt.style.display="none",ct.appendChild(Rt),Rt.src=String(Tt),Mt=Rt.contentWindow.document,Mt.open(),Mt.write(bt("document.F=Object")),Mt.close(),Mt.F},kt,St=function(){try{kt=new ActiveXObject("htmlfile")}catch{}St=typeof document<"u"?document.domain&&kt?_t(kt):Ct():_t(kt);for(var Rt=it.length;Rt--;)delete St[mt][it[Rt]];return St()};return lt[yt]=!0,objectCreate=Object.create||function(Tt,Mt){var Pt;return Tt!==null?(xt[mt]=Ye(Tt),Pt=new xt,xt[mt]=null,Pt[yt]=Tt):Pt=St(),Mt===void 0?Pt:rt(Pt,Mt)},objectCreate}var regexpUnsupportedDotAll,hasRequiredRegexpUnsupportedDotAll;function requireRegexpUnsupportedDotAll(){if(hasRequiredRegexpUnsupportedDotAll)return regexpUnsupportedDotAll;hasRequiredRegexpUnsupportedDotAll=1;var Ye=requireFails(),rt=requireGlobal(),it=rt.RegExp;return regexpUnsupportedDotAll=Ye(function(){var lt=it(".","s");return!(lt.dotAll&&lt.exec(`
`)&&lt.flags==="s")}),regexpUnsupportedDotAll}var regexpUnsupportedNcg,hasRequiredRegexpUnsupportedNcg;function requireRegexpUnsupportedNcg(){if(hasRequiredRegexpUnsupportedNcg)return regexpUnsupportedNcg;hasRequiredRegexpUnsupportedNcg=1;var Ye=requireFails(),rt=requireGlobal(),it=rt.RegExp;return regexpUnsupportedNcg=Ye(function(){var lt=it("(?<a>b)","g");return lt.exec("b").groups.a!=="b"||"b".replace(lt,"$<a>c")!=="bc"}),regexpUnsupportedNcg}var regexpExec,hasRequiredRegexpExec;function requireRegexpExec(){if(hasRequiredRegexpExec)return regexpExec;hasRequiredRegexpExec=1;var Ye=requireToString(),rt=requireRegexpFlags(),it=requireRegexpStickyHelpers(),lt=requireShared(),ct=requireObjectCreate(),ut=requireInternalState().get,ht=requireRegexpUnsupportedDotAll(),ft=requireRegexpUnsupportedNcg(),pt=RegExp.prototype.exec,mt=lt("native-string-replace",String.prototype.replace),gt=pt,yt=(function(){var Ct=/a/,kt=/b*/g;return pt.call(Ct,"a"),pt.call(kt,"a"),Ct.lastIndex!==0||kt.lastIndex!==0})(),xt=it.UNSUPPORTED_Y||it.BROKEN_CARET,bt=/()??/.exec("")[1]!==void 0,_t=yt||bt||xt||ht||ft;return _t&&(gt=function(kt){var St=this,Rt=ut(St),Tt=Ye(kt),Mt=Rt.raw,Pt,It,Lt,Ot,Ft,Ut,Wt;if(Mt)return Mt.lastIndex=St.lastIndex,Pt=gt.call(Mt,Tt),St.lastIndex=Mt.lastIndex,Pt;var Kt=Rt.groups,Qt=xt&&St.sticky,Zt=rt.call(St),Vt=St.source,$t=0,zt=Tt;if(Qt&&(Zt=Zt.replace("y",""),Zt.indexOf("g")===-1&&(Zt+="g"),zt=Tt.slice(St.lastIndex),St.lastIndex>0&&(!St.multiline||St.multiline&&Tt.charAt(St.lastIndex-1)!==`
`)&&(Vt="(?: "+Vt+")",zt=" "+zt,$t++),It=new RegExp("^(?:"+Vt+")",Zt)),bt&&(It=new RegExp("^"+Vt+"$(?!\\s)",Zt)),yt&&(Lt=St.lastIndex),Ot=pt.call(Qt?It:St,zt),Qt?Ot?(Ot.input=Ot.input.slice($t),Ot[0]=Ot[0].slice($t),Ot.index=St.lastIndex,St.lastIndex+=Ot[0].length):St.lastIndex=0:yt&&Ot&&(St.lastIndex=St.global?Ot.index+Ot[0].length:Lt),bt&&Ot&&Ot.length>1&&mt.call(Ot[0],It,function(){for(Ft=1;Ft<arguments.length-2;Ft++)arguments[Ft]===void 0&&(Ot[Ft]=void 0)}),Ot&&Kt)for(Ot.groups=Ut=ct(null),Ft=0;Ft<Kt.length;Ft++)Wt=Kt[Ft],Ut[Wt[0]]=Ot[Wt[1]];return Ot}),regexpExec=gt,regexpExec}var hasRequiredEs_regexp_exec;function requireEs_regexp_exec(){if(hasRequiredEs_regexp_exec)return es_regexp_exec;hasRequiredEs_regexp_exec=1;var Ye=require_export(),rt=requireRegexpExec();return Ye({target:"RegExp",proto:!0,forced:/./.exec!==rt},{exec:rt}),es_regexp_exec}requireEs_regexp_exec();var es_string_replace={},fixRegexpWellKnownSymbolLogic,hasRequiredFixRegexpWellKnownSymbolLogic;function requireFixRegexpWellKnownSymbolLogic(){if(hasRequiredFixRegexpWellKnownSymbolLogic)return fixRegexpWellKnownSymbolLogic;hasRequiredFixRegexpWellKnownSymbolLogic=1,requireEs_regexp_exec();var Ye=requireRedefine(),rt=requireRegexpExec(),it=requireFails(),lt=requireWellKnownSymbol(),ct=requireCreateNonEnumerableProperty(),ut=lt("species"),ht=RegExp.prototype;return fixRegexpWellKnownSymbolLogic=function(ft,pt,mt,gt){var yt=lt(ft),xt=!it(function(){var kt={};return kt[yt]=function(){return 7},""[ft](kt)!=7}),bt=xt&&!it(function(){var kt=!1,St=/a/;return ft==="split"&&(St={},St.constructor={},St.constructor[ut]=function(){return St},St.flags="",St[yt]=/./[yt]),St.exec=function(){return kt=!0,null},St[yt](""),!kt});if(!xt||!bt||mt){var _t=/./[yt],Ct=pt(yt,""[ft],function(kt,St,Rt,Tt,Mt){var Pt=St.exec;return Pt===rt||Pt===ht.exec?xt&&!Mt?{done:!0,value:_t.call(St,Rt,Tt)}:{done:!0,value:kt.call(Rt,St,Tt)}:{done:!1}});Ye(String.prototype,ft,Ct[0]),Ye(ht,yt,Ct[1])}gt&&ct(ht[yt],"sham",!0)},fixRegexpWellKnownSymbolLogic}var stringMultibyte,hasRequiredStringMultibyte;function requireStringMultibyte(){if(hasRequiredStringMultibyte)return stringMultibyte;hasRequiredStringMultibyte=1;var Ye=requireToIntegerOrInfinity(),rt=requireToString(),it=requireRequireObjectCoercible(),lt=function(ct){return function(ut,ht){var ft=rt(it(ut)),pt=Ye(ht),mt=ft.length,gt,yt;return pt<0||pt>=mt?ct?"":void 0:(gt=ft.charCodeAt(pt),gt<55296||gt>56319||pt+1===mt||(yt=ft.charCodeAt(pt+1))<56320||yt>57343?ct?ft.charAt(pt):gt:ct?ft.slice(pt,pt+2):(gt-55296<<10)+(yt-56320)+65536)}};return stringMultibyte={codeAt:lt(!1),charAt:lt(!0)},stringMultibyte}var advanceStringIndex,hasRequiredAdvanceStringIndex;function requireAdvanceStringIndex(){if(hasRequiredAdvanceStringIndex)return advanceStringIndex;hasRequiredAdvanceStringIndex=1;var Ye=requireStringMultibyte().charAt;return advanceStringIndex=function(rt,it,lt){return it+(lt?Ye(rt,it).length:1)},advanceStringIndex}var getSubstitution,hasRequiredGetSubstitution;function requireGetSubstitution(){if(hasRequiredGetSubstitution)return getSubstitution;hasRequiredGetSubstitution=1;var Ye=requireToObject(),rt=Math.floor,it="".replace,lt=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ct=/\$([$&'`]|\d{1,2})/g;return getSubstitution=function(ut,ht,ft,pt,mt,gt){var yt=ft+ut.length,xt=pt.length,bt=ct;return mt!==void 0&&(mt=Ye(mt),bt=lt),it.call(gt,bt,function(_t,Ct){var kt;switch(Ct.charAt(0)){case"$":return"$";case"&":return ut;case"`":return ht.slice(0,ft);case"'":return ht.slice(yt);case"<":kt=mt[Ct.slice(1,-1)];break;default:var St=+Ct;if(St===0)return _t;if(St>xt){var Rt=rt(St/10);return Rt===0?_t:Rt<=xt?pt[Rt-1]===void 0?Ct.charAt(1):pt[Rt-1]+Ct.charAt(1):_t}kt=pt[St-1]}return kt===void 0?"":kt})},getSubstitution}var regexpExecAbstract,hasRequiredRegexpExecAbstract;function requireRegexpExecAbstract(){if(hasRequiredRegexpExecAbstract)return regexpExecAbstract;hasRequiredRegexpExecAbstract=1;var Ye=requireAnObject(),rt=requireIsCallable(),it=requireClassofRaw(),lt=requireRegexpExec();return regexpExecAbstract=function(ct,ut){var ht=ct.exec;if(rt(ht)){var ft=ht.call(ct,ut);return ft!==null&&Ye(ft),ft}if(it(ct)==="RegExp")return lt.call(ct,ut);throw TypeError("RegExp#exec called on incompatible receiver")},regexpExecAbstract}var hasRequiredEs_string_replace;function requireEs_string_replace(){if(hasRequiredEs_string_replace)return es_string_replace;hasRequiredEs_string_replace=1;var Ye=requireFixRegexpWellKnownSymbolLogic(),rt=requireFails(),it=requireAnObject(),lt=requireIsCallable(),ct=requireToIntegerOrInfinity(),ut=requireToLength(),ht=requireToString(),ft=requireRequireObjectCoercible(),pt=requireAdvanceStringIndex(),mt=requireGetMethod(),gt=requireGetSubstitution(),yt=requireRegexpExecAbstract(),xt=requireWellKnownSymbol(),bt=xt("replace"),_t=Math.max,Ct=Math.min,kt=function(Mt){return Mt===void 0?Mt:String(Mt)},St=(function(){return"a".replace(/./,"$0")==="$0"})(),Rt=(function(){return/./[bt]?/./[bt]("a","$0")==="":!1})(),Tt=!rt(function(){var Mt=/./;return Mt.exec=function(){var Pt=[];return Pt.groups={a:"7"},Pt},"".replace(Mt,"$<a>")!=="7"});return Ye("replace",function(Mt,Pt,It){var Lt=Rt?"$":"$0";return[function(Ft,Ut){var Wt=ft(this),Kt=Ft==null?void 0:mt(Ft,bt);return Kt?Kt.call(Ft,Wt,Ut):Pt.call(ht(Wt),Ft,Ut)},function(Ot,Ft){var Ut=it(this),Wt=ht(Ot);if(typeof Ft=="string"&&Ft.indexOf(Lt)===-1&&Ft.indexOf("$<")===-1){var Kt=It(Pt,Ut,Wt,Ft);if(Kt.done)return Kt.value}var Qt=lt(Ft);Qt||(Ft=ht(Ft));var Zt=Ut.global;if(Zt){var Vt=Ut.unicode;Ut.lastIndex=0}for(var $t=[];;){var zt=yt(Ut,Wt);if(zt===null||($t.push(zt),!Zt))break;var Nt=ht(zt[0]);Nt===""&&(Ut.lastIndex=pt(Wt,ut(Ut.lastIndex),Vt))}for(var qt="",Gt=0,Ht=0;Ht<$t.length;Ht++){zt=$t[Ht];for(var Xt=ht(zt[0]),Bt=_t(Ct(ct(zt.index),Wt.length),0),nr=[],rr=1;rr<zt.length;rr++)nr.push(kt(zt[rr]));var Jt=zt.groups;if(Qt){var ir=[Xt].concat(nr,Bt,Wt);Jt!==void 0&&ir.push(Jt);var ar=ht(Ft.apply(void 0,ir))}else ar=gt(Xt,Wt,Bt,nr,Jt,Ft);Bt>=Gt&&(qt+=Wt.slice(Gt,Bt)+ar,Gt=Bt+Xt.length)}return qt+Wt.slice(Gt)}]},!Tt||!St||Rt),es_string_replace}requireEs_string_replace();var web_timers={},web_setInterval={},environment,hasRequiredEnvironment;function requireEnvironment(){if(hasRequiredEnvironment)return environment;hasRequiredEnvironment=1;var Ye=requireGlobalThis(),rt=requireEnvironmentUserAgent(),it=requireClassofRaw$1(),lt=function(ct){return rt.slice(0,ct.length)===ct};return environment=(function(){return lt("Bun/")?"BUN":lt("Cloudflare-Workers")?"CLOUDFLARE":lt("Deno/")?"DENO":lt("Node.js/")?"NODE":Ye.Bun&&typeof Bun.version=="string"?"BUN":Ye.Deno&&typeof Deno.version=="object"?"DENO":it(Ye.process)==="process"?"NODE":Ye.window&&Ye.document?"BROWSER":"REST"})(),environment}var validateArgumentsLength,hasRequiredValidateArgumentsLength;function requireValidateArgumentsLength(){if(hasRequiredValidateArgumentsLength)return validateArgumentsLength;hasRequiredValidateArgumentsLength=1;var Ye=TypeError;return validateArgumentsLength=function(rt,it){if(rt<it)throw new Ye("Not enough arguments");return rt},validateArgumentsLength}var schedulersFix,hasRequiredSchedulersFix;function requireSchedulersFix(){if(hasRequiredSchedulersFix)return schedulersFix;hasRequiredSchedulersFix=1;var Ye=requireGlobalThis(),rt=requireFunctionApply(),it=requireIsCallable$1(),lt=requireEnvironment(),ct=requireEnvironmentUserAgent(),ut=requireArraySlice(),ht=requireValidateArgumentsLength(),ft=Ye.Function,pt=/MSIE .\./.test(ct)||lt==="BUN"&&(function(){var mt=Ye.Bun.version.split(".");return mt.length<3||mt[0]==="0"&&(mt[1]<3||mt[1]==="3"&&mt[2]==="0")})();return schedulersFix=function(mt,gt){var yt=gt?2:1;return pt?function(xt,bt){var _t=ht(arguments.length,1)>yt,Ct=it(xt)?xt:ft(xt),kt=_t?ut(arguments,yt):[],St=_t?function(){rt(Ct,this,kt)}:Ct;return gt?mt(St,bt):mt(St)}:mt},schedulersFix}var hasRequiredWeb_setInterval;function requireWeb_setInterval(){if(hasRequiredWeb_setInterval)return web_setInterval;hasRequiredWeb_setInterval=1;var Ye=require_export$1(),rt=requireGlobalThis(),it=requireSchedulersFix(),lt=it(rt.setInterval,!0);return Ye({global:!0,bind:!0,forced:rt.setInterval!==lt},{setInterval:lt}),web_setInterval}var web_setTimeout={},hasRequiredWeb_setTimeout;function requireWeb_setTimeout(){if(hasRequiredWeb_setTimeout)return web_setTimeout;hasRequiredWeb_setTimeout=1;var Ye=require_export$1(),rt=requireGlobalThis(),it=requireSchedulersFix(),lt=it(rt.setTimeout,!0);return Ye({global:!0,bind:!0,forced:rt.setTimeout!==lt},{setTimeout:lt}),web_setTimeout}var hasRequiredWeb_timers;function requireWeb_timers(){return hasRequiredWeb_timers||(hasRequiredWeb_timers=1,requireWeb_setInterval(),requireWeb_setTimeout()),web_timers}var setInterval$2,hasRequiredSetInterval$1;function requireSetInterval$1(){if(hasRequiredSetInterval$1)return setInterval$2;hasRequiredSetInterval$1=1,requireWeb_timers();var Ye=requirePath();return setInterval$2=Ye.setInterval,setInterval$2}var setInterval$1,hasRequiredSetInterval;function requireSetInterval(){return hasRequiredSetInterval||(hasRequiredSetInterval=1,setInterval$1=requireSetInterval$1()),setInterval$1}var setIntervalExports=requireSetInterval();const _setInterval=getDefaultExportFromCjs(setIntervalExports);var es_array_indexOf={},arrayMethodIsStrict,hasRequiredArrayMethodIsStrict;function requireArrayMethodIsStrict(){if(hasRequiredArrayMethodIsStrict)return arrayMethodIsStrict;hasRequiredArrayMethodIsStrict=1;var Ye=requireFails$1();return arrayMethodIsStrict=function(rt,it){var lt=[][rt];return!!lt&&Ye(function(){lt.call(null,it||function(){return 1},1)})},arrayMethodIsStrict}var hasRequiredEs_array_indexOf;function requireEs_array_indexOf(){if(hasRequiredEs_array_indexOf)return es_array_indexOf;hasRequiredEs_array_indexOf=1;var Ye=require_export$1(),rt=requireFunctionUncurryThisClause(),it=requireArrayIncludes$1().indexOf,lt=requireArrayMethodIsStrict(),ct=rt([].indexOf),ut=!!ct&&1/ct([1],1,-0)<0,ht=ut||!lt("indexOf");return Ye({target:"Array",proto:!0,forced:ht},{indexOf:function(pt){var mt=arguments.length>1?arguments[1]:void 0;return ut?ct(this,pt,mt)||0:it(this,pt,mt)}}),es_array_indexOf}var indexOf$3,hasRequiredIndexOf$3;function requireIndexOf$3(){if(hasRequiredIndexOf$3)return indexOf$3;hasRequiredIndexOf$3=1,requireEs_array_indexOf();var Ye=requireGetBuiltInPrototypeMethod();return indexOf$3=Ye("Array","indexOf"),indexOf$3}var indexOf$2,hasRequiredIndexOf$2;function requireIndexOf$2(){if(hasRequiredIndexOf$2)return indexOf$2;hasRequiredIndexOf$2=1;var Ye=requireObjectIsPrototypeOf(),rt=requireIndexOf$3(),it=Array.prototype;return indexOf$2=function(lt){var ct=lt.indexOf;return lt===it||Ye(it,lt)&&ct===it.indexOf?rt:ct},indexOf$2}var indexOf$1,hasRequiredIndexOf$1;function requireIndexOf$1(){if(hasRequiredIndexOf$1)return indexOf$1;hasRequiredIndexOf$1=1;var Ye=requireIndexOf$2();return indexOf$1=Ye,indexOf$1}var indexOf,hasRequiredIndexOf;function requireIndexOf(){return hasRequiredIndexOf||(hasRequiredIndexOf=1,indexOf=requireIndexOf$1()),indexOf}var indexOfExports=requireIndexOf();const _indexOfInstanceProperty=getDefaultExportFromCjs(indexOfExports);var es_array_splice={},deletePropertyOrThrow,hasRequiredDeletePropertyOrThrow;function requireDeletePropertyOrThrow(){if(hasRequiredDeletePropertyOrThrow)return deletePropertyOrThrow;hasRequiredDeletePropertyOrThrow=1;var Ye=requireTryToString$1(),rt=TypeError;return deletePropertyOrThrow=function(it,lt){if(!delete it[lt])throw new rt("Cannot delete property "+Ye(lt)+" of "+Ye(it))},deletePropertyOrThrow}var hasRequiredEs_array_splice;function requireEs_array_splice(){if(hasRequiredEs_array_splice)return es_array_splice;hasRequiredEs_array_splice=1;var Ye=require_export$1(),rt=requireToObject$1(),it=requireToAbsoluteIndex$1(),lt=requireToIntegerOrInfinity$1(),ct=requireLengthOfArrayLike$1(),ut=requireArraySetLength(),ht=requireDoesNotExceedSafeInteger(),ft=requireArraySpeciesCreate(),pt=requireCreateProperty(),mt=requireDeletePropertyOrThrow(),gt=requireArrayMethodHasSpeciesSupport(),yt=gt("splice"),xt=Math.max,bt=Math.min;return Ye({target:"Array",proto:!0,forced:!yt},{splice:function(Ct,kt){var St=rt(this),Rt=ct(St),Tt=it(Ct,Rt),Mt=arguments.length,Pt,It,Lt,Ot,Ft,Ut;for(Mt===0?Pt=It=0:Mt===1?(Pt=0,It=Rt-Tt):(Pt=Mt-2,It=bt(xt(lt(kt),0),Rt-Tt)),ht(Rt+Pt-It),Lt=ft(St,It),Ot=0;Ot<It;Ot++)Ft=Tt+Ot,Ft in St&&pt(Lt,Ot,St[Ft]);if(Lt.length=It,Pt<It){for(Ot=Tt;Ot<Rt-It;Ot++)Ft=Ot+It,Ut=Ot+Pt,Ft in St?St[Ut]=St[Ft]:mt(St,Ut);for(Ot=Rt;Ot>Rt-It+Pt;Ot--)mt(St,Ot-1)}else if(Pt>It)for(Ot=Rt-It;Ot>Tt;Ot--)Ft=Ot+It-1,Ut=Ot+Pt-1,Ft in St?St[Ut]=St[Ft]:mt(St,Ut);for(Ot=0;Ot<Pt;Ot++)St[Ot+Tt]=arguments[Ot+2];return ut(St,Rt-It+Pt),Lt}}),es_array_splice}var splice$3,hasRequiredSplice$3;function requireSplice$3(){if(hasRequiredSplice$3)return splice$3;hasRequiredSplice$3=1,requireEs_array_splice();var Ye=requireGetBuiltInPrototypeMethod();return splice$3=Ye("Array","splice"),splice$3}var splice$2,hasRequiredSplice$2;function requireSplice$2(){if(hasRequiredSplice$2)return splice$2;hasRequiredSplice$2=1;var Ye=requireObjectIsPrototypeOf(),rt=requireSplice$3(),it=Array.prototype;return splice$2=function(lt){var ct=lt.splice;return lt===it||Ye(it,lt)&&ct===it.splice?rt:ct},splice$2}var splice$1,hasRequiredSplice$1;function requireSplice$1(){if(hasRequiredSplice$1)return splice$1;hasRequiredSplice$1=1;var Ye=requireSplice$2();return splice$1=Ye,splice$1}var splice,hasRequiredSplice;function requireSplice(){return hasRequiredSplice||(hasRequiredSplice=1,splice=requireSplice$1()),splice}var spliceExports=requireSplice();const _spliceInstanceProperty=getDefaultExportFromCjs(spliceExports);var concat$3,hasRequiredConcat$3;function requireConcat$3(){if(hasRequiredConcat$3)return concat$3;hasRequiredConcat$3=1,requireEs_array_concat();var Ye=requireGetBuiltInPrototypeMethod();return concat$3=Ye("Array","concat"),concat$3}var concat$2,hasRequiredConcat$2;function requireConcat$2(){if(hasRequiredConcat$2)return concat$2;hasRequiredConcat$2=1;var Ye=requireObjectIsPrototypeOf(),rt=requireConcat$3(),it=Array.prototype;return concat$2=function(lt){var ct=lt.concat;return lt===it||Ye(it,lt)&&ct===it.concat?rt:ct},concat$2}var concat$1,hasRequiredConcat$1;function requireConcat$1(){if(hasRequiredConcat$1)return concat$1;hasRequiredConcat$1=1;var Ye=requireConcat$2();return concat$1=Ye,concat$1}var concat,hasRequiredConcat;function requireConcat(){return hasRequiredConcat||(hasRequiredConcat=1,concat=requireConcat$1()),concat}var concatExports=requireConcat();const _concatInstanceProperty=getDefaultExportFromCjs(concatExports);var es_date_now={},hasRequiredEs_date_now;function requireEs_date_now(){if(hasRequiredEs_date_now)return es_date_now;hasRequiredEs_date_now=1;var Ye=require_export$1(),rt=requireFunctionUncurryThis(),it=Date,lt=rt(it.prototype.getTime);return Ye({target:"Date",stat:!0},{now:function(){return lt(new it)}}),es_date_now}var now$2,hasRequiredNow$2;function requireNow$2(){if(hasRequiredNow$2)return now$2;hasRequiredNow$2=1,requireEs_date_now();var Ye=requirePath();return now$2=Ye.Date.now,now$2}var now$1,hasRequiredNow$1;function requireNow$1(){if(hasRequiredNow$1)return now$1;hasRequiredNow$1=1;var Ye=requireNow$2();return now$1=Ye,now$1}var now,hasRequiredNow;function requireNow(){return hasRequiredNow||(hasRequiredNow=1,now=requireNow$1()),now}var nowExports=requireNow();const _Date$now=getDefaultExportFromCjs(nowExports);var es_array_forEach={},arrayForEach,hasRequiredArrayForEach;function requireArrayForEach(){if(hasRequiredArrayForEach)return arrayForEach;hasRequiredArrayForEach=1;var Ye=requireArrayIteration().forEach,rt=requireArrayMethodIsStrict(),it=rt("forEach");return arrayForEach=it?[].forEach:function(ct){return Ye(this,ct,arguments.length>1?arguments[1]:void 0)},arrayForEach}var hasRequiredEs_array_forEach;function requireEs_array_forEach(){if(hasRequiredEs_array_forEach)return es_array_forEach;hasRequiredEs_array_forEach=1;var Ye=require_export$1(),rt=requireArrayForEach();return Ye({target:"Array",proto:!0,forced:[].forEach!==rt},{forEach:rt}),es_array_forEach}var forEach$3,hasRequiredForEach$3;function requireForEach$3(){if(hasRequiredForEach$3)return forEach$3;hasRequiredForEach$3=1,requireEs_array_forEach();var Ye=requireGetBuiltInPrototypeMethod();return forEach$3=Ye("Array","forEach"),forEach$3}var forEach$2,hasRequiredForEach$2;function requireForEach$2(){if(hasRequiredForEach$2)return forEach$2;hasRequiredForEach$2=1;var Ye=requireForEach$3();return forEach$2=Ye,forEach$2}var forEach$1,hasRequiredForEach$1;function requireForEach$1(){if(hasRequiredForEach$1)return forEach$1;hasRequiredForEach$1=1;var Ye=requireClassof$1(),rt=requireHasOwnProperty$1(),it=requireObjectIsPrototypeOf(),lt=requireForEach$2(),ct=Array.prototype,ut={DOMTokenList:!0,NodeList:!0};return forEach$1=function(ht){var ft=ht.forEach;return ht===ct||it(ct,ht)&&ft===ct.forEach||rt(ut,Ye(ht))?lt:ft},forEach$1}var forEach,hasRequiredForEach;function requireForEach(){return hasRequiredForEach||(hasRequiredForEach=1,forEach=requireForEach$1()),forEach}var forEachExports=requireForEach();const _forEachInstanceProperty=getDefaultExportFromCjs(forEachExports);var es_object_keys={},hasRequiredEs_object_keys;function requireEs_object_keys(){if(hasRequiredEs_object_keys)return es_object_keys;hasRequiredEs_object_keys=1;var Ye=require_export$1(),rt=requireToObject$1(),it=requireObjectKeys$1(),lt=requireFails$1(),ct=lt(function(){it(1)});return Ye({target:"Object",stat:!0,forced:ct},{keys:function(ht){return it(rt(ht))}}),es_object_keys}var keys$2,hasRequiredKeys$2;function requireKeys$2(){if(hasRequiredKeys$2)return keys$2;hasRequiredKeys$2=1,requireEs_object_keys();var Ye=requirePath();return keys$2=Ye.Object.keys,keys$2}var keys$1,hasRequiredKeys$1;function requireKeys$1(){if(hasRequiredKeys$1)return keys$1;hasRequiredKeys$1=1;var Ye=requireKeys$2();return keys$1=Ye,keys$1}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireKeys$1()),keys}var keysExports=requireKeys();const _Object$keys=getDefaultExportFromCjs(keysExports);var getOwnPropertySymbols$2,hasRequiredGetOwnPropertySymbols$2;function requireGetOwnPropertySymbols$2(){if(hasRequiredGetOwnPropertySymbols$2)return getOwnPropertySymbols$2;hasRequiredGetOwnPropertySymbols$2=1,requireEs_symbol();var Ye=requirePath();return getOwnPropertySymbols$2=Ye.Object.getOwnPropertySymbols,getOwnPropertySymbols$2}var getOwnPropertySymbols$1,hasRequiredGetOwnPropertySymbols$1;function requireGetOwnPropertySymbols$1(){if(hasRequiredGetOwnPropertySymbols$1)return getOwnPropertySymbols$1;hasRequiredGetOwnPropertySymbols$1=1;var Ye=requireGetOwnPropertySymbols$2();return getOwnPropertySymbols$1=Ye,getOwnPropertySymbols$1}var getOwnPropertySymbols,hasRequiredGetOwnPropertySymbols;function requireGetOwnPropertySymbols(){return hasRequiredGetOwnPropertySymbols||(hasRequiredGetOwnPropertySymbols=1,getOwnPropertySymbols=requireGetOwnPropertySymbols$1()),getOwnPropertySymbols}var getOwnPropertySymbolsExports=requireGetOwnPropertySymbols();const _Object$getOwnPropertySymbols=getDefaultExportFromCjs(getOwnPropertySymbolsExports);var es_array_filter={},hasRequiredEs_array_filter;function requireEs_array_filter(){if(hasRequiredEs_array_filter)return es_array_filter;hasRequiredEs_array_filter=1;var Ye=require_export$1(),rt=requireArrayIteration().filter,it=requireArrayMethodHasSpeciesSupport(),lt=it("filter");return Ye({target:"Array",proto:!0,forced:!lt},{filter:function(ut){return rt(this,ut,arguments.length>1?arguments[1]:void 0)}}),es_array_filter}var filter$3,hasRequiredFilter$3;function requireFilter$3(){if(hasRequiredFilter$3)return filter$3;hasRequiredFilter$3=1,requireEs_array_filter();var Ye=requireGetBuiltInPrototypeMethod();return filter$3=Ye("Array","filter"),filter$3}var filter$2,hasRequiredFilter$2;function requireFilter$2(){if(hasRequiredFilter$2)return filter$2;hasRequiredFilter$2=1;var Ye=requireObjectIsPrototypeOf(),rt=requireFilter$3(),it=Array.prototype;return filter$2=function(lt){var ct=lt.filter;return lt===it||Ye(it,lt)&&ct===it.filter?rt:ct},filter$2}var filter$1,hasRequiredFilter$1;function requireFilter$1(){if(hasRequiredFilter$1)return filter$1;hasRequiredFilter$1=1;var Ye=requireFilter$2();return filter$1=Ye,filter$1}var filter,hasRequiredFilter;function requireFilter(){return hasRequiredFilter||(hasRequiredFilter=1,filter=requireFilter$1()),filter}var filterExports=requireFilter();const _filterInstanceProperty=getDefaultExportFromCjs(filterExports);var getOwnPropertyDescriptor$2={exports:{}},es_object_getOwnPropertyDescriptor={},hasRequiredEs_object_getOwnPropertyDescriptor;function requireEs_object_getOwnPropertyDescriptor(){if(hasRequiredEs_object_getOwnPropertyDescriptor)return es_object_getOwnPropertyDescriptor;hasRequiredEs_object_getOwnPropertyDescriptor=1;var Ye=require_export$1(),rt=requireFails$1(),it=requireToIndexedObject$1(),lt=requireObjectGetOwnPropertyDescriptor$1().f,ct=requireDescriptors$1(),ut=!ct||rt(function(){lt(1)});return Ye({target:"Object",stat:!0,forced:ut,sham:!ct},{getOwnPropertyDescriptor:function(ft,pt){return lt(it(ft),pt)}}),es_object_getOwnPropertyDescriptor}var hasRequiredGetOwnPropertyDescriptor$2;function requireGetOwnPropertyDescriptor$2(){if(hasRequiredGetOwnPropertyDescriptor$2)return getOwnPropertyDescriptor$2.exports;hasRequiredGetOwnPropertyDescriptor$2=1,requireEs_object_getOwnPropertyDescriptor();var Ye=requirePath(),rt=Ye.Object,it=getOwnPropertyDescriptor$2.exports=function(ct,ut){return rt.getOwnPropertyDescriptor(ct,ut)};return rt.getOwnPropertyDescriptor.sham&&(it.sham=!0),getOwnPropertyDescriptor$2.exports}var getOwnPropertyDescriptor$1,hasRequiredGetOwnPropertyDescriptor$1;function requireGetOwnPropertyDescriptor$1(){if(hasRequiredGetOwnPropertyDescriptor$1)return getOwnPropertyDescriptor$1;hasRequiredGetOwnPropertyDescriptor$1=1;var Ye=requireGetOwnPropertyDescriptor$2();return getOwnPropertyDescriptor$1=Ye,getOwnPropertyDescriptor$1}var getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){return hasRequiredGetOwnPropertyDescriptor||(hasRequiredGetOwnPropertyDescriptor=1,getOwnPropertyDescriptor=requireGetOwnPropertyDescriptor$1()),getOwnPropertyDescriptor}var getOwnPropertyDescriptorExports=requireGetOwnPropertyDescriptor();const _Object$getOwnPropertyDescriptor=getDefaultExportFromCjs(getOwnPropertyDescriptorExports);var es_object_getOwnPropertyDescriptors={},ownKeys$1,hasRequiredOwnKeys;function requireOwnKeys(){if(hasRequiredOwnKeys)return ownKeys$1;hasRequiredOwnKeys=1;var Ye=requireGetBuiltIn$1(),rt=requireFunctionUncurryThis(),it=requireObjectGetOwnPropertyNames$1(),lt=requireObjectGetOwnPropertySymbols$1(),ct=requireAnObject$1(),ut=rt([].concat);return ownKeys$1=Ye("Reflect","ownKeys")||function(ft){var pt=it.f(ct(ft)),mt=lt.f;return mt?ut(pt,mt(ft)):pt},ownKeys$1}var hasRequiredEs_object_getOwnPropertyDescriptors;function requireEs_object_getOwnPropertyDescriptors(){if(hasRequiredEs_object_getOwnPropertyDescriptors)return es_object_getOwnPropertyDescriptors;hasRequiredEs_object_getOwnPropertyDescriptors=1;var Ye=require_export$1(),rt=requireDescriptors$1(),it=requireOwnKeys(),lt=requireToIndexedObject$1(),ct=requireObjectGetOwnPropertyDescriptor$1(),ut=requireCreateProperty();return Ye({target:"Object",stat:!0,sham:!rt},{getOwnPropertyDescriptors:function(ft){for(var pt=lt(ft),mt=ct.f,gt=it(pt),yt={},xt=0,bt,_t;gt.length>xt;)_t=mt(pt,bt=gt[xt++]),_t!==void 0&&ut(yt,bt,_t);return yt}}),es_object_getOwnPropertyDescriptors}var getOwnPropertyDescriptors$2,hasRequiredGetOwnPropertyDescriptors$2;function requireGetOwnPropertyDescriptors$2(){if(hasRequiredGetOwnPropertyDescriptors$2)return getOwnPropertyDescriptors$2;hasRequiredGetOwnPropertyDescriptors$2=1,requireEs_object_getOwnPropertyDescriptors();var Ye=requirePath();return getOwnPropertyDescriptors$2=Ye.Object.getOwnPropertyDescriptors,getOwnPropertyDescriptors$2}var getOwnPropertyDescriptors$1,hasRequiredGetOwnPropertyDescriptors$1;function requireGetOwnPropertyDescriptors$1(){if(hasRequiredGetOwnPropertyDescriptors$1)return getOwnPropertyDescriptors$1;hasRequiredGetOwnPropertyDescriptors$1=1;var Ye=requireGetOwnPropertyDescriptors$2();return getOwnPropertyDescriptors$1=Ye,getOwnPropertyDescriptors$1}var getOwnPropertyDescriptors,hasRequiredGetOwnPropertyDescriptors;function requireGetOwnPropertyDescriptors(){return hasRequiredGetOwnPropertyDescriptors||(hasRequiredGetOwnPropertyDescriptors=1,getOwnPropertyDescriptors=requireGetOwnPropertyDescriptors$1()),getOwnPropertyDescriptors}var getOwnPropertyDescriptorsExports=requireGetOwnPropertyDescriptors();const _Object$getOwnPropertyDescriptors=getDefaultExportFromCjs(getOwnPropertyDescriptorsExports);var defineProperties$2={exports:{}},es_object_defineProperties={},hasRequiredEs_object_defineProperties;function requireEs_object_defineProperties(){if(hasRequiredEs_object_defineProperties)return es_object_defineProperties;hasRequiredEs_object_defineProperties=1;var Ye=require_export$1(),rt=requireDescriptors$1(),it=requireObjectDefineProperties$1().f;return Ye({target:"Object",stat:!0,forced:Object.defineProperties!==it,sham:!rt},{defineProperties:it}),es_object_defineProperties}var hasRequiredDefineProperties$2;function requireDefineProperties$2(){if(hasRequiredDefineProperties$2)return defineProperties$2.exports;hasRequiredDefineProperties$2=1,requireEs_object_defineProperties();var Ye=requirePath(),rt=Ye.Object,it=defineProperties$2.exports=function(ct,ut){return rt.defineProperties(ct,ut)};return rt.defineProperties.sham&&(it.sham=!0),defineProperties$2.exports}var defineProperties$1,hasRequiredDefineProperties$1;function requireDefineProperties$1(){if(hasRequiredDefineProperties$1)return defineProperties$1;hasRequiredDefineProperties$1=1;var Ye=requireDefineProperties$2();return defineProperties$1=Ye,defineProperties$1}var defineProperties,hasRequiredDefineProperties;function requireDefineProperties(){return hasRequiredDefineProperties||(hasRequiredDefineProperties=1,defineProperties=requireDefineProperties$1()),defineProperties}var definePropertiesExports=requireDefineProperties();const _Object$defineProperties=getDefaultExportFromCjs(definePropertiesExports);var defineProperty,hasRequiredDefineProperty;function requireDefineProperty(){return hasRequiredDefineProperty||(hasRequiredDefineProperty=1,defineProperty=requireDefineProperty$4()),defineProperty}var definePropertyExports=requireDefineProperty();const _Object$defineProperty=getDefaultExportFromCjs(definePropertyExports);function sheetForTag(Ye){if(Ye.sheet)return Ye.sheet;for(var rt=0;rt<document.styleSheets.length;rt++)if(document.styleSheets[rt].ownerNode===Ye)return document.styleSheets[rt]}function createStyleElement(Ye){var rt=document.createElement("style");return rt.setAttribute("data-emotion",Ye.key),Ye.nonce!==void 0&&rt.setAttribute("nonce",Ye.nonce),rt.appendChild(document.createTextNode("")),rt.setAttribute("data-s",""),rt}var StyleSheet=(function(){function Ye(it){var lt=this;this._insertTag=function(ct){var ut;lt.tags.length===0?lt.insertionPoint?ut=lt.insertionPoint.nextSibling:lt.prepend?ut=lt.container.firstChild:ut=lt.before:ut=lt.tags[lt.tags.length-1].nextSibling,lt.container.insertBefore(ct,ut),lt.tags.push(ct)},this.isSpeedy=it.speedy===void 0?!0:it.speedy,this.tags=[],this.ctr=0,this.nonce=it.nonce,this.key=it.key,this.container=it.container,this.prepend=it.prepend,this.insertionPoint=it.insertionPoint,this.before=null}var rt=Ye.prototype;return rt.hydrate=function(lt){lt.forEach(this._insertTag)},rt.insert=function(lt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ct=this.tags[this.tags.length-1];if(this.isSpeedy){var ut=sheetForTag(ct);try{ut.insertRule(lt,ut.cssRules.length)}catch{}}else ct.appendChild(document.createTextNode(lt));this.ctr++},rt.flush=function(){this.tags.forEach(function(lt){var ct;return(ct=lt.parentNode)==null?void 0:ct.removeChild(lt)}),this.tags=[],this.ctr=0},Ye})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(Ye,rt){return charat(Ye,0)^45?(((rt<<2^charat(Ye,0))<<2^charat(Ye,1))<<2^charat(Ye,2))<<2^charat(Ye,3):0}function trim(Ye){return Ye.trim()}function match(Ye,rt){return(Ye=rt.exec(Ye))?Ye[0]:Ye}function replace(Ye,rt,it){return Ye.replace(rt,it)}function indexof(Ye,rt){return Ye.indexOf(rt)}function charat(Ye,rt){return Ye.charCodeAt(rt)|0}function substr(Ye,rt,it){return Ye.slice(rt,it)}function strlen(Ye){return Ye.length}function sizeof(Ye){return Ye.length}function append(Ye,rt){return rt.push(Ye),Ye}function combine(Ye,rt){return Ye.map(rt).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(Ye,rt,it,lt,ct,ut,ht){return{value:Ye,root:rt,parent:it,type:lt,props:ct,children:ut,line,column,length:ht,return:""}}function copy(Ye,rt){return assign(node("",null,null,"",null,null,0),Ye,{length:-Ye.length},rt)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(Ye,rt){return substr(characters,Ye,rt)}function token(Ye){switch(Ye){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(Ye){return line=column=1,length=strlen(characters=Ye),position=0,[]}function dealloc(Ye){return characters="",Ye}function delimit(Ye){return trim(slice(position-1,delimiter(Ye===91?Ye+2:Ye===40?Ye+1:Ye)))}function whitespace(Ye){for(;(character=peek())&&character<33;)next();return token(Ye)>2||token(character)>3?"":" "}function escaping(Ye,rt){for(;--rt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(Ye,caret()+(rt<6&&peek()==32&&next()==32))}function delimiter(Ye){for(;next();)switch(character){case Ye:return position;case 34:case 39:Ye!==34&&Ye!==39&&delimiter(character);break;case 40:Ye===41&&delimiter(Ye);break;case 92:next();break}return position}function commenter(Ye,rt){for(;next()&&Ye+character!==57;)if(Ye+character===84&&peek()===47)break;return"/*"+slice(rt,position-1)+"*"+from(Ye===47?Ye:next())}function identifier(Ye){for(;!token(peek());)next();return slice(Ye,position)}function compile(Ye){return dealloc(parse("",null,null,null,[""],Ye=alloc(Ye),0,[0],Ye))}function parse(Ye,rt,it,lt,ct,ut,ht,ft,pt){for(var mt=0,gt=0,yt=ht,xt=0,bt=0,_t=0,Ct=1,kt=1,St=1,Rt=0,Tt="",Mt=ct,Pt=ut,It=lt,Lt=Tt;kt;)switch(_t=Rt,Rt=next()){case 40:if(_t!=108&&charat(Lt,yt-1)==58){indexof(Lt+=replace(delimit(Rt),"&","&\f"),"&\f")!=-1&&(St=-1);break}case 34:case 39:case 91:Lt+=delimit(Rt);break;case 9:case 10:case 13:case 32:Lt+=whitespace(_t);break;case 92:Lt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),rt,it),pt);break;default:Lt+="/"}break;case 123*Ct:ft[mt++]=strlen(Lt)*St;case 125*Ct:case 59:case 0:switch(Rt){case 0:case 125:kt=0;case 59+gt:St==-1&&(Lt=replace(Lt,/\f/g,"")),bt>0&&strlen(Lt)-yt&&append(bt>32?declaration(Lt+";",lt,it,yt-1):declaration(replace(Lt," ","")+";",lt,it,yt-2),pt);break;case 59:Lt+=";";default:if(append(It=ruleset(Lt,rt,it,mt,gt,ct,ft,Tt,Mt=[],Pt=[],yt),ut),Rt===123)if(gt===0)parse(Lt,rt,It,It,Mt,ut,yt,ft,Pt);else switch(xt===99&&charat(Lt,3)===110?100:xt){case 100:case 108:case 109:case 115:parse(Ye,It,It,lt&&append(ruleset(Ye,It,It,0,0,ct,ft,Tt,ct,Mt=[],yt),Pt),ct,Pt,yt,ft,lt?Mt:Pt);break;default:parse(Lt,It,It,It,[""],Pt,0,ft,Pt)}}mt=gt=bt=0,Ct=St=1,Tt=Lt="",yt=ht;break;case 58:yt=1+strlen(Lt),bt=_t;default:if(Ct<1){if(Rt==123)--Ct;else if(Rt==125&&Ct++==0&&prev()==125)continue}switch(Lt+=from(Rt),Rt*Ct){case 38:St=gt>0?1:(Lt+="\f",-1);break;case 44:ft[mt++]=(strlen(Lt)-1)*St,St=1;break;case 64:peek()===45&&(Lt+=delimit(next())),xt=peek(),gt=yt=strlen(Tt=Lt+=identifier(caret())),Rt++;break;case 45:_t===45&&strlen(Lt)==2&&(Ct=0)}}return ut}function ruleset(Ye,rt,it,lt,ct,ut,ht,ft,pt,mt,gt){for(var yt=ct-1,xt=ct===0?ut:[""],bt=sizeof(xt),_t=0,Ct=0,kt=0;_t<lt;++_t)for(var St=0,Rt=substr(Ye,yt+1,yt=abs(Ct=ht[_t])),Tt=Ye;St<bt;++St)(Tt=trim(Ct>0?xt[St]+" "+Rt:replace(Rt,/&\f/g,xt[St])))&&(pt[kt++]=Tt);return node(Ye,rt,it,ct===0?RULESET:ft,pt,mt,gt)}function comment(Ye,rt,it){return node(Ye,rt,it,COMMENT,from(char()),substr(Ye,2,-2),0)}function declaration(Ye,rt,it,lt){return node(Ye,rt,it,DECLARATION,substr(Ye,0,lt),substr(Ye,lt+1,-1),lt)}function serialize(Ye,rt){for(var it="",lt=sizeof(Ye),ct=0;ct<lt;ct++)it+=rt(Ye[ct],ct,Ye,rt)||"";return it}function stringify(Ye,rt,it,lt){switch(Ye.type){case LAYER:if(Ye.children.length)break;case IMPORT:case DECLARATION:return Ye.return=Ye.return||Ye.value;case COMMENT:return"";case KEYFRAMES:return Ye.return=Ye.value+"{"+serialize(Ye.children,lt)+"}";case RULESET:Ye.value=Ye.props.join(",")}return strlen(it=serialize(Ye.children,lt))?Ye.return=Ye.value+"{"+it+"}":""}function middleware(Ye){var rt=sizeof(Ye);return function(it,lt,ct,ut){for(var ht="",ft=0;ft<rt;ft++)ht+=Ye[ft](it,lt,ct,ut)||"";return ht}}function rulesheet(Ye){return function(rt){rt.root||(rt=rt.return)&&Ye(rt)}}function memoize(Ye){var rt=Object.create(null);return function(it){return rt[it]===void 0&&(rt[it]=Ye(it)),rt[it]}}var identifierWithPointTracking=function Ye(rt,it,lt){for(var ct=0,ut=0;ct=ut,ut=peek(),ct===38&&ut===12&&(it[lt]=1),!token(ut);)next();return slice(rt,position)},toRules=function Ye(rt,it){var lt=-1,ct=44;do switch(token(ct)){case 0:ct===38&&peek()===12&&(it[lt]=1),rt[lt]+=identifierWithPointTracking(position-1,it,lt);break;case 2:rt[lt]+=delimit(ct);break;case 4:if(ct===44){rt[++lt]=peek()===58?"&\f":"",it[lt]=rt[lt].length;break}default:rt[lt]+=from(ct)}while(ct=next());return rt},getRules=function Ye(rt,it){return dealloc(toRules(alloc(rt),it))},fixedElements=new WeakMap,compat=function Ye(rt){if(!(rt.type!=="rule"||!rt.parent||rt.length<1)){for(var it=rt.value,lt=rt.parent,ct=rt.column===lt.column&&rt.line===lt.line;lt.type!=="rule";)if(lt=lt.parent,!lt)return;if(!(rt.props.length===1&&it.charCodeAt(0)!==58&&!fixedElements.get(lt))&&!ct){fixedElements.set(rt,!0);for(var ut=[],ht=getRules(it,ut),ft=lt.props,pt=0,mt=0;pt<ht.length;pt++)for(var gt=0;gt<ft.length;gt++,mt++)rt.props[mt]=ut[pt]?ht[pt].replace(/&\f/g,ft[gt]):ft[gt]+" "+ht[pt]}}},removeLabel=function Ye(rt){if(rt.type==="decl"){var it=rt.value;it.charCodeAt(0)===108&&it.charCodeAt(2)===98&&(rt.return="",rt.value="")}};function prefix(Ye,rt){switch(hash(Ye,rt)){case 5103:return WEBKIT+"print-"+Ye+Ye;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+Ye+Ye;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+Ye+MOZ+Ye+MS+Ye+Ye;case 6828:case 4268:return WEBKIT+Ye+MS+Ye+Ye;case 6165:return WEBKIT+Ye+MS+"flex-"+Ye+Ye;case 5187:return WEBKIT+Ye+replace(Ye,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+Ye;case 5443:return WEBKIT+Ye+MS+"flex-item-"+replace(Ye,/flex-|-self/,"")+Ye;case 4675:return WEBKIT+Ye+MS+"flex-line-pack"+replace(Ye,/align-content|flex-|-self/,"")+Ye;case 5548:return WEBKIT+Ye+MS+replace(Ye,"shrink","negative")+Ye;case 5292:return WEBKIT+Ye+MS+replace(Ye,"basis","preferred-size")+Ye;case 6060:return WEBKIT+"box-"+replace(Ye,"-grow","")+WEBKIT+Ye+MS+replace(Ye,"grow","positive")+Ye;case 4554:return WEBKIT+replace(Ye,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+Ye;case 6187:return replace(replace(replace(Ye,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),Ye,"")+Ye;case 5495:case 3959:return replace(Ye,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(Ye,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+Ye+Ye;case 4095:case 3583:case 4068:case 2532:return replace(Ye,/(.+)-inline(.+)/,WEBKIT+"$1$2")+Ye;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(Ye)-1-rt>6)switch(charat(Ye,rt+1)){case 109:if(charat(Ye,rt+4)!==45)break;case 102:return replace(Ye,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(Ye,rt+3)==108?"$3":"$2-$3"))+Ye;case 115:return~indexof(Ye,"stretch")?prefix(replace(Ye,"stretch","fill-available"),rt)+Ye:Ye}break;case 4949:if(charat(Ye,rt+1)!==115)break;case 6444:switch(charat(Ye,strlen(Ye)-3-(~indexof(Ye,"!important")&&10))){case 107:return replace(Ye,":",":"+WEBKIT)+Ye;case 101:return replace(Ye,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(Ye,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+Ye}break;case 5936:switch(charat(Ye,rt+11)){case 114:return WEBKIT+Ye+MS+replace(Ye,/[svh]\w+-[tblr]{2}/,"tb")+Ye;case 108:return WEBKIT+Ye+MS+replace(Ye,/[svh]\w+-[tblr]{2}/,"tb-rl")+Ye;case 45:return WEBKIT+Ye+MS+replace(Ye,/[svh]\w+-[tblr]{2}/,"lr")+Ye}return WEBKIT+Ye+MS+Ye+Ye}return Ye}var prefixer=function Ye(rt,it,lt,ct){if(rt.length>-1&&!rt.return)switch(rt.type){case DECLARATION:rt.return=prefix(rt.value,rt.length);break;case KEYFRAMES:return serialize([copy(rt,{value:replace(rt.value,"@","@"+WEBKIT)})],ct);case RULESET:if(rt.length)return combine(rt.props,function(ut){switch(match(ut,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(rt,{props:[replace(ut,/:(read-\w+)/,":"+MOZ+"$1")]})],ct);case"::placeholder":return serialize([copy(rt,{props:[replace(ut,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(rt,{props:[replace(ut,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(rt,{props:[replace(ut,/:(plac\w+)/,MS+"input-$1")]})],ct)}return""})}},defaultStylisPlugins=[prefixer],createCache=function Ye(rt){var it=rt.key;if(it==="css"){var lt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(lt,function(Ct){var kt=Ct.getAttribute("data-emotion");kt.indexOf(" ")!==-1&&(document.head.appendChild(Ct),Ct.setAttribute("data-s",""))})}var ct=rt.stylisPlugins||defaultStylisPlugins,ut={},ht,ft=[];ht=rt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+it+' "]'),function(Ct){for(var kt=Ct.getAttribute("data-emotion").split(" "),St=1;St<kt.length;St++)ut[kt[St]]=!0;ft.push(Ct)});var pt,mt=[compat,removeLabel];{var gt,yt=[stringify,rulesheet(function(Ct){gt.insert(Ct)})],xt=middleware(mt.concat(ct,yt)),bt=function(kt){return serialize(compile(kt),xt)};pt=function(kt,St,Rt,Tt){gt=Rt,bt(kt?kt+"{"+St.styles+"}":St.styles),Tt&&(_t.inserted[St.name]=!0)}}var _t={key:it,sheet:new StyleSheet({key:it,container:ht,nonce:rt.nonce,speedy:rt.speedy,prepend:rt.prepend,insertionPoint:rt.insertionPoint}),nonce:rt.nonce,inserted:ut,registered:{},insert:pt};return _t.sheet.hydrate(ft),_t};function murmur2(Ye){for(var rt=0,it,lt=0,ct=Ye.length;ct>=4;++lt,ct-=4)it=Ye.charCodeAt(lt)&255|(Ye.charCodeAt(++lt)&255)<<8|(Ye.charCodeAt(++lt)&255)<<16|(Ye.charCodeAt(++lt)&255)<<24,it=(it&65535)*1540483477+((it>>>16)*59797<<16),it^=it>>>24,rt=(it&65535)*1540483477+((it>>>16)*59797<<16)^(rt&65535)*1540483477+((rt>>>16)*59797<<16);switch(ct){case 3:rt^=(Ye.charCodeAt(lt+2)&255)<<16;case 2:rt^=(Ye.charCodeAt(lt+1)&255)<<8;case 1:rt^=Ye.charCodeAt(lt)&255,rt=(rt&65535)*1540483477+((rt>>>16)*59797<<16)}return rt^=rt>>>13,rt=(rt&65535)*1540483477+((rt>>>16)*59797<<16),((rt^rt>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function Ye(rt){return rt.charCodeAt(1)===45},isProcessableValue=function Ye(rt){return rt!=null&&typeof rt!="boolean"},processStyleName=memoize(function(Ye){return isCustomProperty(Ye)?Ye:Ye.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function Ye(rt,it){switch(rt){case"animation":case"animationName":if(typeof it=="string")return it.replace(animationRegex,function(lt,ct,ut){return cursor={name:ct,styles:ut,next:cursor},ct})}return unitlessKeys[rt]!==1&&!isCustomProperty(rt)&&typeof it=="number"&&it!==0?it+"px":it};function handleInterpolation(Ye,rt,it){if(it==null)return"";var lt=it;if(lt.__emotion_styles!==void 0)return lt;switch(typeof it){case"boolean":return"";case"object":{var ct=it;if(ct.anim===1)return cursor={name:ct.name,styles:ct.styles,next:cursor},ct.name;var ut=it;if(ut.styles!==void 0){var ht=ut.next;if(ht!==void 0)for(;ht!==void 0;)cursor={name:ht.name,styles:ht.styles,next:cursor},ht=ht.next;var ft=ut.styles+";";return ft}return createStringFromObject(Ye,rt,it)}}var pt=it;if(rt==null)return pt;var mt=rt[pt];return mt!==void 0?mt:pt}function createStringFromObject(Ye,rt,it){var lt="";if(Array.isArray(it))for(var ct=0;ct<it.length;ct++)lt+=handleInterpolation(Ye,rt,it[ct])+";";else for(var ut in it){var ht=it[ut];if(typeof ht!="object"){var ft=ht;rt!=null&&rt[ft]!==void 0?lt+=ut+"{"+rt[ft]+"}":isProcessableValue(ft)&&(lt+=processStyleName(ut)+":"+processStyleValue(ut,ft)+";")}else if(Array.isArray(ht)&&typeof ht[0]=="string"&&(rt==null||rt[ht[0]]===void 0))for(var pt=0;pt<ht.length;pt++)isProcessableValue(ht[pt])&&(lt+=processStyleName(ut)+":"+processStyleValue(ut,ht[pt])+";");else{var mt=handleInterpolation(Ye,rt,ht);switch(ut){case"animation":case"animationName":{lt+=processStyleName(ut)+":"+mt+";";break}default:lt+=ut+"{"+mt+"}"}}}return lt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(Ye,rt,it){if(Ye.length===1&&typeof Ye[0]=="object"&&Ye[0]!==null&&Ye[0].styles!==void 0)return Ye[0];var lt=!0,ct="";cursor=void 0;var ut=Ye[0];if(ut==null||ut.raw===void 0)lt=!1,ct+=handleInterpolation(it,rt,ut);else{var ht=ut;ct+=ht[0]}for(var ft=1;ft<Ye.length;ft++)if(ct+=handleInterpolation(it,rt,Ye[ft]),lt){var pt=ut;ct+=pt[ft]}labelPattern.lastIndex=0;for(var mt="",gt;(gt=labelPattern.exec(ct))!==null;)mt+="-"+gt[1];var yt=murmur2(ct)+mt;return{name:yt,styles:ct,next:cursor}}function getRegisteredStyles(Ye,rt,it){var lt="";return it.split(" ").forEach(function(ct){Ye[ct]!==void 0?rt.push(Ye[ct]+";"):ct&&(lt+=ct+" ")}),lt}var registerStyles=function Ye(rt,it,lt){var ct=rt.key+"-"+it.name;rt.registered[ct]===void 0&&(rt.registered[ct]=it.styles)},insertStyles=function Ye(rt,it,lt){registerStyles(rt,it);var ct=rt.key+"-"+it.name;if(rt.inserted[it.name]===void 0){var ut=it;do rt.insert(it===ut?"."+ct:"",ut,rt.sheet,!0),ut=ut.next;while(ut!==void 0)}};function insertWithoutScoping(Ye,rt){if(Ye.inserted[rt.name]===void 0)return Ye.insert("",rt,Ye.sheet,!0)}function merge(Ye,rt,it){var lt=[],ct=getRegisteredStyles(Ye,lt,it);return lt.length<2?it:ct+rt(lt)}var createEmotion=function Ye(rt){var it=createCache(rt);it.sheet.speedy=function(ft){this.isSpeedy=ft},it.compat=!0;var lt=function(){for(var pt=arguments.length,mt=new Array(pt),gt=0;gt<pt;gt++)mt[gt]=arguments[gt];var yt=serializeStyles(mt,it.registered,void 0);return insertStyles(it,yt),it.key+"-"+yt.name},ct=function(){for(var pt=arguments.length,mt=new Array(pt),gt=0;gt<pt;gt++)mt[gt]=arguments[gt];var yt=serializeStyles(mt,it.registered),xt="animation-"+yt.name;return insertWithoutScoping(it,{name:yt.name,styles:"@keyframes "+xt+"{"+yt.styles+"}"}),xt},ut=function(){for(var pt=arguments.length,mt=new Array(pt),gt=0;gt<pt;gt++)mt[gt]=arguments[gt];var yt=serializeStyles(mt,it.registered);insertWithoutScoping(it,yt)},ht=function(){for(var pt=arguments.length,mt=new Array(pt),gt=0;gt<pt;gt++)mt[gt]=arguments[gt];return merge(it.registered,lt,classnames(mt))};return{css:lt,cx:ht,injectGlobal:ut,keyframes:ct,hydrate:function(pt){pt.forEach(function(mt){it.inserted[mt]=!0})},flush:function(){it.registered={},it.inserted={},it.sheet.flush()},sheet:it.sheet,cache:it,getRegisteredStyles:getRegisteredStyles.bind(null,it.registered),merge:merge.bind(null,it.registered,lt)}},classnames=function Ye(rt){for(var it="",lt=0;lt<rt.length;lt++){var ct=rt[lt];if(ct!=null){var ut=void 0;switch(typeof ct){case"boolean":break;case"object":{if(Array.isArray(ct))ut=Ye(ct);else{ut="";for(var ht in ct)ct[ht]&&ht&&(ut&&(ut+=" "),ut+=ht)}break}default:ut=ct}ut&&(it&&(it+=" "),it+=ut)}}return it},es_date_toString={},hasRequiredEs_date_toString;function requireEs_date_toString(){if(hasRequiredEs_date_toString)return es_date_toString;hasRequiredEs_date_toString=1;var Ye=requireRedefine(),rt=Date.prototype,it="Invalid Date",lt="toString",ct=rt[lt],ut=rt.getTime;return String(new Date(NaN))!=it&&Ye(rt,lt,function(){var ft=ut.call(this);return ft===ft?ct.call(this):it}),es_date_toString}requireEs_date_toString();var es_object_toString={},objectToString,hasRequiredObjectToString;function requireObjectToString(){if(hasRequiredObjectToString)return objectToString;hasRequiredObjectToString=1;var Ye=requireToStringTagSupport(),rt=requireClassof();return objectToString=Ye?{}.toString:function(){return"[object "+rt(this)+"]"},objectToString}var hasRequiredEs_object_toString;function requireEs_object_toString(){if(hasRequiredEs_object_toString)return es_object_toString;hasRequiredEs_object_toString=1;var Ye=requireToStringTagSupport(),rt=requireRedefine(),it=requireObjectToString();return Ye||rt(Object.prototype,"toString",it,{unsafe:!0}),es_object_toString}requireEs_object_toString();var es_regexp_toString={},hasRequiredEs_regexp_toString;function requireEs_regexp_toString(){if(hasRequiredEs_regexp_toString)return es_regexp_toString;hasRequiredEs_regexp_toString=1;var Ye=requireFunctionName().PROPER,rt=requireRedefine(),it=requireAnObject(),lt=requireToString(),ct=requireFails(),ut=requireRegexpFlags(),ht="toString",ft=RegExp.prototype,pt=ft[ht],mt=ct(function(){return pt.call({source:"a",flags:"b"})!="/a/b"}),gt=Ye&&pt.name!=ht;return(mt||gt)&&rt(RegExp.prototype,ht,function(){var xt=it(this),bt=lt(xt.source),_t=xt.flags,Ct=lt(_t===void 0&&xt instanceof RegExp&&!("flags"in ft)?ut.call(xt):_t);return"/"+bt+"/"+Ct},{unsafe:!0}),es_regexp_toString}requireEs_regexp_toString();var crypto$1,hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1;var Ye=typeof window<"u"?window:self;return crypto$1=Ye.crypto||Ye.msCrypto,crypto$1}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser=(function(Ye){if(!Ye)return Math.random;var rt=Math.pow(2,32),it=new Uint32Array(1);return function(){return Ye.getRandomValues(it)[0]/rt}})(requireCrypto())),browser}var browserExports=requireBrowser();const random=getDefaultExportFromCjs(browserExports);function useCSSKey(){return random().toString(26).substr(2,5).replace(/[0-9]/g,function(Ye){return String.fromCharCode(Ye.charCodeAt(0)+65)})}var isArray,hasRequiredIsArray;function requireIsArray(){return hasRequiredIsArray||(hasRequiredIsArray=1,isArray=requireIsArray$4()),isArray}var isArrayExports=requireIsArray();const _Array$isArray=getDefaultExportFromCjs(isArrayExports);function styleConsole(Ye){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",it="background-color: ".concat(Ye,"; border-radius: 4px; padding: 2px 4px;");return rt&&(it+=" color: ".concat(rt,";")),[it,""]}function format(Ye,rt){for(var it,lt,ct=arguments.length,ut=new Array(ct>2?ct-2:0),ht=2;ht<ct;ht++)ut[ht-2]=arguments[ht];return _concatInstanceProperty(it=[_concatInstanceProperty(lt="%c".concat(Ye,"%c ")).call(lt,rt)]).call(it,_toConsumableArray(styleConsole("green","white")),ut)}function debug(Ye){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=rt.force,lt=it===void 0?!1:it;return lt?function(){for(var ct=arguments.length,ut=new Array(ct),ht=0;ht<ct;ht++)ut[ht]=arguments[ht];if(ut.length){var ft=ut,pt=_slicedToArray(ft,1),mt=pt[0];typeof mt=="function"&&(ut=mt());var gt=_Array$isArray(ut[0])?ut:[ut],yt=gt.length===1;_forEachInstanceProperty(gt).call(gt,function(xt,bt){if(yt){var _t,Ct;(_t=console).log.apply(_t,_toConsumableArray(format.apply(void 0,_concatInstanceProperty(Ct=[Ye]).call(Ct,_toConsumableArray(xt)))))}else if(bt){var kt;(kt=console).log.apply(kt,_toConsumableArray(_Array$isArray(xt)?xt:[xt]))}else{var St,Rt;(St=console).groupCollapsed.apply(St,_toConsumableArray(format.apply(void 0,_concatInstanceProperty(Rt=[Ye]).call(Rt,_toConsumableArray(xt)))))}}),yt||console.groupEnd()}}:function(){return 0}}var es_function_name={},hasRequiredEs_function_name;function requireEs_function_name(){if(hasRequiredEs_function_name)return es_function_name;hasRequiredEs_function_name=1;var Ye=requireDescriptors(),rt=requireFunctionName().EXISTS,it=requireObjectDefineProperty().f,lt=Function.prototype,ct=lt.toString,ut=/^\s*function ([^ (]*)/,ht="name";return Ye&&!rt&&it(lt,ht,{configurable:!0,get:function(){try{return ct.call(this).match(ut)[1]}catch{return""}}}),es_function_name}requireEs_function_name();var setTimeout$2,hasRequiredSetTimeout$1;function requireSetTimeout$1(){if(hasRequiredSetTimeout$1)return setTimeout$2;hasRequiredSetTimeout$1=1,requireWeb_timers();var Ye=requirePath();return setTimeout$2=Ye.setTimeout,setTimeout$2}var setTimeout$1,hasRequiredSetTimeout;function requireSetTimeout(){return hasRequiredSetTimeout||(hasRequiredSetTimeout=1,setTimeout$1=requireSetTimeout$1()),setTimeout$1}var setTimeoutExports=requireSetTimeout();const _setTimeout=getDefaultExportFromCjs(setTimeoutExports);function debounceFn(Ye,rt){if(!rt)return Ye;var it=0,lt=null;return function(){for(var ct=arguments.length,ut=new Array(ct),ht=0;ht<ct;ht++)ut[ht]=arguments[ht];var ft=_Date$now();ft-it>rt?(Ye.apply(void 0,ut),it=ft):(clearTimeout(lt),lt=_setTimeout(function(){Ye.apply(void 0,ut),it=_Date$now()},Math.max(0,rt-ft+it)))}}var EventSpy=function Ye(rt){var it=rt.debounce,lt=rt.name,ct=rt.onEvent,ut=rt.target,ht=reactExports.useRef();ht.current=ct;var ft=reactExports.useMemo(function(){return debounceFn(function(mt){var gt=ht.current;gt&&gt(mt)},it)},[it,ht]),pt=reactExports.useCallback(function(mt){mt.timeStampLow=_Date$now(),ft(mt)},[ft]);return reactExports.useLayoutEffect(function(){return ut.addEventListener(lt,pt,{passive:!0}),pt({target:ut,type:lt}),function(){return ut.removeEventListener(lt,pt)}},[lt,pt,ut]),!1};EventSpy.defaultProps={debounce:200};var es_math_sign={},mathSign,hasRequiredMathSign;function requireMathSign(){return hasRequiredMathSign||(hasRequiredMathSign=1,mathSign=Math.sign||function(rt){var it=+rt;return it===0||it!==it?it:it<0?-1:1}),mathSign}var hasRequiredEs_math_sign;function requireEs_math_sign(){if(hasRequiredEs_math_sign)return es_math_sign;hasRequiredEs_math_sign=1;var Ye=require_export$1(),rt=requireMathSign();return Ye({target:"Math",stat:!0},{sign:rt}),es_math_sign}var sign$2,hasRequiredSign$2;function requireSign$2(){if(hasRequiredSign$2)return sign$2;hasRequiredSign$2=1,requireEs_math_sign();var Ye=requirePath();return sign$2=Ye.Math.sign,sign$2}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var Ye=requireSign$2();return sign$1=Ye,sign$1}var sign,hasRequiredSign;function requireSign(){return hasRequiredSign||(hasRequiredSign=1,sign=requireSign$1()),sign}var signExports=requireSign();const _Math$sign=getDefaultExportFromCjs(signExports);function squareStepper(Ye,rt){var it=_Math$sign(rt-Ye),lt=Math.sqrt(Math.abs(rt-Ye)),ct=Ye+lt*it;return it>0?Math.min(rt,ct):Math.max(rt,ct)}function step(Ye,rt,it,lt){for(var ct=Ye,ut=0;ut<lt;ut++)ct=it(ct,rt);return ct}var SpineTo=function Ye(rt){var it=rt.name,lt=rt.onEnd,ct=rt.target,ut=rt.value,ht=reactExports.useRef(),ft=reactExports.useCallback(function(mt,gt,yt,xt){var bt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_Date$now();(yt==="100%"||typeof yt=="number")&&(cancelAnimationFrame(ht.current),ht.current=requestAnimationFrame(function(){if(ct){var _t=yt==="100%"?ct.scrollHeight-ct.offsetHeight:yt,Ct=step(gt,_t,squareStepper,(_Date$now()-bt)/5);Math.abs(_t-Ct)<1.5&&(Ct=_t),ct[mt]=Ct,_t===Ct?lt&&lt(!0):ft(mt,gt,yt,xt+1,bt)}}))},[ht,lt,ct]),pt=reactExports.useCallback(function(){cancelAnimationFrame(ht.current),lt&&lt(!1)},[lt]);return reactExports.useLayoutEffect(function(){return ft(it,ct[it],ut,1),ct?(ct.addEventListener("pointerdown",pt,{passive:!0}),ct.addEventListener("wheel",pt,{passive:!0}),function(){ct.removeEventListener("pointerdown",pt),ct.removeEventListener("wheel",pt),cancelAnimationFrame(ht.current)}):function(){return cancelAnimationFrame(ht.current)}},[ft,ht,pt,it,ct,ut]),!1};SpineTo.propTypes={name:PropTypes.string.isRequired,onEnd:PropTypes.func,target:PropTypes.any.isRequired,value:PropTypes.oneOfType([PropTypes.number,PropTypes.oneOf(["100%"])]).isRequired};function useStateRef(Ye){var rt=reactExports.useState(Ye),it=_slicedToArray(rt,2),lt=it[0],ct=it[1],ut=reactExports.useRef(),ht=reactExports.useCallback(function(ft){typeof ft=="function"?ht(function(pt){return ft=ft(pt),ut.current=ft,ft}):(ut.current=ft,ht(ft))},[ut]);return ut.current=lt,[lt,ct,ut]}function ownKeys(Ye,rt){var it=_Object$keys(Ye);if(_Object$getOwnPropertySymbols){var lt=_Object$getOwnPropertySymbols(Ye);rt&&(lt=_filterInstanceProperty(lt).call(lt,function(ct){return _Object$getOwnPropertyDescriptor(Ye,ct).enumerable})),it.push.apply(it,lt)}return it}function _objectSpread(Ye){for(var rt=1;rt<arguments.length;rt++){var it=arguments[rt]!=null?arguments[rt]:{};if(rt%2){var lt;_forEachInstanceProperty(lt=ownKeys(Object(it),!0)).call(lt,function(ut){_defineProperty(Ye,ut,it[ut])})}else if(_Object$getOwnPropertyDescriptors)_Object$defineProperties(Ye,_Object$getOwnPropertyDescriptors(it));else{var ct;_forEachInstanceProperty(ct=ownKeys(Object(it))).call(ct,function(ut){_Object$defineProperty(Ye,ut,_Object$getOwnPropertyDescriptor(it,ut))})}}return Ye}var DEFAULT_SCROLLER=function Ye(){return 1/0},MIN_CHECK_INTERVAL=17,MODE_BOTTOM="bottom",MODE_TOP="top",NEAR_END_THRESHOLD=1,SCROLL_DECISION_DURATION=34,emotionPool={};function setImmediateInterval(Ye,rt){return Ye(),_setInterval(Ye,rt)}function computeViewState(Ye){var rt=Ye.mode,it=Ye.target,lt=it.offsetHeight,ct=it.scrollHeight,ut=it.scrollTop,ht=ct-ut-lt<NEAR_END_THRESHOLD,ft=ut<NEAR_END_THRESHOLD,pt=rt===MODE_TOP?ft:ht,mt=rt!==MODE_TOP?ft:ht;return{atBottom:ht,atEnd:pt,atStart:mt,atTop:ft}}function isEnd(Ye,rt){return Ye===(rt===MODE_TOP?0:"100%")}var Composer=function Ye(rt){var it=rt.checkInterval,lt=rt.children,ct=rt.debounce,ut=rt.debug,ht=rt.initialScrollBehavior,ft=rt.mode,pt=rt.nonce,mt=rt.scroller,gt=reactExports.useMemo(function(){return debug("<ScrollToBottom>",{force:ut})},[ut]);ft=ft===MODE_TOP?MODE_TOP:MODE_BOTTOM;var yt=reactExports.useRef(0),xt=reactExports.useRef(ht),bt=useStateRef(ft===MODE_TOP?0:"100%"),_t=_slicedToArray(bt,3),Ct=_t[0],kt=_t[1],St=_t[2],Rt=useStateRef(null),Tt=_slicedToArray(Rt,3),Mt=Tt[0],Pt=Tt[1],It=Tt[2],Lt=reactExports.useRef(0),Ot=reactExports.useRef(0),Ft=reactExports.useRef(0),Ut=reactExports.useState(!0),Wt=_slicedToArray(Ut,2),Kt=Wt[0],Qt=Wt[1],Zt=reactExports.useState(!0),Vt=_slicedToArray(Zt,2),$t=Vt[0],zt=Vt[1],Nt=reactExports.useState(!0),qt=_slicedToArray(Nt,2),Gt=qt[0],Ht=qt[1],Xt=reactExports.useState(!1),Bt=_slicedToArray(Xt,2),nr=Bt[0],rr=Bt[1],Jt=useStateRef(!0),ir=_slicedToArray(Jt,3),ar=ir[0],cr=ir[1],dr=ir[2],xr=reactExports.useRef([]),br=reactExports.useCallback(function(hr){var Tr=It.current;return xr.current.push(hr),Tr&&hr({scrollTop:Tr.scrollTop}),function(){var Ir=xr.current,Dr=_indexOfInstanceProperty(Ir).call(Ir,hr);~Dr&&_spliceInstanceProperty(Ir).call(Ir,Dr,1)}},[xr,It]),_r=reactExports.useCallback(function(){var hr=St.current;gt(function(){var Tr;return _concatInstanceProperty(Tr=["%cSpineTo%c: %conEnd%c is fired."]).call(Tr,_toConsumableArray(styleConsole("magenta")),_toConsumableArray(styleConsole("orange")),[{animateTo:hr}])}),yt.current=_Date$now(),isEnd(hr,ft)||cr(!1),kt(null)},[St,gt,yt,ft,kt,cr]),Er=reactExports.useCallback(function(hr){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ir=Tr.behavior,Dr=It.current;if(typeof hr!="number"&&hr!=="100%")return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');gt(function(){var jr;return[_concatInstanceProperty(jr=["%cscrollTo%c: Will scroll to %c".concat(typeof hr=="number"?hr+"px":hr.replace(/%/g,"%%"),"%c")]).call(jr,_toConsumableArray(styleConsole("lime","")),_toConsumableArray(styleConsole("purple"))),{behavior:Ir,nextAnimateTo:hr,target:Dr}]}),Ir==="auto"?(_r(),Dr&&(Dr.scrollTop=hr==="100%"?Dr.scrollHeight-Dr.offsetHeight:hr)):(Ir!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),kt(hr)),isEnd(hr,ft)&&(gt(function(){var jr;return[_concatInstanceProperty(jr=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(jr,_toConsumableArray(styleConsole("lime","")),_toConsumableArray(styleConsole("purple"))),[{mode:ft,nextAnimateTo:hr}]]}),cr(!0))},[gt,_r,ft,kt,cr,It]),Rr=reactExports.useCallback(function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tr=hr.behavior;gt(function(){var Ir;return _concatInstanceProperty(Ir=["%cscrollToBottom%c: Called"]).call(Ir,_toConsumableArray(styleConsole("yellow","")))}),Tr!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),Er("100%",{behavior:Tr||"smooth"})},[gt,Er]),Lr=reactExports.useCallback(function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tr=hr.behavior;gt(function(){var Ir;return _concatInstanceProperty(Ir=["%cscrollToTop%c: Called"]).call(Ir,_toConsumableArray(styleConsole("yellow","")))}),Tr!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),Er(0,{behavior:Tr||"smooth"})},[gt,Er]),Mr=reactExports.useCallback(function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tr=hr.behavior;gt(function(){var Dr;return _concatInstanceProperty(Dr=["%cscrollToEnd%c: Called"]).call(Dr,_toConsumableArray(styleConsole("yellow","")))}),Tr!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var Ir={behavior:Tr||"smooth"};ft===MODE_TOP?Lr(Ir):Rr(Ir)},[gt,ft,Rr,Lr]),Fr=reactExports.useCallback(function(){var hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Tr=hr.behavior;gt(function(){var Dr;return _concatInstanceProperty(Dr=["%cscrollToStart%c: Called"]).call(Dr,_toConsumableArray(styleConsole("yellow","")))}),Tr!=="smooth"&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var Ir={behavior:Tr||"smooth"};ft===MODE_TOP?Rr(Ir):Lr(Ir)},[gt,ft,Rr,Lr]),Xr=reactExports.useCallback(function(){var hr=It.current;if(hr){if(xt.current==="auto"){gt(function(){var fn;return _concatInstanceProperty(fn=["%ctarget changed%c: Initial scroll"]).call(fn,_toConsumableArray(styleConsole("blue")))}),hr.scrollTop=ft===MODE_TOP?0:hr.scrollHeight-hr.offsetHeight,xt.current=!1;return}var Tr=Lt.current,Ir=hr.offsetHeight,Dr=hr.scrollHeight,jr=hr.scrollTop,Br=ft===MODE_TOP?0:Math.max(0,Dr-Ir-jr),Or=Math.max(0,Tr-jr),$r=mt({maxValue:Br,minValue:Or,offsetHeight:Ir,scrollHeight:Dr,scrollTop:jr}),Ur=Math.max(0,Math.min(Br,$r)),qr;ft===MODE_TOP||Ur!==Br?qr=jr+Ur:qr="100%",gt(function(){var fn,xn,vi;return[_concatInstanceProperty(fn=[_concatInstanceProperty(xn=_concatInstanceProperty(vi="%cscrollToSticky%c: Will animate from %c".concat(Tr,"px%c to %c")).call(vi,typeof qr=="number"?qr+"px":qr.replace(/%/g,"%%"),"%c (%c")).call(xn,(qr==="100%"?Br:qr)+Tr,"px%c)")]).call(fn,_toConsumableArray(styleConsole("orange")),_toConsumableArray(styleConsole("purple")),_toConsumableArray(styleConsole("purple")),_toConsumableArray(styleConsole("purple"))),{animateFrom:Tr,maxValue:Br,minValue:Or,nextAnimateTo:qr,nextValue:Ur,offsetHeight:Ir,rawNextValue:$r,scrollHeight:Dr,scrollTop:jr}]}),Er(qr,{behavior:"smooth"})}},[Lt,gt,ft,mt,Er,It]),Jr=reactExports.useCallback(function(hr){var Tr,Ir=hr.timeStampLow,Dr=St.current,jr=It.current,Br=Dr!==null;if(!(Ir<=yt.current||!jr)){var Or=computeViewState({mode:ft,target:jr}),$r=Or.atBottom,Ur=Or.atEnd,qr=Or.atStart,fn=Or.atTop;Qt($r),zt(Ur),rr(qr),Ht(fn);var xn=jr.offsetHeight,vi=jr.scrollHeight,Yn=Ot.current,Xn=Ft.current,ai=xn!==Yn,An=vi!==Xn;if(ai&&(Ot.current=xn),An&&(Ft.current=vi),!ai&&!An){var oi=Br&&isEnd(Dr,ft)||Ur;dr.current!==oi&&(gt(function(){var pn,Qn,$i,ci;return[_concatInstanceProperty(pn=["%conScroll%c: %csetSticky%c(%c".concat(oi,"%c)")]).call(pn,_toConsumableArray(styleConsole("red")),_toConsumableArray(styleConsole("red")),_toConsumableArray(styleConsole("purple"))),_concatInstanceProperty(Qn=[_concatInstanceProperty($i=_concatInstanceProperty(ci="(animating = %c".concat(Br,"%c && isEnd = %c")).call(ci,isEnd(Dr,ft),"%c) || atEnd = %c")).call($i,Ur,"%c")]).call(Qn,_toConsumableArray(styleConsole("purple")),_toConsumableArray(styleConsole("purple")),_toConsumableArray(styleConsole("purple")),[{animating:Br,animateTo:Dr,atEnd:Ur,mode:ft,offsetHeight:jr.offsetHeight,scrollHeight:jr.scrollHeight,sticky:dr.current,nextSticky:oi}])]}),cr(oi))}else dr.current&&(gt(function(){var pn;return[_concatInstanceProperty(pn=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(pn,_toConsumableArray(styleConsole("red")),_toConsumableArray(styleConsole("orange")),[{offsetHeightChanged:ai,scrollHeightChanged:An}]),{nextOffsetHeight:xn,prevOffsetHeight:Yn,nextScrollHeight:vi,prevScrollHeight:Xn}]}),Xr());var Ii=jr.scrollTop;_forEachInstanceProperty(Tr=xr.current).call(Tr,function(pn){return pn({scrollTop:Ii})})}},[St,gt,yt,ft,Ot,Ft,xr,Xr,Qt,zt,rr,Ht,cr,dr,It]);reactExports.useEffect(function(){if(Mt){var hr=!1,Tr=setImmediateInterval(function(){var Ir=It.current,Dr=St.current!==null;dr.current?computeViewState({mode:ft,target:Ir}).atEnd?hr=!1:hr?_Date$now()-hr>SCROLL_DECISION_DURATION&&(Dr||(Lt.current=Ir.scrollTop,gt(function(){var jr;return _concatInstanceProperty(jr=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(jr,_toConsumableArray(styleConsole("navy")),_toConsumableArray(styleConsole("orange")))}),Xr()),hr=!1):hr=_Date$now():Ir.scrollHeight<=Ir.offsetHeight&&!dr.current&&(gt(function(){var jr;return[_concatInstanceProperty(jr=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(jr,_toConsumableArray(styleConsole("navy")),_toConsumableArray(styleConsole("purple"))),[{offsetHeight:Ir.offsetHeight,scrollHeight:Ir.scrollHeight,sticky:dr.current}]]}),cr(!0))},Math.max(MIN_CHECK_INTERVAL,it)||MIN_CHECK_INTERVAL);return function(){return clearInterval(Tr)}}},[St,it,gt,ft,Xr,cr,dr,Mt,It]);var Kr=reactExports.useMemo(function(){var hr=emotionPool[pt]||(emotionPool[pt]=createEmotion({key:"react-scroll-to-bottom--css-"+useCSSKey(),nonce:pt}));return function(Tr){return hr.css(Tr)+""}},[pt]),nn=reactExports.useMemo(function(){return{observeScrollPosition:br,setTarget:Pt,styleToClassName:Kr}},[br,Pt,Kr]),Qr=reactExports.useMemo(function(){return{atBottom:Kt,atEnd:$t,atStart:nr,atTop:Gt,mode:ft}},[Kt,$t,nr,Gt,ft]),Zr=reactExports.useMemo(function(){var hr=Ct!==null;return{animating:hr,animatingToEnd:hr&&isEnd(Ct,ft),sticky:ar}},[Ct,ft,ar]),sn=reactExports.useMemo(function(){return _objectSpread(_objectSpread({},Qr),Zr)},[Qr,Zr]),yr=reactExports.useMemo(function(){return{scrollTo:Er,scrollToBottom:Rr,scrollToEnd:Mr,scrollToStart:Fr,scrollToTop:Lr}},[Er,Rr,Mr,Fr,Lr]);return reactExports.useEffect(function(){if(Mt){var hr=function(){Ft.current=Mt.scrollHeight};return Mt.addEventListener("focus",hr,{capture:!0,passive:!0}),function(){return Mt.removeEventListener("focus",hr)}}},[Mt]),gt(function(){var hr;return[_concatInstanceProperty(hr=["%cRender%c: Render"]).call(hr,_toConsumableArray(styleConsole("cyan",""))),{animateTo:Ct,animating:Ct!==null,sticky:ar,target:Mt}]}),React.createElement(context.Provider,{value:nn},React.createElement(context$4.Provider,{value:yr},React.createElement(context$1.Provider,{value:sn},React.createElement(context$3.Provider,{value:Qr},React.createElement(context$2.Provider,{value:Zr},lt,Mt&&React.createElement(EventSpy,{debounce:ct,name:"scroll",onEvent:Jr,target:Mt}),Mt&&Ct!==null&&React.createElement(SpineTo,{name:"scrollTop",onEnd:_r,target:Mt,value:Ct}))))))};Composer.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:DEFAULT_SCROLLER};Composer.propTypes={checkInterval:PropTypes.number,children:PropTypes.any,debounce:PropTypes.number,debug:PropTypes.bool,initialScrollBehavior:PropTypes.oneOf(["auto","smooth"]),mode:PropTypes.oneOf(["bottom","top"]),nonce:PropTypes.string,scroller:PropTypes.func};var ROOT_STYLE$1={height:"100%",overflowY:"auto",width:"100%"},Panel$1=function Ye(rt){var it=rt.children,lt=rt.className,ct=reactExports.useContext(context),ut=ct.setTarget,ht=useStyleToClassName()(ROOT_STYLE$1);return React.createElement("div",{className:classNames(ht,(lt||"")+""),ref:ut},it)};Panel$1.defaultProps={children:void 0,className:void 0};Panel$1.propTypes={children:PropTypes.any,className:PropTypes.string};var ROOT_STYLE={position:"relative"},BasicScrollToBottomCore=function Ye(rt){var it=rt.children,lt=rt.className,ct=rt.followButtonClassName,ut=rt.scrollViewClassName,ht=useStyleToClassName()(ROOT_STYLE);return React.createElement("div",{className:classNames(ht,(lt||"")+"")},React.createElement(Panel$1,{className:(ut||"")+""},it),React.createElement(AutoHideFollowButton,{className:(ct||"")+""}))};BasicScrollToBottomCore.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0};BasicScrollToBottomCore.propTypes={children:PropTypes.any,className:PropTypes.string,followButtonClassName:PropTypes.string,scrollViewClassName:PropTypes.string};var BasicScrollToBottom=function Ye(rt){var it=rt.checkInterval,lt=rt.children,ct=rt.className,ut=rt.debounce,ht=rt.debug,ft=rt.followButtonClassName,pt=rt.initialScrollBehavior,mt=rt.mode,gt=rt.nonce,yt=rt.scroller,xt=rt.scrollViewClassName;return React.createElement(Composer,{checkInterval:it,debounce:ut,debug:ht,initialScrollBehavior:pt,mode:mt,nonce:gt,scroller:yt},React.createElement(BasicScrollToBottomCore,{className:ct,followButtonClassName:ft,scrollViewClassName:xt},lt))};BasicScrollToBottom.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0};BasicScrollToBottom.propTypes={checkInterval:PropTypes.number,children:PropTypes.any,className:PropTypes.string,debounce:PropTypes.number,debug:PropTypes.bool,followButtonClassName:PropTypes.string,initialScrollBehavior:PropTypes.oneOf(["auto","smooth"]),mode:PropTypes.oneOf(["bottom","top"]),nonce:PropTypes.string,scroller:PropTypes.func,scrollViewClassName:PropTypes.string};addVersionToMetaTag();const USER_SCROLL_BUFFER_TO_CONTAINER_TOP=250;function WithScrolling({children:Ye,scrollViewClassName:rt,scrollAnchorTopOffset:it=0}){const lt=reactExports.useRef(null);return jsxRuntimeExports.jsx("div",{ref:lt,className:"h-full",children:jsxRuntimeExports.jsx(BasicScrollToBottom,{checkInterval:17,className:"h-full",followButtonClassName:"hidden",initialScrollBehavior:"auto",scrollViewClassName:rt,scroller:()=>shouldStopScrolling(lt,it)?0:1/0,children:Ye})})}const shouldStopScrolling=(Ye,rt)=>{const it=getAnchorDistanceToScrollContainerTop(Ye.current);if(it==null)return!1;const lt=it>rt,ct=it<rt-USER_SCROLL_BUFFER_TO_CONTAINER_TOP;return!lt&&!ct};function getAnchorDistanceToScrollContainerTop(Ye){if(!Ye)return null;const rt=Ye.querySelector('[data-scroll-anchor="true"]');if(!rt)return null;const it=rt.getBoundingClientRect().top,lt=Ye.getBoundingClientRect().top;return it-lt}function ReasoningItemContent({item:Ye}){const{heading:rt,body:it}=useExtractHeading(Ye.content),lt=!Ye.completed,[ct,ut]=reactExports.useState(!1),ht=!lt&&!!it;return jsxRuntimeExports.jsxs(TimelineItem,{children:[jsxRuntimeExports.jsx("div",{className:clsx("group flex items-center transition-colors duration-300",ht?"cursor-interaction":"cursor-default"),onClick:()=>{ht&&ut(ft=>!ft)},children:jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:clsx("select-none truncate text-ellipsis",lt?"loading-shimmer-pure-text":"text-token-description-foreground",!lt&&it&&"group-hover:text-token-foreground"),children:rt??(lt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"reasoningItem.thinking",defaultMessage:"Thinking",description:"Message shown while AI is thinking"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"reasoningItem.thought",defaultMessage:"Thought",description:"Message shown when AI has finished thinking"}))}),ht&&jsxRuntimeExports.jsx(SvgChevron,{className:clsx("text-token-input-placeholder-foreground icon-2xs flex-shrink-0 opacity-0 transition-all duration-300 group-hover:opacity-100",ct?"rotate-180 opacity-100":"")})]})}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:ct&&it&&ht&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"mt-1.5",children:jsxRuntimeExports.jsx(WithScrolling,{scrollViewClassName:"vertical-scroll-fade-mask max-h-60 overflow-y-auto [--edge-fade-distance:2rem]",children:jsxRuntimeExports.jsx(Markdown,{className:"text-token-description-foreground whitespace-pre-wrap",components:{p({children:ft}){return jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground leading-5",children:ft})}},children:it})})},"reasoning-content")})]})}function useExtractHeading(Ye){const{heading:rt,body:it}=reactExports.useMemo(()=>{try{const lt=fromMarkdown(Ye),[ct,...ut]=lt.children??[];if(ct?.type==="heading")return{heading:toString$3(ct),body:toMarkdown({type:"root",children:ut}).trim()};if(ct?.type==="paragraph"&&Array.isArray(ct.children)&&ct.children.length===1&&ct.children[0]?.type==="strong"){const ht=ct.children[0];return{heading:toString$3(ht),body:toMarkdown({type:"root",children:ut}).trim()}}}catch{}return{heading:null,body:Ye}},[Ye]);return{heading:rt,body:it}}function RemoteTaskCreatedItemContent({taskId:Ye}){const rt=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground my-2 flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"border-current/30 flex-1 border-t"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[jsxRuntimeExports.jsx(SvgCloud,{className:"icon-xs"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversation.remoteTaskCreated",defaultMessage:"Created {taskLink} in Codex Cloud",description:"Synthetic item shown when a remote task is created from a local conversation. taskLink is a url link to the task.",values:{taskLink:jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-text-link-foreground cursor-interaction border-0 bg-transparent p-0 outline-none hover:underline focus:border-0 focus:!outline-none",onClick:()=>rt(`/remote/${Ye}`),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversation.remoteTaskCreated.task",defaultMessage:"task",description:"Link label for remote task created indicator"})})}})]}),jsxRuntimeExports.jsx("div",{className:"border-current/30 flex-1 border-t"})]})}function StreamErrorContent({item:Ye}){return jsxRuntimeExports.jsx(TimelineItem,{children:jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground flex w-full whitespace-pre-wrap text-sm",children:Ye.content})})}function SystemErrorContent({item:Ye,isInWorkingAccordion:rt}){return rt?jsxRuntimeExports.jsx(TimelineItem,{children:jsxRuntimeExports.jsx(SystemErrorItemContent,{item:Ye})}):jsxRuntimeExports.jsx(SystemErrorItemContent,{item:Ye})}function SystemErrorItemContent({item:Ye}){return jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground wrap-anywhere flex w-full text-sm",children:Ye.content})}const MessageContext=F$2.span`text-token-description-foreground text-xs`;function UserMessage({message:Ye,alwaysShowActions:rt=!1,referencesPriorConversation:it=!1,reviewMode:lt=!1}){const ct=extractPromptRequest(Ye),[ut,ht]=reactExports.useState(!1),ft=useIntl(),pt=()=>{navigator.clipboard.writeText(ct.trim()).then(()=>{ht(!0),setTimeout(()=>ht(!1),1500)})};return jsxRuntimeExports.jsxs("div",{className:"group flex w-full flex-col items-end justify-end gap-1",children:[jsxRuntimeExports.jsx(Markdown,{className:"bg-token-foreground/5 max-w-[77%] break-words rounded-2xl px-3 py-2",textSize:"text-base",children:ct}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row-reverse items-center gap-1",children:[it&&jsxRuntimeExports.jsx(MessageContext,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.userMessage.priorConversation",defaultMessage:"References prior conversation",description:"Text for the prior conversation button"})}),lt&&jsxRuntimeExports.jsx(MessageContext,{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.userMessage.reviewMode",defaultMessage:"Review mode",description:"Chip shown when a user asked for a code review"})}),jsxRuntimeExports.jsx("div",{className:clsx("mr-1 ms-1 flex items-start gap-0.5 transition-opacity",rt?void 0:"opacity-0 group-hover:opacity-100"),children:ut?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.userMessage.copiedTooltip",defaultMessage:"Copied",description:"Tooltip on copy message icon button when copied"}),disabled:!0,children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon","aria-label":ft.formatMessage({id:"codex.userMessage.copiedAriaLabel",defaultMessage:"Copied",description:"Aria label for the copy button after the content has been copied"}),children:jsxRuntimeExports.jsx(SvgCheckMd,{className:"icon-2xs"})})}):jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.userMessage.copyTooltip",defaultMessage:"Copy",description:"Tooltip on copy message icon button"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon","aria-label":ft.formatMessage({id:"codex.userMessage.copyAriaLabel",defaultMessage:"Copy message",description:"Aria label for the button that copies the user's message"}),onClick:pt,children:jsxRuntimeExports.jsx(SvgCopy,{className:"icon-2xs"})})})})]})]})}const MAX_STORED_FIX_CONVERSATIONS=20,aCodeReviewFixConversationEntries=persistedAtom("code-review-fix-conversations",[]);function buildStoredCardKey(Ye,rt){return`${Ye}:${rt}`}function upsertFixConversationEntry(Ye,rt,it){const lt=Ye.findIndex(ct=>ct.cardKey===rt);lt!==-1&&Ye[lt].fixConversationId===it||(lt!==-1&&Ye.splice(lt,1),Ye.unshift({cardKey:rt,fixConversationId:it}),Ye.length>MAX_STORED_FIX_CONVERSATIONS&&(Ye.length=MAX_STORED_FIX_CONVERSATIONS))}function useCodeReviewFixConversationStore(Ye){const[rt,it]=useAtom(aCodeReviewFixConversationEntries),lt=reactExports.useMemo(()=>new Map(rt.map(ht=>[ht.cardKey,ht.fixConversationId])),[rt]),ct=reactExports.useCallback(ht=>lt.get(buildStoredCardKey(Ye,ht)),[Ye,lt]),ut=reactExports.useCallback((ht,ft)=>{const pt=produce(rt,mt=>{upsertFixConversationEntry(mt,buildStoredCardKey(Ye,ht),ft)});pt!==rt&&it(pt)},[Ye,rt,it]);return{getFixConversationId:ct,storeFixConversationId:ut}}function CodeReviewAssistantMessage({item:Ye,conversationId:rt}){const it=Ye.structuredOutput,lt=reactExports.useMemo(()=>it?.findings??[],[it]),{primaryFindings:ct,secondaryFindings:ut}=reactExports.useMemo(()=>lt.reduce((yt,xt)=>{const bt=xt.title.match(/^\[(p\d)\]\s*/i),_t=bt?bt[1].toLowerCase():"";return _t==="p0"||_t==="p1"?yt.primaryFindings.push(xt):yt.secondaryFindings.push(xt),yt},{primaryFindings:[],secondaryFindings:[]}),[lt]),[ht,ft]=reactExports.useState(!1),pt=ct.length,mt=ut.length,gt=lt.length>0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[pt===0&&jsxRuntimeExports.jsx("div",{className:"border-token-border bg-token-input-background text-token-foreground rounded-2xl border px-3 py-3 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.noHighPriority",defaultMessage:"Codex did not find any high priority issues.",description:"Displayed when only low priority findings are available"})}),ct.map((yt,xt)=>{const bt=`${yt.title}-${xt}`;return jsxRuntimeExports.jsx(FindingCard,{cardKey:bt,finding:yt,conversationId:rt},bt)}),mt>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"text-token-description-foreground hover:text-token-foreground mx-auto mt-1 w-max cursor-pointer text-xs",onClick:()=>ft(yt=>!yt),children:ht?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.hideLowPriority",defaultMessage:"Hide low priority findings",description:"Button label to hide low priority findings"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.showLowPriority",defaultMessage:"{count, plural, one {# low priority finding} other {# low priority findings}}",description:"Button label to show low priority findings",values:{count:mt}})}),ht&&jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3",children:ut.map((yt,xt)=>{const bt=`${yt.title}-${xt}`;return jsxRuntimeExports.jsx(FindingCard,{cardKey:bt,finding:yt,conversationId:rt},bt)})})]})]}):Ye.completed?jsxRuntimeExports.jsx("div",{className:"border-token-border bg-token-input-background text-token-foreground rounded-2xl border px-3 py-3 text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.noFindings",defaultMessage:"No findings were reported.",description:"Displayed when the code review output has no findings"})}):null;return jsxRuntimeExports.jsx("div",{className:"py-1.5",children:gt})}function FindingCard({finding:Ye,cardKey:rt,conversationId:it}){const lt=useMutationFromVSCode("open-file"),ct=useToaster(),ut=useIntl(),ht=useNavigateToLocalConversation(),ft=useAppServerManager(),{getFixConversationId:pt,storeFixConversationId:mt}=useCodeReviewFixConversationStore(it),gt=useDefaultModelSettings(),yt=pt(rt),xt=reactExports.useCallback(()=>{lt.mutate({path:Ye.code_location.absolute_file_path,line:Ye.code_location.line_range.start,column:1})},[Ye,lt]),bt=reactExports.useCallback(()=>{if(!yt){ct.info(ut.formatMessage({id:"codeReviewAssistant.noExistingConversation",defaultMessage:"No fix conversation is available yet.",description:"Toast shown when attempting to open a fix conversation that does not exist"}));return}ht(yt)},[yt,ut,ht,ct]),{mutate:_t,isPending:Ct}=useMutation({mutationFn:async()=>await startFixConversation({finding:Ye,mcpManager:ft,modelSettings:gt}),onSuccess:kt=>{mt(rt,kt),ht(kt)},onError:kt=>{logger.error(`Failed to start fix conversation: ${maybeErrorToString(kt)}`),ct.danger(ut.formatMessage({id:"codeReviewAssistant.fixError",defaultMessage:"Could not start conversation.",description:"Error shown when starting a conversation to fix a code review finding fails"}))}});return jsxRuntimeExports.jsxs("div",{className:"@container border-token-border bg-token-input-background text-token-foreground flex flex-col gap-2 rounded-2xl border px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsx("span",{className:"min-w-0 flex-1",children:jsxRuntimeExports.jsx(PriorityTitle,{title:Ye.title})}),jsxRuntimeExports.jsx("div",{className:"flex shrink-0 items-center gap-2",children:yt?jsxRuntimeExports.jsx(Button,{color:"primary",onClick:bt,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.openConversation",defaultMessage:"Open",description:"Button that opens the fix conversation for a code review finding"})}):jsxRuntimeExports.jsx(Button,{color:"primary",loading:Ct,onClick:()=>_t(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.fix",defaultMessage:"Fix",description:"Button that starts a fix conversation for a code review finding"})})})]}),jsxRuntimeExports.jsx(Markdown,{className:"text-token-foreground break-words text-sm",textSize:"text-sm",children:Ye.body}),jsxRuntimeExports.jsxs("button",{type:"button",className:"text-token-description-foreground hover:text-token-foreground flex max-w-full cursor-pointer items-center gap-1 text-left text-xs",onClick:xt,children:[jsxRuntimeExports.jsx("span",{className:"inline-block min-w-0 max-w-full truncate",title:ut.formatMessage({id:"codeReviewAssistant.location",defaultMessage:"{file}:{start}-{end}",description:"Displays where the finding occurs"},{file:Ye.code_location.absolute_file_path,start:Ye.code_location.line_range.start,end:Ye.code_location.line_range.end}),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codeReviewAssistant.location",defaultMessage:"{file}:{start}-{end}",description:"Displays where the finding occurs",values:{file:Ye.code_location.absolute_file_path,start:Ye.code_location.line_range.start,end:Ye.code_location.line_range.end}})}),jsxRuntimeExports.jsx(SvgArrowTopRight,{className:"size-[9px] shrink-0"})]})]})}function PriorityTitle({title:Ye}){const rt=Ye.match(/^\[(p\d)\]\s*(.*)$/i);if(!rt)return jsxRuntimeExports.jsx("span",{className:"max-w-full break-words text-sm font-semibold [-webkit-box-orient:vertical] [-webkit-line-clamp:2] [display:-webkit-box] [overflow:hidden]",children:Ye});const[,it,lt]=rt,ct=it.toUpperCase();return jsxRuntimeExports.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-token-foreground/10 text-token-foreground rounded-full px-2 py-0.5 text-xs font-semibold uppercase",children:ct}),jsxRuntimeExports.jsx("span",{className:"@xs:inline-block hidden min-w-0 flex-1 break-words text-sm font-semibold [-webkit-box-orient:vertical] [-webkit-line-clamp:2] [overflow:hidden]",children:lt})]})}function LocalConversationItemContent({item:Ye,isInWorkingAccordion:rt,isTurnComplete:it,isMostRecentTurn:lt,conversationId:ct}){switch(Ye.type){case"user-message":return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsx(UserMessage,{message:Ye.message,alwaysShowActions:!!lt,referencesPriorConversation:Ye.referencesPriorConversation,reviewMode:Ye.reviewMode===!0}),Ye.images&&Ye.images.length>0&&jsxRuntimeExports.jsx(UserMessageImageAttachments$1,{images:Ye.images})]});case"assistant-message":if(Ye.structuredOutput)switch(Ye.structuredOutput.type){case"code-review":return jsxRuntimeExports.jsx(CodeReviewAssistantMessage,{item:Ye,conversationId:ct})}return rt?jsxRuntimeExports.jsx(TimelineItem,{children:jsxRuntimeExports.jsx(Markdown,{className:"text-token-description-foreground overflow-x-auto",textSize:"text-sm",children:Ye.content})}):jsxRuntimeExports.jsx(Markdown,{className:"overflow-x-auto [&>ol:first-child]:mt-0 [&>ul:first-child]:mt-0",textSize:"text-base",children:Ye.content});case"reasoning":return jsxRuntimeExports.jsx(ReasoningItemContent,{item:Ye});case"exec":return jsxRuntimeExports.jsx(ExecItemContent,{item:Ye,isTurnComplete:it});case"patch":return jsxRuntimeExports.jsx(PatchItemContent,{item:Ye});case"plan":return jsxRuntimeExports.jsx(TodoPlanItemContent,{item:Ye});case"stream-error":return jsxRuntimeExports.jsx(StreamErrorContent,{item:Ye});case"system-error":return jsxRuntimeExports.jsx(SystemErrorContent,{item:Ye,isInWorkingAccordion:rt});case"reading-files":return jsxRuntimeExports.jsx(ReadingItemContent,{item:Ye});case"turn-diff":return null;case"remote-task-created":return jsxRuntimeExports.jsx(RemoteTaskCreatedItemContent,{taskId:Ye.taskId});case"agent-mode-change":return jsxRuntimeExports.jsx(AgentModeChangedItemContent,{mode:Ye.mode});case"mcp-tool-call":return jsxRuntimeExports.jsx(McpToolItemContent,{item:Ye})}}function UserMessageImageAttachments$1({images:Ye}){return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 self-end",children:Ye.map((rt,it)=>jsxRuntimeExports.jsx(LocalUserImageThumb,{src:rt},`${it}`))})}function LocalUserImageThumb({src:Ye}){const rt=useIntl();return jsxRuntimeExports.jsx("div",{className:"size-[100px] rounded-md",children:jsxRuntimeExports.jsx("img",{src:Ye,className:"h-full w-full rounded-md object-contain",referrerPolicy:"no-referrer",alt:rt.formatMessage({id:"codex.localConversation.userImageAttachment",defaultMessage:"User attachment",description:"Alt text for user image attachment in local conversation"})})})}function TaskProgressItemContent({item:Ye}){const rt=Ye.plan.length,it=Ye.plan.reduce((ft,pt)=>ft+(pt.status==="completed"?1:0),0),[lt,ct]=reactExports.useState(!1),ut=useIntl(),ht=it===0?ut.formatMessage({id:"codex.plan.todoListCreated",defaultMessage:"To do list created with {total} tasks",description:"Summary shown when a to-do plan has just been created with a given number of tasks"},{total:rt}):ut.formatMessage({id:"codex.plan.tasksCompletedSummary",defaultMessage:"{completed} out of {total} tasks completed",description:"Summary shown indicating how many tasks are completed out of the total in the plan"},{completed:it,total:rt});return jsxRuntimeExports.jsxs(TimelineItem,{children:[jsxRuntimeExports.jsxs("div",{className:"cursor-interaction group flex min-w-0 items-center justify-between",onClick:()=>ct(ft=>!ft),children:[jsxRuntimeExports.jsx("span",{className:"text-token-input-placeholder-foreground min-w-0 truncate text-base",children:ht}),jsxRuntimeExports.jsx(SvgChevron,{className:clsx("icon-xs flex-shrink-0 transition-all duration-300",lt?"rotate-180 opacity-100":"opacity-0 group-hover:opacity-100")})]}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:lt&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"mt-2 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"vertical-scroll-fade-mask max-h-40 space-y-1 overflow-y-auto [--edge-fade-distance:2rem]",children:Ye.plan.map((ft,pt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[ft.status==="completed"?jsxRuntimeExports.jsx(SvgCheckCircle,{className:"icon-xxs shrink-0"}):jsxRuntimeExports.jsx(SvgUnselectedCircle,{className:"icon-xxs shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground text-sm",children:ut.formatMessage({id:"codex.plan.stepIndexPrefix",defaultMessage:"{index}.",description:"Prefix numbering for a compact to-do plan step, including a trailing period"},{index:pt+1})}),jsxRuntimeExports.jsx("span",{className:clsx("text-token-description-foreground text-sm",ft.status==="completed"&&"line-through"),children:ft.step})]},pt))})})})]})}function splitItemsIntoRenderGroups(Ye,rt){const it=findLast(Ye,_t=>isPendingPatchApproval(_t)||isPendingExecApproval(_t))??null;let lt=Ye.filter(_t=>_t.type!=="plan"&&_t.type!=="turn-diff"&&_t.type!=="user-message"&&_t.type!=="remote-task-created"&&_t.type!=="agent-mode-change"&&!isPendingPatchApproval(_t)&&!isPendingExecApproval(_t));const ct=Ye.find(_t=>_t.type==="user-message")??null,ut=rt==="in_progress";let ht=last(lt);const ft=isAssistantMessage(ht)?ht:null,pt=(ft?.content?.trim().length??0)>0||!!ft?.structuredOutput;ft&&(lt=lt.filter(_t=>_t!==ft)),ht=last(lt);const mt=!ut&&!pt&&isSystemError(ht)?ht:null;mt&&(lt=lt.filter(_t=>_t!==mt));const gt=findLast(Ye,_t=>_t.type==="turn-diff")??null,yt=Ye.filter(_t=>_t.type==="remote-task-created"),xt=Ye.filter(_t=>_t.type==="agent-mode-change"),bt=findLast(Ye,_t=>_t.type==="plan")??null;return{userItem:ct,agentItems:lt,assistantItem:ft,systemEventItem:mt,unifiedDiffItem:gt,remoteTaskCreatedItems:yt,agentModeChangedItems:xt,planItem:bt,approvalItem:it}}const isPendingPatchApproval=Ye=>Ye.type==="patch"&&Ye.approvalRequestId!=null&&Ye.result==null,isPendingExecApproval=Ye=>Ye.type==="exec"&&Ye.approvalRequestId!=null&&Ye.output?.exitCode===void 0,isAssistantMessage=Ye=>Ye?.type==="assistant-message",isSystemError=Ye=>Ye?.type==="system-error";function TurnStatusLabel({status:Ye,hasError:rt,isThinking:it}){let lt=null;switch(Ye){case"cancelled":lt=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.cancelled.title",defaultMessage:"Conversation interrupted - tell the model what to do differently.",description:"Title summarizing that a Codex agent turn has been cancelled or an item with pending approval is rejected"});break;case"complete":lt=rt?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.failed.title",defaultMessage:"Failed",description:"Title summarizing that a Codex agent turn has failed."}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.finished.title",defaultMessage:"Finished working",description:"Title summarizing that a Codex agent turn has finished."});break;case"in_progress":lt=it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.inProgress.thinking",defaultMessage:"Thinking",description:"Title summarizing that a Codex agent turn is thinking before tools start."}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.inProgress.working",defaultMessage:"Working",description:"Title summarizing that a Codex agent turn is in progress"});break}return jsxRuntimeExports.jsx("span",{className:clsx("select-none truncate text-ellipsis text-base",it?"loading-shimmer-pure-text":"text-token-description-foreground group-hover:text-token-foreground"),children:lt})}function LocalConversationTurn({conversationId:Ye,turn:rt,requests:it}){const lt=reactExports.useMemo(()=>mapStateToLocalConversationItems(rt,it),[rt,it]);return jsxRuntimeExports.jsx(LocalConversationTurnContent,{conversationId:Ye,turn:lt})}function LocalConversationTurnContent({conversationId:Ye,turn:rt}){const it=rt.status==="complete",lt=rt.status==="in_progress",ct=rt.status==="cancelled",{userItem:ut,assistantItem:ht,systemEventItem:ft,agentItems:pt,unifiedDiffItem:mt,planItem:gt,approvalItem:yt,remoteTaskCreatedItems:xt,agentModeChangedItems:bt}=splitItemsIntoRenderGroups(rt.items,rt.status),_t=ht!=null,Ct=rt.status==="in_progress"&&!_t,kt=rt.status==="in_progress"&&_t?"complete":rt.status,[St,Rt]=reactExports.useState(Ct),Tt=!!ht&&ht.completed&&(ht.content?.trim().length??0)>0,Pt=it&&(!!ft||!Tt);reactExports.useEffect(()=>{!Ct&&!ct&&Rt(!1)},[Ct,ct]);const It=mt?.unifiedDiff??null;reactExports.useEffect(()=>{if(It)try{messageBus.dispatchMessage("update-diff-if-open",{unifiedDiff:It,conversationId:Ye})}catch{logger.error("Unable to base64 encode unified diff")}},[Ye,It]);const Lt=!Ct&&Tt&&pt.length===0,Ot=Ct&&rt.items.length<=1,Ft=pt.some(isAgentItemStillRunning),Ut=yt!=null;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[ut&&jsxRuntimeExports.jsx(LocalConversationItemContent,{item:ut,isInWorkingAccordion:!1,conversationId:Ye}),!Lt&&jsxRuntimeExports.jsx("div",{className:"cursor-interaction group select-none",onClick:()=>Rt(Wt=>!Wt),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(TurnStatusLabel,{status:kt,hasError:Pt,isThinking:Ot}),pt.length>0&&jsxRuntimeExports.jsx(SvgChevron,{className:clsx("text-token-input-placeholder-foreground icon-2xs ml-1 transition-transform duration-200",St&&"rotate-180")})]})}),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:St&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:ACCORDION_TRANSITION,className:"mt-1",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-0",children:[pt.map((Wt,Kt)=>Wt.type==="plan"?jsxRuntimeExports.jsx(TaskProgressItemContent,{item:Wt},`plan-${Kt}`):jsxRuntimeExports.jsx(LocalConversationItemContent,{item:Wt,isInWorkingAccordion:!0,isTurnComplete:!Ct,conversationId:Ye},Kt)),Ct&&!Ot&&!Ft&&!Ut?jsxRuntimeExports.jsx(WorkingStatusPlaceholder,{}):null]})},"agent-items")}),ft&&jsxRuntimeExports.jsx(LocalConversationItemContent,{item:ft,isInWorkingAccordion:!1,conversationId:Ye}),ht&&jsxRuntimeExports.jsx("div",{className:"mt-2 pb-2",children:jsxRuntimeExports.jsx(LocalConversationItemContent,{item:ht,isInWorkingAccordion:!1,conversationId:Ye})}),!lt&&mt&&jsxRuntimeExports.jsx(TurnDiffContent,{isInProgress:!1,item:mt,conversationId:Ye}),xt.map(Wt=>jsxRuntimeExports.jsx(LocalConversationItemContent,{isInWorkingAccordion:!1,item:Wt,conversationId:Ye},Wt.taskId)),bt.map((Wt,Kt)=>jsxRuntimeExports.jsx(LocalConversationItemContent,{isInWorkingAccordion:!1,item:Wt,conversationId:Ye},`agent-mode-${Kt}`)),Ct&&jsxRuntimeExports.jsx(InProgressFixedContentPortal,{conversationId:Ye,approvalItem:yt,planItem:gt,unifiedDiffItem:mt})]})}function WorkingStatusPlaceholder(){return jsxRuntimeExports.jsx(TimelineItem,{children:jsxRuntimeExports.jsx("span",{className:"loading-shimmer-pure-text text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"localConversationTurn.inProgress.thinking",defaultMessage:"Thinking",description:"Title summarizing that a Codex agent turn is thinking before tools start."})})})}function isAgentItemStillRunning(Ye){switch(Ye.type){case"user-message":case"assistant-message":case"turn-diff":case"system-error":case"stream-error":case"remote-task-created":case"agent-mode-change":return!1;case"reasoning":return!Ye.completed;case"exec":return Ye.output?.exitCode===void 0;case"reading-files":return Ye.execItems.some(rt=>rt.output?.exitCode===void 0);case"patch":return Ye.result==null;case"mcp-tool-call":return!Ye.completed;case"plan":return Ye.plan.some(rt=>rt.status!=="completed")}}function useResumeConversationIfNeeded(Ye){const rt=useAppServerManager(),it=useIntl(),lt=useToaster(),ct=useDefaultModelSettings(),{data:ut}=useFetchFromVSCode("active-workspace-roots"),ht=ut?.roots,ft=reactExports.useMemo(()=>Ye?rt.needsResume(Ye):!1,[Ye,rt]),[pt,mt]=reactExports.useState(ft),gt=reactExports.useRef(null);ft||(gt.current=null);const yt=reactExports.useEffectEvent(async xt=>{try{mt(!0),gt.current=xt,await rt.maybeResumeConversation({conversationId:xt,model:ct.model,reasoningEffort:ct.reasoningEffort,workspaceRoots:ht||["/"]})}catch(bt){logger.error(`Failed to resume conversation ${xt}: ${maybeErrorToString(bt)}`),lt.danger(it.formatMessage({id:"localTaskRow.resumeError",defaultMessage:"Failed to resume task",description:"Error shown when resuming a local Codex task fails"})),gt.current=null}finally{mt(!1)}});return reactExports.useEffect(()=>{Ye&&ft&&Ye!==gt.current&&yt(Ye)},[ft,Ye,gt]),{isResuming:pt}}function WindowsWorldWritableBannerContent({worldWritableWarning:Ye,onDismissAndDontShowAgain:rt,onDismiss:it}){return Ye.failedScan?jsxRuntimeExports.jsx(Banner,{type:"error",layout:"vertical",title:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsWorldWritableBanner.title",defaultMessage:"Windows World Writable Warning",description:"Title for banner explaining that Codex has detected a world writable directory"}),content:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsWorldWritableBanner.content",defaultMessage:"Failed to scan for world writable directories. If you have World Writable Directories, consider removing write access for Everyone for them.",description:"Explains to Windows users that Codex has failed to scan for world writable directories"})}):jsxRuntimeExports.jsx(Banner,{type:"info",layout:"vertical",title:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsWorldWritableBanner.title",defaultMessage:"World Writable Directory Detected",description:"Title for banner explaining that Codex has detected a world writable directory"}),content:jsxRuntimeExports.jsxs("div",{className:"mb-2 flex flex-col gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsWorldWritableBanner.content",defaultMessage:"The Windows sandbox cannot protect writes to folders that are writable by Everyone. Consider removing write access for Everyone from the following folders:",description:"Explains to Windows users that Codex has detected a world writable directory"})}),jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx("ul",{className:"list-disc pl-5",children:Ye.samplePaths.map(lt=>jsxRuntimeExports.jsx("li",{children:lt},lt))})})]}),onPrimaryCtaClick:rt,primaryCtaColor:"primary",primaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsInstallWslBanner.installWslCta",defaultMessage:"Dismiss and Don't Show Again",description:"Primary button label shown when the user can enable the experimental Windows sandbox environment"}),secondaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.windowsInstallWslBanner.dismiss",defaultMessage:"Dismiss",description:"Dismiss button text for the Windows sandbox banner"}),onSecondaryCtaClick:it})}function WindowsWorldWritableBanner(){const[Ye,rt]=useAtom(aWindowsWorldWritableWarning),[it,lt]=useAtom(aHasAcknowledgedWorldWritableWarning);return it||Ye==null?null:jsxRuntimeExports.jsx(WindowsWorldWritableBannerContent,{worldWritableWarning:Ye,onDismissAndDontShowAgain:()=>{lt(!0),rt(null)},onDismiss:()=>{rt(null)}})}function ThreadLayout({header:Ye,banner:rt,children:it,footer:lt,className:ct,bodyClassName:ut,scrollViewClassName:ht,footerClassName:ft,contentWrapperClassName:pt,containerRef:mt,tabIndex:gt=0,...yt}){const xt=pt?jsxRuntimeExports.jsx("div",{className:pt,children:it}):it;return jsxRuntimeExports.jsxs("div",{ref:mt,className:clsx("relative flex h-full flex-col",ct),tabIndex:gt,...yt,children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-10",children:Ye}),jsxRuntimeExports.jsxs("div",{className:clsx("flex min-h-0 flex-1 flex-col",ut),children:[jsxRuntimeExports.jsxs("div",{className:"relative mx-auto min-h-0 w-full max-w-[var(--thread-content-max-width)] flex-1",children:[rt,jsxRuntimeExports.jsx(WithScrolling,{scrollViewClassName:clsx("vertical-scroll-fade-mask [--edge-fade-distance:3rem] pb-8 pt-3 px-panel overflow-y-auto",ht),children:xt})]}),jsxRuntimeExports.jsx("div",{className:clsx("px-panel z-10 mx-auto flex w-full max-w-[var(--thread-content-max-width)] flex-col gap-2 pb-2",ft),children:lt})]})]})}function WorktreeInitActions({path:Ye,onRetry:rt,onDelete:it}){return jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-wrap items-center justify-start gap-2 pt-3",children:[jsxRuntimeExports.jsx(Button,{color:"secondary",onClick:()=>{messageBus.dispatchMessage("electron-worktree-retry-init",{path:Ye}),rt()},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"recentTasks.worktreeRetryAction",defaultMessage:"Retry",description:"Button label to retry a failed worktree init script"})}),jsxRuntimeExports.jsx(Button,{color:"danger",onClick:()=>{messageBus.dispatchMessage("electron-worktree-delete",{path:Ye}),it()},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"recentTasks.worktreeDeleteAction",defaultMessage:"Delete worktree",description:"Button label to delete a failed worktree"})})]})}function WorktreeInitSteps({record:Ye,onRetry:rt,onDelete:it}){const lt=buildItems(Ye),ct=Ye.status==="init-failed"&&rt&&it;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-0.5",children:[jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground text-sm font-semibold leading-tight",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"pendingWorktree.setupGroup",defaultMessage:"Workspace setup",description:"Heading above worktree init items list"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:lt.map(ut=>jsxRuntimeExports.jsx(ExecItemContent,{item:ut,isTurnComplete:ut.output?.exitCode!==void 0},`${Ye.path}-${ut.callId}`))}),ct?jsxRuntimeExports.jsx(WorktreeInitActions,{path:Ye.path,onRetry:rt,onDelete:it}):null]})}function buildItems(Ye){const rt=Ye.step?Ye.step!=="creating-worktree":Ye.status!=="pending",lt=(Ye.initScripts??[]).map(ct=>{const ut=ct.status==="succeeded"?0:ct.status==="failed"?1:null;return{type:"exec",callId:`worktree-init-${ct.scriptPath}-${ct.startedAt??ct.finishedAt??""}`,cwd:ct.cwd,cmd:[ct.scriptPath],approvalRequestId:null,parsedCmd:addStatusToParsedCmd({type:"unknown",cmd:ct.scriptPath},ut!=null),output:ut==null?null:{aggregatedOutput:ct.log??"",exitCode:ut},risk:null}});return lt.length===0&&(Ye.step==="running-init-script"||Ye.status==="init-failed")&&lt.push({type:"exec",callId:`worktree-init-placeholder-${Ye.path}`,cwd:Ye.path,cmd:[".codex/worktree_init.sh"],approvalRequestId:null,parsedCmd:addStatusToParsedCmd({type:"unknown",cmd:".codex/worktree_init.sh"},Ye.status==="init-failed"),output:Ye.status==="init-failed"?{aggregatedOutput:"failed to create workspace",exitCode:1}:null,risk:null}),[{type:"exec",callId:`worktree-create-${Ye.path}`,cwd:Ye.path,cmd:["git worktree add"],approvalRequestId:null,parsedCmd:addStatusToParsedCmd({type:"unknown",cmd:"git worktree add"},rt),output:rt?{aggregatedOutput:"",exitCode:0}:null,risk:null},...lt]}function LocalConversationThread({className:Ye,conversationId:rt,conversationState:it}){const{isResuming:lt}=useResumeConversationIfNeeded(rt??null),ct=useToaster(),ut=useIntl();return reactExports.useEffect(()=>{!it&&!lt&&ct.danger(ut.formatMessage({id:"localConversationPage.error",defaultMessage:"Conversation not found",description:"Error message for when the local conversation is not found"}))},[it,lt,ct,ut]),rt?jsxRuntimeExports.jsx(LocalConversationThreadContent,{className:Ye,conversationState:it,isResuming:lt}):jsxRuntimeExports.jsx(Navigate,{to:"/"})}function LocalConversationThreadContent({className:Ye,conversationState:rt,isResuming:it}){const lt=useAppServerManager(),ct=rt?.id??null,ut=rt?.hasUnreadTurn??!1,[ht,ft]=reactExports.useState(!1),pt=getLocalConversationTitle(rt),mt=useFocusVsContext("chatgpt.supportsNewChatKeyShortcut");reactExports.useEffect(()=>{!ct||!ut||lt.markConversationAsRead(ct)},[ct,ut,lt]);const gt=reactExports.useMemo(()=>{if(!rt)return!1;const bt=last(rt.turns);return bt?!bt.notifications.some(_t=>_t.method==="codex/event/task_complete"||_t.method==="codex/event/turn_aborted"):!1},[rt]),yt=useWorktrees(),xt=reactExports.useMemo(()=>ct?yt.find(bt=>bt.conversationId===ct)??null:null,[ct,yt]);return jsxRuntimeExports.jsx(ErrorBoundary,{name:"LocalConversationPage",children:jsxRuntimeExports.jsxs(ThreadLayout,{className:Ye,containerRef:mt,"data-vscode-context":'{"chatgpt.supportsNewChatMenu": true}',scrollViewClassName:ht?void 0:"hide-scrollbar",onMouseEnter:()=>{ft(!0)},onMouseLeave:()=>{ft(!1)},header:jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(Header,{title:pt})}),footer:rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(WindowsSandboxBanner,{}),jsxRuntimeExports.jsx(WindowsWorldWritableBanner,{}),jsxRuntimeExports.jsx(Composer$1,{followUp:{type:"local",localConversationId:rt.id},isResponseInProgress:gt})]}),children:[xt&&jsxRuntimeExports.jsx("div",{className:"my-3 flex flex-col pt-1",children:jsxRuntimeExports.jsx(WorktreeInitSteps,{record:xt})}),it||!rt?jsxRuntimeExports.jsx(LoadingPage,{}):jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3",children:rt.turns.map((bt,_t)=>jsxRuntimeExports.jsx(LocalConversationTurn,{conversationId:rt.id,requests:rt.requests,turn:bt},_t))})]})})}const TabsContext=reactExports.createContext(null);function useTabsContext(){const Ye=reactExports.useContext(TabsContext);if(Ye==null)throw new Error("Tabs components must be used within a TabsRoot");return Ye}function TabsRoot({tabs:Ye,children:rt,currentTab:it,defaultTab:lt,onChange:ct,withUnderline:ut=!1}){const ht=reactExports.useMemo(()=>{const St=Ye.find(Rt=>!Rt.isHidden);return St?St.key:Ye[0]?Ye[0].key:null},[Ye]),[ft,pt]=reactExports.useState(()=>it??lt??ht),{content:mt,navigator:gt,rest:yt}=useTabsSlots(rt),xt=reactExports.useCallback(St=>{pt(St),ct&&ct(St)},[ct]),bt=it??ft,Ct=Ye.find(St=>St.key===bt)?.isHidden===!0,kt=reactExports.useMemo(()=>lt!==void 0?lt:ht,[lt,ht]);return reactExports.useEffect(()=>{const St=bt==null;(Ct||St)&&kt!==void 0&&kt!=null&&xt(kt)},[bt,kt,xt,Ct]),Ye.length===0?null:jsxRuntimeExports.jsxs(TabsContext.Provider,{value:{currentTab:bt??null,onChange:xt,tabs:Ye,withUnderline:ut},children:[gt??jsxRuntimeExports.jsx(TabNavigator,{}),yt,jsxRuntimeExports.jsx(motion.div,{className:"h-0 w-full flex-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:mt},bt??"__empty")]})}function TabContent({children:Ye}){const{currentTab:rt,tabs:it}=useTabsContext(),lt=it.find(ct=>ct.key===rt)?.children;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye({content:lt,key:rt})})}function TabNavigator({children:Ye,className:rt,buttonClassName:it,skipTabUnderlineAnimation:lt=!1,...ct}){const ut=useTabsContext(),ht=ct.tabs??ut.tabs,ft=ct.onChange??ut.onChange,pt=ct.currentTab??ut.currentTab,mt=ct.withUnderline??ut.withUnderline,gt=sumBy(ht,xt=>xt.isHidden?0:1),yt="border-token-foreground absolute bottom-0 left-0 right-0 border-b";return gt===0?null:jsxRuntimeExports.jsxs("div",{className:clsx("text-token-text-tertiary flex gap-3 text-sm font-medium",rt),children:[ht.map(xt=>{if(xt.isHidden)return null;const bt=pt===xt.key,_t=xt.disabled===!0,Ct=jsxRuntimeExports.jsx("button",{"aria-label":xt.ariaLabel,className:clsx("cursor-interaction relative px-1.5 pb-3 pt-2 transition-colors",bt?"text-token-text-primary":"text-token-text-secondary hover:text-token-text-primary",_t?"text-token-text-tertiary cursor-not-allowed opacity-60":void 0,it),disabled:_t,onClick:()=>{_t||ft(xt.key)},type:"button",children:xt.label});return jsxRuntimeExports.jsxs("div",{className:"relative",children:[xt.tooltip?jsxRuntimeExports.jsx(Tooltip,{tooltipContent:xt.tooltip,children:Ct}):Ct,bt&&mt&&!_t&&(lt?jsxRuntimeExports.jsx("div",{className:yt}):jsxRuntimeExports.jsx(motion.div,{className:yt,layoutId:"tabs-active-underline",transition:{type:"spring",duration:.3,bounce:.1}}))]},xt.key)}),Ye?jsxRuntimeExports.jsx("div",{className:"ms-auto flex items-center",children:Ye}):null]})}function useTabsSlots(Ye){let rt=null,it=null;const lt=[];return reactExports.Children.forEach(Ye,ct=>{if(!reactExports.isValidElement(ct)){lt.push(ct);return}if(ct.type===TabContent&&rt==null){rt=ct;return}if(ct.type===TabNavigator&&it==null){it=ct;return}lt.push(ct)}),{content:rt,navigator:it,rest:lt}}function DiffSourceTabs({diffSource:Ye,setDiffSource:rt,className:it}){const lt=[{key:"uncommitted",label:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"review.diffSourceTabs.uncommitted",defaultMessage:"Uncommitted",description:"Button label for uncommitted in diff source tabs"})},{key:"last-turn",label:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"review.diffSourceTabs.lastTurn",defaultMessage:"Last turn",description:"Button label for last turn in diff source tabs"})}];return jsxRuntimeExports.jsx(TabsRoot,{tabs:lt,currentTab:Ye,onChange:ct=>rt(ct),withUnderline:!0,children:jsxRuntimeExports.jsx(TabNavigator,{className:it})})}const SvgTextLonger=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M12.8 8L19.8 8",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),reactExports.createElement("path",{d:"M12.8 12L19.8 12.002",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),reactExports.createElement("path",{d:"M12.8 16L16.8 16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),reactExports.createElement("path",{d:"M6.24013 6V18",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M3.74022 7.50012L6.24022 5.00012L8.74022 7.50012",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M8.74022 16.5L6.24022 19L3.74022 16.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),SvgTextShorter=Ye=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M13 9.50004L20 9.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),reactExports.createElement("path",{d:"M13 14.5L17 14.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),reactExports.createElement("path",{d:"M6.23999 4V9",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M6.23999 15V20",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M3.74009 16.5L6.24009 14L8.74009 16.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),reactExports.createElement("path",{d:"M8.74009 7.5L6.24009 10L3.74009 7.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function ExpandOrCollapseDiffButton(){const[Ye,rt]=reactExports.useState(!0),it=useExpandAllCodeDiffs(rt);return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:Ye?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.review.expandOrCollapseDiffButton.collapse",defaultMessage:"Collapse all diffs",description:"Tooltip to collapse all diffs"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.review.expandOrCollapseDiffButton.expand",defaultMessage:"Expand all diffs",description:"Tooltip to expand all diffs"}),children:jsxRuntimeExports.jsx(IconButton,{className:"text-token-description-foreground",Icon:Ye?SvgTextShorter:SvgTextLonger,onClick:()=>it(!Ye)})})}function CompactReviewHeader({diff:Ye,diffSource:rt,setDiffSource:it,showTabs:lt=!0}){const ct=sumBy(Ye,ht=>ht.additions),ut=sumBy(Ye,ht=>ht.deletions);return jsxRuntimeExports.jsxs("div",{className:"border-token-border flex min-h-[38px] items-center justify-between border-b px-2",children:[lt?jsxRuntimeExports.jsx(DiffSourceTabs,{diffSource:rt,setDiffSource:it}):jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 py-1.5",children:[jsxRuntimeExports.jsx("div",{className:"text-base",children:jsxRuntimeExports.jsx(TaskDiffStats,{linesAdded:ct,linesRemoved:ut})}),jsxRuntimeExports.jsx(ExpandOrCollapseDiffButton,{})]})]})}const aDiffSource=persistedAtom("review-diff-mode","uncommitted");function NoDiff({orNoLongerAvailable:Ye,className:rt}){return jsxRuntimeExports.jsxs("div",{className:clsx("text-token-description-foreground flex size-full flex-col items-center justify-center gap-1",rt),children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.review.noDiff",defaultMessage:"No changes",description:"Label indicating a code review has no changes"})}),jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground text-sm",children:Ye?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.review.noDiff.orNoLongerAvailable",defaultMessage:"or the latest diff are no longer available",description:"Label indicating a code review is not available"}):null})]})}function CompactReview({id:Ye,turnDiff:rt,mode:it,cwd:lt}){const{comments:ct,setComments:ut}=useConversationDiffComments(Ye),[ht,ft]=useAtom(aDiffSource),pt=it==="local"?ht:"last-turn",mt=lt??"",gt=it==="local"&&mt.length>0,{data:yt,refetch:xt,isLoading:bt}=useFetchFromVSCode("git-uncommitted-changes",{params:gt?{cwd:mt}:void 0,queryConfig:{enabled:gt},select:Rt=>Rt.uncommittedChanges.type==="success"?parseDiff(Rt.uncommittedChanges.unifiedDiff):null}),_t=reactExports.useEffectEvent(()=>{gt&&xt()});reactExports.useEffect(()=>{gt&&_t()},[gt]),reactExports.useEffect(()=>{if(!gt)return;const Rt=()=>{_t()};return window.addEventListener("focus",Rt),()=>{window.removeEventListener("focus",Rt)}},[gt]);const Ct=reactExports.useMemo(()=>rt?parseDiff(rt):null,[rt]),kt=pt==="uncommitted"?yt:Ct,St=pt==="uncommitted"&&bt&&!kt?.length;return jsxRuntimeExports.jsxs("div",{className:"grid h-full min-h-0 grid-rows-[auto_1fr]",children:[jsxRuntimeExports.jsx(CompactReviewHeader,{diff:kt??null,showTabs:it==="local",diffSource:it==="local"?pt:"last-turn",setDiffSource:ft,hasLastTurnDiff:!!Ct}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto",children:St?jsxRuntimeExports.jsx(LoadingPage,{}):kt?.length?kt.map(Rt=>jsxRuntimeExports.jsx(CodeDiff,{roundedCorners:!1,border:!1,diffViewWrap:!0,enableComments:!0,comments:ct,onCommentsChange:ut,diff:Rt,viewType:"unified",stickyHeader:!0},Rt.metadata.name)):jsxRuntimeExports.jsx(NoDiff,{orNoLongerAvailable:pt==="last-turn"})})]})}function FullReviewHeader({lastTurnDiff:Ye,uncommittedDiff:rt,diffSource:it,setDiffSource:lt,diffMode:ct,setDiffMode:ut,wrap:ht,setWrap:ft,hideTabs:pt=!1}){const mt=it==="uncommitted"?rt:Ye,gt=sumBy(mt??[],xt=>xt.additions),yt=sumBy(mt??[],xt=>xt.deletions);return jsxRuntimeExports.jsxs("div",{className:"text-token-description-foreground border-token-border-default flex items-center justify-between border-b px-2 text-base",children:[pt?jsxRuntimeExports.jsx("div",{className:"flex-1"}):jsxRuntimeExports.jsx(DiffSourceTabs,{diffSource:it,setDiffSource:lt,className:"mt-2"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 py-1.5",children:[jsxRuntimeExports.jsx("div",{className:"text-base",children:jsxRuntimeExports.jsx(TaskDiffStats,{linesAdded:gt,linesRemoved:yt})}),jsxRuntimeExports.jsx(Button,{color:ht?"secondary":"outline",onClick:()=>ft(!ht),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.review.fullReview.wrap",defaultMessage:"Wrap",description:"Button to wrap the diff"})}),jsxRuntimeExports.jsx(SegmentedToggle,{LeftIcon:UnifiedDiffIconWithTooltip,RightIcon:SplitDiffIconWithTooltip,selected:ct==="unified"?"left":"right",onSelect:xt=>ut(xt==="left"?"unified":"split")})]}),jsxRuntimeExports.jsx(ExpandOrCollapseDiffButton,{})]})}function UnifiedDiffIconWithTooltip({className:Ye}){return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.switchToInline",defaultMessage:"Switch to inline diff",description:"Tooltip to switch to inline/unified diff view"}),children:jsxRuntimeExports.jsx(SvgDiffUnified,{className:Ye})})}function SplitDiffIconWithTooltip({className:Ye}){return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.diffView.switchToUnified",defaultMessage:"Switch to unified diff",description:"Tooltip to switch to unified/side-by-side diff view"}),children:jsxRuntimeExports.jsx(SvgDiffSplit,{className:Ye})})}function FullReview({id:Ye,mode:rt,lastTurnDiff:it,followUpProps:lt,onSubmitSuccess:ct,cwd:ut}){const{comments:ht,setComments:ft}=useConversationDiffComments(Ye),[pt,mt]=useAtom(aDiffSource),gt=rt==="local"?pt:"last-turn",yt=rt==="local"&&!!ut,{data:xt,refetch:bt}=useFetchFromVSCode("git-uncommitted-changes",{params:{cwd:ut??""},queryConfig:{enabled:yt},select:Pt=>Pt.uncommittedChanges.type==="success"?parseDiff(Pt.uncommittedChanges.unifiedDiff):null}),_t=reactExports.useEffectEvent(()=>{yt&&bt()});reactExports.useEffect(()=>{_t()},[]),reactExports.useEffect(()=>{const Pt=()=>{_t()};return window.addEventListener("focus",Pt),()=>{window.removeEventListener("focus",Pt)}},[]);const Ct=reactExports.useMemo(()=>it?parseDiff(it):null,[it]),kt=gt==="uncommitted"?xt:Ct,[St,Rt]=useAtom(aDiffViewMode),[Tt,Mt]=useAtom(aWrapCodeDiff);return jsxRuntimeExports.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[jsxRuntimeExports.jsx(FullReviewHeader,{lastTurnDiff:Ct??null,uncommittedDiff:xt??null,diffSource:rt==="remote"?"last-turn":gt,hideTabs:rt==="remote",setDiffSource:mt,diffMode:St,setDiffMode:Rt,wrap:Tt,setWrap:Mt}),kt?.length?jsxRuntimeExports.jsxs("div",{className:"scrollbar-stable flex h-full flex-col gap-2 overflow-y-auto pb-48 pl-3",children:[jsxRuntimeExports.jsx("div",{}),kt.map(Pt=>jsxRuntimeExports.jsx(CodeDiff,{diffViewWrap:Tt,enableComments:!0,comments:ht,onCommentsChange:ft,diff:Pt,viewType:St,stickyHeader:!0},Pt.metadata.name)),lt&&jsxRuntimeExports.jsx(Composer$1,{className:"z-100 absolute bottom-4 left-0 right-0 mx-auto max-w-[var(--thread-content-max-width)]",followUp:lt,opaqueBackground:!0,onSubmitSuccess:ct})]}):jsxRuntimeExports.jsx(NoDiff,{className:"flex-1",orNoLongerAvailable:rt==="local"})]})}const PanelGroupContext=reactExports.createContext(null);PanelGroupContext.displayName="PanelGroupContext";const DATA_ATTRIBUTES={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},PRECISION=10,useIsomorphicLayoutEffect=reactExports.useLayoutEffect,useId=React$1.useId,wrappedUseId=typeof useId=="function"?useId:()=>null;let counter=0;function useUniqueId(Ye=null){const rt=wrappedUseId(),it=reactExports.useRef(Ye||rt||null);return it.current===null&&(it.current=""+counter++),Ye??it.current}function PanelWithForwardedRef({children:Ye,className:rt="",collapsedSize:it,collapsible:lt,defaultSize:ct,forwardedRef:ut,id:ht,maxSize:ft,minSize:pt,onCollapse:mt,onExpand:gt,onResize:yt,order:xt,style:bt,tagName:_t="div",...Ct}){const kt=reactExports.useContext(PanelGroupContext);if(kt===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:St,expandPanel:Rt,getPanelSize:Tt,getPanelStyle:Mt,groupId:Pt,isPanelCollapsed:It,reevaluatePanelConstraints:Lt,registerPanel:Ot,resizePanel:Ft,unregisterPanel:Ut}=kt,Wt=useUniqueId(ht),Kt=reactExports.useRef({callbacks:{onCollapse:mt,onExpand:gt,onResize:yt},constraints:{collapsedSize:it,collapsible:lt,defaultSize:ct,maxSize:ft,minSize:pt},id:Wt,idIsFromProps:ht!==void 0,order:xt});reactExports.useRef({didLogMissingDefaultSizeWarning:!1}),useIsomorphicLayoutEffect(()=>{const{callbacks:Zt,constraints:Vt}=Kt.current,$t={...Vt};Kt.current.id=Wt,Kt.current.idIsFromProps=ht!==void 0,Kt.current.order=xt,Zt.onCollapse=mt,Zt.onExpand=gt,Zt.onResize=yt,Vt.collapsedSize=it,Vt.collapsible=lt,Vt.defaultSize=ct,Vt.maxSize=ft,Vt.minSize=pt,($t.collapsedSize!==Vt.collapsedSize||$t.collapsible!==Vt.collapsible||$t.maxSize!==Vt.maxSize||$t.minSize!==Vt.minSize)&&Lt(Kt.current,$t)}),useIsomorphicLayoutEffect(()=>{const Zt=Kt.current;return Ot(Zt),()=>{Ut(Zt)}},[xt,Wt,Ot,Ut]),reactExports.useImperativeHandle(ut,()=>({collapse:()=>{St(Kt.current)},expand:Zt=>{Rt(Kt.current,Zt)},getId(){return Wt},getSize(){return Tt(Kt.current)},isCollapsed(){return It(Kt.current)},isExpanded(){return!It(Kt.current)},resize:Zt=>{Ft(Kt.current,Zt)}}),[St,Rt,Tt,It,Wt,Ft]);const Qt=Mt(Kt.current,ct);return reactExports.createElement(_t,{...Ct,children:Ye,className:rt,id:Wt,style:{...Qt,...bt},[DATA_ATTRIBUTES.groupId]:Pt,[DATA_ATTRIBUTES.panel]:"",[DATA_ATTRIBUTES.panelCollapsible]:lt||void 0,[DATA_ATTRIBUTES.panelId]:Wt,[DATA_ATTRIBUTES.panelSize]:parseFloat(""+Qt.flexGrow).toFixed(1)})}const Panel=reactExports.forwardRef((Ye,rt)=>reactExports.createElement(PanelWithForwardedRef,{...Ye,forwardedRef:rt}));PanelWithForwardedRef.displayName="Panel";Panel.displayName="forwardRef(Panel)";let currentCursorStyle=null,prevRuleIndex=-1,styleElement=null;function getCursorStyle(Ye,rt,it){const lt=(rt&EXCEEDED_HORIZONTAL_MIN)!==0,ct=(rt&EXCEEDED_HORIZONTAL_MAX)!==0,ut=(rt&EXCEEDED_VERTICAL_MIN)!==0,ht=(rt&EXCEEDED_VERTICAL_MAX)!==0;if(rt){if(lt)return ut?"se-resize":ht?"ne-resize":"e-resize";if(ct)return ut?"sw-resize":ht?"nw-resize":"w-resize";if(ut)return"s-resize";if(ht)return"n-resize"}switch(Ye){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function resetGlobalCursorStyle(){styleElement!==null&&(document.head.removeChild(styleElement),currentCursorStyle=null,styleElement=null,prevRuleIndex=-1)}function setGlobalCursorStyle(Ye,rt,it){var lt,ct;const ut=getCursorStyle(Ye,rt);if(currentCursorStyle!==ut){if(currentCursorStyle=ut,styleElement===null&&(styleElement=document.createElement("style"),document.head.appendChild(styleElement)),prevRuleIndex>=0){var ht;(ht=styleElement.sheet)===null||ht===void 0||ht.removeRule(prevRuleIndex)}prevRuleIndex=(lt=(ct=styleElement.sheet)===null||ct===void 0?void 0:ct.insertRule(`*{cursor: ${ut} !important;}`))!==null&&lt!==void 0?lt:-1}}function isKeyDown(Ye){return Ye.type==="keydown"}function isPointerEvent(Ye){return Ye.type.startsWith("pointer")}function isMouseEvent(Ye){return Ye.type.startsWith("mouse")}function getResizeEventCoordinates(Ye){if(isPointerEvent(Ye)){if(Ye.isPrimary)return{x:Ye.clientX,y:Ye.clientY}}else if(isMouseEvent(Ye))return{x:Ye.clientX,y:Ye.clientY};return{x:1/0,y:1/0}}function getInputType(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function intersects(Ye,rt,it){return Ye.x<rt.x+rt.width&&Ye.x+Ye.width>rt.x&&Ye.y<rt.y+rt.height&&Ye.y+Ye.height>rt.y}function compare(Ye,rt){if(Ye===rt)throw new Error("Cannot compare node with itself");const it={a:get_ancestors(Ye),b:get_ancestors(rt)};let lt;for(;it.a.at(-1)===it.b.at(-1);)Ye=it.a.pop(),rt=it.b.pop(),lt=Ye;assert(lt,"Stacking order can only be calculated for elements with a common ancestor");const ct={a:get_z_index(find_stacking_context(it.a)),b:get_z_index(find_stacking_context(it.b))};if(ct.a===ct.b){const ut=lt.childNodes,ht={a:it.a.at(-1),b:it.b.at(-1)};let ft=ut.length;for(;ft--;){const pt=ut[ft];if(pt===ht.a)return 1;if(pt===ht.b)return-1}}return Math.sign(ct.a-ct.b)}const props=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function is_flex_item(Ye){var rt;const it=getComputedStyle((rt=get_parent(Ye))!==null&&rt!==void 0?rt:Ye).display;return it==="flex"||it==="inline-flex"}function creates_stacking_context(Ye){const rt=getComputedStyle(Ye);return!!(rt.position==="fixed"||rt.zIndex!=="auto"&&(rt.position!=="static"||is_flex_item(Ye))||+rt.opacity<1||"transform"in rt&&rt.transform!=="none"||"webkitTransform"in rt&&rt.webkitTransform!=="none"||"mixBlendMode"in rt&&rt.mixBlendMode!=="normal"||"filter"in rt&&rt.filter!=="none"||"webkitFilter"in rt&&rt.webkitFilter!=="none"||"isolation"in rt&&rt.isolation==="isolate"||props.test(rt.willChange)||rt.webkitOverflowScrolling==="touch")}function find_stacking_context(Ye){let rt=Ye.length;for(;rt--;){const it=Ye[rt];if(assert(it,"Missing node"),creates_stacking_context(it))return it}return null}function get_z_index(Ye){return Ye&&Number(getComputedStyle(Ye).zIndex)||0}function get_ancestors(Ye){const rt=[];for(;Ye;)rt.push(Ye),Ye=get_parent(Ye);return rt}function get_parent(Ye){const{parentNode:rt}=Ye;return rt&&rt instanceof ShadowRoot?rt.host:rt}const EXCEEDED_HORIZONTAL_MIN=1,EXCEEDED_HORIZONTAL_MAX=2,EXCEEDED_VERTICAL_MIN=4,EXCEEDED_VERTICAL_MAX=8,isCoarsePointer=getInputType()==="coarse";let intersectingHandles=[],isPointerDown=!1,ownerDocumentCounts=new Map,panelConstraintFlags=new Map;const registeredResizeHandlers=new Set;function registerResizeHandle(Ye,rt,it,lt,ct){var ut;const{ownerDocument:ht}=rt,ft={direction:it,element:rt,hitAreaMargins:lt,setResizeHandlerState:ct},pt=(ut=ownerDocumentCounts.get(ht))!==null&&ut!==void 0?ut:0;return ownerDocumentCounts.set(ht,pt+1),registeredResizeHandlers.add(ft),updateListeners(),function(){var gt;panelConstraintFlags.delete(Ye),registeredResizeHandlers.delete(ft);const yt=(gt=ownerDocumentCounts.get(ht))!==null&&gt!==void 0?gt:1;if(ownerDocumentCounts.set(ht,yt-1),updateListeners(),yt===1&&ownerDocumentCounts.delete(ht),intersectingHandles.includes(ft)){const xt=intersectingHandles.indexOf(ft);xt>=0&&intersectingHandles.splice(xt,1),updateCursor(),ct("up",!0,null)}}}function handlePointerDown(Ye){const{target:rt}=Ye,{x:it,y:lt}=getResizeEventCoordinates(Ye);isPointerDown=!0,recalculateIntersectingHandles({target:rt,x:it,y:lt}),updateListeners(),intersectingHandles.length>0&&(updateResizeHandlerStates("down",Ye),updateCursor(),Ye.preventDefault(),isWithinResizeHandle(rt)||Ye.stopImmediatePropagation())}function handlePointerMove(Ye){const{x:rt,y:it}=getResizeEventCoordinates(Ye);if(isPointerDown&&Ye.type!=="pointerleave"&&Ye.buttons===0&&(isPointerDown=!1,updateResizeHandlerStates("up",Ye)),!isPointerDown){const{target:lt}=Ye;recalculateIntersectingHandles({target:lt,x:rt,y:it})}updateResizeHandlerStates("move",Ye),updateCursor(),intersectingHandles.length>0&&Ye.preventDefault()}function handlePointerUp(Ye){const{target:rt}=Ye,{x:it,y:lt}=getResizeEventCoordinates(Ye);panelConstraintFlags.clear(),isPointerDown=!1,intersectingHandles.length>0&&(Ye.preventDefault(),isWithinResizeHandle(rt)||Ye.stopImmediatePropagation()),updateResizeHandlerStates("up",Ye),recalculateIntersectingHandles({target:rt,x:it,y:lt}),updateCursor(),updateListeners()}function isWithinResizeHandle(Ye){let rt=Ye;for(;rt;){if(rt.hasAttribute(DATA_ATTRIBUTES.resizeHandle))return!0;rt=rt.parentElement}return!1}function recalculateIntersectingHandles({target:Ye,x:rt,y:it}){intersectingHandles.splice(0);let lt=null;(Ye instanceof HTMLElement||Ye instanceof SVGElement)&&(lt=Ye),registeredResizeHandlers.forEach(ct=>{const{element:ut,hitAreaMargins:ht}=ct,ft=ut.getBoundingClientRect(),{bottom:pt,left:mt,right:gt,top:yt}=ft,xt=isCoarsePointer?ht.coarse:ht.fine;if(rt>=mt-xt&&rt<=gt+xt&&it>=yt-xt&&it<=pt+xt){if(lt!==null&&document.contains(lt)&&ut!==lt&&!ut.contains(lt)&&!lt.contains(ut)&&compare(lt,ut)>0){let _t=lt,Ct=!1;for(;_t&&!_t.contains(ut);){if(intersects(_t.getBoundingClientRect(),ft)){Ct=!0;break}_t=_t.parentElement}if(Ct)return}intersectingHandles.push(ct)}})}function reportConstraintsViolation(Ye,rt){panelConstraintFlags.set(Ye,rt)}function updateCursor(){let Ye=!1,rt=!1;intersectingHandles.forEach(lt=>{const{direction:ct}=lt;ct==="horizontal"?Ye=!0:rt=!0});let it=0;panelConstraintFlags.forEach(lt=>{it|=lt}),Ye&&rt?setGlobalCursorStyle("intersection",it):Ye?setGlobalCursorStyle("horizontal",it):rt?setGlobalCursorStyle("vertical",it):resetGlobalCursorStyle()}let listenersAbortController;function updateListeners(){var Ye;(Ye=listenersAbortController)===null||Ye===void 0||Ye.abort(),listenersAbortController=new AbortController;const rt={capture:!0,signal:listenersAbortController.signal};registeredResizeHandlers.size&&(isPointerDown?(intersectingHandles.length>0&&ownerDocumentCounts.forEach((it,lt)=>{const{body:ct}=lt;it>0&&(ct.addEventListener("contextmenu",handlePointerUp,rt),ct.addEventListener("pointerleave",handlePointerMove,rt),ct.addEventListener("pointermove",handlePointerMove,rt))}),ownerDocumentCounts.forEach((it,lt)=>{const{body:ct}=lt;ct.addEventListener("pointerup",handlePointerUp,rt),ct.addEventListener("pointercancel",handlePointerUp,rt)})):ownerDocumentCounts.forEach((it,lt)=>{const{body:ct}=lt;it>0&&(ct.addEventListener("pointerdown",handlePointerDown,rt),ct.addEventListener("pointermove",handlePointerMove,rt))}))}function updateResizeHandlerStates(Ye,rt){registeredResizeHandlers.forEach(it=>{const{setResizeHandlerState:lt}=it,ct=intersectingHandles.includes(it);lt(Ye,ct,rt)})}function useForceUpdate(){const[Ye,rt]=reactExports.useState(0);return reactExports.useCallback(()=>rt(it=>it+1),[])}function assert(Ye,rt){if(!Ye)throw console.error(rt),Error(rt)}function fuzzyCompareNumbers(Ye,rt,it=PRECISION){return Ye.toFixed(it)===rt.toFixed(it)?0:Ye>rt?1:-1}function fuzzyNumbersEqual$1(Ye,rt,it=PRECISION){return fuzzyCompareNumbers(Ye,rt,it)===0}function fuzzyNumbersEqual(Ye,rt,it){return fuzzyCompareNumbers(Ye,rt,it)===0}function fuzzyLayoutsEqual(Ye,rt,it){if(Ye.length!==rt.length)return!1;for(let lt=0;lt<Ye.length;lt++){const ct=Ye[lt],ut=rt[lt];if(!fuzzyNumbersEqual(ct,ut,it))return!1}return!0}function resizePanel({panelConstraints:Ye,panelIndex:rt,size:it}){const lt=Ye[rt];assert(lt!=null,`Panel constraints not found for index ${rt}`);let{collapsedSize:ct=0,collapsible:ut,maxSize:ht=100,minSize:ft=0}=lt;if(fuzzyCompareNumbers(it,ft)<0)if(ut){const pt=(ct+ft)/2;fuzzyCompareNumbers(it,pt)<0?it=ct:it=ft}else it=ft;return it=Math.min(ht,it),it=parseFloat(it.toFixed(PRECISION)),it}function adjustLayoutByDelta({delta:Ye,initialLayout:rt,panelConstraints:it,pivotIndices:lt,prevLayout:ct,trigger:ut}){if(fuzzyNumbersEqual(Ye,0))return rt;const ht=[...rt],[ft,pt]=lt;assert(ft!=null,"Invalid first pivot index"),assert(pt!=null,"Invalid second pivot index");let mt=0;if(ut==="keyboard"){{const yt=Ye<0?pt:ft,xt=it[yt];assert(xt,`Panel constraints not found for index ${yt}`);const{collapsedSize:bt=0,collapsible:_t,minSize:Ct=0}=xt;if(_t){const kt=rt[yt];if(assert(kt!=null,`Previous layout not found for panel index ${yt}`),fuzzyNumbersEqual(kt,bt)){const St=Ct-kt;fuzzyCompareNumbers(St,Math.abs(Ye))>0&&(Ye=Ye<0?0-St:St)}}}{const yt=Ye<0?ft:pt,xt=it[yt];assert(xt,`No panel constraints found for index ${yt}`);const{collapsedSize:bt=0,collapsible:_t,minSize:Ct=0}=xt;if(_t){const kt=rt[yt];if(assert(kt!=null,`Previous layout not found for panel index ${yt}`),fuzzyNumbersEqual(kt,Ct)){const St=kt-bt;fuzzyCompareNumbers(St,Math.abs(Ye))>0&&(Ye=Ye<0?0-St:St)}}}}{const yt=Ye<0?1:-1;let xt=Ye<0?pt:ft,bt=0;for(;;){const Ct=rt[xt];assert(Ct!=null,`Previous layout not found for panel index ${xt}`);const St=resizePanel({panelConstraints:it,panelIndex:xt,size:100})-Ct;if(bt+=St,xt+=yt,xt<0||xt>=it.length)break}const _t=Math.min(Math.abs(Ye),Math.abs(bt));Ye=Ye<0?0-_t:_t}{let xt=Ye<0?ft:pt;for(;xt>=0&&xt<it.length;){const bt=Math.abs(Ye)-Math.abs(mt),_t=rt[xt];assert(_t!=null,`Previous layout not found for panel index ${xt}`);const Ct=_t-bt,kt=resizePanel({panelConstraints:it,panelIndex:xt,size:Ct});if(!fuzzyNumbersEqual(_t,kt)&&(mt+=_t-kt,ht[xt]=kt,mt.toFixed(3).localeCompare(Math.abs(Ye).toFixed(3),void 0,{numeric:!0})>=0))break;Ye<0?xt--:xt++}}if(fuzzyLayoutsEqual(ct,ht))return ct;{const yt=Ye<0?pt:ft,xt=rt[yt];assert(xt!=null,`Previous layout not found for panel index ${yt}`);const bt=xt+mt,_t=resizePanel({panelConstraints:it,panelIndex:yt,size:bt});if(ht[yt]=_t,!fuzzyNumbersEqual(_t,bt)){let Ct=bt-_t,St=Ye<0?pt:ft;for(;St>=0&&St<it.length;){const Rt=ht[St];assert(Rt!=null,`Previous layout not found for panel index ${St}`);const Tt=Rt+Ct,Mt=resizePanel({panelConstraints:it,panelIndex:St,size:Tt});if(fuzzyNumbersEqual(Rt,Mt)||(Ct-=Mt-Rt,ht[St]=Mt),fuzzyNumbersEqual(Ct,0))break;Ye>0?St--:St++}}}const gt=ht.reduce((yt,xt)=>xt+yt,0);return fuzzyNumbersEqual(gt,100)?ht:ct}function calculateAriaValues({layout:Ye,panelsArray:rt,pivotIndices:it}){let lt=0,ct=100,ut=0,ht=0;const ft=it[0];assert(ft!=null,"No pivot index found"),rt.forEach((yt,xt)=>{const{constraints:bt}=yt,{maxSize:_t=100,minSize:Ct=0}=bt;xt===ft?(lt=Ct,ct=_t):(ut+=Ct,ht+=_t)});const pt=Math.min(ct,100-ut),mt=Math.max(lt,100-ht),gt=Ye[ft];return{valueMax:pt,valueMin:mt,valueNow:gt}}function getResizeHandleElementsForGroup(Ye,rt=document){return Array.from(rt.querySelectorAll(`[${DATA_ATTRIBUTES.resizeHandleId}][data-panel-group-id="${Ye}"]`))}function getResizeHandleElementIndex(Ye,rt,it=document){const ct=getResizeHandleElementsForGroup(Ye,it).findIndex(ut=>ut.getAttribute(DATA_ATTRIBUTES.resizeHandleId)===rt);return ct??null}function determinePivotIndices(Ye,rt,it){const lt=getResizeHandleElementIndex(Ye,rt,it);return lt!=null?[lt,lt+1]:[-1,-1]}function isHTMLElement(Ye){return Ye instanceof HTMLElement?!0:typeof Ye=="object"&&Ye!==null&&"tagName"in Ye&&"getAttribute"in Ye}function getPanelGroupElement(Ye,rt=document){if(isHTMLElement(rt)&&rt.dataset.panelGroupId==Ye)return rt;const it=rt.querySelector(`[data-panel-group][data-panel-group-id="${Ye}"]`);return it||null}function getResizeHandleElement(Ye,rt=document){const it=rt.querySelector(`[${DATA_ATTRIBUTES.resizeHandleId}="${Ye}"]`);return it||null}function getResizeHandlePanelIds(Ye,rt,it,lt=document){var ct,ut,ht,ft;const pt=getResizeHandleElement(rt,lt),mt=getResizeHandleElementsForGroup(Ye,lt),gt=pt?mt.indexOf(pt):-1,yt=(ct=(ut=it[gt])===null||ut===void 0?void 0:ut.id)!==null&&ct!==void 0?ct:null,xt=(ht=(ft=it[gt+1])===null||ft===void 0?void 0:ft.id)!==null&&ht!==void 0?ht:null;return[yt,xt]}function useWindowSplitterPanelGroupBehavior({committedValuesRef:Ye,eagerValuesRef:rt,groupId:it,layout:lt,panelDataArray:ct,panelGroupElement:ut,setLayout:ht}){reactExports.useRef({didWarnAboutMissingResizeHandle:!1}),useIsomorphicLayoutEffect(()=>{if(!ut)return;const ft=getResizeHandleElementsForGroup(it,ut);for(let pt=0;pt<ct.length-1;pt++){const{valueMax:mt,valueMin:gt,valueNow:yt}=calculateAriaValues({layout:lt,panelsArray:ct,pivotIndices:[pt,pt+1]}),xt=ft[pt];if(xt!=null){const bt=ct[pt];assert(bt,`No panel data found for index "${pt}"`),xt.setAttribute("aria-controls",bt.id),xt.setAttribute("aria-valuemax",""+Math.round(mt)),xt.setAttribute("aria-valuemin",""+Math.round(gt)),xt.setAttribute("aria-valuenow",yt!=null?""+Math.round(yt):"")}}return()=>{ft.forEach((pt,mt)=>{pt.removeAttribute("aria-controls"),pt.removeAttribute("aria-valuemax"),pt.removeAttribute("aria-valuemin"),pt.removeAttribute("aria-valuenow")})}},[it,lt,ct,ut]),reactExports.useEffect(()=>{if(!ut)return;const ft=rt.current;assert(ft,"Eager values not found");const{panelDataArray:pt}=ft,mt=getPanelGroupElement(it,ut);assert(mt!=null,`No group found for id "${it}"`);const gt=getResizeHandleElementsForGroup(it,ut);assert(gt,`No resize handles found for group id "${it}"`);const yt=gt.map(xt=>{const bt=xt.getAttribute(DATA_ATTRIBUTES.resizeHandleId);assert(bt,"Resize handle element has no handle id attribute");const[_t,Ct]=getResizeHandlePanelIds(it,bt,pt,ut);if(_t==null||Ct==null)return()=>{};const kt=St=>{if(!St.defaultPrevented)switch(St.key){case"Enter":{St.preventDefault();const Rt=pt.findIndex(Tt=>Tt.id===_t);if(Rt>=0){const Tt=pt[Rt];assert(Tt,`No panel data found for index ${Rt}`);const Mt=lt[Rt],{collapsedSize:Pt=0,collapsible:It,minSize:Lt=0}=Tt.constraints;if(Mt!=null&&It){const Ot=adjustLayoutByDelta({delta:fuzzyNumbersEqual(Mt,Pt)?Lt-Pt:Pt-Mt,initialLayout:lt,panelConstraints:pt.map(Ft=>Ft.constraints),pivotIndices:determinePivotIndices(it,bt,ut),prevLayout:lt,trigger:"keyboard"});lt!==Ot&&ht(Ot)}}break}}};return xt.addEventListener("keydown",kt),()=>{xt.removeEventListener("keydown",kt)}});return()=>{yt.forEach(xt=>xt())}},[ut,Ye,rt,it,lt,ct,ht])}function areEqual(Ye,rt){if(Ye.length!==rt.length)return!1;for(let it=0;it<Ye.length;it++)if(Ye[it]!==rt[it])return!1;return!0}function getResizeEventCursorPosition(Ye,rt){const it=Ye==="horizontal",{x:lt,y:ct}=getResizeEventCoordinates(rt);return it?lt:ct}function calculateDragOffsetPercentage(Ye,rt,it,lt,ct){const ut=it==="horizontal",ht=getResizeHandleElement(rt,ct);assert(ht,`No resize handle element found for id "${rt}"`);const ft=ht.getAttribute(DATA_ATTRIBUTES.groupId);assert(ft,"Resize handle element has no group id attribute");let{initialCursorPosition:pt}=lt;const mt=getResizeEventCursorPosition(it,Ye),gt=getPanelGroupElement(ft,ct);assert(gt,`No group element found for id "${ft}"`);const yt=gt.getBoundingClientRect(),xt=ut?yt.width:yt.height;return(mt-pt)/xt*100}function calculateDeltaPercentage(Ye,rt,it,lt,ct,ut){if(isKeyDown(Ye)){const ht=it==="horizontal";let ft=0;Ye.shiftKey?ft=100:ct!=null?ft=ct:ft=10;let pt=0;switch(Ye.key){case"ArrowDown":pt=ht?0:ft;break;case"ArrowLeft":pt=ht?-ft:0;break;case"ArrowRight":pt=ht?ft:0;break;case"ArrowUp":pt=ht?0:-ft;break;case"End":pt=100;break;case"Home":pt=-100;break}return pt}else return lt==null?0:calculateDragOffsetPercentage(Ye,rt,it,lt,ut)}function calculateUnsafeDefaultLayout({panelDataArray:Ye}){const rt=Array(Ye.length),it=Ye.map(ut=>ut.constraints);let lt=0,ct=100;for(let ut=0;ut<Ye.length;ut++){const ht=it[ut];assert(ht,`Panel constraints not found for index ${ut}`);const{defaultSize:ft}=ht;ft!=null&&(lt++,rt[ut]=ft,ct-=ft)}for(let ut=0;ut<Ye.length;ut++){const ht=it[ut];assert(ht,`Panel constraints not found for index ${ut}`);const{defaultSize:ft}=ht;if(ft!=null)continue;const pt=Ye.length-lt,mt=ct/pt;lt++,rt[ut]=mt,ct-=mt}return rt}function callPanelCallbacks(Ye,rt,it){rt.forEach((lt,ct)=>{const ut=Ye[ct];assert(ut,`Panel data not found for index ${ct}`);const{callbacks:ht,constraints:ft,id:pt}=ut,{collapsedSize:mt=0,collapsible:gt}=ft,yt=it[pt];if(yt==null||lt!==yt){it[pt]=lt;const{onCollapse:xt,onExpand:bt,onResize:_t}=ht;_t&&_t(lt,yt),gt&&(xt||bt)&&(bt&&(yt==null||fuzzyNumbersEqual$1(yt,mt))&&!fuzzyNumbersEqual$1(lt,mt)&&bt(),xt&&(yt==null||!fuzzyNumbersEqual$1(yt,mt))&&fuzzyNumbersEqual$1(lt,mt)&&xt())}})}function compareLayouts(Ye,rt){if(Ye.length!==rt.length)return!1;for(let it=0;it<Ye.length;it++)if(Ye[it]!=rt[it])return!1;return!0}function computePanelFlexBoxStyle({defaultSize:Ye,dragState:rt,layout:it,panelData:lt,panelIndex:ct,precision:ut=3}){const ht=it[ct];let ft;return ht==null?ft=Ye!=null?Ye.toFixed(ut):"1":lt.length===1?ft="1":ft=ht.toFixed(ut),{flexBasis:0,flexGrow:ft,flexShrink:1,overflow:"hidden",pointerEvents:rt!==null?"none":void 0}}function debounce(Ye,rt=10){let it=null;return(...ct)=>{it!==null&&clearTimeout(it),it=setTimeout(()=>{Ye(...ct)},rt)}}function initializeDefaultStorage(Ye){try{if(typeof localStorage<"u")Ye.getItem=rt=>localStorage.getItem(rt),Ye.setItem=(rt,it)=>{localStorage.setItem(rt,it)};else throw new Error("localStorage not supported in this environment")}catch(rt){console.error(rt),Ye.getItem=()=>null,Ye.setItem=()=>{}}}function getPanelGroupKey(Ye){return`react-resizable-panels:${Ye}`}function getPanelKey(Ye){return Ye.map(rt=>{const{constraints:it,id:lt,idIsFromProps:ct,order:ut}=rt;return ct?lt:ut?`${ut}:${JSON.stringify(it)}`:JSON.stringify(it)}).sort((rt,it)=>rt.localeCompare(it)).join(",")}function loadSerializedPanelGroupState(Ye,rt){try{const it=getPanelGroupKey(Ye),lt=rt.getItem(it);if(lt){const ct=JSON.parse(lt);if(typeof ct=="object"&&ct!=null)return ct}}catch{}return null}function loadPanelGroupState(Ye,rt,it){var lt,ct;const ut=(lt=loadSerializedPanelGroupState(Ye,it))!==null&&lt!==void 0?lt:{},ht=getPanelKey(rt);return(ct=ut[ht])!==null&&ct!==void 0?ct:null}function savePanelGroupState(Ye,rt,it,lt,ct){var ut;const ht=getPanelGroupKey(Ye),ft=getPanelKey(rt),pt=(ut=loadSerializedPanelGroupState(Ye,ct))!==null&&ut!==void 0?ut:{};pt[ft]={expandToSizes:Object.fromEntries(it.entries()),layout:lt};try{ct.setItem(ht,JSON.stringify(pt))}catch(mt){console.error(mt)}}function validatePanelGroupLayout({layout:Ye,panelConstraints:rt}){const it=[...Ye],lt=it.reduce((ut,ht)=>ut+ht,0);if(it.length!==rt.length)throw Error(`Invalid ${rt.length} panel layout: ${it.map(ut=>`${ut}%`).join(", ")}`);if(!fuzzyNumbersEqual(lt,100)&&it.length>0)for(let ut=0;ut<rt.length;ut++){const ht=it[ut];assert(ht!=null,`No layout data found for index ${ut}`);const ft=100/lt*ht;it[ut]=ft}let ct=0;for(let ut=0;ut<rt.length;ut++){const ht=it[ut];assert(ht!=null,`No layout data found for index ${ut}`);const ft=resizePanel({panelConstraints:rt,panelIndex:ut,size:ht});ht!=ft&&(ct+=ht-ft,it[ut]=ft)}if(!fuzzyNumbersEqual(ct,0))for(let ut=0;ut<rt.length;ut++){const ht=it[ut];assert(ht!=null,`No layout data found for index ${ut}`);const ft=ht+ct,pt=resizePanel({panelConstraints:rt,panelIndex:ut,size:ft});if(ht!==pt&&(ct-=pt-ht,it[ut]=pt,fuzzyNumbersEqual(ct,0)))break}return it}const LOCAL_STORAGE_DEBOUNCE_INTERVAL=100,defaultStorage={getItem:Ye=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(Ye)),setItem:(Ye,rt)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(Ye,rt)}},debounceMap={};function PanelGroupWithForwardedRef({autoSaveId:Ye=null,children:rt,className:it="",direction:lt,forwardedRef:ct,id:ut=null,onLayout:ht=null,keyboardResizeBy:ft=null,storage:pt=defaultStorage,style:mt,tagName:gt="div",...yt}){const xt=useUniqueId(ut),bt=reactExports.useRef(null),[_t,Ct]=reactExports.useState(null),[kt,St]=reactExports.useState([]),Rt=useForceUpdate(),Tt=reactExports.useRef({}),Mt=reactExports.useRef(new Map),Pt=reactExports.useRef(0),It=reactExports.useRef({autoSaveId:Ye,direction:lt,dragState:_t,id:xt,keyboardResizeBy:ft,onLayout:ht,storage:pt}),Lt=reactExports.useRef({layout:kt,panelDataArray:[],panelDataArrayChanged:!1});reactExports.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),reactExports.useImperativeHandle(ct,()=>({getId:()=>It.current.id,getLayout:()=>{const{layout:Bt}=Lt.current;return Bt},setLayout:Bt=>{const{onLayout:nr}=It.current,{layout:rr,panelDataArray:Jt}=Lt.current,ir=validatePanelGroupLayout({layout:Bt,panelConstraints:Jt.map(ar=>ar.constraints)});areEqual(rr,ir)||(St(ir),Lt.current.layout=ir,nr&&nr(ir),callPanelCallbacks(Jt,ir,Tt.current))}}),[]),useIsomorphicLayoutEffect(()=>{It.current.autoSaveId=Ye,It.current.direction=lt,It.current.dragState=_t,It.current.id=xt,It.current.onLayout=ht,It.current.storage=pt}),useWindowSplitterPanelGroupBehavior({committedValuesRef:It,eagerValuesRef:Lt,groupId:xt,layout:kt,panelDataArray:Lt.current.panelDataArray,setLayout:St,panelGroupElement:bt.current}),reactExports.useEffect(()=>{const{panelDataArray:Bt}=Lt.current;if(Ye){if(kt.length===0||kt.length!==Bt.length)return;let nr=debounceMap[Ye];nr==null&&(nr=debounce(savePanelGroupState,LOCAL_STORAGE_DEBOUNCE_INTERVAL),debounceMap[Ye]=nr);const rr=[...Bt],Jt=new Map(Mt.current);nr(Ye,rr,Jt,kt,pt)}},[Ye,kt,pt]),reactExports.useEffect(()=>{});const Ot=reactExports.useCallback(Bt=>{const{onLayout:nr}=It.current,{layout:rr,panelDataArray:Jt}=Lt.current;if(Bt.constraints.collapsible){const ir=Jt.map(xr=>xr.constraints),{collapsedSize:ar=0,panelSize:cr,pivotIndices:dr}=panelDataHelper(Jt,Bt,rr);if(assert(cr!=null,`Panel size not found for panel "${Bt.id}"`),!fuzzyNumbersEqual$1(cr,ar)){Mt.current.set(Bt.id,cr);const br=findPanelDataIndex(Jt,Bt)===Jt.length-1?cr-ar:ar-cr,_r=adjustLayoutByDelta({delta:br,initialLayout:rr,panelConstraints:ir,pivotIndices:dr,prevLayout:rr,trigger:"imperative-api"});compareLayouts(rr,_r)||(St(_r),Lt.current.layout=_r,nr&&nr(_r),callPanelCallbacks(Jt,_r,Tt.current))}}},[]),Ft=reactExports.useCallback((Bt,nr)=>{const{onLayout:rr}=It.current,{layout:Jt,panelDataArray:ir}=Lt.current;if(Bt.constraints.collapsible){const ar=ir.map(Er=>Er.constraints),{collapsedSize:cr=0,panelSize:dr=0,minSize:xr=0,pivotIndices:br}=panelDataHelper(ir,Bt,Jt),_r=nr??xr;if(fuzzyNumbersEqual$1(dr,cr)){const Er=Mt.current.get(Bt.id),Rr=Er!=null&&Er>=_r?Er:_r,Mr=findPanelDataIndex(ir,Bt)===ir.length-1?dr-Rr:Rr-dr,Fr=adjustLayoutByDelta({delta:Mr,initialLayout:Jt,panelConstraints:ar,pivotIndices:br,prevLayout:Jt,trigger:"imperative-api"});compareLayouts(Jt,Fr)||(St(Fr),Lt.current.layout=Fr,rr&&rr(Fr),callPanelCallbacks(ir,Fr,Tt.current))}}},[]),Ut=reactExports.useCallback(Bt=>{const{layout:nr,panelDataArray:rr}=Lt.current,{panelSize:Jt}=panelDataHelper(rr,Bt,nr);return assert(Jt!=null,`Panel size not found for panel "${Bt.id}"`),Jt},[]),Wt=reactExports.useCallback((Bt,nr)=>{const{panelDataArray:rr}=Lt.current,Jt=findPanelDataIndex(rr,Bt);return computePanelFlexBoxStyle({defaultSize:nr,dragState:_t,layout:kt,panelData:rr,panelIndex:Jt})},[_t,kt]),Kt=reactExports.useCallback(Bt=>{const{layout:nr,panelDataArray:rr}=Lt.current,{collapsedSize:Jt=0,collapsible:ir,panelSize:ar}=panelDataHelper(rr,Bt,nr);return assert(ar!=null,`Panel size not found for panel "${Bt.id}"`),ir===!0&&fuzzyNumbersEqual$1(ar,Jt)},[]),Qt=reactExports.useCallback(Bt=>{const{layout:nr,panelDataArray:rr}=Lt.current,{collapsedSize:Jt=0,collapsible:ir,panelSize:ar}=panelDataHelper(rr,Bt,nr);return assert(ar!=null,`Panel size not found for panel "${Bt.id}"`),!ir||fuzzyCompareNumbers(ar,Jt)>0},[]),Zt=reactExports.useCallback(Bt=>{const{panelDataArray:nr}=Lt.current;nr.push(Bt),nr.sort((rr,Jt)=>{const ir=rr.order,ar=Jt.order;return ir==null&&ar==null?0:ir==null?-1:ar==null?1:ir-ar}),Lt.current.panelDataArrayChanged=!0,Rt()},[Rt]);useIsomorphicLayoutEffect(()=>{if(Lt.current.panelDataArrayChanged){Lt.current.panelDataArrayChanged=!1;const{autoSaveId:Bt,onLayout:nr,storage:rr}=It.current,{layout:Jt,panelDataArray:ir}=Lt.current;let ar=null;if(Bt){const dr=loadPanelGroupState(Bt,ir,rr);dr&&(Mt.current=new Map(Object.entries(dr.expandToSizes)),ar=dr.layout)}ar==null&&(ar=calculateUnsafeDefaultLayout({panelDataArray:ir}));const cr=validatePanelGroupLayout({layout:ar,panelConstraints:ir.map(dr=>dr.constraints)});areEqual(Jt,cr)||(St(cr),Lt.current.layout=cr,nr&&nr(cr),callPanelCallbacks(ir,cr,Tt.current))}}),useIsomorphicLayoutEffect(()=>{const Bt=Lt.current;return()=>{Bt.layout=[]}},[]);const Vt=reactExports.useCallback(Bt=>{let nr=!1;const rr=bt.current;return rr&&window.getComputedStyle(rr,null).getPropertyValue("direction")==="rtl"&&(nr=!0),function(ir){ir.preventDefault();const ar=bt.current;if(!ar)return()=>null;const{direction:cr,dragState:dr,id:xr,keyboardResizeBy:br,onLayout:_r}=It.current,{layout:Er,panelDataArray:Rr}=Lt.current,{initialLayout:Lr}=dr??{},Mr=determinePivotIndices(xr,Bt,ar);let Fr=calculateDeltaPercentage(ir,Bt,cr,dr,br,ar);const Xr=cr==="horizontal";Xr&&nr&&(Fr=-Fr);const Jr=Rr.map(Qr=>Qr.constraints),Kr=adjustLayoutByDelta({delta:Fr,initialLayout:Lr??Er,panelConstraints:Jr,pivotIndices:Mr,prevLayout:Er,trigger:isKeyDown(ir)?"keyboard":"mouse-or-touch"}),nn=!compareLayouts(Er,Kr);(isPointerEvent(ir)||isMouseEvent(ir))&&Pt.current!=Fr&&(Pt.current=Fr,!nn&&Fr!==0?Xr?reportConstraintsViolation(Bt,Fr<0?EXCEEDED_HORIZONTAL_MIN:EXCEEDED_HORIZONTAL_MAX):reportConstraintsViolation(Bt,Fr<0?EXCEEDED_VERTICAL_MIN:EXCEEDED_VERTICAL_MAX):reportConstraintsViolation(Bt,0)),nn&&(St(Kr),Lt.current.layout=Kr,_r&&_r(Kr),callPanelCallbacks(Rr,Kr,Tt.current))}},[]),$t=reactExports.useCallback((Bt,nr)=>{const{onLayout:rr}=It.current,{layout:Jt,panelDataArray:ir}=Lt.current,ar=ir.map(Er=>Er.constraints),{panelSize:cr,pivotIndices:dr}=panelDataHelper(ir,Bt,Jt);assert(cr!=null,`Panel size not found for panel "${Bt.id}"`);const br=findPanelDataIndex(ir,Bt)===ir.length-1?cr-nr:nr-cr,_r=adjustLayoutByDelta({delta:br,initialLayout:Jt,panelConstraints:ar,pivotIndices:dr,prevLayout:Jt,trigger:"imperative-api"});compareLayouts(Jt,_r)||(St(_r),Lt.current.layout=_r,rr&&rr(_r),callPanelCallbacks(ir,_r,Tt.current))},[]),zt=reactExports.useCallback((Bt,nr)=>{const{layout:rr,panelDataArray:Jt}=Lt.current,{collapsedSize:ir=0,collapsible:ar}=nr,{collapsedSize:cr=0,collapsible:dr,maxSize:xr=100,minSize:br=0}=Bt.constraints,{panelSize:_r}=panelDataHelper(Jt,Bt,rr);_r!=null&&(ar&&dr&&fuzzyNumbersEqual$1(_r,ir)?fuzzyNumbersEqual$1(ir,cr)||$t(Bt,cr):_r<br?$t(Bt,br):_r>xr&&$t(Bt,xr))},[$t]),Nt=reactExports.useCallback((Bt,nr)=>{const{direction:rr}=It.current,{layout:Jt}=Lt.current;if(!bt.current)return;const ir=getResizeHandleElement(Bt,bt.current);assert(ir,`Drag handle element not found for id "${Bt}"`);const ar=getResizeEventCursorPosition(rr,nr);Ct({dragHandleId:Bt,dragHandleRect:ir.getBoundingClientRect(),initialCursorPosition:ar,initialLayout:Jt})},[]),qt=reactExports.useCallback(()=>{Ct(null)},[]),Gt=reactExports.useCallback(Bt=>{const{panelDataArray:nr}=Lt.current,rr=findPanelDataIndex(nr,Bt);rr>=0&&(nr.splice(rr,1),delete Tt.current[Bt.id],Lt.current.panelDataArrayChanged=!0,Rt())},[Rt]),Ht=reactExports.useMemo(()=>({collapsePanel:Ot,direction:lt,dragState:_t,expandPanel:Ft,getPanelSize:Ut,getPanelStyle:Wt,groupId:xt,isPanelCollapsed:Kt,isPanelExpanded:Qt,reevaluatePanelConstraints:zt,registerPanel:Zt,registerResizeHandle:Vt,resizePanel:$t,startDragging:Nt,stopDragging:qt,unregisterPanel:Gt,panelGroupElement:bt.current}),[Ot,_t,lt,Ft,Ut,Wt,xt,Kt,Qt,zt,Zt,Vt,$t,Nt,qt,Gt]),Xt={display:"flex",flexDirection:lt==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return reactExports.createElement(PanelGroupContext.Provider,{value:Ht},reactExports.createElement(gt,{...yt,children:rt,className:it,id:ut,ref:bt,style:{...Xt,...mt},[DATA_ATTRIBUTES.group]:"",[DATA_ATTRIBUTES.groupDirection]:lt,[DATA_ATTRIBUTES.groupId]:xt}))}const PanelGroup=reactExports.forwardRef((Ye,rt)=>reactExports.createElement(PanelGroupWithForwardedRef,{...Ye,forwardedRef:rt}));PanelGroupWithForwardedRef.displayName="PanelGroup";PanelGroup.displayName="forwardRef(PanelGroup)";function findPanelDataIndex(Ye,rt){return Ye.findIndex(it=>it===rt||it.id===rt.id)}function panelDataHelper(Ye,rt,it){const lt=findPanelDataIndex(Ye,rt),ut=lt===Ye.length-1?[lt-1,lt]:[lt,lt+1],ht=it[lt];return{...rt.constraints,panelSize:ht,pivotIndices:ut}}function useWindowSplitterResizeHandlerBehavior({disabled:Ye,handleId:rt,resizeHandler:it,panelGroupElement:lt}){reactExports.useEffect(()=>{if(Ye||it==null||lt==null)return;const ct=getResizeHandleElement(rt,lt);if(ct==null)return;const ut=ht=>{if(!ht.defaultPrevented)switch(ht.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{ht.preventDefault(),it(ht);break}case"F6":{ht.preventDefault();const ft=ct.getAttribute(DATA_ATTRIBUTES.groupId);assert(ft,`No group element found for id "${ft}"`);const pt=getResizeHandleElementsForGroup(ft,lt),mt=getResizeHandleElementIndex(ft,rt,lt);assert(mt!==null,`No resize element found for id "${rt}"`);const gt=ht.shiftKey?mt>0?mt-1:pt.length-1:mt+1<pt.length?mt+1:0;pt[gt].focus();break}}};return ct.addEventListener("keydown",ut),()=>{ct.removeEventListener("keydown",ut)}},[lt,Ye,rt,it])}function PanelResizeHandle({children:Ye=null,className:rt="",disabled:it=!1,hitAreaMargins:lt,id:ct,onBlur:ut,onClick:ht,onDragging:ft,onFocus:pt,onPointerDown:mt,onPointerUp:gt,style:yt={},tabIndex:xt=0,tagName:bt="div",..._t}){var Ct,kt;const St=reactExports.useRef(null),Rt=reactExports.useRef({onClick:ht,onDragging:ft,onPointerDown:mt,onPointerUp:gt});reactExports.useEffect(()=>{Rt.current.onClick=ht,Rt.current.onDragging=ft,Rt.current.onPointerDown=mt,Rt.current.onPointerUp=gt});const Tt=reactExports.useContext(PanelGroupContext);if(Tt===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:Mt,groupId:Pt,registerResizeHandle:It,startDragging:Lt,stopDragging:Ot,panelGroupElement:Ft}=Tt,Ut=useUniqueId(ct),[Wt,Kt]=reactExports.useState("inactive"),[Qt,Zt]=reactExports.useState(!1),[Vt,$t]=reactExports.useState(null),zt=reactExports.useRef({state:Wt});useIsomorphicLayoutEffect(()=>{zt.current.state=Wt}),reactExports.useEffect(()=>{if(it)$t(null);else{const Ht=It(Ut);$t(()=>Ht)}},[it,Ut,It]);const Nt=(Ct=lt?.coarse)!==null&&Ct!==void 0?Ct:15,qt=(kt=lt?.fine)!==null&&kt!==void 0?kt:5;reactExports.useEffect(()=>{if(it||Vt==null)return;const Ht=St.current;assert(Ht,"Element ref not attached");let Xt=!1;return registerResizeHandle(Ut,Ht,Mt,{coarse:Nt,fine:qt},(nr,rr,Jt)=>{if(!rr){Kt("inactive");return}switch(nr){case"down":{Kt("drag"),Xt=!1,assert(Jt,'Expected event to be defined for "down" action'),Lt(Ut,Jt);const{onDragging:ir,onPointerDown:ar}=Rt.current;ir?.(!0),ar?.();break}case"move":{const{state:ir}=zt.current;Xt=!0,ir!=="drag"&&Kt("hover"),assert(Jt,'Expected event to be defined for "move" action'),Vt(Jt);break}case"up":{Kt("hover"),Ot();const{onClick:ir,onDragging:ar,onPointerUp:cr}=Rt.current;ar?.(!1),cr?.(),Xt||ir?.();break}}})},[Nt,Mt,it,qt,It,Ut,Vt,Lt,Ot]),useWindowSplitterResizeHandlerBehavior({disabled:it,handleId:Ut,resizeHandler:Vt,panelGroupElement:Ft});const Gt={touchAction:"none",userSelect:"none"};return reactExports.createElement(bt,{..._t,children:Ye,className:rt,id:ct,onBlur:()=>{Zt(!1),ut?.()},onFocus:()=>{Zt(!0),pt?.()},ref:St,role:"separator",style:{...Gt,...yt},tabIndex:xt,[DATA_ATTRIBUTES.groupDirection]:Mt,[DATA_ATTRIBUTES.groupId]:Pt,[DATA_ATTRIBUTES.resizeHandle]:"",[DATA_ATTRIBUTES.resizeHandleActive]:Wt==="drag"?"pointer":Qt?"keyboard":void 0,[DATA_ATTRIBUTES.resizeHandleEnabled]:!it,[DATA_ATTRIBUTES.resizeHandleId]:Ut,[DATA_ATTRIBUTES.resizeHandleState]:Wt})}PanelResizeHandle.displayName="PanelResizeHandle";function ThreadPageLayout({leftPanel:Ye,rightPanel:rt}){return jsxRuntimeExports.jsxs(PanelGroup,{className:"h-full",autoSaveId:"thread",direction:"horizontal",children:[jsxRuntimeExports.jsx(Panel,{id:"left-panel",order:1,defaultSize:50,minSize:25,maxSize:75,children:Ye}),rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PanelResizeHandle,{className:"bg-token-border-light w-px"}),jsxRuntimeExports.jsx(Panel,{id:"right-panel",order:2,children:rt})]})]})}function LocalConversationPageElectron({conversationId:Ye,conversationState:rt}){const it=useUnifiedDiff$1(rt),[lt,ct]=reactExports.useState("chat"),ut=reactExports.useMemo(()=>({type:"local",localConversationId:Ye}),[Ye]);return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx(LocalConversationHeaderElectron,{chatMode:lt,setChatMode:ct,conversationState:rt}),lt==="review"?jsxRuntimeExports.jsx(FullReview,{id:Ye,mode:"local",lastTurnDiff:it,followUpProps:ut,onSubmitSuccess:()=>ct("chat"),cwd:rt.cwd??null}):jsxRuntimeExports.jsx(ThreadPageLayout,{leftPanel:jsxRuntimeExports.jsx(LocalConversationThread,{conversationId:Ye??null,conversationState:rt}),rightPanel:jsxRuntimeExports.jsx(CompactReview,{id:Ye,mode:"local",turnDiff:it,cwd:rt.cwd??null})})]})}function useUnifiedDiff$1(Ye){return reactExports.useMemo(()=>{const rt=Ye?.turns??[];for(let it=rt.length-1;it>=0;it-=1){const lt=rt[it].notifications??[];for(let ct=lt.length-1;ct>=0;ct-=1){const ut=lt[ct];if(ut.method==="codex/event/turn_diff")return ut.msg.unified_diff}}return null},[Ye?.turns])}function LocalConversationPage(){const Ye=useWindowType(),{conversationId:rt}=useParams(),it=useLocalConversation(rt??null);if(rt){if(Ye==="extension")return jsxRuntimeExports.jsx(LocalConversationThread,{conversationId:rt??null,conversationState:it});if(!it)return jsxRuntimeExports.jsx(LoadingPage,{})}else return jsxRuntimeExports.jsx(Navigate,{to:"/"});return jsxRuntimeExports.jsx(LocalConversationPageElectron,{conversationId:rt,conversationState:it??null})}function FatalErrorPage({fatalError:Ye,onReset:rt}){const{data:it}=useOsInfo(),lt=it?.platform==="win32",{errorMessage:ct,cliErrorMessage:ut}=Ye;return jsxRuntimeExports.jsxs("div",{className:"flex size-full flex-col justify-center gap-4 p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.errorTitle",defaultMessage:"An error has occurred",description:"Title of the error page"})}),jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.errorDescription",defaultMessage:"Codex crashed with the following error:",description:"Description of the error page"})}),jsxRuntimeExports.jsx("div",{className:"text-token-error-foreground whitespace-pre-wrap font-mono",children:ct}),ut&&jsxRuntimeExports.jsx("div",{className:"text-token-error-foreground whitespace-pre-wrap font-mono",children:ut}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.errorSignal",defaultMessage:"Some things to try:",description:"Helpful things to try when the error page is displayed"})}),jsxRuntimeExports.jsxs("ul",{className:"list-inside list-disc",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"errorPage.list.configToml",defaultMessage:"Check your config.toml for invalid settings",description:"Helpful things to try when the error page is displayed"})}),lt?jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"errorPage.list.runInWsl",defaultMessage:"Check your settings to disable running in WSL if you are seeing compatibility issues",description:"Helpful things to try when the error page is displayed"})}):jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"errorPage.list.checkSettings",defaultMessage:"Try updating your IDE settings",description:"Helpful things to try when the error page is displayed"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"errorPage.list.configToml",defaultMessage:"Try downloading a different version of the extension",description:"Helpful things to try when the error page is displayed"})})]})]}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.errorDescription",defaultMessage:"Click reload to restart the Codex extension, or visit our {documentationLink} for additional help.",description:"Description of the error page",values:{documentationLink:jsxRuntimeExports.jsx("button",{color:"ghost",className:"text-token-text-link-foreground cursor-interaction border-0 bg-transparent p-0 outline-none hover:underline focus:border-0 focus:!outline-none",onClick:()=>{messageBus.dispatchMessage("open-in-browser",{url:"https://developers.openai.com/codex/ide"})},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.documentationLink",defaultMessage:"documentation",description:"One word to use as the Codex documentation link"})})}})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>{messageBus.dispatchMessage("open-config-toml",{})},color:"outline",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.openConfigToml",defaultMessage:"Open Config.toml",description:"Button label to open the Config.toml file"})}),jsxRuntimeExports.jsx(Button,{onClick:rt,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"loadingPage.reload",defaultMessage:"Reload",description:"Button label to reload the page"})})]})]})}async function implementTodo(Ye){const{fileName:rt,line:it,comment:lt,mcpManager:ct,navigate:ut}=Ye;try{const ft=(await fetchFromVSCode("active-workspace-roots")).roots?.[0];let pt=rt;if(ft){const xt=ft.replaceAll("\\","/"),bt=rt.replaceAll("\\","/"),_t=xt.endsWith("/")?xt:`${xt}/`;bt.startsWith(_t)&&(pt=bt.slice(_t.length))}const gt=`Please implement the code as described by the comment on ${`${pt}:${it}`}

The comment is:
${lt?.trim()??""}

Replace the comment with your implementation.
Optimize for speed. Don't over-explore or over-check your work other than what is absolutely necessary to implement the comment.
Once you are done, remove the comment.`,yt=await ct.startConversation({input:[{type:"text",data:{text:gt}}],workspaceRoots:[ft],model:null,reasoningEffort:"medium"});ut(`/local/${yt}`)}catch(ht){logger.error(`Failed to handle implement-todo: ${String(ht)}`)}}function MessageHandler({children:Ye}){const rt=useAppServerManager(),it=useNavigate(),lt=useRefetchIdeContext(),ct=useRefetchIsCopilotApiAvailable(),ut=useQueryClient(),ht=useToaster(),ft=useSetAtom(aWorktrees),[pt,mt]=reactExports.useState(null);return reactExports.useEffect(()=>{const gt=async xt=>{switch(xt.type){case"fetch-response":break;case"fetch-stream-event":case"fetch-stream-error":case"fetch-stream-complete":break;case"shared-object-updated":break;case"ide-context-updated":{lt();break}case"active-workspace-roots-updated":case"workspace-root-options-updated":{ut.invalidateQueries({queryKey:[VSCODE_QUERY_KEY_PREFIX]});break}case"worktree-status-updated":{ft(xt.worktrees);break}case"mcp-response":{xt.message.result?rt.onResult(xt.message.id,xt.message.result):xt.message.error?rt.onError(xt.message.id,xt.message.error):logger.error(`Invalid MCP message: ${JSON.stringify(xt)}`);break}case"codex-app-server-fatal-error":{mt(xt);break}case"mcp-notification":{rt.onNotification(xt.method,xt.params??{});break}case"mcp-request":{const{request:bt}=xt;rt.onRequest(bt);break}case"navigate-to-route":break;case"is-copilot-api-available-updated":{ct();break}case"implement-todo":{await implementTodo({fileName:decodeURIComponent(xt.fileName),line:xt.line,comment:xt.comment,mcpManager:rt,navigate:it});break}}},yt=xt=>{try{const bt=xt.data,_t=typeof bt=="string"?JSON.parse(bt):bt;gt(_t)}catch(bt){logger.error(`Invalid message received: ${bt}`)}};return window.addEventListener("message",yt),()=>{window.removeEventListener("message",yt)}},[it,rt,lt,ct,ut,ft,ht]),pt?jsxRuntimeExports.jsx(FatalErrorPage,{fatalError:pt,onReset:()=>{mt(null),messageBus.dispatchMessage("codex-app-server-restart",{errorMessage:null})}}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye})}function NavigationHandler(){const Ye=useNavigate();return useMessage("navigate-to-route",rt=>Ye(rt.path,{state:rt.state})),null}function useUnifiedDiff(Ye,rt){const it=Ye.data,lt=it?.current_assistant_turn,ct=lt?.sibling_turn_ids?.length??0,{data:ut=[]}=useSiblingTurns(it?.task.id??null,lt?.id??null,{expectedCount:ct}),ht=it?.current_diff_task_turn,ft=reactExports.useMemo(()=>rt?ut.find(mt=>mt.id===rt)??null:null,[ut,rt]);return reactExports.useMemo(()=>ft?.output_items?.find(mt=>mt.type==="pr")??ht?.output_items?.find(mt=>mt.type==="pr"),[ft,ht])?.output_diff?.diff??null}function RemoteConversationCompactReview({taskId:Ye,taskDetailsQuery:rt,selectedTurnId:it}){const lt=useUnifiedDiff(rt,it);return jsxRuntimeExports.jsx(CompactReview,{id:Ye,mode:"remote",turnDiff:lt,cwd:null})}function RemoteConversationFullReview({taskId:Ye,taskDetailsQuery:rt,selectedTurn:it,setChatMode:lt}){const ct=useUnifiedDiff(rt,it?.id??null),ut=reactExports.useMemo(()=>!rt.data||!it?null:{type:"cloud",taskDetails:rt.data,hasAppliedCodeLocally:!1,selectedTurnId:it.id,selectedTurn:it},[rt,it]);return jsxRuntimeExports.jsx(FullReview,{id:Ye,mode:"remote",lastTurnDiff:ct,followUpProps:ut,onSubmitSuccess:()=>lt("chat"),cwd:null})}function RemoteConversationHeaderElectron({chatMode:Ye,setChatMode:rt,taskDetailsQuery:it}){const lt=it.data,ct=lt?.task.id;return jsxRuntimeExports.jsx(ThreadPageHeader,{chatMode:Ye,setChatMode:rt,start:jsxRuntimeExports.jsx("div",{className:"truncate",children:lt?.task.title}),trailing:jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.viewPreviousTurns",defaultMessage:"Open in web to view previous turns",description:"Open task in Codex web button"}),children:jsxRuntimeExports.jsx(Button,{color:"ghost",size:"icon",onClick:()=>{ct&&messageBus.dispatchMessage("open-in-browser",{url:`${CODEX_HOME_URL}/tasks/${ct}`})},children:jsxRuntimeExports.jsx(SvgArrowTopRight,{})})})})}const aAppliedTurnIds=atom([]);function useHasAppliedTurnLocally(Ye){const[rt,it]=useAtom(aAppliedTurnIds),lt=Ye?rt.includes(Ye):!1,ct=reactExports.useCallback(()=>{Ye&&it(ht=>ht.includes(Ye)?ht:[...ht,Ye].slice(0,20))},[Ye,it]),ut=reactExports.useCallback(()=>{it(ht=>ht.filter(ft=>ft!==Ye))},[Ye,it]);return[lt,ct,ut]}const SvgDockOff=Ye=>reactExports.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{d:"M3.24023 5.82812C3.22357 5.9231 3.20784 6.03267 3.19727 6.16211C3.16593 6.54563 3.16504 7.03896 3.16504 7.75V12.25C3.16504 12.961 3.16593 13.4544 3.19727 13.8379C3.22797 14.2136 3.28473 14.425 3.36523 14.583C3.54116 14.9283 3.82175 15.2088 4.16699 15.3848C4.325 15.4653 4.53641 15.522 4.91211 15.5527C5.29563 15.5841 5.78896 15.585 6.5 15.585H12.9971L14.3232 16.9111C14.0722 16.914 13.7985 16.915 13.5 16.915H6.5C5.81091 16.915 5.25395 16.9157 4.80371 16.8789C4.34592 16.8415 3.94009 16.7621 3.56348 16.5703C2.96794 16.2669 2.48313 15.7821 2.17969 15.1865C1.98788 14.8099 1.90851 14.4041 1.87109 13.9463C1.83431 13.496 1.83496 12.9391 1.83496 12.25V7.75C1.83496 7.06091 1.83431 6.50395 1.87109 6.05371C1.90851 5.59592 1.98788 5.19009 2.17969 4.81348C2.18485 4.80335 2.19005 4.79326 2.19531 4.7832L3.24023 5.82812ZM13.5 3.08496C14.1891 3.08496 14.746 3.08431 15.1963 3.12109C15.6541 3.15851 16.0599 3.23788 16.4365 3.42969C17.0321 3.73313 17.5169 4.21794 17.8203 4.81348C18.0121 5.19009 18.0915 5.59592 18.1289 6.05371C18.1657 6.50395 18.165 7.06091 18.165 7.75V12.25C18.165 12.9391 18.1657 13.496 18.1289 13.9463C18.0915 14.4041 18.0121 14.8099 17.8203 15.1865C17.8152 15.1965 17.8089 15.2059 17.8037 15.2158L16.7588 14.1709C16.7754 14.0761 16.7922 13.967 16.8027 13.8379C16.8341 13.4544 16.835 12.961 16.835 12.25V7.75C16.835 7.03896 16.8341 6.54563 16.8027 6.16211C16.772 5.78641 16.7153 5.575 16.6348 5.41699C16.4588 5.07175 16.1783 4.79116 15.833 4.61523C15.675 4.53473 15.4636 4.47797 15.0879 4.44727C14.7044 4.41593 14.211 4.41504 13.5 4.41504H7.00293L5.67578 3.08789C5.92704 3.08503 6.20109 3.08496 6.5 3.08496H13.5ZM11.7373 14.3252H6.66699C6.29978 14.3252 6.00205 14.0273 6.00195 13.6602C6.00195 13.2929 6.29972 12.9951 6.66699 12.9951H10.4072L11.7373 14.3252Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M2 2L18 18",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round"}));function ApplyOrRevertBanner({turnId:Ye,diff:rt,taskEnvironment:it}){const[lt,ct,ut]=useHasAppliedTurnLocally(Ye),ht=it?.repo_map?.[it?.repos[0]]?.clone_url,ft=useGitRoot(ht),{data:pt}=useWorkspaceEnvironments(),mt=useToaster(),gt=useIntl(),yt=reactExports.useMemo(()=>it?!pt||pt.length===0?!0:!pt.some(St=>St.id===it.id):!1,[it,pt]),[xt,bt]=reactExports.useState({open:!1,result:null});function _t({className:St}){return jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("div",{className:"max-w-[200px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.applyMessageDifferentEnvironment",defaultMessage:"Changes made in {environment} so may not apply cleanly.",description:"Banner warning the user that the Codex code changes they are viewing were made in a different environment and may not apply cleanly.",values:{environment:jsxRuntimeExports.jsx("code",{className:"whitespace-nowrap",children:it?.label})}})}),children:jsxRuntimeExports.jsx(SvgDockOff,{className:St})})}const Ct=useMutationFromVSCode("apply-patch",{onSuccess(St,{revert:Rt=!1}){showToast(Rt,St.status,gt,mt),Rt&&St.status==="success"?ut():Rt||ct(),St.status!=="success"&&bt({open:!0,result:St})},onError(St,{revert:Rt=!1}){showToast(Rt,"error",gt,mt)}});function kt(St){Ct.isPending||ft&&Ct.mutate({diff:rt,cwd:ft,revert:St})}return lt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Banner,{Icon:yt?_t:SvgCodex,content:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-0.5",children:[jsxRuntimeExports.jsx("div",{className:"truncate text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.revertMessage",defaultMessage:"Revert applied changes?",description:"Banner message for reverting applied changes from Codex Cloud"})}),yt&&it&&jsxRuntimeExports.jsx(BannerEnvironmentWarningText,{taskEnvironmentName:it.label})]}),primaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.revert",defaultMessage:"Revert",description:"Label to revert applied code changes from Codex"}),onPrimaryCtaClick:()=>{kt(!0)},isPrimaryCtaDisabled:Ct.isPending,secondaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.reapply",defaultMessage:"Reapply",description:"Label to reapply code changes to Codex"}),onSecondaryCtaClick:()=>{kt(!1)},isSecondaryCtaDisabled:Ct.isPending}),jsxRuntimeExports.jsx(ApplyResultsDialog,{open:xt.open,result:xt.result,onOpenChange:St=>bt(Rt=>({...Rt,open:St}))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Banner,{Icon:yt?_t:SvgCodex,content:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-0.5",children:[jsxRuntimeExports.jsx("div",{className:"truncate text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.applyMessage",defaultMessage:"Apply changes and continue locally?",description:"Banner message for applying changes to Codex locally"})}),yt&&it&&jsxRuntimeExports.jsx(BannerEnvironmentWarningText,{taskEnvironmentName:it.label})]}),primaryCtaText:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.apply",defaultMessage:"Apply",description:"Label to apply code changes from Codex"}),onPrimaryCtaClick:()=>{kt(!1)},isPrimaryCtaDisabled:Ct.isPending}),jsxRuntimeExports.jsx(ApplyResultsDialog,{open:xt.open,result:xt.result,onOpenChange:St=>bt(Rt=>({...Rt,open:St}))})]})}function BannerEnvironmentWarningText({taskEnvironmentName:Ye}){return jsxRuntimeExports.jsx("div",{className:"text-token-editor-warning-foreground truncate text-base",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyOrRevertBanner.applyMessageDifferentEnvironment",defaultMessage:"This task was made in {environment} so may not apply cleanly.",description:"Banner warning the user that the Codex code changes they are viewing were made in a different environment and may not apply cleanly.",values:{environment:jsxRuntimeExports.jsx("code",{className:"whitespace-nowrap",children:Ye})}})})}function ApplyResultsDialog({open:Ye,onOpenChange:rt,result:it}){const lt=useIntl(),ct=it?.appliedPaths??[],ut=it?.conflictedPaths??[],ht=it?.skippedPaths??[],ft=ct.length>0||ut.length>0||ht.length>0;return jsxRuntimeExports.jsx(Dialog,{open:Ye,onOpenChange:rt,triggerAsChild:!1,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyResultsDialog.title",defaultMessage:"Apply results",description:"Title for dialog showing apply patch results"})}),ft?jsxRuntimeExports.jsxs("div",{className:"flex max-h-64 flex-col gap-3 overflow-y-auto pr-1",children:[ct.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyResultsDialog.applied",defaultMessage:"Applied cleanly ({count})",description:"Heading for applied paths",values:{count:ct.length}})}),jsxRuntimeExports.jsx("ul",{className:"text-sm",children:ct.map(pt=>jsxRuntimeExports.jsx("li",{className:"truncate",title:pt,children:pt},pt))})]}),ut.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-token-charts-red text-sm font-medium",children:lt.formatMessage({id:"codex.applyResultsDialog.conflicted",defaultMessage:"Conflicted ({count})",description:"Heading for conflicted paths"},{count:ut.length})}),jsxRuntimeExports.jsx("ul",{className:"text-sm",children:ut.map(pt=>jsxRuntimeExports.jsx("li",{className:"truncate",title:pt,children:pt},pt))})]}),ht.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground text-sm font-medium",children:lt.formatMessage({id:"codex.applyResultsDialog.skipped",defaultMessage:"Skipped ({count})",description:"Heading for skipped paths"},{count:ht.length})}),jsxRuntimeExports.jsx("ul",{className:"text-sm",children:ht.map(pt=>jsxRuntimeExports.jsx("li",{className:"truncate",title:pt,children:pt},pt))})]})]}):jsxRuntimeExports.jsx("p",{className:"text-token-description-foreground text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyResultsDialog.noDetails",defaultMessage:"No file details available.",description:"Shown when there are no file-level results to display"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end gap-2 pt-1",children:jsxRuntimeExports.jsx(Button,{color:"outline",onClick:()=>rt(!1),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.applyResultsDialog.close",defaultMessage:"Close",description:"Close button for apply results dialog"})})})]})})}function showToast(Ye,rt,it,lt){switch(rt){case"success":lt.success(it.formatMessage(Ye?{id:"codex.diffView.revertPatchSuccess",defaultMessage:"Changes reverted",description:"Toast shown when reverting patch succeeds"}:{id:"codex.diffView.applyPatchSuccess",defaultMessage:"Changes applied",description:"Toast shown when applying patch succeeds"}),{id:"patch"});break;case"partial-success":lt.warning(it.formatMessage(Ye?{id:"codex.diffView.revertPatchPartialSuccess",defaultMessage:"Changes partially reverted",description:"Toast shown when reverting patch partially succeeds"}:{id:"codex.diffView.applyPatchPartialSuccess",defaultMessage:"Changes partially applied",description:"Toast shown when applying patch partially succeeds"}),{id:"patch"});break;case"error":lt.danger(it.formatMessage(Ye?{id:"codex.diffView.revertPatchError",defaultMessage:"Failed to revert changes",description:"Toast shown when reverting patch fails"}:{id:"codex.diffView.applyPatchError",defaultMessage:"Failed to apply changes",description:"Toast shown when applying patch fails"}),{id:"patch"});break}}function AttemptTabs({turns:Ye,selectedTurnId:rt,onSelect:it,loading:lt,expectedCount:ct}){const ut=reactExports.useMemo(()=>{const ht=Array.from({length:Math.max(ct,Ye.length)}),ft=[...Ye].sort((pt,mt)=>{const gt=pt.attempt_placement??pt.created_at,yt=mt.attempt_placement??mt.created_at;return gt-yt});return ht.map((pt,mt)=>{const gt=ft[mt];return gt?{type:"turn",turn:gt,attemptNumber:mt+1}:{type:"placeholder",attemptNumber:mt+1}})},[ct,Ye]);return jsxRuntimeExports.jsx("div",{className:"hide-scrollbar mb-2 flex flex-none shrink-0 gap-2 overflow-x-auto overflow-y-visible whitespace-nowrap",children:ut.map(ht=>ht.type==="turn"?jsxRuntimeExports.jsx(Button,{color:ht.turn.id===rt?"primary":"outline",loading:lt,onClick:()=>it(ht.turn.id),disabled:lt,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.turnTab.title",defaultMessage:"Attempt {number}",description:"Tab title for a sibling turn",values:{number:ht.attemptNumber}})},ht.turn.id):jsxRuntimeExports.jsx(Button,{color:"outline",loading:lt,disabled:!0,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.turnTab.loading",defaultMessage:"Attempt {number}",description:"Placeholder tab title while sibling turns load",values:{number:ht.attemptNumber}})},`placeholder-${ht.attemptNumber}`))})}function fileIdFromPointer(Ye){return Ye.startsWith("file-service://")?Ye.replace("file-service://",""):Ye.startsWith("sediment://")?Ye.replace("sediment://",""):Ye}function base64ToBlobUrl(Ye,rt){const it=atob(Ye),lt=new Uint8Array(it.length);for(let ut=0;ut<it.length;ut++)lt[ut]=it.charCodeAt(ut);const ct=new Blob([lt],{type:rt||"application/octet-stream"});return URL.createObjectURL(ct)}function useImageAssetSrc(Ye){const rt=reactExports.useRef(null),it=reactExports.useMemo(()=>!!Ye,[Ye]),{data:lt,isLoading:ct,isError:ut,refetch:ht}=useQuery({enabled:it,queryKey:["file","image-src",Ye],queryFn:async()=>{const ft=fileIdFromPointer(Ye),pt=await CodexRequest.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:ft}}});if(pt.status!=="success"||!pt.download_url)throw new Error("Failed to get download URL");const{body:mt}=await WebFetchWrapper.getInstance().get(pt.download_url);return base64ToBlobUrl(mt.base64,mt.contentType)},staleTime:300*1e3});return reactExports.useEffect(()=>{if(rt.current&&rt.current!==lt&&rt.current.startsWith("blob:"))try{URL.revokeObjectURL(rt.current)}catch{}return rt.current=lt??null,()=>{if(rt.current&&rt.current.startsWith("blob:"))try{URL.revokeObjectURL(rt.current)}catch{}rt.current=null}},[lt]),{src:lt??null,isLoading:ct,isError:ut,refetch:ht}}function RemoteConversationThread({taskDetailsQuery:Ye,selectedTurnId:rt,setSelectedTurnId:it,selectedTurn:lt,allTurns:ct,loading:ut}){const ht=useWindowType(),ft=useFocusVsContext("chatgpt.supportsNewChatKeyShortcut"),{taskId:pt}=useParams(),{data:mt,isLoading:gt,error:yt}=Ye,{mutate:xt}=useMarkTaskAsRead(pt??""),bt=mt?.current_assistant_turn,_t=bt?.sibling_turn_ids?.length??0,[Ct]=useHasAppliedTurnLocally(rt);reactExports.useEffect(()=>{it(bt?.id??null)},[bt?.id,it]);const kt=mt?.current_assistant_turn?.environment,St=bt?.turn_status??null,Rt=bt?.id??null,Tt=St==="in_progress"||St==="pending",Mt=St==="completed",Pt=St==="failed",It=useStreamLastTurnEvent(mt?.task.id??"",St,Rt),Lt=reactExports.useMemo(()=>bt?1+_t:0,[bt,_t]),Ot=mt?.current_diff_task_turn,Ut=reactExports.useMemo(()=>lt?.output_items?.find(Zt=>Zt.type==="pr")??Ot?.output_items?.find(Zt=>Zt.type==="pr"),[lt,Ot])?.output_diff?.diff??null,Wt=mt?.task.has_unread_turn??!1;reactExports.useEffect(()=>{Wt&&xt()},[Wt,xt]);const Kt=reactExports.useCallback(()=>{pt&&messageBus.dispatchMessage("open-in-browser",{url:`${CODEX_HOME_URL}/tasks/${pt}`})},[pt]),Qt=reactExports.useEffectEvent((Zt,Vt)=>{Vt&&ht==="extension"&&messageBus.dispatchMessage("show-diff",{conversationId:Zt,unifiedDiff:Vt})});return reactExports.useEffect(()=>{mt?.task.id&&Ut&&Qt(mt?.task.id??null,Ut)},[mt?.task.id,Ut]),jsxRuntimeExports.jsxs(ThreadLayout,{containerRef:ft,"data-vscode-context":'{"chatgpt.supportsNewChatMenu": true}',header:jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(Header,{title:mt?.task.title??void 0})}),banner:jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(CloudTaskBanner,{taskDetails:mt})}),contentWrapperClassName:"flex flex-col gap-1.5 pt-2",footer:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ut&&pt&&lt?.id&&jsxRuntimeExports.jsx(ApplyOrRevertBanner,{turnId:lt.id,diff:Ut,taskEnvironment:kt}),Pt&&jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsx(Banner,{type:"error",content:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.turnFailed",defaultMessage:"An error occurred during this task",description:"Error banner shown when a sibling turn failed"}),primaryCtaText:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.openInWeb",defaultMessage:"Open in web",description:"Open task in Codex web button"})}),onPrimaryCtaClick:Kt})}),rt&&Mt&&mt&&jsxRuntimeExports.jsx(Composer$1,{followUp:{type:"cloud",taskDetails:mt,selectedTurnId:rt,selectedTurn:lt??void 0,hasAppliedCodeLocally:Ct}})]}),children:[yt&&jsxRuntimeExports.jsx("div",{className:"py-2",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.errorWithMessage",defaultMessage:"Error: {message}",description:"Error display on the remote conversation page including the message",values:{message:yt.message}})}),mt?jsxRuntimeExports.jsx(RemoteConversationContent,{details:mt,allTurns:ct,selectedTurn:lt,unifiedDiff:Ut,taskId:pt??null,onSelect:it,loading:ut,expectedTurnCount:Lt,isStreaming:Tt,streamingEventText:It,streamingTurnId:Rt}):gt?jsxRuntimeExports.jsx("div",{className:"flex min-h-full w-full items-center justify-center",children:jsxRuntimeExports.jsx(Spinner,{})}):null]})}function CloudTaskBanner({taskDetails:Ye}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye&&jsxRuntimeExports.jsxs("a",{className:"bg-token-text-link-foreground/20 text-token-foreground group flex items-center justify-center gap-1 py-1.5 text-sm focus:!outline-none",href:`${CODEX_HOME_URL}/tasks/${Ye.task.id}`,children:[jsxRuntimeExports.jsx(SvgCloud,{className:"icon-2xs"}),jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.codexCloudTask",defaultMessage:"You are viewing a <u>Codex cloud</u> task",description:"Label indicating that you are viewing a Codex cloud task, not a local task",values:{u:rt=>jsxRuntimeExports.jsx("span",{className:"underline underline-offset-2",children:rt})}}),jsxRuntimeExports.jsx(Tooltip,{tooltipContent:jsxRuntimeExports.jsx("div",{className:"max-w-[120px]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.viewPreviousTurns",defaultMessage:"Open in web to view previous turns",description:"Tooltip indicating how to view previous turns"})}),children:jsxRuntimeExports.jsx(SvgInfo,{className:"icon-2xs"})})]})})}function RemoteConversationContent({details:Ye,allTurns:rt,selectedTurn:it,unifiedDiff:lt,taskId:ct,onSelect:ut,loading:ht,expectedTurnCount:ft,isStreaming:pt,streamingEventText:mt,streamingTurnId:gt}){const yt=reactExports.useMemo(()=>Ye.current_user_turn?.input_items??[],[Ye.current_user_turn]),xt=reactExports.useMemo(()=>messageContentToString(yt?.filter(St=>St.type==="message")??[]),[yt]),bt=reactExports.useMemo(()=>yt.filter(St=>St.type==="image_asset_pointer"),[yt]),_t=reactExports.useMemo(()=>messageContentToString(it?.output_items?.filter(St=>St.type==="message")??[]),[it]),Ct=yt.some(St=>St.type==="prior_conversation"),kt=!!Ye.current_user_turn?.previous_turn_id;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[kt&&null,jsxRuntimeExports.jsx(UserMessage,{message:xt,referencesPriorConversation:Ct}),bt.length>0&&jsxRuntimeExports.jsx(UserMessageImageAttachments,{attachments:bt}),ft>1&&it&&jsxRuntimeExports.jsx(AttemptTabs,{turns:rt,selectedTurnId:it.id,onSelect:ut,loading:ht,expectedCount:ft}),it?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[pt&&it.id===gt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-6",children:[jsxRuntimeExports.jsx(AnimatedIcon,{animation:"codex-looking-around",size:"lg"}),jsxRuntimeExports.jsx("span",{className:"loading-shimmer-pure-text text-[13px]",children:mt.length?mt:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.remoteConversation.streaming",defaultMessage:"Getting started",description:"Text shown when a Codex task is streaming"})})]}):jsxRuntimeExports.jsx(Markdown,{className:"wrap-anywhere",textSize:"text-[13px]",children:_t}),lt&&ct?jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(TurnDiffContent,{isInProgress:!1,item:{type:"turn-diff",unifiedDiff:lt,cwd:""},showRevertButton:!1,conversationId:ct})}):null]}):jsxRuntimeExports.jsx(LoadingPage,{})]})}function messageContentToString(Ye){return Ye.flatMap(rt=>rt.content.filter(it=>it.content_type==="text")).map(rt=>rt.text).join("")}function UserMessageImageAttachments({attachments:Ye}){return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 self-end",children:Ye.map((rt,it)=>jsxRuntimeExports.jsx(UserImageThumb,{asset:rt},`${rt.asset_pointer}-${it}`))})}function UserImageThumb({asset:Ye}){const rt=useIntl(),{src:it,isLoading:lt,isError:ct,refetch:ut}=useImageAssetSrc(Ye.asset_pointer);return ct?null:lt||!it?jsxRuntimeExports.jsx("div",{className:"bg-token-bg-tertiary border-token-border flex h-32 w-32 items-center justify-center rounded-md border text-sm","aria-label":rt.formatMessage({id:"codex.remoteConversation.loadingImage",defaultMessage:"Loading image",description:"Aria label for loading image"}),children:""}):jsxRuntimeExports.jsx("div",{className:"rounded-md",style:{width:128,height:128},children:jsxRuntimeExports.jsx("img",{src:it,width:Ye.width,height:Ye.height,className:"h-full w-full rounded-md object-contain",referrerPolicy:"no-referrer",onError:ut,alt:rt.formatMessage({id:"codex.remoteConversation.userImageAttachment",defaultMessage:"User attachment",description:"Alt text for user image attachment"})})})}function RemoteConversationPageElectron({taskId:Ye,taskDetailsQuery:rt,selectedTurnId:it,setSelectedTurnId:lt,selectedTurn:ct,allTurns:ut,loading:ht}){const ft=!!rt.data?.task.task_status_display?.latest_turn_status_display?.diff_stats,[pt,mt]=reactExports.useState("chat");return jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col",children:[jsxRuntimeExports.jsx(RemoteConversationHeaderElectron,{chatMode:pt,setChatMode:mt,taskDetailsQuery:rt}),pt==="review"&&ft?jsxRuntimeExports.jsx(RemoteConversationFullReview,{taskId:Ye,taskDetailsQuery:rt,selectedTurn:ct,setChatMode:mt}):jsxRuntimeExports.jsx(ThreadPageLayout,{leftPanel:jsxRuntimeExports.jsx(RemoteConversationThread,{taskDetailsQuery:rt,selectedTurnId:it,setSelectedTurnId:lt,selectedTurn:ct,allTurns:ut,loading:ht}),rightPanel:ft?jsxRuntimeExports.jsx(RemoteConversationCompactReview,{taskId:Ye,taskDetailsQuery:rt,selectedTurnId:it}):null})]})}function RemoteConversationPage(){const Ye=useWindowType(),{taskId:rt}=useParams(),it=useTaskDetails(rt??null),[lt,ct]=reactExports.useState(null),ut=it.data,ht=ut?.current_assistant_turn,ft=ht?.sibling_turn_ids?.length??0,{data:pt=[],isLoading:mt}=useSiblingTurns(ut?.task.id??null,ht?.id??null,{expectedCount:ft}),gt=reactExports.useMemo(()=>{if(!ht)return[];const xt=new Map;xt.set(ht.id,ht);for(const bt of pt)xt.set(bt.id,bt);return Array.from(xt.values()).sort((bt,_t)=>{const Ct=bt.attempt_placement??bt.created_at,kt=_t.attempt_placement??_t.created_at;return Ct-kt})},[ht,pt]),yt=reactExports.useMemo(()=>lt?gt.find(xt=>xt.id===lt)??null:null,[gt,lt]);if(rt){if(Ye==="extension")return jsxRuntimeExports.jsx(RemoteConversationThread,{taskDetailsQuery:it,selectedTurnId:lt,setSelectedTurnId:ct,allTurns:gt,loading:mt,selectedTurn:yt})}else return jsxRuntimeExports.jsx(Navigate,{to:"/"});return jsxRuntimeExports.jsx(RemoteConversationPageElectron,{taskId:rt,taskDetailsQuery:it,selectedTurnId:lt,setSelectedTurnId:ct,selectedTurn:yt,allTurns:gt,loading:mt})}function SettingsContentLayout({title:Ye,children:rt,fullWidth:it=!1,contentClassName:lt,className:ct,...ut}){return jsxRuntimeExports.jsxs("div",{className:clsx("main-surface flex h-full min-h-0 flex-col",ct),...ut,children:[jsxRuntimeExports.jsx("div",{className:"h-toolbar draggable",children:" "}),jsxRuntimeExports.jsx("div",{className:"p-panel flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:clsx("mx-auto flex w-full flex-col",it?null:"max-w-2xl",lt),children:[Ye?jsxRuntimeExports.jsx("div",{className:"heading-lg truncate",children:Ye}):null,jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:rt})]})})]})}function SettingsSectionTitleMessage({slug:Ye,messagePrefix:rt}){switch(Ye){case"environments":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.environments`,defaultMessage:"Environments",description:"Title for environments settings section"});case"code-review":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.code-review`,defaultMessage:"Code review",description:"Title for code review settings section"});case"connectors":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.connectors`,defaultMessage:"Connectors",description:"Title for connectors settings section"});case"usage":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.usage`,defaultMessage:"Usage",description:"Title for usage settings section"});case"analytics":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.analytics`,defaultMessage:"Analytics",description:"Title for analytics settings section"});case"data-controls":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.data-controls`,defaultMessage:"Data controls",description:"Title for data controls settings section"});case"codex-settings":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.codex-settings`,defaultMessage:"Codex Settings",description:"Title for Codex settings section"});case"ide-settings":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.ide-settings`,defaultMessage:"IDE settings",description:"Title for IDE settings section"});case"mcp-settings":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.mcp-settings`,defaultMessage:"MCP settings",description:"Title for MCP settings section"});case"keyboard-shortcuts":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.keyboard-shortcuts`,defaultMessage:"Keyboard shortcuts",description:"Title for keyboard shortcuts settings section"});case"help":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.help`,defaultMessage:"Help",description:"Title for help section"});case"log-out":return jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:`${rt}.log-out`,defaultMessage:"Log out",description:"Title for log out section"})}}function SettingsNav({activeSection:Ye,onSelect:rt,className:it,onBack:lt}){const ct=useIntl();return jsxRuntimeExports.jsx("nav",{className:clsx("px-panel",it),"aria-label":ct.formatMessage({id:"settings.nav.ariaLabel",defaultMessage:"Settings",description:"Aria label for settings navigation"}),children:jsxRuntimeExports.jsxs("div",{className:"-mx-[var(--padding-row-x)] flex flex-col",children:[lt?jsxRuntimeExports.jsx(NavRow,{className:"mb-2",onActivate:lt,LeadingIcon:SvgArrowLeft,label:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"settings.nav.back",defaultMessage:"Back to app",description:"Button to return to the main app from settings"})}):null,SETTINGS_SECTIONS.map(ut=>{const ht=ut.slug===Ye,ft=()=>{ht||rt(ut.slug)};return jsxRuntimeExports.jsx(NavRow,{onActivate:ft,isActive:ht,label:jsxRuntimeExports.jsx(SettingsSectionTitleMessage,{slug:ut.slug,messagePrefix:"settings.nav"})},ut.slug)})]})})}function NavRow({label:Ye,isActive:rt=!1,onActivate:it,LeadingIcon:lt,className:ct}){const ut=ht=>{(ht.key==="Enter"||ht.key===" ")&&(ht.preventDefault(),it())};return jsxRuntimeExports.jsxs("div",{role:"link",tabIndex:0,className:clsx("cursor-interaction rounded-md px-[var(--padding-row-x)] py-[var(--padding-row-y)] text-base outline-none",lt?"flex items-center gap-2":void 0,"focus-visible:ring-token-focus focus-visible:ring-1",rt?"bg-token-list-active-selection-background text-token-text-primary":"text-token-text-secondary hover:bg-token-list-hover-background",ct),"aria-current":rt?"page":void 0,onClick:it,onKeyDown:ut,children:[lt?jsxRuntimeExports.jsx(lt,{className:"icon-xs"}):null,Ye]})}function SettingsPage(){const{section:Ye}=useParams(),rt=useNavigate(),it=SETTINGS_SECTIONS.find(lt=>lt.slug===Ye);return it?jsxRuntimeExports.jsxs("div",{className:"flex h-full min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"bg-token-surface-secondary w-token-sidebar flex shrink-0 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"draggable h-toolbar w-full"}),jsxRuntimeExports.jsx(SettingsNav,{activeSection:it.slug,onSelect:lt=>{rt(`/settings/${lt}`)},onBack:()=>{rt("/")}})]}),jsxRuntimeExports.jsx("div",{className:"min-w-0 flex-1 overflow-hidden",children:jsxRuntimeExports.jsx(SettingsContentLayout,{fullWidth:it.fullWidth,title:jsxRuntimeExports.jsx(SettingsSectionTitleMessage,{slug:it.slug,messagePrefix:"settings.section"}),children:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})})})]}):jsxRuntimeExports.jsx(Navigate,{to:`/settings/${DEFAULT_SETTINGS_SECTION}`,replace:!0})}const SvgGithubMark=Ye=>reactExports.createElement("svg",{width:21.4375,height:21,viewBox:"0 0 98 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Ye},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})),STEP_INTRO=0,STEP_CLOUD=1,STEP_TODO=2,STEP_LEGAL=3,TOTAL_STEPS=STEP_LEGAL+1,TODO_CODE_PREFIX=`import mongoose, { Schema } from "mongoose";
export const collection = "Product";`,TODO_CODE_SUFFIX=`const schema = new Schema(
  {
    name: {
      type: String,
      required: true,
      trim: true,
    },
    description: {`;function FirstRunPage(){const Ye=useNux(),{authMethod:rt}=useAuth(),it=rt==="chatgpt",lt=rt==="copilot";let ct;switch(Ye){case"2025-09-15-full-chatgpt-auth":ct=STEP_INTRO;break;case"2025-09-15-apikey-auth":ct=STEP_LEGAL;break;case"none":case void 0:it?ct=STEP_INTRO:ct=STEP_LEGAL;break}const ut=useNavigate(),{setData:ht}=useGlobalState(GlobalStateKey.NUX_2025_09_15),{setData:ft}=useGlobalState(GlobalStateKey.NUX_2025_09_15_FULL_CHATGPT_AUTH_VIEWED),{setData:pt}=useGlobalState(GlobalStateKey.NUX_2025_09_15_APIKEY_AUTH_VIEWED),mt=reactExports.useCallback(async()=>{await ht(!0),Ye==="2025-09-15-full-chatgpt-auth"?await ft(!0):Ye==="2025-09-15-apikey-auth"&&await pt(!0),ut("/")},[Ye,ut,pt,ft,ht]);return jsxRuntimeExports.jsx(FirstRunPageAtStep,{initialStep:ct,onAccept:mt,hasCloudAccess:it,isUsingCopilotAuth:lt})}function FirstRunPageAtStep({initialStep:Ye,onAccept:rt,hasCloudAccess:it,isUsingCopilotAuth:lt}){const[ct,ut]=React.useState(Ye),ht=useIsViewportWiderThan(560),ft=130,pt=100,{columns:mt,rows:gt,lines:yt}=useAsciiEngine({initialColumns:ft,initialRows:pt,initialMode:"composite",preferredVideoKeyword:"blossom"}),[xt,bt]=React.useState(!1);function _t(){ut(Pt=>Math.max(STEP_INTRO,Pt-1))}function Ct(){if(ct===STEP_LEGAL){bt(!0);return}ct<TOTAL_STEPS-1?ut(Pt=>Math.min(TOTAL_STEPS-1,Pt+1)):rt()}const kt={initial:{opacity:0},active:{opacity:1,transition:{duration:.4,ease:"easeInOut",delay:.01}},exit:{opacity:0,transition:{duration:.4,ease:"easeOut",delay:0}}};function St(){return ct===STEP_INTRO?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.intro.title",defaultMessage:"Codex in your IDE",description:"Heading for step 1 intro"}):ct===STEP_CLOUD?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.cloud.title",defaultMessage:"Hand off to Codex in the cloud",description:"Heading for step 2 cloud"}):ct===STEP_TODO?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.intro.title",defaultMessage:"Turn TODOs into Codex tasks",description:"Heading for step 3 todo"}):null}function Rt(){return ct===STEP_INTRO?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.intro.subtitle",defaultMessage:"Codex navigates, edits, runs commands, and executes tests directly in your repo. Powered by your ChatGPT account.",description:"Subtitle for step 1 intro"}):ct===STEP_CLOUD?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.cloud.subtitle",defaultMessage:"Send tasks to Codex to run in the background so you can stay focused and move faster.",description:"Subtitle for step 2 cloud"}):ct===STEP_TODO?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.step.todo.subtitle",defaultMessage:"Write a TODO comment and convert it into a Codex task with a single click.",description:"Subtitle for step 3 todo"}):null}const Tt=React.useMemo(()=>ct===STEP_LEGAL?null:ct===STEP_INTRO?"intro":ct===STEP_CLOUD?"cloud":"todo",[ct]);function Mt(){return ct!==STEP_LEGAL?jsxRuntimeExports.jsx("div",{className:"text-token-description-foreground mx-auto w-full max-w-sm text-center text-base",children:Rt()}):jsxRuntimeExports.jsxs("ul",{className:"mt-3 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx(ListItem,{Icon:SvgRobot,title:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.autonomy.title",defaultMessage:"Decide how much autonomy you want to grant",description:"Title for autonomy decision info"}),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.autonomy.details",defaultMessage:"For more details, see the {link}",description:"Details directing users to Codex documentation",values:{link:jsxRuntimeExports.jsx("a",{href:"https://developers.openai.com/codex/ide",className:"!text-token-description-foreground underline hover:no-underline",onClick:Pt=>Pt.preventDefault(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.autonomy.details.link",defaultMessage:"Codex docs",description:"Link text to Codex docs"})})}})}),jsxRuntimeExports.jsx(ListItem,{Icon:SvgInfo,title:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.mistakes.title",defaultMessage:"Codex can make mistakes",description:"Warning title about Codex fallibility"}),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.mistakes.review",defaultMessage:"Review the code it writes and commands it runs",description:"Instruction to review generated code and executed commands"})}),jsxRuntimeExports.jsx(LegalMessageFromApiProviderListItem,{isUsingCopilotAuth:lt})]})}return jsxRuntimeExports.jsxs("div",{className:"bg-token-side-bar-background electron:!bg-transparent relative flex h-full w-full items-center justify-center overflow-hidden px-4",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 -ml-6",style:{WebkitMaskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 25%, rgba(0,0,0,0.6) 30%, rgba(0,0,0,0) 50%)",maskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 35%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0) 78%)",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",opacity:.15},children:jsxRuntimeExports.jsx(AsciiShader,{lines:yt,columns:mt,rows:gt,scale:.95,autoCover:!0})}),jsxRuntimeExports.jsxs(MotionConfig,{transition:{type:"spring",duration:.6,bounce:0},children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:jsxRuntimeExports.jsx("div",{className:"relative h-full w-full",children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"wait",children:Tt&&jsxRuntimeExports.jsx(motion.div,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 [@media(max-height:500px)]:hidden",variants:kt,initial:"initial",animate:"active",exit:"exit",children:jsxRuntimeExports.jsx(OnboardingSlide,{variant:Tt,isWideViewport:ht})},`slide-${ct}`)})})}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-10 left-1/2 z-20 w-full max-w-lg -translate-x-1/2 px-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 flex items-center justify-center",children:jsxRuntimeExports.jsx("h1",{className:"text-token-foreground mx-auto w-full max-w-sm text-center text-base font-medium leading-tight",children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"wait",children:St()&&jsxRuntimeExports.jsx(motion.span,{variants:kt,initial:"initial",animate:"active",exit:"exit",children:St()},`title-${ct}`)})})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center px-2",children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"wait",onExitComplete:()=>{xt&&(bt(!1),rt())},children:!(ct===STEP_LEGAL&&xt)&&jsxRuntimeExports.jsx(motion.div,{variants:kt,initial:"initial",animate:"active",exit:"exit",children:Mt()},`copy-${ct}`)})}),jsxRuntimeExports.jsx("div",{className:"mb-0 mt-10 px-2",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto flex w-full max-w-[400px] items-center justify-between gap-2",children:[it&&jsxRuntimeExports.jsx(Button,{type:"button",size:"large",color:"outline",onClick:_t,disabled:ct===STEP_INTRO,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.backButton",defaultMessage:"Back",description:"Button text to go to previous step"})}),jsxRuntimeExports.jsx(Button,{type:"button",size:"large",onClick:Ct,children:it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.continueButton",defaultMessage:"Next",description:"Button text to proceed to next step or finish"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.continue.apikey",defaultMessage:"Continue",description:"Button text when using API key auth to accept legal disclaimers"})})]})})]})]})]})}function OnboardingSlide({variant:Ye,isWideViewport:rt}){const it=rt?560:320,lt=rt?320:240;function ct(){return Ye==="intro"?jsxRuntimeExports.jsxs("div",{className:"bg-token-dropdown-background border-token-border relative flex flex-1 flex-col gap-4 overflow-y-auto rounded-2xl border p-2 shadow-2xl",children:[jsxRuntimeExports.jsx("div",{className:"text-md text-token-description-foreground pl-2 pt-2 opacity-40",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"composer.placeholder.newTask.locally",defaultMessage:"Ask Codex to do anything",description:"Placeholder when in local mode"})}),jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-end",children:[jsxRuntimeExports.jsxs("div",{className:"flex w-full min-w-0 flex-nowrap items-center justify-start gap-[5px]",children:[jsxRuntimeExports.jsx(SvgPlus,{color:"ghost",className:"border-token-border size-token-button-composer rounded-full border p-1",onClick:()=>{}}),jsxRuntimeExports.jsxs("div",{className:"border-token-border flex min-w-0 items-center gap-1 rounded-full border px-2 py-1.5",children:[jsxRuntimeExports.jsx(SvgClick,{className:"icon-2xs"}),jsxRuntimeExports.jsx("span",{className:"min-w-0 flex-1 truncate text-sm",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.composer.autoContext.pillText",defaultMessage:"Auto context",description:"Pill text for auto context"})})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-token-foreground flex h-[32px] w-[34px] items-center justify-center rounded-full p-0",children:jsxRuntimeExports.jsx(SvgArrowUp,{className:"text-token-dropdown-background"})})]})]}):Ye==="cloud"?jsxRuntimeExports.jsxs("div",{className:"bg-token-dropdown-background border-token-border relative flex flex-col items-center justify-center gap-4 rounded-2xl border px-4 py-4 shadow-2xl",children:[jsxRuntimeExports.jsx(SvgSendToCloud,{className:"size-8"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[jsxRuntimeExports.jsx(Spinner,{className:"size-4"}),jsxRuntimeExports.jsxs("div",{className:"text-token-foreground flex flex-1 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 text-sm font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskOne.title",defaultMessage:"Explain repository to a new designer",description:"Sample task title shown on the cloud onboarding slide"})}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium opacity-50",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskOne.meta",defaultMessage:"openai/agi  Oct 12",description:"Sample repository and date metadata for the first cloud onboarding task"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[jsxRuntimeExports.jsx(SvgCheckMd,{className:"size-4"}),jsxRuntimeExports.jsxs("div",{className:"text-token-foreground flex flex-1 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskTwo.title",defaultMessage:"Fix an onboarding bug",description:"Sample completed task title on the cloud onboarding slide"})}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium opacity-50",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskTwo.meta",defaultMessage:"openai/agi  Oct 9",description:"Sample repository and date metadata for the second cloud onboarding task"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskTwo.stats.positive",defaultMessage:"+2",description:"Sample positive stat associated with a cloud task"})}),jsxRuntimeExports.jsx("span",{className:"text-red-500",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskTwo.stats.negative",defaultMessage:"-20",description:"Sample negative stat associated with a cloud task"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[jsxRuntimeExports.jsx(SvgCheckMd,{className:"size-4"}),jsxRuntimeExports.jsxs("div",{className:"text-token-foreground flex flex-1 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskThree.title",defaultMessage:"Create a darkmode theme",description:"Sample completed task title for the third cloud onboarding example"})}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium opacity-50",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskThree.meta",defaultMessage:"openai/codex  Oct 8",description:"Sample repository and date metadata for the third cloud onboarding task"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskThree.stats.positive",defaultMessage:"+249",description:"Sample positive stat associated with the third cloud task"})}),jsxRuntimeExports.jsx("span",{className:"text-red-500",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.cloud.taskThree.stats.negative",defaultMessage:"-123",description:"Sample negative stat associated with the third cloud task"})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-token-dropdown-background border-token-border relative rounded-xl p-2 font-mono shadow-xl",children:[jsxRuntimeExports.jsx(CodeSnippet,{language:"typescript",content:TODO_CODE_PREFIX,showActionBar:!1,showStickyRightContent:!1,wrapperClassName:"pointer-events-none w-full",codeContainerClassName:"pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"bg-token-dropdown-background border-token-border relative rounded-xl p-2 pb-2.5 font-mono",children:jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground text-mono pointer-events-none px-2 py-1 text-[11px] uppercase tracking-[0.2em]",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.todo.heading",defaultMessage:"// TODO: implement schema",description:"Example TODO comment shown during onboarding"})})}),jsxRuntimeExports.jsx(CodeSnippet,{language:"typescript",content:TODO_CODE_SUFFIX,showActionBar:!1,showStickyRightContent:!1,wrapperClassName:"pointer-events-none w-full",codeContainerClassName:"pointer-events-none",shouldWrapCode:!0})]})}return jsxRuntimeExports.jsx("div",{style:{width:it,height:lt},"aria-hidden":!0,children:ct()})}function LegalMessageFromApiProviderListItem({isUsingCopilotAuth:Ye}){let rt,it,lt;return Ye?(rt=SvgGithubMark,it=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.copilot.title",defaultMessage:"Powered by GitHub Copilot",description:"Statement that Codex uses user's Copilot account"}),lt=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.copilot.details",defaultMessage:"Uses your Copilot plan for all model calls, billing, and rate limits. Codex extension usage is subject to both {oaiTos} and {gitHubTos}.",description:"Details about using Copilot subscription and training data preferences",values:{oaiTos:jsxRuntimeExports.jsx("a",{href:"https://openai.com/policies/row-terms-of-use/",className:"!text-token-description-foreground underline hover:no-underline",onClick:ct=>ct.preventDefault(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.copilot.oaiTosLink",defaultMessage:"OpenAI Codex terms of service",description:"Link to OpenAI Codex terms of service from Copilot NUX"})}),gitHubTos:jsxRuntimeExports.jsx("a",{href:"https://docs.github.com/en/site-policy/github-terms/github-terms-of-service",className:"!text-token-description-foreground underline hover:no-underline",onClick:ct=>ct.preventDefault(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.copilot.gitHubTosLink",defaultMessage:"GitHub Terms of Service",description:"Link to GitHub Terms of Service from Copilot NUX"})})}})):(rt=SvgOpenaiBlossom,it=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.powered.title",defaultMessage:"Powered by your ChatGPT account",description:"Statement that Codex uses user's ChatGPT account"}),lt=jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.powered.details",defaultMessage:"Uses your plans rate limits and {link}",description:"Details about using plan rate limits and training data preferences",values:{link:jsxRuntimeExports.jsx("a",{href:"https://chatgpt.com/#settings/DataControls",className:"!text-token-description-foreground underline hover:no-underline",onClick:ct=>ct.preventDefault(),children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.legal.powered.details.link",defaultMessage:"training data preferences",description:"Link text to training data preferences settings"})})}})),jsxRuntimeExports.jsx(ListItem,{Icon:rt,title:it,children:lt})}function ListItem({Icon:Ye,title:rt,children:it}){return jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Ye,{className:"icon-base mt-0.5 shrink-0 opacity-80"}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"block text-sm font-medium",children:rt}),jsxRuntimeExports.jsx("span",{className:"text-token-description-foreground block text-base",children:it})]})]})}function useIsViewportWiderThan(Ye){const[rt,it]=React.useState(()=>window.innerWidth>Ye);return React.useEffect(()=>{function lt(){it(window.innerWidth>Ye)}return window.addEventListener("resize",lt),lt(),()=>{window.removeEventListener("resize",lt)}},[Ye]),rt}function SignInPage(){const Ye=useAuth(),rt=useToaster(),it=useNavigate(),lt=useIntl(),[ct,ut]=reactExports.useState(null),ht=ct!=null,ft=useIsCopilotApiAvailable(),[pt,mt]=reactExports.useState(!1),[gt,yt]=reactExports.useState(null),[xt,bt]=reactExports.useState(""),[_t,Ct]=reactExports.useState(!1),kt=reactExports.useRef(null),St=reactExports.useRef(null),Rt=useAppServerManager(),Tt=Wt=>{const Kt=lt.formatMessage({id:"codex.signInFailed.message",defaultMessage:"Sign-in failed: {rawMessage}",description:"Sign-in failure toast message with error details"},{rawMessage:Wt});rt.warning(Kt)};reactExports.useEffect(()=>{pt&&(St.current?.focus(),St.current?.select())},[pt]),reactExports.useEffect(()=>{let Wt=!1;return(async()=>{try{const Kt=await fetchFromVSCode("openai-api-key");if(Wt)return;const Qt=Kt?.value??null;yt(Qt),bt(Zt=>Zt.length>0?Zt:Qt??"")}catch{Wt||yt(null)}})(),()=>{Wt=!0}},[]);const Mt=async()=>{if(ht){ct?.abort(),ut(null),kt.current=null;return}const Wt=new AbortController;ut(Wt);try{const{authUrl:Kt,completion:Qt}=await Rt.loginWithChatGpt(Wt);kt.current=Qt,Kt&&messageBus.dispatchMessage("open-in-browser",{url:Kt});const Zt=await Qt;Zt.success?(Ye.setAuthMethod("chatgpt"),it("/first-run")):Tt(Zt.error||"Unknown error")}catch(Kt){if(Kt?.name==="AbortError")return;let Zt;if(Kt instanceof Error)Zt=Kt.message||"Unknown error";else if(typeof Kt=="string")Zt=Kt;else try{Zt=JSON.stringify(Kt)}catch{Zt="Unknown error"}Tt(Zt)}finally{ut(null),kt.current=null}},{data:Pt}=useGlobalState("show-copilot-login-first"),{setData:It}=useGlobalState("use-copilot-auth-if-available"),Lt=async()=>{await It(!0),Ye.setAuthMethod("copilot"),it("/first-run")},Ot=async()=>{const Wt=xt.trim();if(!(!Wt||_t)){Ct(!0);try{await Rt.loginWithApiKey(Wt),Ye.setAuthMethod("apikey"),it("/first-run")}catch(Kt){let Qt;if(Kt instanceof Error)Qt=Kt.message||"Unknown error";else if(typeof Kt=="string")Qt=Kt;else try{Qt=JSON.stringify(Kt)}catch{Qt="Unknown error"}Tt(Qt)}finally{Ct(!1)}}},Ut=!ft||!Pt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SignInWithChatGptButton,{isPrimary:!0,handleChatGptSignIn:Mt,isChatGptSignInPending:ht}),!ht&&ft&&jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(SignInWithCopilotButton,{isPrimary:!1,handleCopilotSignIn:Lt})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!ht&&jsxRuntimeExports.jsx(SignInWithCopilotButton,{isPrimary:!0,handleCopilotSignIn:Lt}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(SignInWithChatGptButton,{isPrimary:!1,handleChatGptSignIn:Mt,isChatGptSignInPending:ht})})]});return jsxRuntimeExports.jsxs("div",{className:"bg-token-side-bar-background fixed inset-0 flex items-center justify-center overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0",children:jsxRuntimeExports.jsx("div",{className:"-ml-6 h-full w-full",style:{WebkitMaskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 25%, rgba(0,0,0,0.6) 30%, rgba(0,0,0,0) 50%)",maskImage:"radial-gradient(ellipse at center, rgba(0,0,0,1) 35%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0) 78%)",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskSize:"100% 100%",maskSize:"100% 100%"},children:jsxRuntimeExports.jsx(AnimatedBackground,{})})}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none flex w-full flex-1 items-center justify-center pt-5",children:jsxRuntimeExports.jsx("h1",{className:"text-token-foreground mb-4 max-w-[250px] text-3xl font-medium leading-tight",children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.title",defaultMessage:"Codex",description:"Title on logged out screen"})})}),!pt&&jsxRuntimeExports.jsx("div",{className:"flex w-full justify-center pb-4 sm:pb-6",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto inline-flex w-max flex-col items-stretch",children:[Ut,!ht&&jsxRuntimeExports.jsx(ApiKeyButton,{setApiKeyValue:bt,defaultApiKeyFromEnv:gt,isCopilotSignInAvailable:ft,setIsApiKeySignInVisible:mt})]})}),!ht&&pt&&jsxRuntimeExports.jsx(ApiKeySignInForm,{apiKeyValue:xt,setApiKeyValue:bt,apiKeyInputRef:St,isApiKeyLoginPending:_t,setIsApiKeyLoginPending:Ct,setIsApiKeySignInVisible:mt,handleApiKeySubmit:Ot})]})]})}const AnimatedBackground=React.memo(function Ye(){const{columns:lt,rows:ct,lines:ut}=useAsciiEngine({initialColumns:130,initialRows:100,initialMode:"composite",preferredVideoKeyword:"blossom"});return jsxRuntimeExports.jsx(AsciiShader,{lines:ut,columns:lt,rows:ct,autoCover:!0})});function SignInWithChatGptButton({isPrimary:Ye,handleChatGptSignIn:rt,isChatGptSignInPending:it}){return jsxRuntimeExports.jsx(SignInButton,{isPrimary:Ye,onClick:rt,children:it?jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.signIn",defaultMessage:"Cancel Sign-in",description:"Cancel button for sign in"}):jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.signIn",defaultMessage:"Sign in with ChatGPT",description:"Sign in button text on logged out screen"})})}function SignInWithCopilotButton({isPrimary:Ye,handleCopilotSignIn:rt}){return jsxRuntimeExports.jsx(SignInButton,{isPrimary:Ye,onClick:rt,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.signInWithCopilot",defaultMessage:"Sign in with GitHub Copilot",description:"Button label for GitHub Copilot sign-in on logged out screen"})})}const PRIMARY_SIGN_IN_BUTTON_CLASS_NAME="w-full cursor-interaction justify-center !rounded-full border px-4 py-2 font-medium",SECONDARY_SIGN_IN_BUTTON_CLASS_NAME="bg-token-foreground/10 w-full justify-center !rounded-full px-4 py-2 font-medium backdrop-blur-md";function SignInButton({isPrimary:Ye,onClick:rt,children:it}){return jsxRuntimeExports.jsx(Button,{color:Ye?"primary":"outline",className:Ye?PRIMARY_SIGN_IN_BUTTON_CLASS_NAME:SECONDARY_SIGN_IN_BUTTON_CLASS_NAME,onClick:rt,children:it})}function ApiKeyButton({setApiKeyValue:Ye,defaultApiKeyFromEnv:rt,isCopilotSignInAvailable:it,setIsApiKeySignInVisible:lt}){return jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsx(Button,{color:"outline",className:"bg-token-foreground/10 w-full justify-center !rounded-full px-4 py-2 font-medium backdrop-blur-md",onClick:()=>{lt(!0),Ye(ct=>ct.length>0?ct:rt??"")},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.useApiKey",defaultMessage:"Use API Key",description:"Secondary button to use API Key auth method"})}),jsxRuntimeExports.jsxs("p",{className:"text-token-description-foreground mt-2 w-full text-center text-[10px]",children:[it&&jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.cloudTasksDisabledWithCopilotAndApiKey",defaultMessage:"Cloud tasks disabled with Copilot and API key",description:"Disclaimer explaining that remote features need ChatGPT sign-in"}),!it&&jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.cloudTasksDisabledWithApiKey",defaultMessage:"Cloud tasks disabled with API key",description:"Disclaimer explaining that remote features need ChatGPT sign-in"})]})]})}function ApiKeySignInForm({apiKeyValue:Ye,setApiKeyValue:rt,apiKeyInputRef:it,isApiKeyLoginPending:lt,setIsApiKeyLoginPending:ct,setIsApiKeySignInVisible:ut,handleApiKeySubmit:ht}){const ft=useIntl();return jsxRuntimeExports.jsxs("div",{className:"bg-token-dropdown-background/80 border-token-border mx-auto mb-8 mt-4 w-[min(90vw,640px)] rounded-2xl border px-4 py-4 backdrop-blur-lg",children:[jsxRuntimeExports.jsxs("label",{className:"text-token-foreground block text-sm",children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.apiKeyPrompt.inputLabel",defaultMessage:"Enter your OpenAI API key",description:"Label for API key input"}),jsxRuntimeExports.jsx("input",{ref:it,className:"bg-token-input-background text-token-foreground border-token-border focus:border-token-focus-border mt-4 w-full rounded-lg border px-3 py-2 text-sm focus:outline-none",placeholder:ft.formatMessage({id:"codex.loggedOut.apiKeyPrompt.placeholder",defaultMessage:"sk-...",description:"Placeholder text hint for API key input field"}),value:Ye,onChange:pt=>{rt(pt.target.value)},onFocus:pt=>{pt.currentTarget.select()}})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 min-[280px]:justify-between",children:[jsxRuntimeExports.jsxs("button",{type:"button",className:"text-token-text-link-foreground cursor-interaction inline-flex items-center gap-1 text-sm hover:underline max-[280px]:hidden",onClick:()=>{messageBus.dispatchMessage("open-in-browser",{url:"https://platform.openai.com/api-keys"})},children:[jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.apiKeyPrompt.getKey",defaultMessage:"Get API Key",description:"Button to open OpenAI API key management page"}),jsxRuntimeExports.jsx(SvgLinkExternal,{"aria-hidden":"true",className:"icon-2xs"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{color:"ghost",onClick:()=>{ct(!1),ut(!1)},children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.apiKeyPrompt.cancel",defaultMessage:"Cancel",description:"Cancel button for API key login"})}),jsxRuntimeExports.jsx(Button,{className:"px-4",onClick:ht,disabled:Ye.trim().length===0||lt,loading:lt,children:jsxRuntimeExports.jsx(MemoizedFormattedMessage,{id:"codex.loggedOut.apiKeyPrompt.confirm",defaultMessage:"OK",description:"Confirm button for API key login"})})]})]})]})}const MAX_RETRIES=3;function QueryProvider({children:Ye}){const[rt]=reactExports.useState(()=>new QueryClient({defaultOptions:{queries:{retry:(it,lt)=>{if(it>=MAX_RETRIES)return!1;const ct=extractStatus(lt);return!ct||shouldRetryStatus(ct)}}}}));return jsxRuntimeExports.jsx(QueryClientProvider,{client:rt,children:Ye})}function shouldRetryStatus(Ye){return Ye===408||Ye===425||Ye===429||Ye>=500&&Ye<=599}function extractStatus(Ye){return Ye instanceof FetchError||Ye!=null&&typeof Ye=="object"&&"status"in Ye&&typeof Ye.status=="number"?Ye.status:null}function WorktreeInitPage(){const{worktreeId:Ye}=useParams(),rt=useNavigate(),it=useIntl(),lt=useWorktrees(),ct=Ye?decodeURIComponent(Ye):null,ut=reactExports.useMemo(()=>ct?lt.find(xt=>xt.path===ct)??null:null,[ct,lt]);if(reactExports.useEffect(()=>{!ut||ut.status!=="ready"||!ut.conversationId||rt(`/local/${ut.conversationId}`,{replace:!0,state:{fromPendingWorktree:ut.path}})},[rt,ut]),!ct)return jsxRuntimeExports.jsx(Navigate,{to:"/"});if(!ut)return jsxRuntimeExports.jsx(LoadingPage,{});const ht=ut.path.startsWith("placeholder:")?null:ut.path,ft=getTitle(ut,it),pt=jsxRuntimeExports.jsx(OpenInTargetDropdown,{path:ht}),mt=ut.status==="init-failed"?()=>{rt(`/worktree-init/${encodeURIComponent(ut.path)}`,{replace:!0})}:void 0,gt=ut.status==="init-failed"?()=>{rt("/")}:void 0,yt=()=>{};return jsxRuntimeExports.jsx(ThreadLayout,{"data-vscode-context":'{"chatgpt.supportsNewChatMenu": true}',header:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(WithWindow,{electron:!0,children:jsxRuntimeExports.jsx(ThreadPageHeader,{chatMode:"chat",setChatMode:yt,start:jsxRuntimeExports.jsx("div",{className:"truncate",children:ft}),trailing:pt})}),jsxRuntimeExports.jsx(WithWindow,{extension:!0,children:jsxRuntimeExports.jsx(Header,{title:ft,trailing:pt})})]}),footer:null,children:jsxRuntimeExports.jsx("div",{className:"mt-3 flex flex-col pt-1",children:jsxRuntimeExports.jsx(WorktreeInitSteps,{record:ut,onRetry:mt,onDelete:gt})})})}function getTitle(Ye,rt){const it=Ye.label?.trim();if(it)return it;if(Ye.status==="init-failed")return rt.formatMessage({id:"pendingWorktree.failed",defaultMessage:"Worktree init failed",description:"Title when worktree init fails"});const lt=Ye.step!=null?getWorktreeStepDescriptor(Ye.step):null;return lt?rt.formatMessage(lt):rt.formatMessage({id:"pendingWorktree.defaultTitle",defaultMessage:"Setting up worktree",description:"Title while worktree init is pending"})}var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Ye){function rt($t,zt){var Nt=$t.length;$t.push(zt);e:for(;0<Nt;){var qt=Nt-1>>>1,Gt=$t[qt];if(0<ct(Gt,zt))$t[qt]=zt,$t[Nt]=Gt,Nt=qt;else break e}}function it($t){return $t.length===0?null:$t[0]}function lt($t){if($t.length===0)return null;var zt=$t[0],Nt=$t.pop();if(Nt!==zt){$t[0]=Nt;e:for(var qt=0,Gt=$t.length,Ht=Gt>>>1;qt<Ht;){var Xt=2*(qt+1)-1,Bt=$t[Xt],nr=Xt+1,rr=$t[nr];if(0>ct(Bt,Nt))nr<Gt&&0>ct(rr,Bt)?($t[qt]=rr,$t[nr]=Nt,qt=nr):($t[qt]=Bt,$t[Xt]=Nt,qt=Xt);else if(nr<Gt&&0>ct(rr,Nt))$t[qt]=rr,$t[nr]=Nt,qt=nr;else break e}}return zt}function ct($t,zt){var Nt=$t.sortIndex-zt.sortIndex;return Nt!==0?Nt:$t.id-zt.id}if(Ye.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var ut=performance;Ye.unstable_now=function(){return ut.now()}}else{var ht=Date,ft=ht.now();Ye.unstable_now=function(){return ht.now()-ft}}var pt=[],mt=[],gt=1,yt=null,xt=3,bt=!1,_t=!1,Ct=!1,kt=!1,St=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Mt($t){for(var zt=it(mt);zt!==null;){if(zt.callback===null)lt(mt);else if(zt.startTime<=$t)lt(mt),zt.sortIndex=zt.expirationTime,rt(pt,zt);else break;zt=it(mt)}}function Pt($t){if(Ct=!1,Mt($t),!_t)if(it(pt)!==null)_t=!0,It||(It=!0,Kt());else{var zt=it(mt);zt!==null&&Vt(Pt,zt.startTime-$t)}}var It=!1,Lt=-1,Ot=5,Ft=-1;function Ut(){return kt?!0:!(Ye.unstable_now()-Ft<Ot)}function Wt(){if(kt=!1,It){var $t=Ye.unstable_now();Ft=$t;var zt=!0;try{e:{_t=!1,Ct&&(Ct=!1,Rt(Lt),Lt=-1),bt=!0;var Nt=xt;try{t:{for(Mt($t),yt=it(pt);yt!==null&&!(yt.expirationTime>$t&&Ut());){var qt=yt.callback;if(typeof qt=="function"){yt.callback=null,xt=yt.priorityLevel;var Gt=qt(yt.expirationTime<=$t);if($t=Ye.unstable_now(),typeof Gt=="function"){yt.callback=Gt,Mt($t),zt=!0;break t}yt===it(pt)&&lt(pt),Mt($t)}else lt(pt);yt=it(pt)}if(yt!==null)zt=!0;else{var Ht=it(mt);Ht!==null&&Vt(Pt,Ht.startTime-$t),zt=!1}}break e}finally{yt=null,xt=Nt,bt=!1}zt=void 0}}finally{zt?Kt():It=!1}}}var Kt;if(typeof Tt=="function")Kt=function(){Tt(Wt)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,Zt=Qt.port2;Qt.port1.onmessage=Wt,Kt=function(){Zt.postMessage(null)}}else Kt=function(){St(Wt,0)};function Vt($t,zt){Lt=St(function(){$t(Ye.unstable_now())},zt)}Ye.unstable_IdlePriority=5,Ye.unstable_ImmediatePriority=1,Ye.unstable_LowPriority=4,Ye.unstable_NormalPriority=3,Ye.unstable_Profiling=null,Ye.unstable_UserBlockingPriority=2,Ye.unstable_cancelCallback=function($t){$t.callback=null},Ye.unstable_forceFrameRate=function($t){0>$t||125<$t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<$t?Math.floor(1e3/$t):5},Ye.unstable_getCurrentPriorityLevel=function(){return xt},Ye.unstable_next=function($t){switch(xt){case 1:case 2:case 3:var zt=3;break;default:zt=xt}var Nt=xt;xt=zt;try{return $t()}finally{xt=Nt}},Ye.unstable_requestPaint=function(){kt=!0},Ye.unstable_runWithPriority=function($t,zt){switch($t){case 1:case 2:case 3:case 4:case 5:break;default:$t=3}var Nt=xt;xt=$t;try{return zt()}finally{xt=Nt}},Ye.unstable_scheduleCallback=function($t,zt,Nt){var qt=Ye.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?qt+Nt:qt):Nt=qt,$t){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=Nt+Gt,$t={id:gt++,callback:zt,priorityLevel:$t,startTime:Nt,expirationTime:Gt,sortIndex:-1},Nt>qt?($t.sortIndex=Nt,rt(mt,$t),it(pt)===null&&$t===it(mt)&&(Ct?(Rt(Lt),Lt=-1):Ct=!0,Vt(Pt,Nt-qt))):($t.sortIndex=Gt,rt(pt,$t),_t||bt||(_t=!0,It||(It=!0,Kt()))),$t},Ye.unstable_shouldYield=Ut,Ye.unstable_wrapCallback=function($t){var zt=xt;return function(){var Nt=xt;xt=zt;try{return $t.apply(this,arguments)}finally{xt=Nt}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ye=requireScheduler(),rt=requireReact(),it=requireReactDom();function lt(vt){var Et="https://react.dev/errors/"+vt;if(1<arguments.length){Et+="?args[]="+encodeURIComponent(arguments[1]);for(var wt=2;wt<arguments.length;wt++)Et+="&args[]="+encodeURIComponent(arguments[wt])}return"Minified React error #"+vt+"; visit "+Et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ct(vt){return!(!vt||vt.nodeType!==1&&vt.nodeType!==9&&vt.nodeType!==11)}function ut(vt){var Et=vt,wt=vt;if(vt.alternate)for(;Et.return;)Et=Et.return;else{vt=Et;do Et=vt,(Et.flags&4098)!==0&&(wt=Et.return),vt=Et.return;while(vt)}return Et.tag===3?wt:null}function ht(vt){if(vt.tag===13){var Et=vt.memoizedState;if(Et===null&&(vt=vt.alternate,vt!==null&&(Et=vt.memoizedState)),Et!==null)return Et.dehydrated}return null}function ft(vt){if(vt.tag===31){var Et=vt.memoizedState;if(Et===null&&(vt=vt.alternate,vt!==null&&(Et=vt.memoizedState)),Et!==null)return Et.dehydrated}return null}function pt(vt){if(ut(vt)!==vt)throw Error(lt(188))}function mt(vt){var Et=vt.alternate;if(!Et){if(Et=ut(vt),Et===null)throw Error(lt(188));return Et!==vt?null:vt}for(var wt=vt,At=Et;;){var jt=wt.return;if(jt===null)break;var Dt=jt.alternate;if(Dt===null){if(At=jt.return,At!==null){wt=At;continue}break}if(jt.child===Dt.child){for(Dt=jt.child;Dt;){if(Dt===wt)return pt(jt),vt;if(Dt===At)return pt(jt),Et;Dt=Dt.sibling}throw Error(lt(188))}if(wt.return!==At.return)wt=jt,At=Dt;else{for(var Yt=!1,er=jt.child;er;){if(er===wt){Yt=!0,wt=jt,At=Dt;break}if(er===At){Yt=!0,At=jt,wt=Dt;break}er=er.sibling}if(!Yt){for(er=Dt.child;er;){if(er===wt){Yt=!0,wt=Dt,At=jt;break}if(er===At){Yt=!0,At=Dt,wt=jt;break}er=er.sibling}if(!Yt)throw Error(lt(189))}}if(wt.alternate!==At)throw Error(lt(190))}if(wt.tag!==3)throw Error(lt(188));return wt.stateNode.current===wt?vt:Et}function gt(vt){var Et=vt.tag;if(Et===5||Et===26||Et===27||Et===6)return vt;for(vt=vt.child;vt!==null;){if(Et=gt(vt),Et!==null)return Et;vt=vt.sibling}return null}var yt=Object.assign,xt=Symbol.for("react.element"),bt=Symbol.for("react.transitional.element"),_t=Symbol.for("react.portal"),Ct=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),St=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Ft=Symbol.for("react.activity"),Ut=Symbol.for("react.memo_cache_sentinel"),Wt=Symbol.iterator;function Kt(vt){return vt===null||typeof vt!="object"?null:(vt=Wt&&vt[Wt]||vt["@@iterator"],typeof vt=="function"?vt:null)}var Qt=Symbol.for("react.client.reference");function Zt(vt){if(vt==null)return null;if(typeof vt=="function")return vt.$$typeof===Qt?null:vt.displayName||vt.name||null;if(typeof vt=="string")return vt;switch(vt){case Ct:return"Fragment";case St:return"Profiler";case kt:return"StrictMode";case Pt:return"Suspense";case It:return"SuspenseList";case Ft:return"Activity"}if(typeof vt=="object")switch(vt.$$typeof){case _t:return"Portal";case Tt:return vt.displayName||"Context";case Rt:return(vt._context.displayName||"Context")+".Consumer";case Mt:var Et=vt.render;return vt=vt.displayName,vt||(vt=Et.displayName||Et.name||"",vt=vt!==""?"ForwardRef("+vt+")":"ForwardRef"),vt;case Lt:return Et=vt.displayName||null,Et!==null?Et:Zt(vt.type)||"Memo";case Ot:Et=vt._payload,vt=vt._init;try{return Zt(vt(Et))}catch{}}return null}var Vt=Array.isArray,$t=rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zt=it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nt={pending:!1,data:null,method:null,action:null},qt=[],Gt=-1;function Ht(vt){return{current:vt}}function Xt(vt){0>Gt||(vt.current=qt[Gt],qt[Gt]=null,Gt--)}function Bt(vt,Et){Gt++,qt[Gt]=vt.current,vt.current=Et}var nr=Ht(null),rr=Ht(null),Jt=Ht(null),ir=Ht(null);function ar(vt,Et){switch(Bt(Jt,Et),Bt(rr,vt),Bt(nr,null),Et.nodeType){case 9:case 11:vt=(vt=Et.documentElement)&&(vt=vt.namespaceURI)?Tp(vt):0;break;default:if(vt=Et.tagName,Et=Et.namespaceURI)Et=Tp(Et),vt=Ap(Et,vt);else switch(vt){case"svg":vt=1;break;case"math":vt=2;break;default:vt=0}}Xt(nr),Bt(nr,vt)}function cr(){Xt(nr),Xt(rr),Xt(Jt)}function dr(vt){vt.memoizedState!==null&&Bt(ir,vt);var Et=nr.current,wt=Ap(Et,vt.type);Et!==wt&&(Bt(rr,vt),Bt(nr,wt))}function xr(vt){rr.current===vt&&(Xt(nr),Xt(rr)),ir.current===vt&&(Xt(ir),$o._currentValue=Nt)}var br,_r;function Er(vt){if(br===void 0)try{throw Error()}catch(wt){var Et=wt.stack.trim().match(/\n( *(at )?)/);br=Et&&Et[1]||"",_r=-1<wt.stack.indexOf(`
    at`)?" (<anonymous>)":-1<wt.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+vt+_r}var Rr=!1;function Lr(vt,Et){if(!vt||Rr)return"";Rr=!0;var wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var At={DetermineComponentFrameRoot:function(){try{if(Et){var kr=function(){throw Error()};if(Object.defineProperty(kr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kr,[])}catch(vr){var gr=vr}Reflect.construct(vt,[],kr)}else{try{kr.call()}catch(vr){gr=vr}vt.call(kr.prototype)}}else{try{throw Error()}catch(vr){gr=vr}(kr=vt())&&typeof kr.catch=="function"&&kr.catch(function(){})}}catch(vr){if(vr&&gr&&typeof vr.stack=="string")return[vr.stack,gr.stack]}return[null,null]}};At.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var jt=Object.getOwnPropertyDescriptor(At.DetermineComponentFrameRoot,"name");jt&&jt.configurable&&Object.defineProperty(At.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Dt=At.DetermineComponentFrameRoot(),Yt=Dt[0],er=Dt[1];if(Yt&&er){var sr=Yt.split(`
`),mr=er.split(`
`);for(jt=At=0;At<sr.length&&!sr[At].includes("DetermineComponentFrameRoot");)At++;for(;jt<mr.length&&!mr[jt].includes("DetermineComponentFrameRoot");)jt++;if(At===sr.length||jt===mr.length)for(At=sr.length-1,jt=mr.length-1;1<=At&&0<=jt&&sr[At]!==mr[jt];)jt--;for(;1<=At&&0<=jt;At--,jt--)if(sr[At]!==mr[jt]){if(At!==1||jt!==1)do if(At--,jt--,0>jt||sr[At]!==mr[jt]){var Sr=`
`+sr[At].replace(" at new "," at ");return vt.displayName&&Sr.includes("<anonymous>")&&(Sr=Sr.replace("<anonymous>",vt.displayName)),Sr}while(1<=At&&0<=jt);break}}}finally{Rr=!1,Error.prepareStackTrace=wt}return(wt=vt?vt.displayName||vt.name:"")?Er(wt):""}function Mr(vt,Et){switch(vt.tag){case 26:case 27:case 5:return Er(vt.type);case 16:return Er("Lazy");case 13:return vt.child!==Et&&Et!==null?Er("Suspense Fallback"):Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return Lr(vt.type,!1);case 11:return Lr(vt.type.render,!1);case 1:return Lr(vt.type,!0);case 31:return Er("Activity");default:return""}}function Fr(vt){try{var Et="",wt=null;do Et+=Mr(vt,wt),wt=vt,vt=vt.return;while(vt);return Et}catch(At){return`
Error generating stack: `+At.message+`
`+At.stack}}var Xr=Object.prototype.hasOwnProperty,Jr=Ye.unstable_scheduleCallback,Kr=Ye.unstable_cancelCallback,nn=Ye.unstable_shouldYield,Qr=Ye.unstable_requestPaint,Zr=Ye.unstable_now,sn=Ye.unstable_getCurrentPriorityLevel,yr=Ye.unstable_ImmediatePriority,hr=Ye.unstable_UserBlockingPriority,Tr=Ye.unstable_NormalPriority,Ir=Ye.unstable_LowPriority,Dr=Ye.unstable_IdlePriority,jr=Ye.log,Br=Ye.unstable_setDisableYieldValue,Or=null,$r=null;function Ur(vt){if(typeof jr=="function"&&Br(vt),$r&&typeof $r.setStrictMode=="function")try{$r.setStrictMode(Or,vt)}catch{}}var qr=Math.clz32?Math.clz32:vi,fn=Math.log,xn=Math.LN2;function vi(vt){return vt>>>=0,vt===0?32:31-(fn(vt)/xn|0)|0}var Yn=256,Xn=262144,ai=4194304;function An(vt){var Et=vt&42;if(Et!==0)return Et;switch(vt&-vt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return vt&261888;case 262144:case 524288:case 1048576:case 2097152:return vt&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return vt&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return vt}}function oi(vt,Et,wt){var At=vt.pendingLanes;if(At===0)return 0;var jt=0,Dt=vt.suspendedLanes,Yt=vt.pingedLanes;vt=vt.warmLanes;var er=At&134217727;return er!==0?(At=er&~Dt,At!==0?jt=An(At):(Yt&=er,Yt!==0?jt=An(Yt):wt||(wt=er&~vt,wt!==0&&(jt=An(wt))))):(er=At&~Dt,er!==0?jt=An(er):Yt!==0?jt=An(Yt):wt||(wt=At&~vt,wt!==0&&(jt=An(wt)))),jt===0?0:Et!==0&&Et!==jt&&(Et&Dt)===0&&(Dt=jt&-jt,wt=Et&-Et,Dt>=wt||Dt===32&&(wt&4194048)!==0)?Et:jt}function Ii(vt,Et){return(vt.pendingLanes&~(vt.suspendedLanes&~vt.pingedLanes)&Et)===0}function pn(vt,Et){switch(vt){case 1:case 2:case 4:case 8:case 64:return Et+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var vt=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),vt}function $i(vt){for(var Et=[],wt=0;31>wt;wt++)Et.push(vt);return Et}function ci(vt,Et){vt.pendingLanes|=Et,Et!==268435456&&(vt.suspendedLanes=0,vt.pingedLanes=0,vt.warmLanes=0)}function $s(vt,Et,wt,At,jt,Dt){var Yt=vt.pendingLanes;vt.pendingLanes=wt,vt.suspendedLanes=0,vt.pingedLanes=0,vt.warmLanes=0,vt.expiredLanes&=wt,vt.entangledLanes&=wt,vt.errorRecoveryDisabledLanes&=wt,vt.shellSuspendCounter=0;var er=vt.entanglements,sr=vt.expirationTimes,mr=vt.hiddenUpdates;for(wt=Yt&~wt;0<wt;){var Sr=31-qr(wt),kr=1<<Sr;er[Sr]=0,sr[Sr]=-1;var gr=mr[Sr];if(gr!==null)for(mr[Sr]=null,Sr=0;Sr<gr.length;Sr++){var vr=gr[Sr];vr!==null&&(vr.lane&=-536870913)}wt&=~kr}At!==0&&Ns(vt,At,0),Dt!==0&&jt===0&&vt.tag!==0&&(vt.suspendedLanes|=Dt&~(Yt&~Et))}function Ns(vt,Et,wt){vt.pendingLanes|=Et,vt.suspendedLanes&=~Et;var At=31-qr(Et);vt.entangledLanes|=Et,vt.entanglements[At]=vt.entanglements[At]|1073741824|wt&261930}function Fs(vt,Et){var wt=vt.entangledLanes|=Et;for(vt=vt.entanglements;wt;){var At=31-qr(wt),jt=1<<At;jt&Et|vt[At]&Et&&(vt[At]|=Et),wt&=~jt}}function ds(vt,Et){var wt=Et&-Et;return wt=(wt&42)!==0?1:Wn(wt),(wt&(vt.suspendedLanes|Et))!==0?0:wt}function Wn(vt){switch(vt){case 2:vt=1;break;case 8:vt=4;break;case 32:vt=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:vt=128;break;case 268435456:vt=134217728;break;default:vt=0}return vt}function ui(vt){return vt&=-vt,2<vt?8<vt?(vt&134217727)!==0?32:268435456:8:2}function hs(){var vt=zt.p;return vt!==0?vt:(vt=window.event,vt===void 0?32:Qp(vt.type))}function qs(vt,Et){var wt=zt.p;try{return zt.p=vt,Et()}finally{zt.p=wt}}var Jn=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Jn,Sn="__reactProps$"+Jn,bi="__reactContainer$"+Jn,Ni="__reactEvents$"+Jn,la="__reactListeners$"+Jn,fs="__reactHandles$"+Jn,ca="__reactResources$"+Jn,Hr="__reactMarker$"+Jn;function or(vt){delete vt[Pn],delete vt[Sn],delete vt[Ni],delete vt[la],delete vt[fs]}function Ar(vt){var Et=vt[Pn];if(Et)return Et;for(var wt=vt.parentNode;wt;){if(Et=wt[bi]||wt[Pn]){if(wt=Et.alternate,Et.child!==null||wt!==null&&wt.child!==null)for(vt=Dp(vt);vt!==null;){if(wt=vt[Pn])return wt;vt=Dp(vt)}return Et}vt=wt,wt=vt.parentNode}return null}function Nr(vt){if(vt=vt[Pn]||vt[bi]){var Et=vt.tag;if(Et===5||Et===6||Et===13||Et===31||Et===26||Et===27||Et===3)return vt}return null}function Cr(vt){var Et=vt.tag;if(Et===5||Et===26||Et===27||Et===6)return vt.stateNode;throw Error(lt(33))}function zr(vt){var Et=vt[ca];return Et||(Et=vt[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),Et}function Pr(vt){vt[Hr]=!0}var tn=new Set,En={};function In(vt,Et){Rn(vt,Et),Rn(vt+"Capture",Et)}function Rn(vt,Et){for(En[vt]=Et,vt=0;vt<Et.length;vt++)tn.add(Et[vt])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},Bs={};function Ql(vt){return Xr.call(Bs,vt)?!0:Xr.call(Fi,vt)?!1:Mn.test(vt)?Bs[vt]=!0:(Fi[vt]=!0,!1)}function zs(vt,Et,wt){if(Ql(Et))if(wt===null)vt.removeAttribute(Et);else{switch(typeof wt){case"undefined":case"function":case"symbol":vt.removeAttribute(Et);return;case"boolean":var At=Et.toLowerCase().slice(0,5);if(At!=="data-"&&At!=="aria-"){vt.removeAttribute(Et);return}}vt.setAttribute(Et,""+wt)}}function Vs(vt,Et,wt){if(wt===null)vt.removeAttribute(Et);else{switch(typeof wt){case"undefined":case"function":case"symbol":case"boolean":vt.removeAttribute(Et);return}vt.setAttribute(Et,""+wt)}}function Li(vt,Et,wt,At){if(At===null)vt.removeAttribute(wt);else{switch(typeof At){case"undefined":case"function":case"symbol":case"boolean":vt.removeAttribute(wt);return}vt.setAttributeNS(Et,wt,""+At)}}function _i(vt){switch(typeof vt){case"bigint":case"boolean":case"number":case"string":case"undefined":return vt;case"object":return vt;default:return""}}function md(vt){var Et=vt.type;return(vt=vt.nodeName)&&vt.toLowerCase()==="input"&&(Et==="checkbox"||Et==="radio")}function um(vt,Et,wt){var At=Object.getOwnPropertyDescriptor(vt.constructor.prototype,Et);if(!vt.hasOwnProperty(Et)&&typeof At<"u"&&typeof At.get=="function"&&typeof At.set=="function"){var jt=At.get,Dt=At.set;return Object.defineProperty(vt,Et,{configurable:!0,get:function(){return jt.call(this)},set:function(Yt){wt=""+Yt,Dt.call(this,Yt)}}),Object.defineProperty(vt,Et,{enumerable:At.enumerable}),{getValue:function(){return wt},setValue:function(Yt){wt=""+Yt},stopTracking:function(){vt._valueTracker=null,delete vt[Et]}}}}function Jl(vt){if(!vt._valueTracker){var Et=md(vt)?"checked":"value";vt._valueTracker=um(vt,Et,""+vt[Et])}}function gd(vt){if(!vt)return!1;var Et=vt._valueTracker;if(!Et)return!0;var wt=Et.getValue(),At="";return vt&&(At=md(vt)?vt.checked?"true":"false":vt.value),vt=At,vt!==wt?(Et.setValue(vt),!0):!1}function Bo(vt){if(vt=vt||(typeof document<"u"?document:void 0),typeof vt>"u")return null;try{return vt.activeElement||vt.body}catch{return vt.body}}var dm=/[\n"\\]/g;function Ei(vt){return vt.replace(dm,function(Et){return"\\"+Et.charCodeAt(0).toString(16)+" "})}function ec(vt,Et,wt,At,jt,Dt,Yt,er){vt.name="",Yt!=null&&typeof Yt!="function"&&typeof Yt!="symbol"&&typeof Yt!="boolean"?vt.type=Yt:vt.removeAttribute("type"),Et!=null?Yt==="number"?(Et===0&&vt.value===""||vt.value!=Et)&&(vt.value=""+_i(Et)):vt.value!==""+_i(Et)&&(vt.value=""+_i(Et)):Yt!=="submit"&&Yt!=="reset"||vt.removeAttribute("value"),Et!=null?tc(vt,Yt,_i(Et)):wt!=null?tc(vt,Yt,_i(wt)):At!=null&&vt.removeAttribute("value"),jt==null&&Dt!=null&&(vt.defaultChecked=!!Dt),jt!=null&&(vt.checked=jt&&typeof jt!="function"&&typeof jt!="symbol"),er!=null&&typeof er!="function"&&typeof er!="symbol"&&typeof er!="boolean"?vt.name=""+_i(er):vt.removeAttribute("name")}function yd(vt,Et,wt,At,jt,Dt,Yt,er){if(Dt!=null&&typeof Dt!="function"&&typeof Dt!="symbol"&&typeof Dt!="boolean"&&(vt.type=Dt),Et!=null||wt!=null){if(!(Dt!=="submit"&&Dt!=="reset"||Et!=null)){Jl(vt);return}wt=wt!=null?""+_i(wt):"",Et=Et!=null?""+_i(Et):wt,er||Et===vt.value||(vt.value=Et),vt.defaultValue=Et}At=At??jt,At=typeof At!="function"&&typeof At!="symbol"&&!!At,vt.checked=er?vt.checked:!!At,vt.defaultChecked=!!At,Yt!=null&&typeof Yt!="function"&&typeof Yt!="symbol"&&typeof Yt!="boolean"&&(vt.name=Yt),Jl(vt)}function tc(vt,Et,wt){Et==="number"&&Bo(vt.ownerDocument)===vt||vt.defaultValue===""+wt||(vt.defaultValue=""+wt)}function ua(vt,Et,wt,At){if(vt=vt.options,Et){Et={};for(var jt=0;jt<wt.length;jt++)Et["$"+wt[jt]]=!0;for(wt=0;wt<vt.length;wt++)jt=Et.hasOwnProperty("$"+vt[wt].value),vt[wt].selected!==jt&&(vt[wt].selected=jt),jt&&At&&(vt[wt].defaultSelected=!0)}else{for(wt=""+_i(wt),Et=null,jt=0;jt<vt.length;jt++){if(vt[jt].value===wt){vt[jt].selected=!0,At&&(vt[jt].defaultSelected=!0);return}Et!==null||vt[jt].disabled||(Et=vt[jt])}Et!==null&&(Et.selected=!0)}}function xd(vt,Et,wt){if(Et!=null&&(Et=""+_i(Et),Et!==vt.value&&(vt.value=Et),wt==null)){vt.defaultValue!==Et&&(vt.defaultValue=Et);return}vt.defaultValue=wt!=null?""+_i(wt):""}function vd(vt,Et,wt,At){if(Et==null){if(At!=null){if(wt!=null)throw Error(lt(92));if(Vt(At)){if(1<At.length)throw Error(lt(93));At=At[0]}wt=At}wt==null&&(wt=""),Et=wt}wt=_i(Et),vt.defaultValue=wt,At=vt.textContent,At===wt&&At!==""&&At!==null&&(vt.value=At),Jl(vt)}function da(vt,Et){if(Et){var wt=vt.firstChild;if(wt&&wt===vt.lastChild&&wt.nodeType===3){wt.nodeValue=Et;return}}vt.textContent=Et}var hm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(vt,Et,wt){var At=Et.indexOf("--")===0;wt==null||typeof wt=="boolean"||wt===""?At?vt.setProperty(Et,""):Et==="float"?vt.cssFloat="":vt[Et]="":At?vt.setProperty(Et,wt):typeof wt!="number"||wt===0||hm.has(Et)?Et==="float"?vt.cssFloat=wt:vt[Et]=(""+wt).trim():vt[Et]=wt+"px"}function _d(vt,Et,wt){if(Et!=null&&typeof Et!="object")throw Error(lt(62));if(vt=vt.style,wt!=null){for(var At in wt)!wt.hasOwnProperty(At)||Et!=null&&Et.hasOwnProperty(At)||(At.indexOf("--")===0?vt.setProperty(At,""):At==="float"?vt.cssFloat="":vt[At]="");for(var jt in Et)At=Et[jt],Et.hasOwnProperty(jt)&&wt[jt]!==At&&bd(vt,jt,At)}else for(var Dt in Et)Et.hasOwnProperty(Dt)&&bd(vt,Dt,Et[Dt])}function rc(vt){if(vt.indexOf("-")===-1)return!1;switch(vt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(vt){return pm.test(""+vt)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":vt}function Gi(){}var nc=null;function ic(vt){return vt=vt.target||vt.srcElement||window,vt.correspondingUseElement&&(vt=vt.correspondingUseElement),vt.nodeType===3?vt.parentNode:vt}var ha=null,fa=null;function Ed(vt){var Et=Nr(vt);if(Et&&(vt=Et.stateNode)){var wt=vt[Sn]||null;e:switch(vt=Et.stateNode,Et.type){case"input":if(ec(vt,wt.value,wt.defaultValue,wt.defaultValue,wt.checked,wt.defaultChecked,wt.type,wt.name),Et=wt.name,wt.type==="radio"&&Et!=null){for(wt=vt;wt.parentNode;)wt=wt.parentNode;for(wt=wt.querySelectorAll('input[name="'+Ei(""+Et)+'"][type="radio"]'),Et=0;Et<wt.length;Et++){var At=wt[Et];if(At!==vt&&At.form===vt.form){var jt=At[Sn]||null;if(!jt)throw Error(lt(90));ec(At,jt.value,jt.defaultValue,jt.defaultValue,jt.checked,jt.defaultChecked,jt.type,jt.name)}}for(Et=0;Et<wt.length;Et++)At=wt[Et],At.form===vt.form&&gd(At)}break e;case"textarea":xd(vt,wt.value,wt.defaultValue);break e;case"select":Et=wt.value,Et!=null&&ua(vt,!!wt.multiple,Et,!1)}}}var sc=!1;function Cd(vt,Et,wt){if(sc)return vt(Et,wt);sc=!0;try{var At=vt(Et);return At}finally{if(sc=!1,(ha!==null||fa!==null)&&(Al(),ha&&(Et=ha,vt=fa,fa=ha=null,Ed(Et),vt)))for(Et=0;Et<vt.length;Et++)Ed(vt[Et])}}function Ja(vt,Et){var wt=vt.stateNode;if(wt===null)return null;var At=wt[Sn]||null;if(At===null)return null;wt=At[Et];e:switch(Et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(At=!At.disabled)||(vt=vt.type,At=!(vt==="button"||vt==="input"||vt==="select"||vt==="textarea")),vt=!At;break e;default:vt=!1}if(vt)return null;if(wt&&typeof wt!="function")throw Error(lt(231,Et,typeof wt));return wt}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(Wi)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){ac=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{ac=!1}var ps=null,oc=null,Vo=null;function Sd(){if(Vo)return Vo;var vt,Et=oc,wt=Et.length,At,jt="value"in ps?ps.value:ps.textContent,Dt=jt.length;for(vt=0;vt<wt&&Et[vt]===jt[vt];vt++);var Yt=wt-vt;for(At=1;At<=Yt&&Et[wt-At]===jt[Dt-At];At++);return Vo=jt.slice(vt,1<At?1-At:void 0)}function Ho(vt){var Et=vt.keyCode;return"charCode"in vt?(vt=vt.charCode,vt===0&&Et===13&&(vt=13)):vt=Et,vt===10&&(vt=13),32<=vt||vt===13?vt:0}function Uo(){return!0}function wd(){return!1}function ei(vt){function Et(wt,At,jt,Dt,Yt){this._reactName=wt,this._targetInst=jt,this.type=At,this.nativeEvent=Dt,this.target=Yt,this.currentTarget=null;for(var er in vt)vt.hasOwnProperty(er)&&(wt=vt[er],this[er]=wt?wt(Dt):Dt[er]);return this.isDefaultPrevented=(Dt.defaultPrevented!=null?Dt.defaultPrevented:Dt.returnValue===!1)?Uo:wd,this.isPropagationStopped=wd,this}return yt(Et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var wt=this.nativeEvent;wt&&(wt.preventDefault?wt.preventDefault():typeof wt.returnValue!="unknown"&&(wt.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var wt=this.nativeEvent;wt&&(wt.stopPropagation?wt.stopPropagation():typeof wt.cancelBubble!="unknown"&&(wt.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),Et}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vt){return vt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=ei(Hs),to=yt({},Hs,{view:0,detail:0}),mm=ei(to),lc,cc,ro,Wo=yt({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(vt){return vt.relatedTarget===void 0?vt.fromElement===vt.srcElement?vt.toElement:vt.fromElement:vt.relatedTarget},movementX:function(vt){return"movementX"in vt?vt.movementX:(vt!==ro&&(ro&&vt.type==="mousemove"?(lc=vt.screenX-ro.screenX,cc=vt.screenY-ro.screenY):cc=lc=0,ro=vt),lc)},movementY:function(vt){return"movementY"in vt?vt.movementY:cc}}),kd=ei(Wo),gm=yt({},Wo,{dataTransfer:0}),ym=ei(gm),xm=yt({},to,{relatedTarget:0}),uc=ei(xm),vm=yt({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),bm=ei(vm),_m=yt({},Hs,{clipboardData:function(vt){return"clipboardData"in vt?vt.clipboardData:window.clipboardData}}),Em=ei(_m),Cm=yt({},Hs,{data:0}),Rd=ei(Cm),Sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(vt){var Et=this.nativeEvent;return Et.getModifierState?Et.getModifierState(vt):(vt=km[vt])?!!Et[vt]:!1}function dc(){return Rm}var Tm=yt({},to,{key:function(vt){if(vt.key){var Et=Sm[vt.key]||vt.key;if(Et!=="Unidentified")return Et}return vt.type==="keypress"?(vt=Ho(vt),vt===13?"Enter":String.fromCharCode(vt)):vt.type==="keydown"||vt.type==="keyup"?wm[vt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(vt){return vt.type==="keypress"?Ho(vt):0},keyCode:function(vt){return vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0},which:function(vt){return vt.type==="keypress"?Ho(vt):vt.type==="keydown"||vt.type==="keyup"?vt.keyCode:0}}),Am=ei(Tm),Mm=yt({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=ei(Mm),Pm=yt({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),Im=ei(Pm),Lm=yt({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jm=ei(Lm),Om=yt({},Wo,{deltaX:function(vt){return"deltaX"in vt?vt.deltaX:"wheelDeltaX"in vt?-vt.wheelDeltaX:0},deltaY:function(vt){return"deltaY"in vt?vt.deltaY:"wheelDeltaY"in vt?-vt.wheelDeltaY:"wheelDelta"in vt?-vt.wheelDelta:0},deltaZ:0,deltaMode:0}),Dm=ei(Om),$m=yt({},Hs,{newState:0,oldState:0}),Nm=ei($m),Fm=[9,13,27,32],hc=Wi&&"CompositionEvent"in window,no=null;Wi&&"documentMode"in document&&(no=document.documentMode);var qm=Wi&&"TextEvent"in window&&!no,Ad=Wi&&(!hc||no&&8<no&&11>=no),Md=" ",Pd=!1;function Id(vt,Et){switch(vt){case"keyup":return Fm.indexOf(Et.keyCode)!==-1;case"keydown":return Et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(vt){return vt=vt.detail,typeof vt=="object"&&"data"in vt?vt.data:null}var pa=!1;function Bm(vt,Et){switch(vt){case"compositionend":return Ld(Et);case"keypress":return Et.which!==32?null:(Pd=!0,Md);case"textInput":return vt=Et.data,vt===Md&&Pd?null:vt;default:return null}}function zm(vt,Et){if(pa)return vt==="compositionend"||!hc&&Id(vt,Et)?(vt=Sd(),Vo=oc=ps=null,pa=!1,vt):null;switch(vt){case"paste":return null;case"keypress":if(!(Et.ctrlKey||Et.altKey||Et.metaKey)||Et.ctrlKey&&Et.altKey){if(Et.char&&1<Et.char.length)return Et.char;if(Et.which)return String.fromCharCode(Et.which)}return null;case"compositionend":return Ad&&Et.locale!=="ko"?null:Et.data;default:return null}}var Vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(vt){var Et=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return Et==="input"?!!Vm[vt.type]:Et==="textarea"}function Od(vt,Et,wt,At){ha?fa?fa.push(At):fa=[At]:ha=At,Et=Dl(Et,"onChange"),0<Et.length&&(wt=new Go("onChange","change",null,wt,At),vt.push({event:wt,listeners:Et}))}var io=null,so=null;function Hm(vt){Ep(vt,0)}function Ko(vt){var Et=Cr(vt);if(gd(Et))return vt}function Dd(vt,Et){if(vt==="change")return Et}var $d=!1;if(Wi){var fc;if(Wi){var pc="oninput"in document;if(!pc){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),pc=typeof Nd.oninput=="function"}fc=pc}else fc=!1;$d=fc&&(!document.documentMode||9<document.documentMode)}function Fd(){io&&(io.detachEvent("onpropertychange",qd),so=io=null)}function qd(vt){if(vt.propertyName==="value"&&Ko(so)){var Et=[];Od(Et,so,vt,ic(vt)),Cd(Hm,Et)}}function Um(vt,Et,wt){vt==="focusin"?(Fd(),io=Et,so=wt,io.attachEvent("onpropertychange",qd)):vt==="focusout"&&Fd()}function Gm(vt){if(vt==="selectionchange"||vt==="keyup"||vt==="keydown")return Ko(so)}function Wm(vt,Et){if(vt==="click")return Ko(Et)}function Km(vt,Et){if(vt==="input"||vt==="change")return Ko(Et)}function Zm(vt,Et){return vt===Et&&(vt!==0||1/vt===1/Et)||vt!==vt&&Et!==Et}var di=typeof Object.is=="function"?Object.is:Zm;function ao(vt,Et){if(di(vt,Et))return!0;if(typeof vt!="object"||vt===null||typeof Et!="object"||Et===null)return!1;var wt=Object.keys(vt),At=Object.keys(Et);if(wt.length!==At.length)return!1;for(At=0;At<wt.length;At++){var jt=wt[At];if(!Xr.call(Et,jt)||!di(vt[jt],Et[jt]))return!1}return!0}function Bd(vt){for(;vt&&vt.firstChild;)vt=vt.firstChild;return vt}function zd(vt,Et){var wt=Bd(vt);vt=0;for(var At;wt;){if(wt.nodeType===3){if(At=vt+wt.textContent.length,vt<=Et&&At>=Et)return{node:wt,offset:Et-vt};vt=At}e:{for(;wt;){if(wt.nextSibling){wt=wt.nextSibling;break e}wt=wt.parentNode}wt=void 0}wt=Bd(wt)}}function Vd(vt,Et){return vt&&Et?vt===Et?!0:vt&&vt.nodeType===3?!1:Et&&Et.nodeType===3?Vd(vt,Et.parentNode):"contains"in vt?vt.contains(Et):vt.compareDocumentPosition?!!(vt.compareDocumentPosition(Et)&16):!1:!1}function Hd(vt){vt=vt!=null&&vt.ownerDocument!=null&&vt.ownerDocument.defaultView!=null?vt.ownerDocument.defaultView:window;for(var Et=Bo(vt.document);Et instanceof vt.HTMLIFrameElement;){try{var wt=typeof Et.contentWindow.location.href=="string"}catch{wt=!1}if(wt)vt=Et.contentWindow;else break;Et=Bo(vt.document)}return Et}function mc(vt){var Et=vt&&vt.nodeName&&vt.nodeName.toLowerCase();return Et&&(Et==="input"&&(vt.type==="text"||vt.type==="search"||vt.type==="tel"||vt.type==="url"||vt.type==="password")||Et==="textarea"||vt.contentEditable==="true")}var Ym=Wi&&"documentMode"in document&&11>=document.documentMode,ma=null,gc=null,oo=null,yc=!1;function Ud(vt,Et,wt){var At=wt.window===wt?wt.document:wt.nodeType===9?wt:wt.ownerDocument;yc||ma==null||ma!==Bo(At)||(At=ma,"selectionStart"in At&&mc(At)?At={start:At.selectionStart,end:At.selectionEnd}:(At=(At.ownerDocument&&At.ownerDocument.defaultView||window).getSelection(),At={anchorNode:At.anchorNode,anchorOffset:At.anchorOffset,focusNode:At.focusNode,focusOffset:At.focusOffset}),oo&&ao(oo,At)||(oo=At,At=Dl(gc,"onSelect"),0<At.length&&(Et=new Go("onSelect","select",null,Et,wt),vt.push({event:Et,listeners:At}),Et.target=ma)))}function Us(vt,Et){var wt={};return wt[vt.toLowerCase()]=Et.toLowerCase(),wt["Webkit"+vt]="webkit"+Et,wt["Moz"+vt]="moz"+Et,wt}var ga={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},xc={},Gd={};Wi&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Gs(vt){if(xc[vt])return xc[vt];if(!ga[vt])return vt;var Et=ga[vt],wt;for(wt in Et)if(Et.hasOwnProperty(wt)&&wt in Gd)return xc[vt]=Et[wt];return vt}var Wd=Gs("animationend"),Kd=Gs("animationiteration"),Zd=Gs("animationstart"),Xm=Gs("transitionrun"),Qm=Gs("transitionstart"),Jm=Gs("transitioncancel"),Yd=Gs("transitionend"),Xd=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function ji(vt,Et){Xd.set(vt,Et),In(Et,[vt])}var Zo=typeof reportError=="function"?reportError:function(vt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof vt=="object"&&vt!==null&&typeof vt.message=="string"?String(vt.message):String(vt),error:vt});if(!window.dispatchEvent(Et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",vt);return}console.error(vt)},Ci=[],ya=0,bc=0;function Yo(){for(var vt=ya,Et=bc=ya=0;Et<vt;){var wt=Ci[Et];Ci[Et++]=null;var At=Ci[Et];Ci[Et++]=null;var jt=Ci[Et];Ci[Et++]=null;var Dt=Ci[Et];if(Ci[Et++]=null,At!==null&&jt!==null){var Yt=At.pending;Yt===null?jt.next=jt:(jt.next=Yt.next,Yt.next=jt),At.pending=jt}Dt!==0&&Qd(wt,jt,Dt)}}function Xo(vt,Et,wt,At){Ci[ya++]=vt,Ci[ya++]=Et,Ci[ya++]=wt,Ci[ya++]=At,bc|=At,vt.lanes|=At,vt=vt.alternate,vt!==null&&(vt.lanes|=At)}function _c(vt,Et,wt,At){return Xo(vt,Et,wt,At),Qo(vt)}function Ws(vt,Et){return Xo(vt,null,null,Et),Qo(vt)}function Qd(vt,Et,wt){vt.lanes|=wt;var At=vt.alternate;At!==null&&(At.lanes|=wt);for(var jt=!1,Dt=vt.return;Dt!==null;)Dt.childLanes|=wt,At=Dt.alternate,At!==null&&(At.childLanes|=wt),Dt.tag===22&&(vt=Dt.stateNode,vt===null||vt._visibility&1||(jt=!0)),vt=Dt,Dt=Dt.return;return vt.tag===3?(Dt=vt.stateNode,jt&&Et!==null&&(jt=31-qr(wt),vt=Dt.hiddenUpdates,At=vt[jt],At===null?vt[jt]=[Et]:At.push(Et),Et.lane=wt|536870912),Dt):null}function Qo(vt){if(50<Mo)throw Mo=0,Mu=null,Error(lt(185));for(var Et=vt.return;Et!==null;)vt=Et,Et=vt.return;return vt.tag===3?vt.stateNode:null}var xa={};function eg(vt,Et,wt,At){this.tag=vt,this.key=wt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=At,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(vt,Et,wt,At){return new eg(vt,Et,wt,At)}function Ec(vt){return vt=vt.prototype,!(!vt||!vt.isReactComponent)}function Ki(vt,Et){var wt=vt.alternate;return wt===null?(wt=hi(vt.tag,Et,vt.key,vt.mode),wt.elementType=vt.elementType,wt.type=vt.type,wt.stateNode=vt.stateNode,wt.alternate=vt,vt.alternate=wt):(wt.pendingProps=Et,wt.type=vt.type,wt.flags=0,wt.subtreeFlags=0,wt.deletions=null),wt.flags=vt.flags&65011712,wt.childLanes=vt.childLanes,wt.lanes=vt.lanes,wt.child=vt.child,wt.memoizedProps=vt.memoizedProps,wt.memoizedState=vt.memoizedState,wt.updateQueue=vt.updateQueue,Et=vt.dependencies,wt.dependencies=Et===null?null:{lanes:Et.lanes,firstContext:Et.firstContext},wt.sibling=vt.sibling,wt.index=vt.index,wt.ref=vt.ref,wt.refCleanup=vt.refCleanup,wt}function Jd(vt,Et){vt.flags&=65011714;var wt=vt.alternate;return wt===null?(vt.childLanes=0,vt.lanes=Et,vt.child=null,vt.subtreeFlags=0,vt.memoizedProps=null,vt.memoizedState=null,vt.updateQueue=null,vt.dependencies=null,vt.stateNode=null):(vt.childLanes=wt.childLanes,vt.lanes=wt.lanes,vt.child=wt.child,vt.subtreeFlags=0,vt.deletions=null,vt.memoizedProps=wt.memoizedProps,vt.memoizedState=wt.memoizedState,vt.updateQueue=wt.updateQueue,vt.type=wt.type,Et=wt.dependencies,vt.dependencies=Et===null?null:{lanes:Et.lanes,firstContext:Et.firstContext}),vt}function Jo(vt,Et,wt,At,jt,Dt){var Yt=0;if(At=vt,typeof vt=="function")Ec(vt)&&(Yt=1);else if(typeof vt=="string")Yt=s1(vt,wt,nr.current)?26:vt==="html"||vt==="head"||vt==="body"?27:5;else e:switch(vt){case Ft:return vt=hi(31,wt,Et,jt),vt.elementType=Ft,vt.lanes=Dt,vt;case Ct:return Ks(wt.children,jt,Dt,Et);case kt:Yt=8,jt|=24;break;case St:return vt=hi(12,wt,Et,jt|2),vt.elementType=St,vt.lanes=Dt,vt;case Pt:return vt=hi(13,wt,Et,jt),vt.elementType=Pt,vt.lanes=Dt,vt;case It:return vt=hi(19,wt,Et,jt),vt.elementType=It,vt.lanes=Dt,vt;default:if(typeof vt=="object"&&vt!==null)switch(vt.$$typeof){case Tt:Yt=10;break e;case Rt:Yt=9;break e;case Mt:Yt=11;break e;case Lt:Yt=14;break e;case Ot:Yt=16,At=null;break e}Yt=29,wt=Error(lt(130,vt===null?"null":typeof vt,"")),At=null}return Et=hi(Yt,wt,Et,jt),Et.elementType=vt,Et.type=At,Et.lanes=Dt,Et}function Ks(vt,Et,wt,At){return vt=hi(7,vt,At,Et),vt.lanes=wt,vt}function Cc(vt,Et,wt){return vt=hi(6,vt,null,Et),vt.lanes=wt,vt}function eh(vt){var Et=hi(18,null,null,0);return Et.stateNode=vt,Et}function Sc(vt,Et,wt){return Et=hi(4,vt.children!==null?vt.children:[],vt.key,Et),Et.lanes=wt,Et.stateNode={containerInfo:vt.containerInfo,pendingChildren:null,implementation:vt.implementation},Et}var th=new WeakMap;function Si(vt,Et){if(typeof vt=="object"&&vt!==null){var wt=th.get(vt);return wt!==void 0?wt:(Et={value:vt,source:Et,stack:Fr(Et)},th.set(vt,Et),Et)}return{value:vt,source:Et,stack:Fr(Et)}}var va=[],ba=0,el=null,lo=0,wi=[],ki=0,ms=null,qi=1,Bi="";function Zi(vt,Et){va[ba++]=lo,va[ba++]=el,el=vt,lo=Et}function rh(vt,Et,wt){wi[ki++]=qi,wi[ki++]=Bi,wi[ki++]=ms,ms=vt;var At=qi;vt=Bi;var jt=32-qr(At)-1;At&=~(1<<jt),wt+=1;var Dt=32-qr(Et)+jt;if(30<Dt){var Yt=jt-jt%5;Dt=(At&(1<<Yt)-1).toString(32),At>>=Yt,jt-=Yt,qi=1<<32-qr(Et)+jt|wt<<jt|At,Bi=Dt+vt}else qi=1<<Dt|wt<<jt|At,Bi=vt}function wc(vt){vt.return!==null&&(Zi(vt,1),rh(vt,1,0))}function kc(vt){for(;vt===el;)el=va[--ba],va[ba]=null,lo=va[--ba],va[ba]=null;for(;vt===ms;)ms=wi[--ki],wi[ki]=null,Bi=wi[--ki],wi[ki]=null,qi=wi[--ki],wi[ki]=null}function nh(vt,Et){wi[ki++]=qi,wi[ki++]=Bi,wi[ki++]=ms,qi=Et.id,Bi=Et.overflow,ms=vt}var Vn=null,wn=null,un=!1,gs=null,Ri=!1,Rc=Error(lt(519));function ys(vt){var Et=Error(lt(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(Si(Et,vt)),Rc}function ih(vt){var Et=vt.stateNode,wt=vt.type,At=vt.memoizedProps;switch(Et[Pn]=vt,Et[Sn]=At,wt){case"dialog":on("cancel",Et),on("close",Et);break;case"iframe":case"object":case"embed":on("load",Et);break;case"video":case"audio":for(wt=0;wt<Io.length;wt++)on(Io[wt],Et);break;case"source":on("error",Et);break;case"img":case"image":case"link":on("error",Et),on("load",Et);break;case"details":on("toggle",Et);break;case"input":on("invalid",Et),yd(Et,At.value,At.defaultValue,At.checked,At.defaultChecked,At.type,At.name,!0);break;case"select":on("invalid",Et);break;case"textarea":on("invalid",Et),vd(Et,At.value,At.defaultValue,At.children)}wt=At.children,typeof wt!="string"&&typeof wt!="number"&&typeof wt!="bigint"||Et.textContent===""+wt||At.suppressHydrationWarning===!0||kp(Et.textContent,wt)?(At.popover!=null&&(on("beforetoggle",Et),on("toggle",Et)),At.onScroll!=null&&on("scroll",Et),At.onScrollEnd!=null&&on("scrollend",Et),At.onClick!=null&&(Et.onclick=Gi),Et=!0):Et=!1,Et||ys(vt,!0)}function sh(vt){for(Vn=vt.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Vn=Vn.return}}function Ea(vt){if(vt!==Vn)return!1;if(!un)return sh(vt),un=!0,!1;var Et=vt.tag,wt;if((wt=Et!==3&&Et!==27)&&((wt=Et===5)&&(wt=vt.type,wt=!(wt!=="form"&&wt!=="button")||Uu(vt.type,vt.memoizedProps)),wt=!wt),wt&&wn&&ys(vt),sh(vt),Et===13){if(vt=vt.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(lt(317));wn=Op(vt)}else if(Et===31){if(vt=vt.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(lt(317));wn=Op(vt)}else Et===27?(Et=wn,Ps(vt.type)?(vt=Yu,Yu=null,wn=vt):wn=Et):wn=Vn?Ai(vt.stateNode.nextSibling):null;return!0}function Zs(){wn=Vn=null,un=!1}function Tc(){var vt=gs;return vt!==null&&(ii===null?ii=vt:ii.push.apply(ii,vt),gs=null),vt}function co(vt){gs===null?gs=[vt]:gs.push(vt)}var Ac=Ht(null),Ys=null,Yi=null;function xs(vt,Et,wt){Bt(Ac,Et._currentValue),Et._currentValue=wt}function Xi(vt){vt._currentValue=Ac.current,Xt(Ac)}function Mc(vt,Et,wt){for(;vt!==null;){var At=vt.alternate;if((vt.childLanes&Et)!==Et?(vt.childLanes|=Et,At!==null&&(At.childLanes|=Et)):At!==null&&(At.childLanes&Et)!==Et&&(At.childLanes|=Et),vt===wt)break;vt=vt.return}}function Pc(vt,Et,wt,At){var jt=vt.child;for(jt!==null&&(jt.return=vt);jt!==null;){var Dt=jt.dependencies;if(Dt!==null){var Yt=jt.child;Dt=Dt.firstContext;e:for(;Dt!==null;){var er=Dt;Dt=jt;for(var sr=0;sr<Et.length;sr++)if(er.context===Et[sr]){Dt.lanes|=wt,er=Dt.alternate,er!==null&&(er.lanes|=wt),Mc(Dt.return,wt,vt),At||(Yt=null);break e}Dt=er.next}}else if(jt.tag===18){if(Yt=jt.return,Yt===null)throw Error(lt(341));Yt.lanes|=wt,Dt=Yt.alternate,Dt!==null&&(Dt.lanes|=wt),Mc(Yt,wt,vt),Yt=null}else Yt=jt.child;if(Yt!==null)Yt.return=jt;else for(Yt=jt;Yt!==null;){if(Yt===vt){Yt=null;break}if(jt=Yt.sibling,jt!==null){jt.return=Yt.return,Yt=jt;break}Yt=Yt.return}jt=Yt}}function Ca(vt,Et,wt,At){vt=null;for(var jt=Et,Dt=!1;jt!==null;){if(!Dt){if((jt.flags&524288)!==0)Dt=!0;else if((jt.flags&262144)!==0)break}if(jt.tag===10){var Yt=jt.alternate;if(Yt===null)throw Error(lt(387));if(Yt=Yt.memoizedProps,Yt!==null){var er=jt.type;di(jt.pendingProps.value,Yt.value)||(vt!==null?vt.push(er):vt=[er])}}else if(jt===ir.current){if(Yt=jt.alternate,Yt===null)throw Error(lt(387));Yt.memoizedState.memoizedState!==jt.memoizedState.memoizedState&&(vt!==null?vt.push($o):vt=[$o])}jt=jt.return}vt!==null&&Pc(Et,vt,wt,At),Et.flags|=262144}function tl(vt){for(vt=vt.firstContext;vt!==null;){if(!di(vt.context._currentValue,vt.memoizedValue))return!0;vt=vt.next}return!1}function Xs(vt){Ys=vt,Yi=null,vt=vt.dependencies,vt!==null&&(vt.firstContext=null)}function Hn(vt){return ah(Ys,vt)}function rl(vt,Et){return Ys===null&&Xs(vt),ah(vt,Et)}function ah(vt,Et){var wt=Et._currentValue;if(Et={context:Et,memoizedValue:wt,next:null},Yi===null){if(vt===null)throw Error(lt(308));Yi=Et,vt.dependencies={lanes:0,firstContext:Et},vt.flags|=524288}else Yi=Yi.next=Et;return wt}var tg=typeof AbortController<"u"?AbortController:function(){var vt=[],Et=this.signal={aborted:!1,addEventListener:function(wt,At){vt.push(At)}};this.abort=function(){Et.aborted=!0,vt.forEach(function(wt){return wt()})}},rg=Ye.unstable_scheduleCallback,ng=Ye.unstable_NormalPriority,$n={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new tg,data:new Map,refCount:0}}function uo(vt){vt.refCount--,vt.refCount===0&&rg(ng,function(){vt.controller.abort()})}var ho=null,Lc=0,Sa=0,wa=null;function ig(vt,Et){if(ho===null){var wt=ho=[];Lc=0,Sa=Du(),wa={status:"pending",value:void 0,then:function(At){wt.push(At)}}}return Lc++,Et.then(oh,oh),Et}function oh(){if(--Lc===0&&ho!==null){wa!==null&&(wa.status="fulfilled");var vt=ho;ho=null,Sa=0,wa=null;for(var Et=0;Et<vt.length;Et++)(0,vt[Et])()}}function sg(vt,Et){var wt=[],At={status:"pending",value:null,reason:null,then:function(jt){wt.push(jt)}};return vt.then(function(){At.status="fulfilled",At.value=Et;for(var jt=0;jt<wt.length;jt++)(0,wt[jt])(Et)},function(jt){for(At.status="rejected",At.reason=jt,jt=0;jt<wt.length;jt++)(0,wt[jt])(void 0)}),At}var lh=$t.S;$t.S=function(vt,Et){Wf=Zr(),typeof Et=="object"&&Et!==null&&typeof Et.then=="function"&&ig(vt,Et),lh!==null&&lh(vt,Et)};var Qs=Ht(null);function jc(){var vt=Qs.current;return vt!==null?vt:Cn.pooledCache}function nl(vt,Et){Et===null?Bt(Qs,Qs.current):Bt(Qs,Et.pool)}function ch(){var vt=jc();return vt===null?null:{parent:$n._currentValue,pool:vt}}var ka=Error(lt(460)),Oc=Error(lt(474)),il=Error(lt(542)),sl={then:function(){}};function uh(vt){return vt=vt.status,vt==="fulfilled"||vt==="rejected"}function dh(vt,Et,wt){switch(wt=vt[wt],wt===void 0?vt.push(Et):wt!==Et&&(Et.then(Gi,Gi),Et=wt),Et.status){case"fulfilled":return Et.value;case"rejected":throw vt=Et.reason,fh(vt),vt;default:if(typeof Et.status=="string")Et.then(Gi,Gi);else{if(vt=Cn,vt!==null&&100<vt.shellSuspendCounter)throw Error(lt(482));vt=Et,vt.status="pending",vt.then(function(At){if(Et.status==="pending"){var jt=Et;jt.status="fulfilled",jt.value=At}},function(At){if(Et.status==="pending"){var jt=Et;jt.status="rejected",jt.reason=At}})}switch(Et.status){case"fulfilled":return Et.value;case"rejected":throw vt=Et.reason,fh(vt),vt}throw ea=Et,ka}}function Js(vt){try{var Et=vt._init;return Et(vt._payload)}catch(wt){throw wt!==null&&typeof wt=="object"&&typeof wt.then=="function"?(ea=wt,ka):wt}}var ea=null;function hh(){if(ea===null)throw Error(lt(459));var vt=ea;return ea=null,vt}function fh(vt){if(vt===ka||vt===il)throw Error(lt(483))}var Ra=null,fo=0;function al(vt){var Et=fo;return fo+=1,Ra===null&&(Ra=[]),dh(Ra,vt,Et)}function po(vt,Et){Et=Et.props.ref,vt.ref=Et!==void 0?Et:null}function ol(vt,Et){throw Et.$$typeof===xt?Error(lt(525)):(vt=Object.prototype.toString.call(Et),Error(lt(31,vt==="[object Object]"?"object with keys {"+Object.keys(Et).join(", ")+"}":vt)))}function ph(vt){function Et(ur,lr){if(vt){var pr=ur.deletions;pr===null?(ur.deletions=[lr],ur.flags|=16):pr.push(lr)}}function wt(ur,lr){if(!vt)return null;for(;lr!==null;)Et(ur,lr),lr=lr.sibling;return null}function At(ur){for(var lr=new Map;ur!==null;)ur.key!==null?lr.set(ur.key,ur):lr.set(ur.index,ur),ur=ur.sibling;return lr}function jt(ur,lr){return ur=Ki(ur,lr),ur.index=0,ur.sibling=null,ur}function Dt(ur,lr,pr){return ur.index=pr,vt?(pr=ur.alternate,pr!==null?(pr=pr.index,pr<lr?(ur.flags|=67108866,lr):pr):(ur.flags|=67108866,lr)):(ur.flags|=1048576,lr)}function Yt(ur){return vt&&ur.alternate===null&&(ur.flags|=67108866),ur}function er(ur,lr,pr,wr){return lr===null||lr.tag!==6?(lr=Cc(pr,ur.mode,wr),lr.return=ur,lr):(lr=jt(lr,pr),lr.return=ur,lr)}function sr(ur,lr,pr,wr){var Wr=pr.type;return Wr===Ct?Sr(ur,lr,pr.props.children,wr,pr.key):lr!==null&&(lr.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Ot&&Js(Wr)===lr.type)?(lr=jt(lr,pr.props),po(lr,pr),lr.return=ur,lr):(lr=Jo(pr.type,pr.key,pr.props,null,ur.mode,wr),po(lr,pr),lr.return=ur,lr)}function mr(ur,lr,pr,wr){return lr===null||lr.tag!==4||lr.stateNode.containerInfo!==pr.containerInfo||lr.stateNode.implementation!==pr.implementation?(lr=Sc(pr,ur.mode,wr),lr.return=ur,lr):(lr=jt(lr,pr.children||[]),lr.return=ur,lr)}function Sr(ur,lr,pr,wr,Wr){return lr===null||lr.tag!==7?(lr=Ks(pr,ur.mode,wr,Wr),lr.return=ur,lr):(lr=jt(lr,pr),lr.return=ur,lr)}function kr(ur,lr,pr){if(typeof lr=="string"&&lr!==""||typeof lr=="number"||typeof lr=="bigint")return lr=Cc(""+lr,ur.mode,pr),lr.return=ur,lr;if(typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case bt:return pr=Jo(lr.type,lr.key,lr.props,null,ur.mode,pr),po(pr,lr),pr.return=ur,pr;case _t:return lr=Sc(lr,ur.mode,pr),lr.return=ur,lr;case Ot:return lr=Js(lr),kr(ur,lr,pr)}if(Vt(lr)||Kt(lr))return lr=Ks(lr,ur.mode,pr,null),lr.return=ur,lr;if(typeof lr.then=="function")return kr(ur,al(lr),pr);if(lr.$$typeof===Tt)return kr(ur,rl(ur,lr),pr);ol(ur,lr)}return null}function gr(ur,lr,pr,wr){var Wr=lr!==null?lr.key:null;if(typeof pr=="string"&&pr!==""||typeof pr=="number"||typeof pr=="bigint")return Wr!==null?null:er(ur,lr,""+pr,wr);if(typeof pr=="object"&&pr!==null){switch(pr.$$typeof){case bt:return pr.key===Wr?sr(ur,lr,pr,wr):null;case _t:return pr.key===Wr?mr(ur,lr,pr,wr):null;case Ot:return pr=Js(pr),gr(ur,lr,pr,wr)}if(Vt(pr)||Kt(pr))return Wr!==null?null:Sr(ur,lr,pr,wr,null);if(typeof pr.then=="function")return gr(ur,lr,al(pr),wr);if(pr.$$typeof===Tt)return gr(ur,lr,rl(ur,pr),wr);ol(ur,pr)}return null}function vr(ur,lr,pr,wr,Wr){if(typeof wr=="string"&&wr!==""||typeof wr=="number"||typeof wr=="bigint")return ur=ur.get(pr)||null,er(lr,ur,""+wr,Wr);if(typeof wr=="object"&&wr!==null){switch(wr.$$typeof){case bt:return ur=ur.get(wr.key===null?pr:wr.key)||null,sr(lr,ur,wr,Wr);case _t:return ur=ur.get(wr.key===null?pr:wr.key)||null,mr(lr,ur,wr,Wr);case Ot:return wr=Js(wr),vr(ur,lr,pr,wr,Wr)}if(Vt(wr)||Kt(wr))return ur=ur.get(pr)||null,Sr(lr,ur,wr,Wr,null);if(typeof wr.then=="function")return vr(ur,lr,pr,al(wr),Wr);if(wr.$$typeof===Tt)return vr(ur,lr,pr,rl(lr,wr),Wr);ol(lr,wr)}return null}function Vr(ur,lr,pr,wr){for(var Wr=null,dn=null,Gr=lr,rn=lr=0,cn=null;Gr!==null&&rn<pr.length;rn++){Gr.index>rn?(cn=Gr,Gr=null):cn=Gr.sibling;var hn=gr(ur,Gr,pr[rn],wr);if(hn===null){Gr===null&&(Gr=cn);break}vt&&Gr&&hn.alternate===null&&Et(ur,Gr),lr=Dt(hn,lr,rn),dn===null?Wr=hn:dn.sibling=hn,dn=hn,Gr=cn}if(rn===pr.length)return wt(ur,Gr),un&&Zi(ur,rn),Wr;if(Gr===null){for(;rn<pr.length;rn++)Gr=kr(ur,pr[rn],wr),Gr!==null&&(lr=Dt(Gr,lr,rn),dn===null?Wr=Gr:dn.sibling=Gr,dn=Gr);return un&&Zi(ur,rn),Wr}for(Gr=At(Gr);rn<pr.length;rn++)cn=vr(Gr,ur,rn,pr[rn],wr),cn!==null&&(vt&&cn.alternate!==null&&Gr.delete(cn.key===null?rn:cn.key),lr=Dt(cn,lr,rn),dn===null?Wr=cn:dn.sibling=cn,dn=cn);return vt&&Gr.forEach(function(Ds){return Et(ur,Ds)}),un&&Zi(ur,rn),Wr}function Yr(ur,lr,pr,wr){if(pr==null)throw Error(lt(151));for(var Wr=null,dn=null,Gr=lr,rn=lr=0,cn=null,hn=pr.next();Gr!==null&&!hn.done;rn++,hn=pr.next()){Gr.index>rn?(cn=Gr,Gr=null):cn=Gr.sibling;var Ds=gr(ur,Gr,hn.value,wr);if(Ds===null){Gr===null&&(Gr=cn);break}vt&&Gr&&Ds.alternate===null&&Et(ur,Gr),lr=Dt(Ds,lr,rn),dn===null?Wr=Ds:dn.sibling=Ds,dn=Ds,Gr=cn}if(hn.done)return wt(ur,Gr),un&&Zi(ur,rn),Wr;if(Gr===null){for(;!hn.done;rn++,hn=pr.next())hn=kr(ur,hn.value,wr),hn!==null&&(lr=Dt(hn,lr,rn),dn===null?Wr=hn:dn.sibling=hn,dn=hn);return un&&Zi(ur,rn),Wr}for(Gr=At(Gr);!hn.done;rn++,hn=pr.next())hn=vr(Gr,ur,rn,hn.value,wr),hn!==null&&(vt&&hn.alternate!==null&&Gr.delete(hn.key===null?rn:hn.key),lr=Dt(hn,lr,rn),dn===null?Wr=hn:dn.sibling=hn,dn=hn);return vt&&Gr.forEach(function(g1){return Et(ur,g1)}),un&&Zi(ur,rn),Wr}function _n(ur,lr,pr,wr){if(typeof pr=="object"&&pr!==null&&pr.type===Ct&&pr.key===null&&(pr=pr.props.children),typeof pr=="object"&&pr!==null){switch(pr.$$typeof){case bt:e:{for(var Wr=pr.key;lr!==null;){if(lr.key===Wr){if(Wr=pr.type,Wr===Ct){if(lr.tag===7){wt(ur,lr.sibling),wr=jt(lr,pr.props.children),wr.return=ur,ur=wr;break e}}else if(lr.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Ot&&Js(Wr)===lr.type){wt(ur,lr.sibling),wr=jt(lr,pr.props),po(wr,pr),wr.return=ur,ur=wr;break e}wt(ur,lr);break}else Et(ur,lr);lr=lr.sibling}pr.type===Ct?(wr=Ks(pr.props.children,ur.mode,wr,pr.key),wr.return=ur,ur=wr):(wr=Jo(pr.type,pr.key,pr.props,null,ur.mode,wr),po(wr,pr),wr.return=ur,ur=wr)}return Yt(ur);case _t:e:{for(Wr=pr.key;lr!==null;){if(lr.key===Wr)if(lr.tag===4&&lr.stateNode.containerInfo===pr.containerInfo&&lr.stateNode.implementation===pr.implementation){wt(ur,lr.sibling),wr=jt(lr,pr.children||[]),wr.return=ur,ur=wr;break e}else{wt(ur,lr);break}else Et(ur,lr);lr=lr.sibling}wr=Sc(pr,ur.mode,wr),wr.return=ur,ur=wr}return Yt(ur);case Ot:return pr=Js(pr),_n(ur,lr,pr,wr)}if(Vt(pr))return Vr(ur,lr,pr,wr);if(Kt(pr)){if(Wr=Kt(pr),typeof Wr!="function")throw Error(lt(150));return pr=Wr.call(pr),Yr(ur,lr,pr,wr)}if(typeof pr.then=="function")return _n(ur,lr,al(pr),wr);if(pr.$$typeof===Tt)return _n(ur,lr,rl(ur,pr),wr);ol(ur,pr)}return typeof pr=="string"&&pr!==""||typeof pr=="number"||typeof pr=="bigint"?(pr=""+pr,lr!==null&&lr.tag===6?(wt(ur,lr.sibling),wr=jt(lr,pr),wr.return=ur,ur=wr):(wt(ur,lr),wr=Cc(pr,ur.mode,wr),wr.return=ur,ur=wr),Yt(ur)):wt(ur,lr)}return function(ur,lr,pr,wr){try{fo=0;var Wr=_n(ur,lr,pr,wr);return Ra=null,Wr}catch(Gr){if(Gr===ka||Gr===il)throw Gr;var dn=hi(29,Gr,null,ur.mode);return dn.lanes=wr,dn.return=ur,dn}finally{}}}var ta=ph(!0),mh=ph(!1),vs=!1;function Dc(vt){vt.updateQueue={baseState:vt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(vt,Et){vt=vt.updateQueue,Et.updateQueue===vt&&(Et.updateQueue={baseState:vt.baseState,firstBaseUpdate:vt.firstBaseUpdate,lastBaseUpdate:vt.lastBaseUpdate,shared:vt.shared,callbacks:null})}function bs(vt){return{lane:vt,tag:0,payload:null,callback:null,next:null}}function _s(vt,Et,wt){var At=vt.updateQueue;if(At===null)return null;if(At=At.shared,(mn&2)!==0){var jt=At.pending;return jt===null?Et.next=Et:(Et.next=jt.next,jt.next=Et),At.pending=Et,Et=Qo(vt),Qd(vt,null,wt),Et}return Xo(vt,At,Et,wt),Qo(vt)}function mo(vt,Et,wt){if(Et=Et.updateQueue,Et!==null&&(Et=Et.shared,(wt&4194048)!==0)){var At=Et.lanes;At&=vt.pendingLanes,wt|=At,Et.lanes=wt,Fs(vt,wt)}}function Nc(vt,Et){var wt=vt.updateQueue,At=vt.alternate;if(At!==null&&(At=At.updateQueue,wt===At)){var jt=null,Dt=null;if(wt=wt.firstBaseUpdate,wt!==null){do{var Yt={lane:wt.lane,tag:wt.tag,payload:wt.payload,callback:null,next:null};Dt===null?jt=Dt=Yt:Dt=Dt.next=Yt,wt=wt.next}while(wt!==null);Dt===null?jt=Dt=Et:Dt=Dt.next=Et}else jt=Dt=Et;wt={baseState:At.baseState,firstBaseUpdate:jt,lastBaseUpdate:Dt,shared:At.shared,callbacks:At.callbacks},vt.updateQueue=wt;return}vt=wt.lastBaseUpdate,vt===null?wt.firstBaseUpdate=Et:vt.next=Et,wt.lastBaseUpdate=Et}var Fc=!1;function go(){if(Fc){var vt=wa;if(vt!==null)throw vt}}function yo(vt,Et,wt,At){Fc=!1;var jt=vt.updateQueue;vs=!1;var Dt=jt.firstBaseUpdate,Yt=jt.lastBaseUpdate,er=jt.shared.pending;if(er!==null){jt.shared.pending=null;var sr=er,mr=sr.next;sr.next=null,Yt===null?Dt=mr:Yt.next=mr,Yt=sr;var Sr=vt.alternate;Sr!==null&&(Sr=Sr.updateQueue,er=Sr.lastBaseUpdate,er!==Yt&&(er===null?Sr.firstBaseUpdate=mr:er.next=mr,Sr.lastBaseUpdate=sr))}if(Dt!==null){var kr=jt.baseState;Yt=0,Sr=mr=sr=null,er=Dt;do{var gr=er.lane&-536870913,vr=gr!==er.lane;if(vr?(ln&gr)===gr:(At&gr)===gr){gr!==0&&gr===Sa&&(Fc=!0),Sr!==null&&(Sr=Sr.next={lane:0,tag:er.tag,payload:er.payload,callback:null,next:null});e:{var Vr=vt,Yr=er;gr=Et;var _n=wt;switch(Yr.tag){case 1:if(Vr=Yr.payload,typeof Vr=="function"){kr=Vr.call(_n,kr,gr);break e}kr=Vr;break e;case 3:Vr.flags=Vr.flags&-65537|128;case 0:if(Vr=Yr.payload,gr=typeof Vr=="function"?Vr.call(_n,kr,gr):Vr,gr==null)break e;kr=yt({},kr,gr);break e;case 2:vs=!0}}gr=er.callback,gr!==null&&(vt.flags|=64,vr&&(vt.flags|=8192),vr=jt.callbacks,vr===null?jt.callbacks=[gr]:vr.push(gr))}else vr={lane:gr,tag:er.tag,payload:er.payload,callback:er.callback,next:null},Sr===null?(mr=Sr=vr,sr=kr):Sr=Sr.next=vr,Yt|=gr;if(er=er.next,er===null){if(er=jt.shared.pending,er===null)break;vr=er,er=vr.next,vr.next=null,jt.lastBaseUpdate=vr,jt.shared.pending=null}}while(!0);Sr===null&&(sr=kr),jt.baseState=sr,jt.firstBaseUpdate=mr,jt.lastBaseUpdate=Sr,Dt===null&&(jt.shared.lanes=0),ks|=Yt,vt.lanes=Yt,vt.memoizedState=kr}}function gh(vt,Et){if(typeof vt!="function")throw Error(lt(191,vt));vt.call(Et)}function yh(vt,Et){var wt=vt.callbacks;if(wt!==null)for(vt.callbacks=null,vt=0;vt<wt.length;vt++)gh(wt[vt],Et)}var Ta=Ht(null),ll=Ht(0);function xh(vt,Et){vt=ls,Bt(ll,vt),Bt(Ta,Et),ls=vt|Et.baseLanes}function qc(){Bt(ll,ls),Bt(Ta,Ta.current)}function Bc(){ls=ll.current,Xt(Ta),Xt(ll)}var fi=Ht(null),Ti=null;function Es(vt){var Et=vt.alternate;Bt(On,On.current&1),Bt(fi,vt),Ti===null&&(Et===null||Ta.current!==null||Et.memoizedState!==null)&&(Ti=vt)}function zc(vt){Bt(On,On.current),Bt(fi,vt),Ti===null&&(Ti=vt)}function bh(vt){vt.tag===22?(Bt(On,On.current),Bt(fi,vt),Ti===null&&(Ti=vt)):Cs()}function Cs(){Bt(On,On.current),Bt(fi,fi.current)}function mi(vt){Xt(fi),Ti===vt&&(Ti=null),Xt(On)}var On=Ht(0);function cl(vt){for(var Et=vt;Et!==null;){if(Et.tag===13){var wt=Et.memoizedState;if(wt!==null&&(wt=wt.dehydrated,wt===null||Ku(wt)||Zu(wt)))return Et}else if(Et.tag===19&&(Et.memoizedProps.revealOrder==="forwards"||Et.memoizedProps.revealOrder==="backwards"||Et.memoizedProps.revealOrder==="unstable_legacy-backwards"||Et.memoizedProps.revealOrder==="together")){if((Et.flags&128)!==0)return Et}else if(Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===vt)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===vt)return null;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}return null}var Qi=0,en=null,vn=null,Nn=null,ul=!1,Aa=!1,ra=!1,dl=0,xo=0,Ma=null,ag=0;function Ln(){throw Error(lt(321))}function Vc(vt,Et){if(Et===null)return!1;for(var wt=0;wt<Et.length&&wt<vt.length;wt++)if(!di(vt[wt],Et[wt]))return!1;return!0}function Hc(vt,Et,wt,At,jt,Dt){return Qi=Dt,en=Et,Et.memoizedState=null,Et.updateQueue=null,Et.lanes=0,$t.H=vt===null||vt.memoizedState===null?nf:su,ra=!1,Dt=wt(At,jt),ra=!1,Aa&&(Dt=Eh(Et,wt,At,jt)),_h(vt),Dt}function _h(vt){$t.H=_o;var Et=vn!==null&&vn.next!==null;if(Qi=0,Nn=vn=en=null,ul=!1,xo=0,Ma=null,Et)throw Error(lt(300));vt===null||Fn||(vt=vt.dependencies,vt!==null&&tl(vt)&&(Fn=!0))}function Eh(vt,Et,wt,At){en=vt;var jt=0;do{if(Aa&&(Ma=null),xo=0,Aa=!1,25<=jt)throw Error(lt(301));if(jt+=1,Nn=vn=null,vt.updateQueue!=null){var Dt=vt.updateQueue;Dt.lastEffect=null,Dt.events=null,Dt.stores=null,Dt.memoCache!=null&&(Dt.memoCache.index=0)}$t.H=sf,Dt=Et(wt,At)}while(Aa);return Dt}function og(){var vt=$t.H,Et=vt.useState()[0];return Et=typeof Et.then=="function"?vo(Et):Et,vt=vt.useState()[0],(vn!==null?vn.memoizedState:null)!==vt&&(en.flags|=1024),Et}function Uc(){var vt=dl!==0;return dl=0,vt}function Gc(vt,Et,wt){Et.updateQueue=vt.updateQueue,Et.flags&=-2053,vt.lanes&=~wt}function Wc(vt){if(ul){for(vt=vt.memoizedState;vt!==null;){var Et=vt.queue;Et!==null&&(Et.pending=null),vt=vt.next}ul=!1}Qi=0,Nn=vn=en=null,Aa=!1,xo=dl=0,Ma=null}function Zn(){var vt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?en.memoizedState=Nn=vt:Nn=Nn.next=vt,Nn}function Dn(){if(vn===null){var vt=en.alternate;vt=vt!==null?vt.memoizedState:null}else vt=vn.next;var Et=Nn===null?en.memoizedState:Nn.next;if(Et!==null)Nn=Et,vn=vt;else{if(vt===null)throw en.alternate===null?Error(lt(467)):Error(lt(310));vn=vt,vt={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Nn===null?en.memoizedState=Nn=vt:Nn=Nn.next=vt}return Nn}function hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(vt){var Et=xo;return xo+=1,Ma===null&&(Ma=[]),vt=dh(Ma,vt,Et),Et=en,(Nn===null?Et.memoizedState:Nn.next)===null&&(Et=Et.alternate,$t.H=Et===null||Et.memoizedState===null?nf:su),vt}function fl(vt){if(vt!==null&&typeof vt=="object"){if(typeof vt.then=="function")return vo(vt);if(vt.$$typeof===Tt)return Hn(vt)}throw Error(lt(438,String(vt)))}function Kc(vt){var Et=null,wt=en.updateQueue;if(wt!==null&&(Et=wt.memoCache),Et==null){var At=en.alternate;At!==null&&(At=At.updateQueue,At!==null&&(At=At.memoCache,At!=null&&(Et={data:At.data.map(function(jt){return jt.slice()}),index:0})))}if(Et==null&&(Et={data:[],index:0}),wt===null&&(wt=hl(),en.updateQueue=wt),wt.memoCache=Et,wt=Et.data[Et.index],wt===void 0)for(wt=Et.data[Et.index]=Array(vt),At=0;At<vt;At++)wt[At]=Ut;return Et.index++,wt}function Ji(vt,Et){return typeof Et=="function"?Et(vt):Et}function pl(vt){var Et=Dn();return Zc(Et,vn,vt)}function Zc(vt,Et,wt){var At=vt.queue;if(At===null)throw Error(lt(311));At.lastRenderedReducer=wt;var jt=vt.baseQueue,Dt=At.pending;if(Dt!==null){if(jt!==null){var Yt=jt.next;jt.next=Dt.next,Dt.next=Yt}Et.baseQueue=jt=Dt,At.pending=null}if(Dt=vt.baseState,jt===null)vt.memoizedState=Dt;else{Et=jt.next;var er=Yt=null,sr=null,mr=Et,Sr=!1;do{var kr=mr.lane&-536870913;if(kr!==mr.lane?(ln&kr)===kr:(Qi&kr)===kr){var gr=mr.revertLane;if(gr===0)sr!==null&&(sr=sr.next={lane:0,revertLane:0,gesture:null,action:mr.action,hasEagerState:mr.hasEagerState,eagerState:mr.eagerState,next:null}),kr===Sa&&(Sr=!0);else if((Qi&gr)===gr){mr=mr.next,gr===Sa&&(Sr=!0);continue}else kr={lane:0,revertLane:mr.revertLane,gesture:null,action:mr.action,hasEagerState:mr.hasEagerState,eagerState:mr.eagerState,next:null},sr===null?(er=sr=kr,Yt=Dt):sr=sr.next=kr,en.lanes|=gr,ks|=gr;kr=mr.action,ra&&wt(Dt,kr),Dt=mr.hasEagerState?mr.eagerState:wt(Dt,kr)}else gr={lane:kr,revertLane:mr.revertLane,gesture:mr.gesture,action:mr.action,hasEagerState:mr.hasEagerState,eagerState:mr.eagerState,next:null},sr===null?(er=sr=gr,Yt=Dt):sr=sr.next=gr,en.lanes|=kr,ks|=kr;mr=mr.next}while(mr!==null&&mr!==Et);if(sr===null?Yt=Dt:sr.next=er,!di(Dt,vt.memoizedState)&&(Fn=!0,Sr&&(wt=wa,wt!==null)))throw wt;vt.memoizedState=Dt,vt.baseState=Yt,vt.baseQueue=sr,At.lastRenderedState=Dt}return jt===null&&(At.lanes=0),[vt.memoizedState,At.dispatch]}function Yc(vt){var Et=Dn(),wt=Et.queue;if(wt===null)throw Error(lt(311));wt.lastRenderedReducer=vt;var At=wt.dispatch,jt=wt.pending,Dt=Et.memoizedState;if(jt!==null){wt.pending=null;var Yt=jt=jt.next;do Dt=vt(Dt,Yt.action),Yt=Yt.next;while(Yt!==jt);di(Dt,Et.memoizedState)||(Fn=!0),Et.memoizedState=Dt,Et.baseQueue===null&&(Et.baseState=Dt),wt.lastRenderedState=Dt}return[Dt,At]}function Ch(vt,Et,wt){var At=en,jt=Dn(),Dt=un;if(Dt){if(wt===void 0)throw Error(lt(407));wt=wt()}else wt=Et();var Yt=!di((vn||jt).memoizedState,wt);if(Yt&&(jt.memoizedState=wt,Fn=!0),jt=jt.queue,Jc(kh.bind(null,At,jt,vt),[vt]),jt.getSnapshot!==Et||Yt||Nn!==null&&Nn.memoizedState.tag&1){if(At.flags|=2048,Pa(9,{destroy:void 0},wh.bind(null,At,jt,wt,Et),null),Cn===null)throw Error(lt(349));Dt||(Qi&127)!==0||Sh(At,Et,wt)}return wt}function Sh(vt,Et,wt){vt.flags|=16384,vt={getSnapshot:Et,value:wt},Et=en.updateQueue,Et===null?(Et=hl(),en.updateQueue=Et,Et.stores=[vt]):(wt=Et.stores,wt===null?Et.stores=[vt]:wt.push(vt))}function wh(vt,Et,wt,At){Et.value=wt,Et.getSnapshot=At,Rh(Et)&&Th(vt)}function kh(vt,Et,wt){return wt(function(){Rh(Et)&&Th(vt)})}function Rh(vt){var Et=vt.getSnapshot;vt=vt.value;try{var wt=Et();return!di(vt,wt)}catch{return!0}}function Th(vt){var Et=Ws(vt,2);Et!==null&&si(Et,vt,2)}function Xc(vt){var Et=Zn();if(typeof vt=="function"){var wt=vt;if(vt=wt(),ra){Ur(!0);try{wt()}finally{Ur(!1)}}}return Et.memoizedState=Et.baseState=vt,Et.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:vt},Et}function Ah(vt,Et,wt,At){return vt.baseState=wt,Zc(vt,vn,typeof At=="function"?At:Ji)}function lg(vt,Et,wt,At,jt){if(yl(vt))throw Error(lt(485));if(vt=Et.action,vt!==null){var Dt={payload:jt,action:vt,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Yt){Dt.listeners.push(Yt)}};$t.T!==null?wt(!0):Dt.isTransition=!1,At(Dt),wt=Et.pending,wt===null?(Dt.next=Et.pending=Dt,Mh(Et,Dt)):(Dt.next=wt.next,Et.pending=wt.next=Dt)}}function Mh(vt,Et){var wt=Et.action,At=Et.payload,jt=vt.state;if(Et.isTransition){var Dt=$t.T,Yt={};$t.T=Yt;try{var er=wt(jt,At),sr=$t.S;sr!==null&&sr(Yt,er),Ph(vt,Et,er)}catch(mr){Qc(vt,Et,mr)}finally{Dt!==null&&Yt.types!==null&&(Dt.types=Yt.types),$t.T=Dt}}else try{Dt=wt(jt,At),Ph(vt,Et,Dt)}catch(mr){Qc(vt,Et,mr)}}function Ph(vt,Et,wt){wt!==null&&typeof wt=="object"&&typeof wt.then=="function"?wt.then(function(At){Ih(vt,Et,At)},function(At){return Qc(vt,Et,At)}):Ih(vt,Et,wt)}function Ih(vt,Et,wt){Et.status="fulfilled",Et.value=wt,Lh(Et),vt.state=wt,Et=vt.pending,Et!==null&&(wt=Et.next,wt===Et?vt.pending=null:(wt=wt.next,Et.next=wt,Mh(vt,wt)))}function Qc(vt,Et,wt){var At=vt.pending;if(vt.pending=null,At!==null){At=At.next;do Et.status="rejected",Et.reason=wt,Lh(Et),Et=Et.next;while(Et!==At)}vt.action=null}function Lh(vt){vt=vt.listeners;for(var Et=0;Et<vt.length;Et++)(0,vt[Et])()}function jh(vt,Et){return Et}function Oh(vt,Et){if(un){var wt=Cn.formState;if(wt!==null){e:{var At=en;if(un){if(wn){t:{for(var jt=wn,Dt=Ri;jt.nodeType!==8;){if(!Dt){jt=null;break t}if(jt=Ai(jt.nextSibling),jt===null){jt=null;break t}}Dt=jt.data,jt=Dt==="F!"||Dt==="F"?jt:null}if(jt){wn=Ai(jt.nextSibling),At=jt.data==="F!";break e}}ys(At)}At=!1}At&&(Et=wt[0])}}return wt=Zn(),wt.memoizedState=wt.baseState=Et,At={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:Et},wt.queue=At,wt=ef.bind(null,en,At),At.dispatch=wt,At=Xc(!1),Dt=iu.bind(null,en,!1,At.queue),At=Zn(),jt={state:Et,dispatch:null,action:vt,pending:null},At.queue=jt,wt=lg.bind(null,en,jt,Dt,wt),jt.dispatch=wt,At.memoizedState=vt,[Et,wt,!1]}function Dh(vt){var Et=Dn();return $h(Et,vn,vt)}function $h(vt,Et,wt){if(Et=Zc(vt,Et,jh)[0],vt=pl(Ji)[0],typeof Et=="object"&&Et!==null&&typeof Et.then=="function")try{var At=vo(Et)}catch(Yt){throw Yt===ka?il:Yt}else At=Et;Et=Dn();var jt=Et.queue,Dt=jt.dispatch;return wt!==Et.memoizedState&&(en.flags|=2048,Pa(9,{destroy:void 0},cg.bind(null,jt,wt),null)),[At,Dt,vt]}function cg(vt,Et){vt.action=Et}function Nh(vt){var Et=Dn(),wt=vn;if(wt!==null)return $h(Et,wt,vt);Dn(),Et=Et.memoizedState,wt=Dn();var At=wt.queue.dispatch;return wt.memoizedState=vt,[Et,At,!1]}function Pa(vt,Et,wt,At){return vt={tag:vt,create:wt,deps:At,inst:Et,next:null},Et=en.updateQueue,Et===null&&(Et=hl(),en.updateQueue=Et),wt=Et.lastEffect,wt===null?Et.lastEffect=vt.next=vt:(At=wt.next,wt.next=vt,vt.next=At,Et.lastEffect=vt),vt}function Fh(){return Dn().memoizedState}function ml(vt,Et,wt,At){var jt=Zn();en.flags|=vt,jt.memoizedState=Pa(1|Et,{destroy:void 0},wt,At===void 0?null:At)}function gl(vt,Et,wt,At){var jt=Dn();At=At===void 0?null:At;var Dt=jt.memoizedState.inst;vn!==null&&At!==null&&Vc(At,vn.memoizedState.deps)?jt.memoizedState=Pa(Et,Dt,wt,At):(en.flags|=vt,jt.memoizedState=Pa(1|Et,Dt,wt,At))}function qh(vt,Et){ml(8390656,8,vt,Et)}function Jc(vt,Et){gl(2048,8,vt,Et)}function ug(vt){en.flags|=4;var Et=en.updateQueue;if(Et===null)Et=hl(),en.updateQueue=Et,Et.events=[vt];else{var wt=Et.events;wt===null?Et.events=[vt]:wt.push(vt)}}function Bh(vt){var Et=Dn().memoizedState;return ug({ref:Et,nextImpl:vt}),function(){if((mn&2)!==0)throw Error(lt(440));return Et.impl.apply(void 0,arguments)}}function zh(vt,Et){return gl(4,2,vt,Et)}function Vh(vt,Et){return gl(4,4,vt,Et)}function Hh(vt,Et){if(typeof Et=="function"){vt=vt();var wt=Et(vt);return function(){typeof wt=="function"?wt():Et(null)}}if(Et!=null)return vt=vt(),Et.current=vt,function(){Et.current=null}}function Uh(vt,Et,wt){wt=wt!=null?wt.concat([vt]):null,gl(4,4,Hh.bind(null,Et,vt),wt)}function eu(){}function Gh(vt,Et){var wt=Dn();Et=Et===void 0?null:Et;var At=wt.memoizedState;return Et!==null&&Vc(Et,At[1])?At[0]:(wt.memoizedState=[vt,Et],vt)}function Wh(vt,Et){var wt=Dn();Et=Et===void 0?null:Et;var At=wt.memoizedState;if(Et!==null&&Vc(Et,At[1]))return At[0];if(At=vt(),ra){Ur(!0);try{vt()}finally{Ur(!1)}}return wt.memoizedState=[At,Et],At}function tu(vt,Et,wt){return wt===void 0||(Qi&1073741824)!==0&&(ln&261930)===0?vt.memoizedState=Et:(vt.memoizedState=wt,vt=Zf(),en.lanes|=vt,ks|=vt,wt)}function Kh(vt,Et,wt,At){return di(wt,Et)?wt:Ta.current!==null?(vt=tu(vt,wt,At),di(vt,Et)||(Fn=!0),vt):(Qi&42)===0||(Qi&1073741824)!==0&&(ln&261930)===0?(Fn=!0,vt.memoizedState=wt):(vt=Zf(),en.lanes|=vt,ks|=vt,Et)}function Zh(vt,Et,wt,At,jt){var Dt=zt.p;zt.p=Dt!==0&&8>Dt?Dt:8;var Yt=$t.T,er={};$t.T=er,iu(vt,!1,Et,wt);try{var sr=jt(),mr=$t.S;if(mr!==null&&mr(er,sr),sr!==null&&typeof sr=="object"&&typeof sr.then=="function"){var Sr=sg(sr,At);bo(vt,Et,Sr,xi(vt))}else bo(vt,Et,At,xi(vt))}catch(kr){bo(vt,Et,{then:function(){},status:"rejected",reason:kr},xi())}finally{zt.p=Dt,Yt!==null&&er.types!==null&&(Yt.types=er.types),$t.T=Yt}}function dg(){}function ru(vt,Et,wt,At){if(vt.tag!==5)throw Error(lt(476));var jt=Yh(vt).queue;Zh(vt,jt,Et,Nt,wt===null?dg:function(){return Xh(vt),wt(At)})}function Yh(vt){var Et=vt.memoizedState;if(Et!==null)return Et;Et={memoizedState:Nt,baseState:Nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:Nt},next:null};var wt={};return Et.next={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:wt},next:null},vt.memoizedState=Et,vt=vt.alternate,vt!==null&&(vt.memoizedState=Et),Et}function Xh(vt){var Et=Yh(vt);Et.next===null&&(Et=vt.alternate.memoizedState),bo(vt,Et.next.queue,{},xi())}function nu(){return Hn($o)}function Qh(){return Dn().memoizedState}function Jh(){return Dn().memoizedState}function hg(vt){for(var Et=vt.return;Et!==null;){switch(Et.tag){case 24:case 3:var wt=xi();vt=bs(wt);var At=_s(Et,vt,wt);At!==null&&(si(At,Et,wt),mo(At,Et,wt)),Et={cache:Ic()},vt.payload=Et;return}Et=Et.return}}function fg(vt,Et,wt){var At=xi();wt={lane:At,revertLane:0,gesture:null,action:wt,hasEagerState:!1,eagerState:null,next:null},yl(vt)?tf(Et,wt):(wt=_c(vt,Et,wt,At),wt!==null&&(si(wt,vt,At),rf(wt,Et,At)))}function ef(vt,Et,wt){var At=xi();bo(vt,Et,wt,At)}function bo(vt,Et,wt,At){var jt={lane:At,revertLane:0,gesture:null,action:wt,hasEagerState:!1,eagerState:null,next:null};if(yl(vt))tf(Et,jt);else{var Dt=vt.alternate;if(vt.lanes===0&&(Dt===null||Dt.lanes===0)&&(Dt=Et.lastRenderedReducer,Dt!==null))try{var Yt=Et.lastRenderedState,er=Dt(Yt,wt);if(jt.hasEagerState=!0,jt.eagerState=er,di(er,Yt))return Xo(vt,Et,jt,0),Cn===null&&Yo(),!1}catch{}finally{}if(wt=_c(vt,Et,jt,At),wt!==null)return si(wt,vt,At),rf(wt,Et,At),!0}return!1}function iu(vt,Et,wt,At){if(At={lane:2,revertLane:Du(),gesture:null,action:At,hasEagerState:!1,eagerState:null,next:null},yl(vt)){if(Et)throw Error(lt(479))}else Et=_c(vt,wt,At,2),Et!==null&&si(Et,vt,2)}function yl(vt){var Et=vt.alternate;return vt===en||Et!==null&&Et===en}function tf(vt,Et){Aa=ul=!0;var wt=vt.pending;wt===null?Et.next=Et:(Et.next=wt.next,wt.next=Et),vt.pending=Et}function rf(vt,Et,wt){if((wt&4194048)!==0){var At=Et.lanes;At&=vt.pendingLanes,wt|=At,Et.lanes=wt,Fs(vt,wt)}}var _o={readContext:Hn,use:fl,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};_o.useEffectEvent=Ln;var nf={readContext:Hn,use:fl,useCallback:function(vt,Et){return Zn().memoizedState=[vt,Et===void 0?null:Et],vt},useContext:Hn,useEffect:qh,useImperativeHandle:function(vt,Et,wt){wt=wt!=null?wt.concat([vt]):null,ml(4194308,4,Hh.bind(null,Et,vt),wt)},useLayoutEffect:function(vt,Et){return ml(4194308,4,vt,Et)},useInsertionEffect:function(vt,Et){ml(4,2,vt,Et)},useMemo:function(vt,Et){var wt=Zn();Et=Et===void 0?null:Et;var At=vt();if(ra){Ur(!0);try{vt()}finally{Ur(!1)}}return wt.memoizedState=[At,Et],At},useReducer:function(vt,Et,wt){var At=Zn();if(wt!==void 0){var jt=wt(Et);if(ra){Ur(!0);try{wt(Et)}finally{Ur(!1)}}}else jt=Et;return At.memoizedState=At.baseState=jt,vt={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:jt},At.queue=vt,vt=vt.dispatch=fg.bind(null,en,vt),[At.memoizedState,vt]},useRef:function(vt){var Et=Zn();return vt={current:vt},Et.memoizedState=vt},useState:function(vt){vt=Xc(vt);var Et=vt.queue,wt=ef.bind(null,en,Et);return Et.dispatch=wt,[vt.memoizedState,wt]},useDebugValue:eu,useDeferredValue:function(vt,Et){var wt=Zn();return tu(wt,vt,Et)},useTransition:function(){var vt=Xc(!1);return vt=Zh.bind(null,en,vt.queue,!0,!1),Zn().memoizedState=vt,[!1,vt]},useSyncExternalStore:function(vt,Et,wt){var At=en,jt=Zn();if(un){if(wt===void 0)throw Error(lt(407));wt=wt()}else{if(wt=Et(),Cn===null)throw Error(lt(349));(ln&127)!==0||Sh(At,Et,wt)}jt.memoizedState=wt;var Dt={value:wt,getSnapshot:Et};return jt.queue=Dt,qh(kh.bind(null,At,Dt,vt),[vt]),At.flags|=2048,Pa(9,{destroy:void 0},wh.bind(null,At,Dt,wt,Et),null),wt},useId:function(){var vt=Zn(),Et=Cn.identifierPrefix;if(un){var wt=Bi,At=qi;wt=(At&~(1<<32-qr(At)-1)).toString(32)+wt,Et="_"+Et+"R_"+wt,wt=dl++,0<wt&&(Et+="H"+wt.toString(32)),Et+="_"}else wt=ag++,Et="_"+Et+"r_"+wt.toString(32)+"_";return vt.memoizedState=Et},useHostTransitionStatus:nu,useFormState:Oh,useActionState:Oh,useOptimistic:function(vt){var Et=Zn();Et.memoizedState=Et.baseState=vt;var wt={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Et.queue=wt,Et=iu.bind(null,en,!0,wt),wt.dispatch=Et,[vt,Et]},useMemoCache:Kc,useCacheRefresh:function(){return Zn().memoizedState=hg.bind(null,en)},useEffectEvent:function(vt){var Et=Zn(),wt={impl:vt};return Et.memoizedState=wt,function(){if((mn&2)!==0)throw Error(lt(440));return wt.impl.apply(void 0,arguments)}}},su={readContext:Hn,use:fl,useCallback:Gh,useContext:Hn,useEffect:Jc,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Vh,useMemo:Wh,useReducer:pl,useRef:Fh,useState:function(){return pl(Ji)},useDebugValue:eu,useDeferredValue:function(vt,Et){var wt=Dn();return Kh(wt,vn.memoizedState,vt,Et)},useTransition:function(){var vt=pl(Ji)[0],Et=Dn().memoizedState;return[typeof vt=="boolean"?vt:vo(vt),Et]},useSyncExternalStore:Ch,useId:Qh,useHostTransitionStatus:nu,useFormState:Dh,useActionState:Dh,useOptimistic:function(vt,Et){var wt=Dn();return Ah(wt,vn,vt,Et)},useMemoCache:Kc,useCacheRefresh:Jh};su.useEffectEvent=Bh;var sf={readContext:Hn,use:fl,useCallback:Gh,useContext:Hn,useEffect:Jc,useImperativeHandle:Uh,useInsertionEffect:zh,useLayoutEffect:Vh,useMemo:Wh,useReducer:Yc,useRef:Fh,useState:function(){return Yc(Ji)},useDebugValue:eu,useDeferredValue:function(vt,Et){var wt=Dn();return vn===null?tu(wt,vt,Et):Kh(wt,vn.memoizedState,vt,Et)},useTransition:function(){var vt=Yc(Ji)[0],Et=Dn().memoizedState;return[typeof vt=="boolean"?vt:vo(vt),Et]},useSyncExternalStore:Ch,useId:Qh,useHostTransitionStatus:nu,useFormState:Nh,useActionState:Nh,useOptimistic:function(vt,Et){var wt=Dn();return vn!==null?Ah(wt,vn,vt,Et):(wt.baseState=vt,[vt,wt.queue.dispatch])},useMemoCache:Kc,useCacheRefresh:Jh};sf.useEffectEvent=Bh;function au(vt,Et,wt,At){Et=vt.memoizedState,wt=wt(At,Et),wt=wt==null?Et:yt({},Et,wt),vt.memoizedState=wt,vt.lanes===0&&(vt.updateQueue.baseState=wt)}var ou={enqueueSetState:function(vt,Et,wt){vt=vt._reactInternals;var At=xi(),jt=bs(At);jt.payload=Et,wt!=null&&(jt.callback=wt),Et=_s(vt,jt,At),Et!==null&&(si(Et,vt,At),mo(Et,vt,At))},enqueueReplaceState:function(vt,Et,wt){vt=vt._reactInternals;var At=xi(),jt=bs(At);jt.tag=1,jt.payload=Et,wt!=null&&(jt.callback=wt),Et=_s(vt,jt,At),Et!==null&&(si(Et,vt,At),mo(Et,vt,At))},enqueueForceUpdate:function(vt,Et){vt=vt._reactInternals;var wt=xi(),At=bs(wt);At.tag=2,Et!=null&&(At.callback=Et),Et=_s(vt,At,wt),Et!==null&&(si(Et,vt,wt),mo(Et,vt,wt))}};function af(vt,Et,wt,At,jt,Dt,Yt){return vt=vt.stateNode,typeof vt.shouldComponentUpdate=="function"?vt.shouldComponentUpdate(At,Dt,Yt):Et.prototype&&Et.prototype.isPureReactComponent?!ao(wt,At)||!ao(jt,Dt):!0}function of(vt,Et,wt,At){vt=Et.state,typeof Et.componentWillReceiveProps=="function"&&Et.componentWillReceiveProps(wt,At),typeof Et.UNSAFE_componentWillReceiveProps=="function"&&Et.UNSAFE_componentWillReceiveProps(wt,At),Et.state!==vt&&ou.enqueueReplaceState(Et,Et.state,null)}function na(vt,Et){var wt=Et;if("ref"in Et){wt={};for(var At in Et)At!=="ref"&&(wt[At]=Et[At])}if(vt=vt.defaultProps){wt===Et&&(wt=yt({},wt));for(var jt in vt)wt[jt]===void 0&&(wt[jt]=vt[jt])}return wt}function lf(vt){Zo(vt)}function cf(vt){console.error(vt)}function uf(vt){Zo(vt)}function xl(vt,Et){try{var wt=vt.onUncaughtError;wt(Et.value,{componentStack:Et.stack})}catch(At){setTimeout(function(){throw At})}}function df(vt,Et,wt){try{var At=vt.onCaughtError;At(wt.value,{componentStack:wt.stack,errorBoundary:Et.tag===1?Et.stateNode:null})}catch(jt){setTimeout(function(){throw jt})}}function lu(vt,Et,wt){return wt=bs(wt),wt.tag=3,wt.payload={element:null},wt.callback=function(){xl(vt,Et)},wt}function hf(vt){return vt=bs(vt),vt.tag=3,vt}function ff(vt,Et,wt,At){var jt=wt.type.getDerivedStateFromError;if(typeof jt=="function"){var Dt=At.value;vt.payload=function(){return jt(Dt)},vt.callback=function(){df(Et,wt,At)}}var Yt=wt.stateNode;Yt!==null&&typeof Yt.componentDidCatch=="function"&&(vt.callback=function(){df(Et,wt,At),typeof jt!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var er=At.stack;this.componentDidCatch(At.value,{componentStack:er!==null?er:""})})}function pg(vt,Et,wt,At,jt){if(wt.flags|=32768,At!==null&&typeof At=="object"&&typeof At.then=="function"){if(Et=wt.alternate,Et!==null&&Ca(Et,wt,jt,!0),wt=fi.current,wt!==null){switch(wt.tag){case 31:case 13:return Ti===null?Ml():wt.alternate===null&&jn===0&&(jn=3),wt.flags&=-257,wt.flags|=65536,wt.lanes=jt,At===sl?wt.flags|=16384:(Et=wt.updateQueue,Et===null?wt.updateQueue=new Set([At]):Et.add(At),Lu(vt,At,jt)),!1;case 22:return wt.flags|=65536,At===sl?wt.flags|=16384:(Et=wt.updateQueue,Et===null?(Et={transitions:null,markerInstances:null,retryQueue:new Set([At])},wt.updateQueue=Et):(wt=Et.retryQueue,wt===null?Et.retryQueue=new Set([At]):wt.add(At)),Lu(vt,At,jt)),!1}throw Error(lt(435,wt.tag))}return Lu(vt,At,jt),Ml(),!1}if(un)return Et=fi.current,Et!==null?((Et.flags&65536)===0&&(Et.flags|=256),Et.flags|=65536,Et.lanes=jt,At!==Rc&&(vt=Error(lt(422),{cause:At}),co(Si(vt,wt)))):(At!==Rc&&(Et=Error(lt(423),{cause:At}),co(Si(Et,wt))),vt=vt.current.alternate,vt.flags|=65536,jt&=-jt,vt.lanes|=jt,At=Si(At,wt),jt=lu(vt.stateNode,At,jt),Nc(vt,jt),jn!==4&&(jn=2)),!1;var Dt=Error(lt(520),{cause:At});if(Dt=Si(Dt,wt),Ao===null?Ao=[Dt]:Ao.push(Dt),jn!==4&&(jn=2),Et===null)return!0;At=Si(At,wt),wt=Et;do{switch(wt.tag){case 3:return wt.flags|=65536,vt=jt&-jt,wt.lanes|=vt,vt=lu(wt.stateNode,At,vt),Nc(wt,vt),!1;case 1:if(Et=wt.type,Dt=wt.stateNode,(wt.flags&128)===0&&(typeof Et.getDerivedStateFromError=="function"||Dt!==null&&typeof Dt.componentDidCatch=="function"&&(Rs===null||!Rs.has(Dt))))return wt.flags|=65536,jt&=-jt,wt.lanes|=jt,jt=hf(jt),ff(jt,vt,wt,At),Nc(wt,jt),!1}wt=wt.return}while(wt!==null);return!1}var cu=Error(lt(461)),Fn=!1;function Un(vt,Et,wt,At){Et.child=vt===null?mh(Et,null,wt,At):ta(Et,vt.child,wt,At)}function pf(vt,Et,wt,At,jt){wt=wt.render;var Dt=Et.ref;if("ref"in At){var Yt={};for(var er in At)er!=="ref"&&(Yt[er]=At[er])}else Yt=At;return Xs(Et),At=Hc(vt,Et,wt,Yt,Dt,jt),er=Uc(),vt!==null&&!Fn?(Gc(vt,Et,jt),es(vt,Et,jt)):(un&&er&&wc(Et),Et.flags|=1,Un(vt,Et,At,jt),Et.child)}function mf(vt,Et,wt,At,jt){if(vt===null){var Dt=wt.type;return typeof Dt=="function"&&!Ec(Dt)&&Dt.defaultProps===void 0&&wt.compare===null?(Et.tag=15,Et.type=Dt,gf(vt,Et,Dt,At,jt)):(vt=Jo(wt.type,null,At,Et,Et.mode,jt),vt.ref=Et.ref,vt.return=Et,Et.child=vt)}if(Dt=vt.child,!yu(vt,jt)){var Yt=Dt.memoizedProps;if(wt=wt.compare,wt=wt!==null?wt:ao,wt(Yt,At)&&vt.ref===Et.ref)return es(vt,Et,jt)}return Et.flags|=1,vt=Ki(Dt,At),vt.ref=Et.ref,vt.return=Et,Et.child=vt}function gf(vt,Et,wt,At,jt){if(vt!==null){var Dt=vt.memoizedProps;if(ao(Dt,At)&&vt.ref===Et.ref)if(Fn=!1,Et.pendingProps=At=Dt,yu(vt,jt))(vt.flags&131072)!==0&&(Fn=!0);else return Et.lanes=vt.lanes,es(vt,Et,jt)}return uu(vt,Et,wt,At,jt)}function yf(vt,Et,wt,At){var jt=At.children,Dt=vt!==null?vt.memoizedState:null;if(vt===null&&Et.stateNode===null&&(Et.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),At.mode==="hidden"){if((Et.flags&128)!==0){if(Dt=Dt!==null?Dt.baseLanes|wt:wt,vt!==null){for(At=Et.child=vt.child,jt=0;At!==null;)jt=jt|At.lanes|At.childLanes,At=At.sibling;At=jt&~Dt}else At=0,Et.child=null;return xf(vt,Et,Dt,wt,At)}if((wt&536870912)!==0)Et.memoizedState={baseLanes:0,cachePool:null},vt!==null&&nl(Et,Dt!==null?Dt.cachePool:null),Dt!==null?xh(Et,Dt):qc(),bh(Et);else return At=Et.lanes=536870912,xf(vt,Et,Dt!==null?Dt.baseLanes|wt:wt,wt,At)}else Dt!==null?(nl(Et,Dt.cachePool),xh(Et,Dt),Cs(),Et.memoizedState=null):(vt!==null&&nl(Et,null),qc(),Cs());return Un(vt,Et,jt,wt),Et.child}function Eo(vt,Et){return vt!==null&&vt.tag===22||Et.stateNode!==null||(Et.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Et.sibling}function xf(vt,Et,wt,At,jt){var Dt=jc();return Dt=Dt===null?null:{parent:$n._currentValue,pool:Dt},Et.memoizedState={baseLanes:wt,cachePool:Dt},vt!==null&&nl(Et,null),qc(),bh(Et),vt!==null&&Ca(vt,Et,At,!0),Et.childLanes=jt,null}function vl(vt,Et){return Et=_l({mode:Et.mode,children:Et.children},vt.mode),Et.ref=vt.ref,vt.child=Et,Et.return=vt,Et}function vf(vt,Et,wt){return ta(Et,vt.child,null,wt),vt=vl(Et,Et.pendingProps),vt.flags|=2,mi(Et),Et.memoizedState=null,vt}function mg(vt,Et,wt){var At=Et.pendingProps,jt=(Et.flags&128)!==0;if(Et.flags&=-129,vt===null){if(un){if(At.mode==="hidden")return vt=vl(Et,At),Et.lanes=536870912,Eo(null,vt);if(zc(Et),(vt=wn)?(vt=jp(vt,Ri),vt=vt!==null&&vt.data==="&"?vt:null,vt!==null&&(Et.memoizedState={dehydrated:vt,treeContext:ms!==null?{id:qi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},wt=eh(vt),wt.return=Et,Et.child=wt,Vn=Et,wn=null)):vt=null,vt===null)throw ys(Et);return Et.lanes=536870912,null}return vl(Et,At)}var Dt=vt.memoizedState;if(Dt!==null){var Yt=Dt.dehydrated;if(zc(Et),jt)if(Et.flags&256)Et.flags&=-257,Et=vf(vt,Et,wt);else if(Et.memoizedState!==null)Et.child=vt.child,Et.flags|=128,Et=null;else throw Error(lt(558));else if(Fn||Ca(vt,Et,wt,!1),jt=(wt&vt.childLanes)!==0,Fn||jt){if(At=Cn,At!==null&&(Yt=ds(At,wt),Yt!==0&&Yt!==Dt.retryLane))throw Dt.retryLane=Yt,Ws(vt,Yt),si(At,vt,Yt),cu;Ml(),Et=vf(vt,Et,wt)}else vt=Dt.treeContext,wn=Ai(Yt.nextSibling),Vn=Et,un=!0,gs=null,Ri=!1,vt!==null&&nh(Et,vt),Et=vl(Et,At),Et.flags|=4096;return Et}return vt=Ki(vt.child,{mode:At.mode,children:At.children}),vt.ref=Et.ref,Et.child=vt,vt.return=Et,vt}function bl(vt,Et){var wt=Et.ref;if(wt===null)vt!==null&&vt.ref!==null&&(Et.flags|=4194816);else{if(typeof wt!="function"&&typeof wt!="object")throw Error(lt(284));(vt===null||vt.ref!==wt)&&(Et.flags|=4194816)}}function uu(vt,Et,wt,At,jt){return Xs(Et),wt=Hc(vt,Et,wt,At,void 0,jt),At=Uc(),vt!==null&&!Fn?(Gc(vt,Et,jt),es(vt,Et,jt)):(un&&At&&wc(Et),Et.flags|=1,Un(vt,Et,wt,jt),Et.child)}function bf(vt,Et,wt,At,jt,Dt){return Xs(Et),Et.updateQueue=null,wt=Eh(Et,At,wt,jt),_h(vt),At=Uc(),vt!==null&&!Fn?(Gc(vt,Et,Dt),es(vt,Et,Dt)):(un&&At&&wc(Et),Et.flags|=1,Un(vt,Et,wt,Dt),Et.child)}function _f(vt,Et,wt,At,jt){if(Xs(Et),Et.stateNode===null){var Dt=xa,Yt=wt.contextType;typeof Yt=="object"&&Yt!==null&&(Dt=Hn(Yt)),Dt=new wt(At,Dt),Et.memoizedState=Dt.state!==null&&Dt.state!==void 0?Dt.state:null,Dt.updater=ou,Et.stateNode=Dt,Dt._reactInternals=Et,Dt=Et.stateNode,Dt.props=At,Dt.state=Et.memoizedState,Dt.refs={},Dc(Et),Yt=wt.contextType,Dt.context=typeof Yt=="object"&&Yt!==null?Hn(Yt):xa,Dt.state=Et.memoizedState,Yt=wt.getDerivedStateFromProps,typeof Yt=="function"&&(au(Et,wt,Yt,At),Dt.state=Et.memoizedState),typeof wt.getDerivedStateFromProps=="function"||typeof Dt.getSnapshotBeforeUpdate=="function"||typeof Dt.UNSAFE_componentWillMount!="function"&&typeof Dt.componentWillMount!="function"||(Yt=Dt.state,typeof Dt.componentWillMount=="function"&&Dt.componentWillMount(),typeof Dt.UNSAFE_componentWillMount=="function"&&Dt.UNSAFE_componentWillMount(),Yt!==Dt.state&&ou.enqueueReplaceState(Dt,Dt.state,null),yo(Et,At,Dt,jt),go(),Dt.state=Et.memoizedState),typeof Dt.componentDidMount=="function"&&(Et.flags|=4194308),At=!0}else if(vt===null){Dt=Et.stateNode;var er=Et.memoizedProps,sr=na(wt,er);Dt.props=sr;var mr=Dt.context,Sr=wt.contextType;Yt=xa,typeof Sr=="object"&&Sr!==null&&(Yt=Hn(Sr));var kr=wt.getDerivedStateFromProps;Sr=typeof kr=="function"||typeof Dt.getSnapshotBeforeUpdate=="function",er=Et.pendingProps!==er,Sr||typeof Dt.UNSAFE_componentWillReceiveProps!="function"&&typeof Dt.componentWillReceiveProps!="function"||(er||mr!==Yt)&&of(Et,Dt,At,Yt),vs=!1;var gr=Et.memoizedState;Dt.state=gr,yo(Et,At,Dt,jt),go(),mr=Et.memoizedState,er||gr!==mr||vs?(typeof kr=="function"&&(au(Et,wt,kr,At),mr=Et.memoizedState),(sr=vs||af(Et,wt,sr,At,gr,mr,Yt))?(Sr||typeof Dt.UNSAFE_componentWillMount!="function"&&typeof Dt.componentWillMount!="function"||(typeof Dt.componentWillMount=="function"&&Dt.componentWillMount(),typeof Dt.UNSAFE_componentWillMount=="function"&&Dt.UNSAFE_componentWillMount()),typeof Dt.componentDidMount=="function"&&(Et.flags|=4194308)):(typeof Dt.componentDidMount=="function"&&(Et.flags|=4194308),Et.memoizedProps=At,Et.memoizedState=mr),Dt.props=At,Dt.state=mr,Dt.context=Yt,At=sr):(typeof Dt.componentDidMount=="function"&&(Et.flags|=4194308),At=!1)}else{Dt=Et.stateNode,$c(vt,Et),Yt=Et.memoizedProps,Sr=na(wt,Yt),Dt.props=Sr,kr=Et.pendingProps,gr=Dt.context,mr=wt.contextType,sr=xa,typeof mr=="object"&&mr!==null&&(sr=Hn(mr)),er=wt.getDerivedStateFromProps,(mr=typeof er=="function"||typeof Dt.getSnapshotBeforeUpdate=="function")||typeof Dt.UNSAFE_componentWillReceiveProps!="function"&&typeof Dt.componentWillReceiveProps!="function"||(Yt!==kr||gr!==sr)&&of(Et,Dt,At,sr),vs=!1,gr=Et.memoizedState,Dt.state=gr,yo(Et,At,Dt,jt),go();var vr=Et.memoizedState;Yt!==kr||gr!==vr||vs||vt!==null&&vt.dependencies!==null&&tl(vt.dependencies)?(typeof er=="function"&&(au(Et,wt,er,At),vr=Et.memoizedState),(Sr=vs||af(Et,wt,Sr,At,gr,vr,sr)||vt!==null&&vt.dependencies!==null&&tl(vt.dependencies))?(mr||typeof Dt.UNSAFE_componentWillUpdate!="function"&&typeof Dt.componentWillUpdate!="function"||(typeof Dt.componentWillUpdate=="function"&&Dt.componentWillUpdate(At,vr,sr),typeof Dt.UNSAFE_componentWillUpdate=="function"&&Dt.UNSAFE_componentWillUpdate(At,vr,sr)),typeof Dt.componentDidUpdate=="function"&&(Et.flags|=4),typeof Dt.getSnapshotBeforeUpdate=="function"&&(Et.flags|=1024)):(typeof Dt.componentDidUpdate!="function"||Yt===vt.memoizedProps&&gr===vt.memoizedState||(Et.flags|=4),typeof Dt.getSnapshotBeforeUpdate!="function"||Yt===vt.memoizedProps&&gr===vt.memoizedState||(Et.flags|=1024),Et.memoizedProps=At,Et.memoizedState=vr),Dt.props=At,Dt.state=vr,Dt.context=sr,At=Sr):(typeof Dt.componentDidUpdate!="function"||Yt===vt.memoizedProps&&gr===vt.memoizedState||(Et.flags|=4),typeof Dt.getSnapshotBeforeUpdate!="function"||Yt===vt.memoizedProps&&gr===vt.memoizedState||(Et.flags|=1024),At=!1)}return Dt=At,bl(vt,Et),At=(Et.flags&128)!==0,Dt||At?(Dt=Et.stateNode,wt=At&&typeof wt.getDerivedStateFromError!="function"?null:Dt.render(),Et.flags|=1,vt!==null&&At?(Et.child=ta(Et,vt.child,null,jt),Et.child=ta(Et,null,wt,jt)):Un(vt,Et,wt,jt),Et.memoizedState=Dt.state,vt=Et.child):vt=es(vt,Et,jt),vt}function Ef(vt,Et,wt,At){return Zs(),Et.flags|=256,Un(vt,Et,wt,At),Et.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(vt){return{baseLanes:vt,cachePool:ch()}}function fu(vt,Et,wt){return vt=vt!==null?vt.childLanes&~wt:0,Et&&(vt|=yi),vt}function Cf(vt,Et,wt){var At=Et.pendingProps,jt=!1,Dt=(Et.flags&128)!==0,Yt;if((Yt=Dt)||(Yt=vt!==null&&vt.memoizedState===null?!1:(On.current&2)!==0),Yt&&(jt=!0,Et.flags&=-129),Yt=(Et.flags&32)!==0,Et.flags&=-33,vt===null){if(un){if(jt?Es(Et):Cs(),(vt=wn)?(vt=jp(vt,Ri),vt=vt!==null&&vt.data!=="&"?vt:null,vt!==null&&(Et.memoizedState={dehydrated:vt,treeContext:ms!==null?{id:qi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},wt=eh(vt),wt.return=Et,Et.child=wt,Vn=Et,wn=null)):vt=null,vt===null)throw ys(Et);return Zu(vt)?Et.lanes=32:Et.lanes=536870912,null}var er=At.children;return At=At.fallback,jt?(Cs(),jt=Et.mode,er=_l({mode:"hidden",children:er},jt),At=Ks(At,jt,wt,null),er.return=Et,At.return=Et,er.sibling=At,Et.child=er,At=Et.child,At.memoizedState=hu(wt),At.childLanes=fu(vt,Yt,wt),Et.memoizedState=du,Eo(null,At)):(Es(Et),pu(Et,er))}var sr=vt.memoizedState;if(sr!==null&&(er=sr.dehydrated,er!==null)){if(Dt)Et.flags&256?(Es(Et),Et.flags&=-257,Et=mu(vt,Et,wt)):Et.memoizedState!==null?(Cs(),Et.child=vt.child,Et.flags|=128,Et=null):(Cs(),er=At.fallback,jt=Et.mode,At=_l({mode:"visible",children:At.children},jt),er=Ks(er,jt,wt,null),er.flags|=2,At.return=Et,er.return=Et,At.sibling=er,Et.child=At,ta(Et,vt.child,null,wt),At=Et.child,At.memoizedState=hu(wt),At.childLanes=fu(vt,Yt,wt),Et.memoizedState=du,Et=Eo(null,At));else if(Es(Et),Zu(er)){if(Yt=er.nextSibling&&er.nextSibling.dataset,Yt)var mr=Yt.dgst;Yt=mr,At=Error(lt(419)),At.stack="",At.digest=Yt,co({value:At,source:null,stack:null}),Et=mu(vt,Et,wt)}else if(Fn||Ca(vt,Et,wt,!1),Yt=(wt&vt.childLanes)!==0,Fn||Yt){if(Yt=Cn,Yt!==null&&(At=ds(Yt,wt),At!==0&&At!==sr.retryLane))throw sr.retryLane=At,Ws(vt,At),si(Yt,vt,At),cu;Ku(er)||Ml(),Et=mu(vt,Et,wt)}else Ku(er)?(Et.flags|=192,Et.child=vt.child,Et=null):(vt=sr.treeContext,wn=Ai(er.nextSibling),Vn=Et,un=!0,gs=null,Ri=!1,vt!==null&&nh(Et,vt),Et=pu(Et,At.children),Et.flags|=4096);return Et}return jt?(Cs(),er=At.fallback,jt=Et.mode,sr=vt.child,mr=sr.sibling,At=Ki(sr,{mode:"hidden",children:At.children}),At.subtreeFlags=sr.subtreeFlags&65011712,mr!==null?er=Ki(mr,er):(er=Ks(er,jt,wt,null),er.flags|=2),er.return=Et,At.return=Et,At.sibling=er,Et.child=At,Eo(null,At),At=Et.child,er=vt.child.memoizedState,er===null?er=hu(wt):(jt=er.cachePool,jt!==null?(sr=$n._currentValue,jt=jt.parent!==sr?{parent:sr,pool:sr}:jt):jt=ch(),er={baseLanes:er.baseLanes|wt,cachePool:jt}),At.memoizedState=er,At.childLanes=fu(vt,Yt,wt),Et.memoizedState=du,Eo(vt.child,At)):(Es(Et),wt=vt.child,vt=wt.sibling,wt=Ki(wt,{mode:"visible",children:At.children}),wt.return=Et,wt.sibling=null,vt!==null&&(Yt=Et.deletions,Yt===null?(Et.deletions=[vt],Et.flags|=16):Yt.push(vt)),Et.child=wt,Et.memoizedState=null,wt)}function pu(vt,Et){return Et=_l({mode:"visible",children:Et},vt.mode),Et.return=vt,vt.child=Et}function _l(vt,Et){return vt=hi(22,vt,null,Et),vt.lanes=0,vt}function mu(vt,Et,wt){return ta(Et,vt.child,null,wt),vt=pu(Et,Et.pendingProps.children),vt.flags|=2,Et.memoizedState=null,vt}function Sf(vt,Et,wt){vt.lanes|=Et;var At=vt.alternate;At!==null&&(At.lanes|=Et),Mc(vt.return,Et,wt)}function gu(vt,Et,wt,At,jt,Dt){var Yt=vt.memoizedState;Yt===null?vt.memoizedState={isBackwards:Et,rendering:null,renderingStartTime:0,last:At,tail:wt,tailMode:jt,treeForkCount:Dt}:(Yt.isBackwards=Et,Yt.rendering=null,Yt.renderingStartTime=0,Yt.last=At,Yt.tail=wt,Yt.tailMode=jt,Yt.treeForkCount=Dt)}function wf(vt,Et,wt){var At=Et.pendingProps,jt=At.revealOrder,Dt=At.tail;At=At.children;var Yt=On.current,er=(Yt&2)!==0;if(er?(Yt=Yt&1|2,Et.flags|=128):Yt&=1,Bt(On,Yt),Un(vt,Et,At,wt),At=un?lo:0,!er&&vt!==null&&(vt.flags&128)!==0)e:for(vt=Et.child;vt!==null;){if(vt.tag===13)vt.memoizedState!==null&&Sf(vt,wt,Et);else if(vt.tag===19)Sf(vt,wt,Et);else if(vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===Et)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===Et)break e;vt=vt.return}vt.sibling.return=vt.return,vt=vt.sibling}switch(jt){case"forwards":for(wt=Et.child,jt=null;wt!==null;)vt=wt.alternate,vt!==null&&cl(vt)===null&&(jt=wt),wt=wt.sibling;wt=jt,wt===null?(jt=Et.child,Et.child=null):(jt=wt.sibling,wt.sibling=null),gu(Et,!1,jt,wt,Dt,At);break;case"backwards":case"unstable_legacy-backwards":for(wt=null,jt=Et.child,Et.child=null;jt!==null;){if(vt=jt.alternate,vt!==null&&cl(vt)===null){Et.child=jt;break}vt=jt.sibling,jt.sibling=wt,wt=jt,jt=vt}gu(Et,!0,wt,null,Dt,At);break;case"together":gu(Et,!1,null,null,void 0,At);break;default:Et.memoizedState=null}return Et.child}function es(vt,Et,wt){if(vt!==null&&(Et.dependencies=vt.dependencies),ks|=Et.lanes,(wt&Et.childLanes)===0)if(vt!==null){if(Ca(vt,Et,wt,!1),(wt&Et.childLanes)===0)return null}else return null;if(vt!==null&&Et.child!==vt.child)throw Error(lt(153));if(Et.child!==null){for(vt=Et.child,wt=Ki(vt,vt.pendingProps),Et.child=wt,wt.return=Et;vt.sibling!==null;)vt=vt.sibling,wt=wt.sibling=Ki(vt,vt.pendingProps),wt.return=Et;wt.sibling=null}return Et.child}function yu(vt,Et){return(vt.lanes&Et)!==0?!0:(vt=vt.dependencies,!!(vt!==null&&tl(vt)))}function gg(vt,Et,wt){switch(Et.tag){case 3:ar(Et,Et.stateNode.containerInfo),xs(Et,$n,vt.memoizedState.cache),Zs();break;case 27:case 5:dr(Et);break;case 4:ar(Et,Et.stateNode.containerInfo);break;case 10:xs(Et,Et.type,Et.memoizedProps.value);break;case 31:if(Et.memoizedState!==null)return Et.flags|=128,zc(Et),null;break;case 13:var At=Et.memoizedState;if(At!==null)return At.dehydrated!==null?(Es(Et),Et.flags|=128,null):(wt&Et.child.childLanes)!==0?Cf(vt,Et,wt):(Es(Et),vt=es(vt,Et,wt),vt!==null?vt.sibling:null);Es(Et);break;case 19:var jt=(vt.flags&128)!==0;if(At=(wt&Et.childLanes)!==0,At||(Ca(vt,Et,wt,!1),At=(wt&Et.childLanes)!==0),jt){if(At)return wf(vt,Et,wt);Et.flags|=128}if(jt=Et.memoizedState,jt!==null&&(jt.rendering=null,jt.tail=null,jt.lastEffect=null),Bt(On,On.current),At)break;return null;case 22:return Et.lanes=0,yf(vt,Et,wt,Et.pendingProps);case 24:xs(Et,$n,vt.memoizedState.cache)}return es(vt,Et,wt)}function kf(vt,Et,wt){if(vt!==null)if(vt.memoizedProps!==Et.pendingProps)Fn=!0;else{if(!yu(vt,wt)&&(Et.flags&128)===0)return Fn=!1,gg(vt,Et,wt);Fn=(vt.flags&131072)!==0}else Fn=!1,un&&(Et.flags&1048576)!==0&&rh(Et,lo,Et.index);switch(Et.lanes=0,Et.tag){case 16:e:{var At=Et.pendingProps;if(vt=Js(Et.elementType),Et.type=vt,typeof vt=="function")Ec(vt)?(At=na(vt,At),Et.tag=1,Et=_f(null,Et,vt,At,wt)):(Et.tag=0,Et=uu(null,Et,vt,At,wt));else{if(vt!=null){var jt=vt.$$typeof;if(jt===Mt){Et.tag=11,Et=pf(null,Et,vt,At,wt);break e}else if(jt===Lt){Et.tag=14,Et=mf(null,Et,vt,At,wt);break e}}throw Et=Zt(vt)||vt,Error(lt(306,Et,""))}}return Et;case 0:return uu(vt,Et,Et.type,Et.pendingProps,wt);case 1:return At=Et.type,jt=na(At,Et.pendingProps),_f(vt,Et,At,jt,wt);case 3:e:{if(ar(Et,Et.stateNode.containerInfo),vt===null)throw Error(lt(387));At=Et.pendingProps;var Dt=Et.memoizedState;jt=Dt.element,$c(vt,Et),yo(Et,At,null,wt);var Yt=Et.memoizedState;if(At=Yt.cache,xs(Et,$n,At),At!==Dt.cache&&Pc(Et,[$n],wt,!0),go(),At=Yt.element,Dt.isDehydrated)if(Dt={element:At,isDehydrated:!1,cache:Yt.cache},Et.updateQueue.baseState=Dt,Et.memoizedState=Dt,Et.flags&256){Et=Ef(vt,Et,At,wt);break e}else if(At!==jt){jt=Si(Error(lt(424)),Et),co(jt),Et=Ef(vt,Et,At,wt);break e}else{switch(vt=Et.stateNode.containerInfo,vt.nodeType){case 9:vt=vt.body;break;default:vt=vt.nodeName==="HTML"?vt.ownerDocument.body:vt}for(wn=Ai(vt.firstChild),Vn=Et,un=!0,gs=null,Ri=!0,wt=mh(Et,null,At,wt),Et.child=wt;wt;)wt.flags=wt.flags&-3|4096,wt=wt.sibling}else{if(Zs(),At===jt){Et=es(vt,Et,wt);break e}Un(vt,Et,At,wt)}Et=Et.child}return Et;case 26:return bl(vt,Et),vt===null?(wt=qp(Et.type,null,Et.pendingProps,null))?Et.memoizedState=wt:un||(wt=Et.type,vt=Et.pendingProps,At=$l(Jt.current).createElement(wt),At[Pn]=Et,At[Sn]=vt,Gn(At,wt,vt),Pr(At),Et.stateNode=At):Et.memoizedState=qp(Et.type,vt.memoizedProps,Et.pendingProps,vt.memoizedState),null;case 27:return dr(Et),vt===null&&un&&(At=Et.stateNode=$p(Et.type,Et.pendingProps,Jt.current),Vn=Et,Ri=!0,jt=wn,Ps(Et.type)?(Yu=jt,wn=Ai(At.firstChild)):wn=jt),Un(vt,Et,Et.pendingProps.children,wt),bl(vt,Et),vt===null&&(Et.flags|=4194304),Et.child;case 5:return vt===null&&un&&((jt=At=wn)&&(At=Gg(At,Et.type,Et.pendingProps,Ri),At!==null?(Et.stateNode=At,Vn=Et,wn=Ai(At.firstChild),Ri=!1,jt=!0):jt=!1),jt||ys(Et)),dr(Et),jt=Et.type,Dt=Et.pendingProps,Yt=vt!==null?vt.memoizedProps:null,At=Dt.children,Uu(jt,Dt)?At=null:Yt!==null&&Uu(jt,Yt)&&(Et.flags|=32),Et.memoizedState!==null&&(jt=Hc(vt,Et,og,null,null,wt),$o._currentValue=jt),bl(vt,Et),Un(vt,Et,At,wt),Et.child;case 6:return vt===null&&un&&((vt=wt=wn)&&(wt=Wg(wt,Et.pendingProps,Ri),wt!==null?(Et.stateNode=wt,Vn=Et,wn=null,vt=!0):vt=!1),vt||ys(Et)),null;case 13:return Cf(vt,Et,wt);case 4:return ar(Et,Et.stateNode.containerInfo),At=Et.pendingProps,vt===null?Et.child=ta(Et,null,At,wt):Un(vt,Et,At,wt),Et.child;case 11:return pf(vt,Et,Et.type,Et.pendingProps,wt);case 7:return Un(vt,Et,Et.pendingProps,wt),Et.child;case 8:return Un(vt,Et,Et.pendingProps.children,wt),Et.child;case 12:return Un(vt,Et,Et.pendingProps.children,wt),Et.child;case 10:return At=Et.pendingProps,xs(Et,Et.type,At.value),Un(vt,Et,At.children,wt),Et.child;case 9:return jt=Et.type._context,At=Et.pendingProps.children,Xs(Et),jt=Hn(jt),At=At(jt),Et.flags|=1,Un(vt,Et,At,wt),Et.child;case 14:return mf(vt,Et,Et.type,Et.pendingProps,wt);case 15:return gf(vt,Et,Et.type,Et.pendingProps,wt);case 19:return wf(vt,Et,wt);case 31:return mg(vt,Et,wt);case 22:return yf(vt,Et,wt,Et.pendingProps);case 24:return Xs(Et),At=Hn($n),vt===null?(jt=jc(),jt===null&&(jt=Cn,Dt=Ic(),jt.pooledCache=Dt,Dt.refCount++,Dt!==null&&(jt.pooledCacheLanes|=wt),jt=Dt),Et.memoizedState={parent:At,cache:jt},Dc(Et),xs(Et,$n,jt)):((vt.lanes&wt)!==0&&($c(vt,Et),yo(Et,null,null,wt),go()),jt=vt.memoizedState,Dt=Et.memoizedState,jt.parent!==At?(jt={parent:At,cache:At},Et.memoizedState=jt,Et.lanes===0&&(Et.memoizedState=Et.updateQueue.baseState=jt),xs(Et,$n,At)):(At=Dt.cache,xs(Et,$n,At),At!==jt.cache&&Pc(Et,[$n],wt,!0))),Un(vt,Et,Et.pendingProps.children,wt),Et.child;case 29:throw Et.pendingProps}throw Error(lt(156,Et.tag))}function ts(vt){vt.flags|=4}function xu(vt,Et,wt,At,jt){if((Et=(vt.mode&32)!==0)&&(Et=!1),Et){if(vt.flags|=16777216,(jt&335544128)===jt)if(vt.stateNode.complete)vt.flags|=8192;else if(Jf())vt.flags|=8192;else throw ea=sl,Oc}else vt.flags&=-16777217}function Rf(vt,Et){if(Et.type!=="stylesheet"||(Et.state.loading&4)!==0)vt.flags&=-16777217;else if(vt.flags|=16777216,!Up(Et))if(Jf())vt.flags|=8192;else throw ea=sl,Oc}function El(vt,Et){Et!==null&&(vt.flags|=4),vt.flags&16384&&(Et=vt.tag!==22?Qn():536870912,vt.lanes|=Et,Oa|=Et)}function Co(vt,Et){if(!un)switch(vt.tailMode){case"hidden":Et=vt.tail;for(var wt=null;Et!==null;)Et.alternate!==null&&(wt=Et),Et=Et.sibling;wt===null?vt.tail=null:wt.sibling=null;break;case"collapsed":wt=vt.tail;for(var At=null;wt!==null;)wt.alternate!==null&&(At=wt),wt=wt.sibling;At===null?Et||vt.tail===null?vt.tail=null:vt.tail.sibling=null:At.sibling=null}}function kn(vt){var Et=vt.alternate!==null&&vt.alternate.child===vt.child,wt=0,At=0;if(Et)for(var jt=vt.child;jt!==null;)wt|=jt.lanes|jt.childLanes,At|=jt.subtreeFlags&65011712,At|=jt.flags&65011712,jt.return=vt,jt=jt.sibling;else for(jt=vt.child;jt!==null;)wt|=jt.lanes|jt.childLanes,At|=jt.subtreeFlags,At|=jt.flags,jt.return=vt,jt=jt.sibling;return vt.subtreeFlags|=At,vt.childLanes=wt,Et}function yg(vt,Et,wt){var At=Et.pendingProps;switch(kc(Et),Et.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(Et),null;case 1:return kn(Et),null;case 3:return wt=Et.stateNode,At=null,vt!==null&&(At=vt.memoizedState.cache),Et.memoizedState.cache!==At&&(Et.flags|=2048),Xi($n),cr(),wt.pendingContext&&(wt.context=wt.pendingContext,wt.pendingContext=null),(vt===null||vt.child===null)&&(Ea(Et)?ts(Et):vt===null||vt.memoizedState.isDehydrated&&(Et.flags&256)===0||(Et.flags|=1024,Tc())),kn(Et),null;case 26:var jt=Et.type,Dt=Et.memoizedState;return vt===null?(ts(Et),Dt!==null?(kn(Et),Rf(Et,Dt)):(kn(Et),xu(Et,jt,null,At,wt))):Dt?Dt!==vt.memoizedState?(ts(Et),kn(Et),Rf(Et,Dt)):(kn(Et),Et.flags&=-16777217):(vt=vt.memoizedProps,vt!==At&&ts(Et),kn(Et),xu(Et,jt,vt,At,wt)),null;case 27:if(xr(Et),wt=Jt.current,jt=Et.type,vt!==null&&Et.stateNode!=null)vt.memoizedProps!==At&&ts(Et);else{if(!At){if(Et.stateNode===null)throw Error(lt(166));return kn(Et),null}vt=nr.current,Ea(Et)?ih(Et):(vt=$p(jt,At,wt),Et.stateNode=vt,ts(Et))}return kn(Et),null;case 5:if(xr(Et),jt=Et.type,vt!==null&&Et.stateNode!=null)vt.memoizedProps!==At&&ts(Et);else{if(!At){if(Et.stateNode===null)throw Error(lt(166));return kn(Et),null}if(Dt=nr.current,Ea(Et))ih(Et);else{var Yt=$l(Jt.current);switch(Dt){case 1:Dt=Yt.createElementNS("http://www.w3.org/2000/svg",jt);break;case 2:Dt=Yt.createElementNS("http://www.w3.org/1998/Math/MathML",jt);break;default:switch(jt){case"svg":Dt=Yt.createElementNS("http://www.w3.org/2000/svg",jt);break;case"math":Dt=Yt.createElementNS("http://www.w3.org/1998/Math/MathML",jt);break;case"script":Dt=Yt.createElement("div"),Dt.innerHTML="<script><\/script>",Dt=Dt.removeChild(Dt.firstChild);break;case"select":Dt=typeof At.is=="string"?Yt.createElement("select",{is:At.is}):Yt.createElement("select"),At.multiple?Dt.multiple=!0:At.size&&(Dt.size=At.size);break;default:Dt=typeof At.is=="string"?Yt.createElement(jt,{is:At.is}):Yt.createElement(jt)}}Dt[Pn]=Et,Dt[Sn]=At;e:for(Yt=Et.child;Yt!==null;){if(Yt.tag===5||Yt.tag===6)Dt.appendChild(Yt.stateNode);else if(Yt.tag!==4&&Yt.tag!==27&&Yt.child!==null){Yt.child.return=Yt,Yt=Yt.child;continue}if(Yt===Et)break e;for(;Yt.sibling===null;){if(Yt.return===null||Yt.return===Et)break e;Yt=Yt.return}Yt.sibling.return=Yt.return,Yt=Yt.sibling}Et.stateNode=Dt;e:switch(Gn(Dt,jt,At),jt){case"button":case"input":case"select":case"textarea":At=!!At.autoFocus;break e;case"img":At=!0;break e;default:At=!1}At&&ts(Et)}}return kn(Et),xu(Et,Et.type,vt===null?null:vt.memoizedProps,Et.pendingProps,wt),null;case 6:if(vt&&Et.stateNode!=null)vt.memoizedProps!==At&&ts(Et);else{if(typeof At!="string"&&Et.stateNode===null)throw Error(lt(166));if(vt=Jt.current,Ea(Et)){if(vt=Et.stateNode,wt=Et.memoizedProps,At=null,jt=Vn,jt!==null)switch(jt.tag){case 27:case 5:At=jt.memoizedProps}vt[Pn]=Et,vt=!!(vt.nodeValue===wt||At!==null&&At.suppressHydrationWarning===!0||kp(vt.nodeValue,wt)),vt||ys(Et,!0)}else vt=$l(vt).createTextNode(At),vt[Pn]=Et,Et.stateNode=vt}return kn(Et),null;case 31:if(wt=Et.memoizedState,vt===null||vt.memoizedState!==null){if(At=Ea(Et),wt!==null){if(vt===null){if(!At)throw Error(lt(318));if(vt=Et.memoizedState,vt=vt!==null?vt.dehydrated:null,!vt)throw Error(lt(557));vt[Pn]=Et}else Zs(),(Et.flags&128)===0&&(Et.memoizedState=null),Et.flags|=4;kn(Et),vt=!1}else wt=Tc(),vt!==null&&vt.memoizedState!==null&&(vt.memoizedState.hydrationErrors=wt),vt=!0;if(!vt)return Et.flags&256?(mi(Et),Et):(mi(Et),null);if((Et.flags&128)!==0)throw Error(lt(558))}return kn(Et),null;case 13:if(At=Et.memoizedState,vt===null||vt.memoizedState!==null&&vt.memoizedState.dehydrated!==null){if(jt=Ea(Et),At!==null&&At.dehydrated!==null){if(vt===null){if(!jt)throw Error(lt(318));if(jt=Et.memoizedState,jt=jt!==null?jt.dehydrated:null,!jt)throw Error(lt(317));jt[Pn]=Et}else Zs(),(Et.flags&128)===0&&(Et.memoizedState=null),Et.flags|=4;kn(Et),jt=!1}else jt=Tc(),vt!==null&&vt.memoizedState!==null&&(vt.memoizedState.hydrationErrors=jt),jt=!0;if(!jt)return Et.flags&256?(mi(Et),Et):(mi(Et),null)}return mi(Et),(Et.flags&128)!==0?(Et.lanes=wt,Et):(wt=At!==null,vt=vt!==null&&vt.memoizedState!==null,wt&&(At=Et.child,jt=null,At.alternate!==null&&At.alternate.memoizedState!==null&&At.alternate.memoizedState.cachePool!==null&&(jt=At.alternate.memoizedState.cachePool.pool),Dt=null,At.memoizedState!==null&&At.memoizedState.cachePool!==null&&(Dt=At.memoizedState.cachePool.pool),Dt!==jt&&(At.flags|=2048)),wt!==vt&&wt&&(Et.child.flags|=8192),El(Et,Et.updateQueue),kn(Et),null);case 4:return cr(),vt===null&&qu(Et.stateNode.containerInfo),kn(Et),null;case 10:return Xi(Et.type),kn(Et),null;case 19:if(Xt(On),At=Et.memoizedState,At===null)return kn(Et),null;if(jt=(Et.flags&128)!==0,Dt=At.rendering,Dt===null)if(jt)Co(At,!1);else{if(jn!==0||vt!==null&&(vt.flags&128)!==0)for(vt=Et.child;vt!==null;){if(Dt=cl(vt),Dt!==null){for(Et.flags|=128,Co(At,!1),vt=Dt.updateQueue,Et.updateQueue=vt,El(Et,vt),Et.subtreeFlags=0,vt=wt,wt=Et.child;wt!==null;)Jd(wt,vt),wt=wt.sibling;return Bt(On,On.current&1|2),un&&Zi(Et,At.treeForkCount),Et.child}vt=vt.sibling}At.tail!==null&&Zr()>Rl&&(Et.flags|=128,jt=!0,Co(At,!1),Et.lanes=4194304)}else{if(!jt)if(vt=cl(Dt),vt!==null){if(Et.flags|=128,jt=!0,vt=vt.updateQueue,Et.updateQueue=vt,El(Et,vt),Co(At,!0),At.tail===null&&At.tailMode==="hidden"&&!Dt.alternate&&!un)return kn(Et),null}else 2*Zr()-At.renderingStartTime>Rl&&wt!==536870912&&(Et.flags|=128,jt=!0,Co(At,!1),Et.lanes=4194304);At.isBackwards?(Dt.sibling=Et.child,Et.child=Dt):(vt=At.last,vt!==null?vt.sibling=Dt:Et.child=Dt,At.last=Dt)}return At.tail!==null?(vt=At.tail,At.rendering=vt,At.tail=vt.sibling,At.renderingStartTime=Zr(),vt.sibling=null,wt=On.current,Bt(On,jt?wt&1|2:wt&1),un&&Zi(Et,At.treeForkCount),vt):(kn(Et),null);case 22:case 23:return mi(Et),Bc(),At=Et.memoizedState!==null,vt!==null?vt.memoizedState!==null!==At&&(Et.flags|=8192):At&&(Et.flags|=8192),At?(wt&536870912)!==0&&(Et.flags&128)===0&&(kn(Et),Et.subtreeFlags&6&&(Et.flags|=8192)):kn(Et),wt=Et.updateQueue,wt!==null&&El(Et,wt.retryQueue),wt=null,vt!==null&&vt.memoizedState!==null&&vt.memoizedState.cachePool!==null&&(wt=vt.memoizedState.cachePool.pool),At=null,Et.memoizedState!==null&&Et.memoizedState.cachePool!==null&&(At=Et.memoizedState.cachePool.pool),At!==wt&&(Et.flags|=2048),vt!==null&&Xt(Qs),null;case 24:return wt=null,vt!==null&&(wt=vt.memoizedState.cache),Et.memoizedState.cache!==wt&&(Et.flags|=2048),Xi($n),kn(Et),null;case 25:return null;case 30:return null}throw Error(lt(156,Et.tag))}function xg(vt,Et){switch(kc(Et),Et.tag){case 1:return vt=Et.flags,vt&65536?(Et.flags=vt&-65537|128,Et):null;case 3:return Xi($n),cr(),vt=Et.flags,(vt&65536)!==0&&(vt&128)===0?(Et.flags=vt&-65537|128,Et):null;case 26:case 27:case 5:return xr(Et),null;case 31:if(Et.memoizedState!==null){if(mi(Et),Et.alternate===null)throw Error(lt(340));Zs()}return vt=Et.flags,vt&65536?(Et.flags=vt&-65537|128,Et):null;case 13:if(mi(Et),vt=Et.memoizedState,vt!==null&&vt.dehydrated!==null){if(Et.alternate===null)throw Error(lt(340));Zs()}return vt=Et.flags,vt&65536?(Et.flags=vt&-65537|128,Et):null;case 19:return Xt(On),null;case 4:return cr(),null;case 10:return Xi(Et.type),null;case 22:case 23:return mi(Et),Bc(),vt!==null&&Xt(Qs),vt=Et.flags,vt&65536?(Et.flags=vt&-65537|128,Et):null;case 24:return Xi($n),null;case 25:return null;default:return null}}function Tf(vt,Et){switch(kc(Et),Et.tag){case 3:Xi($n),cr();break;case 26:case 27:case 5:xr(Et);break;case 4:cr();break;case 31:Et.memoizedState!==null&&mi(Et);break;case 13:mi(Et);break;case 19:Xt(On);break;case 10:Xi(Et.type);break;case 22:case 23:mi(Et),Bc(),vt!==null&&Xt(Qs);break;case 24:Xi($n)}}function So(vt,Et){try{var wt=Et.updateQueue,At=wt!==null?wt.lastEffect:null;if(At!==null){var jt=At.next;wt=jt;do{if((wt.tag&vt)===vt){At=void 0;var Dt=wt.create,Yt=wt.inst;At=Dt(),Yt.destroy=At}wt=wt.next}while(wt!==jt)}}catch(er){yn(Et,Et.return,er)}}function Ss(vt,Et,wt){try{var At=Et.updateQueue,jt=At!==null?At.lastEffect:null;if(jt!==null){var Dt=jt.next;At=Dt;do{if((At.tag&vt)===vt){var Yt=At.inst,er=Yt.destroy;if(er!==void 0){Yt.destroy=void 0,jt=Et;var sr=wt,mr=er;try{mr()}catch(Sr){yn(jt,sr,Sr)}}}At=At.next}while(At!==Dt)}}catch(Sr){yn(Et,Et.return,Sr)}}function Af(vt){var Et=vt.updateQueue;if(Et!==null){var wt=vt.stateNode;try{yh(Et,wt)}catch(At){yn(vt,vt.return,At)}}}function Mf(vt,Et,wt){wt.props=na(vt.type,vt.memoizedProps),wt.state=vt.memoizedState;try{wt.componentWillUnmount()}catch(At){yn(vt,Et,At)}}function wo(vt,Et){try{var wt=vt.ref;if(wt!==null){switch(vt.tag){case 26:case 27:case 5:var At=vt.stateNode;break;case 30:At=vt.stateNode;break;default:At=vt.stateNode}typeof wt=="function"?vt.refCleanup=wt(At):wt.current=At}}catch(jt){yn(vt,Et,jt)}}function zi(vt,Et){var wt=vt.ref,At=vt.refCleanup;if(wt!==null)if(typeof At=="function")try{At()}catch(jt){yn(vt,Et,jt)}finally{vt.refCleanup=null,vt=vt.alternate,vt!=null&&(vt.refCleanup=null)}else if(typeof wt=="function")try{wt(null)}catch(jt){yn(vt,Et,jt)}else wt.current=null}function Pf(vt){var Et=vt.type,wt=vt.memoizedProps,At=vt.stateNode;try{e:switch(Et){case"button":case"input":case"select":case"textarea":wt.autoFocus&&At.focus();break e;case"img":wt.src?At.src=wt.src:wt.srcSet&&(At.srcset=wt.srcSet)}}catch(jt){yn(vt,vt.return,jt)}}function vu(vt,Et,wt){try{var At=vt.stateNode;qg(At,vt.type,wt,Et),At[Sn]=Et}catch(jt){yn(vt,vt.return,jt)}}function If(vt){return vt.tag===5||vt.tag===3||vt.tag===26||vt.tag===27&&Ps(vt.type)||vt.tag===4}function bu(vt){e:for(;;){for(;vt.sibling===null;){if(vt.return===null||If(vt.return))return null;vt=vt.return}for(vt.sibling.return=vt.return,vt=vt.sibling;vt.tag!==5&&vt.tag!==6&&vt.tag!==18;){if(vt.tag===27&&Ps(vt.type)||vt.flags&2||vt.child===null||vt.tag===4)continue e;vt.child.return=vt,vt=vt.child}if(!(vt.flags&2))return vt.stateNode}}function _u(vt,Et,wt){var At=vt.tag;if(At===5||At===6)vt=vt.stateNode,Et?(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).insertBefore(vt,Et):(Et=wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt,Et.appendChild(vt),wt=wt._reactRootContainer,wt!=null||Et.onclick!==null||(Et.onclick=Gi));else if(At!==4&&(At===27&&Ps(vt.type)&&(wt=vt.stateNode,Et=null),vt=vt.child,vt!==null))for(_u(vt,Et,wt),vt=vt.sibling;vt!==null;)_u(vt,Et,wt),vt=vt.sibling}function Cl(vt,Et,wt){var At=vt.tag;if(At===5||At===6)vt=vt.stateNode,Et?wt.insertBefore(vt,Et):wt.appendChild(vt);else if(At!==4&&(At===27&&Ps(vt.type)&&(wt=vt.stateNode),vt=vt.child,vt!==null))for(Cl(vt,Et,wt),vt=vt.sibling;vt!==null;)Cl(vt,Et,wt),vt=vt.sibling}function Lf(vt){var Et=vt.stateNode,wt=vt.memoizedProps;try{for(var At=vt.type,jt=Et.attributes;jt.length;)Et.removeAttributeNode(jt[0]);Gn(Et,At,wt),Et[Pn]=vt,Et[Sn]=wt}catch(Dt){yn(vt,vt.return,Dt)}}var rs=!1,qn=!1,Eu=!1,jf=typeof WeakSet=="function"?WeakSet:Set,zn=null;function vg(vt,Et){if(vt=vt.containerInfo,Vu=Hl,vt=Hd(vt),mc(vt)){if("selectionStart"in vt)var wt={start:vt.selectionStart,end:vt.selectionEnd};else e:{wt=(wt=vt.ownerDocument)&&wt.defaultView||window;var At=wt.getSelection&&wt.getSelection();if(At&&At.rangeCount!==0){wt=At.anchorNode;var jt=At.anchorOffset,Dt=At.focusNode;At=At.focusOffset;try{wt.nodeType,Dt.nodeType}catch{wt=null;break e}var Yt=0,er=-1,sr=-1,mr=0,Sr=0,kr=vt,gr=null;t:for(;;){for(var vr;kr!==wt||jt!==0&&kr.nodeType!==3||(er=Yt+jt),kr!==Dt||At!==0&&kr.nodeType!==3||(sr=Yt+At),kr.nodeType===3&&(Yt+=kr.nodeValue.length),(vr=kr.firstChild)!==null;)gr=kr,kr=vr;for(;;){if(kr===vt)break t;if(gr===wt&&++mr===jt&&(er=Yt),gr===Dt&&++Sr===At&&(sr=Yt),(vr=kr.nextSibling)!==null)break;kr=gr,gr=kr.parentNode}kr=vr}wt=er===-1||sr===-1?null:{start:er,end:sr}}else wt=null}wt=wt||{start:0,end:0}}else wt=null;for(Hu={focusedElem:vt,selectionRange:wt},Hl=!1,zn=Et;zn!==null;)if(Et=zn,vt=Et.child,(Et.subtreeFlags&1028)!==0&&vt!==null)vt.return=Et,zn=vt;else for(;zn!==null;){switch(Et=zn,Dt=Et.alternate,vt=Et.flags,Et.tag){case 0:if((vt&4)!==0&&(vt=Et.updateQueue,vt=vt!==null?vt.events:null,vt!==null))for(wt=0;wt<vt.length;wt++)jt=vt[wt],jt.ref.impl=jt.nextImpl;break;case 11:case 15:break;case 1:if((vt&1024)!==0&&Dt!==null){vt=void 0,wt=Et,jt=Dt.memoizedProps,Dt=Dt.memoizedState,At=wt.stateNode;try{var Vr=na(wt.type,jt);vt=At.getSnapshotBeforeUpdate(Vr,Dt),At.__reactInternalSnapshotBeforeUpdate=vt}catch(Yr){yn(wt,wt.return,Yr)}}break;case 3:if((vt&1024)!==0){if(vt=Et.stateNode.containerInfo,wt=vt.nodeType,wt===9)Wu(vt);else if(wt===1)switch(vt.nodeName){case"HEAD":case"HTML":case"BODY":Wu(vt);break;default:vt.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((vt&1024)!==0)throw Error(lt(163))}if(vt=Et.sibling,vt!==null){vt.return=Et.return,zn=vt;break}zn=Et.return}}function Of(vt,Et,wt){var At=wt.flags;switch(wt.tag){case 0:case 11:case 15:ss(vt,wt),At&4&&So(5,wt);break;case 1:if(ss(vt,wt),At&4)if(vt=wt.stateNode,Et===null)try{vt.componentDidMount()}catch(Yt){yn(wt,wt.return,Yt)}else{var jt=na(wt.type,Et.memoizedProps);Et=Et.memoizedState;try{vt.componentDidUpdate(jt,Et,vt.__reactInternalSnapshotBeforeUpdate)}catch(Yt){yn(wt,wt.return,Yt)}}At&64&&Af(wt),At&512&&wo(wt,wt.return);break;case 3:if(ss(vt,wt),At&64&&(vt=wt.updateQueue,vt!==null)){if(Et=null,wt.child!==null)switch(wt.child.tag){case 27:case 5:Et=wt.child.stateNode;break;case 1:Et=wt.child.stateNode}try{yh(vt,Et)}catch(Yt){yn(wt,wt.return,Yt)}}break;case 27:Et===null&&At&4&&Lf(wt);case 26:case 5:ss(vt,wt),Et===null&&At&4&&Pf(wt),At&512&&wo(wt,wt.return);break;case 12:ss(vt,wt);break;case 31:ss(vt,wt),At&4&&Nf(vt,wt);break;case 13:ss(vt,wt),At&4&&Ff(vt,wt),At&64&&(vt=wt.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null&&(wt=Tg.bind(null,wt),Kg(vt,wt))));break;case 22:if(At=wt.memoizedState!==null||rs,!At){Et=Et!==null&&Et.memoizedState!==null||qn,jt=rs;var Dt=qn;rs=At,(qn=Et)&&!Dt?as(vt,wt,(wt.subtreeFlags&8772)!==0):ss(vt,wt),rs=jt,qn=Dt}break;case 30:break;default:ss(vt,wt)}}function Df(vt){var Et=vt.alternate;Et!==null&&(vt.alternate=null,Df(Et)),vt.child=null,vt.deletions=null,vt.sibling=null,vt.tag===5&&(Et=vt.stateNode,Et!==null&&or(Et)),vt.stateNode=null,vt.return=null,vt.dependencies=null,vt.memoizedProps=null,vt.memoizedState=null,vt.pendingProps=null,vt.stateNode=null,vt.updateQueue=null}var Tn=null,ti=!1;function ns(vt,Et,wt){for(wt=wt.child;wt!==null;)$f(vt,Et,wt),wt=wt.sibling}function $f(vt,Et,wt){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Or,wt)}catch{}switch(wt.tag){case 26:qn||zi(wt,Et),ns(vt,Et,wt),wt.memoizedState?wt.memoizedState.count--:wt.stateNode&&(wt=wt.stateNode,wt.parentNode.removeChild(wt));break;case 27:qn||zi(wt,Et);var At=Tn,jt=ti;Ps(wt.type)&&(Tn=wt.stateNode,ti=!1),ns(vt,Et,wt),jo(wt.stateNode),Tn=At,ti=jt;break;case 5:qn||zi(wt,Et);case 6:if(At=Tn,jt=ti,Tn=null,ns(vt,Et,wt),Tn=At,ti=jt,Tn!==null)if(ti)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(wt.stateNode)}catch(Dt){yn(wt,Et,Dt)}else try{Tn.removeChild(wt.stateNode)}catch(Dt){yn(wt,Et,Dt)}break;case 18:Tn!==null&&(ti?(vt=Tn,Ip(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt,wt.stateNode),Va(vt)):Ip(Tn,wt.stateNode));break;case 4:At=Tn,jt=ti,Tn=wt.stateNode.containerInfo,ti=!0,ns(vt,Et,wt),Tn=At,ti=jt;break;case 0:case 11:case 14:case 15:Ss(2,wt,Et),qn||Ss(4,wt,Et),ns(vt,Et,wt);break;case 1:qn||(zi(wt,Et),At=wt.stateNode,typeof At.componentWillUnmount=="function"&&Mf(wt,Et,At)),ns(vt,Et,wt);break;case 21:ns(vt,Et,wt);break;case 22:qn=(At=qn)||wt.memoizedState!==null,ns(vt,Et,wt),qn=At;break;default:ns(vt,Et,wt)}}function Nf(vt,Et){if(Et.memoizedState===null&&(vt=Et.alternate,vt!==null&&(vt=vt.memoizedState,vt!==null))){vt=vt.dehydrated;try{Va(vt)}catch(wt){yn(Et,Et.return,wt)}}}function Ff(vt,Et){if(Et.memoizedState===null&&(vt=Et.alternate,vt!==null&&(vt=vt.memoizedState,vt!==null&&(vt=vt.dehydrated,vt!==null))))try{Va(vt)}catch(wt){yn(Et,Et.return,wt)}}function bg(vt){switch(vt.tag){case 31:case 13:case 19:var Et=vt.stateNode;return Et===null&&(Et=vt.stateNode=new jf),Et;case 22:return vt=vt.stateNode,Et=vt._retryCache,Et===null&&(Et=vt._retryCache=new jf),Et;default:throw Error(lt(435,vt.tag))}}function Sl(vt,Et){var wt=bg(vt);Et.forEach(function(At){if(!wt.has(At)){wt.add(At);var jt=Ag.bind(null,vt,At);At.then(jt,jt)}})}function ri(vt,Et){var wt=Et.deletions;if(wt!==null)for(var At=0;At<wt.length;At++){var jt=wt[At],Dt=vt,Yt=Et,er=Yt;e:for(;er!==null;){switch(er.tag){case 27:if(Ps(er.type)){Tn=er.stateNode,ti=!1;break e}break;case 5:Tn=er.stateNode,ti=!1;break e;case 3:case 4:Tn=er.stateNode.containerInfo,ti=!0;break e}er=er.return}if(Tn===null)throw Error(lt(160));$f(Dt,Yt,jt),Tn=null,ti=!1,Dt=jt.alternate,Dt!==null&&(Dt.return=null),jt.return=null}if(Et.subtreeFlags&13886)for(Et=Et.child;Et!==null;)qf(Et,vt),Et=Et.sibling}var Oi=null;function qf(vt,Et){var wt=vt.alternate,At=vt.flags;switch(vt.tag){case 0:case 11:case 14:case 15:ri(Et,vt),ni(vt),At&4&&(Ss(3,vt,vt.return),So(3,vt),Ss(5,vt,vt.return));break;case 1:ri(Et,vt),ni(vt),At&512&&(qn||wt===null||zi(wt,wt.return)),At&64&&rs&&(vt=vt.updateQueue,vt!==null&&(At=vt.callbacks,At!==null&&(wt=vt.shared.hiddenCallbacks,vt.shared.hiddenCallbacks=wt===null?At:wt.concat(At))));break;case 26:var jt=Oi;if(ri(Et,vt),ni(vt),At&512&&(qn||wt===null||zi(wt,wt.return)),At&4){var Dt=wt!==null?wt.memoizedState:null;if(At=vt.memoizedState,wt===null)if(At===null)if(vt.stateNode===null){e:{At=vt.type,wt=vt.memoizedProps,jt=jt.ownerDocument||jt;t:switch(At){case"title":Dt=jt.getElementsByTagName("title")[0],(!Dt||Dt[Hr]||Dt[Pn]||Dt.namespaceURI==="http://www.w3.org/2000/svg"||Dt.hasAttribute("itemprop"))&&(Dt=jt.createElement(At),jt.head.insertBefore(Dt,jt.querySelector("head > title"))),Gn(Dt,At,wt),Dt[Pn]=vt,Pr(Dt),At=Dt;break e;case"link":var Yt=Vp("link","href",jt).get(At+(wt.href||""));if(Yt){for(var er=0;er<Yt.length;er++)if(Dt=Yt[er],Dt.getAttribute("href")===(wt.href==null||wt.href===""?null:wt.href)&&Dt.getAttribute("rel")===(wt.rel==null?null:wt.rel)&&Dt.getAttribute("title")===(wt.title==null?null:wt.title)&&Dt.getAttribute("crossorigin")===(wt.crossOrigin==null?null:wt.crossOrigin)){Yt.splice(er,1);break t}}Dt=jt.createElement(At),Gn(Dt,At,wt),jt.head.appendChild(Dt);break;case"meta":if(Yt=Vp("meta","content",jt).get(At+(wt.content||""))){for(er=0;er<Yt.length;er++)if(Dt=Yt[er],Dt.getAttribute("content")===(wt.content==null?null:""+wt.content)&&Dt.getAttribute("name")===(wt.name==null?null:wt.name)&&Dt.getAttribute("property")===(wt.property==null?null:wt.property)&&Dt.getAttribute("http-equiv")===(wt.httpEquiv==null?null:wt.httpEquiv)&&Dt.getAttribute("charset")===(wt.charSet==null?null:wt.charSet)){Yt.splice(er,1);break t}}Dt=jt.createElement(At),Gn(Dt,At,wt),jt.head.appendChild(Dt);break;default:throw Error(lt(468,At))}Dt[Pn]=vt,Pr(Dt),At=Dt}vt.stateNode=At}else Hp(jt,vt.type,vt.stateNode);else vt.stateNode=zp(jt,At,vt.memoizedProps);else Dt!==At?(Dt===null?wt.stateNode!==null&&(wt=wt.stateNode,wt.parentNode.removeChild(wt)):Dt.count--,At===null?Hp(jt,vt.type,vt.stateNode):zp(jt,At,vt.memoizedProps)):At===null&&vt.stateNode!==null&&vu(vt,vt.memoizedProps,wt.memoizedProps)}break;case 27:ri(Et,vt),ni(vt),At&512&&(qn||wt===null||zi(wt,wt.return)),wt!==null&&At&4&&vu(vt,vt.memoizedProps,wt.memoizedProps);break;case 5:if(ri(Et,vt),ni(vt),At&512&&(qn||wt===null||zi(wt,wt.return)),vt.flags&32){jt=vt.stateNode;try{da(jt,"")}catch(Vr){yn(vt,vt.return,Vr)}}At&4&&vt.stateNode!=null&&(jt=vt.memoizedProps,vu(vt,jt,wt!==null?wt.memoizedProps:jt)),At&1024&&(Eu=!0);break;case 6:if(ri(Et,vt),ni(vt),At&4){if(vt.stateNode===null)throw Error(lt(162));At=vt.memoizedProps,wt=vt.stateNode;try{wt.nodeValue=At}catch(Vr){yn(vt,vt.return,Vr)}}break;case 3:if(ql=null,jt=Oi,Oi=Nl(Et.containerInfo),ri(Et,vt),Oi=jt,ni(vt),At&4&&wt!==null&&wt.memoizedState.isDehydrated)try{Va(Et.containerInfo)}catch(Vr){yn(vt,vt.return,Vr)}Eu&&(Eu=!1,Bf(vt));break;case 4:At=Oi,Oi=Nl(vt.stateNode.containerInfo),ri(Et,vt),ni(vt),Oi=At;break;case 12:ri(Et,vt),ni(vt);break;case 31:ri(Et,vt),ni(vt),At&4&&(At=vt.updateQueue,At!==null&&(vt.updateQueue=null,Sl(vt,At)));break;case 13:ri(Et,vt),ni(vt),vt.child.flags&8192&&vt.memoizedState!==null!=(wt!==null&&wt.memoizedState!==null)&&(kl=Zr()),At&4&&(At=vt.updateQueue,At!==null&&(vt.updateQueue=null,Sl(vt,At)));break;case 22:jt=vt.memoizedState!==null;var sr=wt!==null&&wt.memoizedState!==null,mr=rs,Sr=qn;if(rs=mr||jt,qn=Sr||sr,ri(Et,vt),qn=Sr,rs=mr,ni(vt),At&8192)e:for(Et=vt.stateNode,Et._visibility=jt?Et._visibility&-2:Et._visibility|1,jt&&(wt===null||sr||rs||qn||ia(vt)),wt=null,Et=vt;;){if(Et.tag===5||Et.tag===26){if(wt===null){sr=wt=Et;try{if(Dt=sr.stateNode,jt)Yt=Dt.style,typeof Yt.setProperty=="function"?Yt.setProperty("display","none","important"):Yt.display="none";else{er=sr.stateNode;var kr=sr.memoizedProps.style,gr=kr!=null&&kr.hasOwnProperty("display")?kr.display:null;er.style.display=gr==null||typeof gr=="boolean"?"":(""+gr).trim()}}catch(Vr){yn(sr,sr.return,Vr)}}}else if(Et.tag===6){if(wt===null){sr=Et;try{sr.stateNode.nodeValue=jt?"":sr.memoizedProps}catch(Vr){yn(sr,sr.return,Vr)}}}else if(Et.tag===18){if(wt===null){sr=Et;try{var vr=sr.stateNode;jt?Lp(vr,!0):Lp(sr.stateNode,!1)}catch(Vr){yn(sr,sr.return,Vr)}}}else if((Et.tag!==22&&Et.tag!==23||Et.memoizedState===null||Et===vt)&&Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===vt)break e;for(;Et.sibling===null;){if(Et.return===null||Et.return===vt)break e;wt===Et&&(wt=null),Et=Et.return}wt===Et&&(wt=null),Et.sibling.return=Et.return,Et=Et.sibling}At&4&&(At=vt.updateQueue,At!==null&&(wt=At.retryQueue,wt!==null&&(At.retryQueue=null,Sl(vt,wt))));break;case 19:ri(Et,vt),ni(vt),At&4&&(At=vt.updateQueue,At!==null&&(vt.updateQueue=null,Sl(vt,At)));break;case 30:break;case 21:break;default:ri(Et,vt),ni(vt)}}function ni(vt){var Et=vt.flags;if(Et&2){try{for(var wt,At=vt.return;At!==null;){if(If(At)){wt=At;break}At=At.return}if(wt==null)throw Error(lt(160));switch(wt.tag){case 27:var jt=wt.stateNode,Dt=bu(vt);Cl(vt,Dt,jt);break;case 5:var Yt=wt.stateNode;wt.flags&32&&(da(Yt,""),wt.flags&=-33);var er=bu(vt);Cl(vt,er,Yt);break;case 3:case 4:var sr=wt.stateNode.containerInfo,mr=bu(vt);_u(vt,mr,sr);break;default:throw Error(lt(161))}}catch(Sr){yn(vt,vt.return,Sr)}vt.flags&=-3}Et&4096&&(vt.flags&=-4097)}function Bf(vt){if(vt.subtreeFlags&1024)for(vt=vt.child;vt!==null;){var Et=vt;Bf(Et),Et.tag===5&&Et.flags&1024&&Et.stateNode.reset(),vt=vt.sibling}}function ss(vt,Et){if(Et.subtreeFlags&8772)for(Et=Et.child;Et!==null;)Of(vt,Et.alternate,Et),Et=Et.sibling}function ia(vt){for(vt=vt.child;vt!==null;){var Et=vt;switch(Et.tag){case 0:case 11:case 14:case 15:Ss(4,Et,Et.return),ia(Et);break;case 1:zi(Et,Et.return);var wt=Et.stateNode;typeof wt.componentWillUnmount=="function"&&Mf(Et,Et.return,wt),ia(Et);break;case 27:jo(Et.stateNode);case 26:case 5:zi(Et,Et.return),ia(Et);break;case 22:Et.memoizedState===null&&ia(Et);break;case 30:ia(Et);break;default:ia(Et)}vt=vt.sibling}}function as(vt,Et,wt){for(wt=wt&&(Et.subtreeFlags&8772)!==0,Et=Et.child;Et!==null;){var At=Et.alternate,jt=vt,Dt=Et,Yt=Dt.flags;switch(Dt.tag){case 0:case 11:case 15:as(jt,Dt,wt),So(4,Dt);break;case 1:if(as(jt,Dt,wt),At=Dt,jt=At.stateNode,typeof jt.componentDidMount=="function")try{jt.componentDidMount()}catch(mr){yn(At,At.return,mr)}if(At=Dt,jt=At.updateQueue,jt!==null){var er=At.stateNode;try{var sr=jt.shared.hiddenCallbacks;if(sr!==null)for(jt.shared.hiddenCallbacks=null,jt=0;jt<sr.length;jt++)gh(sr[jt],er)}catch(mr){yn(At,At.return,mr)}}wt&&Yt&64&&Af(Dt),wo(Dt,Dt.return);break;case 27:Lf(Dt);case 26:case 5:as(jt,Dt,wt),wt&&At===null&&Yt&4&&Pf(Dt),wo(Dt,Dt.return);break;case 12:as(jt,Dt,wt);break;case 31:as(jt,Dt,wt),wt&&Yt&4&&Nf(jt,Dt);break;case 13:as(jt,Dt,wt),wt&&Yt&4&&Ff(jt,Dt);break;case 22:Dt.memoizedState===null&&as(jt,Dt,wt),wo(Dt,Dt.return);break;case 30:break;default:as(jt,Dt,wt)}Et=Et.sibling}}function Cu(vt,Et){var wt=null;vt!==null&&vt.memoizedState!==null&&vt.memoizedState.cachePool!==null&&(wt=vt.memoizedState.cachePool.pool),vt=null,Et.memoizedState!==null&&Et.memoizedState.cachePool!==null&&(vt=Et.memoizedState.cachePool.pool),vt!==wt&&(vt!=null&&vt.refCount++,wt!=null&&uo(wt))}function Su(vt,Et){vt=null,Et.alternate!==null&&(vt=Et.alternate.memoizedState.cache),Et=Et.memoizedState.cache,Et!==vt&&(Et.refCount++,vt!=null&&uo(vt))}function Di(vt,Et,wt,At){if(Et.subtreeFlags&10256)for(Et=Et.child;Et!==null;)zf(vt,Et,wt,At),Et=Et.sibling}function zf(vt,Et,wt,At){var jt=Et.flags;switch(Et.tag){case 0:case 11:case 15:Di(vt,Et,wt,At),jt&2048&&So(9,Et);break;case 1:Di(vt,Et,wt,At);break;case 3:Di(vt,Et,wt,At),jt&2048&&(vt=null,Et.alternate!==null&&(vt=Et.alternate.memoizedState.cache),Et=Et.memoizedState.cache,Et!==vt&&(Et.refCount++,vt!=null&&uo(vt)));break;case 12:if(jt&2048){Di(vt,Et,wt,At),vt=Et.stateNode;try{var Dt=Et.memoizedProps,Yt=Dt.id,er=Dt.onPostCommit;typeof er=="function"&&er(Yt,Et.alternate===null?"mount":"update",vt.passiveEffectDuration,-0)}catch(sr){yn(Et,Et.return,sr)}}else Di(vt,Et,wt,At);break;case 31:Di(vt,Et,wt,At);break;case 13:Di(vt,Et,wt,At);break;case 23:break;case 22:Dt=Et.stateNode,Yt=Et.alternate,Et.memoizedState!==null?Dt._visibility&2?Di(vt,Et,wt,At):ko(vt,Et):Dt._visibility&2?Di(vt,Et,wt,At):(Dt._visibility|=2,Ia(vt,Et,wt,At,(Et.subtreeFlags&10256)!==0||!1)),jt&2048&&Cu(Yt,Et);break;case 24:Di(vt,Et,wt,At),jt&2048&&Su(Et.alternate,Et);break;default:Di(vt,Et,wt,At)}}function Ia(vt,Et,wt,At,jt){for(jt=jt&&((Et.subtreeFlags&10256)!==0||!1),Et=Et.child;Et!==null;){var Dt=vt,Yt=Et,er=wt,sr=At,mr=Yt.flags;switch(Yt.tag){case 0:case 11:case 15:Ia(Dt,Yt,er,sr,jt),So(8,Yt);break;case 23:break;case 22:var Sr=Yt.stateNode;Yt.memoizedState!==null?Sr._visibility&2?Ia(Dt,Yt,er,sr,jt):ko(Dt,Yt):(Sr._visibility|=2,Ia(Dt,Yt,er,sr,jt)),jt&&mr&2048&&Cu(Yt.alternate,Yt);break;case 24:Ia(Dt,Yt,er,sr,jt),jt&&mr&2048&&Su(Yt.alternate,Yt);break;default:Ia(Dt,Yt,er,sr,jt)}Et=Et.sibling}}function ko(vt,Et){if(Et.subtreeFlags&10256)for(Et=Et.child;Et!==null;){var wt=vt,At=Et,jt=At.flags;switch(At.tag){case 22:ko(wt,At),jt&2048&&Cu(At.alternate,At);break;case 24:ko(wt,At),jt&2048&&Su(At.alternate,At);break;default:ko(wt,At)}Et=Et.sibling}}var Ro=8192;function La(vt,Et,wt){if(vt.subtreeFlags&Ro)for(vt=vt.child;vt!==null;)Vf(vt,Et,wt),vt=vt.sibling}function Vf(vt,Et,wt){switch(vt.tag){case 26:La(vt,Et,wt),vt.flags&Ro&&vt.memoizedState!==null&&a1(wt,Oi,vt.memoizedState,vt.memoizedProps);break;case 5:La(vt,Et,wt);break;case 3:case 4:var At=Oi;Oi=Nl(vt.stateNode.containerInfo),La(vt,Et,wt),Oi=At;break;case 22:vt.memoizedState===null&&(At=vt.alternate,At!==null&&At.memoizedState!==null?(At=Ro,Ro=16777216,La(vt,Et,wt),Ro=At):La(vt,Et,wt));break;default:La(vt,Et,wt)}}function Hf(vt){var Et=vt.alternate;if(Et!==null&&(vt=Et.child,vt!==null)){Et.child=null;do Et=vt.sibling,vt.sibling=null,vt=Et;while(vt!==null)}}function To(vt){var Et=vt.deletions;if((vt.flags&16)!==0){if(Et!==null)for(var wt=0;wt<Et.length;wt++){var At=Et[wt];zn=At,Gf(At,vt)}Hf(vt)}if(vt.subtreeFlags&10256)for(vt=vt.child;vt!==null;)Uf(vt),vt=vt.sibling}function Uf(vt){switch(vt.tag){case 0:case 11:case 15:To(vt),vt.flags&2048&&Ss(9,vt,vt.return);break;case 3:To(vt);break;case 12:To(vt);break;case 22:var Et=vt.stateNode;vt.memoizedState!==null&&Et._visibility&2&&(vt.return===null||vt.return.tag!==13)?(Et._visibility&=-3,wl(vt)):To(vt);break;default:To(vt)}}function wl(vt){var Et=vt.deletions;if((vt.flags&16)!==0){if(Et!==null)for(var wt=0;wt<Et.length;wt++){var At=Et[wt];zn=At,Gf(At,vt)}Hf(vt)}for(vt=vt.child;vt!==null;){switch(Et=vt,Et.tag){case 0:case 11:case 15:Ss(8,Et,Et.return),wl(Et);break;case 22:wt=Et.stateNode,wt._visibility&2&&(wt._visibility&=-3,wl(Et));break;default:wl(Et)}vt=vt.sibling}}function Gf(vt,Et){for(;zn!==null;){var wt=zn;switch(wt.tag){case 0:case 11:case 15:Ss(8,wt,Et);break;case 23:case 22:if(wt.memoizedState!==null&&wt.memoizedState.cachePool!==null){var At=wt.memoizedState.cachePool.pool;At!=null&&At.refCount++}break;case 24:uo(wt.memoizedState.cache)}if(At=wt.child,At!==null)At.return=wt,zn=At;else e:for(wt=vt;zn!==null;){At=zn;var jt=At.sibling,Dt=At.return;if(Df(At),At===wt){zn=null;break e}if(jt!==null){jt.return=Dt,zn=jt;break e}zn=Dt}}}var _g={getCacheForType:function(vt){var Et=Hn($n),wt=Et.data.get(vt);return wt===void 0&&(wt=vt(),Et.data.set(vt,wt)),wt},cacheSignal:function(){return Hn($n).controller.signal}},Eg=typeof WeakMap=="function"?WeakMap:Map,mn=0,Cn=null,an=null,ln=0,gn=0,gi=null,ws=!1,ja=!1,wu=!1,ls=0,jn=0,ks=0,sa=0,ku=0,yi=0,Oa=0,Ao=null,ii=null,Ru=!1,kl=0,Wf=0,Rl=1/0,Tl=null,Rs=null,Bn=0,Ts=null,Da=null,cs=0,Tu=0,Au=null,Kf=null,Mo=0,Mu=null;function xi(){return(mn&2)!==0&&ln!==0?ln&-ln:$t.T!==null?Du():hs()}function Zf(){if(yi===0)if((ln&536870912)===0||un){var vt=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),yi=vt}else yi=536870912;return vt=fi.current,vt!==null&&(vt.flags|=32),yi}function si(vt,Et,wt){(vt===Cn&&(gn===2||gn===9)||vt.cancelPendingCommit!==null)&&($a(vt,0),As(vt,ln,yi,!1)),ci(vt,wt),((mn&2)===0||vt!==Cn)&&(vt===Cn&&((mn&2)===0&&(sa|=wt),jn===4&&As(vt,ln,yi,!1)),Vi(vt))}function Yf(vt,Et,wt){if((mn&6)!==0)throw Error(lt(327));var At=!wt&&(Et&127)===0&&(Et&vt.expiredLanes)===0||Ii(vt,Et),jt=At?wg(vt,Et):Iu(vt,Et,!0),Dt=At;do{if(jt===0){ja&&!At&&As(vt,Et,0,!1);break}else{if(wt=vt.current.alternate,Dt&&!Cg(wt)){jt=Iu(vt,Et,!1),Dt=!1;continue}if(jt===2){if(Dt=Et,vt.errorRecoveryDisabledLanes&Dt)var Yt=0;else Yt=vt.pendingLanes&-536870913,Yt=Yt!==0?Yt:Yt&536870912?536870912:0;if(Yt!==0){Et=Yt;e:{var er=vt;jt=Ao;var sr=er.current.memoizedState.isDehydrated;if(sr&&($a(er,Yt).flags|=256),Yt=Iu(er,Yt,!1),Yt!==2){if(wu&&!sr){er.errorRecoveryDisabledLanes|=Dt,sa|=Dt,jt=4;break e}Dt=ii,ii=jt,Dt!==null&&(ii===null?ii=Dt:ii.push.apply(ii,Dt))}jt=Yt}if(Dt=!1,jt!==2)continue}}if(jt===1){$a(vt,0),As(vt,Et,0,!0);break}e:{switch(At=vt,Dt=jt,Dt){case 0:case 1:throw Error(lt(345));case 4:if((Et&4194048)!==Et)break;case 6:As(At,Et,yi,!ws);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(lt(329))}if((Et&62914560)===Et&&(jt=kl+300-Zr(),10<jt)){if(As(At,Et,yi,!ws),oi(At,0,!0)!==0)break e;cs=Et,At.timeoutHandle=Mp(Xf.bind(null,At,wt,ii,Tl,Ru,Et,yi,sa,Oa,ws,Dt,"Throttled",-0,0),jt);break e}Xf(At,wt,ii,Tl,Ru,Et,yi,sa,Oa,ws,Dt,null,-0,0)}}break}while(!0);Vi(vt)}function Xf(vt,Et,wt,At,jt,Dt,Yt,er,sr,mr,Sr,kr,gr,vr){if(vt.timeoutHandle=-1,kr=Et.subtreeFlags,kr&8192||(kr&16785408)===16785408){kr={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},Vf(Et,Dt,kr);var Vr=(Dt&62914560)===Dt?kl-Zr():(Dt&4194048)===Dt?Wf-Zr():0;if(Vr=o1(kr,Vr),Vr!==null){cs=Dt,vt.cancelPendingCommit=Vr(ap.bind(null,vt,Et,Dt,wt,At,jt,Yt,er,sr,Sr,kr,null,gr,vr)),As(vt,Dt,Yt,!mr);return}}ap(vt,Et,Dt,wt,At,jt,Yt,er,sr)}function Cg(vt){for(var Et=vt;;){var wt=Et.tag;if((wt===0||wt===11||wt===15)&&Et.flags&16384&&(wt=Et.updateQueue,wt!==null&&(wt=wt.stores,wt!==null)))for(var At=0;At<wt.length;At++){var jt=wt[At],Dt=jt.getSnapshot;jt=jt.value;try{if(!di(Dt(),jt))return!1}catch{return!1}}if(wt=Et.child,Et.subtreeFlags&16384&&wt!==null)wt.return=Et,Et=wt;else{if(Et===vt)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===vt)return!0;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}}return!0}function As(vt,Et,wt,At){Et&=~ku,Et&=~sa,vt.suspendedLanes|=Et,vt.pingedLanes&=~Et,At&&(vt.warmLanes|=Et),At=vt.expirationTimes;for(var jt=Et;0<jt;){var Dt=31-qr(jt),Yt=1<<Dt;At[Dt]=-1,jt&=~Yt}wt!==0&&Ns(vt,wt,Et)}function Al(){return(mn&6)===0?(Po(0),!1):!0}function Pu(){if(an!==null){if(gn===0)var vt=an.return;else vt=an,Yi=Ys=null,Wc(vt),Ra=null,fo=0,vt=an;for(;vt!==null;)Tf(vt.alternate,vt),vt=vt.return;an=null}}function $a(vt,Et){var wt=vt.timeoutHandle;wt!==-1&&(vt.timeoutHandle=-1,Vg(wt)),wt=vt.cancelPendingCommit,wt!==null&&(vt.cancelPendingCommit=null,wt()),cs=0,Pu(),Cn=vt,an=wt=Ki(vt.current,null),ln=Et,gn=0,gi=null,ws=!1,ja=Ii(vt,Et),wu=!1,Oa=yi=ku=sa=ks=jn=0,ii=Ao=null,Ru=!1,(Et&8)!==0&&(Et|=Et&32);var At=vt.entangledLanes;if(At!==0)for(vt=vt.entanglements,At&=Et;0<At;){var jt=31-qr(At),Dt=1<<jt;Et|=vt[jt],At&=~Dt}return ls=Et,Yo(),wt}function Qf(vt,Et){en=null,$t.H=_o,Et===ka||Et===il?(Et=hh(),gn=3):Et===Oc?(Et=hh(),gn=4):gn=Et===cu?8:Et!==null&&typeof Et=="object"&&typeof Et.then=="function"?6:1,gi=Et,an===null&&(jn=1,xl(vt,Si(Et,vt.current)))}function Jf(){var vt=fi.current;return vt===null?!0:(ln&4194048)===ln?Ti===null:(ln&62914560)===ln||(ln&536870912)!==0?vt===Ti:!1}function ep(){var vt=$t.H;return $t.H=_o,vt===null?_o:vt}function tp(){var vt=$t.A;return $t.A=_g,vt}function Ml(){jn=4,ws||(ln&4194048)!==ln&&fi.current!==null||(ja=!0),(ks&134217727)===0&&(sa&134217727)===0||Cn===null||As(Cn,ln,yi,!1)}function Iu(vt,Et,wt){var At=mn;mn|=2;var jt=ep(),Dt=tp();(Cn!==vt||ln!==Et)&&(Tl=null,$a(vt,Et)),Et=!1;var Yt=jn;e:do try{if(gn!==0&&an!==null){var er=an,sr=gi;switch(gn){case 8:Pu(),Yt=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(Et=!0);var mr=gn;if(gn=0,gi=null,Na(vt,er,sr,mr),wt&&ja){Yt=0;break e}break;default:mr=gn,gn=0,gi=null,Na(vt,er,sr,mr)}}Sg(),Yt=jn;break}catch(Sr){Qf(vt,Sr)}while(!0);return Et&&vt.shellSuspendCounter++,Yi=Ys=null,mn=At,$t.H=jt,$t.A=Dt,an===null&&(Cn=null,ln=0,Yo()),Yt}function Sg(){for(;an!==null;)rp(an)}function wg(vt,Et){var wt=mn;mn|=2;var At=ep(),jt=tp();Cn!==vt||ln!==Et?(Tl=null,Rl=Zr()+500,$a(vt,Et)):ja=Ii(vt,Et);e:do try{if(gn!==0&&an!==null){Et=an;var Dt=gi;t:switch(gn){case 1:gn=0,gi=null,Na(vt,Et,Dt,1);break;case 2:case 9:if(uh(Dt)){gn=0,gi=null,np(Et);break}Et=function(){gn!==2&&gn!==9||Cn!==vt||(gn=7),Vi(vt)},Dt.then(Et,Et);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:uh(Dt)?(gn=0,gi=null,np(Et)):(gn=0,gi=null,Na(vt,Et,Dt,7));break;case 5:var Yt=null;switch(an.tag){case 26:Yt=an.memoizedState;case 5:case 27:var er=an;if(Yt?Up(Yt):er.stateNode.complete){gn=0,gi=null;var sr=er.sibling;if(sr!==null)an=sr;else{var mr=er.return;mr!==null?(an=mr,Pl(mr)):an=null}break t}}gn=0,gi=null,Na(vt,Et,Dt,5);break;case 6:gn=0,gi=null,Na(vt,Et,Dt,6);break;case 8:Pu(),jn=6;break e;default:throw Error(lt(462))}}kg();break}catch(Sr){Qf(vt,Sr)}while(!0);return Yi=Ys=null,$t.H=At,$t.A=jt,mn=wt,an!==null?0:(Cn=null,ln=0,Yo(),jn)}function kg(){for(;an!==null&&!nn();)rp(an)}function rp(vt){var Et=kf(vt.alternate,vt,ls);vt.memoizedProps=vt.pendingProps,Et===null?Pl(vt):an=Et}function np(vt){var Et=vt,wt=Et.alternate;switch(Et.tag){case 15:case 0:Et=bf(wt,Et,Et.pendingProps,Et.type,void 0,ln);break;case 11:Et=bf(wt,Et,Et.pendingProps,Et.type.render,Et.ref,ln);break;case 5:Wc(Et);default:Tf(wt,Et),Et=an=Jd(Et,ls),Et=kf(wt,Et,ls)}vt.memoizedProps=vt.pendingProps,Et===null?Pl(vt):an=Et}function Na(vt,Et,wt,At){Yi=Ys=null,Wc(Et),Ra=null,fo=0;var jt=Et.return;try{if(pg(vt,jt,Et,wt,ln)){jn=1,xl(vt,Si(wt,vt.current)),an=null;return}}catch(Dt){if(jt!==null)throw an=jt,Dt;jn=1,xl(vt,Si(wt,vt.current)),an=null;return}Et.flags&32768?(un||At===1?vt=!0:ja||(ln&536870912)!==0?vt=!1:(ws=vt=!0,(At===2||At===9||At===3||At===6)&&(At=fi.current,At!==null&&At.tag===13&&(At.flags|=16384))),sp(Et,vt)):Pl(Et)}function Pl(vt){var Et=vt;do{if((Et.flags&32768)!==0){sp(Et,ws);return}vt=Et.return;var wt=yg(Et.alternate,Et,ls);if(wt!==null){an=wt;return}if(Et=Et.sibling,Et!==null){an=Et;return}an=Et=vt}while(Et!==null);jn===0&&(jn=5)}function sp(vt,Et){do{var wt=xg(vt.alternate,vt);if(wt!==null){wt.flags&=32767,an=wt;return}if(wt=vt.return,wt!==null&&(wt.flags|=32768,wt.subtreeFlags=0,wt.deletions=null),!Et&&(vt=vt.sibling,vt!==null)){an=vt;return}an=vt=wt}while(vt!==null);jn=6,an=null}function ap(vt,Et,wt,At,jt,Dt,Yt,er,sr){vt.cancelPendingCommit=null;do Il();while(Bn!==0);if((mn&6)!==0)throw Error(lt(327));if(Et!==null){if(Et===vt.current)throw Error(lt(177));if(Dt=Et.lanes|Et.childLanes,Dt|=bc,$s(vt,wt,Dt,Yt,er,sr),vt===Cn&&(an=Cn=null,ln=0),Da=Et,Ts=vt,cs=wt,Tu=Dt,Au=jt,Kf=At,(Et.subtreeFlags&10256)!==0||(Et.flags&10256)!==0?(vt.callbackNode=null,vt.callbackPriority=0,Mg(Tr,function(){return fp(),null})):(vt.callbackNode=null,vt.callbackPriority=0),At=(Et.flags&13878)!==0,(Et.subtreeFlags&13878)!==0||At){At=$t.T,$t.T=null,jt=zt.p,zt.p=2,Yt=mn,mn|=4;try{vg(vt,Et,wt)}finally{mn=Yt,zt.p=jt,$t.T=At}}Bn=1,lp(),up(),dp()}}function lp(){if(Bn===1){Bn=0;var vt=Ts,Et=Da,wt=(Et.flags&13878)!==0;if((Et.subtreeFlags&13878)!==0||wt){wt=$t.T,$t.T=null;var At=zt.p;zt.p=2;var jt=mn;mn|=4;try{qf(Et,vt);var Dt=Hu,Yt=Hd(vt.containerInfo),er=Dt.focusedElem,sr=Dt.selectionRange;if(Yt!==er&&er&&er.ownerDocument&&Vd(er.ownerDocument.documentElement,er)){if(sr!==null&&mc(er)){var mr=sr.start,Sr=sr.end;if(Sr===void 0&&(Sr=mr),"selectionStart"in er)er.selectionStart=mr,er.selectionEnd=Math.min(Sr,er.value.length);else{var kr=er.ownerDocument||document,gr=kr&&kr.defaultView||window;if(gr.getSelection){var vr=gr.getSelection(),Vr=er.textContent.length,Yr=Math.min(sr.start,Vr),_n=sr.end===void 0?Yr:Math.min(sr.end,Vr);!vr.extend&&Yr>_n&&(Yt=_n,_n=Yr,Yr=Yt);var ur=zd(er,Yr),lr=zd(er,_n);if(ur&&lr&&(vr.rangeCount!==1||vr.anchorNode!==ur.node||vr.anchorOffset!==ur.offset||vr.focusNode!==lr.node||vr.focusOffset!==lr.offset)){var pr=kr.createRange();pr.setStart(ur.node,ur.offset),vr.removeAllRanges(),Yr>_n?(vr.addRange(pr),vr.extend(lr.node,lr.offset)):(pr.setEnd(lr.node,lr.offset),vr.addRange(pr))}}}}for(kr=[],vr=er;vr=vr.parentNode;)vr.nodeType===1&&kr.push({element:vr,left:vr.scrollLeft,top:vr.scrollTop});for(typeof er.focus=="function"&&er.focus(),er=0;er<kr.length;er++){var wr=kr[er];wr.element.scrollLeft=wr.left,wr.element.scrollTop=wr.top}}Hl=!!Vu,Hu=Vu=null}finally{mn=jt,zt.p=At,$t.T=wt}}vt.current=Et,Bn=2}}function up(){if(Bn===2){Bn=0;var vt=Ts,Et=Da,wt=(Et.flags&8772)!==0;if((Et.subtreeFlags&8772)!==0||wt){wt=$t.T,$t.T=null;var At=zt.p;zt.p=2;var jt=mn;mn|=4;try{Of(vt,Et.alternate,Et)}finally{mn=jt,zt.p=At,$t.T=wt}}Bn=3}}function dp(){if(Bn===4||Bn===3){Bn=0,Qr();var vt=Ts,Et=Da,wt=cs,At=Kf;(Et.subtreeFlags&10256)!==0||(Et.flags&10256)!==0?Bn=5:(Bn=0,Da=Ts=null,hp(vt,vt.pendingLanes));var jt=vt.pendingLanes;if(jt===0&&(Rs=null),ui(wt),Et=Et.stateNode,$r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Or,Et,void 0,(Et.current.flags&128)===128)}catch{}if(At!==null){Et=$t.T,jt=zt.p,zt.p=2,$t.T=null;try{for(var Dt=vt.onRecoverableError,Yt=0;Yt<At.length;Yt++){var er=At[Yt];Dt(er.value,{componentStack:er.stack})}}finally{$t.T=Et,zt.p=jt}}(cs&3)!==0&&Il(),Vi(vt),jt=vt.pendingLanes,(wt&261930)!==0&&(jt&42)!==0?vt===Mu?Mo++:(Mo=0,Mu=vt):Mo=0,Po(0)}}function hp(vt,Et){(vt.pooledCacheLanes&=Et)===0&&(Et=vt.pooledCache,Et!=null&&(vt.pooledCache=null,uo(Et)))}function Il(){return lp(),up(),dp(),fp()}function fp(){if(Bn!==5)return!1;var vt=Ts,Et=Tu;Tu=0;var wt=ui(cs),At=$t.T,jt=zt.p;try{zt.p=32>wt?32:wt,$t.T=null,wt=Au,Au=null;var Dt=Ts,Yt=cs;if(Bn=0,Da=Ts=null,cs=0,(mn&6)!==0)throw Error(lt(331));var er=mn;if(mn|=4,Uf(Dt.current),zf(Dt,Dt.current,Yt,wt),mn=er,Po(0,!1),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Or,Dt)}catch{}return!0}finally{zt.p=jt,$t.T=At,hp(vt,Et)}}function pp(vt,Et,wt){Et=Si(wt,Et),Et=lu(vt.stateNode,Et,2),vt=_s(vt,Et,2),vt!==null&&(ci(vt,2),Vi(vt))}function yn(vt,Et,wt){if(vt.tag===3)pp(vt,vt,wt);else for(;Et!==null;){if(Et.tag===3){pp(Et,vt,wt);break}else if(Et.tag===1){var At=Et.stateNode;if(typeof Et.type.getDerivedStateFromError=="function"||typeof At.componentDidCatch=="function"&&(Rs===null||!Rs.has(At))){vt=Si(wt,vt),wt=hf(2),At=_s(Et,wt,2),At!==null&&(ff(wt,At,Et,vt),ci(At,2),Vi(At));break}}Et=Et.return}}function Lu(vt,Et,wt){var At=vt.pingCache;if(At===null){At=vt.pingCache=new Eg;var jt=new Set;At.set(Et,jt)}else jt=At.get(Et),jt===void 0&&(jt=new Set,At.set(Et,jt));jt.has(wt)||(wu=!0,jt.add(wt),vt=Rg.bind(null,vt,Et,wt),Et.then(vt,vt))}function Rg(vt,Et,wt){var At=vt.pingCache;At!==null&&At.delete(Et),vt.pingedLanes|=vt.suspendedLanes&wt,vt.warmLanes&=~wt,Cn===vt&&(ln&wt)===wt&&(jn===4||jn===3&&(ln&62914560)===ln&&300>Zr()-kl?(mn&2)===0&&$a(vt,0):ku|=wt,Oa===ln&&(Oa=0)),Vi(vt)}function mp(vt,Et){Et===0&&(Et=Qn()),vt=Ws(vt,Et),vt!==null&&(ci(vt,Et),Vi(vt))}function Tg(vt){var Et=vt.memoizedState,wt=0;Et!==null&&(wt=Et.retryLane),mp(vt,wt)}function Ag(vt,Et){var wt=0;switch(vt.tag){case 31:case 13:var At=vt.stateNode,jt=vt.memoizedState;jt!==null&&(wt=jt.retryLane);break;case 19:At=vt.stateNode;break;case 22:At=vt.stateNode._retryCache;break;default:throw Error(lt(314))}At!==null&&At.delete(Et),mp(vt,wt)}function Mg(vt,Et){return Jr(vt,Et)}var Ll=null,Fa=null,ju=!1,jl=!1,Ou=!1,Ms=0;function Vi(vt){vt!==Fa&&vt.next===null&&(Fa===null?Ll=Fa=vt:Fa=Fa.next=vt),jl=!0,ju||(ju=!0,Ig())}function Po(vt,Et){if(!Ou&&jl){Ou=!0;do for(var wt=!1,At=Ll;At!==null;){if(vt!==0){var jt=At.pendingLanes;if(jt===0)var Dt=0;else{var Yt=At.suspendedLanes,er=At.pingedLanes;Dt=(1<<31-qr(42|vt)+1)-1,Dt&=jt&~(Yt&~er),Dt=Dt&201326741?Dt&201326741|1:Dt?Dt|2:0}Dt!==0&&(wt=!0,vp(At,Dt))}else Dt=ln,Dt=oi(At,At===Cn?Dt:0,At.cancelPendingCommit!==null||At.timeoutHandle!==-1),(Dt&3)===0||Ii(At,Dt)||(wt=!0,vp(At,Dt));At=At.next}while(wt);Ou=!1}}function Pg(){gp()}function gp(){jl=ju=!1;var vt=0;Ms!==0&&zg()&&(vt=Ms);for(var Et=Zr(),wt=null,At=Ll;At!==null;){var jt=At.next,Dt=yp(At,Et);Dt===0?(At.next=null,wt===null?Ll=jt:wt.next=jt,jt===null&&(Fa=wt)):(wt=At,(vt!==0||(Dt&3)!==0)&&(jl=!0)),At=jt}Bn!==0&&Bn!==5||Po(vt),Ms!==0&&(Ms=0)}function yp(vt,Et){for(var wt=vt.suspendedLanes,At=vt.pingedLanes,jt=vt.expirationTimes,Dt=vt.pendingLanes&-62914561;0<Dt;){var Yt=31-qr(Dt),er=1<<Yt,sr=jt[Yt];sr===-1?((er&wt)===0||(er&At)!==0)&&(jt[Yt]=pn(er,Et)):sr<=Et&&(vt.expiredLanes|=er),Dt&=~er}if(Et=Cn,wt=ln,wt=oi(vt,vt===Et?wt:0,vt.cancelPendingCommit!==null||vt.timeoutHandle!==-1),At=vt.callbackNode,wt===0||vt===Et&&(gn===2||gn===9)||vt.cancelPendingCommit!==null)return At!==null&&At!==null&&Kr(At),vt.callbackNode=null,vt.callbackPriority=0;if((wt&3)===0||Ii(vt,wt)){if(Et=wt&-wt,Et===vt.callbackPriority)return Et;switch(At!==null&&Kr(At),ui(wt)){case 2:case 8:wt=hr;break;case 32:wt=Tr;break;case 268435456:wt=Dr;break;default:wt=Tr}return At=xp.bind(null,vt),wt=Jr(wt,At),vt.callbackPriority=Et,vt.callbackNode=wt,Et}return At!==null&&At!==null&&Kr(At),vt.callbackPriority=2,vt.callbackNode=null,2}function xp(vt,Et){if(Bn!==0&&Bn!==5)return vt.callbackNode=null,vt.callbackPriority=0,null;var wt=vt.callbackNode;if(Il()&&vt.callbackNode!==wt)return null;var At=ln;return At=oi(vt,vt===Cn?At:0,vt.cancelPendingCommit!==null||vt.timeoutHandle!==-1),At===0?null:(Yf(vt,At,Et),yp(vt,Zr()),vt.callbackNode!=null&&vt.callbackNode===wt?xp.bind(null,vt):null)}function vp(vt,Et){if(Il())return null;Yf(vt,Et,!0)}function Ig(){Hg(function(){(mn&6)!==0?Jr(yr,Pg):gp()})}function Du(){if(Ms===0){var vt=Sa;vt===0&&(vt=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),Ms=vt}return Ms}function bp(vt){return vt==null||typeof vt=="symbol"||typeof vt=="boolean"?null:typeof vt=="function"?vt:zo(""+vt)}function _p(vt,Et){var wt=Et.ownerDocument.createElement("input");return wt.name=Et.name,wt.value=Et.value,vt.id&&wt.setAttribute("form",vt.id),Et.parentNode.insertBefore(wt,Et),vt=new FormData(vt),wt.parentNode.removeChild(wt),vt}function Lg(vt,Et,wt,At,jt){if(Et==="submit"&&wt&&wt.stateNode===jt){var Dt=bp((jt[Sn]||null).action),Yt=At.submitter;Yt&&(Et=(Et=Yt[Sn]||null)?bp(Et.formAction):Yt.getAttribute("formAction"),Et!==null&&(Dt=Et,Yt=null));var er=new Go("action","action",null,At,jt);vt.push({event:er,listeners:[{instance:null,listener:function(){if(At.defaultPrevented){if(Ms!==0){var sr=Yt?_p(jt,Yt):new FormData(jt);ru(wt,{pending:!0,data:sr,method:jt.method,action:Dt},null,sr)}}else typeof Dt=="function"&&(er.preventDefault(),sr=Yt?_p(jt,Yt):new FormData(jt),ru(wt,{pending:!0,data:sr,method:jt.method,action:Dt},Dt,sr))},currentTarget:jt}]})}}for(var $u=0;$u<vc.length;$u++){var Nu=vc[$u],jg=Nu.toLowerCase(),Og=Nu[0].toUpperCase()+Nu.slice(1);ji(jg,"on"+Og)}ji(Wd,"onAnimationEnd"),ji(Kd,"onAnimationIteration"),ji(Zd,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Xm,"onTransitionRun"),ji(Qm,"onTransitionStart"),ji(Jm,"onTransitionCancel"),ji(Yd,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function Ep(vt,Et){Et=(Et&4)!==0;for(var wt=0;wt<vt.length;wt++){var At=vt[wt],jt=At.event;At=At.listeners;e:{var Dt=void 0;if(Et)for(var Yt=At.length-1;0<=Yt;Yt--){var er=At[Yt],sr=er.instance,mr=er.currentTarget;if(er=er.listener,sr!==Dt&&jt.isPropagationStopped())break e;Dt=er,jt.currentTarget=mr;try{Dt(jt)}catch(Sr){Zo(Sr)}jt.currentTarget=null,Dt=sr}else for(Yt=0;Yt<At.length;Yt++){if(er=At[Yt],sr=er.instance,mr=er.currentTarget,er=er.listener,sr!==Dt&&jt.isPropagationStopped())break e;Dt=er,jt.currentTarget=mr;try{Dt(jt)}catch(Sr){Zo(Sr)}jt.currentTarget=null,Dt=sr}}}}function on(vt,Et){var wt=Et[Ni];wt===void 0&&(wt=Et[Ni]=new Set);var At=vt+"__bubble";wt.has(At)||(Cp(Et,vt,2,!1),wt.add(At))}function Fu(vt,Et,wt){var At=0;Et&&(At|=4),Cp(wt,vt,At,Et)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function qu(vt){if(!vt[Ol]){vt[Ol]=!0,tn.forEach(function(wt){wt!=="selectionchange"&&(Dg.has(wt)||Fu(wt,!1,vt),Fu(wt,!0,vt))});var Et=vt.nodeType===9?vt:vt.ownerDocument;Et===null||Et[Ol]||(Et[Ol]=!0,Fu("selectionchange",!1,Et))}}function Cp(vt,Et,wt,At){switch(Qp(Et)){case 2:var jt=u1;break;case 8:jt=d1;break;default:jt=td}wt=jt.bind(null,Et,wt,vt),jt=void 0,!ac||Et!=="touchstart"&&Et!=="touchmove"&&Et!=="wheel"||(jt=!0),At?jt!==void 0?vt.addEventListener(Et,wt,{capture:!0,passive:jt}):vt.addEventListener(Et,wt,!0):jt!==void 0?vt.addEventListener(Et,wt,{passive:jt}):vt.addEventListener(Et,wt,!1)}function Bu(vt,Et,wt,At,jt){var Dt=At;if((Et&1)===0&&(Et&2)===0&&At!==null)e:for(;;){if(At===null)return;var Yt=At.tag;if(Yt===3||Yt===4){var er=At.stateNode.containerInfo;if(er===jt)break;if(Yt===4)for(Yt=At.return;Yt!==null;){var sr=Yt.tag;if((sr===3||sr===4)&&Yt.stateNode.containerInfo===jt)return;Yt=Yt.return}for(;er!==null;){if(Yt=Ar(er),Yt===null)return;if(sr=Yt.tag,sr===5||sr===6||sr===26||sr===27){At=Dt=Yt;continue e}er=er.parentNode}}At=At.return}Cd(function(){var mr=Dt,Sr=ic(wt),kr=[];e:{var gr=Xd.get(vt);if(gr!==void 0){var vr=Go,Vr=vt;switch(vt){case"keypress":if(Ho(wt)===0)break e;case"keydown":case"keyup":vr=Am;break;case"focusin":Vr="focus",vr=uc;break;case"focusout":Vr="blur",vr=uc;break;case"beforeblur":case"afterblur":vr=uc;break;case"click":if(wt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vr=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vr=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vr=Im;break;case Wd:case Kd:case Zd:vr=bm;break;case Yd:vr=jm;break;case"scroll":case"scrollend":vr=mm;break;case"wheel":vr=Dm;break;case"copy":case"cut":case"paste":vr=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vr=Td;break;case"toggle":case"beforetoggle":vr=Nm}var Yr=(Et&4)!==0,_n=!Yr&&(vt==="scroll"||vt==="scrollend"),ur=Yr?gr!==null?gr+"Capture":null:gr;Yr=[];for(var lr=mr,pr;lr!==null;){var wr=lr;if(pr=wr.stateNode,wr=wr.tag,wr!==5&&wr!==26&&wr!==27||pr===null||ur===null||(wr=Ja(lr,ur),wr!=null&&Yr.push(Lo(lr,wr,pr))),_n)break;lr=lr.return}0<Yr.length&&(gr=new vr(gr,Vr,null,wt,Sr),kr.push({event:gr,listeners:Yr}))}}if((Et&7)===0){e:{if(gr=vt==="mouseover"||vt==="pointerover",vr=vt==="mouseout"||vt==="pointerout",gr&&wt!==nc&&(Vr=wt.relatedTarget||wt.fromElement)&&(Ar(Vr)||Vr[bi]))break e;if((vr||gr)&&(gr=Sr.window===Sr?Sr:(gr=Sr.ownerDocument)?gr.defaultView||gr.parentWindow:window,vr?(Vr=wt.relatedTarget||wt.toElement,vr=mr,Vr=Vr?Ar(Vr):null,Vr!==null&&(_n=ut(Vr),Yr=Vr.tag,Vr!==_n||Yr!==5&&Yr!==27&&Yr!==6)&&(Vr=null)):(vr=null,Vr=mr),vr!==Vr)){if(Yr=kd,wr="onMouseLeave",ur="onMouseEnter",lr="mouse",(vt==="pointerout"||vt==="pointerover")&&(Yr=Td,wr="onPointerLeave",ur="onPointerEnter",lr="pointer"),_n=vr==null?gr:Cr(vr),pr=Vr==null?gr:Cr(Vr),gr=new Yr(wr,lr+"leave",vr,wt,Sr),gr.target=_n,gr.relatedTarget=pr,wr=null,Ar(Sr)===mr&&(Yr=new Yr(ur,lr+"enter",Vr,wt,Sr),Yr.target=pr,Yr.relatedTarget=_n,wr=Yr),_n=wr,vr&&Vr)t:{for(Yr=$g,ur=vr,lr=Vr,pr=0,wr=ur;wr;wr=Yr(wr))pr++;wr=0;for(var Wr=lr;Wr;Wr=Yr(Wr))wr++;for(;0<pr-wr;)ur=Yr(ur),pr--;for(;0<wr-pr;)lr=Yr(lr),wr--;for(;pr--;){if(ur===lr||lr!==null&&ur===lr.alternate){Yr=ur;break t}ur=Yr(ur),lr=Yr(lr)}Yr=null}else Yr=null;vr!==null&&Sp(kr,gr,vr,Yr,!1),Vr!==null&&_n!==null&&Sp(kr,_n,Vr,Yr,!0)}}e:{if(gr=mr?Cr(mr):window,vr=gr.nodeName&&gr.nodeName.toLowerCase(),vr==="select"||vr==="input"&&gr.type==="file")var dn=Dd;else if(jd(gr))if($d)dn=Km;else{dn=Gm;var Gr=Um}else vr=gr.nodeName,!vr||vr.toLowerCase()!=="input"||gr.type!=="checkbox"&&gr.type!=="radio"?mr&&rc(mr.elementType)&&(dn=Dd):dn=Wm;if(dn&&(dn=dn(vt,mr))){Od(kr,dn,wt,Sr);break e}Gr&&Gr(vt,gr,mr),vt==="focusout"&&mr&&gr.type==="number"&&mr.memoizedProps.value!=null&&tc(gr,"number",gr.value)}switch(Gr=mr?Cr(mr):window,vt){case"focusin":(jd(Gr)||Gr.contentEditable==="true")&&(ma=Gr,gc=mr,oo=null);break;case"focusout":oo=gc=ma=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Ud(kr,wt,Sr);break;case"selectionchange":if(Ym)break;case"keydown":case"keyup":Ud(kr,wt,Sr)}var rn;if(hc)e:{switch(vt){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else pa?Id(vt,wt)&&(cn="onCompositionEnd"):vt==="keydown"&&wt.keyCode===229&&(cn="onCompositionStart");cn&&(Ad&&wt.locale!=="ko"&&(pa||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&pa&&(rn=Sd()):(ps=Sr,oc="value"in ps?ps.value:ps.textContent,pa=!0)),Gr=Dl(mr,cn),0<Gr.length&&(cn=new Rd(cn,vt,null,wt,Sr),kr.push({event:cn,listeners:Gr}),rn?cn.data=rn:(rn=Ld(wt),rn!==null&&(cn.data=rn)))),(rn=qm?Bm(vt,wt):zm(vt,wt))&&(cn=Dl(mr,"onBeforeInput"),0<cn.length&&(Gr=new Rd("onBeforeInput","beforeinput",null,wt,Sr),kr.push({event:Gr,listeners:cn}),Gr.data=rn)),Lg(kr,vt,mr,wt,Sr)}Ep(kr,Et)})}function Lo(vt,Et,wt){return{instance:vt,listener:Et,currentTarget:wt}}function Dl(vt,Et){for(var wt=Et+"Capture",At=[];vt!==null;){var jt=vt,Dt=jt.stateNode;if(jt=jt.tag,jt!==5&&jt!==26&&jt!==27||Dt===null||(jt=Ja(vt,wt),jt!=null&&At.unshift(Lo(vt,jt,Dt)),jt=Ja(vt,Et),jt!=null&&At.push(Lo(vt,jt,Dt))),vt.tag===3)return At;vt=vt.return}return[]}function $g(vt){if(vt===null)return null;do vt=vt.return;while(vt&&vt.tag!==5&&vt.tag!==27);return vt||null}function Sp(vt,Et,wt,At,jt){for(var Dt=Et._reactName,Yt=[];wt!==null&&wt!==At;){var er=wt,sr=er.alternate,mr=er.stateNode;if(er=er.tag,sr!==null&&sr===At)break;er!==5&&er!==26&&er!==27||mr===null||(sr=mr,jt?(mr=Ja(wt,Dt),mr!=null&&Yt.unshift(Lo(wt,mr,sr))):jt||(mr=Ja(wt,Dt),mr!=null&&Yt.push(Lo(wt,mr,sr)))),wt=wt.return}Yt.length!==0&&vt.push({event:Et,listeners:Yt})}var Ng=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function wp(vt){return(typeof vt=="string"?vt:""+vt).replace(Ng,`
`).replace(Fg,"")}function kp(vt,Et){return Et=wp(Et),wp(vt)===Et}function bn(vt,Et,wt,At,jt,Dt){switch(wt){case"children":typeof At=="string"?Et==="body"||Et==="textarea"&&At===""||da(vt,At):(typeof At=="number"||typeof At=="bigint")&&Et!=="body"&&da(vt,""+At);break;case"className":Vs(vt,"class",At);break;case"tabIndex":Vs(vt,"tabindex",At);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(vt,wt,At);break;case"style":_d(vt,At,Dt);break;case"data":if(Et!=="object"){Vs(vt,"data",At);break}case"src":case"href":if(At===""&&(Et!=="a"||wt!=="href")){vt.removeAttribute(wt);break}if(At==null||typeof At=="function"||typeof At=="symbol"||typeof At=="boolean"){vt.removeAttribute(wt);break}At=zo(""+At),vt.setAttribute(wt,At);break;case"action":case"formAction":if(typeof At=="function"){vt.setAttribute(wt,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Dt=="function"&&(wt==="formAction"?(Et!=="input"&&bn(vt,Et,"name",jt.name,jt,null),bn(vt,Et,"formEncType",jt.formEncType,jt,null),bn(vt,Et,"formMethod",jt.formMethod,jt,null),bn(vt,Et,"formTarget",jt.formTarget,jt,null)):(bn(vt,Et,"encType",jt.encType,jt,null),bn(vt,Et,"method",jt.method,jt,null),bn(vt,Et,"target",jt.target,jt,null)));if(At==null||typeof At=="symbol"||typeof At=="boolean"){vt.removeAttribute(wt);break}At=zo(""+At),vt.setAttribute(wt,At);break;case"onClick":At!=null&&(vt.onclick=Gi);break;case"onScroll":At!=null&&on("scroll",vt);break;case"onScrollEnd":At!=null&&on("scrollend",vt);break;case"dangerouslySetInnerHTML":if(At!=null){if(typeof At!="object"||!("__html"in At))throw Error(lt(61));if(wt=At.__html,wt!=null){if(jt.children!=null)throw Error(lt(60));vt.innerHTML=wt}}break;case"multiple":vt.multiple=At&&typeof At!="function"&&typeof At!="symbol";break;case"muted":vt.muted=At&&typeof At!="function"&&typeof At!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(At==null||typeof At=="function"||typeof At=="boolean"||typeof At=="symbol"){vt.removeAttribute("xlink:href");break}wt=zo(""+At),vt.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",wt);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":At!=null&&typeof At!="function"&&typeof At!="symbol"?vt.setAttribute(wt,""+At):vt.removeAttribute(wt);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":At&&typeof At!="function"&&typeof At!="symbol"?vt.setAttribute(wt,""):vt.removeAttribute(wt);break;case"capture":case"download":At===!0?vt.setAttribute(wt,""):At!==!1&&At!=null&&typeof At!="function"&&typeof At!="symbol"?vt.setAttribute(wt,At):vt.removeAttribute(wt);break;case"cols":case"rows":case"size":case"span":At!=null&&typeof At!="function"&&typeof At!="symbol"&&!isNaN(At)&&1<=At?vt.setAttribute(wt,At):vt.removeAttribute(wt);break;case"rowSpan":case"start":At==null||typeof At=="function"||typeof At=="symbol"||isNaN(At)?vt.removeAttribute(wt):vt.setAttribute(wt,At);break;case"popover":on("beforetoggle",vt),on("toggle",vt),zs(vt,"popover",At);break;case"xlinkActuate":Li(vt,"http://www.w3.org/1999/xlink","xlink:actuate",At);break;case"xlinkArcrole":Li(vt,"http://www.w3.org/1999/xlink","xlink:arcrole",At);break;case"xlinkRole":Li(vt,"http://www.w3.org/1999/xlink","xlink:role",At);break;case"xlinkShow":Li(vt,"http://www.w3.org/1999/xlink","xlink:show",At);break;case"xlinkTitle":Li(vt,"http://www.w3.org/1999/xlink","xlink:title",At);break;case"xlinkType":Li(vt,"http://www.w3.org/1999/xlink","xlink:type",At);break;case"xmlBase":Li(vt,"http://www.w3.org/XML/1998/namespace","xml:base",At);break;case"xmlLang":Li(vt,"http://www.w3.org/XML/1998/namespace","xml:lang",At);break;case"xmlSpace":Li(vt,"http://www.w3.org/XML/1998/namespace","xml:space",At);break;case"is":zs(vt,"is",At);break;case"innerText":case"textContent":break;default:(!(2<wt.length)||wt[0]!=="o"&&wt[0]!=="O"||wt[1]!=="n"&&wt[1]!=="N")&&(wt=fm.get(wt)||wt,zs(vt,wt,At))}}function zu(vt,Et,wt,At,jt,Dt){switch(wt){case"style":_d(vt,At,Dt);break;case"dangerouslySetInnerHTML":if(At!=null){if(typeof At!="object"||!("__html"in At))throw Error(lt(61));if(wt=At.__html,wt!=null){if(jt.children!=null)throw Error(lt(60));vt.innerHTML=wt}}break;case"children":typeof At=="string"?da(vt,At):(typeof At=="number"||typeof At=="bigint")&&da(vt,""+At);break;case"onScroll":At!=null&&on("scroll",vt);break;case"onScrollEnd":At!=null&&on("scrollend",vt);break;case"onClick":At!=null&&(vt.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!En.hasOwnProperty(wt))e:{if(wt[0]==="o"&&wt[1]==="n"&&(jt=wt.endsWith("Capture"),Et=wt.slice(2,jt?wt.length-7:void 0),Dt=vt[Sn]||null,Dt=Dt!=null?Dt[wt]:null,typeof Dt=="function"&&vt.removeEventListener(Et,Dt,jt),typeof At=="function")){typeof Dt!="function"&&Dt!==null&&(wt in vt?vt[wt]=null:vt.hasAttribute(wt)&&vt.removeAttribute(wt)),vt.addEventListener(Et,At,jt);break e}wt in vt?vt[wt]=At:At===!0?vt.setAttribute(wt,""):zs(vt,wt,At)}}}function Gn(vt,Et,wt){switch(Et){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",vt),on("load",vt);var At=!1,jt=!1,Dt;for(Dt in wt)if(wt.hasOwnProperty(Dt)){var Yt=wt[Dt];if(Yt!=null)switch(Dt){case"src":At=!0;break;case"srcSet":jt=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(lt(137,Et));default:bn(vt,Et,Dt,Yt,wt,null)}}jt&&bn(vt,Et,"srcSet",wt.srcSet,wt,null),At&&bn(vt,Et,"src",wt.src,wt,null);return;case"input":on("invalid",vt);var er=Dt=Yt=jt=null,sr=null,mr=null;for(At in wt)if(wt.hasOwnProperty(At)){var Sr=wt[At];if(Sr!=null)switch(At){case"name":jt=Sr;break;case"type":Yt=Sr;break;case"checked":sr=Sr;break;case"defaultChecked":mr=Sr;break;case"value":Dt=Sr;break;case"defaultValue":er=Sr;break;case"children":case"dangerouslySetInnerHTML":if(Sr!=null)throw Error(lt(137,Et));break;default:bn(vt,Et,At,Sr,wt,null)}}yd(vt,Dt,er,sr,mr,Yt,jt,!1);return;case"select":on("invalid",vt),At=Yt=Dt=null;for(jt in wt)if(wt.hasOwnProperty(jt)&&(er=wt[jt],er!=null))switch(jt){case"value":Dt=er;break;case"defaultValue":Yt=er;break;case"multiple":At=er;default:bn(vt,Et,jt,er,wt,null)}Et=Dt,wt=Yt,vt.multiple=!!At,Et!=null?ua(vt,!!At,Et,!1):wt!=null&&ua(vt,!!At,wt,!0);return;case"textarea":on("invalid",vt),Dt=jt=At=null;for(Yt in wt)if(wt.hasOwnProperty(Yt)&&(er=wt[Yt],er!=null))switch(Yt){case"value":At=er;break;case"defaultValue":jt=er;break;case"children":Dt=er;break;case"dangerouslySetInnerHTML":if(er!=null)throw Error(lt(91));break;default:bn(vt,Et,Yt,er,wt,null)}vd(vt,At,jt,Dt);return;case"option":for(sr in wt)if(wt.hasOwnProperty(sr)&&(At=wt[sr],At!=null))switch(sr){case"selected":vt.selected=At&&typeof At!="function"&&typeof At!="symbol";break;default:bn(vt,Et,sr,At,wt,null)}return;case"dialog":on("beforetoggle",vt),on("toggle",vt),on("cancel",vt),on("close",vt);break;case"iframe":case"object":on("load",vt);break;case"video":case"audio":for(At=0;At<Io.length;At++)on(Io[At],vt);break;case"image":on("error",vt),on("load",vt);break;case"details":on("toggle",vt);break;case"embed":case"source":case"link":on("error",vt),on("load",vt);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mr in wt)if(wt.hasOwnProperty(mr)&&(At=wt[mr],At!=null))switch(mr){case"children":case"dangerouslySetInnerHTML":throw Error(lt(137,Et));default:bn(vt,Et,mr,At,wt,null)}return;default:if(rc(Et)){for(Sr in wt)wt.hasOwnProperty(Sr)&&(At=wt[Sr],At!==void 0&&zu(vt,Et,Sr,At,wt,void 0));return}}for(er in wt)wt.hasOwnProperty(er)&&(At=wt[er],At!=null&&bn(vt,Et,er,At,wt,null))}function qg(vt,Et,wt,At){switch(Et){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var jt=null,Dt=null,Yt=null,er=null,sr=null,mr=null,Sr=null;for(vr in wt){var kr=wt[vr];if(wt.hasOwnProperty(vr)&&kr!=null)switch(vr){case"checked":break;case"value":break;case"defaultValue":sr=kr;default:At.hasOwnProperty(vr)||bn(vt,Et,vr,null,At,kr)}}for(var gr in At){var vr=At[gr];if(kr=wt[gr],At.hasOwnProperty(gr)&&(vr!=null||kr!=null))switch(gr){case"type":Dt=vr;break;case"name":jt=vr;break;case"checked":mr=vr;break;case"defaultChecked":Sr=vr;break;case"value":Yt=vr;break;case"defaultValue":er=vr;break;case"children":case"dangerouslySetInnerHTML":if(vr!=null)throw Error(lt(137,Et));break;default:vr!==kr&&bn(vt,Et,gr,vr,At,kr)}}ec(vt,Yt,er,sr,mr,Sr,Dt,jt);return;case"select":vr=Yt=er=gr=null;for(Dt in wt)if(sr=wt[Dt],wt.hasOwnProperty(Dt)&&sr!=null)switch(Dt){case"value":break;case"multiple":vr=sr;default:At.hasOwnProperty(Dt)||bn(vt,Et,Dt,null,At,sr)}for(jt in At)if(Dt=At[jt],sr=wt[jt],At.hasOwnProperty(jt)&&(Dt!=null||sr!=null))switch(jt){case"value":gr=Dt;break;case"defaultValue":er=Dt;break;case"multiple":Yt=Dt;default:Dt!==sr&&bn(vt,Et,jt,Dt,At,sr)}Et=er,wt=Yt,At=vr,gr!=null?ua(vt,!!wt,gr,!1):!!At!=!!wt&&(Et!=null?ua(vt,!!wt,Et,!0):ua(vt,!!wt,wt?[]:"",!1));return;case"textarea":vr=gr=null;for(er in wt)if(jt=wt[er],wt.hasOwnProperty(er)&&jt!=null&&!At.hasOwnProperty(er))switch(er){case"value":break;case"children":break;default:bn(vt,Et,er,null,At,jt)}for(Yt in At)if(jt=At[Yt],Dt=wt[Yt],At.hasOwnProperty(Yt)&&(jt!=null||Dt!=null))switch(Yt){case"value":gr=jt;break;case"defaultValue":vr=jt;break;case"children":break;case"dangerouslySetInnerHTML":if(jt!=null)throw Error(lt(91));break;default:jt!==Dt&&bn(vt,Et,Yt,jt,At,Dt)}xd(vt,gr,vr);return;case"option":for(var Vr in wt)if(gr=wt[Vr],wt.hasOwnProperty(Vr)&&gr!=null&&!At.hasOwnProperty(Vr))switch(Vr){case"selected":vt.selected=!1;break;default:bn(vt,Et,Vr,null,At,gr)}for(sr in At)if(gr=At[sr],vr=wt[sr],At.hasOwnProperty(sr)&&gr!==vr&&(gr!=null||vr!=null))switch(sr){case"selected":vt.selected=gr&&typeof gr!="function"&&typeof gr!="symbol";break;default:bn(vt,Et,sr,gr,At,vr)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yr in wt)gr=wt[Yr],wt.hasOwnProperty(Yr)&&gr!=null&&!At.hasOwnProperty(Yr)&&bn(vt,Et,Yr,null,At,gr);for(mr in At)if(gr=At[mr],vr=wt[mr],At.hasOwnProperty(mr)&&gr!==vr&&(gr!=null||vr!=null))switch(mr){case"children":case"dangerouslySetInnerHTML":if(gr!=null)throw Error(lt(137,Et));break;default:bn(vt,Et,mr,gr,At,vr)}return;default:if(rc(Et)){for(var _n in wt)gr=wt[_n],wt.hasOwnProperty(_n)&&gr!==void 0&&!At.hasOwnProperty(_n)&&zu(vt,Et,_n,void 0,At,gr);for(Sr in At)gr=At[Sr],vr=wt[Sr],!At.hasOwnProperty(Sr)||gr===vr||gr===void 0&&vr===void 0||zu(vt,Et,Sr,gr,At,vr);return}}for(var ur in wt)gr=wt[ur],wt.hasOwnProperty(ur)&&gr!=null&&!At.hasOwnProperty(ur)&&bn(vt,Et,ur,null,At,gr);for(kr in At)gr=At[kr],vr=wt[kr],!At.hasOwnProperty(kr)||gr===vr||gr==null&&vr==null||bn(vt,Et,kr,gr,At,vr)}function Rp(vt){switch(vt){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bg(){if(typeof performance.getEntriesByType=="function"){for(var vt=0,Et=0,wt=performance.getEntriesByType("resource"),At=0;At<wt.length;At++){var jt=wt[At],Dt=jt.transferSize,Yt=jt.initiatorType,er=jt.duration;if(Dt&&er&&Rp(Yt)){for(Yt=0,er=jt.responseEnd,At+=1;At<wt.length;At++){var sr=wt[At],mr=sr.startTime;if(mr>er)break;var Sr=sr.transferSize,kr=sr.initiatorType;Sr&&Rp(kr)&&(sr=sr.responseEnd,Yt+=Sr*(sr<er?1:(er-mr)/(sr-mr)))}if(--At,Et+=8*(Dt+Yt)/(jt.duration/1e3),vt++,10<vt)break}}if(0<vt)return Et/vt/1e6}return navigator.connection&&(vt=navigator.connection.downlink,typeof vt=="number")?vt:5}var Vu=null,Hu=null;function $l(vt){return vt.nodeType===9?vt:vt.ownerDocument}function Tp(vt){switch(vt){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ap(vt,Et){if(vt===0)switch(Et){case"svg":return 1;case"math":return 2;default:return 0}return vt===1&&Et==="foreignObject"?0:vt}function Uu(vt,Et){return vt==="textarea"||vt==="noscript"||typeof Et.children=="string"||typeof Et.children=="number"||typeof Et.children=="bigint"||typeof Et.dangerouslySetInnerHTML=="object"&&Et.dangerouslySetInnerHTML!==null&&Et.dangerouslySetInnerHTML.__html!=null}var Gu=null;function zg(){var vt=window.event;return vt&&vt.type==="popstate"?vt===Gu?!1:(Gu=vt,!0):(Gu=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(vt){return Pp.resolve(null).then(vt).catch(Ug)}:Mp;function Ug(vt){setTimeout(function(){throw vt})}function Ps(vt){return vt==="head"}function Ip(vt,Et){var wt=Et,At=0;do{var jt=wt.nextSibling;if(vt.removeChild(wt),jt&&jt.nodeType===8)if(wt=jt.data,wt==="/$"||wt==="/&"){if(At===0){vt.removeChild(jt),Va(Et);return}At--}else if(wt==="$"||wt==="$?"||wt==="$~"||wt==="$!"||wt==="&")At++;else if(wt==="html")jo(vt.ownerDocument.documentElement);else if(wt==="head"){wt=vt.ownerDocument.head,jo(wt);for(var Dt=wt.firstChild;Dt;){var Yt=Dt.nextSibling,er=Dt.nodeName;Dt[Hr]||er==="SCRIPT"||er==="STYLE"||er==="LINK"&&Dt.rel.toLowerCase()==="stylesheet"||wt.removeChild(Dt),Dt=Yt}}else wt==="body"&&jo(vt.ownerDocument.body);wt=jt}while(wt);Va(Et)}function Lp(vt,Et){var wt=vt;vt=0;do{var At=wt.nextSibling;if(wt.nodeType===1?Et?(wt._stashedDisplay=wt.style.display,wt.style.display="none"):(wt.style.display=wt._stashedDisplay||"",wt.getAttribute("style")===""&&wt.removeAttribute("style")):wt.nodeType===3&&(Et?(wt._stashedText=wt.nodeValue,wt.nodeValue=""):wt.nodeValue=wt._stashedText||""),At&&At.nodeType===8)if(wt=At.data,wt==="/$"){if(vt===0)break;vt--}else wt!=="$"&&wt!=="$?"&&wt!=="$~"&&wt!=="$!"||vt++;wt=At}while(wt)}function Wu(vt){var Et=vt.firstChild;for(Et&&Et.nodeType===10&&(Et=Et.nextSibling);Et;){var wt=Et;switch(Et=Et.nextSibling,wt.nodeName){case"HTML":case"HEAD":case"BODY":Wu(wt),or(wt);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(wt.rel.toLowerCase()==="stylesheet")continue}vt.removeChild(wt)}}function Gg(vt,Et,wt,At){for(;vt.nodeType===1;){var jt=wt;if(vt.nodeName.toLowerCase()!==Et.toLowerCase()){if(!At&&(vt.nodeName!=="INPUT"||vt.type!=="hidden"))break}else if(At){if(!vt[Hr])switch(Et){case"meta":if(!vt.hasAttribute("itemprop"))break;return vt;case"link":if(Dt=vt.getAttribute("rel"),Dt==="stylesheet"&&vt.hasAttribute("data-precedence"))break;if(Dt!==jt.rel||vt.getAttribute("href")!==(jt.href==null||jt.href===""?null:jt.href)||vt.getAttribute("crossorigin")!==(jt.crossOrigin==null?null:jt.crossOrigin)||vt.getAttribute("title")!==(jt.title==null?null:jt.title))break;return vt;case"style":if(vt.hasAttribute("data-precedence"))break;return vt;case"script":if(Dt=vt.getAttribute("src"),(Dt!==(jt.src==null?null:jt.src)||vt.getAttribute("type")!==(jt.type==null?null:jt.type)||vt.getAttribute("crossorigin")!==(jt.crossOrigin==null?null:jt.crossOrigin))&&Dt&&vt.hasAttribute("async")&&!vt.hasAttribute("itemprop"))break;return vt;default:return vt}}else if(Et==="input"&&vt.type==="hidden"){var Dt=jt.name==null?null:""+jt.name;if(jt.type==="hidden"&&vt.getAttribute("name")===Dt)return vt}else return vt;if(vt=Ai(vt.nextSibling),vt===null)break}return null}function Wg(vt,Et,wt){if(Et==="")return null;for(;vt.nodeType!==3;)if((vt.nodeType!==1||vt.nodeName!=="INPUT"||vt.type!=="hidden")&&!wt||(vt=Ai(vt.nextSibling),vt===null))return null;return vt}function jp(vt,Et){for(;vt.nodeType!==8;)if((vt.nodeType!==1||vt.nodeName!=="INPUT"||vt.type!=="hidden")&&!Et||(vt=Ai(vt.nextSibling),vt===null))return null;return vt}function Ku(vt){return vt.data==="$?"||vt.data==="$~"}function Zu(vt){return vt.data==="$!"||vt.data==="$?"&&vt.ownerDocument.readyState!=="loading"}function Kg(vt,Et){var wt=vt.ownerDocument;if(vt.data==="$~")vt._reactRetry=Et;else if(vt.data!=="$?"||wt.readyState!=="loading")Et();else{var At=function(){Et(),wt.removeEventListener("DOMContentLoaded",At)};wt.addEventListener("DOMContentLoaded",At),vt._reactRetry=At}}function Ai(vt){for(;vt!=null;vt=vt.nextSibling){var Et=vt.nodeType;if(Et===1||Et===3)break;if(Et===8){if(Et=vt.data,Et==="$"||Et==="$!"||Et==="$?"||Et==="$~"||Et==="&"||Et==="F!"||Et==="F")break;if(Et==="/$"||Et==="/&")return null}}return vt}var Yu=null;function Op(vt){vt=vt.nextSibling;for(var Et=0;vt;){if(vt.nodeType===8){var wt=vt.data;if(wt==="/$"||wt==="/&"){if(Et===0)return Ai(vt.nextSibling);Et--}else wt!=="$"&&wt!=="$!"&&wt!=="$?"&&wt!=="$~"&&wt!=="&"||Et++}vt=vt.nextSibling}return null}function Dp(vt){vt=vt.previousSibling;for(var Et=0;vt;){if(vt.nodeType===8){var wt=vt.data;if(wt==="$"||wt==="$!"||wt==="$?"||wt==="$~"||wt==="&"){if(Et===0)return vt;Et--}else wt!=="/$"&&wt!=="/&"||Et++}vt=vt.previousSibling}return null}function $p(vt,Et,wt){switch(Et=$l(wt),vt){case"html":if(vt=Et.documentElement,!vt)throw Error(lt(452));return vt;case"head":if(vt=Et.head,!vt)throw Error(lt(453));return vt;case"body":if(vt=Et.body,!vt)throw Error(lt(454));return vt;default:throw Error(lt(451))}}function jo(vt){for(var Et=vt.attributes;Et.length;)vt.removeAttributeNode(Et[0]);or(vt)}var Mi=new Map,Np=new Set;function Nl(vt){return typeof vt.getRootNode=="function"?vt.getRootNode():vt.nodeType===9?vt:vt.ownerDocument}var us=zt.d;zt.d={f:Zg,r:Yg,D:Xg,C:Qg,L:Jg,m:e1,X:r1,S:t1,M:n1};function Zg(){var vt=us.f(),Et=Al();return vt||Et}function Yg(vt){var Et=Nr(vt);Et!==null&&Et.tag===5&&Et.type==="form"?Xh(Et):us.r(vt)}var qa=typeof document>"u"?null:document;function Fp(vt,Et,wt){var At=qa;if(At&&typeof Et=="string"&&Et){var jt=Ei(Et);jt='link[rel="'+vt+'"][href="'+jt+'"]',typeof wt=="string"&&(jt+='[crossorigin="'+wt+'"]'),Np.has(jt)||(Np.add(jt),vt={rel:vt,crossOrigin:wt,href:Et},At.querySelector(jt)===null&&(Et=At.createElement("link"),Gn(Et,"link",vt),Pr(Et),At.head.appendChild(Et)))}}function Xg(vt){us.D(vt),Fp("dns-prefetch",vt,null)}function Qg(vt,Et){us.C(vt,Et),Fp("preconnect",vt,Et)}function Jg(vt,Et,wt){us.L(vt,Et,wt);var At=qa;if(At&&vt&&Et){var jt='link[rel="preload"][as="'+Ei(Et)+'"]';Et==="image"&&wt&&wt.imageSrcSet?(jt+='[imagesrcset="'+Ei(wt.imageSrcSet)+'"]',typeof wt.imageSizes=="string"&&(jt+='[imagesizes="'+Ei(wt.imageSizes)+'"]')):jt+='[href="'+Ei(vt)+'"]';var Dt=jt;switch(Et){case"style":Dt=Ba(vt);break;case"script":Dt=za(vt)}Mi.has(Dt)||(vt=yt({rel:"preload",href:Et==="image"&&wt&&wt.imageSrcSet?void 0:vt,as:Et},wt),Mi.set(Dt,vt),At.querySelector(jt)!==null||Et==="style"&&At.querySelector(Oo(Dt))||Et==="script"&&At.querySelector(Do(Dt))||(Et=At.createElement("link"),Gn(Et,"link",vt),Pr(Et),At.head.appendChild(Et)))}}function e1(vt,Et){us.m(vt,Et);var wt=qa;if(wt&&vt){var At=Et&&typeof Et.as=="string"?Et.as:"script",jt='link[rel="modulepreload"][as="'+Ei(At)+'"][href="'+Ei(vt)+'"]',Dt=jt;switch(At){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Dt=za(vt)}if(!Mi.has(Dt)&&(vt=yt({rel:"modulepreload",href:vt},Et),Mi.set(Dt,vt),wt.querySelector(jt)===null)){switch(At){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(wt.querySelector(Do(Dt)))return}At=wt.createElement("link"),Gn(At,"link",vt),Pr(At),wt.head.appendChild(At)}}}function t1(vt,Et,wt){us.S(vt,Et,wt);var At=qa;if(At&&vt){var jt=zr(At).hoistableStyles,Dt=Ba(vt);Et=Et||"default";var Yt=jt.get(Dt);if(!Yt){var er={loading:0,preload:null};if(Yt=At.querySelector(Oo(Dt)))er.loading=5;else{vt=yt({rel:"stylesheet",href:vt,"data-precedence":Et},wt),(wt=Mi.get(Dt))&&Xu(vt,wt);var sr=Yt=At.createElement("link");Pr(sr),Gn(sr,"link",vt),sr._p=new Promise(function(mr,Sr){sr.onload=mr,sr.onerror=Sr}),sr.addEventListener("load",function(){er.loading|=1}),sr.addEventListener("error",function(){er.loading|=2}),er.loading|=4,Fl(Yt,Et,At)}Yt={type:"stylesheet",instance:Yt,count:1,state:er},jt.set(Dt,Yt)}}}function r1(vt,Et){us.X(vt,Et);var wt=qa;if(wt&&vt){var At=zr(wt).hoistableScripts,jt=za(vt),Dt=At.get(jt);Dt||(Dt=wt.querySelector(Do(jt)),Dt||(vt=yt({src:vt,async:!0},Et),(Et=Mi.get(jt))&&Qu(vt,Et),Dt=wt.createElement("script"),Pr(Dt),Gn(Dt,"link",vt),wt.head.appendChild(Dt)),Dt={type:"script",instance:Dt,count:1,state:null},At.set(jt,Dt))}}function n1(vt,Et){us.M(vt,Et);var wt=qa;if(wt&&vt){var At=zr(wt).hoistableScripts,jt=za(vt),Dt=At.get(jt);Dt||(Dt=wt.querySelector(Do(jt)),Dt||(vt=yt({src:vt,async:!0,type:"module"},Et),(Et=Mi.get(jt))&&Qu(vt,Et),Dt=wt.createElement("script"),Pr(Dt),Gn(Dt,"link",vt),wt.head.appendChild(Dt)),Dt={type:"script",instance:Dt,count:1,state:null},At.set(jt,Dt))}}function qp(vt,Et,wt,At){var jt=(jt=Jt.current)?Nl(jt):null;if(!jt)throw Error(lt(446));switch(vt){case"meta":case"title":return null;case"style":return typeof wt.precedence=="string"&&typeof wt.href=="string"?(Et=Ba(wt.href),wt=zr(jt).hoistableStyles,At=wt.get(Et),At||(At={type:"style",instance:null,count:0,state:null},wt.set(Et,At)),At):{type:"void",instance:null,count:0,state:null};case"link":if(wt.rel==="stylesheet"&&typeof wt.href=="string"&&typeof wt.precedence=="string"){vt=Ba(wt.href);var Dt=zr(jt).hoistableStyles,Yt=Dt.get(vt);if(Yt||(jt=jt.ownerDocument||jt,Yt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Dt.set(vt,Yt),(Dt=jt.querySelector(Oo(vt)))&&!Dt._p&&(Yt.instance=Dt,Yt.state.loading=5),Mi.has(vt)||(wt={rel:"preload",as:"style",href:wt.href,crossOrigin:wt.crossOrigin,integrity:wt.integrity,media:wt.media,hrefLang:wt.hrefLang,referrerPolicy:wt.referrerPolicy},Mi.set(vt,wt),Dt||i1(jt,vt,wt,Yt.state))),Et&&At===null)throw Error(lt(528,""));return Yt}if(Et&&At!==null)throw Error(lt(529,""));return null;case"script":return Et=wt.async,wt=wt.src,typeof wt=="string"&&Et&&typeof Et!="function"&&typeof Et!="symbol"?(Et=za(wt),wt=zr(jt).hoistableScripts,At=wt.get(Et),At||(At={type:"script",instance:null,count:0,state:null},wt.set(Et,At)),At):{type:"void",instance:null,count:0,state:null};default:throw Error(lt(444,vt))}}function Ba(vt){return'href="'+Ei(vt)+'"'}function Oo(vt){return'link[rel="stylesheet"]['+vt+"]"}function Bp(vt){return yt({},vt,{"data-precedence":vt.precedence,precedence:null})}function i1(vt,Et,wt,At){vt.querySelector('link[rel="preload"][as="style"]['+Et+"]")?At.loading=1:(Et=vt.createElement("link"),At.preload=Et,Et.addEventListener("load",function(){return At.loading|=1}),Et.addEventListener("error",function(){return At.loading|=2}),Gn(Et,"link",wt),Pr(Et),vt.head.appendChild(Et))}function za(vt){return'[src="'+Ei(vt)+'"]'}function Do(vt){return"script[async]"+vt}function zp(vt,Et,wt){if(Et.count++,Et.instance===null)switch(Et.type){case"style":var At=vt.querySelector('style[data-href~="'+Ei(wt.href)+'"]');if(At)return Et.instance=At,Pr(At),At;var jt=yt({},wt,{"data-href":wt.href,"data-precedence":wt.precedence,href:null,precedence:null});return At=(vt.ownerDocument||vt).createElement("style"),Pr(At),Gn(At,"style",jt),Fl(At,wt.precedence,vt),Et.instance=At;case"stylesheet":jt=Ba(wt.href);var Dt=vt.querySelector(Oo(jt));if(Dt)return Et.state.loading|=4,Et.instance=Dt,Pr(Dt),Dt;At=Bp(wt),(jt=Mi.get(jt))&&Xu(At,jt),Dt=(vt.ownerDocument||vt).createElement("link"),Pr(Dt);var Yt=Dt;return Yt._p=new Promise(function(er,sr){Yt.onload=er,Yt.onerror=sr}),Gn(Dt,"link",At),Et.state.loading|=4,Fl(Dt,wt.precedence,vt),Et.instance=Dt;case"script":return Dt=za(wt.src),(jt=vt.querySelector(Do(Dt)))?(Et.instance=jt,Pr(jt),jt):(At=wt,(jt=Mi.get(Dt))&&(At=yt({},wt),Qu(At,jt)),vt=vt.ownerDocument||vt,jt=vt.createElement("script"),Pr(jt),Gn(jt,"link",At),vt.head.appendChild(jt),Et.instance=jt);case"void":return null;default:throw Error(lt(443,Et.type))}else Et.type==="stylesheet"&&(Et.state.loading&4)===0&&(At=Et.instance,Et.state.loading|=4,Fl(At,wt.precedence,vt));return Et.instance}function Fl(vt,Et,wt){for(var At=wt.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),jt=At.length?At[At.length-1]:null,Dt=jt,Yt=0;Yt<At.length;Yt++){var er=At[Yt];if(er.dataset.precedence===Et)Dt=er;else if(Dt!==jt)break}Dt?Dt.parentNode.insertBefore(vt,Dt.nextSibling):(Et=wt.nodeType===9?wt.head:wt,Et.insertBefore(vt,Et.firstChild))}function Xu(vt,Et){vt.crossOrigin==null&&(vt.crossOrigin=Et.crossOrigin),vt.referrerPolicy==null&&(vt.referrerPolicy=Et.referrerPolicy),vt.title==null&&(vt.title=Et.title)}function Qu(vt,Et){vt.crossOrigin==null&&(vt.crossOrigin=Et.crossOrigin),vt.referrerPolicy==null&&(vt.referrerPolicy=Et.referrerPolicy),vt.integrity==null&&(vt.integrity=Et.integrity)}var ql=null;function Vp(vt,Et,wt){if(ql===null){var At=new Map,jt=ql=new Map;jt.set(wt,At)}else jt=ql,At=jt.get(wt),At||(At=new Map,jt.set(wt,At));if(At.has(vt))return At;for(At.set(vt,null),wt=wt.getElementsByTagName(vt),jt=0;jt<wt.length;jt++){var Dt=wt[jt];if(!(Dt[Hr]||Dt[Pn]||vt==="link"&&Dt.getAttribute("rel")==="stylesheet")&&Dt.namespaceURI!=="http://www.w3.org/2000/svg"){var Yt=Dt.getAttribute(Et)||"";Yt=vt+Yt;var er=At.get(Yt);er?er.push(Dt):At.set(Yt,[Dt])}}return At}function Hp(vt,Et,wt){vt=vt.ownerDocument||vt,vt.head.insertBefore(wt,Et==="title"?vt.querySelector("head > title"):null)}function s1(vt,Et,wt){if(wt===1||Et.itemProp!=null)return!1;switch(vt){case"meta":case"title":return!0;case"style":if(typeof Et.precedence!="string"||typeof Et.href!="string"||Et.href==="")break;return!0;case"link":if(typeof Et.rel!="string"||typeof Et.href!="string"||Et.href===""||Et.onLoad||Et.onError)break;switch(Et.rel){case"stylesheet":return vt=Et.disabled,typeof Et.precedence=="string"&&vt==null;default:return!0}case"script":if(Et.async&&typeof Et.async!="function"&&typeof Et.async!="symbol"&&!Et.onLoad&&!Et.onError&&Et.src&&typeof Et.src=="string")return!0}return!1}function Up(vt){return!(vt.type==="stylesheet"&&(vt.state.loading&3)===0)}function a1(vt,Et,wt,At){if(wt.type==="stylesheet"&&(typeof At.media!="string"||matchMedia(At.media).matches!==!1)&&(wt.state.loading&4)===0){if(wt.instance===null){var jt=Ba(At.href),Dt=Et.querySelector(Oo(jt));if(Dt){Et=Dt._p,Et!==null&&typeof Et=="object"&&typeof Et.then=="function"&&(vt.count++,vt=Bl.bind(vt),Et.then(vt,vt)),wt.state.loading|=4,wt.instance=Dt,Pr(Dt);return}Dt=Et.ownerDocument||Et,At=Bp(At),(jt=Mi.get(jt))&&Xu(At,jt),Dt=Dt.createElement("link"),Pr(Dt);var Yt=Dt;Yt._p=new Promise(function(er,sr){Yt.onload=er,Yt.onerror=sr}),Gn(Dt,"link",At),wt.instance=Dt}vt.stylesheets===null&&(vt.stylesheets=new Map),vt.stylesheets.set(wt,Et),(Et=wt.state.preload)&&(wt.state.loading&3)===0&&(vt.count++,wt=Bl.bind(vt),Et.addEventListener("load",wt),Et.addEventListener("error",wt))}}var Ju=0;function o1(vt,Et){return vt.stylesheets&&vt.count===0&&Vl(vt,vt.stylesheets),0<vt.count||0<vt.imgCount?function(wt){var At=setTimeout(function(){if(vt.stylesheets&&Vl(vt,vt.stylesheets),vt.unsuspend){var Dt=vt.unsuspend;vt.unsuspend=null,Dt()}},6e4+Et);0<vt.imgBytes&&Ju===0&&(Ju=62500*Bg());var jt=setTimeout(function(){if(vt.waitingForImages=!1,vt.count===0&&(vt.stylesheets&&Vl(vt,vt.stylesheets),vt.unsuspend)){var Dt=vt.unsuspend;vt.unsuspend=null,Dt()}},(vt.imgBytes>Ju?50:800)+Et);return vt.unsuspend=wt,function(){vt.unsuspend=null,clearTimeout(At),clearTimeout(jt)}}:null}function Bl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vl(this,this.stylesheets);else if(this.unsuspend){var vt=this.unsuspend;this.unsuspend=null,vt()}}}var zl=null;function Vl(vt,Et){vt.stylesheets=null,vt.unsuspend!==null&&(vt.count++,zl=new Map,Et.forEach(l1,vt),zl=null,Bl.call(vt))}function l1(vt,Et){if(!(Et.state.loading&4)){var wt=zl.get(vt);if(wt)var At=wt.get(null);else{wt=new Map,zl.set(vt,wt);for(var jt=vt.querySelectorAll("link[data-precedence],style[data-precedence]"),Dt=0;Dt<jt.length;Dt++){var Yt=jt[Dt];(Yt.nodeName==="LINK"||Yt.getAttribute("media")!=="not all")&&(wt.set(Yt.dataset.precedence,Yt),At=Yt)}At&&wt.set(null,At)}jt=Et.instance,Yt=jt.getAttribute("data-precedence"),Dt=wt.get(Yt)||At,Dt===At&&wt.set(null,jt),wt.set(Yt,jt),this.count++,At=Bl.bind(this),jt.addEventListener("load",At),jt.addEventListener("error",At),Dt?Dt.parentNode.insertBefore(jt,Dt.nextSibling):(vt=vt.nodeType===9?vt.head:vt,vt.insertBefore(jt,vt.firstChild)),Et.state.loading|=4}}var $o={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:Nt,_currentValue2:Nt,_threadCount:0};function c1(vt,Et,wt,At,jt,Dt,Yt,er,sr){this.tag=1,this.containerInfo=vt,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=At,this.onUncaughtError=jt,this.onCaughtError=Dt,this.onRecoverableError=Yt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=sr,this.incompleteTransitions=new Map}function Gp(vt,Et,wt,At,jt,Dt,Yt,er,sr,mr,Sr,kr){return vt=new c1(vt,Et,wt,Yt,sr,mr,Sr,kr,er),Et=1,Dt===!0&&(Et|=24),Dt=hi(3,null,null,Et),vt.current=Dt,Dt.stateNode=vt,Et=Ic(),Et.refCount++,vt.pooledCache=Et,Et.refCount++,Dt.memoizedState={element:At,isDehydrated:wt,cache:Et},Dc(Dt),vt}function Wp(vt){return vt?(vt=xa,vt):xa}function Kp(vt,Et,wt,At,jt,Dt){jt=Wp(jt),At.context===null?At.context=jt:At.pendingContext=jt,At=bs(Et),At.payload={element:wt},Dt=Dt===void 0?null:Dt,Dt!==null&&(At.callback=Dt),wt=_s(vt,At,Et),wt!==null&&(si(wt,vt,Et),mo(wt,vt,Et))}function Zp(vt,Et){if(vt=vt.memoizedState,vt!==null&&vt.dehydrated!==null){var wt=vt.retryLane;vt.retryLane=wt!==0&&wt<Et?wt:Et}}function ed(vt,Et){Zp(vt,Et),(vt=vt.alternate)&&Zp(vt,Et)}function Yp(vt){if(vt.tag===13||vt.tag===31){var Et=Ws(vt,67108864);Et!==null&&si(Et,vt,67108864),ed(vt,67108864)}}function Xp(vt){if(vt.tag===13||vt.tag===31){var Et=xi();Et=Wn(Et);var wt=Ws(vt,Et);wt!==null&&si(wt,vt,Et),ed(vt,Et)}}var Hl=!0;function u1(vt,Et,wt,At){var jt=$t.T;$t.T=null;var Dt=zt.p;try{zt.p=2,td(vt,Et,wt,At)}finally{zt.p=Dt,$t.T=jt}}function d1(vt,Et,wt,At){var jt=$t.T;$t.T=null;var Dt=zt.p;try{zt.p=8,td(vt,Et,wt,At)}finally{zt.p=Dt,$t.T=jt}}function td(vt,Et,wt,At){if(Hl){var jt=rd(At);if(jt===null)Bu(vt,Et,At,Ul,wt),Jp(vt,At);else if(f1(jt,vt,Et,wt,At))At.stopPropagation();else if(Jp(vt,At),Et&4&&-1<h1.indexOf(vt)){for(;jt!==null;){var Dt=Nr(jt);if(Dt!==null)switch(Dt.tag){case 3:if(Dt=Dt.stateNode,Dt.current.memoizedState.isDehydrated){var Yt=An(Dt.pendingLanes);if(Yt!==0){var er=Dt;for(er.pendingLanes|=2,er.entangledLanes|=2;Yt;){var sr=1<<31-qr(Yt);er.entanglements[1]|=sr,Yt&=~sr}Vi(Dt),(mn&6)===0&&(Rl=Zr()+500,Po(0))}}break;case 31:case 13:er=Ws(Dt,2),er!==null&&si(er,Dt,2),Al(),ed(Dt,2)}if(Dt=rd(At),Dt===null&&Bu(vt,Et,At,Ul,wt),Dt===jt)break;jt=Dt}jt!==null&&At.stopPropagation()}else Bu(vt,Et,At,null,wt)}}function rd(vt){return vt=ic(vt),nd(vt)}var Ul=null;function nd(vt){if(Ul=null,vt=Ar(vt),vt!==null){var Et=ut(vt);if(Et===null)vt=null;else{var wt=Et.tag;if(wt===13){if(vt=ht(Et),vt!==null)return vt;vt=null}else if(wt===31){if(vt=ft(Et),vt!==null)return vt;vt=null}else if(wt===3){if(Et.stateNode.current.memoizedState.isDehydrated)return Et.tag===3?Et.stateNode.containerInfo:null;vt=null}else Et!==vt&&(vt=null)}}return Ul=vt,null}function Qp(vt){switch(vt){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case yr:return 2;case hr:return 8;case Tr:case Ir:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var sd=!1,Is=null,Ls=null,js=null,No=new Map,Fo=new Map,Os=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(vt,Et){switch(vt){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":No.delete(Et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(Et.pointerId)}}function qo(vt,Et,wt,At,jt,Dt){return vt===null||vt.nativeEvent!==Dt?(vt={blockedOn:Et,domEventName:wt,eventSystemFlags:At,nativeEvent:Dt,targetContainers:[jt]},Et!==null&&(Et=Nr(Et),Et!==null&&Yp(Et)),vt):(vt.eventSystemFlags|=At,Et=vt.targetContainers,jt!==null&&Et.indexOf(jt)===-1&&Et.push(jt),vt)}function f1(vt,Et,wt,At,jt){switch(Et){case"focusin":return Is=qo(Is,vt,Et,wt,At,jt),!0;case"dragenter":return Ls=qo(Ls,vt,Et,wt,At,jt),!0;case"mouseover":return js=qo(js,vt,Et,wt,At,jt),!0;case"pointerover":var Dt=jt.pointerId;return No.set(Dt,qo(No.get(Dt)||null,vt,Et,wt,At,jt)),!0;case"gotpointercapture":return Dt=jt.pointerId,Fo.set(Dt,qo(Fo.get(Dt)||null,vt,Et,wt,At,jt)),!0}return!1}function em(vt){var Et=Ar(vt.target);if(Et!==null){var wt=ut(Et);if(wt!==null){if(Et=wt.tag,Et===13){if(Et=ht(wt),Et!==null){vt.blockedOn=Et,qs(vt.priority,function(){Xp(wt)});return}}else if(Et===31){if(Et=ft(wt),Et!==null){vt.blockedOn=Et,qs(vt.priority,function(){Xp(wt)});return}}else if(Et===3&&wt.stateNode.current.memoizedState.isDehydrated){vt.blockedOn=wt.tag===3?wt.stateNode.containerInfo:null;return}}}vt.blockedOn=null}function Gl(vt){if(vt.blockedOn!==null)return!1;for(var Et=vt.targetContainers;0<Et.length;){var wt=rd(vt.nativeEvent);if(wt===null){wt=vt.nativeEvent;var At=new wt.constructor(wt.type,wt);nc=At,wt.target.dispatchEvent(At),nc=null}else return Et=Nr(wt),Et!==null&&Yp(Et),vt.blockedOn=wt,!1;Et.shift()}return!0}function tm(vt,Et,wt){Gl(vt)&&wt.delete(Et)}function p1(){sd=!1,Is!==null&&Gl(Is)&&(Is=null),Ls!==null&&Gl(Ls)&&(Ls=null),js!==null&&Gl(js)&&(js=null),No.forEach(tm),Fo.forEach(tm)}function Wl(vt,Et){vt.blockedOn===Et&&(vt.blockedOn=null,sd||(sd=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,p1)))}var Kl=null;function im(vt){Kl!==vt&&(Kl=vt,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,function(){Kl===vt&&(Kl=null);for(var Et=0;Et<vt.length;Et+=3){var wt=vt[Et],At=vt[Et+1],jt=vt[Et+2];if(typeof At!="function"){if(nd(At||wt)===null)continue;break}var Dt=Nr(wt);Dt!==null&&(vt.splice(Et,3),Et-=3,ru(Dt,{pending:!0,data:jt,method:wt.method,action:At},At,jt))}}))}function Va(vt){function Et(sr){return Wl(sr,vt)}Is!==null&&Wl(Is,vt),Ls!==null&&Wl(Ls,vt),js!==null&&Wl(js,vt),No.forEach(Et),Fo.forEach(Et);for(var wt=0;wt<Os.length;wt++){var At=Os[wt];At.blockedOn===vt&&(At.blockedOn=null)}for(;0<Os.length&&(wt=Os[0],wt.blockedOn===null);)em(wt),wt.blockedOn===null&&Os.shift();if(wt=(vt.ownerDocument||vt).$$reactFormReplay,wt!=null)for(At=0;At<wt.length;At+=3){var jt=wt[At],Dt=wt[At+1],Yt=jt[Sn]||null;if(typeof Dt=="function")Yt||im(wt);else if(Yt){var er=null;if(Dt&&Dt.hasAttribute("formAction")){if(jt=Dt,Yt=Dt[Sn]||null)er=Yt.formAction;else if(nd(jt)!==null)continue}else er=Yt.action;typeof er=="function"?wt[At+1]=er:(wt.splice(At,3),At-=3),im(wt)}}}function sm(){function vt(Dt){Dt.canIntercept&&Dt.info==="react-transition"&&Dt.intercept({handler:function(){return new Promise(function(Yt){return jt=Yt})},focusReset:"manual",scroll:"manual"})}function Et(){jt!==null&&(jt(),jt=null),At||setTimeout(wt,20)}function wt(){if(!At&&!navigation.transition){var Dt=navigation.currentEntry;Dt&&Dt.url!=null&&navigation.navigate(Dt.url,{state:Dt.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var At=!1,jt=null;return navigation.addEventListener("navigate",vt),navigation.addEventListener("navigatesuccess",Et),navigation.addEventListener("navigateerror",Et),setTimeout(wt,100),function(){At=!0,navigation.removeEventListener("navigate",vt),navigation.removeEventListener("navigatesuccess",Et),navigation.removeEventListener("navigateerror",Et),jt!==null&&(jt(),jt=null)}}}function ad(vt){this._internalRoot=vt}Zl.prototype.render=ad.prototype.render=function(vt){var Et=this._internalRoot;if(Et===null)throw Error(lt(409));var wt=Et.current,At=xi();Kp(wt,At,vt,Et,null,null)},Zl.prototype.unmount=ad.prototype.unmount=function(){var vt=this._internalRoot;if(vt!==null){this._internalRoot=null;var Et=vt.containerInfo;Kp(vt.current,2,null,vt,null,null),Al(),Et[bi]=null}};function Zl(vt){this._internalRoot=vt}Zl.prototype.unstable_scheduleHydration=function(vt){if(vt){var Et=hs();vt={blockedOn:null,target:vt,priority:Et};for(var wt=0;wt<Os.length&&Et!==0&&Et<Os[wt].priority;wt++);Os.splice(wt,0,vt),wt===0&&em(vt)}};var am=rt.version;if(am!=="19.2.0")throw Error(lt(527,am,"19.2.0"));zt.findDOMNode=function(vt){var Et=vt._reactInternals;if(Et===void 0)throw typeof vt.render=="function"?Error(lt(188)):(vt=Object.keys(vt).join(","),Error(lt(268,vt)));return vt=mt(Et),vt=vt!==null?gt(vt):null,vt=vt===null?null:vt.stateNode,vt};var m1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$t,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Or=Yl.inject(m1),$r=Yl}catch{}}return reactDomClient_production.createRoot=function(vt,Et){if(!ct(vt))throw Error(lt(299));var wt=!1,At="",jt=lf,Dt=cf,Yt=uf;return Et!=null&&(Et.unstable_strictMode===!0&&(wt=!0),Et.identifierPrefix!==void 0&&(At=Et.identifierPrefix),Et.onUncaughtError!==void 0&&(jt=Et.onUncaughtError),Et.onCaughtError!==void 0&&(Dt=Et.onCaughtError),Et.onRecoverableError!==void 0&&(Yt=Et.onRecoverableError)),Et=Gp(vt,1,!1,null,null,wt,At,null,jt,Dt,Yt,sm),vt[bi]=Et.current,qu(vt),new ad(Et)},reactDomClient_production.hydrateRoot=function(vt,Et,wt){if(!ct(vt))throw Error(lt(299));var At=!1,jt="",Dt=lf,Yt=cf,er=uf,sr=null;return wt!=null&&(wt.unstable_strictMode===!0&&(At=!0),wt.identifierPrefix!==void 0&&(jt=wt.identifierPrefix),wt.onUncaughtError!==void 0&&(Dt=wt.onUncaughtError),wt.onCaughtError!==void 0&&(Yt=wt.onCaughtError),wt.onRecoverableError!==void 0&&(er=wt.onRecoverableError),wt.formState!==void 0&&(sr=wt.formState)),Et=Gp(vt,1,!0,Et,wt??null,At,jt,sr,Dt,Yt,er,sm),Et.context=Wp(null),wt=Et.current,At=xi(),At=Wn(At),jt=bs(At),jt.callback=null,_s(wt,jt,At),wt=At,Et.current.lanes=wt,ci(Et,wt),Vi(Et),vt[bi]=Et.current,qu(vt),new Zl(Et)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ye(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ye)}catch(rt){console.error(rt)}}return Ye(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function AppRoutes(){return reactExports.useEffect(()=>{messageBus.dispatchMessage("ready",{});const Ye=()=>{messageBus.dispatchMessage("view-focused",{})};return window.addEventListener("focus",Ye),document.hasFocus()&&Ye(),()=>{window.removeEventListener("focus",Ye)}},[]),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(SignInPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/diff",element:jsxRuntimeExports.jsx(EditorDiffPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/file-preview",element:jsxRuntimeExports.jsx(FilePreviewPage,{})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(AuthedRoute,{}),children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HomePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/first-run",element:jsxRuntimeExports.jsx(FirstRunPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/local/:conversationId",element:jsxRuntimeExports.jsx(LocalConversationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/worktree-init/:worktreeId",element:jsxRuntimeExports.jsx(WorktreeInitPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/announcement",element:jsxRuntimeExports.jsx(AnnouncementPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/remote/:taskId",element:jsxRuntimeExports.jsx(RemoteConversationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(Navigate,{to:`/settings/${DEFAULT_SETTINGS_SECTION}`,replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/settings/:section",element:jsxRuntimeExports.jsx(SettingsPage,{})})]})]})}document.documentElement.dataset.codexWindowType="extension";document.documentElement.dataset.windowType="extension";clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AuthNonceProvider,{children:jsxRuntimeExports.jsx(QueryProvider,{children:jsxRuntimeExports.jsx(Provider$2,{store:tasksStore,children:jsxRuntimeExports.jsx(IntlProvider,{locale:"en",defaultLocale:"en",children:jsxRuntimeExports.jsx(MemoryRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(ToastManager,{children:jsxRuntimeExports.jsx(MessageHandler,{children:jsxRuntimeExports.jsx(CodexStatsigProvider,{children:jsxRuntimeExports.jsxs(ErrorBoundary,{name:"AppRoutes",children:[jsxRuntimeExports.jsx(NavigationHandler,{}),jsxRuntimeExports.jsx(ReviewSlashCommand,{}),jsxRuntimeExports.jsx(FeedbackSlashCommand,{}),jsxRuntimeExports.jsx(InitialRouteHandler,{children:jsxRuntimeExports.jsx(AppRoutes,{})})]})})})})})})})})})})}));export{commonDb_exports as $,rgba$1 as A,__export as B,setupGraphViewbox2 as C,cleanAndMerge as D,getConfig as E,defaultConfig_default as F,random$1 as G,selectSvgElement as H,package_default as I,JSON_SCHEMA as J,getThemeVariables3 as K,hasKatex as L,calculateMathMLDimensions as M,parseFontSize as N,getUrl as O,renderKatexSanitized as P,parseGenericTypes as Q,line$2 as R,curveBasis as S,generateId as T,lineBreakRegex as U,setupGraphViewbox as V,isDark as W,lighten as X,darken as Y,ZERO_WIDTH_SPACE as Z,__name as _,getAccTitle as a,styles2String as a$,withPath as a0,halfPi as a1,epsilon as a2,tau as a3,cos as a4,sin as a5,min as a6,abs$2 as a7,constant$1 as a8,pi as a9,positionEdgeLabel as aA,insertEdgeLabel as aB,baseRest as aC,isArrayLikeObject as aD,constant as aE,isFunction as aF,isEmpty as aG,computeDimensionOfText as aH,array as aI,getDefaultExportFromCjs as aJ,getIconSVG as aK,registerIconPacks as aL,unknownIcon as aM,constant$2 as aN,interpolateNumber as aO,interpolateRgb as aP,interpolateString as aQ,color$1 as aR,isObject$2 as aS,isIterateeCall as aT,keysIn as aU,eq as aV,isArrayLike as aW,isArray$7 as aX,identity as aY,isIndex as aZ,assignValue as a_,sqrt as aa,atan2 as ab,asin as ac,acos as ad,max as ae,getUserDefinedConfig as af,v4 as ag,insertCluster as ah,insertNode as ai,positionNode as aj,getLineFunctionsWithOffset as ak,evaluate as al,createText as am,getSubGraphTitleMargins as an,replaceIconSubstring as ao,decodeEntities as ap,getStylesFromArray as aq,Utils as ar,Color$1 as as,markers_default as at,clear2 as au,clear as av,clear$1 as aw,updateNodeBounds as ax,setNodeElem as ay,insertEdge as az,setAccTitle as b,isLabelStyle as b0,Rgb as b1,rgbConvert as b2,define as b3,extend$3 as b4,Color as b5,nogamma as b6,hue as b7,dayjs2 as b8,setToString as b9,isLength as bA,Set$1 as bB,createAssigner as bC,isPrototype as bD,__vitePreload as bE,overRest as ba,baseFor as bb,baseAssignValue as bc,baseUnary as bd,merge$1 as be,isObjectLike as bf,baseGetTag as bg,Symbol$1 as bh,arrayLikeKeys as bi,baseKeys as bj,memoize$1 as bk,isArguments as bl,copyObject as bm,getPrototype as bn,cloneArrayBuffer as bo,cloneTypedArray as bp,getTag as bq,nodeUtil as br,copyArray as bs,isBuffer as bt,cloneBuffer as bu,initCloneObject as bv,Stack as bw,MapCache as bx,Uint8Array$1 as by,isTypedArray as bz,getConfig2 as c,select as d,configureSvgSize as e,assignWithDepth_default as f,getAccDescription as g,calculateTextWidth as h,sanitizeText as i,distExports as j,common_default as k,log as l,calculateTextHeight as m,setConfig2 as n,getRegisteredLayoutAlgorithm as o,setDiagramTitle as p,getDiagramTitle as q,render$1 as r,setAccDescription as s,load as t,utils_default as u,isValidShape as v,wrapLabel as w,getEdgeId as x,clear$2 as y,defaultConfig2 as z};
